System.register("chunks:///_virtual/__.ts",["cc","./FrontYard.ts"],(function(t){var n,r;return{setters:[function(t){n=t.cclegacy},function(t){r=t.FrontYard}],execute:function(){n._RF.push({},"f2f87rfempMSrnbyLZqfuJU","__",void 0);t("q",(function(){this.fy=r}));n._RF.pop()}}}));

System.register("chunks:///_virtual/AbbotBasicZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./KongfuBasicZombie.ts","./Tombs.ts","./Zombies.ts"],(function(t){var o,a,n,r,e,c,s,i;return{setters:[function(t){o=t.inheritsLoose,a=t.createClass},function(t){n=t.cclegacy,r=t._decorator},function(t){e=t.KongfuBasicZombie,c=t.KongfuBasicProps},function(t){s=t.TombEnum},function(t){i=t.ZombieEnum}],execute:function(){var u;n._RF.push({},"e6dafCXtKlLuowdjpPCmr5u","AbbotBasicZombie",void 0);var b=r.ccclass,f=(r.property,function(t){function a(){for(var o,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(o=t.call.apply(t,[this].concat(n))||this).ZombieTypesToSummonBecomingFlag=["abbot","abbot_armor1","abbot_armor2"],o}return o(a,t),a}(c));t("AbbotBasicZombie",b("AbbotBasicZombie")(u=function(t){function n(){for(var o,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(o=t.call.apply(t,[this].concat(n))||this)._objdataOwn=new f,o._objdataOwnOrg=new f,o}o(n,t);var r=n.prototype;return r.transByRack=function(t){switch(t.ID){case s.kongfu_rack_helmet:this.throwAllArmors(),this.addArmor("kongfu_armor3");break;case s.kongfu_rack_flag:this.transIntoZombie(i.abbot_flag);break;case s.kongfu_rack_torch:this.transIntoZombie(i.abbot_torch);break;case s.kongfu_rack_fan:this.transIntoZombie(i.abbot_fan)}t.die()},r.judgeTombDetectAsRack=function(t){switch(t.ID){case s.kongfu_rack_helmet:return!0;case s.kongfu_rack_flag:case s.kongfu_rack_fan:case s.kongfu_rack_torch:return this.haveArm}return!1},a(n,[{key:"objdataOwn",get:function(){return this._objdataOwn}},{key:"objdataOwnOrg",get:function(){return this._objdataOwnOrg}}]),n}(e))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/AbbotChiZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./CharacterManager.ts","./Square.ts","./SoundRescourses.ts","./Plants.ts","./Character.ts","./Projectiles.ts"],(function(n){var i,t,e,a,r,o,s,l,c,u,h,d,p,b,y,f,g,m,S,w,C;return{setters:[function(n){i=n.applyDecoratedDescriptor,t=n.inheritsLoose,e=n.initializerDefineProperty,a=n.assertThisInitialized,r=n.createClass,o=n.asyncToGenerator,s=n.regeneratorRuntime},function(n){l=n.cclegacy,c=n._decorator,u=n.AudioClip,h=n.dragonBones,d=n.Vec3,p=n.Vec2},function(n){b=n.Zombie,y=n.ZombieProps},function(n){f=n.Rectangle},function(n){g=n.Square},function(n){m=n.sounds},function(n){S=n.plants},function(n){w=n.CharacterType},function(n){C=n.ProjectileShootingFunctions}],execute:function(){var P,v,A,D,Z,L,j,z,O,k,I,R,F,q,B,T,_,x,E,N,W,M,H,V,X;l._RF.push({},"af6d3Yw0GpPmI8q3coviJKe","AbbotChiZombie",void 0);var G=c.ccclass,K=c.property,U=function(n){function i(){for(var i,t=arguments.length,e=new Array(t),a=0;a<t;a++)e[a]=arguments[a];return(i=n.call.apply(n,[this].concat(e))||this).PlantablePlants=["solarsage","cherry_bomb"],i.TimeBeforeFirst=6,i.TimeBetween=12,i.ChiType="abbot_chi",i}return t(i,n),i}(y);n("AbbotChiZombie",(P=G("AbbotChiZombie"),v=K([u]),A=K([u]),D=K([u]),Z=K([u]),L=K([u]),j=K([u]),z=K([u]),O=K([u]),k=K([u]),I=K([u]),R=K(h.ArmatureDisplay),P((B=i((q=function(n){function i(){for(var i,t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return(i=n.call.apply(n,[this].concat(r))||this)._objdataOwn=new U,i.PlantablePlants=[],i.isBrainEater=!1,i.knockBackable=!1,i.charging=!1,i.finalWaveVictoryCountdown=0,e(i,"stepSounds",B,a(i)),e(i,"taichiSounds",T,a(i)),e(i,"launchSaySounds",_,a(i)),e(i,"deathSaySounds",x,a(i)),e(i,"energySounds",E,a(i)),e(i,"headPopSounds",N,a(i)),e(i,"chargeSounds",W,a(i)),e(i,"sitSounds",M,a(i)),e(i,"launchSounds",H,a(i)),e(i,"windSounds",V,a(i)),i.ChargeCD=10,i.ChargeInterval=10,e(i,"taichi",X,a(i)),i}t(i,n);var l=i.prototype;return l.playWalk=function(n){void 0===n&&(n=0),this.isWalking=!1,this.body.currentAnimationName!=this.body.IdleAnm&&this.playIdle(n)},l.onObjdataSet=function(n){var i,t=this;this.PlantablePlants=[],null==(i=this._objdataOwn.PlantablePlants)||i.forEach((function(n){var i=S.getPlantEnumByCodename(n,!1);isNaN(i)||t.PlantablePlants.push(i)})),this.ChargeCD=this.ChargeInterval=this.objdataOwn.TimeBeforeFirst},l.playSandStorm=function(n,i){this.worldPositionX=n,this.playDirtSpawn(0)},l.CanBeScaredByTyranno=function(){return!1},l.specialDisblowable=function(n){return!n},l.onRoaredByTyranno=function(n){},l.specialZombieKnockbackable=function(){return!1},l.allowPlantInSquare=function(n){return-1==this.PlantablePlants.indexOf(n)},l.specialZombieUpdateForced=function(n,i,t,e){},l.chargeEnd=function(){this.charging=!1,this.body.playAnimation("Charge_End",1)},l.attack=function(){this.switching=!0,this.ChargeCD=this.objdataOwn.TimeBetween,this.body.playAnimation("Attack",1)},l.detectFlower=function(n){},l.specialZombieUpdate=function(n,i,t){var e=1-this.ChargeCD/this.ChargeInterval,a=e>0;this.taichi.node.active=a,this.taichi.node.scale=new d(e,e,1),this.charging&&(this.ChargeCD-=n,this.ChargeCD<=0&&t>0&&this.chargeEnd())},l.chargeStart=function(){this.switching=!0,this.ChargeCD=this.objdataOwn.TimeBetween,this.body.playAnimation("Charge_Start",1)},l.detectPlant=function(n){if(0!=n&&this.inLane&&this.detectPlantOn())if(this.ChargeCD>0)this.chargeStart();else{var i=this.inLane.tombPool(this.hypnotized?0:1),t=this.hypnotized?this.inLane.zombiePool():this.inLane.hypnoZombiePool(),e=this.hypnotized?[]:this.inLane.plantPool(),a=f.createRectangleSide(new p(this.worldPositionX,this.inLane.midY),-11*g.SquareWidth*Math.sign(this.scale),g.SquareHeight);(i.some((function(n){return a.judgeCrossRec(n.bodyRec)}))||e.some((function(n){return a.judgeCrossRec(n.bodyRec)}))||t.some((function(n){return a.judgeCrossRec(n.bodyRecForShooter)})))&&this.attack()}},l.specialZombieOnEnable=function(){this.switching=!1,this.depthScale=25,this.charging=!0},l.killOthers=function(){var n,i,t,e=this;null==(n=this.inLnC.gridZombiesInSquare)||n.concat().forEach((function(n){n!=e&&e.isAlive()&&n.playDie()}));var a=!0;null==(i=this.inLnC.getAllPlants())||i.forEach((function(n){n.kill(),n.isAlive()&&(a=!1)})),null==(t=this.inLnC)||null==(t=t.tombStone)||t.die(),a||this.playDie()},l.onLaneSpawnSettled=function(n,i){this.worldPositionX=g.getSquareWorldPosition(0,this.reversed?0:8).x,this.judgeInLnC(),this.playDirtSpawn(0)},l.playDirtSpawn=function(n,i){this.judgeInLnC(),this.dirtSpawning&&this.endDirtSpawn(),this.body.playAnimation("Spawn",1/0),this.bodyRecHiddenCD=.5,this.switching=!0},l.onPutDirectly=function(n){this.playDirtSpawn(0)},l.playSpecialZombieDie=function(n){this.judgeDeath(0),m.playArray(this.headPopSounds,1,.1),m.playArray(this.deathSaySounds,1,.1)},l.playSpecialZombieDieForced=function(){this.removeFromLnC(this.inLnC),this.taichi.node.active=!1},l.removeFromLnC=function(n){if(n){var i=n.gridZombiesInSquare.indexOf(this);-1!=i&&n.gridZombiesInSquare.splice(i,1),n.readIndex()}},l.specialZombieOnSquareChange=function(n,i){this.removeFromLnC(n),i&&this.isAlive()&&(-1==i.gridZombiesInSquare.indexOf(this)&&i.gridZombiesInSquare.push(this),i.readIndex())},l._launch=function(){var n=o(s().mark((function n(){return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,C.shootOnePea(this.objdataOwn.ChiType,this.worldPosition,1,this.inLane.prjLayer,new p(-8*Math.sign(this.scale),0),this.hypnotized?w.zombie:w.plant);case 2:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}(),l.specialAnimationListener=function(n){"ready"==n.name?m.playArray(this.chargeSounds,1,.1):"steady"==n.name?m.playArray(this.energySounds,1,.1):"step"==n.name?m.playArray(this.stepSounds,1,.1):"taichi"==n.name?m.playArray(this.taichiSounds,1,.1):"fly"==n.name?(this.flying=!0,this.currentFlyZombie=!0):"charge"==n.name?(m.playArray(this.sitSounds,1,.1),this.charging=!0):"launch"==n.name?(m.playArray(this.launchSounds,1,.1),m.playArray(this.windSounds,1,NaN,.5),this._launch()):"smash"==n.name&&(m.playArray(this.launchSaySounds,1,.1),this.killOthers())},l.lockedTimeScale=function(){return this.currentFlyZombie?1:NaN},l.specialZombieOnLoad=function(){},r(i,[{key:"objdataOwn",get:function(){return this._objdataOwn}},{key:"plantDetectorRec",get:function(){return new f}}]),i}(b)).prototype,"stepSounds",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),T=i(q.prototype,"taichiSounds",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=i(q.prototype,"launchSaySounds",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),x=i(q.prototype,"deathSaySounds",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),E=i(q.prototype,"energySounds",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),N=i(q.prototype,"headPopSounds",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),W=i(q.prototype,"chargeSounds",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),M=i(q.prototype,"sitSounds",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),H=i(q.prototype,"launchSounds",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),V=i(q.prototype,"windSounds",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),X=i(q.prototype,"taichi",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=q))||F));l._RF.pop()}}}));

System.register("chunks:///_virtual/AbbotFanStorm.ts",["./rollupPluginModLoBabelHelpers.js","cc","./commonShot.ts","./Character.ts","./Projectiles.ts","./NodePools.ts"],(function(i){var t,e,n,a,o,s,r,h,c,l,b,d,u,C;return{setters:[function(i){t=i.applyDecoratedDescriptor,e=i.inheritsLoose,n=i.initializerDefineProperty,a=i.assertThisInitialized,o=i.createClass},function(i){s=i.cclegacy,r=i._decorator,h=i.Prefab},function(i){c=i.commonShot},function(i){l=i.CharacterType,b=i.Character},function(i){d=i.ProjectileProps},function(i){u=i.NodePools,C=i.instantiatePooly}],execute:function(){var p,m,y,f,k;s._RF.push({},"17846MExqVC8ZarqnnLWLn5","AbbotFanStorm",void 0);var A=r.ccclass,g=r.property,P=function(i){function t(){for(var t,e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return(t=i.call.apply(i,[this].concat(n))||this).MaxCarryingZombies=1,t.DiesWhenLosingZombies=!0,t}return e(t,i),t}(d);i("AbbotFanStorm",(p=A("AbbotFanStorm"),m=g(h),p((k=t((f=function(i){function t(){for(var t,e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return(t=i.call.apply(i,[this].concat(o))||this)._objdata=new P,t.ZombiesCarried=[],t.popWhenStatic=!1,n(t,"back",k,a(t)),t.backCHA=void 0,t.deathPlayed=!1,t}e(t,i);var s=t.prototype;return s.specialOnDisable=function(){this.backCHA&&(u.destroyPooly(this.backCHA.node),this.backCHA=null)},s.hitFloor=function(i,t){},s.hitSky=function(){},s.hitSea=function(){},s.hitWater=function(){},s.detectEnemy=function(i){var t=this;if(!this.deathPlayed){0==this.linearVelocity.x&&this.playDeathAnm();var e=this.ZombiesCarried.concat();if(this.ZombiesCarried=this.ZombiesCarried.filter((function(i){return i.worldPosition=t.worldPosition,t.zombieCanbeCarried(i)})),this.objdataOwn.DiesWhenLosingZombies&&e.length>this.ZombiesCarried.length)this.playDeathAnm();else if(!(this.ZombiesCarried.length>=this.MaxCarryingZombies)){var n=this.enemyType==l.plant?this.inLane.hypnoZombiePool():this.inLane.zombiePool(),a=this.bodyRec();n=n.filter((function(i){return!!(t.ZombiesCarried.length<t.MaxCarryingZombies&&t.zombieCanbeCarried(i)&&a.judgeInRecP(i.worldPosition))&&(t.ZombiesCarried.push(i),!0)}))}}},s.zombieCanbeCarried=function(i){return i.isAlive()&&i.knockBackable&&i.specialZombieKnockbackable()&&i.isWalking&&i.shouldSpeedScale()>0},s.playDeathAnm=function(){this.deathPlayed||(this.deathPlayed=!0,this.db.playAnimation("Die",1/0),this.backCHA&&this.backCHA.db.playAnimation("Die",1/0))},s.animationListener=function(i){switch(i.name){case"die":this.fade()}},s.specialOnLaneChange=function(i,t){var e;null!=(e=this.backCHA)&&null!=(e=e.node)&&e.active?(t&&this.backCHA.node.setParent(t.dinoLayer,!0),this.backCHA.worldPosition=this.worldPosition,this.backCHA.scale=this.scale,this.backCHA.height_depth=this.height_depth):this.backCHA=null},s.specialUpdate=function(i){var t;null!=(t=this.backCHA)&&null!=(t=t.node)&&t.active?(this.backCHA.worldPosition=this.worldPosition,this.backCHA.scale=this.scale,this.backCHA.height_depth=this.height_depth):this.backCHA=null},s.characterOnEnable=function(){this.initialize(),this.ZombiesCarried=[],this.db.playAnimation("Idle",1/0),this.deathPlayed=!1,this.backCHA||(this.backCHA=C(this.back).getComponent(b),this.backCHA.node.parent=this.node.parent),this.backCHA.worldPosition=this.worldPosition,this.backCHA.scale=this.scale,this.backCHA.height_depth=this.height_depth},o(t,[{key:"objdataOwn",get:function(){return this._objdata}},{key:"MaxCarryingZombies",get:function(){return this.objdataOwn.MaxCarryingZombies}}]),t}(c)).prototype,"back",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=f))||y));s._RF.pop()}}}));

System.register("chunks:///_virtual/AbbotFanZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./SoundRescourses.ts","./ArrayGet.ts","./CharacterManager.ts","./Square.ts","./Projectiles.ts","./Character.ts"],(function(t){var e,n,i,o,a,r,s,c,u,l,h,d,b,m,p,f,g,S,y;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized,a=t.createClass,r=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){c=t.cclegacy,u=t._decorator,l=t.AudioClip,h=t.Vec2},function(t){d=t.Zombie,b=t.ZombieProps},function(t){m=t.sounds},function(t){p=t.ValueRange},function(t){f=t.Rectangle},function(t){g=t.Square},function(t){S=t.ProjectileShootingFunctions},function(t){y=t.CharacterType}],execute:function(){var w,j,O,A,D,v,k,C,P,_,F,M,Z;c._RF.push({},"ba8d9dGx61GmY0v5N5QaB5t","AbbotFanZombie",void 0);var R=u.ccclass,z=u.property,T=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))||this).TimeBeforeFirst=new p(4,3),e.TimeBetween=new p(6,5),e.StormType="abbot_fan_storm",e.StormMaxDistance=5,e.StormMinColumn=2,e.StormMovingTime=2,e}return n(e,t),e}(b);t("AbbotFanZombie",(w=R("AbbotFanZombie"),j=z([l]),O=z([l]),A=z([l]),D=z([l]),v=z([l]),w((P=e((C=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))||this)._objdataOwn=new T,e._objdataOwnOrg=new T,i(e,"openSounds",P,o(e)),i(e,"closeSounds",_,o(e)),i(e,"swingSounds",F,o(e)),i(e,"rotateSounds",M,o(e)),i(e,"launchSounds",Z,o(e)),e.StormCD=0,e}n(e,t);var c=e.prototype;return c.onObjdataSet=function(t){this.StormCD=p.getRandomFromRange(this.objdataOwn.TimeBeforeFirst)},c.specialZombieOnEnable=function(){this.body.IdleAnm="Idle_Display"},c.onLaneSpawnSettled=function(t,e){this.body.IdleAnm="Idle"},c.specialZombieOnDisable=function(){this.body.IdleAnm="Idle_Display"},c.getStormDistance=function(){var t=this.objdataOwn.StormMinColumn;return this.reversed&&(t=8-this.objdataOwn.StormMinColumn),Math.min(this.objdataOwn.StormMaxDistance*g.SquareWidth,Math.sign(this.scale)*(this.shadeWorldPosition.x-g.getSquareWorldPosition(0,t).x))},c.detectFriends=function(){var t=this,e=this.getStormDistance();if(!(e<=0)){var n=f.createRectangleSide(new h(this.shadeWorldPosition.x,this.inLane.midY),-e*Math.sign(this.scale),g.SquareHeight);return(this.hypnotized?this.inLane.hypnoZombiePool():this.inLane.zombiePool()).some((function(e){return e!=t&&e.knockBackable&&e.specialZombieKnockbackable()&&e.isWalking&&e.shouldSpeedScale()>0&&n.judgeInRecP(e.worldPosition)}))}},c.specialZombieUpdate=function(t,e,n){this.StormCD>0&&!this.switching&&(this.StormCD-=t),this.StormCD<=0&&!this.switching&&n>0&&this.detectFriends()&&(this.StormCD=p.getRandomFromRange(this.objdataOwn.TimeBetween),this.switching=!0,this.isWalking=!1,this.isEating=!1,this.correctShadeWP(.1),this.body.playAnimation("Attack",1/0,.1))},c.playSpecialZombieDie=function(t){this.switching&&this.judgeDeath()},c.specialAnimationListener=function(t){switch(t.name){case"swing":m.playArray(this.swingSounds,.7,.2,.3,!0);break;case"rotate":m.playArray(this.rotateSounds,1,NaN,.3,!0);break;case"open":m.playArray(this.openSounds,1,.2);break;case"close":m.playArray(this.closeSounds,1,.2);break;case"launch":this._launch()}},c._launch=function(){var t=r(s().mark((function t(){var e,n,i,o,a;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return m.playArray(this.launchSounds,.7,NaN,.3,!0),e=this.getStormDistance(),n=60*this.objdataOwn.StormMovingTime,i=-2*e/n*Math.sign(this.scale),o=this.scale,t.next=7,S.shootOnePea(this.objdataOwn.StormType,this.worldPosition,0,this.inLane.prjLayer,new h(i,0),this.hypnotized?y.plant:y.zombie);case 7:(a=t.sent).scale=o,a.deceleration=new h(-i/n,0),a.lIndex=-2,a.judgeInLnC();case 12:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),a(e,[{key:"objdataOwn",get:function(){return this._objdataOwn}},{key:"objdataOwnOrg",get:function(){return this._objdataOwnOrg}}]),e}(d)).prototype,"openSounds",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=e(C.prototype,"closeSounds",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=e(C.prototype,"swingSounds",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),M=e(C.prototype,"rotateSounds",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Z=e(C.prototype,"launchSounds",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=C))||k));c._RF.pop()}}}));

System.register("chunks:///_virtual/AbbotImpZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./SoundRescourses.ts","./ImpZombie.ts","./ArrayGet.ts","./Square.ts","./Character.ts"],(function(i){var e,t,n,o,a,s,r,l,h,d,c,u,p,b,S,y;return{setters:[function(i){e=i.applyDecoratedDescriptor,t=i.inheritsLoose,n=i.initializerDefineProperty,o=i.assertThisInitialized,a=i.createClass},function(i){s=i.cclegacy,r=i._decorator,l=i.AudioClip,h=i.Vec2,d=i.Vec3},function(i){c=i.ZombieProps},function(i){u=i.sounds},function(i){p=i.ImpZombie},function(i){b=i.ValueRange},function(i){S=i.Square},function(i){y=i.CharacterType}],execute:function(){var f,g,m,w,A,P,v,j,z,O,X,D,L;s._RF.push({},"ecdd4LjnZFC14ACvKLqG1qE","AbbotImpZombie",void 0);var C=r.ccclass,E=r.property,I=function(i){function e(){for(var e,t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return(e=i.call.apply(i,[this].concat(n))||this).ShieldColumn=new b(7,5),e.ShieldDuration=new b(12,10),e.ShieldingDamageScale=.5,e.ProjectileAbsorbingFactor=-150,e.IntroSpeedScale=4,e}return t(e,i),e}(c);i("AbbotImpZombie",(f=C("AbbotImp"),g=E([l]),m=E([l]),w=E([l]),A=E([l]),P=E([l]),f((z=e((j=function(i){function e(){for(var e,t=arguments.length,a=new Array(t),s=0;s<t;s++)a[s]=arguments[s];return(e=i.call.apply(i,[this].concat(a))||this)._objdataOwn=new I,e._objdataOwnOrg=new I,e.shieldX=0,n(e,"shieldSounds",z,o(e)),n(e,"shieldEndSounds",O,o(e)),n(e,"chargeSaySounds",X,o(e)),n(e,"leapSaySounds",D,o(e)),n(e,"leapSounds",L,o(e)),e.shielding=!1,e.shielded=!1,e.shieldCD=10,e}t(e,i);var s=e.prototype;return s.onObjdataSet=function(i){this.setShieldX()},s.setShieldX=function(){var i=b.getRandomFromRange(this.objdataOwn.ShieldColumn);this.reversed&&(i=8-i),this.shieldX=S.getSquareWorldPosition(0,i).x},s.onLaneSpawnSettled=function(i,e){this.setShieldX()},s.specialImpOnEnable=function(){this.shielding=!1,this.shielded=!1},s.specialAnimationListener=function(i){switch(i.name){case"shield":u.playArray(this.shieldSounds,1,.1),this.shielding=!0,this.shielded=!0,this.body.playAnimation("ShieldLoop",1/0)}},s.playDirtSpawn=function(i,e){var t=this.worldPositionX;u.playArray(this.leapSounds,1,.1),this.worldPositionX=this.reversed?S.zombieWinX-S.SquareWidth:S.zombieSpawnX,this.body.playAnimation("Fly",1/0),this.switching=!0,this.isWalking=!1;var n=t-this.worldPositionX;this.height_depth=180,this.leapTo(new h(t,this.worldPositionY),!0,.8,90*Math.sqrt(Math.abs(n)/S.SquareWidth),!0,!0,!0),this.shielded=!1},s.shieldStart=function(){this.shieldCD=b.getRandomFromRange(this.objdataOwn.ShieldDuration),this.correctShadeWP(),this.switching=!0,this.isWalking=!1,this.shielding=!1,this.body.playAnimation("ShieldStart",1/0)},s.shieldEnd=function(){this.correctShadeWP(),this.switching=!0,this.isWalking=!1,this.shielding=!1,u.playArray(this.shieldEndSounds,1,.1),this.body.playAnimation("ShieldEnd",1/0)},s.damageScale=function(i){return this.shielding?this.objdataOwn.ShieldingDamageScale:1},s.walkSpeedScaleExtra=function(){return this.shielded?1:this.objdataOwn.IntroSpeedScale},s.ImpPlayLandAnmNow=function(){return!this.shielding},s.specialZombieUpdate=function(i,e,t){var n=this;if(this.shielding){this.freeze=0,this.chill=0,this.perfume=0,this.chiliStun=0,this.stunned=0;var o=new d(this.worldPositionX,this.worldPositionY,this.height_depth+this.zombieHeight);S.getAllLane().forEach((function(i){i.prjPool().filter((function(i){return i.height>0&&i.canbeJesterReversed&&(n.hypnotized?i.enemyType==y.plant:i.enemyType==y.zombie)})).forEach((function(i){var t=new d(o.x-i.worldPositionX,o.y-i.worldPositionY,o.z-i.height_depth),a=t.length()/S.SquareWidth,s=n.objdataOwn.ProjectileAbsorbingFactor/Math.pow(a,2),r=t.clone().normalize().multiplyScalar(s*e);i.linearVelocity=i.linearVelocity.add(r.toVec2()),i.bodyLinearVelocity>0?i.bodyLinearVelocity+=r.z:i.bodyLinearVelocity=Math.min(i.bodyLinearVelocity+r.z,0)}))})),this.shieldCD-=e,this.shieldCD<=0&&t>0&&this.shieldEnd()}},s.specialZombieUpdateBeforePlantDetect=function(i,e,t){!this.switching&&!this.shielded&&t>0&&this.scale*(this.worldPositionX-this.shieldX)<=0&&this.shieldStart()},a(e,[{key:"objdataOwn",get:function(){return this._objdataOwn}},{key:"objdataOwnOrg",get:function(){return this._objdataOwnOrg}}]),e}(p)).prototype,"shieldSounds",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=e(j.prototype,"shieldEndSounds",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),X=e(j.prototype,"chargeSaySounds",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=e(j.prototype,"leapSaySounds",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=e(j.prototype,"leapSounds",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=j))||v));s._RF.pop()}}}));

System.register("chunks:///_virtual/AbbotTorchZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EgyptExplorerZombie.ts","./CharacterManager.ts","./Character.ts","./ParticleSelfdestroy.ts","./Square.ts","./NodePools.ts","./SoundRescourses.ts"],(function(i){var e,t,n,r,a,o,s,h,c,l,f,d,u,b,p,g,y,m,P,w;return{setters:[function(i){e=i.applyDecoratedDescriptor,t=i.inheritsLoose,n=i.initializerDefineProperty,r=i.assertThisInitialized,a=i.createClass},function(i){o=i.cclegacy,s=i._decorator,h=i.Prefab,c=i.AudioClip,l=i.Vec2},function(i){f=i.EgyptExplorerZombie,d=i.EgyptExplorerProps},function(i){u=i.Rectangle,b=i.ZombieDamageDetails,p=i.ZombieDamageType},function(i){g=i.Character},function(i){y=i.ParticleSelfdestroy},function(i){m=i.Square},function(i){P=i.instantiatePooly},function(i){w=i.sounds}],execute:function(){var S,C,D,E,L,j,R,A,F,Z,v;o._RF.push({},"ba5a3wIhFJHnrHX43WSqFEy","AbbotTorchZombie",void 0);var k=s.ccclass,O=s.property,z=function(i){function e(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=i.call.apply(i,[this].concat(n))||this).FlameDetectDistance=2.5,e.FlameAttackDistance=3,e.FireDuration=3,e}return t(e,i),e}(d);i("AbbotTorchZombieZombie",(S=k("AbbotTorchZombie"),C=O(h),D=O([c]),E=O([c]),L=O([c]),S((A=e((R=function(i){function e(){for(var e,t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return(e=i.call.apply(i,[this].concat(a))||this)._objdataOwn=new z,e._objdataOwnOrg=new z,n(e,"firePar",A,r(e)),n(e,"fireStartSounds",F,r(e)),n(e,"fireLoopSounds",Z,r(e)),n(e,"fireEndSounds",v,r(e)),e.fireCha=void 0,e.firePsd=void 0,e.firing=!1,e.fireCD=3,e}t(e,i);var o=e.prototype;return o.detectPlant=function(i){var e=this;if(this.inLane)if(this.ignited){if(this.firing){var t=this.objdataOwn.FireDPS,n=u.createRectangleSide(new l(this.shadeSocket.worldPosition.x,this.inLane.midY),-m.SquareWidth*this.objdataOwn.FlameAttackDistance*this.scale,m.SquareHeight),r=new b(t*i,!0,!1,!1,null,p.fire);i>0&&!this.ignorePlants()&&(this.inLane.tombPool(this.hypnotized?0:1).concat().forEach((function(i){n.judgeCrossRec(i.bodyRec)&&i.dealDamage(r)})),this.hypnotized?this.inLane.zombiePool().concat().forEach((function(a){n.judgeCrossRec(a.bodyRec)&&a.eatByZombie(r.replaceDamage(t*i),e)})):(this.inLane.plantPool().concat().forEach((function(i){n.judgeCrossRec(i.bodyRec)&&i.dealDamage(r.damage,3)})),this.inLane.hypnoZombiePool().concat().forEach((function(a){n.judgeCrossRec(a.bodyRec)&&a.eatByZombie(r.replaceDamage(t*i),e)}))))}this.detectPlantWithTorch(i)}else this.defaultDetectPlant(i);else this.playWalk()},o.burnsThoughSwitching=function(){return!0},o.specialZombieOnEnable=function(){this.ignite(),this.firing=!1,this.killFirePar()},o.fireEnd=function(i){void 0===i&&(i=0),this.isWalking=!1,this.isEating=!1,this.switching=!0,this.body.playAnimation("Breath_End",1/0,i),this.firing=!1,this.firePsd&&w.playArray(this.fireEndSounds,1,NaN,.2),this.killFirePar()},o.specialZombieOnLaneChange=function(i,e){this.firePsd&&e&&this.firePsd.node.setParent(e.prjLayer,!0)},o.killFirePar=function(){this.firePsd&&(this.firePsd.willBeKilled=!0,this.firePsd.db.playAnimation("Die")),this.firePsd=null,this.fireCha=null},o.specialAnimationListener=function(i){switch(i.name){case"fire":if(this.firing=!0,this.ignited&&this.isAlive()){var e=P(this.firePar);e.parent=this.inLane.prjLayer,this.fireCha=e.getComponent(g),this.firePsd=e.getComponent(y),this.fireCha.worldPosition=this.worldPosition,this.fireCha.scale=this.scale,w.playArray(this.fireStartSounds,1,NaN,.2)}else this.fireEnd(.1)}},o.specialZombieUpdate=function(i,e,t){if(this.firing&&this.ignited)this.fireCD-=i,this.fireCha&&(this.fireCha.worldPosition=this.worldPosition,this.fireCha.scale=this.scale,w.playArray(this.fireLoopSounds,1,NaN)),(this.fireCD<=0||t<=0)&&this.fireEnd();else if(this.firing&&this.fireEnd(),this.fireCha&&this.killFirePar(),!this.switching&&this.ignited&&t>0){var n=u.createRectangleSide(new l(this.shadeSocket.worldPosition.x,this.inLane.midY),-m.SquareWidth*this.objdataOwn.FlameDetectDistance*this.scale,m.SquareHeight);(this.inLane.tombPool(this.hypnotized?0:1).some((function(i){return n.judgeCrossRec(i.bodyRec)}))||!this.hypnotized&&this.inLane.plantPool().some((function(i){return i.damagable&&n.judgeCrossRec(i.bodyRec)}))||(this.hypnotized?this.inLane.zombiePool():this.inLane.hypnoZombiePool()).some((function(i){return n.judgeCrossRec(i.bodyRec)})))&&(this.switching=!0,this.isWalking=!1,this.isEating=!1,this.correctShadeWP(.1),this.body.playAnimation("Breath_Start",1/0,.1),this.fireCD=this.objdataOwn.FireDuration)}},o.playSpecialZombieDieForced=function(){this.killFirePar()},a(e,[{key:"objdataOwn",get:function(){return this._objdataOwn}},{key:"objdataOwnOrg",get:function(){return this._objdataOwnOrg}}]),e}(f)).prototype,"firePar",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=e(R.prototype,"fireStartSounds",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Z=e(R.prototype,"fireLoopSounds",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=e(R.prototype,"fireEndSounds",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j=R))||j));o._RF.pop()}}}));

System.register("chunks:///_virtual/AKEE.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SoundRescourses.ts","./CabbagePult.ts","./Square.ts","./Character.ts","./Projectiles.ts"],(function(o){var n,e,t,r,i,a,u,s,c,l,b,d,f,p,y,w,P;return{setters:[function(o){n=o.applyDecoratedDescriptor,e=o.inheritsLoose,t=o.initializerDefineProperty,r=o.assertThisInitialized,i=o.createClass,a=o.asyncToGenerator,u=o.regeneratorRuntime},function(o){s=o.cclegacy,c=o._decorator,l=o.AudioClip},function(o){b=o.sounds},function(o){d=o.cabbagePultSound,f=o.CabbagePultPlant,p=o.CabbagePultProps},function(o){y=o.Square},function(o){w=o.CharacterType},function(o){P=o.ProjectileShootingFunctions}],execute:function(){var h,g,m,v,L,j,x,k,A,C,R,S;s._RF.push({},"bba56yHWrhB8KuFiiuv/Gkw","AKEE",void 0);var E=c.ccclass,O=c.property,X=function(o){function n(){return o.apply(this,arguments)||this}return e(n,o),n}(p),z=(h=E("AKEESound"),g=O([l]),m=O([l]),h((j=n((L=function(o){function n(){for(var n,e=arguments.length,i=new Array(e),a=0;a<e;a++)i[a]=arguments[a];return n=o.call.apply(o,[this].concat(i))||this,t(n,"reload",j,r(n)),t(n,"foodLob",x,r(n)),n}e(n,o);var i=n.prototype;return i.playReload=function(){b.playArray(this.reload,.5,NaN,.5)},i.playFoodLob=function(){b.playArray(this.foodLob,1,NaN,.5)},n}(d)).prototype,"reload",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),x=n(L.prototype,"foodLob",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=L))||v);o("AKEEPlant",(k=E("AKEEPlant"),A=O(z),k((S=n((R=function(o){function n(){for(var n,e=arguments.length,i=new Array(e),a=0;a<e;a++)i[a]=arguments[a];return n=o.call.apply(o,[this].concat(i))||this,t(n,"soundRes",S,r(n)),n._objdataOwn=new X,n.lobberLobSoundVolume=.4,n}e(n,o);var s=n.prototype;return s.onObjdataSet=function(o,n){},s.foodLob=function(){var o=a(u().mark((function o(){var n,e,t=this;return u().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:this.soundRes.playFoodLob(),60,n=u().mark((function o(){var n,r,i;return u().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(!(n=y.getLane(e))){o.next=12;break}if(!(r=n.zombiePool().sort((function(o,n){return o.worldPositionX-n.worldPositionX})).find((function(o){return o&&o.lobberToPos(60).x>=t.worldPositionX&&o.bodyRec.prjX().y>t.worldPositionX})))){o.next=8;break}return o.next=6,P.lobOneCabbageOnZombie(t._objdataOwn.CabbageTypePlantfood,t.worldPosition,t.cabbageSpawnPoint.worldPosition.y-t.worldPositionY,t.inLane.prjLayer,r,.6666,w.zombie,!1,60,!1);case 6:o.next=12;break;case 8:if(!(i=n.tombPool().sort((function(o,n){return o.worldPositionX-n.worldPositionX})).find((function(o){return i&&!i.hidden&&i.worldPositionX>t.worldPositionX})))){o.next=12;break}return o.next=12,P.lobOneCabbageOnZombie(t._objdataOwn.CabbageTypePlantfood,t.worldPosition,t.cabbageSpawnPoint.worldPosition.y-t.worldPositionY,t.inLane.prjLayer,r,.6666,w.zombie,!1,60,!1);case 12:case"end":return o.stop()}}),o)})),e=0;case 4:if(!(e<5)){o.next=9;break}return o.delegateYield(n(),"t0",6);case 6:e++,o.next=4;break;case 9:case"end":return o.stop()}}),o,this)})));return function(){return o.apply(this,arguments)}}(),s.specialAnimationListener=function(o){switch(o.name){case"load":this.soundRes.playReload()}},i(n,[{key:"objdataOwn",get:function(){return this._objdataOwn}}]),n}(f)).prototype,"soundRes",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new z}}),C=R))||C));s._RF.pop()}}}));

System.register("chunks:///_virtual/akeeShot.ts",["./rollupPluginModLoBabelHelpers.js","cc","./cactusThorn.ts","./CharacterManager.ts","./Square.ts","./Character.ts","./Projectiles.ts"],(function(i){var t,e,n,o,r,s,a,h,c;return{setters:[function(i){t=i.inheritsLoose},function(i){e=i.cclegacy,n=i._decorator,o=i.Vec2},function(i){r=i.cactusThorn},function(i){s=i.Rectangle},function(i){a=i.Square},function(i){h=i.CharacterType},function(i){c=i.ProjectileShootingFunctions}],execute:function(){var l;e._RF.push({},"168a0dwaltPq5WozibZlwf9","akeeShot",void 0);var d=n.ccclass;n.property,i("akeeShot",d("akeeShot")(l=function(i){function e(){for(var t,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return(t=i.call.apply(i,[this].concat(n))||this).dealtEnemies=[],t}t(e,i);var n=e.prototype;return n.splat=function(i){i?(this.onZombieHit(i),this.onCactusThornHit(),this.playParticle(),this.playPopSound()):this.pop()},n.specialCactusThornOnEnable=function(){this.dealtEnemies=[]},n.onZombieHit=function(i){this.gravity=this.gravity>0?this.gravity:.666,this.dealtEnemies.push(i)},n.onPlantHit=function(i){this.gravity=this.gravity>0?this.gravity:.666,this.dealtEnemies.push(i)},n.onTombHit=function(i){this.gravity=this.gravity>0?this.gravity:.666,this.dealtEnemies.push(i)},n.onCactusThornHit=function(){var i=this;if(this.inLane){var t=s.createRectangleSide(new o(this.worldPositionX,this.inLane.midY),10*a.SquareWidth*(this.linearVelocity.x<0?-1:1),a.SquareHeight);if(this.enemyType==h.zombie){var e,n,r=null==(e=this.inLane)?void 0:e.zombiePool().sort((function(t,e){var n=(t.worldPositionX-e.worldPositionX)*i.linearVelocity.x;return 0==n?1:n})).find((function(e){return-1==i.dealtEnemies.indexOf(e)&&t.judgeCrossRec(e.bodyRec)}));if(r)return void c.lobOneCabbageOnZombieAccCS(this,this.worldPosition,this.height,this.node.parent,r,this.gravity,this.enemyType,!0,30,!1);var l=null==(n=this.inLane)?void 0:n.tombPool(0).sort((function(t,e){var n=(t.worldPositionX-e.worldPositionX)*i.linearVelocity.x;return 0==n?1:n})).find((function(e){return-1==i.dealtEnemies.indexOf(e)&&t.judgeCrossRec(e.bodyRec)}));return l?void c.lobOneCabbageOnNodeAccCS(this,this.worldPosition,this.height,this.node.parent,l.node,this.gravity,this.enemyType,!0,30):(this.bodyLinearVelocity*=-.5,void(this.bodyLinearVelocity=0==this.bodyLinearVelocity?this.bodyLinearVelocity:4))}if(this.enemyType==h.plant){var d,u=null==(d=this.inLane)?void 0:d.plantPool().sort((function(t,e){var n=(t.worldPositionX-e.worldPositionX)*i.linearVelocity.x;return 0==n?1:n})).find((function(e){return-1==i.dealtEnemies.indexOf(e)&&t.judgeCrossRec(e.bodyRec)}));return u?void c.lobOneCabbageOnNodeAccCS(this,this.worldPosition,this.height,this.node.parent,u.node,this.gravity,this.enemyType,!0,30):(this.bodyLinearVelocity*=-.5,void(this.bodyLinearVelocity=0==this.bodyLinearVelocity?this.bodyLinearVelocity:4))}this.bodyLinearVelocity*=-.5,this.bodyLinearVelocity=0==this.bodyLinearVelocity?this.bodyLinearVelocity:4}else this.bodyLinearVelocity*=-.5},n.zombieCanbeDetected=function(i){return-1==this.dealtEnemies.indexOf(i)},n.tombCanbeDetected=function(i){return-1==this.dealtEnemies.indexOf(i)},n.plantCanbeDetected=function(i){return-1==this.dealtEnemies.indexOf(i)},e}(r))||l);e._RF.pop()}}}));

System.register("chunks:///_virtual/Almanac.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MultiLanguage.ts","./Shovel.ts","./KeyListener.ts","./AlmanacPlantPage.ts","./SoundRescourses.ts","./AlmanacUpgradePage.ts","./AlmanacZombiePage.ts","./PlayerProperties.ts","./NPC_Controller.ts"],(function(n){var t,e,i,o,a,l,s,c,r,u,h,p,m,f,d,b,w,g,y,P,v;return{setters:[function(n){t=n.applyDecoratedDescriptor,e=n.inheritsLoose,i=n.initializerDefineProperty,o=n.assertThisInitialized},function(n){a=n.cclegacy,l=n._decorator,s=n.Node,c=n.AudioClip,r=n.input,u=n.Input,h=n.KeyCode,p=n.Component},function(n){m=n.MultiLanguage},function(n){f=n.Shovel},function(n){d=n.KeyListener},function(n){b=n.AlmanacPlantPage},function(n){w=n.sounds},function(n){g=n.AlmanacUpgradePage},function(n){y=n.AlmanacZombiePage},function(n){P=n.AllPlayerProperties},function(n){v=n.npc_controller}],execute:function(){var S,A,I,E,z,L,T,C,O,_,Z,R,U,W,N,D,B,x,F,M;a._RF.push({},"f190b5EqrZHmqR1TvnzwsES","Almanac",void 0);var K=l.ccclass,k=l.property;n("PlantAlmanacElement",(function(){this.TYPE="",this.NAME=new m,this.SORT=new m,this.VALUE=0})),n("PlantAlmanac",(function(){this.DisplayOffset={x:0,y:0},this.BriefIntroduction=new m,this.Elements=[],this.Introduction=new m,this.Special=[],this.Chat=new m})),n("ZombieAlmanacElement",(function(){this.TYPE="",this.SORT=new m,this.PROGRESS=.5})),n("ZombieAlmanac",(function(){this.DisplayScale={x:1,y:1},this.DisplayOffset={x:0,y:0},this.Elements=[],this.Introduction=new m,this.Special=[],this.Chat=new m})),n("Almanac",(S=K("Almanac"),A=k(b),I=k(y),E=k(g),z=k(s),L=k(c),T=k(f),C=k(f),O=k(f),S(((M=function(n){function t(){for(var t,e=arguments.length,a=new Array(e),l=0;l<e;l++)a[l]=arguments[l];return t=n.call.apply(n,[this].concat(a))||this,i(t,"almanacPlant",R,o(t)),i(t,"almanacZombie",U,o(t)),i(t,"almanacUpgrade",W,o(t)),i(t,"mouseListener",N,o(t)),i(t,"switchSound",D,o(t)),i(t,"plantIcon",B,o(t)),i(t,"zombieIcon",x,o(t)),i(t,"upgradeIcon",F,o(t)),t.currentWindow=0,t}e(t,n);var a=t.prototype;return a.isBusy=function(){var n;return(null==v||null==(n=v.CurrentFlow)?void 0:n.length)>0},a.exit=function(){this.isBusy()||d.darken((function(){d.goToLastScene()}))},a.switchToPlants=function(){var n,t,e;this.isBusy()||0!=this.currentWindow&&(null==(n=this.zombieIcon)||n.unchoose(),null==(t=this.upgradeIcon)||t.unchoose(),null==(e=this.plantIcon)||e.choose(),this.currentWindow=0,w.playOneShot(this.switchSound,1),this.almanacZombie.close(),this.almanacUpgrade.close(),this.almanacPlant.init())},a.switchToZombies=function(){var n,t,e;this.isBusy()||1!=this.currentWindow&&(null==(n=this.zombieIcon)||n.choose(),null==(t=this.upgradeIcon)||t.unchoose(),null==(e=this.plantIcon)||e.unchoose(),this.currentWindow=1,w.playOneShot(this.switchSound,1),this.almanacZombie.init(),this.almanacUpgrade.close(),this.almanacPlant.close())},a.switchToUpgrades=function(){var n,t,e;this.isBusy()||2!=this.currentWindow&&(null==(n=this.zombieIcon)||n.unchoose(),null==(t=this.plantIcon)||t.unchoose(),null==(e=this.upgradeIcon)||e.choose(),this.currentWindow=2,w.playOneShot(this.switchSound,1),this.almanacZombie.close(),this.almanacPlant.close(),this.almanacUpgrade.init())},a.start=function(){this.currentWindow=-1,this.switchToPlants();var n=P.getTutorialProps();this.mouseListener.on(s.EventType.MOUSE_DOWN,this.runNPC,this),this.npc_off(),n.almanac_intro||(n.almanac_intro=!0,this.mouseListener.active=!0,this.scheduleOnce((function(){var n=v.Getflow("ALMANAC_INTRO");v.SetFlow(n)}),1),P.savePP())},a.onLoad=function(){var n=this;t.component=this,r.on(u.EventType.KEY_DOWN,(function(t){t.keyCode==h.ESCAPE&&n.exit()}),this)},a.runNPC=function(n){var t;(null==v||null==(t=v.CurrentFlow)?void 0:t.length)>0&&v.RunFlow()},a.npc_off=function(){this.mouseListener&&(this.mouseListener.active=!1)},t}(p)).component=void 0,R=t((Z=M).prototype,"almanacPlant",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=t(Z.prototype,"almanacZombie",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=t(Z.prototype,"almanacUpgrade",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=t(Z.prototype,"mouseListener",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=t(Z.prototype,"switchSound",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=t(Z.prototype,"plantIcon",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=t(Z.prototype,"zombieIcon",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=t(Z.prototype,"upgradeIcon",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=Z))||_));a._RF.pop()}}}));

System.register("chunks:///_virtual/AlmanacElementForPlant.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MultiLanguage.ts","./Plants.ts"],(function(t){var e,a,i,r,n,l,o,s,c,g,u,p,m,S;return{setters:[function(t){e=t.applyDecoratedDescriptor,a=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){n=t.cclegacy,l=t._decorator,o=t.dragonBones,s=t.Label,c=t.SpriteFrame,g=t.Sprite,u=t.Component},function(t){p=t.MultiLanguage},function(t){m=t.plants,S=t.PlantEnum}],execute:function(){var A,b,P,y,T,h,E,k,O,f,L,N,R,F,I;n._RF.push({},"6a1e3UK7zFCGbaY28CYPpN/","AlmanacElementForPlant",void 0);var B=l.ccclass,C=l.property;t("AlmanacElementForPlant",(A=B("AlmanacElementForPlant"),b=C(o.ArmatureDisplay),P=C(s),y=C(s),T=C(o.ArmatureDisplay),h=C(c),E=C(c),A((f=e((O=function(t){function e(){for(var e,a=arguments.length,n=new Array(a),l=0;l<a;l++)n[l]=arguments[l];return e=t.call.apply(t,[this].concat(n))||this,i(e,"icon",f,r(e)),i(e,"nameLabel",L,r(e)),i(e,"valueLabel",N,r(e)),i(e,"familyIcon",R,r(e)),i(e,"bg0",F,r(e)),i(e,"bg1",I,r(e)),e}return a(e,t),e.prototype.setPlantElement=function(t,e,a){void 0===a&&(a=0);var i="",r="",n="SPECIAL",l="Nope";switch(t.TYPE){case"TOUGHNESS":i=p.getStringByPropsWithoutTricks("Almanac","Toughness"),n="TOUGHNESS",r=e==S.Imitater?"???":m.getPlantProps(e).Toughness.toString();break;case"SUNCOST":i=p.getStringByPropsWithoutTricks("Almanac","SunCost"),n="SUNCOST",r=e==S.Imitater?"???":m.getPlantProps(e).SunCost.toString();break;case"RECHARGE":i=p.getStringByPropsWithoutTricks("Almanac","Recharge"),n="COOLDOWN",r=e==S.Imitater?"???":m.getPlantProps(e).Cooldown.toString();break;case"DAMAGE":i=p.getStringByPropsWithoutTricks("Almanac","Damage"),n="DAMAGE",r=(+t.VALUE).toString(),null!=t&&t.SORT&&(r=p.getString(t.SORT,!1));break;case"FAMILY":i=p.getStringByPropsWithoutTricks("Almanac","Family"),n="FAMILY",l=m.getPlantProps(e).Family,r=p.getStringByPropsWithoutTricks("PlantFamily",l);break;case"RANGE":i=p.getStringByPropsWithoutTricks("Almanac","Range"),n="RANGE",r=p.getString(t.SORT,!1);break;case"AREA":i=p.getStringByPropsWithoutTricks("Almanac","Area"),n="AREA",r=p.getString(t.SORT,!1);break;case"ARMINGTIME":i=p.getStringByPropsWithoutTricks("Almanac","ArmingTime"),n="ARMINGTIME",r=(+t.VALUE).toString();break;case"PLANTFOOD":i=p.getStringByPropsWithoutTricks("Almanac","PlantFood"),n="PLANTFOOD",r=p.getString(t.SORT,!1);break;case"SUNPRODUCTION":i=p.getStringByPropsWithoutTricks("Almanac","SunProduction"),n="SUNPRODUCTION",r=isNaN(+t.VALUE)?p.getString(t.SORT,!1):(+t.VALUE).toString();break;default:i=p.getStringByPropsWithoutTricks("Almanac","Special"),r=p.getString(t.SORT,!1)}t.NAME&&(i=p.getString(t.NAME,!1)),this.nameLabel.string=i,this.valueLabel.string=r,this.icon.playAnimation(n),this.familyIcon.playAnimation(l);var o=this.bg0;a&&(o=this.bg1),this.getComponent(g).spriteFrame=o},e}(u)).prototype,"icon",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=e(O.prototype,"nameLabel",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=e(O.prototype,"valueLabel",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=e(O.prototype,"familyIcon",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=e(O.prototype,"bg0",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=e(O.prototype,"bg1",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=O))||k));n._RF.pop()}}}));

System.register("chunks:///_virtual/AlmanacElementForZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MultiLanguage.ts","./PlayerProperties.ts"],(function(e){var r,n,i,t,a,o,l,s,c,u,b,p;return{setters:[function(e){r=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,t=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,l=e.dragonBones,s=e.Label,c=e.ProgressBar,u=e.Component},function(e){b=e.MultiLanguage},function(e){p=e.ZombieKillProgress}],execute:function(){var m,g,y,S,f,E,h,P,L,v,A;a._RF.push({},"661f1W6ILRHNbVoRrqI2/YV","AlmanacElementForZombie",void 0);var w=o.ccclass,R=o.property;e("AlmanacElementForZombie",(m=w("AlmanacElementForZombie"),g=R(l.ArmatureDisplay),y=R(s),S=R(s),f=R(c),m((P=r((h=function(e){function r(){for(var r,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=e.call.apply(e,[this].concat(a))||this,i(r,"icon",P,t(r)),i(r,"nameLabel",L,t(r)),i(r,"valueLabel",v,t(r)),i(r,"bar",A,t(r)),r}return n(r,e),r.prototype.setZombieElement=function(e,r,n){var i,t="",a=.5,o="SPECIAL";switch(e.TYPE){case"TOUGHNESS":t=b.getStringByPropsWithoutTricks("Almanac","Toughness"),o="TOUGHNESS_ZOMBIE";break;case"SPEED":t=b.getStringByPropsWithoutTricks("Almanac","Speed"),o="SPEED"}i=b.getString(e.SORT),isNaN(e.PROGRESS)||(a=e.PROGRESS),a<0||n<p.known?a=0:a>1&&(a=1),this.nameLabel.string=n<p.known?"???":t,this.valueLabel.string=n<p.known?"???":i,this.bar.progress=a,this.icon.playAnimation(o)},r}(u)).prototype,"icon",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=r(h.prototype,"nameLabel",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=r(h.prototype,"valueLabel",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=r(h.prototype,"bar",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=h))||E));a._RF.pop()}}}));

System.register("chunks:///_virtual/AlmanacPlantPage.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plants.ts","./MultiLanguage.ts","./PlayerProperties.ts","./SoundRescourses.ts","./NodePools.ts","./CardFeatureTotal.ts","./cardSelectAlmanac.ts","./AnimationController.ts","./AlmanacElementForPlant.ts"],(function(t){var e,n,a,i,l,r,o,s,c,u,p,h,f,g,m,d,y,P,b,C,w,v,D,S,E,F,L,I,A,O,T;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,a=t.initializerDefineProperty,i=t.assertThisInitialized,l=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){o=t.cclegacy,s=t._decorator,c=t.Label,u=t.RichText,p=t.ScrollView,h=t.Node,f=t.Prefab,g=t.AudioClip,m=t.Sprite,d=t.Vec2,y=t.Component,P=t.Vec3,b=t.Color},function(t){C=t.plants},function(t){w=t.MultiLanguage},function(t){v=t.AllPlayerProperties},function(t){D=t.sounds},function(t){S=t.NodePools,E=t.instantiatePooly,F=t.destroyNodeArrayPooly,L=t.destroyPooly},function(t){I=t.CardFeatureTotal},function(t){A=t.cardSelectAlmanac},function(t){O=t.AnimationController},function(t){T=t.AlmanacElementForPlant}],execute:function(){var z,N,x,V,M,B,G,R,k,U,_,W,j,H,X,Y,q,J,K,Q,Z,$,tt,et,nt,at,it,lt,rt;o._RF.push({},"94a31j3WWVOk5OITYmU6XgU","AlmanacPlantPage",void 0);var ot=s.ccclass,st=s.property;t("AlmanacPlantPage",(z=ot("AlmanacPlantPage"),N=st(c),x=st(u),V=st(c),M=st(c),B=st(p),G=st(h),R=st(f),k=st(g),U=st(m),_=st(h),W=st(h),j=st(h),H=st(f),z((q=e((Y=function(t){function e(){for(var e,n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return e=t.call.apply(t,[this].concat(l))||this,a(e,"introductionLabel",q,i(e)),a(e,"specialLabel",J,i(e)),a(e,"chatLabel",K,i(e)),a(e,"plantNameLabel",Q,i(e)),e.waiting=!1,a(e,"scrollView",Z,i(e)),a(e,"elementParent",$,i(e)),a(e,"elementContainer",tt,i(e)),e.elementCPs=[],a(e,"switchSound",et,i(e)),a(e,"displayBG",nt,i(e)),a(e,"plantDisplayer",at,i(e)),e.plantDisplayed=void 0,a(e,"costumeScroller",it,i(e)),a(e,"cardsParent",lt,i(e)),a(e,"plantCardTemp",rt,i(e)),e.plantCFs=[],e.currentPlantCF=null,e}n(e,t);var o=e.prototype;return o.getSpecial=function(t){var e="";return t.Special.length&&t.Special.forEach((function(t,n){e+="\n"+w.getString(t.NAME,!1)+": <color=#ff0000>"+w.getString(t.DESCRIPTION)+"</color>"})),e},o.getIntroduction=function(t){var e="";return e+=w.getString(t.Introduction)},o.getChat=function(t){var e="\n";return e+=w.getString(t.Chat)},o.switchPlantID=function(){var t=l(r().mark((function t(e){var n,a,i;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.waiting=!0,this.plantCFs.forEach((function(t){var n=t.ca;n.chosen=t.ID==e,n.index=n.chosen?1:0})),n=C.getPlantAlmanac(e),this.plantNameLabel.string=w.getString(C.getPlantFeature(e).NAME),this.introductionLabel.string=this.getIntroduction(n),a=this.getSpecial(n),this.specialLabel.string=a,this.specialLabel.node.active=a.length>0,this.chatLabel.string=this.getChat(n),i=v.getPlantProgressByID(e),this.costumeScroller.active=i.costumes.length>0,t.next=13,this.getPlantDis(e,n,i.progress<=0);case 13:this.getPlantElements(e,n),D.playOneShot(this.switchSound,1,.1),this.waiting=!1;case 16:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),o.scrowL=function(){var t=this.scrollView.getScrollOffset();this.scrollView.scrollToOffset(new d(-(t.x+500),t.y),.2)},o.scrowR=function(){var t=this.scrollView.getScrollOffset();this.scrollView.scrollToOffset(new d(-(t.x-500),t.y),.2)},o.getPlantElements=function(t,e){var n=this;this.elementCPs.forEach((function(t){S.destroyPooly(t.node)})),this.elementCPs=[],e.Elements.forEach((function(e,a){var i=E(n.elementContainer);i.parent=n.elementParent;var l=i.getComponent(T);l.setPlantElement(e,t,Math.floor((a+1)/2)%2),n.elementCPs.push(l)}))},o.getPlantDis=function(){var t=l(r().mark((function t(e,n,a){var i,l,o,s,c,u;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===a&&(a=!1),F(this.plantDisplayer.children),t.next=4,C.getPlantsInCard(e,!0);case 4:l=t.sent,this.plantDisplayed=S.instantiatePooly(l.plantDIS),this.plantDisplayed.parent=this.plantDisplayer,this.plantDisplayed.position=new P(n.DisplayOffset.x,n.DisplayOffset.y,0),o=C.getPlantBGSprite(e),this.displayBG.spriteFrame=o,c=new b(s=a?122:255,s,s,255),this.displayBG.color=c,null==(u=this.plantDisplayed.getComponent(O))||null==(i=u.db)||null==(i=i.color)||i.set(s,s,s,255),null==u||u.readCostume(e);case 16:case"end":return t.stop()}}),t,this)})));return function(e,n,a){return t.apply(this,arguments)}}(),o.scrollPlantCos=function(){var t=this.plantDisplayed.getComponent(O);t&&t.rollCostumeUp(C.getPlantFeature(t.ID).COSTUME)},o.begin=function(){var t=l(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),o.start=function(){var t=this;this.waiting=!1,F(this.plantDisplayer.children),this.plantCFs.forEach((function(t){L(t.node)})),this.plantCFs=[],C.defaultPlantChooserOrder.forEach((function(e){var n=S.instantiatePooly(t.plantCardTemp);n.parent=t.cardsParent;var a=n.getComponent(I);a.cardGrouper(e),t.plantCFs.push(a);var i=a.getComponent(A);i.suncostShown=!1,i.almanacModeOn=!0,a.node.on(h.EventType.TOUCH_END,(function(n){t.waiting||a==t.currentPlantCF||(t.currentPlantCF=a,t.switchPlantID(e))}))})),this.costumeScroller.on(h.EventType.MOUSE_DOWN,(function(e){t.scrollPlantCos()}),this),this.currentPlantCF=this.plantCFs[0],this.switchPlantID(this.plantCFs[0].ID),this.plantCFs.forEach((function(t){t.ca.locked=0==v.getPlantProgressByID(t.oID).progress}))},o.init=function(){this.node.active=!0},o.close=function(){this.node.active=!1},e}(y)).prototype,"introductionLabel",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=e(Y.prototype,"specialLabel",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=e(Y.prototype,"chatLabel",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=e(Y.prototype,"plantNameLabel",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=e(Y.prototype,"scrollView",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=e(Y.prototype,"elementParent",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),tt=e(Y.prototype,"elementContainer",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),et=e(Y.prototype,"switchSound",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),nt=e(Y.prototype,"displayBG",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),at=e(Y.prototype,"plantDisplayer",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),it=e(Y.prototype,"costumeScroller",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),lt=e(Y.prototype,"cardsParent",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rt=e(Y.prototype,"plantCardTemp",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=Y))||X));o._RF.pop()}}}));

System.register("chunks:///_virtual/AlmanacUpgradeDisplay.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plants.ts","./MultiLanguage.ts","./PlayerProperties.ts","./Prizes.ts","./UpgradeTrophy.ts"],(function(e){var t,i,a,r,n,l,o,p,s,b,u,d,c,g,h,y,S,D;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,a=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){n=e.cclegacy,l=e._decorator,o=e.Sprite,p=e.Label,s=e.SpriteFrame,b=e.Button,u=e.Color,d=e.Component},function(e){c=e.plants},function(e){g=e.MultiLanguage},function(e){h=e.AllPlayerProperties,y=e.UpgradeProgress},function(e){S=e.prizeRes},function(e){D=e.UpgradeTrophy}],execute:function(){var f,w,B,F,L,m,U,P,v,z,A,E,I,G,R,O,_,M,T,N,C,k,x;n._RF.push({},"6ea46xGVnJA+7epLg6O0LLw","AlmanacUpgradeDisplay",void 0);var W=l.ccclass,j=l.property;e("AlmanacUpgradeDisplay",(f=W("AlmanacUpgradeDisplay"),w=j(D),B=j(o),F=j(p),L=j(p),m=j(p),U=j(s),P=j(s),v=j(s),z=j(s),A=j(b),f((G=t((I=function(e){function t(){for(var t,i=arguments.length,n=new Array(i),l=0;l<i;l++)n[l]=arguments[l];return t=e.call.apply(e,[this].concat(n))||this,a(t,"trophy",G,r(t)),a(t,"BGSprite",R,r(t)),a(t,"enableButtonLabel",O,r(t)),a(t,"titleLabel",_,r(t)),a(t,"descriptionLabel",M,r(t)),a(t,"enabledUpSF",T,r(t)),a(t,"enabledDownSF",N,r(t)),a(t,"disabledUpSF",C,r(t)),a(t,"disabledDownSF",k,r(t)),a(t,"enableButton",x,r(t)),t}i(t,e);var n=t.prototype;return n.switchUpgrade=function(e){var t=S.upgradeFeature()[e],i=c.getPlantBGSpriteByObtainWorld(t.OBTAINWORLD);this.BGSprite.spriteFrame=i,this.titleLabel.string=g.getString(t.NAME),this.descriptionLabel.string=g.getString(t.DESCRIPTION);var a=h.getUpgradeProgressByID(e),r=a.progress>y.locked;this.trophy.readID(e,r),this.readEnable(a),this.enableButtonLabel.node.parent.active=r;var n=r?255:150;this.trophy.almanacModeOn=!0,this.trophy.db.color=new u(n,n,n,255),this.BGSprite.color=new u(n,n,n,255)},n.readEnable=function(e){this.enableButton.disabledSprite=e.enabled?this.enabledUpSF:this.disabledUpSF,this.enableButton.normalSprite=e.enabled?this.enabledUpSF:this.disabledUpSF,this.enableButton.pressedSprite=e.enabled?this.enabledDownSF:this.disabledDownSF,this.enableButton.hoverSprite=e.enabled?this.enabledDownSF:this.disabledDownSF,this.enableButtonLabel.string=g.getDirectQuote(e.enabled?"[UPGRADE_ENABLED]":"[UPGRADE_DISABLED]")},n.switchEnable=function(){var e=h.getUpgradeProgressByID(this.trophy.ID);e.enabled?e.enabled=!1:e.enabled=!0,this.readEnable(e),h.savePP()},t}(d)).prototype,"trophy",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=t(I.prototype,"BGSprite",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=t(I.prototype,"enableButtonLabel",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=t(I.prototype,"titleLabel",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=t(I.prototype,"descriptionLabel",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=t(I.prototype,"enabledUpSF",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=t(I.prototype,"enabledDownSF",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=t(I.prototype,"disabledUpSF",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=t(I.prototype,"disabledDownSF",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=t(I.prototype,"enableButton",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=I))||E));n._RF.pop()}}}));

System.register("chunks:///_virtual/AlmanacUpgradePage.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NodePools.ts","./AlmanacUpgradeDisplay.ts","./Trophies.ts"],(function(e){var r,t,a,i,n,o,l,c,s,p,u,f,g,d;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,a=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){n=e.cclegacy,o=e._decorator,l=e.ScrollView,c=e.Prefab,s=e.Node,p=e.Vec2,u=e.Component},function(e){f=e.instantiatePooly},function(e){g=e.AlmanacUpgradeDisplay},function(e){d=e.UpgradeEnum}],execute:function(){var y,h,w,m,v,P,b,D,U;n._RF.push({},"68e6cwLGpNLtLk45a9s73DC","AlmanacUpgradePage",void 0);var V=o.ccclass,A=o.property;e("AlmanacUpgradePage",(y=V("AlmanacUpgradePage"),h=A(l),w=A(c),m=A(s),y((b=r((P=function(e){function r(){for(var r,t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return r=e.call.apply(e,[this].concat(n))||this,a(r,"scrollView",b,i(r)),a(r,"upgradeDisplayer",D,i(r)),a(r,"upgradeParent",U,i(r)),r}t(r,e);var n=r.prototype;return n.scrowL=function(){var e=this.scrollView.getScrollOffset();this.scrollView.scrollToOffset(new p(-(e.x+500),e.y),.2)},n.scrowR=function(){var e=this.scrollView.getScrollOffset();this.scrollView.scrollToOffset(new p(-(e.x-500),e.y),.2)},n.start=function(){for(var e=0;e<d.amount;e++){var r=f(this.upgradeDisplayer);r.parent=this.upgradeParent,r.getComponent(g).switchUpgrade(e)}},n.init=function(){this.node.active=!0},n.close=function(){this.node.active=!1},r}(u)).prototype,"scrollView",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=r(P.prototype,"upgradeDisplayer",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=r(P.prototype,"upgradeParent",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=P))||v));n._RF.pop()}}}));

System.register("chunks:///_virtual/AlmanacZombiePage.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plants.ts","./MultiLanguage.ts","./PlayerProperties.ts","./SoundRescourses.ts","./NodePools.ts","./Zombies.ts","./CardFeatureTotalZombie.ts","./AlmanacElementForZombie.ts","./cardSelectAlmanac.ts"],(function(e){var t,i,n,r,o,a,l,s,c,u,p,m,b,f,g,h,y,d,w,C,z,v,D,P,S,Z,F,L,A,E;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized,o=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){l=e.cclegacy,s=e._decorator,c=e.Label,u=e.RichText,p=e.ScrollView,m=e.Node,b=e.Prefab,f=e.AudioClip,g=e.Sprite,h=e.Vec2,y=e.Component,d=e.Vec3},function(e){w=e.plants},function(e){C=e.MultiLanguage},function(e){z=e.ZombieKillProgress,v=e.AllPlayerProperties},function(e){D=e.sounds},function(e){P=e.NodePools,S=e.instantiatePooly,Z=e.destroyPooly},function(e){F=e.zombies},function(e){L=e.CardFeatureTotalZombie},function(e){A=e.AlmanacElementForZombie},function(e){E=e.cardSelectAlmanac}],execute:function(){var x,O,I,T,N,k,B,V,R,G,M,_,K,H,U,W,j,X,q,J,Q,Y,$,ee,te,ie,ne;l._RF.push({},"cb13at04XFKgbVAT2SH9lm1","AlmanacZombiePage",void 0);var re=s.ccclass,oe=s.property;e("AlmanacZombiePage",(x=re("AlmanacZombiePage"),O=oe(c),I=oe(u),T=oe(c),N=oe(c),k=oe(p),B=oe(m),V=oe(b),R=oe(f),G=oe(g),M=oe(m),_=oe(m),K=oe(b),x((W=t((U=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,n(t,"introductionLabel",W,r(t)),n(t,"specialLabel",j,r(t)),n(t,"chatLabel",X,r(t)),n(t,"zombieNameLabel",q,r(t)),n(t,"scrollView",J,r(t)),n(t,"elementParent",Q,r(t)),n(t,"elementContainer",Y,r(t)),t.elementCPs=[],n(t,"switchSound",$,r(t)),n(t,"displayBG",ee,r(t)),n(t,"zombieDisplayer",te,r(t)),t.waiting=!1,n(t,"cardsParent",ie,r(t)),n(t,"zombieCardTemp",ne,r(t)),t.zombieCFs=[],t.currentZombieCF=null,t}i(t,e);var l=t.prototype;return l.getSpecial=function(e,t){if(t.progress<z.known)return"";var i="";return e.Special.length&&e.Special.forEach((function(e,t){i+="\n"+C.getString(e.NAME,!1)+": <color=#ff0000>"+C.getString(e.DESCRIPTION)+"</color>"})),i},l.getIntroduction=function(e,t){if(t.progress<z.known)return C.getStringByProps("Almanac","NeverDefeated");var i="";return i+=C.getString(e.Introduction)},l.getChat=function(e,t){if(t.progress<z.known)return"";var i="\n";return i+=C.getString(e.Chat)},l.switchZombieID=function(){var e=o(a().mark((function e(t){var i,n,r,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.zombieCFs.forEach((function(e){var i=e.ca;i&&(i.chosen=e.ID==t,i.index=i.chosen?1:0)})),i=F.getZombieAlmanac(t),n=v.getZombieKilledByID(t),this.zombieNameLabel.string=n.progress<z.known?"???":C.getString(F.getZombieFeature(t).NAME),this.introductionLabel.string=this.getIntroduction(i,n),r=this.getSpecial(i,n),this.specialLabel.string=r,this.specialLabel.node.active=r.length>0,this.chatLabel.string=this.getChat(i,n),o=n.progress,e.next=12,this.getZombieDis(t,i);case 12:this.getZombieElements(t,i,o),D.playOneShot(this.switchSound,1,.1),this.waiting=!1;case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),l.scrowL=function(){var e=this.scrollView.getScrollOffset();this.scrollView.scrollToOffset(new h(-(e.x+500),e.y),.2)},l.scrowR=function(){var e=this.scrollView.getScrollOffset();this.scrollView.scrollToOffset(new h(-(e.x-500),e.y),.2)},l.getZombieElements=function(e,t,i){var n=this;this.elementCPs.forEach((function(e){P.destroyPooly(e.node)})),this.elementCPs=[],t.Elements.forEach((function(t,r){if(!(r>1)){var o=S(n.elementContainer);o.parent=n.elementParent;var a=o.getComponent(A);a.setZombieElement(t,e,i),n.elementCPs.push(a)}}))},l.getZombieDis=function(){var e=o(a().mark((function e(t,i){var n,r,o,l,s,c,u,p,m=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.zombieDisplayer.destroyAllChildren(),e.next=3,F.getZombieCompByID(t,!0);case 3:n=e.sent,(r=n.node).parent=this.zombieDisplayer,o=0,l=0,i.DisplayOffset&&(i.DisplayOffset.x&&(o=i.DisplayOffset.x),i.DisplayOffset.y&&(l=i.DisplayOffset.y)),s=0,c=0,i.DisplayScale&&(i.DisplayScale.x&&(s=i.DisplayScale.x),i.DisplayScale.y&&(c=i.DisplayScale.y)),r.position=new d(o,l,0),r.scale=new d(.5*s,.5*c,1),function(e){e&&e.almanac(m.zombieDisplayer)}(n),u=F.getZombieFeature(t),p=w.getPlantBGSpriteByObtainWorld(u.OBTAINWORLD),this.displayBG.spriteFrame=p;case 19:case"end":return e.stop()}}),e,this)})));return function(t,i){return e.apply(this,arguments)}}(),l.start=function(){var e=this;this.zombieDisplayer.destroyAllChildren(),this.zombieCFs.forEach((function(e){Z(e.node)})),this.zombieCFs=[],F.AlmanacList.forEach((function(t){var i=P.instantiatePooly(e.zombieCardTemp);i.parent=e.cardsParent;var n=i.getComponent(L);n.cardGrouper(t);var r=v.getZombieKilledByID(t).progress<=0;n.isUnknown=r,e.zombieCFs.push(n);var l=n.getComponent(E);l.suncostShown=!1,l.almanacModeOn=!0,n.node.on(m.EventType.TOUCH_END,o(a().mark((function i(r){return a().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(e.waiting||n.isUnknown||n==e.currentZombieCF){i.next=5;break}return e.currentZombieCF=n,e.waiting=!0,i.next=5,e.switchZombieID(t);case 5:case"end":return i.stop()}}),i)}))),e)})),this.currentZombieCF=this.zombieCFs[0],this.switchZombieID(this.zombieCFs[0].ID)},l.init=function(){this.node.active=!0},l.close=function(){this.node.active=!1},t}(y)).prototype,"introductionLabel",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=t(U.prototype,"specialLabel",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=t(U.prototype,"chatLabel",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=t(U.prototype,"zombieNameLabel",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=t(U.prototype,"scrollView",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=t(U.prototype,"elementParent",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=t(U.prototype,"elementContainer",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=t(U.prototype,"switchSound",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ee=t(U.prototype,"displayBG",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),te=t(U.prototype,"zombieDisplayer",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ie=t(U.prototype,"cardsParent",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ne=t(U.prototype,"zombieCardTemp",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=U))||H));l._RF.pop()}}}));

System.register("chunks:///_virtual/AnimationController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NodePools.ts","./Character.ts","./PlayerProperties.ts"],(function(t){var e,i,n,o,a,r,s,l,c,u,h,p,d,m;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized,a=t.createClass},function(t){r=t.cclegacy,s=t._decorator,l=t.Prefab,c=t.dragonBones,u=t.Vec3,h=t.Component},function(t){p=t.NodePools},function(t){d=t.CharacterScale},function(t){m=t.AllPlayerProperties}],execute:function(){var f,b,y,D,C,P,B,v,S,g,w,A,I,F,k,E,U;r._RF.push({},"a97bbP1jrpAOKueZ/Uiwdhb","AnimationController",void 0);var N=s.ccclass,R=s.property;t("AnimationController",(f=N("AnimationController"),b=R({type:String}),y=R({type:[String],displayName:"Random Animations"}),D=R({type:Number}),C=R({type:l}),P=R({type:l}),B=R([String]),v=R(l),f((w=e((g=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return e=t.call.apply(t,[this].concat(a))||this,n(e,"IdleAnim",w,o(e)),n(e,"RandomAnim",A,o(e)),n(e,"RandRate",I,o(e)),e.timeScaleDefault=1,e.timeScale=1,n(e,"Vineback",F,o(e)),e.vinebackDB=null,n(e,"PotFront",k,o(e)),e.potFrontDB=null,n(e,"startHideSlotName",E,o(e)),n(e,"PlantUpper",U,o(e)),e.plantUpperDB=void 0,e.anmCompleteListenerDone=!1,e.db=null,e.willInitScaleOnEnable=!0,e.currentCos=-1,e.ID=0,e.selfFixTimeScale=!1,e}i(e,t);var r=e.prototype;return r.addVineBack=function(t){if(this.Vineback){var e=p.instantiatePooly(this.Vineback);e.parent=t,e.scale=this.node.scale,this.vinebackDB=e.getComponent(c.ArmatureDisplay),this.vinebackDB.customMaterial=this.db.customMaterial}this.playIdle()},r.addPotFront=function(t){if(this.PotFront){var e=p.instantiatePooly(this.PotFront);e.parent=t,e.scale=this.node.scale,this.potFrontDB=e.getComponent(c.ArmatureDisplay),this.potFrontDB.customMaterial=this.db.customMaterial}this.playIdle()},r.addPlantUpper=function(t){if(this.PlantUpper){var e=p.instantiatePooly(this.PlantUpper);e.parent=t,e.scale=this.node.scale,e.worldPosition=this.node.worldPosition,this.plantUpperDB=e.getComponent(c.ArmatureDisplay),this.plantUpperDB.customMaterial=this.db.customMaterial,this.playIdle()}},r.onDisable=function(){this.otherPartsDB.concat([this.plantUpperDB]).forEach((function(t){t&&p.destroyPooly(t.node)})),this.plantUpperDB=null},r.anmCompleteListenerOn=function(){var t=this;this.anmCompleteListenerDone||(this.anmCompleteListenerDone=!0,this.db.addEventListener(c.EventObject.COMPLETE,(function(){t.playIdle()}),this))},r.playAnimation=function(t,e,i,n,o){void 0===e&&(e=1),void 0===i&&(i=0),void 0===n&&(n=NaN),void 0===o&&(o=!1),isNaN(n)&&(n=this.timeScaleDefault),this.timeScale=n;var a=0;if(o){var r=this.db.armature().animation.lastAnimationState;a=r.currentTime/r.totalTime}this.bodyPartsDB.forEach((function(r){r&&(r.timeScale=n,i>0?r.armature().animation.fadeIn(t,i,e):o?r.armature().animation.gotoAndPlayByProgress(t,a,e):r.playAnimation(t,e))}))},r.playIdle=function(t,e,i){if(void 0===t&&(t=0),void 0===e&&(e=NaN),void 0===i&&(i=!1),0==Math.round(100*Math.random()/this.RandRate)&&this.RandomAnim.length>0){var n=Math.round(Math.random()*(this.RandomAnim.length-1));this.playAnimation(this.RandomAnim[n],1,t,e,i)}else this.playAnimation(this.IdleAnim,1,t,e,i)},r.randomAnimate=function(t){this.playIdle()},r.setTimeScale=function(t){this.bodyPartsDB.forEach((function(e){e.timeScale=t}))},r.throwAllBackNFront=function(){this.otherPartsDB.concat().forEach((function(t){p.destroyPooly(t.node)})),this.vinebackDB=null,this.potFrontDB=null},r.setBody=function(){this.db=this.node.getChildByName("Body").getComponent(c.ArmatureDisplay)},r.onLoad=function(){this.setBody()},r.onEnable=function(){this.throwAllBackNFront(),this.willInitScaleOnEnable&&(this.node.scale=new u(d,d,d)),this.timeScaleDefault=this.timeScale=.9+.2*Math.random(),this.willInitScaleOnEnable&&this.playIdle(),this.anmCompleteListenerOn();var t=this.db.armature();this.startHideSlotName.forEach((function(e){var i;null==(i=t.getSlot(e))||i._setDisplayIndex(-1)})),this.switchCostume(this.currentCos)},r.rollCostumeUpFree=function(t){this.currentCos++,this.currentCos>=t&&(this.currentCos=-1),this.switchCostume(this.currentCos)},r.rollCostumeDownFree=function(t){this.currentCos--,this.currentCos<-1&&(this.currentCos=t-1),this.switchCostume(this.currentCos)},r.rollCostumeUp=function(t){var e=m.getPlantProgressByID(this.ID),i=e.costumes.indexOf(this.currentCos);++i>=e.costumes.length?this.currentCos=-1:this.currentCos=e.costumes[i],this.switchCostume(this.currentCos),e.costume=this.currentCos,m.savePP()},r.switchCostume=function(t){var e="COS"+t.toString();this.currentCos=t,[this.db,this.potFrontDB,this.vinebackDB,this.plantUpperDB].forEach((function(i){i&&i.armature().getSlots().forEach((function(i){t>=0&&i.name.includes(e)?i._setDisplayIndex(0):i.name.includes("COS")&&i._setDisplayIndex(-1)}))}))},r.readCostume=function(t){var e=m.getPlantProgressByID(t);this.switchCostume(e.costume),this.ID=t},r.start=function(){this.db.timeScale=this.timeScaleDefault},r.fixTimeScale=function(t){var e=this;this.bodyPartsDB.forEach((function(i){i.timeScale=e.timeScale*t}))},r.update=function(t){var e=this;[this.potFrontDB,this.vinebackDB,this.plantUpperDB].forEach((function(t){t&&(t.node.worldPosition=e.db.node.worldPosition,t.node.worldRotation=e.db.node.worldRotation,t.node.worldScale=e.db.node.worldScale,t.customMaterial=e.db.customMaterial)})),this.selfFixTimeScale&&this.fixTimeScale(1)},a(e,[{key:"bodyPartsDB",get:function(){return this.otherPartsDB.concat(this.db?[this.db]:[],this.plantUpperDB?[this.plantUpperDB]:[])}},{key:"otherPartsDB",get:function(){var t=[];return this.vinebackDB&&t.push(this.vinebackDB),this.potFrontDB&&t.push(this.potFrontDB),t}}]),e}(h)).prototype,"IdleAnim",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"Idle"}}),A=e(g.prototype,"RandomAnim",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),I=e(g.prototype,"RandRate",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),F=e(g.prototype,"Vineback",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(g.prototype,"PotFront",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(g.prototype,"startHideSlotName",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),U=e(g.prototype,"PlantUpper",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=g))||S));r._RF.pop()}}}));

System.register("chunks:///_virtual/AnkyloDinosaur.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Dinosaur.ts","./SoundRescourses.ts","./Square.ts","./CharacterManager.ts","./ArrayGet.ts"],(function(i){var t,e,n,o,a,r,s,u,l,h,c,d,b,y,g,p,f;return{setters:[function(i){t=i.applyDecoratedDescriptor,e=i.inheritsLoose,n=i.initializerDefineProperty,o=i.assertThisInitialized,a=i.createClass},function(i){r=i.cclegacy,s=i._decorator,u=i.AudioClip,l=i.Node,h=i.Vec2},function(i){c=i.Dinosaur,d=i.DinosaurProps},function(i){b=i.sounds},function(i){y=i.Square},function(i){g=i.Rectangle},function(i){p=i.ValueRange,f=i.ArrayGet}],execute:function(){var m,S,w,k,A,P,v,I,L,O,Z,C,R,D,_,j,z,q,x,T,K,W,N,B,E;r._RF.push({},"b15f8a3vpZCaKGxcpY8EEJf","AnkyloDinosaur",void 0);var F=s.ccclass,M=s.property,Y=function(i){function t(){for(var t,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return(t=i.call.apply(i,[this].concat(n))||this).ZombiesToThrow=5,t.IdleColumn=8.8,t.ZombieFlingColumn=new p(1.8,2.3),t}return e(t,i),t}(d);i("AnkyloDinosaur",(m=F("AnkyloDinosaur"),S=M([u]),w=M([u]),k=M([u]),A=M([u]),P=M([u]),v=M([u]),I=M([u]),L=M([u]),O=M([u]),Z=M(l),C=M(l),m((_=t((D=function(i){function t(){for(var t,e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return(t=i.call.apply(i,[this].concat(a))||this)._objdataOwnOrg=new Y,t._objdataOwn=new Y,t.entering=!1,t.exiting=!1,t.LeftKickZombies=5,n(t,"throwSounds",_,o(t)),n(t,"reloadSounds",j,o(t)),n(t,"chargeSounds",z,o(t)),n(t,"introSaySounds",q,o(t)),n(t,"outroSaySounds",x,o(t)),n(t,"stepsSounds",T,o(t)),n(t,"shakeSounds",K,o(t)),n(t,"hitSounds",W,o(t)),n(t,"bounceSounds",N,o(t)),n(t,"hitPoint",B,o(t)),n(t,"bouncePoint",E,o(t)),t.walkXRange=new p(500,500),t}e(t,i);var r=t.prototype;return r.animationOnComplete=function(){this.switching=!1,this.leaving?this.chomp():this.LeftKickZombies<=0?this.playLeave():(this.playIdle(),this.detectZombie()&&this.playKick())},r.onReverseSet=function(i){this.setPosition()},r.onObjdataSet=function(i){this.setPosition(),this.LeftKickZombies=this.objdataOwn.ZombiesToThrow},r.getDefaultLaneParent=function(i){return i.hypnoZombieLayer},r.onLaneSpawnSettled=function(i){this.setPosition()},r.playIntro=function(){this.playSwitching();var i="Intro"+this.CharmedTail,t=0;this.entering&&(t=this.getCurrentAnimationProgress()),this.entering=!0,this.dbAnimation.gotoAndPlayByProgress(i,t,1)},r.playOutro=function(){this.playSwitching();var i="Outro"+this.CharmedTail,t=0;this.exiting&&(t=this.getCurrentAnimationProgress()),this.exiting=!0,this.dbAnimation.gotoAndPlayByProgress(i,t,1)},r.setPosition=function(){var i=this.objdataOwn.IdleColumn;isNaN(i)&&(i=8),this.reversed&&(i=8-i);var t=y.getSquareWorldPosition(0,i).x;this.worldPositionX=t},r.playSwitching=function(){this.switching=!0},r.playIdle=function(){this.switching=!1,this.entering=!1,this.exiting=!1,this.leaving=!1,this.db.playAnimation(this.IdleAnm,1)},r.getZombiesInRange=function(i){return this.inLane.zombiePool().concat(this.inLane.hypnoZombiePool()).filter((function(t){return t.knockBackable&&t.enteredLawn&&t.specialZombieKnockbackable()&&i.judgeCrossRec(t.bodyRec)}))},r.detectZombie=function(){if(this.inLane){var i=g.createRectangleSide(new h((this.charmed?this.bouncePoint:this.hitPoint).worldPosition.x-y.SquareWidth*(this.charmed?1.5:.75)/2*this.scale,this.inLane.midY),3*y.SquareWidth*this.scale,y.SquareHeight);return this.getZombiesInRange(i).length>0}},r.playKick=function(){this.playSwitching(),this.LeaveCD=this.objdataOwn.MaxWonderingTime,this.db.playAnimation("Kick"+this.CharmedTail,1)},r.specialDinosaurLeave=function(){this.playOutro()},r.animationListener=function(i){switch(i.name){case"shake":b.playArray(this.shakeSounds,1,.1);break;case"outro":b.playArray(this.outroSaySounds,1,NaN);break;case"intro":b.playArray(this.introSaySounds,1,NaN);break;case"steps":b.playArray(this.stepsSounds,1,.2);break;case"charge":b.playArray(this.chargeSounds,1,.2);break;case"reload":b.playArray(this.reloadSounds,1,.1);break;case"kick":b.playArray(this.hitSounds,1,.1),this.charmed||this._hit();break;case"bounce":b.playArray(this.bounceSounds,1,.1),this._bounce()}},r._bounce=function(){var i=this,t=g.createRectangleSide(new h(this.bouncePoint.worldPosition.x-y.SquareWidth*this.scale,this.inLane.midY),3*y.SquareWidth*this.scale,y.SquareHeight),e=this.getZombiesInRange(t);e.length&&b.playArray(this.throwSounds,1,.1),e.forEach((function(t){t.tossAway(3,new h(Math.sign(i.scale),.6)),i.LeftKickZombies--}))},r._hit=function(){var i=this,t=g.createRectangleSide(new h(this.hitPoint.worldPosition.x-y.SquareWidth/2*this.scale,this.inLane.midY),3*y.SquareWidth*this.scale,y.SquareHeight),e=this.getZombiesInRange(t);e.length&&b.playArray(this.throwSounds,1,.1),e.forEach((function(t){var e=p.getRandomFromRange(i.objdataOwn.ZombieFlingColumn);i.reversed&&(e=8-e);var n=y.getSquareWorldPosition(0,e).x;t.knockBackTo(new h(n,t.worldPositionY),!1,.7),t.knockedByAnkylo=-Math.sign(i.scale),i.LeftKickZombies--}))},r.onCharmedSet=function(i){this.entering?this.playIntro():this.exiting?this.playOutro():this.leaving||this.playIdle(),this.LeftKickZombies=this.objdataOwn.ZombiesToThrow},r.specialDinosaurDisplay=function(){this.playIntro()},r.specialDinosaurOnEnable=function(){this.playIdle(),this.playIntro()},a(t,[{key:"objdataOwn",get:function(){return this._objdataOwn}},{key:"objdataOwnOrg",get:function(){return this._objdataOwnOrg}},{key:"IdleAnm",get:function(){return f.getRandom(this.charmed?["Idle0_Charmed","Idle1_Charmed","Idle2_Charmed"]:["Idle0","Idle1","Idle2"])}}]),t}(c)).prototype,"throwSounds",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j=t(D.prototype,"reloadSounds",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=t(D.prototype,"chargeSounds",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),q=t(D.prototype,"introSaySounds",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),x=t(D.prototype,"outroSaySounds",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),T=t(D.prototype,"stepsSounds",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),K=t(D.prototype,"shakeSounds",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),W=t(D.prototype,"hitSounds",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),N=t(D.prototype,"bounceSounds",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B=t(D.prototype,"hitPoint",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=t(D.prototype,"bouncePoint",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=D))||R));r._RF.pop()}}}));

System.register("chunks:///_virtual/AppleMortar.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./CharacterManager.ts","./Square.ts","./Character.ts","./SoundRescourses.ts","./Projectiles.ts"],(function(o){var t,n,e,i,a,r,s,u,l,d,c,h,p,b,f,S,y,g,w,m;return{setters:[function(o){t=o.applyDecoratedDescriptor,n=o.inheritsLoose,e=o.initializerDefineProperty,i=o.assertThisInitialized,a=o.asyncToGenerator,r=o.regeneratorRuntime},function(o){s=o.cclegacy,u=o._decorator,l=o.AudioClip,d=o.Node,c=o.Vec2},function(o){h=o.Plant,p=o.PlantProps},function(o){b=o.Rectangle,f=o.ZombiePool,S=o.TombPool},function(o){y=o.Square},function(o){g=o.CharacterType},function(o){w=o.sounds},function(o){m=o.ProjectileShootingFunctions}],execute:function(){var P,L,_,C,v,R,A,j,O,D,E,F,z,T,x,M,B,G,I,N,q,Z;s._RF.push({},"37232ULxmVK/LhJc9iBJJeE","AppleMortar",void 0);var U=u.ccclass,X=u.property,Y=function(o){function t(){for(var t,n=arguments.length,e=new Array(n),i=0;i<n;i++)e[i]=arguments[i];return(t=o.call.apply(o,[this].concat(e))||this).ShootInterval=1.75,t.ShootIntervalAdditional=.25,t.StunDuration=.75,t.StunDurationPF=1,t.CabbageType="apple",t.CabbageTypePlantfood="apple_pf",t}return n(t,o),t}(p),k=(P=U("appleMortarSound"),L=X([l]),_=X([l]),C=X([l]),v=X([l]),R=X([l]),A=X([l]),P((D=t((O=function(){function o(){e(this,"lobSounds",D,this),e(this,"preLobSounds",E,this),e(this,"foodLobSounds",F,this),e(this,"loadSounds",z,this),e(this,"loadBGSounds",T,this),e(this,"foodStartSounds",x,this)}var t=o.prototype;return t.playLobSounds=function(){w.playArray(this.lobSounds,.5,.2)},t.playPreLobSounds=function(){w.playArray(this.preLobSounds,.5,.2)},t.playFoodLobSounds=function(){w.playArray(this.foodLobSounds,.5,.2)},t.playLoadSounds=function(){w.playArray(this.loadSounds,.5,.4)},t.playLoadBGSounds=function(){w.playArray(this.loadBGSounds,.5,.4)},t.playFoodStartSounds=function(){w.playArray(this.foodStartSounds,1,.2)},o}()).prototype,"lobSounds",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),E=t(O.prototype,"preLobSounds",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=t(O.prototype,"foodLobSounds",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=t(O.prototype,"loadSounds",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),T=t(O.prototype,"loadBGSounds",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),x=t(O.prototype,"foodStartSounds",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j=O))||j);o("AppleMortar",(M=U("AppleMortar"),B=X(d),G=X(k),M((q=t((N=function(o){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return t=o.call.apply(o,[this].concat(a))||this,e(t,"cabbageSpawnPoint",q,i(t)),e(t,"soundRes",Z,i(t)),t._objdataOwn=new Y,t.detector=new b,t._shooting=!1,t.shootCD=0,t}n(t,o);var s=t.prototype;return s.specialPlantOnSquareChange=function(o,t){t&&(this.detector=b.createRectangleNodeSide(t.node,y.SquareWidth*(9-this.inLnC.cIndex),3*y.SquareHeight))},s._lobAtZ=function(){var o=a(r().mark((function o(t,n,e){var i,a,s;return r().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return void 0===n&&(n=this._objdataOwn.CabbageType),void 0===e&&(e=!1),i=this.fooding?this._objdataOwn.StunDurationPF:this._objdataOwn.StunDuration,a=this._dmgScale,o.next=6,m.lobOneCabbageOnZombie(n,new c(this.cabbageSpawnPoint.worldPosition.x,this.worldPositionY),this.cabbageSpawnPoint.worldPosition.y-this.worldPositionY,this.inLane.prjLayer,t,.4444,g.zombie,e,60,!0);case 6:(s=o.sent).setStun(i),a&&s.setDamage(s.damage*a);case 9:case"end":return o.stop()}}),o,this)})));return function(t,n,e){return o.apply(this,arguments)}}(),s._lobAtN=function(){var o=a(r().mark((function o(t,n,e){var i;return r().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return void 0===n&&(n=this._objdataOwn.CabbageType),void 0===e&&(e=!1),i=this.fooding?this._objdataOwn.StunDurationPF:this._objdataOwn.StunDuration,o.next=5,m.lobOneCabbageOnNode(n,new c(this.cabbageSpawnPoint.worldPosition.x,this.worldPositionY),this.cabbageSpawnPoint.worldPosition.y-this.worldPositionY,this.inLane.prjLayer,t,.4444,g.zombie,e,60);case 5:o.sent.setStun(i);case 7:case"end":return o.stop()}}),o,this)})));return function(t,n,e){return o.apply(this,arguments)}}(),s._shoot=function(o,t){var n=this;if(void 0===t&&(t=this._objdataOwn.CabbageType),o){var e=null,i=null,a=1/0;o.zombiePool().forEach((function(o){o.worldPositionX<a&&n.detector.judgeCrossRec(o.bodyRec)&&(e=o,a=o.worldPositionX)})),e?this._lobAtZ(e,t):(a=1/0,o.tombPool().forEach((function(o){o.worldPositionX<a&&n.detector.judgeCrossRec(o.bodyRec)&&(i=o,a=o.worldPositionX)})),i?this._lobAtN(i.node,t):o.toRight&&this._lobAtN(o.toRight,t))}},s.detectEnemies=function(o){var t=this;if(!o)return!1;var n=!1;return o.zombiePool().forEach((function(o){n||t.detector.judgeCrossRec(o.bodyRec)&&(n=!0)})),!!n||(o.tombPool().forEach((function(o){n||t.detector.judgeCrossRec(o.bodyRec)&&(n=!0)})),!!n)},s.detectEnemies3=function(){return!!this.detectEnemies(this.inLane)||(!!this.detectEnemies(this.inLane.UpperLane)||!!this.detectEnemies(this.inLane.LowerLane))},s.specialPlantOnEnable=function(){this.shootCD=0,this._shooting=!1},s.waterable=function(){return!this._shooting},s.specialPlantFood=function(o){this._shooting=!1,this.anmControl.playAnimation("Food",2)},s.animationListener=function(o){"Shoot"==o.name?(this.soundRes.playLobSounds(),this._shoot(this.inLane),this._shoot(this.inLane.UpperLane),this._shoot(this.inLane.LowerLane),this._shooting=!1):"foodEnd"==o.name?this.foodEnd():"FoodShoot"==o.name?(this.foodLob(),this.soundRes.playFoodLobSounds()):"Ready"==o.name?this.soundRes.playPreLobSounds():"Load"==o.name?this.soundRes.playLoadSounds():"LoadBG"==o.name?this.soundRes.playLoadBGSounds():"FoodStart"==o.name&&this.soundRes.playFoodStartSounds()},s.foodLob=function(){var o=this;f.pool().concat().forEach((function(t){o._lobAtZ(t,o._objdataOwn.CabbageTypePlantfood,!0)})),S.pool().forEach((function(t){o._lobAtN(t.node,o._objdataOwn.CabbageTypePlantfood,!0)}))},s.specialPlantFoodEnd=function(){this.anmControl.playIdle()},s.animationOnComplete=function(){this._shooting=!1},s.specialPlantUpdate=function(o,t,n){this.fooding||(this.shootCD>0&&(this.shootCD-=o),this.shootCD<=0&&n>0&&this.detectEnemies3()&&(this.shootCD=this._objdataOwn.ShootInterval+Math.random()*this._objdataOwn.ShootIntervalAdditional,this._cdScale&&(this.shootCD*=this._cdScale),this.anmControl.playAnimation("Shoot",1,.1*this._cdScale,Math.max(1,1.5/this.shootCD)),this._shooting=!0))},t}(h)).prototype,"cabbageSpawnPoint",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=t(N.prototype,"soundRes",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=N))||I));s._RF.pop()}}}));

System.register("chunks:///_virtual/Armor.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Materials.ts","./SoundRescourses.ts","./levelController.ts","./KeyListener.ts"],(function(t){var e,i,s,n,r,o,h,a,l,u,c,g,p,d,f,m,v,y;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,s=t.initializerDefineProperty,n=t.assertThisInitialized,r=t.createClass},function(t){o=t.cclegacy,h=t._decorator,a=t.Enum,l=t.Prefab,u=t.AudioClip,c=t.dragonBones,g=t.Material,p=t.Color,d=t.Component},function(t){f=t.materialRes},function(t){m=t.sounds},function(t){v=t.LevelPlay},function(t){y=t.KeyListener}],execute:function(){var w,b,A,S,D,C,L,M,B;o._RF.push({},"b6eeddCxRlJeI4ZcFg9Q6At","Armor",void 0);var P=h.ccclass,k=h.property,z=t("ArmorProps",(function(){this.isMetal=!1,this.isIce=!1,this.Toughness=370,this.BowlingLevel=1})),H=function(t){return t[t.plastic=0]="plastic",t[t.shield=1]="shield",t[t.none=2]="none",t}(H||{});a(H);t("Armor",(w=P("Armor Features"),b=k(l),A=k({type:H,visible:function(){return this.damageSounds.length<=0}}),S=k([u]),w((L=e((C=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))||this).props=new z,e.ID=0,e.health=0,s(e,"armorDROP",L,n(e)),e.db=null,e.hurting=0,s(e,"hurtSoundType",M,n(e)),s(e,"damageSounds",B,n(e)),e.material=void 0,e.owner=void 0,e}i(e,t);var o=e.prototype;return o.setProps=function(t){var e=this;this.props=new z,Object.getOwnPropertyNames(t).forEach((function(i){null!=t[i]&&(e.props[i]=t[i])}))},o.isAlive=function(){return this.health>0&&this.owner},o.getDamageAccordingToBowlingLevel=function(t){if(t>0){if(this.toughness<=1||1==this.BowlingLevel)return this.health;var e=Math.round(this.BowlingLevel*this.health/this.toughness),i=Math.max(e-t,0)*Math.min(1/3,1/this.BowlingLevel)*this.toughness,s=this.health-i;return Math.max(s,0)}return 0},o.initialize=function(t,e){this.ID=t,this.owner=e,this.health=this.toughness},o.onLoad=function(){this.health=this.toughness,this.db=this.getComponent(c.ArmatureDisplay);var t=new g;t.initialize({effectAsset:f.addColorEffect,defines:{USE_TEXTURE:!0}}),this.material=t},o.onEnable=function(){this.hurting=0,this.health=this.toughness,this.setDisplay()},o.playHurtSound=function(){if(this.damageSounds.length)m.playArray(this.damageSounds);else switch(this.hurtSoundType){case H.plastic:m.playArmorHitPlastic();break;case H.shield:m.playArmorHitShield()}},o.shouldMaterial=function(){var t=new p(0,0,0,255);this.hurting>0&&(t.r+=10*this.hurting,t.g+=10*this.hurting,t.b+=10*this.hurting);var e=0;this.owner&&(this.owner.freeze>0||this.owner.chill>0||this.owner.iceblocked)&&(e=1),this.owner&&this.owner.glittering>0&&(t.r=194,t.g=0,t.b=178);var i=this.material.passes[0].getHandle("addColor");this.material.passes[0].setUniform(i,t);var s=this.material.passes[0].getHandle("chillColor");this.material.passes[0].setUniform(s,e);var n=this.material.passes[0].getHandle("goldColor");this.material.passes[0].setUniform(n,0),this.db.customMaterial=this.material},o.update=function(t){y.isInGame&&(this.hurting>0&&(this.hurting-=60*t),this.shouldMaterial(),this.shouldColor())},o.shouldColor=function(){var t=new p(255,255,255,255);this.owner&&(t=this.owner.db.color),this.db.color=t},o.dealDamage=function(t,e){var i,s;if(void 0===e&&(e=!0),t<=0)return this.health;var n=this.health;this.health-=t*v.zombieDamageReceiveScale;var r=this.health;return this.health<0&&(this.health=0),this.hurting=10,e&&this.playHurtSound(),this.setDisplay(),null==(i=this.owner)||i.onArmorDamaged(this,this.stage),null==(s=this.owner)||s.pushSunBeanHealth(n-this.health),r},o.setDisplay=function(){this.db.playAnimation("Broken"+this.stage.toString())},r(e,[{key:"toughness",get:function(){return this.props.Toughness}},{key:"BowlingLevel",get:function(){return this.props.BowlingLevel}},{key:"isIce",get:function(){return this.props.isIce}},{key:"isMetal",get:function(){return this.props.isMetal}},{key:"stage",get:function(){var t=0;return this.health>2*this.toughness/3?t=0:this.health<=2*this.toughness/3&&this.health>this.toughness/3?t=1:this.health<=this.toughness/3&&(t=2),t}}]),e}(d)).prototype,"armorDROP",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=e(C.prototype,"hurtSoundType",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return H.none}}),B=e(C.prototype,"damageSounds",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=C))||D));o._RF.pop()}}}));

System.register("chunks:///_virtual/Armors.ts",["./rollupPluginModLoBabelHelpers.js","cc","./JSONs.ts","./Armor.ts","./NodePools.ts"],(function(r){var o,e,t,a,n,m,i,s,u,c,_,p,f,d,l;return{setters:[function(r){o=r.applyDecoratedDescriptor,e=r.inheritsLoose,t=r.initializerDefineProperty,a=r.assertThisInitialized,n=r.asyncToGenerator,m=r.regeneratorRuntime},function(r){i=r.cclegacy,s=r._decorator,u=r.JsonAsset,c=r.Component,_=r.resources},function(r){p=r.PvZ2Object,f=r.PvZ2ObjectContainer},function(r){d=r.Armor},function(r){l=r.instantiatePooly}],execute:function(){var g,b,h,y,A;i._RF.push({},"e5554r+OABBIoqkx+eyZoWX","Armors",void 0);var v=s.ccclass,P=s.property,k=r("armorEnum",function(r){return r[r.modern_armor1=0]="modern_armor1",r[r.modern_armor2=1]="modern_armor2",r[r.modern_armor4=2]="modern_armor4",r[r.egypt_armor1=3]="egypt_armor1",r[r.egypt_armor2=4]="egypt_armor2",r[r.egypt_armor4=5]="egypt_armor4",r[r.future_armor1=6]="future_armor1",r[r.future_armor2=7]="future_armor2",r[r.future_armor4=8]="future_armor4",r[r.pirate_armor1=9]="pirate_armor1",r[r.pirate_armor2=10]="pirate_armor2",r[r.pirate_armor4=11]="pirate_armor4",r[r.cowboy_armor1=12]="cowboy_armor1",r[r.cowboy_armor2=13]="cowboy_armor2",r[r.cowboy_armor4=14]="cowboy_armor4",r[r.kongfu_armor1=15]="kongfu_armor1",r[r.kongfu_armor2=16]="kongfu_armor2",r[r.kongfu_armor3=17]="kongfu_armor3",r[r.dark_armor1=18]="dark_armor1",r[r.dark_armor2=19]="dark_armor2",r[r.dark_armor3=20]="dark_armor3",r[r.dark_armor4=21]="dark_armor4",r[r.beach_armor1=22]="beach_armor1",r[r.beach_armor2=23]="beach_armor2",r[r.beach_armor4=24]="beach_armor4",r[r.iceage_armor1=25]="iceage_armor1",r[r.iceage_armor2=26]="iceage_armor2",r[r.iceage_armor3=27]="iceage_armor3",r[r.iceage_armor4=28]="iceage_armor4",r[r.lostcity_armor1=29]="lostcity_armor1",r[r.lostcity_armor2=30]="lostcity_armor2",r[r.summer_armor1=31]="summer_armor1",r[r.summer_armor2=32]="summer_armor2",r[r.sky_armor1=33]="sky_armor1",r[r.sky_armor2=34]="sky_armor2",r[r.eighties_armor1=35]="eighties_armor1",r[r.eighties_armor2=36]="eighties_armor2",r[r.eighties_8bit_armor1=37]="eighties_8bit_armor1",r[r.eighties_8bit_armor2=38]="eighties_8bit_armor2",r[r.dino_armor1=39]="dino_armor1",r[r.dino_armor2=40]="dino_armor2",r[r.dino_armor3=41]="dino_armor3",r[r.dino_armor4=42]="dino_armor4",r[r.amount=43]="amount",r}({})),j=(r("ArmorFeature",(function(){this.CODENAME="",this.RES="",this.PROPS=""})),function(){}),O=r("armors",function(){function r(){}return r.loadArmor=function(){var r=n(m().mark((function r(o){var e,t;return m().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!j[o]){r.next=2;break}return r.abrupt("return",j[o]);case 2:if(!(t=null==(e=this.features[o])?void 0:e.RES)){r.next=7;break}return r.next=6,new Promise((function(r,e){_.load("armors/"+t+"ARMOR",(function(e,t){j[o]=t,r(t)}))}));case 6:return r.abrupt("return",r.sent);case 7:case"end":return r.stop()}}),r,this)})));return function(o){return r.apply(this,arguments)}}(),r.getArmorPFB=function(){var r=n(m().mark((function r(o){var e;return m().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.loadArmor(o);case 2:if(e=r.sent){r.next=6;break}return r.next=6,this.loadArmor(k.modern_armor1);case 6:return r.abrupt("return",e);case 7:case"end":return r.stop()}}),r,this)})));return function(o){return r.apply(this,arguments)}}(),r.getArmorPropsByRTID=function(r){var o,e,t=null==(o=p.getObjectsByRTID(r,"ArmorProperties")[0])?void 0:o.objdata;t||(t=null==(e=p.getObjects("modern_armor1",f.ArmorProps,"ArmorProperties")[0])?void 0:e.objdata);return t},r.getArmorProps=function(r){var o,e,t,a=null==(o=p.getObjects(r,f.CurrentLevel,"ArmorProperties")[0])?void 0:o.objdata;a||(a=null==(e=p.getObjects(r,f.ArmorProps,"ArmorProperties")[0])?void 0:e.objdata);a||(a=null==(t=p.getObjects("modern_armor1",f.ArmorProps,"ArmorProperties")[0])?void 0:t.objdata);return a},r.getArmorEnumWithProps=function(r){var o,e,t,a=null==(o=p.getObjects(r,f.CurrentLevel,"ArmorType")[0])?void 0:o.objdata;a||(a=null==(e=p.getObjects(r,f.ArmorTypes,"ArmorType")[0])?void 0:e.objdata);a||(a=null==(t=p.getObjects("modern_armor1",f.ArmorTypes,"ArmorType")[0])?void 0:t.objdata);var n=k[a.ArmorBaseOn];isNaN(n)&&(n=k.modern_armor1);var m=this.getArmorPropsByRTID(this.features[n].PROPS),i=this.getArmorPropsByRTID(a.Properties);return Object.getOwnPropertyNames(i).forEach((function(r){null!=i[r]&&(m[r]=i[r])})),{armor:n,props:m}},r.getArmor=function(){var r=n(m().mark((function r(o){var e,t,a,n;return m().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e=this.getArmorEnumWithProps(o),r.next=3,this.getArmorPFB(e.armor);case 3:return t=r.sent,a=l(t),(n=a.getComponent(d)).setProps(e.props),r.abrupt("return",{armor:n,id:e.armor,props:e.props});case 8:case"end":return r.stop()}}),r,this)})));return function(o){return r.apply(this,arguments)}}(),r}());O.features=[],O.res=void 0;r("Armors",(g=v("Armors"),b=P(u),g((A=o((y=function(r){function o(){for(var o,e=arguments.length,n=new Array(e),m=0;m<e;m++)n[m]=arguments[m];return o=r.call.apply(r,[this].concat(n))||this,t(o,"featureJson",A,a(o)),o}return e(o,r),o.prototype.onLoad=function(){O.res=this,O.features=this.featureJson.json.ARMORS},o}(c)).prototype,"featureJson",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=y))||h));i._RF.pop()}}}));

System.register("chunks:///_virtual/ArrayGet.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var r,t,e,i,o,a,u;return{setters:[function(n){r=n.applyDecoratedDescriptor,t=n.initializerDefineProperty,e=n.asyncToGenerator,i=n.regeneratorRuntime},function(n){o=n.cclegacy,a=n._decorator,u=n.Vec2}],execute:function(){var c,f,s,l,g,h,M;o._RF.push({},"9c962WV2bJMbLBUSIvLD+9u","ArrayGet",void 0);var p=a.ccclass,m=a.property,d=n("ArrayGet",function(){function n(){}return n.getRandom=function(n){if(null!=n&&n.length)return n[Math.floor(Math.random()*n.length)]},n.randomize=function(n){return null!=n&&n.length?n.concat().sort((function(n,r){return.5-Math.random()})):[]},n.sleep=function(){var n=e(i().mark((function n(r){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r<0&&(r=0),n.next=3,new Promise((function(n,t){setTimeout((function(){n(1)}),1e3*r)}));case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}}),n)})));return function(r){return n.apply(this,arguments)}}(),n.judgeSame=function(n,r){return n.length==r.length&&!n.some((function(n){return-1==r.indexOf(n)}))},n.getRandomByWeight=function(r){var t=[],e=0;r.forEach((function(n){var r=n.weight;t.push(e+r),e+=r}));for(var i=Math.random()*e,o=0;o<t.length;o++)if(i<t[o])return r[o].props;return n.getRandom(r).props},n.getPositionsFromStringMatrix=function(n){if(null==n||!n.length)return[];var r=[];return n.forEach((function(n,t){for(var e=0;e<n.length;e++){+n[e]&&r.push(new u(e,t))}})),r},n}());n("ValueRange",(c=p("ValueRange"),f=m(Number),s=m(Number),c((h=r((g=function(){function n(n,r){t(this,"Max",h,this),t(this,"Min",M,this),this.Max=n,this.Min=r}return n.getRandomFromRange=function(n){return Math.random()*(n.Max-n.Min)+n.Min},n.getProgress=function(n,r,t,e){void 0===t&&(t=!0),void 0===e&&(e=!0);var i=(r-n.Min)/(n.Max-n.Min);return t&&i<0&&(i=0),e&&i>1&&(i=1),i},n.getFromRangeByProgress=function(n,r){return r*(n.Max-n.Min)+n.Min},n.getRandomIntegerFromRange=function(n){var r=Math.sign(n.Max-n.Min);if(!r)return n.Max;var t=[],e=Math.ceil(n.Min);r<0&&(e+=1);for(var i=e;(n.Max-i)*r>=0;i+=r)t.push(i);return t.length?d.getRandom(t):(n.Min+n.Max)/2},n}()).prototype,"Max",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),M=r(g.prototype,"Min",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),l=g))||l));o._RF.pop()}}}));

System.register("chunks:///_virtual/BambooBusket.ts",["./rollupPluginModLoBabelHelpers.js","cc","./WallNut.ts"],(function(n){var t,a,e,i,s;return{setters:[function(n){t=n.inheritsLoose,a=n.createClass},function(n){e=n.cclegacy,i=n._decorator},function(n){s=n.WallNutPlant}],execute:function(){var o;e._RF.push({},"39bf28iIJBB6YthZP+ZKG8w","BambooBusket",void 0);var r=i.ccclass;i.property,n("BambooBusketPlant",r("BambooBusketPlant")(o=function(n){function e(){for(var t,a=arguments.length,e=new Array(a),i=0;i<a;i++)e[i]=arguments[i];return(t=n.call.apply(n,[this].concat(e))||this).spawnAnm="Spawn0",t.spawning=!1,t}t(e,n);var i=e.prototype;return i.onDamaged=function(n,t,a){for(var e=1;e<=3;e++)if(a<=this.toughness/3*e){this.setAnimation(3-e);break}},i.onSpawnedByBamboozleShot=function(){this.spawning=!0,this.anmControl.playAnimation(this.spawnAnm)},i.setArmor=function(n){},i.levelTaskWarnPlantLose=function(){return!1},i.plantCount=function(){return 0},i.replantableListensFirstAid=function(){return!1},i.specialWallnutOnEnable=function(){this.foodable=!1},i.animationOnComplete=function(){this.spawning=!1},i.setAnimation=function(n){if(void 0===n&&(n=0),this.hurtStage!=n){this.deathAnm="";var t,a=this.anmControl;switch(a.RandomAnim=[],this.hurtStage=n,n){case 1:this.spawnAnm="Spawn1",a.IdleAnim="Idle1";break;case 2:this.spawnAnm="Spawn2",a.IdleAnim="Idle2";break;default:this.spawnAnm="Spawn0",a.IdleAnim="Idle0",this.hurtStage=0}if(!this.dead)this.spawning?a.playAnimation(this.spawnAnm,1,0,NaN,!0):a.playIdle(0,NaN,!0),null==(t=this.plantInLnC)||t.readIndex()}},a(e,[{key:"suncost",get:function(){return 0}}]),e}(s))||o);e._RF.pop()}}}));

System.register("chunks:///_virtual/BambooShoots.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./SoundRescourses.ts","./CharacterManager.ts","./ParticleSelfdestroy.ts","./Character.ts","./Square.ts","./LnC.ts","./NodePools.ts"],(function(t){var n,a,i,o,e,s,c,r,l,h,u,b,d,f,g,m,p,y,k,w,P,C;return{setters:[function(t){n=t.applyDecoratedDescriptor,a=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized,e=t.createClass},function(t){s=t.cclegacy,c=t._decorator,r=t.AudioClip,l=t.Prefab,h=t.tween,u=t.Vec2},function(t){b=t.Plant,d=t.PlantProps},function(t){f=t.sounds},function(t){g=t.Rectangle,m=t.ZombieDamageDetails,p=t.ZombieDamageType},function(t){y=t.ParticleSelfdestroy},function(t){k=t.Character},function(t){w=t.Square},function(t){P=t.TileType},function(t){C=t.instantiatePooly}],execute:function(){var S,A,T,D,R,v,B,H,L,O,j,F,X,z,E,_,I,N,Z,x,q,W;s._RF.push({},"6985eFvANZFo4GeTZTAu3mc","BambooShoots",void 0);var M=c.ccclass,K=c.property,Y=function(t){function n(){for(var n,a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(n=t.call.apply(t,[this].concat(i))||this).Damage=15,n.DamagePlantfood=100,n.PlantfoodKnockBackDistance=1,n.PlantfoodTossChance=.3,n.AttackInterval=.3,n.AttackDistance=4,n.PlantfoodDistance=9,n}return a(n,t),n}(d),G=(S=M("BambooShootsSound"),A=K(r),T=K(r),D=K(r),R=K(r),v=K([r]),S((L=n((H=function(){function t(){i(this,"attackStart",L,this),i(this,"attackEnd",O,this),i(this,"foodStart",j,this),i(this,"foodEnd",F,this),i(this,"hit",X,this)}var n=t.prototype;return n.playAttackStart=function(){f.playOneShot(this.attackStart,1,NaN,.7)},n.playAttackEnd=function(){f.playOneShot(this.attackEnd,1,NaN,.7)},n.playFoodStart=function(){f.playOneShot(this.foodStart,1,NaN,.7)},n.playFoodEnd=function(){f.playOneShot(this.foodEnd,1,NaN,.7)},n.playHit=function(){f.playArray(this.hit,1,NaN,.5)},t}()).prototype,"attackStart",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=n(H.prototype,"attackEnd",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=n(H.prototype,"foodStart",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=n(H.prototype,"foodEnd",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=n(H.prototype,"hit",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B=H))||B);t("BambooShootsPlant",(z=M("BambooShootsPlant"),E=K(G),_=K(l),I=K(l),z((x=n((Z=function(t){function n(){for(var n,a=arguments.length,e=new Array(a),s=0;s<a;s++)e[s]=arguments[s];return n=t.call.apply(t,[this].concat(e))||this,i(n,"soundRes",x,o(n)),n._objdataOwn=new Y,n.attackTween=null,n.attacking=!1,n.contactingZombies=[],n.contactingTombs=[],i(n,"bambooPFB",q,o(n)),i(n,"bambooPFB_PF",W,o(n)),n.bambooCHA=void 0,n._attackingX=0,n.currentDX=0,n.attackCD=0,n.returning=!1,n}a(n,t);var s=n.prototype;return s.onObjdataSet=function(t,n){},s.specialPlantOnEnable=function(){this.returning=!1,this.contactingZombies=null,this.contactingTombs=null,this.attacking=!1,this.attackTween=null,this.eaterDetectable=!1},s.specialPlantDie=function(t){void 0===t&&(t=!1),this.attackTween&&(this.killBamboo(),this.playDeathParticle(this.inLnC),t||this.node.destroy())},s.specialPlantOnDisable=function(){this.killBamboo()},s.killBamboo=function(){if(this.attackTween&&this.attackTween.stop(),this.bambooCHA){var t=this.returning?"DieL":"DieR";this.bambooCHA.db.playAnimation(t,1/0);var n=this.bambooCHA.getComponent(y);n&&(n.willBeKilled=!0)}this.attackTween=null,this.bambooCHA=null},s.getAttackTargetX=function(){for(var t=(this.fooding?this.objdataOwn.PlantfoodDistance:this.objdataOwn.AttackDistance)*w.SquareWidth,n=this.worldPositionX+t,a=this.inLnC;a&&w.getSquareWorldPosition(a.lIndex,a.cIndex,0).x<n;)if((a=a.righter).getTileType()!=P.solid||!a.isInLawn()){n=Math.min(w.getSquareWorldPosition(a.lIndex,a.cIndex,0).x);break}return n},s.attack=function(){var t=this,n=this.getAttackTargetX(),a=this.fooding?this.bambooPFB_PF:this.bambooPFB,i=C(a);this.bambooCHA=i.getComponent(k),i.parent=this.inLane.zombieLayer,i.setSiblingIndex(0),this.bambooCHA.inLane=w.getLane(-2),this.attackingX=this.worldPositionX,this.returning=!1,this.attackTween=h(this).to(1,{attackingX:n},{easing:"quadInOut"}).call((function(){t.fooding?t.soundRes.playFoodEnd():t.soundRes.playAttackEnd(),t.contactingTombs=[],t.contactingZombies=[],t.bambooCHA&&t.bambooCHA.db.playAnimation("Turn",1/0),t.returning=!0})).to(1,{attackingX:this.worldPositionX},{easing:"quadInOut"}).call((function(){t.killBamboo(),t.fooding&&t.foodEnd(),t.anmControl.playAnimation("AttackEnd",1),t.attacking=!1})).start()},s.waterable=function(){return!this.attacking&&!this.attackTween},s.specialPlantFood=function(t){this.attackStart()},s.attackStart=function(){this.killBamboo(),this.attacking=!0,this.anmControl.playAnimation("AttackStart",1/0)},s.specialPlantUpdate=function(t,n,a){var i=this;if(a>0&&!this.attackTween&&(this.attacking||(this.attackCD-=t),!this.attacking&&this.attackCD<=0)){var o=this.worldPositionX-w.SquareWidth/2,e=g.createRectangleSide(new u(o,this.inLane.midY),this.getAttackTargetX()-o,w.SquareHeight);(this.inLane.zombiePool().some((function(t){return!t.flying&&e.judgeCrossRec(t.bodyRec)}))||this.inLane.tombPool().some((function(t){return!t.fly&&e.judgeCrossRec(t.bodyRec)})))&&(this.attackCD=this.objdataOwn.AttackInterval*this._cdScale,this.attackStart())}if(this.attackTween&&this.bambooCHA){var s=g.createRectangleCenter(new u(this.attackingX,this.worldPositionY+this.bodySize.height/2),this.bodySize.width,this.bodySize.height),c=new m((this.fooding?this.objdataOwn.DamagePlantfood:this.objdataOwn.Damage)*this._dmgScale,!0,!0,!0,null,p.physicle);this.inLane.zombiePool().filter((function(t){return-1==i.contactingZombies.indexOf(t)&&!t.flying&&s.judgeCrossRec(t.bodyRec)})).forEach((function(t){i.contactingZombies.push(t),i.soundRes.playHit(),i.fooding&&!i.returning&&(!t.objdataOwn.CannotBeTossedByCitron&&Math.random()<i.objdataOwn.PlantfoodTossChance?t.tossAway():t.leapBy(new u(i.objdataOwn.PlantfoodKnockBackDistance,0),!0,.5)),t.dealDamage(c),i.fooding||t.whenStabbedBySpikeWeed([i])})),this.inLane.tombPool().filter((function(t){return-1==i.contactingTombs.indexOf(t)&&!t.fly&&s.judgeCrossRec(t.bodyRec)})).forEach((function(t){i.contactingTombs.push(t),i.soundRes.playHit(),t.dealDamage(c)})),this.contactingZombies=this.contactingZombies.filter((function(t){return!t.flying&&s.judgeCrossRec(t.bodyRec)})),this.contactingTombs=this.contactingTombs.filter((function(t){return!t.fly&&s.judgeCrossRec(t.bodyRec)}))}},s.animationListener=function(t){switch(t.name){case"attack":this.fooding?this.soundRes.playFoodStart():this.soundRes.playAttackStart(),this.contactingTombs=[],this.contactingZombies=[],this.attack()}},e(n,[{key:"objdataOwn",get:function(){return this._objdataOwn}},{key:"attackingX",get:function(){return this._attackingX},set:function(t){var n=t-this._attackingX;if(this.bambooCHA){this.bambooCHA.worldPosition=new u(t,this.worldPositionY);var a=this.bambooCHA.inLane;this.bambooCHA.judgeInLnC();var i=this.bambooCHA.inLane;i&&a!=i&&(this.bambooCHA.node.setParent(i.zombieLayer,!0),this.bambooCHA.node.setSiblingIndex(0)),this.bambooCHA.inLnC.getTileType()!=P.solid&&(this.die(),this.playDeathParticle(this.inLnC),this.node.destroy())}this._attackingX=t,this.currentDX=n}}]),n}(b)).prototype,"soundRes",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new G}}),q=n(Z.prototype,"bambooPFB",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=n(Z.prototype,"bambooPFB_PF",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=Z))||N));s._RF.pop()}}}));

System.register("chunks:///_virtual/Bamboozle.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SniperPlant.ts","./SoundRescourses.ts","./Plant.ts","./KeyListener.ts","./Character.ts","./Square.ts","./Plants.ts","./ArrayGet.ts","./Projectiles.ts"],(function(t){var n,o,e,i,a,r,s,l,u,c,h,f,p,d,P,y,S,b,m,j;return{setters:[function(t){n=t.applyDecoratedDescriptor,o=t.inheritsLoose,e=t.initializerDefineProperty,i=t.assertThisInitialized,a=t.createClass,r=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){l=t.cclegacy,u=t._decorator,c=t.AudioClip,h=t.KeyCode},function(t){f=t.SniperPlant},function(t){p=t.sounds},function(t){d=t.PlantProps},function(t){P=t.KeyListener},function(t){y=t.CharacterType},function(t){S=t.Square},function(t){b=t.PlantEnum},function(t){m=t.ArrayGet},function(t){j=t.ProjectileShootingFunctions}],execute:function(){var g,C,w,L,v,A,O,_,x,R,z,B,E,D;l._RF.push({},"18d16bfmPVEfLYVYvdfXZAb","Bamboozle",void 0);var I=u.ccclass,k=u.property,M=function(t){function n(){for(var n,o=arguments.length,e=new Array(o),i=0;i<o;i++)e[i]=arguments[i];return(n=t.call.apply(t,[this].concat(e))||this).MaxProjectileCount=5,n.BambooshotType="bamboozle",n}return o(n,t),n}(d),T=(g=I("BamboozleSound"),C=k([c]),w=k([c]),L=k([c]),g((O=n((A=function(){function t(){e(this,"shootSounds",O,this),e(this,"shootSaySounds",_,this),e(this,"aimSaySounds",x,this)}var n=t.prototype;return n.playShoot=function(){p.playArray(this.shootSounds,1,.1),p.playArray(this.shootSaySounds,1,.1)},n.playAimSay=function(){p.playArray(this.aimSaySounds,1,.1)},t}()).prototype,"shootSounds",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=n(A.prototype,"shootSaySounds",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),x=n(A.prototype,"aimSaySounds",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=A))||v);t("BamboozlePlant",(R=I("BamboozlePlant"),z=k(T),R((D=n((E=function(t){function n(){for(var n,o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(n=t.call.apply(t,[this].concat(a))||this)._objdataOwn=new M,n.Prj4Slots=[],n.Prj3Slots=[],n.Prj2Slots=[],n.Prj1Slots=[],n.Prj0Slots=[],e(n,"soundRes",D,i(n)),n._leftPrj=5,n.shooting=!1,n.willShootLnC=null,n}o(n,t);var l=n.prototype;return l.onObjdataSet=function(t,n){this.leftPrj=this.objdataOwn.MaxProjectileCount},l.specialSniperOnLoad=function(){var t=this;this.db.armature().getSlots().forEach((function(n){var o=n.name;o.includes("PRJ0")?t.Prj0Slots.push(n):o.includes("PRJ1")?t.Prj1Slots.push(n):o.includes("PRJ2")?t.Prj2Slots.push(n):o.includes("PRJ3")?t.Prj3Slots.push(n):o.includes("PRJ4")&&t.Prj4Slots.push(n)}))},l.replantable=function(){return this.leftPrj<this.objdataOwn.MaxProjectileCount},l.replant=function(){this.health=this.toughness,this.leftPrj=this.objdataOwn.MaxProjectileCount},l.LocateStartKeyCode=function(){var t=P.KeyBinds;return h[t.Game_Bamboozle]},l.shootOnLnC=function(){var t=r(s().mark((function t(n){var o,e;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=this._dmgScale,t.next=3,j.lobOneCabbageOnNode(this.objdataOwn.BambooshotType,this.worldPosition,120,this.inLane.prjLayer,n.plantPoint,.444,y.zombie,!1,90);case 3:return(e=t.sent).setDamage(e.damage*o),t.abrupt("return",e);case 6:case"end":return t.stop()}}),t,this)})));return function(n){return t.apply(this,arguments)}}(),l.animationListener=function(t){var n=this;"shoot"==t.name?(this.soundRes.playShoot(),this.leftPrj--,this.shootOnLnC(this.willShootLnC),this.shooting=!1):"foodEnd"==t.name?this.foodEnd():"shoot_food"==t.name?(this.soundRes.playShoot(),S.getAllLane().forEach((function(t){var o=t.laneLnCs.concat(),e=o.reverse().find((function(t){return t.putPlantAvailable(!0,b.BambooBusket,!0,!1)&&t.getAllPlants().length>0}));e||(e=o.find((function(t){return t.putPlantAvailable(!0,b.BambooBusket,!0,!1)}))),e||(e=m.getRandom(o)),n.shootOnLnC(e)}))):"say_aim"==t.name&&this.soundRes.playAimSay()},l.sniperPlantLocatable=function(){return this.leftPrj>0&&!this.shooting},l.specialSniperPlantDie=function(t){},l.specialSniperFood=function(t){this.anmControl.playAnimation("Food",1),this.leftPrj=this.objdataOwn.MaxProjectileCount},l.waterable=function(){return!this.shooting},l.specialSniperPlantOnEnable=function(){this.leftPrj=this.objdataOwn.MaxProjectileCount},l.specialSniperPlantLocateCancel=function(){this.anmControl.playIdle()},l.specialSniperPlantLocateStart=function(){this.anmControl.playAnimation("TakeAim",1)},l.animationOnComplete=function(){this.shooting=!1},l.specialSniperPlantTrigger=function(t){this.willShootLnC=t,this.anmControl.playAnimation("Launch",1),this.shooting=!0},a(n,[{key:"objdataOwn",get:function(){return this._objdataOwn}},{key:"leftPrj",get:function(){return this._leftPrj},set:function(t){var n;(this.Prj4Slots.forEach((function(n){n._setDisplayIndex(t>4?0:-1)})),this.Prj3Slots.forEach((function(n){n._setDisplayIndex(t>3?0:-1)})),this.Prj2Slots.forEach((function(n){n._setDisplayIndex(t>2?0:-1)})),this.Prj1Slots.forEach((function(n){n._setDisplayIndex(t>1?0:-1)})),this.Prj0Slots.forEach((function(n){n._setDisplayIndex(t>0?0:-1)})),this._leftPrj=t,this.dead)||(null==(n=this.plantInLnC)||n.readIndex())}}]),n}(f)).prototype,"soundRes",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new T}}),B=E))||B));l._RF.pop()}}}));

System.register("chunks:///_virtual/bamboozleShot.ts",["./rollupPluginModLoBabelHelpers.js","cc","./commonShot.ts","./Plants.ts"],(function(o){var t,n,e,u,a;return{setters:[function(o){t=o.inheritsLoose},function(o){n=o.cclegacy,e=o._decorator},function(o){u=o.commonShot},function(o){a=o.PlantEnum}],execute:function(){var l;n._RF.push({},"bf0faDyVEhC46uqK10K8D9O","bamboozleShot",void 0);var r=e.ccclass;e.property,o("bamboozleShot",r("bamboozleShot")(l=function(o){function n(){return o.apply(this,arguments)||this}return t(n,o),n.prototype.specialOnGroundHit=function(o){var t;return!(null!=o&&o.putPlantAvailable(!0,a.BambooBusket,!0,!1)||null!=o&&null!=(t=o.vineInSquare)&&t.some((function(o){return o.ID==a.BambooBusket})))||(this.playPopSound(),o.SpawnPlant(a.BambooBusket,!0,!0,!1,!1,!1,!0).then((function(o){o&&o.onSpawnedByBamboozleShot()})),this.fade(),!1)},n}(u))||l);n._RF.pop()}}}));

System.register("chunks:///_virtual/BananaLauncher.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SniperPlant.ts","./ArrayGet.ts","./Character.ts","./Projectiles.ts","./Square.ts","./CharacterManager.ts","./SoundRescourses.ts","./Plant.ts","./KeyListener.ts"],(function(n){var t,o,a,i,e,r,s,l,u,c,d,h,p,f,y,m,S;return{setters:[function(n){t=n.applyDecoratedDescriptor,o=n.inheritsLoose,a=n.initializerDefineProperty,i=n.assertThisInitialized},function(n){e=n.cclegacy,r=n._decorator,s=n.AudioClip,l=n.KeyCode},function(n){u=n.SniperPlant},function(n){c=n.ArrayGet},function(n){d=n.CharacterType},function(n){h=n.ProjectileShootingFunctions},function(n){p=n.Square},function(n){f=n.ZombiePool},function(n){y=n.sounds},function(n){m=n.PlantProps},function(n){S=n.KeyListener}],execute:function(){var b,w,A,g,P,L,C,R,v,_,B,k,z,O,j,T,F,D;e._RF.push({},"cf114hcRKJKgbd4gyuONecz","BananaLauncher",void 0);var I=r.ccclass,K=r.property,E=function(n){function t(){for(var t,o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return(t=n.call.apply(n,[this].concat(a))||this).RestTime=20,t.BananaType="banana",t}return o(t,n),t}(m),G=(b=I("bananalauncherSound"),w=K([s]),A=K([s]),g=K([s]),P=K([s]),L=K([s]),b((v=t((R=function(){function n(){a(this,"shootSounds",v,this),a(this,"shootSaySounds",_,this),a(this,"wakeSounds",B,this),a(this,"foodSaySounds",k,this),a(this,"foodStartSounds",z,this)}var t=n.prototype;return t.playShootSound=function(n){void 0===n&&(n=!0),y.playArray(this.shootSounds,1,.1),n&&y.playArray(this.shootSaySounds,1,.1)},t.playWakeSound=function(){y.playArray(this.wakeSounds,1,.1)},t.playFoodSound=function(){y.playArray(this.foodStartSounds,1,.1),y.playArray(this.foodSaySounds,1,.1)},n}()).prototype,"shootSounds",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=t(R.prototype,"shootSaySounds",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B=t(R.prototype,"wakeSounds",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=t(R.prototype,"foodSaySounds",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=t(R.prototype,"foodStartSounds",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C=R))||C);n("BananaLauncherPlant",(O=I("BananaLauncherPlant"),j=K(G),O((D=t((F=function(n){function t(){for(var t,o=arguments.length,e=new Array(o),r=0;r<o;r++)e[r]=arguments[r];return(t=n.call.apply(n,[this].concat(e))||this)._objdataOwn=new E,a(t,"soundRes",D,i(t)),t.coolingdown=0,t}o(t,n);var e=t.prototype;return e.LocateStartKeyCode=function(){var n=S.KeyBinds;return l[n.Game_BananaLauncher]},e.animationListener=function(n){if("drop"==n.name){var t;this.soundRes.playShootSound(!1);var o=f.inLawnPool(),a=null==(t=c.getRandom(o))?void 0:t.inLnC;a||(a=p.getRandomLnC()),h.throwOneBananaOnNode(this._objdataOwn.BananaType,a.plantPoint,1e3,a.inLane.prjLayer,12,d.zombie)}"foodEnd"==n.name&&this.foodEnd()},e.sniperPlantLocatable=function(){return this.coolingdown<=0},e.setAnimation=function(n){switch(void 0===n&&(n=0),n){case 1:this.anmControl.IdleAnim="Steady",this.anmControl.RandomAnim=[],this.deathAnm="Death";break;case 2:this.anmControl.IdleAnim="IdleSad",this.anmControl.RandomAnim=["RandomSad"],this.deathAnm="DeathSad";break;default:this.anmControl.IdleAnim="Idle",this.anmControl.RandomAnim=["Random"],this.deathAnm="Death"}},e.specialSniperPlantDie=function(n){},e.specialSniperFood=function(n){this.anmControl.playAnimation("Food",1),this.soundRes.playFoodSound(),this.setAnimation(2),this.coolingdown=1/0,this.anmControl.playAnimation("Food",1)},e.waterable=function(){return this.sniperPlantLocatable()},e.specialPlantFoodEnd=function(){this.coolingdown=this._objdataOwn.RestTime*this._cdScale},e.specialSniperPlantOnEnable=function(){this.coolingdown=0,this.setAnimation()},e.specialSniperPlantLocateCancel=function(){this.setAnimation(),this.anmControl.playIdle()},e.specialSniperPlantLocateStart=function(){this.setAnimation(1),this.anmControl.playAnimation("TakeAim",1)},e.specialSniperPlantTrigger=function(n){this.setAnimation(2),this.coolingdown=this._objdataOwn.RestTime*this._cdScale,this.anmControl.playAnimation("Launch",1),this.soundRes.playShootSound(),h.throwOneBananaOnNode(this._objdataOwn.BananaType,n.plantPoint,1e3,n.inLane.prjLayer,12,d.zombie)},e._wake=function(){this.setAnimation(0),this.anmControl.playAnimation("GetReady",1),this.soundRes.playWakeSound()},e.specialPlantUpdate=function(n,t,o){this.coolingdown>0&&(this.coolingdown-=n,this.coolingdown<=0&&this._wake())},t}(u)).prototype,"soundRes",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new G}}),T=F))||T));e._RF.pop()}}}));

System.register("chunks:///_virtual/BeachBasicZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./Armors.ts"],(function(e){var a,r,o,t,c,i,n,s,l,u;return{setters:[function(e){a=e.applyDecoratedDescriptor,r=e.inheritsLoose,o=e.initializerDefineProperty,t=e.assertThisInitialized,c=e.createClass},function(e){i=e.cclegacy,n=e._decorator,s=e.Node},function(e){l=e.Zombie},function(e){u=e.armorEnum}],execute:function(){var m,p,h,f,_;i._RF.push({},"bf435OsoLBI0IcCaMg0PoFG","BeachBasicZombie",void 0);var d=n.ccclass,b=n.property;e("BeachBasicZombie",(m=d("BeachBasicZombie"),p=b(s),m((_=a((f=function(e){function a(){for(var a,r=arguments.length,c=new Array(r),i=0;i<r;i++)c[i]=arguments[i];return a=e.call.apply(e,[this].concat(c))||this,o(a,"coneSocket",_,t(a)),a._kelpSlots=[],a._haveKelp=!1,a}r(a,e);var i=a.prototype;return i.armorParent=function(e){switch(e){case u.beach_armor4:case u.dark_armor4:case u.egypt_armor4:case u.cowboy_armor4:case u.iceage_armor4:case u.future_armor4:case u.modern_armor4:case u.dark_armor3:case u.pirate_armor4:case u.iceage_armor3:case u.dino_armor3:case u.dino_armor4:case u.kongfu_armor3:return this._armorSocket}return this.coneSocket},i.specialAlmanac=function(e){this.body.db.armature().getSlots().forEach((function(e){e.name.includes("KELP")&&e._setDisplayIndex(-1)}))},i.specialZombieOnEnable=function(){this.haveKelp=!1},i.onDirtSpawned=function(e){this.haveKelp=!0},i.specialZombieOnLoad=function(){var e=[];this.db.armature().getSlots().forEach((function(a){a.name.includes("KELP")&&e.push(a)})),this._kelpSlots=e},c(a,[{key:"haveKelp",get:function(){return this._haveKelp},set:function(e){this._kelpSlots.forEach((function(a){a._setDisplayIndex(e&&Math.random()>.4?0:-1)})),this._haveKelp=e}}]),a}(l)).prototype,"coneSocket",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=f))||h));i._RF.pop()}}}));

System.register("chunks:///_virtual/BeachFisherHook.ts",["./rollupPluginModLoBabelHelpers.js","cc","./commonShot.ts","./Zombies.ts"],(function(i){var t,n,o,e,l,r,a,h,s,c;return{setters:[function(i){t=i.inheritsLoose,n=i.asyncToGenerator,o=i.regeneratorRuntime},function(i){e=i.cclegacy,l=i._decorator,r=i.Vec3,a=i.Vec2,h=i.tween},function(i){s=i.commonShot},function(i){c=i.ZombieEnum}],execute:function(){var u;e._RF.push({},"bb65emOc/xAeJ9A4W/0GtgO","BeachFisherHook",void 0);var f=l.ccclass;l.property,i("BeachFisherHook",f("BeachFisherHook")(u=function(i){function e(){for(var t,n=arguments.length,o=new Array(n),e=0;e<n;e++)o[e]=arguments[e];return(t=i.call.apply(i,[this].concat(o))||this).owner=void 0,t.followingCharacterOldX=0,t.returning=!1,t.followingCharacter=void 0,t.popWhenStatic=!1,t}t(e,i);var l=e.prototype;return l.hitFloor=function(i){},l.hitWater=function(){},l.splat=function(i){void 0===i&&(i=null),i&&(this.onZombieHit(i),this.pop())},l.specialUpdate=function(i){if(this.followingCharacter){var t=this.followingCharacter.worldPositionX-this.followingCharacterOldX;this.worldPositionX+=t,this.followingCharacterOldX=this.followingCharacter.worldPositionX}else if(this.returning){var n;if(null!=(n=this.owner)&&n.isAlive()){var o=this.owner.hookPointPos,e=600*i,l=new r(o.x-this.worldPositionX,o.y-this.worldPositionY,o.z-this.height);if(l.length()>e){var a=l.clone().normalize().multiplyScalar(e);this.worldPositionX+=a.x,this.worldPositionY+=a.y,this.height+=a.z}else this.owner.catch(),this.fade()}else this.fade()}},l.specialOnSquareChange=function(i,t){if(null==t||!t.isInLawn()){var n;if(null==(n=this.owner)||!n.isAlive())return void this.fade();this.owner.hookCall(null,null,null),this.returning=!0,this.followingCharacter=null,this.linearVelocity=new a,this.gravity=0,this.bodyLinearVelocity=0}},l.characterOnEnable=function(){this.initialize(),this.returning=!1,this.followingCharacter=null},l.specialOnDisable=function(){var i;null==(i=this.owner)||i.hookCall(null,null,null)},l.pop=function(){var i=n(o().mark((function i(){return o().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:this.detectEnemyOn&&this.playPopSound(),this.detectEnemyOn=!1;case 2:case"end":return i.stop()}}),i,this)})));return function(){return i.apply(this,arguments)}}(),l.onZombieHit=function(i){var t,n=this;null!=(t=this.owner)&&t.isAlive()||this.fade(),this.linearVelocity=new a,this.gravity=0,this.bodyLinearVelocity=0,h(this).to(this.owner.objdataOwn.DelayBeforeReeling,{height:this.height/2},{easing:"quadOut"}).call((function(){var t=n.owner.hookCall(null,i,null);n.followingCharacter=i,n.followingCharacterOldX=i.worldPositionX,n.scheduleOnce((function(){n.followingCharacter=null,n.returning=!0}),t)})).start()},l.onPlantHit=function(i){var t,n,o=this;null!=(t=this.owner)&&t.isAlive()||this.fade(),null!=(n=i.inLnC)&&n.zombieShields.some((function(i){var t=-1!=[c.future_infinut_shield,c.modern_moonflower_shield].indexOf(i.ID)&&i.hypnotized;return t&&o.onZombieHit(i),t}))||(this.linearVelocity=new a,this.gravity=0,this.bodyLinearVelocity=0,h(this).to(this.owner.objdataOwn.DelayBeforeReeling,{height:this.height/2},{easing:"quadOut"}).call((function(){var t=o.owner.hookCall(i,null,null);o.followingCharacter=i,o.followingCharacterOldX=i.worldPositionX,o.scheduleOnce((function(){o.followingCharacter=null,o.returning=!0}),t)})).start())},l.onTombHit=function(i){var t,n=this;null!=(t=this.owner)&&t.isAlive()||this.fade(),this.linearVelocity=new a,this.gravity=0,this.bodyLinearVelocity=0,h(this).to(this.owner.objdataOwn.DelayBeforeReeling,{height:this.height/2},{easing:"quadOut"}).call((function(){n.owner.hookCall(null,null,i);n.followingCharacter=null,n.returning=!0})).start()},e}(s))||u);e._RF.pop()}}}));

System.register("chunks:///_virtual/BeachFisherZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./CharacterManager.ts","./Square.ts","./LnC.ts","./SoundRescourses.ts","./Plants.ts","./NodePools.ts","./ArrayGet.ts","./BeachFisherHook.ts","./Character.ts","./Projectiles.ts"],(function(e){var t,i,n,o,a,s,r,l,h,c,u,d,p,f,b,y,w,m,g,S,k,P,v,C,D,A,L,j;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized,a=e.createClass},function(e){s=e.cclegacy,r=e._decorator,l=e.AudioClip,h=e.Node,c=e.Prefab,u=e.Vec2,d=e.HALF_PI,p=e.Vec3},function(e){f=e.Zombie,b=e.ZombieProps},function(e){y=e.ZombieDamageDetails,w=e.ZombieDamageType,m=e.footballmech,g=e.Rectangle},function(e){S=e.Square},function(e){k=e.TileType},function(e){P=e.sounds},function(e){v=e.plants},function(e){C=e.instantiatePooly},function(e){D=e.ArrayGet},function(e){A=e.BeachFisherHook},function(e){L=e.CharacterType},function(e){j=e.ProjectileShootingFunctions}],execute:function(){var Z,O,B,z,H,R,T,_,F,I,E,x,q,W,N,M,V,X,G,K,U,Y,Q,J,$,ee,te,ie,ne;s._RF.push({},"96664zQuwlA17ss7b6XTld+","BeachFisherZombie",void 0);var oe=r.ccclass,ae=r.property,se=function(e){function t(){for(var t,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).PlantablePlants=["tanglekelp","ghostpepper","guacodile"],t.DelayBeforeReeling=.3,t.DelayBetweenCasting=2.5,t.HookDamageToZombies=40,t}return i(t,e),t}(b);e("BeachFisherZombie",(Z=oe("BeachFisherZombie"),O=ae([l]),B=ae([l]),z=ae([l]),H=ae([l]),R=ae([l]),T=ae([l]),_=ae([l]),F=ae([l]),I=ae([l]),E=ae([l]),x=ae(h),q=ae(c),W=ae(h),Z((V=t((M=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return(t=e.call.apply(e,[this].concat(a))||this)._objdataOwn=new se,t.PlantablePlants=[],t.isBrainEater=!1,t.knockBackable=!1,t.attackCD=0,n(t,"tossSounds",V,o(t)),t.finalWaveVictoryCountdown=0,n(t,"deathSaySounds",X,o(t)),n(t,"headPopSounds",G,o(t)),n(t,"splashSounds",K,o(t)),n(t,"splatSounds",U,o(t)),n(t,"swingSounds",Y,o(t)),n(t,"swingSaySounds",Q,o(t)),n(t,"preswingSounds",J,o(t)),n(t,"pullSounds",$,o(t)),n(t,"hitSounds",ee,o(t)),n(t,"hookPoint",te,o(t)),n(t,"hookPrj",ie,o(t)),t._hookSlots=[],t._haveHook=!0,t.hookShot=void 0,t.hookCalled=!1,n(t,"wire",ne,o(t)),t}i(t,e);var s=t.prototype;return s.playWalk=function(e){void 0===e&&(e=0),this.isWalking=!1,this.body.currentAnimationName!=this.body.IdleAnm&&this.playIdle(e)},s.onObjdataSet=function(e){var t,i=this;this.PlantablePlants=[],null==(t=this._objdataOwn.PlantablePlants)||t.forEach((function(e){var t=v.getPlantEnumByCodename(e,!1);isNaN(t)||i.PlantablePlants.push(t)}))},s.playSandStorm=function(e,t){this.worldPositionX=e,this.playDirtSpawn(0)},s.CanBeScaredByTyranno=function(){return!1},s.onRoaredByTyranno=function(e){},s.specialZombieKnockbackable=function(){return!1},s.allowPlantInSquare=function(e){return-1==this.PlantablePlants.indexOf(e)},s.specialZombieUpdateForced=function(e,t,i,n){if(this.wire.active&&this.hookShot){var o=this.hookPointPos,a=new u(this.hookShot.node.worldPosition.x-o.x,this.hookShot.node.worldPosition.y-o.y-o.z),s=90*Math.atan2(a.y,a.x)/d;this.scale<0&&(s=180-s),this.wire.angle=s,this.wire.worldScale=new p(a.length()/25,1,1)}},s.specialZombieUpdate=function(e,t,i){},s.detectPlant=function(e){var t=this;if(0!=e)if(this.inLane){if(this.detectPlantOn()){var i="Attack",n=!1;if(this.attackCD>0)this.attackCD-=e;else if(!this.ignorePlants())for(var o=this.inLnC,a=function(){var e=o.rec;if(t.hypnotized?(t.inLane.zombiePool().forEach((function(t){n||e.judgeCrossRec(t.bodyRecForShooter)&&(n=!0)})),t.inLane.tombPool(t.hypnotized?0:1).forEach((function(t){n||e.judgeCrossRec(t.bodyRec)&&(n=!0)}))):(o.getAllPlants(!0,!1).forEach((function(e){n||!e.eaterDetectable||e.invincible||e.short||(n=!0)})),t.inLane.hypnoZombiePool().forEach((function(t){n||e.judgeCrossRec(t.bodyRecForShooter)&&(n=!0)}))),n)return 1;(o=t.reversed?o.righter:o.lefter)!=t.inLnC&&o!=(t.reversed?t.inLnC.righter:t.inLnC.lefter)&&(i="AttackStart")};null!=(s=o)&&s.isInLawn();){var s;if(a())break}n?(this.switching=!0,this.body.playAnimation(i,2),this.isWalking=!1,this.attackCD=this.objdataOwn.DelayBetweenCasting):this.playWalk()}}else this.playWalk()},s.specialZombieOnEnable=function(){this.switching=!1,this.haveHook=!0,this.depthScale=25},s.killOthers=function(){var e,t,i,n=this;null==(e=this.inLnC.gridZombiesInSquare)||e.concat().forEach((function(e){e!=n&&n.isAlive()&&e.playDie()}));var o=!0;null==(t=this.inLnC.getAllPlants())||t.forEach((function(e){e.kill(),e.isAlive()&&(o=!1)})),null==(i=this.inLnC)||null==(i=i.tombStone)||i.die(),o||this.playDie()},s.onLaneSpawnSettled=function(e,t){var i=this;this.worldPositionX=S.getSquareWorldPosition(0,this.reversed?0:8).x,this.judgeInLnC(),this.inLnC.getTileType()==k.water&&this.depth>.8*this.depthScale?(this.body.playAnimation("Spawn",1/0),this.bodyRecHiddenCD=.5,this.switching=!0):(this.playDirtSpawn(0),this.scheduleOnce((function(){i.killOthers()})))},s.beforeSpecialZombieDieForced=function(e,t,i,n,o,a,s){this.oldTT==k.water&&this.depth>.8*this.depthScale?this.body.DeathAnm=D.getRandom(["Death_Water","Death_Water2"]):this.body.DeathAnm="Death"},s.onPutDirectly=function(e){var t=this;this.judgeInLnC(),this.dirtSpawning&&this.endDirtSpawn(),this.inLnC.getTileType()==k.water&&this.depth>.8*this.depthScale?(this.body.playAnimation("Spawn",1/0),this.bodyRecHiddenCD=.5,this.switching=!0):(this.playDirtSpawn(0),this.scheduleOnce((function(){t.killOthers()})))},s.onDirtSpawned=function(e){this.playIdle(0),this.switching=!1},s.playSpecialZombieDie=function(e){this.judgeDeath(0),P.playArray(this.headPopSounds,1,.1),P.playArray(this.deathSaySounds,1,.1)},s.playSpecialZombieDieForced=function(){this.removeFromLnC(this.inLnC),this.hookShot&&(this.hookShot.fade(),this.hookShot=null),this.haveHook=!0},s.removeFromLnC=function(e){if(e){var t=e.gridZombiesInSquare.indexOf(this);-1!=t&&e.gridZombiesInSquare.splice(t,1),e.readIndex()}},s.specialZombieOnSquareChange=function(e,t){this.removeFromLnC(e),t&&this.isAlive()&&(-1==t.gridZombiesInSquare.indexOf(this)&&t.gridZombiesInSquare.push(this),t.readIndex())},s._hit=function(){var e,t=this,i=!1,n=this.reversed?this.inLnC.righter:this.inLnC.lefter;[this.inLnC,n].forEach((function(e){if(!i){var n=new y(t.objdataOwn.HookDamageToZombies);if(e.isInLawn()){var o=e.rec;t.hypnotized?(t.inLane.zombiePool().forEach((function(e){i||o.judgeCrossRec(e.bodyRecForShooter)&&(e.objdataOwn.CannotBeTossedByCitron?(e.dealDamage(n),i=!0):(e.tossAway(),P.playArray(t.tossSounds,1,.1),i=!0))})),t.inLane.tombPool(t.hypnotized?0:1).forEach((function(e){i||o.judgeCrossRec(e.bodyRec)&&(e.dealDamage(n),i=!0)}))):t.inLane.hypnoZombiePool().forEach((function(e){i||o.judgeCrossRec(e.bodyRecForShooter)&&(e.objdataOwn.CannotBeTossedByCitron?(e.dealDamage(new y(t.objdataOwn.HookDamageToZombies)),i=!0):(e.tossAway(),P.playArray(t.tossSounds,1,.1),i=!0))}))}}})),i||null!=(e=this.inLnC)&&e.isInLawn()&&(this.inLnC.getAllPlants().forEach((function(e){e.invincible||!e.eaterDetectable||e.short||e.sheepend||(i=!0,e.objdataOwn.CannotBePushedByFootballMech?e.dealDamage(t.objdataOwn.HookDamageToZombies,0):e.throwAway(t.reversed,t))})),i||null!=n&&n.isInLawn()&&n.getAllPlants().forEach((function(e){e.invincible||!e.eaterDetectable||e.short||(i=!0,e.objdataOwn.CannotBePushedByFootballMech?e.dealDamage(t.objdataOwn.HookDamageToZombies,0):e.throwAway(t.reversed,t))})))},s.specialAnimationListener=function(e){"splat"==e.name?P.playArray(this.splatSounds,1,.1):"hit"==e.name?(this._hit(),P.playArray(this.hitSounds,1,.1)):"swing"==e.name?(P.playArray(this.swingSounds,1,.1),P.playArray(this.swingSaySounds,1,.1)):"preswing"==e.name?P.playArray(this.preswingSounds,1,.1):"pull"==e.name?P.playArray(this.pullSounds,1,.1):"splash"==e.name?(P.playArray(this.splashSounds,1,.1),this.killOthers()):"attackLP"==e.name?this.body.playAnimation("AttackLoop",1/0):"Shoot"==e.name?this._shoot():"dive"==e.name&&(this.depthScale*=2)},s.lockedTimeScale=function(){return this.haveHook?NaN:1},s.specialZombieOnLoad=function(){var e=this;this.body.db.armature().getSlots().forEach((function(t){t.name.includes("_HK")&&e._hookSlots.push(t)}))},s._shoot=function(){this.hookShot&&(this.hookShot.fade(),this.hookShot=null),this.haveHook=!1;var e=C(this.hookPrj).getComponent(A),t=this.hookPointPos;j.shootOnePeaAccCS(e,t.toVec2(),t.z,this.inLane.prjLayer,new u(8*(this.reversed?1:-1),0),this.hypnotized?L.zombie:L.plant),e.returning=!1,this.hookShot=e,e.owner=this,e.scale=-this.scale,this.hookCalled=!1},s.hookCall=function(e,t,i){if(this.isAlive()){var n=new y(this.objdataOwn.HookDamageToZombies,!0,!0,!0,null,w.physicle),o=0;return e?(this.reversed?m.pushPlantLeft(e,0):m.pushPlantRight(e,0),o=.5):t?(o=.5,t.knockBackable&&t.knockBackBy(new u(this.reversed?-1:1),!1,o,!0,!0,!1),t.dealDamage(n)):i&&(o=0,i.dealDamage(n)),this.hookCalled||this.body.playAnimation("AttackEnd",1/0),this.hookCalled=!0,this.switching=!0,o}},s.catch=function(){this.haveHook=!0,this.hookShot=null},a(t,[{key:"objdataOwn",get:function(){return this._objdataOwn}},{key:"plantDetectorRec",get:function(){return new g}},{key:"hookPointPos",get:function(){return new p(this.wire.parent.worldPosition.x,this.worldPositionY,this.wire.parent.worldPosition.y-this.worldPositionY)}},{key:"haveHook",get:function(){return this._haveHook},set:function(e){this._hookSlots.forEach((function(t){t._setDisplayIndex(e?0:-1)})),this.wire.active=!e,this._haveHook!=e&&(this.wire.scale=new p(.01,1,1)),this._haveHook=e}}]),t}(f)).prototype,"tossSounds",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),X=t(M.prototype,"deathSaySounds",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),G=t(M.prototype,"headPopSounds",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),K=t(M.prototype,"splashSounds",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),U=t(M.prototype,"splatSounds",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Y=t(M.prototype,"swingSounds",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Q=t(M.prototype,"swingSaySounds",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),J=t(M.prototype,"preswingSounds",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),$=t(M.prototype,"pullSounds",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ee=t(M.prototype,"hitSounds",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),te=t(M.prototype,"hookPoint",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ie=t(M.prototype,"hookPrj",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ne=t(M.prototype,"wire",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=M))||N));s._RF.pop()}}}));

System.register("chunks:///_virtual/BeachGargantuarZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GargantuarZombie.ts","./LnC.ts","./Zombies.ts"],(function(a){var e,n,t,r,i,o,u;return{setters:[function(a){e=a.inheritsLoose},function(a){n=a.cclegacy,t=a._decorator},function(a){r=a.GargantuarZombie,i=a.GargantuarProps},function(a){o=a.TileType},function(a){u=a.ZombieEnum}],execute:function(){var c;n._RF.push({},"2d5a0r9PuxDq5blstEJY+YY","BeachGargantuarZombie",void 0);var l=t.ccclass,s=(t.property,function(a){function n(){for(var e,n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];return(e=a.call.apply(a,[this].concat(t))||this).SpeedScaleOnLand=.9,e.TakingDamageScaleOnLand=.9,e}return e(n,a),n}(i));a("BeachGargantuarZombie",l("BeachGargantuarZombie")(c=function(a){function n(){for(var e,n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];return(e=a.call.apply(a,[this].concat(t))||this)._objdataOwn=new s,e.impEnum=u.beach_imp,e}e(n,a);var t=n.prototype;return t.shouldSpeedScale=function(){var a,e=1;return(null==(a=this.inLnC)?void 0:a.getTileType())!=o.water&&(e=this._objdataOwn.SpeedScaleOnLand),e*this.defaultShouldSpeedScale()},t.specialZombieOnSquareChangeForce=function(a,e){this.displayed&&(this.oldTileType=null==e?void 0:e.getTileType(),this.shouldMaterial())},t.additionalSatuation=function(){return this.oldTileType==o.water?0:-.4},t.extraDamageScale=function(a){var e,n=1;return(null==(e=this.inLnC)?void 0:e.getTileType())!=o.water&&(n=this._objdataOwn.TakingDamageScaleOnLand),n},n}(r))||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/BeachOctopusZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./CharacterManager.ts","./SoundRescourses.ts","./ArrayGet.ts","./Character.ts","./DarkWizardZombie.ts","./Projectiles.ts"],(function(t){var e,n,i,a,r,o,s,l,h,c,u,d,p,f,b,w,g,y,m,P,v;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,a=t.assertThisInitialized,r=t.createClass,o=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){l=t.cclegacy,h=t._decorator,c=t.AudioClip,u=t.Node,d=t.Vec2},function(t){p=t.Zombie,f=t.ZombieProps},function(t){b=t.PlantPool,w=t.ZombieDamageDetails},function(t){g=t.sounds},function(t){y=t.ArrayGet},function(t){m=t.CharacterType},function(t){P=t.wizard},function(t){v=t.ProjectileShootingFunctions}],execute:function(){var S,A,O,j,k,C,L,_,T,x,D,R,B,F,z,I,E;l._RF.push({},"cb460uuv6NA1qCmD9ySEF9c","BeachOctopusZombie",void 0);var Z=h.ccclass,X=h.property,N=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))||this).TimeBeforeFirst=7,e.TimeBeforeFirstAdditional=2,e.TimeBetween=11,e.TimeBetweenAdditional=3,e.OctopusType="octopus",e}return n(e,t),e}(f);t("BeachOctopusZombie",(S=Z("BeachOctopusZombie"),A=X([c]),O=X([c]),j=X([c]),k=X([c]),C=X([c]),L=X([c]),_=X(u),S((D=e((x=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))||this)._objdataOwn=new N,i(e,"walkSounds",D,a(e)),i(e,"moveSounds",R,a(e)),i(e,"grabSounds",B,a(e)),i(e,"swingSounds",F,a(e)),i(e,"throwSaySounds",z,a(e)),i(e,"reloadSounds",I,a(e)),e._targetPlant=null,e.throwing=!1,i(e,"prjFrom",E,a(e)),e.throwCD=0,e}n(e,t);var l=e.prototype;return l.specialAnimationListener=function(t){switch(t.name){case"walk":g.playArray(this.walkSounds,1,NaN);break;case"move":g.playArray(this.moveSounds,1,NaN);break;case"grab":g.playArray(this.grabSounds,1,.1);break;case"swing":this.isAlive()&&(g.playArray(this.swingSounds,1,.2),g.playArray(this.throwSaySounds,1,.2));break;case"throw":this.isAlive()&&this.ShrinkProps.length<=0&&(this._throw(),this.throwCD=this._objdataOwn.TimeBetween+this._objdataOwn.TimeBetweenAdditional*Math.random());break;case"reload":g.playArray(this.reloadSounds,1,.2)}},l.getTargetPlantRight=function(){var t=this,e=null,n=-1/0,i=[],a=[];b.pool().forEach((function(e){-1==i.indexOf(e.plantInLnC)&&(P.getPlantCanbeSheepened(e,!0)?e.worldPositionX<=t.worldPositionX&&a.push(e):i.push(e.plantInLnC))}));var r=1/0;return y.randomize(a).forEach((function(i){var a=Math.abs(i.lIndex-t.lIndex);a<r&&(n=-1/0),a<=r&&i.worldPositionX>n&&(e=i,r=a,n=i.worldPositionX)})),e},l.getTargetPlantLeft=function(){var t=this,e=null,n=1/0,i=[],a=[];b.pool().forEach((function(e){-1==i.indexOf(e.plantInLnC)&&(P.getPlantCanbeSheepened(e,!0)?e.worldPositionX>=t.worldPositionX&&a.push(e):i.push(e.plantInLnC))}));var r=1/0;return y.randomize(a).forEach((function(i){var a=Math.abs(i.lIndex-t.lIndex);a<r&&(n=1/0),a<=r&&i.worldPositionX<n&&(e=i,r=a,n=i.worldPositionX)})),e},l.detectPlant=function(t){var e=this;if(this.hypnotized)this.defaultDetectPlant(t);else{if(0==t)return;if(!this.inLane)return void this.playWalk();if(!this.detectPlantOn())return;var n=this.plantDetectorRec,i=null,a=null;if(!this.ignorePlants()){var r,o;null==(r=this.inLane)||r.plantPool().forEach((function(t){t.eaterDetectable&&e.plantEatAllowed(t)&&n.judgeCrossRec(t.bodyRec)&&(i=t)}));var s=-1/0;null==(o=this.inLane)||o.hypnoZombiePool().forEach((function(t){var e=t.bodyRec.prjX().y;e>s&&n.judgeCrossRec(t.bodyRec)&&(s=e,a=t)}))}var l=new w(this.dps*t,!0,!1,!1,null);if(a)this.playEat(t),a.eatByZombie(l,this);else if(i){var h,c=i.plantInLnC,u=!0;null==c||null==(h=c.getAllPlants())||h.forEach((function(t){u&&(P.getPlantCanbeSheepened(t,!0)||(u=!1))})),u?(this._targetPlant=i,this.attackAnm()):(this.playEat(t),i.eat(this.dps*t,this))}else this.allowWalk()?this.playWalk():(this.isWalking||this.isEating)&&this.playIdle()}},l.specialPotionInvisibleInvalid=function(){return this.throwing},l.attackAnm=function(){this.correctShadeWP(.2),this.throwing=!0,this.isWalking=!1,this.switching=!0,this.body.playAnimation("Throw",1/0,.2)},l._throw=function(){var t=o(s().mark((function t(){var e,n,i,a,r;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=(e=this._targetPlant)&&e.isAlive()&&P.getPlantCanbeSheepened(this._targetPlant,!0)||(this._targetPlant=this.reversed?this.getTargetPlantLeft():this.getTargetPlantRight()),i=this.scale,r=80,null==(n=this._targetPlant)||!n.isAlive()){t.next=10;break}return this._targetPlant.lIndex==this.lIndex&&this.plantDetectorRec.judgeCrossRec(this._targetPlant.bodyRec)&&(r/=4),t.next=7,v.lobOneCabbageOnNode(this.objdataOwn.OctopusType,new d(this.prjFrom.worldPosition.x,this.worldPositionY),this.prjFrom.worldPosition.y-this.worldPositionY,this.inLane.prjLayer,this._targetPlant.node,.2222,m.plant,!1,r);case 7:a=t.sent,t.next=14;break;case 10:if(!this.inLane){t.next=14;break}return t.next=13,v.lobOneCabbageOnNode(this.objdataOwn.OctopusType,new d(this.prjFrom.worldPosition.x,this.worldPositionY),this.prjFrom.worldPosition.y-this.worldPositionY,this.inLane.prjLayer,this.reversed?this.inLane.toRight:this.inLane.toLeft,.2222,m.plant,!1,r);case 13:a=t.sent;case 14:a&&(a.scale=i);case 15:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),l.specialZombieOnEnable=function(){this.throwing=!1,this.throwCD=this._objdataOwn.TimeBeforeFirst+this._objdataOwn.TimeBeforeFirstAdditional*Math.random()},l.animationOnLPComplete=function(){this.throwing=!1},l.onObjdataSet=function(t){this.throwCD=this._objdataOwn.TimeBeforeFirst+this._objdataOwn.TimeBeforeFirstAdditional*Math.random()},l.specialZombieUpdate=function(t,e,n){if(!this.switching&&this.isWalking&&this.ShrinkProps.length<=0&&this.enteredLawn&&!this.hypnotized)if(this.throwCD>0)this.throwCD-=t;else{var i=this.reversed?this.getTargetPlantLeft():this.getTargetPlantRight();i&&(this._targetPlant=i,this.attackAnm())}},r(e,[{key:"objdataOwn",get:function(){return this._objdataOwn}}]),e}(p)).prototype,"walkSounds",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=e(x.prototype,"moveSounds",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B=e(x.prototype,"grabSounds",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=e(x.prototype,"swingSounds",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=e(x.prototype,"throwSaySounds",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),I=e(x.prototype,"reloadSounds",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),E=e(x.prototype,"prjFrom",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=x))||T));l._RF.pop()}}}));

System.register("chunks:///_virtual/BeachSnorkelZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./SoundRescourses.ts","./CharacterManager.ts","./LnC.ts"],(function(i){var e,t,n,r,o,s,a,c,u,l,p,h;return{setters:[function(i){e=i.applyDecoratedDescriptor,t=i.inheritsLoose,n=i.initializerDefineProperty,r=i.assertThisInitialized,o=i.createClass},function(i){s=i.cclegacy,a=i._decorator,c=i.AudioClip},function(i){u=i.Zombie},function(i){l=i.sounds},function(i){p=i.Rectangle},function(i){h=i.TileType}],execute:function(){var d,g,f,v,y,b,S;s._RF.push({},"44854BBuYdM0KttMPmk7Cfj","BeachSnorkelZombie",void 0);var m=a.ccclass,k=a.property;i("BeachSnorkelZombie",(d=m("BeachSnorkelZombie"),g=k([c]),f=k([c]),d((b=e((y=function(i){function e(){for(var e,t=arguments.length,o=new Array(t),s=0;s<t;s++)o[s]=arguments[s];return e=i.call.apply(i,[this].concat(o))||this,n(e,"stepSounds",b,r(e)),n(e,"appearSounds",S,r(e)),e._diving=!1,e}t(e,i);var s=e.prototype;return s.specialAnimationListener=function(i){"step"==i.name&&(this.diving||l.playArray(this.stepSounds,.4,NaN,.5))},s.enterWater=function(){this.diving=this.isWalking},s.exitWater=function(){this.diving=!1},s.specialZombieOnEnable=function(){this.diving=!1},s.specialZombieUpdate=function(i,e,t){t>0&&!this.dirtSpawning&&(this.inLnC.tileType==h.water?this.isWalking&&!this.diving?this.diving=!0:!this.isWalking&&this.diving&&(this.diving=!1):this.diving&&(this.diving=!1))},o(e,[{key:"diving",get:function(){return this._diving},set:function(i){i!=this._diving&&(i||l.playArray(this.appearSounds,1,NaN,.5),this.depthScale=i?50:25),this._diving=i}},{key:"bodyRecForShooter",get:function(){return this.depth>40?new p:this.bodyRec}}]),e}(u)).prototype,"stepSounds",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),S=e(y.prototype,"appearSounds",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=y))||v));s._RF.pop()}}}));

System.register("chunks:///_virtual/BeachSurfboardSpawner.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ParticleSelfdestroy.ts","./Square.ts","./Character.ts","./Tombs.ts","./SoundRescourses.ts","./NodePools.ts","./CharacterManager.ts"],(function(e){var t,r,a,n,i,o,l,s,c,u,d,h,b,f,p,S,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,a=e.initializerDefineProperty,n=e.assertThisInitialized,i=e.createClass},function(e){o=e.cclegacy,l=e._decorator,s=e.AudioClip,c=e.Prefab,u=e.Vec3},function(e){d=e.ParticleSelfdestroy},function(e){h=e.Square},function(e){b=e.Character},function(e){f=e.TombEnum},function(e){p=e.sounds},function(e){S=e.instantiatePooly},function(e){y=e.Umbrellas}],execute:function(){var g,m,P,w,v,B,_,H,L,k,C,D,V;o._RF.push({},"9e2b7lOktFHPZ6XL4NZv+EG","BeachSurfboardSpawner",void 0);var z=l.ccclass,A=l.property;e("BeachSurfboardSpawner",(g=z("BeachSurfboardSpawner"),m=A(Boolean),P=A(s),w=A(c),v=A(c),B=A([s]),g((L=t((H=function(e){function t(){for(var t,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i))||this,a(t,"isVeteran",L,n(t)),a(t,"engineSound",k,n(t)),t.toughness=700,t._bdSlot=void 0,t._bdHealth=700,t.character=void 0,a(t,"bdBreakPar",C,n(t)),a(t,"bdBreakParVeteran",D,n(t)),a(t,"bdDestructionSounds",V,n(t)),t}r(t,e);var o=t.prototype;return o.specialBeforeSelfDestroy=function(){this._stab()},o.animationListener=function(e){"engine"==e.name&&p.playOneShot(this.engineSound,1,.5)},o.specialOnLoad=function(){this.character=this.getComponent(b),this._bdSlot=this.db.armature().getSlot("MAIN")},o._stab=function(){var e=this;if(this.character&&!(this.bdHealth<=0)){var t=this.character.worldPositionX,r=h.judgeCIndex(t),a=h.getLnC(this.character.lIndex,r),n=!0;if(null!=a&&a.isInLawn()||(n=!1),n&&a.getAllPlants().forEach((function(e){n&&e.cannotBeKilledBySurfboard()&&(n=!1)})),n&&y.umbrellas.forEach((function(t){n&&t.owner.umbrellable()&&t.detector.judgeInRec(e.character.worldPositionX,e.character.worldPositionY)&&(n=!1,t.owner.umbrella())})),n){var i;null==(i=a.tombStone)||i.die(),a.getAllPlants().forEach((function(e){var t;e.die(),null==(t=e.node)||t.setParent(a.inLane.tombLayer,!0)}));var o=a.SpawnTomb(this.isVeteran?f.surfboard_veteran:f.surfboard,!1,!1,!1);o?(o.health=this.bdHealth,o.onDamaged(this.bdHealth,this.bdHealth,!1)):n=!1}if(!n){p.playArray(this.bdDestructionSounds,1,.1);var l=S(this.isVeteran?this.bdBreakParVeteran:this.bdBreakPar);l.parent=this.character.inLane.prjLayer,l.worldPosition=new u(t,this.character.worldPositionY,0),l.getComponent(d).db.playAnimation("Play4")}this.bdHealth=0}},i(t,[{key:"bdHealth",get:function(){return this._bdHealth},set:function(e){var t,r=-1,a=this.toughness;e>=a?r=0:e>=a/4*3?r=1:e>=a/2?r=2:e>=a/4?r=3:e>0&&(r=4),null==(t=this._bdSlot)||t._setDisplayIndex(r),this._bdHealth=e}}]),t}(d)).prototype,"isVeteran",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),k=t(H.prototype,"engineSound",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=t(H.prototype,"bdBreakPar",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=t(H.prototype,"bdBreakParVeteran",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=t(H.prototype,"bdDestructionSounds",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=H))||_));o._RF.pop()}}}));

System.register("chunks:///_virtual/BeachSurferZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./CharacterManager.ts","./Square.ts","./Plants.ts","./Zombies.ts","./SoundRescourses.ts","./FrontYard.ts","./Tombs.ts","./NodePools.ts","./ParticleSelfdestroy.ts","./BeachSurfboardSpawner.ts","./JSONs.ts"],(function(t){var i,e,n,a,o,r,s,l,h,u,d,c,b,f,p,m,y,g,S,w,P,A,k,B,_,v,D,O,R;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,a=t.assertThisInitialized,o=t.createClass},function(t){r=t.cclegacy,s=t._decorator,l=t.Prefab,h=t.AudioClip,u=t.Node,d=t.Vec2,c=t.Vec3,b=t.tween},function(t){f=t.ZombieSort,p=t.Zombie,m=t.ZombieProps},function(t){y=t.Rectangle,g=t.ZombieDamageDetails,S=t.ZombieDamageType},function(t){w=t.Square},function(t){P=t.plants},function(t){A=t.zombies},function(t){k=t.sounds},function(t){B=t.FrontYard},function(t){_=t.TombEnum},function(t){v=t.instantiatePooly},function(t){D=t.ParticleSelfdestroy},function(t){O=t.BeachSurfboardSpawner},function(t){R=t.PvZ2Object}],execute:function(){var H,W,Z,j,L,z,E,I,C,T,x,F,N,X,M,V,Y,q,K,J,U,G,Q,$,tt,it,et,nt,at,ot,rt;r._RF.push({},"74fccahKp5DfKfNEPaaN4eO","BeachSurferZombie",void 0);var st=s.ccclass,lt=s.property,ht=function(t){function i(){for(var i,e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return(i=t.call.apply(t,[this].concat(n))||this).BoardToughness=700,i.SwimSpeedMultiplier=3,i.DamageOnStabbing=1500,i.HitRectWithBoard="RTID(LostcityJaneHitRect@RectangleProps)",i.StopsByEMPea=!1,i.isVeteran=!1,i.PlantBlockers=["tallnut"],i.ZombieBlockers=["future_protector_shield","modern_moonflower_shield","future_infinut_shield"],i}return e(i,t),i}(m);t("BeachSurferZombie",(H=st("BeachSurferZombie"),W=lt(l),Z=lt(l),j=lt([h]),L=lt([h]),z=lt(u),E=lt([h]),I=lt([h]),C=lt([h]),T=lt([h]),x=lt([h]),F=lt([h]),N=lt([h]),X=lt([h]),M=lt(h),H((q=i((Y=function(t){function i(){for(var i,e=arguments.length,o=new Array(e),r=0;r<e;r++)o[r]=arguments[r];return(i=t.call.apply(t,[this].concat(o))||this)._objdataOwn=new ht,i._objdataOwnOrg=new ht,i.HitRectWithBoard={x:0,y:0,w:0,h:0},i.PlantBlockers=[],i.ZombieBlockers=[],n(i,"bdBreakPar",q,a(i)),n(i,"bdSpawnerPar",K,a(i)),n(i,"bdDestructionSounds",J,a(i)),n(i,"bdSwingSounds",U,a(i)),n(i,"stabPoint",G,a(i)),i._surfing=!1,i._bdSlots=[],i._bdHealth=700,n(i,"bdHitSounds",Q,a(i)),n(i,"bdBreakSounds",$,a(i)),n(i,"appearSounds",tt,a(i)),n(i,"fallSounds",it,a(i)),n(i,"fallSlideSounds",et,a(i)),n(i,"deathFallSounds",nt,a(i)),n(i,"deathSlideSounds",at,a(i)),n(i,"laughSounds",ot,a(i)),n(i,"engineLoopSound",rt,a(i)),i}e(i,t);var r=i.prototype;return r.onLaneSpawnSettled=function(t,i){!this.displayed&&this.worldPositionX>B.tideX()&&(this.surfing=!0,this.replayAnimation())},r.empStun=function(t){void 0===t&&(t=10),t>0&&this.surfing&&this.isWalking&&this.objdataOwnOrg.StopsByEMPea&&this.playFallIntoWater()},r.onPutDirectly=function(t){this.surfing=!this.displayed&&this.worldPositionX>B.tideX(),this.replayAnimation()},r.walkTimeScale=function(t,i,e){return this.surfing?e:this.defaultWalkTimeScale(t,i,e)},r.specialZombieOnEnable=function(){this.surfing=!1},r.onDirtSpawned=function(t){this.surfing=!1,this.playIdle()},r.onObjdataSet=function(t){var i,e=this;this.bdHealth=t.BoardToughness,this.PlantBlockers=[],t.PlantBlockers.forEach((function(t){e.PlantBlockers.push(P.getPlantEnumByCodename(t))})),this.ZombieBlockers=[],t.ZombieBlockers.forEach((function(t){e.ZombieBlockers.push(A.getZombieEnumByCodename(t))}));var n=null==(i=R.getObjectsByRTID(this.objdataOwnOrg.HitRectWithBoard,"RectangleProps")[0])||null==(i=i.objdata)?void 0:i.Values;n&&(this.HitRectWithBoard=n)},r.canPlayAshNow=function(){return!this.surfing},r.detectPlant=function(t){var i=this;if(this.bdHealth>0){if(t<=0)return;if(!this.inLane||!this.detectPlantOn())return;var e,n,a,o,r,s=this.plantDetectorRec,l=null,h=null,u=null;if(!this.ignorePlants())if(this.hypnotized)this.inLane.zombiePool().forEach((function(t){h||s.judgeCrossRec(t.bodyRec)&&(h=t)})),this.inLane.tombPool(this.hypnotized?0:1).forEach((function(t){u||t.bodyRec.judgeCrossRec(s)&&(u=t)}));else null==(e=this.inLane)||e.plantPool().forEach((function(t){l||t.eaterDetectable&&s.judgeCrossRec(t.bodyRec)&&(l=t)})),null==(n=this.inLane)||n.hypnoZombiePool().forEach((function(t){h||t!=i&&s.judgeCrossRec(t.bodyRec)&&(h=t)}));if(this.surfing)-1==this.PlantBlockers.indexOf(null==(a=l)?void 0:a.ID)&&(null==(o=h)?void 0:o.ZombieSort)!=f.Zomboss&&-1==this.ZombieBlockers.indexOf(null==(r=h)?void 0:r.ID)||this.playFallIntoWater();else(l||u||h)&&(this.switching=!0,this.isWalking=!1,this.correctShadeWP(.1),this.body.playAnimation("Stab",2,.1))}else this.defaultDetectPlant(t)},r._stab=function(){var t=this;if(!(this.bdHealth<=0)){var i=this.stabPoint.worldPosition.x,e=w.judgeCIndex(i),n=w.getLnC(this.lIndex,e),a=!0;if(null!=n&&n.isInLawn()||(a=!1),this.ShrinkProps.length>0&&(a=!1),a&&n.getAllPlants().forEach((function(t){a&&t.cannotBeKilledBySurfboard()&&(a=!1)})),a){var o;null==(o=n.tombStone)||o.die(),n.getAllPlants().forEach((function(t){var i;t.die(),null==(i=t.node)||i.setParent(n.inLane.tombLayer,!0)}));var r=n.SpawnTomb(this.objdataOwnOrg.isVeteran?_.surfboard_veteran:_.surfboard,!1,!1,!1);if(r){r.hypnotized=this.hypnotized,r.health=this.bdHealth,r.onDamaged(this.bdHealth,this.bdHealth,!1);var s=y.createRectangleCenter(new d(i,this.worldPositionY+this.AttackRect.y),this.AttackRect.w,this.AttackRect.h);(this.hypnotized?this.inLane.zombiePool():this.inLane.hypnoZombiePool()).forEach((function(i){s.judgeCrossRec(i.bodyRecReal)&&i.dealDamage(new g(t._objdataOwn.DamageOnStabbing,!0,!0,!0,null,S.physicle))}))}else a=!1}if(!a){k.playArray(this.bdDestructionSounds,1,.1);var l=v(this.bdBreakPar);l.parent=this.inLane.prjLayer,l.worldPosition=new c(i,this.worldPositionY,0),l.getComponent(D).db.playAnimation("Play4")}this.bdHealth=0}},r._throw=function(){k.playArray(this.bdSwingSounds,2,.1);var t=v(this.bdSpawnerPar);t.parent=this.node.parent;var i=t.getComponent(O);i.bdHealth=this.bdHealth;var e=i.character,n=this.stabPoint.worldPosition.x;e.worldPositionX=this.worldPosition.x,e.worldPositionY=this.worldPositionY,e.height_depth=this.height_depth,e.scale=this.scale;var a=w.judgeCIndex(n),o=w.getLnC(this.lIndex,a);null!=o&&o.isInLawn()&&b(e).to(.6,{worldPositionX:o.node.worldPosition.x},{easing:"quadOut"}).start(),this.bdHealth=0},r.playSpecialZombieDie=function(t){this.surfing?(this.judgeDeath(0),k.playArray(this.deathSlideSounds,2,.1)):this.bdHealth>0&&this.ShrinkProps.length<=0&&this._throw()},r.specialAnimationListener=function(t){"stab"==t.name?this._stab():"appear"==t.name?(this.surfing=!1,k.playArray(this.appearSounds,1,.1)):"fall"==t.name?k.playArray(this.fallSounds,1,.1):"death_splash"==t.name?k.playArray(this.deathFallSounds,1,.1):"laugh"==t.name&&k.playArray(this.laughSounds,1)},r.specialZombieOnLoad=function(){var t=this;this.body.db.armature().getSlots().forEach((function(i){i.name.includes("BOARD")&&t._bdSlots.push(i)}))},r.walkSpeedScaleExtra=function(){return this.surfing?this.objdataOwn.SwimSpeedMultiplier:1},r.commonShotPopOnTouch=function(t){return!(this.bdHealth>0&&!this.surfing&&t.bodyLinearVelocity<0)||(this.bdHealth-=t.damage*t.damageScale,t.splat(this),t.dealSplashDamage(this,null),k.playArray(this.bdHitSounds,1,NaN),this._bdSlots.forEach((function(t){var i;null==t||null==(i=t.childArmature)||null==(i=i.animation)||i.play("Play",1)})),this.bdHealth<=0&&(k.playArray(this.bdBreakSounds,1,.1),this.switching||this.isWalking&&this.replayAnimation()),!1)},r.playFallIntoWater=function(){this.switching=!0,this.isWalking=!1,this.correctShadeWP(.1),this.body.playAnimation("Fall",2),k.playArray(this.fallSlideSounds,1,.1)},r.specialZombieUpdate=function(t,i,e){this.surfing&&this.isWalking&&e>0&&k.playOneShot(this.engineLoopSound,1,NaN,.75,!1,!0),this.surfing&&this.isWalking&&this.worldPositionX<B.tideX()&&this.playFallIntoWater(),e<=0&&this._bdSlots.forEach((function(t){var e,n=null==(e=t.childArmature)?void 0:e.animation;if(n){var a=n.lastAnimationState.currentTime+i;a<n.lastAnimationState.totalTime&&n.gotoAndPlayByTime(n.lastAnimationState.name,a)}}))},r.setAnimation=function(t,i){t?i?(this.body.WalkAnm="Walk_Water",this.body.DeathAnm="Death_Water",this.body.IdleAnm="Walk_Water"):(this.body.WalkAnm="Walk_Board",this.body.DeathAnm="Death_Board",this.body.IdleAnm="Idle_Board"):(this.body.WalkAnm="Walk",this.body.DeathAnm="Death",this.body.IdleAnm="Idle")},o(i,[{key:"objdataOwn",get:function(){return this._objdataOwn}},{key:"objdataOwnOrg",get:function(){return this._objdataOwnOrg}},{key:"HitRect",get:function(){return this.bdHealth>0?this.HitRectWithBoard:this.DefaultHitRect}},{key:"surfing",get:function(){return this._surfing},set:function(t){this.bdHealth>0?this.setAnimation(!0,t):(t=!1,this.setAnimation(!1,!1)),this.shadeAlphaScale=t?0:1,this._surfing=t,this.depthScale=t?-1:25}},{key:"bdHealth",get:function(){return this._bdHealth},set:function(t){var i=-1,e=this._objdataOwn.BoardToughness;t>=e?i=0:t>=e/4*3?i=1:t>=e/2?i=2:t>=e/4?i=3:t>0&&(i=4),this._bdSlots.forEach((function(t){var e;null==t||null==(e=t.childArmature)||null==(e=e.getSlots())||e.forEach((function(t){t._setDisplayIndex(i)}))})),this.setAnimation(t>0,this.surfing),this._bdHealth=t}}]),i}(p)).prototype,"bdBreakPar",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=i(Y.prototype,"bdSpawnerPar",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=i(Y.prototype,"bdDestructionSounds",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),U=i(Y.prototype,"bdSwingSounds",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),G=i(Y.prototype,"stabPoint",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=i(Y.prototype,"bdHitSounds",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),$=i(Y.prototype,"bdBreakSounds",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),tt=i(Y.prototype,"appearSounds",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),it=i(Y.prototype,"fallSounds",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),et=i(Y.prototype,"fallSlideSounds",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),nt=i(Y.prototype,"deathFallSounds",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),at=i(Y.prototype,"deathSlideSounds",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ot=i(Y.prototype,"laughSounds",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),rt=i(Y.prototype,"engineLoopSound",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=Y))||V));r._RF.pop()}}}));

System.register("chunks:///_virtual/BeachZombossMechZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZombossMechZombie.ts","./SoundRescourses.ts","./levelController.ts","./NodePools.ts","./ArrayGet.ts","./Square.ts","./LnC.ts","./Plants.ts","./CharacterManager.ts","./BeachZombossShark.ts"],(function(n){var e,t,o,i,a,r,s,l,u,h,d,c,p,S,b,f,y,m,g,w,v,k,A,P,L,I;return{setters:[function(n){e=n.inheritsLoose,t=n.applyDecoratedDescriptor,o=n.initializerDefineProperty,i=n.assertThisInitialized,a=n.createClass},function(n){r=n.cclegacy,s=n._decorator,l=n.Prefab,u=n.AudioClip,h=n.Vec2,d=n.Vec3,c=n.tween},function(n){p=n.ZombossStage,S=n.ZombossMechZombie,b=n.ZombossMechProps},function(n){f=n.sounds},function(n){y=n.LevelPlay},function(n){m=n.instantiatePooly,g=n.NodePools},function(n){w=n.ArrayGet},function(n){v=n.Square},function(n){k=n.TileType},function(n){A=n.PlantEnum},function(n){P=n.footballmech,L=n.ZombieDamageType},function(n){I=n.BeachZombossShark}],execute:function(){var Z,D,x,C,M,z,O,_,T,E,R,F,j,B,W,X,q,H,N,K,G,U,V,Y,J,Q,$,nn,en,tn,on,an,rn,sn,ln,un,hn,dn,cn,pn,Sn,bn,fn,yn,mn,gn,wn,vn,kn,An,Pn,Ln,In,Zn,Dn,xn,Cn,Mn,zn,On,_n,Tn,En,Rn,Fn,jn,Bn,Wn;r._RF.push({},"c2003Ex2clBtbcaDrS5bTAk","BeachZombossMechZombie",void 0);var Xn=s.ccclass,qn=s.property,Hn=(n("BeachZombossStage",Xn("BeachZombossStage")(Z=function(n){function t(){return n.apply(this,arguments)||this}return e(t,n),t}(p))||Z),function(n){function t(){for(var e,t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];return(e=n.call.apply(n,[this].concat(o))||this).ZombossStages=[],e}return e(t,n),t}(b));n("BeachZombossMechZombie",(D=Xn("BeachZombossMechZombie"),x=qn(l),C=qn(l),M=qn([u]),z=qn(u),O=qn([u]),_=qn(l),T=qn([u]),E=qn([u]),R=qn([u]),F=qn(u),j=qn([u]),B=qn([u]),W=qn([u]),X=qn([u]),q=qn([u]),H=qn([u]),N=qn([u]),K=qn([u]),G=qn([u]),U=qn([u]),V=qn([u]),Y=qn(u),J=qn(u),Q=qn(u),$=qn([u]),nn=qn([u]),en=qn([u]),tn=qn(u),on=qn(u),an=qn(u),rn=qn(u),sn=qn(l),D((hn=t((un=function(n){function t(){for(var e,t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return(e=n.call.apply(n,[this].concat(a))||this)._objdataOwn=new Hn,e._objdataOwnOrg=new Hn,o(e,"divingDirtPF",hn,i(e)),e.divingDirt=void 0,o(e,"sharkPF",dn,i(e)),e.sharks=[],o(e,"coughStartSounds",cn,i(e)),o(e,"coughLoopSound",pn,i(e)),o(e,"plantCutSounds",Sn,i(e)),o(e,"plantCutParticle",bn,i(e)),o(e,"summonSharkSaySounds",fn,i(e)),o(e,"rushStartSounds",yn,i(e)),o(e,"rushStartSharkSaySounds",mn,i(e)),o(e,"rushLoopSound",gn,i(e)),o(e,"rushEndSounds",wn,i(e)),o(e,"splashSounds",vn,i(e)),o(e,"cutSounds",kn,i(e)),o(e,"coughSounds",An,i(e)),o(e,"deathSharkSaySounds",Pn,i(e)),o(e,"teethFallSounds",Ln,i(e)),o(e,"teethFallSharkSaySounds",In,i(e)),o(e,"diveSounds",Zn,i(e)),o(e,"appearSounds",Dn,i(e)),o(e,"diveSharkSaySounds",xn,i(e)),o(e,"appearSharkSaySounds",Cn,i(e)),o(e,"fanAppearSound",Mn,i(e)),o(e,"igniteSound",zn,i(e)),o(e,"fanHideSound",On,i(e)),o(e,"hitSounds",_n,i(e)),o(e,"mouthMoveSounds",Tn,i(e)),o(e,"mouthMoveSmallSounds",En,i(e)),o(e,"introDiveSound",Rn,i(e)),o(e,"introAppearSound",Fn,i(e)),o(e,"introAppearSharkSaySound",jn,i(e)),o(e,"stunStartSharkSaySound",Bn,i(e)),o(e,"suctionSplash",Wn,i(e)),e._followedSplashes=[],e.willLandPos=new h(6,1),e.jumpTargetPoses=[new h(6,1),new h(6,2),new h(6,3),new h(6,4)],e.walkEasing="quadInOut",e.WalksLeftOrRight=!1,e.walksWhenRushing=!1,e.rushInteruptDMG=1e3,e.currentMechStages=[],e}e(t,n);var r=t.prototype;return r.specialZombossOnDisable=function(){var n;(null==(n=this.moveTween)||n.stop(),this.moveTween=null,this.divingDirt)&&(this.divingDirt.destroy(),this.divingDirt=null)},r.specialZombossUpdateForce=function(n,e,t,o){if(this.rushTween||this._followSplashes([]),o!=k.solid&&o!=k.deck||!this.shade){if(this.divingDirt){var i,a=this.divingDirt;this.divingDirt=null,null==(i=y.component)||i.scheduleOnce((function(){g.destroyPooly(a)}))}}else this.divingDirt||(this.divingDirt=m(this.divingDirtPF)),this.divingDirt.setParent(this.node.parent,!0),this.divingDirt.setSiblingIndex(this.node.getSiblingIndex()+1),this.divingDirt.worldPosition=this.shade.node.worldPosition,this.divingDirt.scale=this.shade.node.scale},r.specialZombossDieForce=function(){this._followSplashes([]),this.sharks.concat().forEach((function(n){n.kill=!0})),this.sharks=[]},r.specialZombossUpdate=function(n,e,t){this.rushTween?(this._followSplashes(this.reversed?this._pullLeft(e):this._pullRight(e)),f.playOneShot(this.rushLoopSound,1,NaN,.66667)):this._followSplashes([])},r.specialZombossMechBeforeRushInteruptStun=function(){this.specialZombossMechBeforeChangeStageStun()},r.specialZombossMechBeforeChangeStageStun=function(){this.StunStartAnmName="StunStart",this.StunEndAnmName="StunEnd",this._currentStunLoopSound=this.worldZombossStunLoopSound},r.jumpStart=function(n){void 0===n&&(n=this.getJumpTarget()),this.jump(n)},r.coughStart=function(){this.rushInterupt(!1),this.StunStartAnmName="CoughStart",this.StunEndAnmName="CoughEnd",this._currentStunLoopSound=this.coughLoopSound,this.stunAction(this.currentMechStages[this.currentStage].StunTime,1,0)},r.specialZombossMechAnimationListener=function(n){var e=this;switch(n.name){case"splashSound":f.playArray(this.splashSounds,1,.1);break;case"splashSmallSound":f.playWaterSplash();break;case"hitSound":f.playArray(this.hitSounds,1,.1);break;case"mouthMoveSound":f.playArray(this.mouthMoveSounds,1,.1);break;case"mouthMoveSmallSound":f.playArray(this.mouthMoveSmallSounds,1,.1);break;case"fanAppearSound":f.playOneShot(this.fanAppearSound,1,.1);break;case"igniteSound":f.playOneShot(this.igniteSound,1,.1);break;case"rushStartSound":f.playArray(this.rushStartSounds,1,.1),f.playArray(this.rushStartSharkSaySounds,1,.1),f.playArray(this.worldZombossRushSaySounds,1,.1);break;case"fanHideSound":f.playOneShot(this.fanHideSound,1,.1);break;case"rushEndSound":f.playArray(this.rushEndSounds,1,.1);break;case"introDiveSound":this.sharks.forEach((function(n){n.idling=!0})),f.playOneShot(this.introDiveSound,1,.1);break;case"introAppearSound":f.playOneShot(this.introAppearSharkSaySound,1,.1),f.playOneShot(this.introAppearSound,1,.1),f.playArray(this.worldZombossSpawnSaySounds,1,.1);break;case"coughSound":f.playArray(this.coughSounds,1,.1);break;case"deathRoarSound":f.playArray(this.deathSharkSaySounds,1,.1);break;case"teethFallSound":f.playArray(this.teethFallSounds,1,.1),f.playArray(this.teethFallSharkSaySounds,1,.1);break;case"diveSound":f.playArray(this.diveSounds,1,.1),f.playArray(this.diveSharkSaySounds,1,.1);break;case"appearSound":f.playArray(this.appearSounds,1,.1),f.playArray(this.appearSharkSaySounds,1,.1);break;case"cutSound":f.playArray(this.cutSounds,1,.1),Math.random()>.5&&f.playArray(this.worldZombossAngrySaySounds,1,.1);break;case"summonSound":f.playArray(this.summonSharkSaySounds,1,.1);break;case"summon":var t=this.reversed?3:5;this.columnSummon(t);break;case"coughStartSound":f.playArray(this.coughStartSounds,1,.1);case"stunStartSound":f.playOneShot(this.stunStartSharkSaySound,1,.1);break;case"RushLoop":this.body.playAnimation("RushLoop",1/0),this.rushFire();break;case"rushEndSound":f.playArray(this.rushEndSounds,1,.1);break;case"shoot":var o=this.getShootTargetLnCs();w.randomize(this.sharks).forEach((function(n,t){if(t<o.length){var i=o[t];n.targetLnC=i,n.kill=!0;var a=e.sharks.indexOf(n);-1!=a&&e.sharks.splice(a,1)}})),this.spawnSharks()}},r._pullPlantRight=function(n){var e=this,t=.5;t*=(Math.abs(n.cIndex-this.cIndex)+1)/7,P.pushPlantRight(n,0,t,(function(n){if(e.rushTween)if(e.cIndex==n.cIndex)if(n.ID==A.TangleKelp){var t;e.coughStart(),n.die(),null==(t=n.node)||t.destroy()}else{var o;f.playArray(e.plantCutSounds,1,.2);var i=m(e.plantCutParticle);i.parent=n.inLane.prjLayer,i.worldPosition=n.worldPosition.toVec3(),i.scale=new d(.5,.5,1),n.die(),null==(o=n.node)||o.destroy()}else e._pullPlantRight(n)}),(function(n){}),!1)},r._pullPlantLeft=function(n){var e=this,t=.5;t*=(Math.abs(n.cIndex-this.cIndex)+1)/7,P.pushPlantLeft(n,0,t,(function(n){if(e.rushTween)if(e.cIndex==n.cIndex)if(n.ID==A.TangleKelp){var t;e.coughStart(),n.die(),null==(t=n.node)||t.destroy()}else{var o;f.playArray(e.plantCutSounds,1,.2);var i=m(e.plantCutParticle);i.parent=n.inLane.prjLayer,i.worldPosition=n.worldPosition.toVec3(),i.scale=new d(.5,.5,1),n.die(),null==(o=n.node)||o.destroy()}else e._pullPlantLeft(n)}),(function(n){}),!1)},r._pullRight=function(n){var e=this,t=[];return this.isInLawn()&&this.inLane&&this.isAlive()?([this.lIndex,this.lIndex-1].forEach((function(o){for(var i=function(n){var i=v.getLnC(o,n),a=!0;if(i.octopus||i.sheep||i.iceblock)return 0;if(i.getAllPlants(!0,!1).forEach((function(o){n==e.cIndex&&(o.ID==A.TangleKelp?(e.coughStart(),o.die()):(f.playArray(e.plantCutSounds,1,.2),o.kill())),t.push(o),a&&(o.canBeChied()&&!o.invincible||(a=!1,o.onChiedFailed()))})),!a)return 0;var r=i.getAllPlants(!0,!1);if(r.length){var s=r[0];e._pullPlantRight(s)}},a=e.cIndex;a>=0&&0!==i(a);a--);var r=v.getLane(o);r.zombiePool().concat(r.hypnoZombiePool()).forEach((function(o){o.worldPositionX<e.worldPositionX&&-1==e.basicWhiteList.indexOf(o.ID)&&o.knockBackable&&o.specialZombieKnockbackable()&&(o.worldPositionX+=v.SquareWidth*n*5,t.push(o),o.worldPositionX>=e.worldPositionX&&(f.playArray(e.plantCutSounds,1,.2),o.haveHead&&o.dropHead(null),o.haveArm&&o.breakArm(null),o.playDie(!1,null,!0,L.physicle,!0,!0,!0),g.destroyPooly(o.node)))}))})),t):[]},r._pullLeft=function(n){var e=this,t=[];return this.isInLawn()&&this.inLane&&this.isAlive()?([this.lIndex,this.lIndex-1].forEach((function(o){for(var i=function(n){var i=v.getLnC(o,n);if(i.octopus||i.sheep||i.iceblock)return 0;var a=!0;if(i.getAllPlants(!0,!1).forEach((function(o){n==e.cIndex&&(o.ID==A.TangleKelp?(e.coughStart(),o.die()):(f.playArray(e.plantCutSounds,1,.2),o.kill())),t.push(o),a&&(o.canBeChied()&&!o.invincible||(a=!1,o.onChiedFailed()))})),!a)return 0;var r=i.getAllPlants(!0,!1);if(r.length){var s=r[0];e._pullPlantLeft(s)}},a=e.cIndex;a<=8&&0!==i(a);a++);var r=v.getLane(o);r.zombiePool().concat(r.hypnoZombiePool()).forEach((function(o){o.worldPositionX>e.worldPositionX&&-1==e.basicWhiteList.indexOf(o.ID)&&o.knockBackable&&o.specialZombieKnockbackable()&&(o.worldPositionX-=v.SquareWidth*n*5,t.push(o),o.worldPositionX<=e.worldPositionX&&(f.playArray(e.plantCutSounds,1,.2),o.haveHead&&o.dropHead(null),o.haveArm&&o.breakArm(null),o.playDie(!1,null,!0,L.physicle,!0,!0,!0),g.destroyPooly(o.node)))}))})),t):[]},r._followSplashes=function(n){for(var e=this,t=n.filter((function(n){var e;return(null==n||null==(e=n.inLnC)?void 0:e.getTileType())==k.water})),o=this._followedSplashes.length;o<t.length;o++)this._followedSplashes.push(m(this.suctionSplash));this._followedSplashes.concat().forEach((function(n,o){if(t[o]){var i,a=Math.abs(t[o].worldPositionX-e.worldPositionX),r=.5*Math.exp(-a/v.SquareWidth/3);n.setParent(null==(i=t[o].inLane)?void 0:i.prjLayer,!0),n.worldPosition=t[o].worldPosition.toVec3().add3f(0,-20,0),n.scale=new d(e.reversed?-r:r,r,1)}else{var s=e._followedSplashes.indexOf(n);-1!=s&&e._followedSplashes.splice(s,1),y.component.scheduleOnce((function(){g.destroyPooly(n)}))}}))},r.detectShootEnemy=function(){return this.getShootTargetLnCs().length>0},r.getShootTargetLnCs=function(){var n=this,e=[];return w.randomize(v.getAllLnC()).forEach((function(t){e.length<5&&t.getTileType()==k.water&&(t.getAllPlants().some((function(n){return!n.invincible}))||(n.hypnotized?t.inLane.zombiePool():t.inLane.hypnoZombiePool()).some((function(e){return-1==n.basicWhiteList.indexOf(e.ID)&&t.rec.judgeCrossRec(e.bodyRec)})))&&e.push(t)})),e},r.getIdleC=function(){return this.reversed?2:6},r.specialZombossOnLoad=function(){this.coughLoopSound.loadMode=u.AudioType.DOM_AUDIO,this.rushLoopSound.loadMode=u.AudioType.DOM_AUDIO},r.specialZombossOnLaneChange=function(n,e){this.spawnSharks()},r.specialZombossMechOnEnable=function(){this.worldPositionX=v.getSquareWorldPosition(0,this.reversed?1:7).x,this.sharks=[],this.spawnSharks(),this.sharks.forEach((function(n){n.idling=!1,n.db.armature().animation.gotoAndPlayByProgress("Idle_Waiting",Math.random(),1/0)}))},r.onReversedSet=function(n){this.sharks.forEach((function(e){e.worldPositionX=v.getSquareWorldPosition(0,n?2:7,0).x,e.scale=n?-1:1}))},r.walkU=function(){this.isAlive()&&this.jump(new h(this.cIndex,this.lIndex-1))},r.walkD=function(){this.isAlive()&&this.jump(new h(this.cIndex,this.lIndex-1))},r.rushFire=function(){var n=this;this.rushing=!0,this.rushDMGcount=0,this.rushTween=c(this).to(4,{}).call((function(){n.body.playAnimation("RushEnd",1/0),n.rushing=!1,n.audioSource.stop(),n.rushTween=null})).start()},r.jump=function(n){var e,t,o=this;void 0===n&&(n=w.getRandom(this.jumpTargetPoses)),"Idle"!=(null==(e=this.body.db.armature())||null==(e=e.animation)?void 0:e.lastAnimationName)&&this.body.playAnimation("Idle");var i=n.clone();this.reversed&&(i.x=8-i.x);var a=v.getSquareWorldPosition(i.y,i.x,.5,.3),r=this;null==(t=this.moveTween)||t.stop(),this.bodyRecHiddenCD=3.2,Math.random()>.5&&f.playArray(this.worldZombossLeapSaySounds,1,.1),this.moveTween=c(r).to(.1,{}).call((function(){o.body.playAnimation("LeapStart",1)})).to(3,{}).call((function(){o.node.parent&&(o.worldPositionX=a.x,o.worldPositionY=a.y,o.ZombossIdling=!1,o.body.playAnimation("LeapEnd",1/0),o.judgeInLnC(),o.scheduleOnce((function(){o.killInRange()}),.5)),r.moveTween=null})).start()},r.spawnSharks=function(){var n=this;if(this.isAlive()){var e=this.sharks.find((function(e){return e.lIndex==n.lIndex}));if(e){var t=this.sharks.indexOf(e);-1!=t&&this.sharks.splice(t,1),g.destroyPooly(e.node)}for(var o=function(e){var t=n.sharks.find((function(n){return n.lIndex==e}));if(t){if(t.lIndex==n.lIndex){var o=n.sharks.indexOf(t);-1!=o&&n.sharks.splice(o,1),g.destroyPooly(t.node)}return 0}if(e==n.lIndex)return 0;var i=v.getLane(e),a=m(n.sharkPF);a.parent=i.tombLayer;var r=a.getComponent(I);r.worldPositionY=i.floorY,r.worldPositionX=v.getSquareWorldPosition(e,n.reversed?2:7,0).x,r.judgeInLnC(),r.whiteList=n.basicWhiteList,r.scale=n.scale,n.sharks.push(r),r.db.playAnimation("Enter")},i=0;i<5;i++)o(i)}},r.plantRushWhiteList=function(){return[A.LilyPad]},r.rush=function(){this.rushDMGcount=0,this.body.playAnimation("RushStart",1/0),this.willRush=!1,this.willJump=!0,Math.random()>.5&&f.playArray(this.worldZombossAngrySaySounds,1,.1)},r.rushAction=function(){this.ZombossIdling=!1,this.rush()},r.summonAction=function(){this.body.playAnimation("Summon",1/0),Math.random()>.5&&f.playArray(this.worldZombossShootSaySounds,1,.1),this.ZombossIdling=!1},r.shouldDepth=function(){var n;return null!=(n=this.inLnC)&&n.isSolidOrDeck()?1:0},r.shootAction=function(){this.isAlive()&&(this.targetLocators=[],this.ZombossIdling=!1,this.body.playAnimation("Shoot",1/0),Math.random()>.5&&f.playArray(this.worldZombossShootSaySounds,1,.1),this.shooting=!0)},a(t,[{key:"objdataOwn",get:function(){return this._objdataOwn}},{key:"objdataOwnOrg",get:function(){return this._objdataOwnOrg}}]),t}(S)).prototype,"divingDirtPF",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),dn=t(un.prototype,"sharkPF",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),cn=t(un.prototype,"coughStartSounds",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),pn=t(un.prototype,"coughLoopSound",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Sn=t(un.prototype,"plantCutSounds",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),bn=t(un.prototype,"plantCutParticle",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fn=t(un.prototype,"summonSharkSaySounds",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),yn=t(un.prototype,"rushStartSounds",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),mn=t(un.prototype,"rushStartSharkSaySounds",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),gn=t(un.prototype,"rushLoopSound",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),wn=t(un.prototype,"rushEndSounds",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),vn=t(un.prototype,"splashSounds",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),kn=t(un.prototype,"cutSounds",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),An=t(un.prototype,"coughSounds",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Pn=t(un.prototype,"deathSharkSaySounds",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ln=t(un.prototype,"teethFallSounds",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),In=t(un.prototype,"teethFallSharkSaySounds",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Zn=t(un.prototype,"diveSounds",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Dn=t(un.prototype,"appearSounds",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),xn=t(un.prototype,"diveSharkSaySounds",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Cn=t(un.prototype,"appearSharkSaySounds",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Mn=t(un.prototype,"fanAppearSound",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),zn=t(un.prototype,"igniteSound",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),On=t(un.prototype,"fanHideSound",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_n=t(un.prototype,"hitSounds",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Tn=t(un.prototype,"mouthMoveSounds",[nn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),En=t(un.prototype,"mouthMoveSmallSounds",[en],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Rn=t(un.prototype,"introDiveSound",[tn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fn=t(un.prototype,"introAppearSound",[on],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),jn=t(un.prototype,"introAppearSharkSaySound",[an],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Bn=t(un.prototype,"stunStartSharkSaySound",[rn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Wn=t(un.prototype,"suctionSplash",[sn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ln=un))||ln));r._RF.pop()}}}));

System.register("chunks:///_virtual/BeachZombossShark.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Character.ts","./SoundRescourses.ts","./NodePools.ts"],(function(t){var i,e,n,o,s,a,r,l,c,h,d,u;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized,s=t.createClass},function(t){a=t.cclegacy,r=t._decorator,l=t.AudioClip,c=t.dragonBones},function(t){h=t.Character},function(t){d=t.sounds},function(t){u=t.NodePools}],execute:function(){var b,p,y,g,f;a._RF.push({},"8fc79QckTNCM5U6Yyy2IHOa","BeachZombossShark",void 0);var k=r.ccclass,L=r.property;t("BeachZombossShark",(b=k("BeachZombossShark"),p=L([l]),b((f=i((g=function(t){function i(){for(var i,e=arguments.length,s=new Array(e),a=0;a<e;a++)s[a]=arguments[a];return i=t.call.apply(t,[this].concat(s))||this,n(i,"burstSounds",f,o(i)),i.whiteList=[],i.targetLnC=void 0,i.idling=!0,i._kill=!1,i}e(i,t);var a=i.prototype;return a.characterOnLoad=function(){this.db.on(c.EventObject.FRAME_EVENT,this.animationListener,this)},a.characterOnEnable=function(){this.targetLnC=null,this.idling=!0,this.kill=!1},a.animationListener=function(t){var i=this;switch(t.name){case"judgeWaiting":this.kill||this.idling?this.db.playAnimation("Enter"):this.db.playAnimation("Idle_Waiting");break;case"judgeIdle":this.kill?this.db.playAnimation("Dive"):this.db.playAnimation("Idle");break;case"burst":d.playArray(this.burstSounds,1,.1);break;case"splash":this.db.timeScale=1,d.playWaterSplash();break;case"die":u.destroyPooly(this.node);break;case"kill":this.targetLnC?(this.db.timeScale=1,this.worldPositionX=this.targetLnC.node.worldPosition.x,this.worldPositionY=this.targetLnC.plantPoint.worldPosition.y,this.node.setParent(this.targetLnC.inLane.prjLayer,!0),this.db.playAnimation("Kill",1/0),this.targetLnC.inLane.zombiePool().concat(this.targetLnC.inLane.hypnoZombiePool()).forEach((function(t){-1==i.whiteList.indexOf(t.ID)&&i.targetLnC.rec.judgeCrossRec(t.bodyRec)&&t.playDie()})),this.targetLnC.getAllPlants().forEach((function(t){t.kill()}))):u.destroyPooly(this.node)}},s(i,[{key:"kill",get:function(){return this._kill},set:function(t){this._kill=t,this.db.timeScale=t?3:1}}]),i}(h)).prototype,"burstSounds",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y=g))||y));a._RF.pop()}}}));

System.register("chunks:///_virtual/Bloomerang.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./CharacterManager.ts","./Character.ts","./Square.ts","./SoundRescourses.ts","./Projectiles.ts"],(function(t){var o,n,e,i,r,a,s,u,h,c,l,d,f,p,m,g,b,y,S,w;return{setters:[function(t){o=t.applyDecoratedDescriptor,n=t.inheritsLoose,e=t.initializerDefineProperty,i=t.assertThisInitialized,r=t.asyncToGenerator,a=t.regeneratorRuntime},function(t){s=t.cclegacy,u=t._decorator,h=t.AudioClip,c=t.Prefab,l=t.Node,d=t.Vec2,f=t.dragonBones},function(t){p=t.Plant,m=t.PlantProps},function(t){g=t.Rectangle},function(t){b=t.CharacterType},function(t){y=t.Square},function(t){S=t.sounds},function(t){w=t.ProjectileShootingFunctions}],execute:function(){var P,v,C,j,_,R,B,A,E,O,x,z,L,D,F,I,k,M,T,q,H,N;s._RF.push({},"d3578tct9RIlYHwJbYd9E0Y","Bloomerang",void 0);var Y=u.ccclass,U=u.property,W=function(t){function o(){for(var o,n=arguments.length,e=new Array(n),i=0;i<n;i++)e[i]=arguments[i];return(o=t.call.apply(t,[this].concat(e))||this).ShootInterval=2.7,o.ShootIntervalAdditional=.15,o.PierceCount=3,o.PlantfoodBoomerangCount=16,o.BoomerangType="boomerang",o}return n(o,t),o}(m),G=(P=Y("BloomerangSound"),v=U([h]),C=U([h]),j=U([h]),_=U([h]),P((A=o((B=function(){function t(){e(this,"catchSound",A,this),e(this,"shootSound",E,this),e(this,"foodSound",O,this),e(this,"blockSound",x,this)}var o=t.prototype;return o.playBlockSound=function(){S.playArray(this.blockSound,1,.1)},o.playFoodSound=function(){S.playArray(this.foodSound,1,.1)},o.playShootSound=function(){S.playArray(this.shootSound,1,.1)},o.playCatchSound=function(){S.playArray(this.catchSound,1)},t}()).prototype,"catchSound",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),E=o(B.prototype,"shootSound",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=o(B.prototype,"foodSound",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),x=o(B.prototype,"blockSound",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=B))||R);t("BloomerangPlant",(z=Y("BloomerangPlant"),L=U({type:Number,min:0}),D=U(c),F=U(G),I=U(l),z((T=o((M=function(t){function o(){for(var o,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(o=t.call.apply(t,[this].concat(r))||this)._objdataOwn=new W,e(o,"foodBoomerangMaxCount",T,i(o)),e(o,"boomerang",q,i(o)),e(o,"soundRes",H,i(o)),o.detector=null,o.prjDetecter=null,o.boomerangsShot=[],o.catching=!1,e(o,"boomerangSpawnpoint",N,i(o)),o.busy=0,o.shooting=!1,o}n(o,t);var s=o.prototype;return s._shoot=function(){var t=r(a().mark((function t(o,n){var e,i,r,s;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===o&&(o=!1),void 0===n&&(n=new d(8,0)),e=1,o&&(e+=.4*Math.random()-.2),i=this._objdataOwn.PierceCount,r=this._dmgScale,t.next=9,w.shootOnePea(this._objdataOwn.BoomerangType,this.fooding?new d(this.worldPositionX,this.worldPositionY):new d(this.boomerangSpawnpoint.worldPosition.x,this.worldPositionY),this.boomerangSpawnpoint.worldPosition.y-this.worldPosition.y,this.inLane.prjLayer,new d(n.x*e,n.y*e),b.zombie);case 9:(s=t.sent)&&(s.maxTargetNumber=i,s.master=this,s.judgeHaveEnemy=!0,this.fooding&&(s.judgeHaveEnemy=!1,s.maxTargetNumber=1/0),r&&s.setDamage(s.damage*r)),this.boomerangsShot.push(s);case 12:this.shooting=!1;case 13:case"end":return t.stop()}}),t,this)})));return function(o,n){return t.apply(this,arguments)}}(),s.specialPlantFoodEnd=function(){this.catching=!1,this.anmControl.playIdle(),this.busy=0},s.isUmbrella=function(){return!0},s.umbrella=function(){return!this.sheepend&&(this.shooting||this.anmControl.playAnimation("Block",1),this.soundRes.playBlockSound(),!0)},s.specialPlantFood=function(){var t=this;this.soundRes.playFoodSound(),this.anmControl.playAnimation("Food",-1),this.busy=1/0;var o=this._objdataOwn.PlantfoodBoomerangCount,n=0;this.schedule((function(){t._shoot(!0,new d(8,0)),t._shoot(!0,new d(-8,0)),t._shoot(!0,new d(0,5)),t._shoot(!0,new d(0,-5)),++n>=o&&t.foodEnd()}),2/o,o,.01)},s._shootPeaAnimation=function(){this.anmControl.playAnimation("Shoot",1,.1,Math.max(1.5/this.busy,1))},s.animationListener=function(t){"Shoot"==t.name?this._shoot():"ShootSound"==t.name?this.soundRes.playShootSound():t.name},s.setDetecter=function(){this.detector=g.createRectangleNodeSide(this.inLnC.node,y.SquareWidth*(9-this.cIndex),y.SquareHeight)},s.catchPrj=function(t){var o=this.boomerangsShot.indexOf(t);t.fade(),-1!=o&&this.boomerangsShot.splice(o,1),this.soundRes.playCatchSound(),this.shooting||this.fooding||this.catching||(this.catching=!0,this.anmControl.playAnimation("Catch",1,.1))},s.detectPrj=function(){var t=this;this.boomerangsShot.concat().forEach((function(o){o.master==t&&o.returned&&t.prjDetecter.judgeInRecP(o.worldPosition)&&t.catchPrj(o)}))},s.specialPlantDie=function(t){this.boomerangsShot.forEach((function(t){t.master=null}))},s.waterable=function(){return!this.shooting},s.onCommonshotHit=function(t){return(null==t?void 0:t.master)!=this||(this.catchPrj(t),!1)},s.specialPlantOnEnable=function(){var t=this;this.catching=!1,this.boomerangsShot=[],this.busy=0,this.anmControl.db.addEventListener(f.EventObject.LOOP_COMPLETE,(function(){t.shooting=!1,t.catching=!1}),this)},s.startShooting=function(){this.shooting=!0,this.busy=this._objdataOwn.ShootInterval+Math.random()*this._objdataOwn.ShootIntervalAdditional,this._cdScale&&(this.busy*=this._cdScale),this._shootPeaAnimation()},s.detectEnemy=function(){for(var t=this.inLane.zombiePool(),o=0;o<t.length;o++)if(this.detector.judgeCrossRec(t[o].bodyRecForShooter))return!0;for(var n=this.inLane.tombPool(),e=0;e<n.length;e++)if(this.detector.judgeCrossRec(n[e].bodyRec))return!0;return!1},s.specialPlantOnSquareChange=function(t,o){this.setDetecter()},s.specialPlantUpdate=function(t,o,n){this.busy>0&&(this.busy-=t),this.busy<=0&&(this.busy=0,n>0&&this.detectEnemy()&&this.startShooting()),this.prjDetecter=g.createRectangleCenter(this.worldPosition,.6*y.SquareWidth,.6*y.SquareHeight),this.detectPrj()},o}(p)).prototype,"foodBoomerangMaxCount",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 60}}),q=o(M.prototype,"boomerang",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=o(M.prototype,"soundRes",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new G}}),N=o(M.prototype,"boomerangSpawnpoint",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=M))||k));s._RF.pop()}}}));

System.register("chunks:///_virtual/BloomingHeart.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SoundRescourses.ts","./CabbagePult.ts"],(function(t){var e,n,i,a,r,o,s,l,u,c,p,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,a=t.assertThisInitialized,r=t.createClass},function(t){o=t.cclegacy,s=t._decorator,l=t.AudioClip},function(t){u=t.sounds},function(t){c=t.cabbagePultSound,p=t.CabbagePultPlant,f=t.CabbagePultProps}],execute:function(){var y,b,d,h,g,w,k,R,P,m,v,A,_,L,j,D;o._RF.push({},"a4f53XOABZJGLP0+yjns4Pr","BloomingHeart",void 0);var H=s.ccclass,z=s.property,B=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))||this).DefenceRateList=[.9],e.DefenceRateListPlantfood=[.8,.8,.8],e}return n(e,t),e}(f),O=(y=H("BloomingHeartSound"),b=z([l]),d=z([l]),h=z([l]),g=z([l]),y((R=e((k=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r))||this,i(e,"reload",R,a(e)),i(e,"wink",P,a(e)),i(e,"kiss",m,a(e)),i(e,"kiss_hit",v,a(e)),e}n(e,t);var r=e.prototype;return r.playReload=function(){u.playArray(this.reload,1,NaN,.5)},r.playWink=function(){u.playArray(this.wink,1)},r.playKiss=function(){u.playArray(this.kiss,1)},r.playKissHit=function(){u.playArray(this.kiss_hit,1)},e}(c)).prototype,"reload",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),P=e(k.prototype,"wink",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),m=e(k.prototype,"kiss",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=e(k.prototype,"kiss_hit",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),w=k))||w);t("BloomingHeartPlant",(A=H("BloomingHeartPlant"),_=z(O),A((D=e((j=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r))||this,i(e,"soundRes",D,a(e)),e._objdataOwn=new B,e}n(e,t);var o=e.prototype;return o.onObjdataSet=function(t,e){},o.csFunc=function(t,e){t&&(t.DefenceRateList=(this.fooding?this.objdataOwn.DefenceRateListPlantfood:this.objdataOwn.DefenceRateList).concat())},o.specialAnimationListener=function(t){switch(t.name){case"reload":this.soundRes.playReload();break;case"kiss":this.soundRes.playKiss();break;case"kiss_hit":this.soundRes.playKissHit()}},r(e,[{key:"objdataOwn",get:function(){return this._objdataOwn}}]),e}(p)).prototype,"soundRes",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new O}}),L=j))||L));o._RF.pop()}}}));

System.register("chunks:///_virtual/bloomingheartShot.ts",["./rollupPluginModLoBabelHelpers.js","cc","./commonShot.ts","./SoundRescourses.ts","./NodePools.ts","./ParticleSelfdestroy.ts"],(function(t){var i,e,o,n,a,r,l,s,c,u,f,h,m;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,l=t.Prefab,s=t.AudioClip,c=t.Vec3},function(t){u=t.commonShot},function(t){f=t.sounds},function(t){h=t.instantiatePooly},function(t){m=t.ParticleSelfdestroy}],execute:function(){var p,d,g,y,H,b,P,S,B,w,v,L,D;a._RF.push({},"da4e5IFfqtP6KEtyyQf3HDY","bloomingheartShot",void 0);var z=r.ccclass,R=r.property;t("bloomingheartShot",(p=z("bloomingheartShot"),d=R(l),g=R(l),y=R([s]),H=R([s]),b=R([s]),p((B=i((S=function(t){function i(){for(var i,e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return(i=t.call.apply(t,[this].concat(a))||this).DefenceRateList=[],o(i,"BloomingHeartBuffPar",B,n(i)),o(i,"BloomingHeartPar",w,n(i)),o(i,"HitSmallSounds",v,n(i)),o(i,"HitMediumSounds",L,n(i)),o(i,"HitBigSounds",D,n(i)),i}e(i,t);var a=i.prototype;return a.onZombieHit=function(t){this.playBloomingHeartParticle(t.BloomingHeartDefenceRateList.length)},a.beforeZombieHit=function(t){t.pushBloomingHeartDefenceRateList(this.DefenceRateList,this.BloomingHeartBuffPar)},a.characterOnEnable=function(){this.initialize(),this.DefenceRateList=[]},a.onTombHit=function(t){this.playBloomingHeartParticle(0)},a.onPlantHit=function(t){this.playBloomingHeartParticle(0)},a.splat=function(t){this.playBloomingHeartParticle(0),this.fade()},a.specialOnGroundHit=function(t){return this.playBloomingHeartParticle(0),!0},a.playBloomingHeartParticle=function(t){if(this.inLane){var i="Play0",e=this.HitSmallSounds;switch(t){case 0:case 1:i="Play0",e=this.HitMediumSounds;break;case 2:i="Play1",e=this.HitMediumSounds;break;default:i="Play2",e=this.HitBigSounds}f.playArray(e,1,NaN,.4);var o=h(this.BloomingHeartPar);o.parent=this.inLane.prjLayer,o.worldPosition=this.worldPosition.toVec3();var n=this._scaleForCharacter;o.worldScale=new c(n,Math.abs(n),1),o.getComponent(m).db.playAnimation(i,1/0)}},i}(u)).prototype,"BloomingHeartBuffPar",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=i(S.prototype,"BloomingHeartPar",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=i(S.prototype,"HitSmallSounds",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=i(S.prototype,"HitMediumSounds",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=i(S.prototype,"HitBigSounds",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),P=S))||P));a._RF.pop()}}}));

System.register("chunks:///_virtual/Blover.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./FrontYard.ts","./ArrayGet.ts","./CharacterManager.ts","./SoundRescourses.ts"],(function(n){var t,o,i,r,a,e,l,c,s,u,d,h,p;return{setters:[function(n){t=n.applyDecoratedDescriptor,o=n.inheritsLoose,i=n.initializerDefineProperty,r=n.assertThisInitialized},function(n){a=n.cclegacy,e=n._decorator,l=n.AudioClip},function(n){c=n.Plant,s=n.PlantProps},function(n){u=n.FrontYard},function(n){d=n.ArrayGet},function(n){h=n.PlantPool},function(n){p=n.sounds}],execute:function(){var f,w,y,b,m,v,S;a._RF.push({},"1f0c1xbLLRKlLjI78K3hZz+","Blover",void 0);var g=e.ccclass,P=e.property,A=function(n){function t(){for(var t,o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return(t=n.call.apply(n,[this].concat(i))||this).BlowDuration=3,t}return o(t,n),t}(s);n("BloverPlant",(f=g("BloverPlant"),w=P([l]),y=P([l]),f((v=t((m=function(n){function t(){for(var t,o=arguments.length,a=new Array(o),e=0;e<o;e++)a[e]=arguments[e];return(t=n.call.apply(n,[this].concat(a))||this)._objdataOwn=new A,i(t,"blowSound",v,r(t)),i(t,"windSound",S,r(t)),t.blowing=!1,t}o(t,n);var a=t.prototype;return a.specialPlantOnEnable=function(){this.invincible=!0,this.eaterDetectable=!1,this.smasherDetectable=!1,this.foodable=!1,this.anmControl.IdleAnim="Blowing",this.anmControl.RandomAnim=[],this.anmControl.playAnimation("BlowStart",1),this.blowing=!1},a.playBlowSound=function(){p.playArray(this.blowSound,1,.1),p.playArray(this.windSound,1,NaN,.5)},a.specialPlantUpdateForce=function(n,t,o){this.blowing&&o&&(u.windy=u.windy>.1?u.windy:.1)},a.animationListener=function(n){var t=this;if("blowStart"==n.name){this.playBlowSound(),this.blowing=!0,this._cdScale&&this.scheduleOnce((function(){t.die(),t.anmControl.playAnimation("Death",1,0)}),this._objdataOwn.BlowDuration);var o=d.randomize(h.pool()),i=0;o.forEach((function(n,t){i>=4||n.blowStart()&&i++}))}},t}(c)).prototype,"blowSound",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),S=t(m.prototype,"windSound",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),b=m))||b));a._RF.pop()}}}));

System.register("chunks:///_virtual/BodyGrouper.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var t,o,e,i,r,a,l,u,s,c;return{setters:[function(n){t=n.applyDecoratedDescriptor,o=n.inheritsLoose,e=n.initializerDefineProperty,i=n.assertThisInitialized,r=n.createClass},function(n){a=n.cclegacy,l=n._decorator,u=n.dragonBones,s=n.math,c=n.Component}],execute:function(){var d,h,m,p,f,v,y,g,b,A,S;a._RF.push({},"58139gaPaBD5JtqBrmcDFyc","BodyGrouper",void 0);var D=l.ccclass,w=l.property;n("BodyGrouper",(d=D("BodyGrouper"),h=w(String),m=w(String),p=w(String),f=w(String),d((g=t((y=function(n){function t(){for(var t,o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return t=n.call.apply(n,[this].concat(r))||this,e(t,"IdleAnm",g,i(t)),e(t,"WalkAnm",b,i(t)),e(t,"DeathAnm",A,i(t)),e(t,"EatAnm",S,i(t)),t.armSlots=[],t.handSlots=[],t.headSlots=[],t.zombie=void 0,t.db=void 0,t}o(t,n);var a=t.prototype;return a.showArm=function(n){void 0===n&&(n=!0),this.handSlots.forEach((function(t){t._setDisplayIndex(n?0:-1)})),this.armSlots.forEach((function(t){t._setDisplayIndex(n?-1:0)}))},a.showHead=function(n){void 0===n&&(n=!0),this.headSlots.forEach((function(t){t._setDisplayIndex(n?0:-1)}))},a.followShade=function(){var n;null==(n=this.zombie)||n.followShade()},a.setColor=function(n){var t=255-n.r,o=255-n.g,e=255-n.b,i=255-n.a,r=this.getComponent(u.ArmatureDisplay).color,a=r.r,l=r.g,c=r.b,d=r.a;new s.Color(a-t,l-o,c-e,d-i)},a.playAnimation=function(n,t,o,e){var i;void 0===t&&(t=1/0),void 0===o&&(o=0),void 0===e&&(e=0);var r=null==(i=this.db)||null==(i=i.armature())?void 0:i.animation;-1!=(null==r?void 0:r.animationNames.indexOf(n))&&(o>0?null==r||r.fadeIn(n,o,t):null==r||r.gotoAndPlayByProgress(n,e,t),this.followShade())},a.onEnable=function(){this.setColor(new s.Color(255,255,255,255))},a.hitFlash=function(){},a.onLoad=function(){var n=this;this.getComponent(u.ArmatureDisplay).armature().getSlots().forEach((function(t){t.name.includes("_HEAD")?n.headSlots.push(t):t.name.includes("_HAND")?n.handSlots.push(t):t.name.includes("_ARM")&&n.armSlots.push(t)}))},r(t,[{key:"currentAnimationName",get:function(){var n,t=null==(n=this.db)?void 0:n.armature(),o=null==t?void 0:t.animation,e=null==o?void 0:o.lastAnimationState;return null==e?void 0:e.name}}]),t}(c)).prototype,"IdleAnm",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"Idle"}}),b=t(y.prototype,"WalkAnm",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"Walk"}}),A=t(y.prototype,"DeathAnm",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"Death"}}),S=t(y.prototype,"EatAnm",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"Eat"}}),v=y))||v));a._RF.pop()}}}));

System.register("chunks:///_virtual/BonkChoy.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./CharacterManager.ts","./Square.ts","./SoundRescourses.ts"],(function(t){var e,o,n,a,i,r,s,c,l,h,u,d,m,f,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,n=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){i=t.cclegacy,r=t._decorator,s=t.AudioClip,c=t.macro,l=t.Vec2},function(t){h=t.Plant,u=t.PlantProps},function(t){d=t.ZombieDamageDetails,m=t.Rectangle},function(t){f=t.Square},function(t){b=t.sounds}],execute:function(){var y,p,g,S,D,k,v,P,R,w,A,C,_,L;i._RF.push({},"3c6a9Ol/9RMhZdXe+1G4AxT","BonkChoy",void 0);var E=r.ccclass,N=r.property,O=function(t){function e(){for(var e,o=arguments.length,n=new Array(o),a=0;a<o;a++)n[a]=arguments[a];return(e=t.call.apply(t,[this].concat(n))||this).Damage=15,e.DamageHeavy=30,e.DamagePlantfood=60,e.PlantfoodHitCount=25,e.ZombieDetectorWidth=4,e.TombDetectorWidth=3,e.AttackInterval=.3,e}return o(e,t),e}(u),j=(y=E("bonkChoySound"),p=N(s),g=N(s),S=N(s),y((v=e((k=function(){function t(){n(this,"attackAirSound",v,this),n(this,"attackGoalSound",P,this),n(this,"defeatSound",R,this)}var e=t.prototype;return e.playAttackAir=function(){b.playOneShot(this.attackAirSound,1,NaN,.2)},e.playAttackGoal=function(){b.playOneShot(this.attackGoalSound,1,NaN,.2)},e.playDefeatSound=function(){b.playOneShot(this.defeatSound,1,NaN,.2)},t}()).prototype,"attackAirSound",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=e(k.prototype,"attackGoalSound",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=e(k.prototype,"defeatSound",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=k))||D);t("BonkChoyPlant",(w=E("BonkChoy"),A=N(j),w((L=e((_=function(t){function e(){for(var e,o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))||this)._objdataOwn=new O,n(e,"soundRes",L,a(e)),e.foodPunch=0,e.detector=void 0,e.tombDetector=void 0,e.foodDetecter=void 0,e.busy=24,e.bonking=!1,e}o(e,t);var i=e.prototype;return i.specialPlantFood=function(){this.faceNormal(),this.anmControl.playAnimation("FoodStart",c.REPEAT_FOREVER,0,1),this.foodPunch=0,this.busy=1/0},i.waterable=function(){return!this.bonking},i.specialPlantFoodEnd=function(){this.anmControl.playIdle(),this.busy=0},i.attackAnimation=function(){var t=this._objdataOwn.DamageHeavy;this._dmgScale&&(t*=this._dmgScale);var e=Math.max(1,.3/this.busy),o=this.detectEnemy(),n=this.detectTomb();o?(o.worldPositionX<this.worldPosition.x?this.faceNormal(-1):this.faceNormal(),o.leftHealthForBonkChoy()<t?this.anmControl.playAnimation("Defeat",1,0,e):this.anmControl.playAnimation("Attack",1,0,e)):n&&(n.worldPositionX<this.worldPositionX?this.faceNormal(-1):this.faceNormal(),n.health<t?this.anmControl.playAnimation("Defeat",1,0,e):this.anmControl.playAnimation("Attack",1,0,e))},i.specialPlantOnSquareChange=function(t,e){this.setDetector()},i.animationListener=function(t){if("attackAir"==t.name&&this.soundRes.playAttackAir(),"attackGoal"==t.name){var e=this._objdataOwn.Damage;this._dmgScale&&(e*=this._dmgScale);var o=this.detectEnemy(),n=this.detectTomb(),a=new d(e,!0,!0,!0,new l(20*this.scale,0));a.bugKiller=!0,o?(o.dealDamage(a),this.soundRes.playAttackGoal()):n&&(n.dealDamage(a),this.soundRes.playAttackGoal()),this.bonking=!1}if("attackHeavy"==t.name){var i=this._objdataOwn.DamageHeavy;this._dmgScale&&(i*=this._dmgScale);var r=this.detectEnemy(),s=this.detectTomb(),c=new d(i,!0,!0,!0,new l(12*this.scale,20));c.bugKiller=!0,r?(r.dealDamage(c),this.soundRes.playDefeatSound()):s&&(s.dealDamage(c),this.soundRes.playDefeatSound()),this.bonking=!1}if("foodAttack"==t.name){var h=this._objdataOwn.DamagePlantfood;this._dmgScale&&(h*=this._dmgScale);var u=new d(h,!0,!0,!0,null);u.bugKiller=!0,this.soundRes.playAttackAir(),this.detectFoodEnemy().forEach((function(t){t.dealDamage(u)})),this.detectFoodTomb().forEach((function(t){t.dealDamage(u)})),++this.foodPunch>=this._objdataOwn.PlantfoodHitCount&&this.foodEnd()}},i.faceNormal=function(t){void 0===t&&(t=1),t<0?this.scale=-1:t>0&&(this.scale=1)},i.setDetector=function(){this.detector=m.createRectangleNodeCenter(this.inLnC.node,this._objdataOwn.ZombieDetectorWidth*f.SquareWidth,f.SquareHeight),this.tombDetector=m.createRectangleNodeCenter(this.inLnC.node,this._objdataOwn.TombDetectorWidth*f.SquareWidth,f.SquareHeight),this.foodDetecter=m.createRectangleNodeCenter(this.inLnC.node,3*f.SquareWidth,3*f.SquareHeight)},i.faceToNormal=function(){this.faceNormal(1)},i.specialPlantOnEnable=function(){this.busy=0},i.animationOnComplete=function(){this.faceToNormal()},i.detectFoodEnemy=function(){for(var t=[],e=this.inLane.zombiePool().concat(this.inLane.UpperLane.zombiePool(),this.inLane.LowerLane.zombiePool()),o=0;o<e.length;o++)this.foodDetecter.judgeCrossRec(e[o].bodyRecForShooter)&&-1==t.indexOf(e[o])&&t.push(e[o]);return t},i.detectFoodTomb=function(){for(var t=[],e=this.inLane.tombPool().concat(this.inLane.UpperLane.tombPool(),this.inLane.LowerLane.tombPool()),o=0;o<e.length;o++)this.foodDetecter.judgeCrossRec(e[o].bodyRec)&&t.push(e[o]);return t},i.detectTomb=function(){var t=this,e=null,o=1/0;return this.inLane.tombPool().forEach((function(n){var a=n.node.worldPosition.x;t.tombDetector.judgeCrossRec(n.bodyRec)&&a<o&&(e=n,o=a)})),e},i.haveEnemy=function(){var t=this,e=!1;(e=this.inLane.zombiePool().some((function(e){return t.detector.judgeCrossRec(e.bodyRecForShooter)})))||(e=this.inLane.tombPool().some((function(e){return t.tombDetector.judgeCrossRec(e.bodyRec)})));return e},i.detectEnemy=function(){var t=this,e=null,o=this.inLane.zombiePool(),n=1/0;return o.forEach((function(o){var a=o.bodyRecForShooter.prjX().x;t.detector.judgeCrossRec(o.bodyRecForShooter)&&a<n&&(e=o,n=a)})),e},i.startBonking=function(){this.bonking=!0,this.busy=this._objdataOwn.AttackInterval,this._cdScale&&(this.busy*=this._cdScale),this.attackAnimation()},i.specialPlantUpdate=function(t,e,o){this.busy>0&&(this.busy-=t),this.busy<=0&&!this.fooding&&t&&(this.busy=0,this.haveEnemy()&&this.startBonking())},e}(h)).prototype,"soundRes",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new j}}),C=_))||C));i._RF.pop()}}}));

System.register("chunks:///_virtual/boomerang.ts",["./rollupPluginModLoBabelHelpers.js","cc","./commonShot.ts","./CharacterManager.ts","./Square.ts","./Character.ts"],(function(e){var t,n,r,i,a,o,s,c,u,h;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,r=e._decorator,i=e.Vec2,a=e.tween},function(e){o=e.commonShot},function(e){s=e.LineSegment,c=e.ZombieDamageDetails},function(e){u=e.Square},function(e){h=e.CharacterType}],execute:function(){var d;n._RF.push({},"b4ba8bZy4pFt52T8XYiyO5U","boomerang",void 0);var l=r.ccclass;r.property,e("boomerangEnemy",(function(e,t){void 0===t&&(t=!1),this.node=null,this.damageDealt=!1,this.node=e,this.damageDealt=t})),e("boomerang",l("boomerang")(d=function(e){function n(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).contactingEnemies=[],t.targets=null,t.maxTargetNumber=3,t.returned=!1,t._returned=!1,t.master=void 0,t.returning=!1,t.judgeHaveEnemy=!0,t}t(n,e);var r=n.prototype;return r.full=function(){return this.targets.length>=this.maxTargetNumber},r.splat=function(e){if(e){this.playParticle(),this.playPopSound();var t=this.targets.indexOf(e.node);this._returned?this.targets.splice(t,1):this.targets.push(e.node)}},r.haveEnemy=function(e){var t=this,n=!1,r=s.createLineVec(e,new i(9*u.SquareWidth,0));return this.inLane.zombiePool().forEach((function(e){n||-1==t.targets.indexOf(e.node)&&r.judgeCrossRec(e.bodyRec)&&(n=!0)})),!!n||(this.inLane.tombPool().forEach((function(e){n||-1==t.targets.indexOf(e.node)&&r.judgeCrossRec(e.bodyRec)&&(n=!0)})),n)},r.returnStart=function(){var e=this;if(!this.returning&&!this.returned){var t=this.linearVelocity;this.returning=!0;a(this).to(.3,{linearVelocity:new i(.001*-t.x,.001*-t.y)}).call((function(){e.contactingEnemies.forEach((function(e){e.damageDealt=!1})),e.returned=!0,e.judgeHaveEnemy?e._returned=!0:(e.returning=!1,e.targets=[]),e.popWhenStatic=!0})).to(.3,{linearVelocity:new i(-t.x,-t.y)}).start()}},r.characterOnEnable=function(){this.initialize(),this.popWhenStatic=!1,this.contactingEnemies=[],this.targets=[],this.returned=!1,this._returned=!1,this.returning=!1},r.specialOnSquareChange=function(e,t){-1!=t.cIndex&&9!=t.cIndex&&-1!=t.lIndex&&5!=t.lIndex||this.returnStart(),!this.judgeHaveEnemy||!this.full()&&this.haveEnemy(this.realWorldPosition)||this.returnStart()},r.characterUpdate=function(e){this.dead||(this.rotate(),this.hitBorderOrGround(e),this.move(e),this.enemyType==h.zombie?this.detectEnemy(e):this.detectEnemyNormal(e))},r.detectEnemy=function(e){var t,n,r=this;if(this.detectEnemyOn&&(!this.full()||this.returned)){var i=new c(this.damage,this.armorProtection,this.armorKnockSound,this.bodyKnockSound,null,this.damageType);null==(t=this.inLane)||t.zombiePool().forEach((function(e){if(!r.dead){var t=r.targets.indexOf(e.node);(!r._returned&&-1==t&&!r.full()||r._returned&&-1!=t)&&e.bodyRec.judgeCrossRec(r.bodyRec())&&e.commonShotPopOnTouch(r)&&(r.dealDamageToTarget(e),r.playParticle(),r.playPopSound(),r._returned?r.targets.splice(t,1):r.targets.push(e.node))}})),null==(n=this.inLane)||n.tombPool(this.enemyType==h.plant?1:0).forEach((function(e){if(!r.dead){var t=r.targets.indexOf(e.node);(!r._returned&&-1==t||r._returned&&-1!=t)&&e.bodyRec.judgeCrossRec(r.bodyRec())&&(e.dealDamage(i),r.playParticle(),r.playPopSound(),r._returned?r.targets.splice(t,1):r.targets.push(e.node))}}))}},n}(o))||d);n._RF.pop()}}}));

System.register("chunks:///_virtual/boulderPrj.ts",["./rollupPluginModLoBabelHelpers.js","cc","./commonShot.ts","./SoundRescourses.ts","./levelController.ts"],(function(o){var e,i,t,n,r,l,a,s,c,u;return{setters:[function(o){e=o.applyDecoratedDescriptor,i=o.inheritsLoose,t=o.initializerDefineProperty,n=o.assertThisInitialized},function(o){r=o.cclegacy,l=o._decorator,a=o.AudioClip},function(o){s=o.commonShot},function(o){c=o.sounds},function(o){u=o.LevelPlay}],execute:function(){var d,h,y,p,b,f,S,L,P;r._RF.push({},"ba299eQAN9MJZ9POES3D5qg","boulderPrj",void 0);var g=l.ccclass,m=l.property;o("boulderPrj",(d=g("boulderPrj"),h=m([a]),y=m(a),p=m(a),d((S=e((f=function(o){function e(){for(var e,i=arguments.length,r=new Array(i),l=0;l<i;l++)r[l]=arguments[l];return(e=o.call.apply(o,[this].concat(r))||this).hitsFloorWhenRecHitInsteadOfHeightZero=!0,t(e,"rollStartSounds",S,n(e)),t(e,"rollLoopSound",L,n(e)),t(e,"rollEndSound",P,n(e)),e.shaked=!1,e}i(e,o);var r=e.prototype;return r.detectEnemy=function(o){var e=this;if(this.inLane){var i=this.bodyRec();this.inLane.zombiePool().concat(this.inLane.hypnoZombiePool()).forEach((function(o){i.judgeCrossRec(o.bodyRec)&&o.meetMower(o.worldPositionX>e.worldPositionX)})),this.inLane.plantPool().forEach((function(o){i.judgeCrossRec(o.bodyRec)&&o.throwAway(o.worldPositionX<e.worldPositionX,null)})),this.inLane.tombPool().forEach((function(o){i.judgeCrossRec(o.bodyRec)&&o.die(!0)}))}},r.hitFloor=function(o,e){if(this.bodyLinearVelocity<0){var i=this.bodyLinearVelocity;this.bodyLinearVelocity*=-.2,this.bodyLinearVelocity<1.6&&(this.bodyLinearVelocity=0,this.gravity=0),this.shaked||(this.shaked=!0,u.shakeScreen()),this.playPopSound(),this.linearVelocity.y+=.05*i}else 0==this.bodyLinearVelocity&&c.playOneShot(this.rollLoopSound,1,NaN,.9)},r.onFaded=function(){c.playOneShot(this.rollEndSound,1,.1)},r.characterOnEnable=function(){this.shaked=!1,this.initialize(),c.playArray(this.rollStartSounds,1,.2)},e}(s)).prototype,"rollStartSounds",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=e(f.prototype,"rollLoopSound",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=e(f.prototype,"rollEndSound",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=f))||b));r._RF.pop()}}}));

System.register("chunks:///_virtual/BowlingBulb.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./SoundRescourses.ts","./CharacterManager.ts","./Square.ts","./Character.ts","./Projectiles.ts"],(function(t){var o,a,e,n,i,l,s,r,d,h,u,c,b,f,p,g,L,y;return{setters:[function(t){o=t.applyDecoratedDescriptor,a=t.inheritsLoose,e=t.initializerDefineProperty,n=t.assertThisInitialized,i=t.createClass,l=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){r=t.cclegacy,d=t._decorator,h=t.AudioClip,u=t.Vec2},function(t){c=t.Plant,b=t.PlantProps},function(t){f=t.sounds},function(t){p=t.Rectangle},function(t){g=t.Square},function(t){L=t.CharacterType},function(t){y=t.ProjectileShootingFunctions}],execute:function(){var S,m,w,_,B,v,O,P,C,R,A,F,I,j,k,x,D,H;r._RF.push({},"c9395RyK+hMgrP4gFM2msJW","BowlingBulb",void 0);var E=d.ccclass,z=d.property,M=function(t){function o(){for(var o,a=arguments.length,e=new Array(a),n=0;n<a;n++)e[n]=arguments[n];return(o=t.call.apply(t,[this].concat(e))||this).AmmoRefreshTime=4,o.RollOrder="012",o.LoadOrder="012",o.Bowling0="bowling0",o.Bowling1="bowling1",o.Bowling2="bowling2",o.BowlingPlantfood="bowling_pf",o}return a(o,t),o}(b),q=(S=E("BowlingBulbSound"),m=z(h),w=z(h),_=z([h]),B=z([h]),v=z([h]),S((C=o((P=function(){function t(){e(this,"foodLoop",C,this),e(this,"foodStart",R,this),e(this,"foodShoot",A,this),e(this,"load",F,this),e(this,"preshoot",I,this)}var o=t.prototype;return o.playFoodLoop=function(){f.playOneShot(this.foodLoop,1,NaN,.9)},o.playFoodStart=function(){f.playOneShot(this.foodStart,1,.1)},o.playFoodShoot=function(){f.playArray(this.foodShoot,1,.1)},o.playLoad=function(){f.playArray(this.load,1,.2)},o.playPreshoot=function(){f.playArray(this.preshoot,1,NaN,.5)},t}()).prototype,"foodLoop",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=o(P.prototype,"foodStart",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=o(P.prototype,"foodShoot",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=o(P.prototype,"load",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),I=o(P.prototype,"preshoot",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=P))||O);t("BowlingBulbPlant",(j=E("BowlingBulbPlant"),k=z(q),j((H=o((D=function(t){function o(){for(var o,a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return o=t.call.apply(t,[this].concat(i))||this,e(o,"soundRes",H,n(o)),o._objdataOwn=new M,o.shot=!0,o.ball0Slots=[],o.ball0HeadSlots=[],o.ball1Slots=[],o.ball1HeadSlots=[],o.ball2Slots=[],o.ball2HeadSlots=[],o._ball0Loaded=!1,o._ball1Loaded=!1,o._ball2Loaded=!1,o.shooting=!1,o.reloadCD=0,o.detector=new p,o}a(o,t);var r=o.prototype;return r.onObjdataSet=function(t,o){var a=["012","021","102","120","201","210"];-1==a.indexOf(o.RollOrder)&&(o.RollOrder="012"),-1==a.indexOf(o.LoadOrder)&&(o.LoadOrder="012")},r._shoot=function(){var t=l(s().mark((function t(o){var a,e,n,i,l;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:void 0===o&&(o=0),e=this.objdataOwn.Bowling0,n=0,t.t0=o,t.next=0===t.t0?6:1===t.t0?10:2===t.t0?14:18;break;case 6:return e=this.objdataOwn.Bowling0,n=20,this.ball0Loaded=!1,t.abrupt("break",23);case 10:return e=this.objdataOwn.Bowling1,n=-20,this.ball1Loaded=!1,t.abrupt("break",23);case 14:return e=this.objdataOwn.Bowling2,n=0,this.ball2Loaded=!1,t.abrupt("break",23);case 18:e=this.objdataOwn.BowlingPlantfood,n=0,this.ball0Loaded=!0,this.ball1Loaded=!0,this.ball2Loaded=!0;case 23:return i=null==(a=this.plantInLnC)?void 0:a.havePeaBuff,this.shot=!0,t.next=27,y.shootOnePea(e,new u(this.worldPositionX+n,this.worldPositionY),20,this.inLane.prjLayer,new u(6,0),L.zombie);case 27:(l=t.sent).JudgesZombieBodyRecForShooter=!0,i&&l.addPeaBuff();case 30:case"end":return t.stop()}}),t,this)})));return function(o){return t.apply(this,arguments)}}(),r.specialPlantOnLoad=function(){var t=this;this.db.armature().getSlots().forEach((function(o){o.name.includes("_B0_M")?t.ball0Slots.push(o):o.name.includes("_B0_H")?t.ball0HeadSlots.push(o):o.name.includes("_B1_M")?t.ball1Slots.push(o):o.name.includes("_B1_H")?t.ball1HeadSlots.push(o):o.name.includes("_B2_M")?t.ball2Slots.push(o):o.name.includes("_B2_H")&&t.ball2HeadSlots.push(o)}))},r.animationListener=function(t){switch(t.name){case"Shoot0":this._shoot(0);break;case"Shoot1":this._shoot(1);break;case"Shoot2":this._shoot(2);break;case"ShootFood":this._shoot(3);break;case"foodEnd":this.foodEnd();break;case"FSSound":this.soundRes.playFoodShoot()}},r.replantable=function(){return!this.haveAllBalls},r.replant=function(){this.health=this.toughness,this.ball0Loaded=this.ball1Loaded=this.ball2Loaded=!0,this.shot&&(this.anmControl.playIdle(),this.shooting=!1)},r.animationOnComplete=function(){this.shooting=!1},r.waterable=function(){return!this.shooting},r.specialPlantFoodEnd=function(){this.anmControl.playAnimation("Load0",1),this.anmControl.IdleAnim="Idle"},r.shootAnimation=function(){if(this.haveBall){for(var t=this.objdataOwn.RollOrder,o="0",a=0;a<t.length&&!this["ball"+(o=t[a])+"Loaded"];a++);this.shot=!1;var e="Shoot"+o;this.anmControl.playAnimation(e,1,0,1),this.shooting=!0,this.soundRes.playPreshoot()}},r.reloadAnimation=function(){if(!this.haveAllBalls){for(var t=this.objdataOwn.RollOrder,o="0",a=0;a<t.length&&this["ball"+(o=t[a])+"Loaded"];a++);this["ball"+o+"Loaded"]=!0;var e="Load"+o;this.anmControl.playAnimation(e,1,.1,1),this.shooting=!0,this.soundRes.playLoad()}},r.specialPlantOnEnable=function(){this.ball0Loaded=!0,this.ball1Loaded=!0,this.ball2Loaded=!0},r.specialPlantFood=function(t){this.ball0Loaded=!0,this.ball1Loaded=!0,this.ball2Loaded=!0,this.reloadCD=0,this.anmControl.playAnimation("FoodStart",1,0,1),this.soundRes.playFoodStart(),this.shooting=!0,this.anmControl.IdleAnim="FoodLoop"},r.specialPlantUpdateForce=function(t,o,a){this.reloadCD>0&&(this.reloadCD-=t),this.reloadCD<=0&&(this.shooting||this.dead||(this.reloadCD=this.objdataOwn.AmmoRefreshTime*this._cdScale,this.reloadAnimation())),this.fooding&&this.soundRes.playFoodLoop()},r.specialPlantOnSquareChange=function(t,o){this.detector=p.createRectangleNodeSide(o.node,g.SquareWidth*(9-o.cIndex),g.SquareHeight)},r.detectEnemies=function(){for(var t=this.inLane.zombiePool(),o=0;o<t.length;o++)if(this.detector.judgeCrossRec(t[o].bodyRecForShooter))return!0;for(var a=this.inLane.tombPool(),e=0;e<a.length;e++)if(this.detector.judgeCrossRec(a[e].bodyRec))return!0;return!1},r.specialPlantUpdate=function(t,o,a){a>0&&this.haveBall&&!this.shooting&&(this.detectEnemies()&&(this.fooding?(this.shooting=!0,this.anmControl.playAnimation("FoodShoot",3,.1,1)):this.shootAnimation()))},i(o,[{key:"objdataOwn",get:function(){return this._objdataOwn}},{key:"ball0Loaded",get:function(){return this._ball0Loaded},set:function(t){var o;(this.ball0Slots.forEach((function(o){o._setDisplayIndex(t?0:-1)})),this.ball0HeadSlots.forEach((function(o){o._setDisplayIndex(t?-1:0)})),t!=this._ball0Loaded)&&(this._ball0Loaded=t,null==(o=this.plantInLnC)||o.readIndex())}},{key:"ball1Loaded",get:function(){return this._ball1Loaded},set:function(t){var o;(this.ball1Slots.forEach((function(o){o._setDisplayIndex(t?0:-1)})),this.ball1HeadSlots.forEach((function(o){o._setDisplayIndex(t?-1:0)})),t!=this._ball1Loaded)&&(this._ball1Loaded=t,null==(o=this.plantInLnC)||o.readIndex())}},{key:"ball2Loaded",get:function(){return this._ball2Loaded},set:function(t){var o;(this.ball2Slots.forEach((function(o){o._setDisplayIndex(t?0:-1)})),this.ball2HeadSlots.forEach((function(o){o._setDisplayIndex(t?-1:0)})),this._ball2Loaded=t,t!=this._ball2Loaded)&&(this._ball2Loaded=t,null==(o=this.plantInLnC)||o.readIndex())}},{key:"haveBall",get:function(){return this.ball1Loaded||this.ball2Loaded||this.ball0Loaded}},{key:"haveAllBalls",get:function(){return this.ball1Loaded&&this.ball2Loaded&&this.ball0Loaded}}]),o}(c)).prototype,"soundRes",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new q}}),x=D))||x));r._RF.pop()}}}));

System.register("chunks:///_virtual/bowlingExplodeONut.ts",["./rollupPluginModLoBabelHelpers.js","cc","./bowlingWallNut.ts"],(function(t){var o,n,e,l;return{setters:[function(t){o=t.inheritsLoose},function(t){n=t.cclegacy,e=t._decorator},function(t){l=t.bowlingWallNut}],execute:function(){var i;n._RF.push({},"a17128yr81NPY+vBlXRqsvg","bowlingExplodeONut",void 0);var u=e.ccclass;e.property,t("bowlingExplodeONut",u("bowlingExplodeONut")(i=function(t){function n(){return t.apply(this,arguments)||this}return o(n,t),n.prototype.turnVelocity=function(){this.pop(),this.dealSplashDamage()},n}(l))||i);n._RF.pop()}}}));

System.register("chunks:///_virtual/bowlingInfiNut.ts",["./rollupPluginModLoBabelHelpers.js","cc","./bowlingWallNut.ts","./Zombies.ts","./LnC.ts"],(function(n){var t,i,e,o,r,u,s,c;return{setters:[function(n){t=n.inheritsLoose,i=n.asyncToGenerator,e=n.regeneratorRuntime},function(n){o=n.cclegacy,r=n._decorator},function(n){u=n.bowlingWallNut},function(n){s=n.ZombieEnum},function(n){c=n.LnCSpawnZombieStyleEnum}],execute:function(){var a;o._RF.push({},"7398cD8L+hDzKVuI4BVSCtF","bowlingInfiNut",void 0);var l=r.ccclass;r.property,n("bowlingInfiNut",l("bowlingInfiNut")(a=function(n){function o(){return n.apply(this,arguments)||this}t(o,n);var r=o.prototype;return r.spawnShield=function(){var n=i(e().mark((function n(){return e().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.inLnC.SpawnZombie(s.future_infinut_shield,c.directPut);case 2:n.sent.forEach((function(n){n.coloredWhenHypnotized=!1,n.hypnotized=!0}));case 4:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}(),r.turnVelocity=function(){var n;null!=(n=this.inLnC)&&n.isInLawn()&&(this.inLnC.zombieShields.forEach((function(n){n.hypnotized&&n.ID==s.future_infinut_shield&&n.playDie()})),this.spawnShield()),this.pop(),this.dealSplashDamage()},o}(u))||a);o._RF.pop()}}}));

System.register("chunks:///_virtual/bowlingProjectile.ts",["./rollupPluginModLoBabelHelpers.js","cc","./grapeshotProjectile.ts","./ParticleSelfdestroy.ts","./FrontYard.ts","./Particles.ts","./NodePools.ts"],(function(t){var e,i,n,a,o,l,s,r,h,c,p;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){n=t.cclegacy,a=t._decorator,o=t.dragonBones,l=t.Vec3},function(t){s=t.grapeshotProjectile},function(t){r=t.ParticleSelfdestroy},function(t){h=t.FrontYard},function(t){c=t.particle},function(t){p=t.instantiatePooly}],execute:function(){var u;n._RF.push({},"4a7045QiyhN1KUQStQK0OIz","bowlingProjectile",void 0);var d=a.ccclass;a.property,t("bowlingProjectile",d("bowlingProjectile")(u=function(t){function n(){for(var e,i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];return(e=t.call.apply(t,[this].concat(n))||this).wave=null,e.depthScale=12,e}e(n,t);var a=n.prototype;return a.specialOnDisable=function(){this.wave&&(this.wave.getComponent(o.ArmatureDisplay).playAnimation("Fade"),this.wave.willBeKilled=!0,this.wave=null)},a.hitSea=function(){this.lIndex>=0&&this.lIndex<=4&&this.defaultHitSea()},a.hitFloor=function(t){this.height=0,this.depth=0,this.gravity=this.bodyLinearVelocity=0,this.wave&&(this.wave.getComponent(o.ArmatureDisplay).playAnimation("Fade"),this.wave.willBeKilled=!0,this.wave=null)},a.specialGrapeOnLaneChange=function(t,e){this.wave&&this.wave.node.setParent(this.node.parent)},a.onLinearVelocitySet=function(t){},a.onFaded=function(){this.wave&&(this.wave.getComponent(o.ArmatureDisplay).playAnimation("Fade"),this.wave.willBeKilled=!0,this.wave=null)},a.hitWater=function(){if(this.height<=0){var t;if(this.depth=this.depthScale*h.depth(this.worldPositionX,this.inLnC),!this.wave)this.wave=null==(t=p(c.plantWaterWave()))?void 0:t.getComponent(r),this.wave&&(this.wave.getComponent(o.ArmatureDisplay).playAnimation("Idle",1/0),this.wave.node.parent=this.node.parent);this.wave&&(this.wave.node.scale=new l(.5,.5,1),this.wave.node.worldPosition=new l(this.worldPositionX,this.worldPositionY,0))}else this.depth=0,this.wave&&(this.wave.getComponent(o.ArmatureDisplay).playAnimation("Fade"),this.wave.willBeKilled=!0,this.wave=null)},i(n,[{key:"leftHitCount",get:function(){return this._leftHitCount},set:function(t){t<this._leftHitCount&&(this.playPopSound(),this.playParticle())}}]),n}(s))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/bowlingWallNut.ts",["./rollupPluginModLoBabelHelpers.js","cc","./bowlingProjectile.ts"],(function(t){var e,i,l,n;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,l=t._decorator},function(t){n=t.bowlingProjectile}],execute:function(){var o;i._RF.push({},"57de0YgDbVNRbFscX+WRWwx","bowlingWallNut",void 0);var c=l.ccclass;l.property,t("bowlingWallNut",c("bowlingWallNut")(o=function(t){function i(){return t.apply(this,arguments)||this}return e(i,t),i.prototype.specialUpdate=function(t){this.db&&(this.db.timeScale=this.linearVelocity.x/5.5)},i}(n))||o);i._RF.pop()}}}));

System.register("chunks:///_virtual/Buttercup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./Character.ts","./CharacterManager.ts","./LnC.ts","./Square.ts","./SoundRescourses.ts","./Projectiles.ts"],(function(t){var e,n,o,i,r,a,s,u,l,c,h,b,d,p,f,m,w,g,y;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized,r=t.asyncToGenerator,a=t.regeneratorRuntime,s=t.createForOfIteratorHelperLoose},function(t){u=t.cclegacy,l=t._decorator,c=t.AudioClip,h=t.Node},function(t){b=t.Plant,d=t.PlantProps},function(t){p=t.CharacterType},function(t){f=t.ZombiePool},function(t){m=t.TileLiquidEnum},function(t){w=t.Square},function(t){g=t.sounds},function(t){y=t.ProjectileShootingFunctions}],execute:function(){var P,S,v,B,D,L,O,T,_,j,x,z,F,Z,k,A;u._RF.push({},"897991iB9tMG6ufv1/LzPQP","Buttercup",void 0);var C=l.ccclass,R=l.property,q=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))||this).TileButterDuration=120,e.ButterDamage=100,e.TileButterDurationPlantfood=150,e.ButterDamagePlantfood=150,e.ButterDuration=8,e.ButterThrowInterval=1,e.ButterType="buttercup_butter",e}return n(e,t),e}(d),E=(P=C("buttercupSound"),S=R([c]),v=R([c]),B=R([c]),P((O=e((L=function(){function t(){o(this,"shootSound",O,this),o(this,"foodSound",T,this),o(this,"titterSound",_,this)}var e=t.prototype;return e.playShootSound=function(){g.playArray(this.shootSound,1,.1)},e.playFoodSound=function(){g.playArray(this.foodSound,1,.1)},e.platTitterSound=function(){g.playArray(this.titterSound,.3,.1)},t}()).prototype,"shootSound",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),T=e(L.prototype,"foodSound",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=e(L.prototype,"titterSound",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=L))||D);t("ButtercupPlant",(j=C("ButtercupPlant"),x=R(E),z=R(h),j((k=e((Z=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))||this)._objdataOwn=new q,o(e,"soundRes",k,i(e)),o(e,"butterSpawnPoint",A,i(e)),e.targetZombies=[],e.coolDown=0,e.lobbing=!1,e}n(e,t);var u=e.prototype;return u.LobFood=function(){var t=r(a().mark((function t(){var e,n,o,i,r,u,l,c,h,b;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.soundRes.playFoodSound(),e=this._objdataOwn.ButterDamagePlantfood,this._dmgScale&&(e*=this._dmgScale),n=this._objdataOwn.ButterType,o=this._objdataOwn.ButterDuration,i=this._objdataOwn.TileButterDurationPlantfood,r=s(f.pool().concat());case 7:if((u=r()).done){t.next=15;break}return l=u.value,t.next=11,y.lobOneCabbageOnZombie(n,this.worldPosition,this.butterSpawnPoint.worldPosition.y-this.node.worldPosition.y,this.inLane.prjLayer,l,.4444,p.zombie,!0);case 11:t.sent.setButter(o).setDamage(e).setTileLiquid(m.butter,i);case 13:t.next=7;break;case 15:c=s(w.getRandomSquares(20));case 16:if((h=c()).done){t.next=24;break}return b=h.value,t.next=20,y.lobOneCabbageOnNode(n,this.worldPosition,this.butterSpawnPoint.worldPosition.y-this.node.worldPosition.y,this.inLane.prjLayer,b,.4444,p.zombie,!0);case 20:t.sent.setButter(o).setDamage(e).setTileLiquid(m.butter,i);case 22:t.next=16;break;case 24:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),u.animationListener=function(t){"Lob"==t.name?(this.lobOnTargets(),this.lobbing=!1):"LobFood"==t.name?this.LobFood():"foodEnd"==t.name?this.foodEnd():"titter"==t.name&&this.soundRes.platTitterSound()},u.specialPlantFood=function(t){this.anmControl.playAnimation("Food",1),this.lobbing=!1},u.waterable=function(){return!this.lobbing},u.specialPlantOnEnable=function(){this.coolDown=0,this.targetZombies=[],this.lobbing=!1},u.lobOnTargets=function(){var t=r(a().mark((function t(e){var n,o,i,r,u,l;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:void 0===e&&(e=this._objdataOwn.ButterDuration),n=this._objdataOwn.ButterDamage,this._dmgScale&&(n*=this._dmgScale),o=this.targetZombies.concat(),this.targetZombies=[],i=this._objdataOwn.TileButterDuration,r=s(o);case 7:if((u=r()).done){t.next=17;break}if((l=u.value).isAlive()){t.next=11;break}return t.abrupt("return");case 11:return t.next=13,y.lobOneCabbageOnZombie(this._objdataOwn.ButterType,this.worldPosition,this.butterSpawnPoint.worldPosition.y-this.node.worldPosition.y,this.inLane.prjLayer,l,.6666,p.zombie,!0);case 13:t.sent.setButter(e).setDamage(n).setTileLiquid(m.butter,i);case 15:t.next=7;break;case 17:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),u.specialPlantDie=function(t){this.lobOnTargets()},u.specialPlantUpdate=function(t,e,n){var o=this;this.coolDown>0&&(this.coolDown-=t),this.targetZombies=this.targetZombies.filter((function(t){return t.isAlive()&&t.inLane==o.inLane}))},u.specialPlantOnEaten=function(t,e,n,o){if(e&&(-1==this.targetZombies.indexOf(e)&&this.targetZombies.push(e),this.coolDown<=0)){this.soundRes.playShootSound();var i=this._objdataOwn.ButterThrowInterval;this._cdScale&&(i*=this._cdScale),i=Math.max(.1,i),this.anmControl.playAnimation("Lob",1,.1,Math.max(1,.5/i)),this.coolDown=i,this.lobbing=!0}},e}(b)).prototype,"soundRes",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new E}}),A=e(Z.prototype,"butterSpawnPoint",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=Z))||F));u._RF.pop()}}}));

System.register("chunks:///_virtual/ButtonWithSounds.ts",["./rollupPluginModLoBabelHelpers.js","cc","./KeyListener.ts","./SoundRescourses.ts"],(function(n){var t,o,e,i,r,u,s,c,a,l,d,p;return{setters:[function(n){t=n.applyDecoratedDescriptor,o=n.inheritsLoose,e=n.initializerDefineProperty,i=n.assertThisInitialized},function(n){r=n.cclegacy,u=n._decorator,s=n.AudioClip,c=n.AudioSource,a=n.Node,l=n.Component},function(n){d=n.KeyListener},function(n){p=n.sounds}],execute:function(){var h,S,y,f,v,g,C;r._RF.push({},"2e673nCkwJH5Jl8XLIW8wTA","ButtonWithSounds",void 0);var T=u.ccclass,b=u.property;n("ButtonWithSounds",(h=T("ButtonWithSounds"),S=b(s),y=b(s),h((g=t((v=function(n){function t(){for(var t,o=arguments.length,r=new Array(o),u=0;u<o;u++)r[u]=arguments[u];return(t=n.call.apply(n,[this].concat(r))||this).audioSource=void 0,e(t,"touchStartSound",g,i(t)),e(t,"touchEndSound",C,i(t)),t}o(t,n);var r=t.prototype;return r.onLoad=function(){var n=this;this.getComponent(c)||this.addComponent(c),this.audioSource=this.getComponent(c),this.node.on(a.EventType.TOUCH_START,(function(){d.screenColorTweening||n.touchStartSound&&n.playPress()})),this.node.on(a.EventType.TOUCH_END,(function(){d.screenColorTweening||n.touchEndSound&&n.playUnpress()}))},r.playPress=function(){p.playOneShot(this.touchStartSound,1,0)},r.playUnpress=function(){p.playOneShot(this.touchEndSound,1,0)},t}(l)).prototype,"touchStartSound",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=t(v.prototype,"touchEndSound",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=v))||f));r._RF.pop()}}}));

System.register("chunks:///_virtual/CabbagePult.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Character.ts","./CharacterManager.ts","./Square.ts","./Projectiles.ts","./Plant.ts","./Zombie.ts","./SoundRescourses.ts"],(function(t){var n,o,e,i,a,r,s,l,u,b,c,d,h,f,p,g,m,P,y,w,C,S;return{setters:[function(t){n=t.inheritsLoose,o=t.applyDecoratedDescriptor,e=t.initializerDefineProperty,i=t.assertThisInitialized,a=t.asyncToGenerator,r=t.regeneratorRuntime,s=t.createForOfIteratorHelperLoose},function(t){l=t.cclegacy,u=t._decorator,b=t.AudioClip,c=t.Node,d=t.Vec2},function(t){h=t.CharacterType},function(t){f=t.Rectangle,p=t.TombPool,g=t.ZombiePool},function(t){m=t.Square},function(t){P=t.ProjectileShootingFunctions},function(t){y=t.PlantProps,w=t.Plant},function(t){C=t.Zombie},function(t){S=t.sounds}],execute:function(){var v,T,L,_,j,D,R,O,k,x,z,N,A,F,I,V,q,E;l._RF.push({},"b8357J5RHlKf5Qf6WXXkqdh","CabbagePult",void 0);var X=u.ccclass,H=u.property,M=t("CabbagePultProps",function(t){function o(){for(var n,o=arguments.length,e=new Array(o),i=0;i<o;i++)e[i]=arguments[i];return(n=t.call.apply(t,[this].concat(e))||this).ThrowInterval=2.7,n.ThrowIntervalAdditional=.15,n.DetectsTNTSpark=!1,n.CabbageType="cabbage",n.CabbageTypePlantfood="cabbage_pf",n}return n(o,t),o}(y)),W=t("cabbagePultSound",(v=X("cabbagePultSound"),T=H([b]),L=H([b]),_=H(Boolean),j=H(Number),v((O=o((R=function(){function t(){e(this,"lobSound",O,this),e(this,"foodSound",k,this),e(this,"lobSoundLongCD",x,this),e(this,"lobSoundVol",z,this)}var n=t.prototype;return n.playFood=function(){S.playArray(this.foodSound,1,.1)},n.playLob=function(t){void 0===t&&(t=1),S.playArray(this.lobSound,t*this.lobSoundVol,this.lobSoundLongCD?NaN:.1)},t}()).prototype,"lobSound",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=o(R.prototype,"foodSound",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),x=o(R.prototype,"lobSoundLongCD",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),z=o(R.prototype,"lobSoundVol",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),D=R))||D));t("CabbagePultPlant",(N=X("CabbagePultPlant"),A=H(W),F=H(c),N((q=o((V=function(t){function o(){for(var n,o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(n=t.call.apply(t,[this].concat(a))||this).lobberLobSoundVolume=1,e(n,"soundRes",q,i(n)),e(n,"cabbageSpawnPoint",E,i(n)),n.detector=null,n._objdataOwn=new M,n.lobCD=0,n._lobbing=!1,n}n(o,t);var l=o.prototype;return l.zombieIsVisible=function(t){return!0},l.specialPlantFood=function(){this.anmControl.playAnimation("Food",1),this.lobCD=1/0,this.soundRes.playFood()},l.waterable=function(){return!this._lobbing},l._lobCabbageAnimation=function(){this.anmControl.playAnimation("Lob",1,.1,Math.max(1.3/this.lobCD,1))},l.foodLob=function(){var t=a(r().mark((function t(){var n,o,e,i,a,l;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=s(g.pool());case 1:if((o=n()).done){t.next=7;break}return e=o.value,t.next=5,this._lob(e.node,this._objdataOwn.CabbageTypePlantfood,!0);case 5:t.next=1;break;case 7:if(!this.detectsTomb()){t.next=15;break}i=s(p.pool());case 9:if((a=i()).done){t.next=15;break}return l=a.value,t.next=13,this._lobToNode(l.node,this._objdataOwn.CabbageTypePlantfood,!0);case 13:t.next=9;break;case 15:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),l.getLobTarget=function(){var t=this,n=this.inLane.zombiePool().sort((function(t,n){return t.worldPositionX-n.worldPositionX})).find((function(n){return t.zombieIsVisible(n)&&t.detector.judgeCrossRec(n.bodyRec)}));if(n)return n.node;var o=this.inLane.tombPool().sort((function(t,n){return t.worldPositionX-n.worldPositionX})).find((function(n){return t.detector.judgeCrossRec(n.bodyRec)}));return o?o.node:this.inLane.toRight},l.judgeTooClose=function(){return!0},l._lob=function(){var t=a(r().mark((function t(n,o,e,i){var a,s,l;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===o&&(o=this._objdataOwn.CabbageType),void 0===e&&(e=!1),void 0===i&&(i=60),n||(n=this.getLobTarget()),!(s=null==(a=n)?void 0:a.getComponent(C))){t.next=13;break}return t.next=8,P.lobOneCabbageOnZombie(o,this.worldPosition,this.cabbageSpawnPoint.worldPosition.y-this.inLnC.plantPoint.worldPosition.y,this.inLane.prjLayer,s,.4444,h.zombie,e,i,this.judgeTooClose());case 8:l=t.sent,this._dmgScale&&l.setDamage(l.damage*this._dmgScale),this.csFunc(l,i),t.next=14;break;case 13:this._lobToNode(n,o,e,i);case 14:this._lobbing=!1;case 15:case"end":return t.stop()}}),t,this)})));return function(n,o,e,i){return t.apply(this,arguments)}}(),l._lobToNode=function(){var t=a(r().mark((function t(n,o,e,i){var a,s;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===o&&(o=this._objdataOwn.CabbageType),void 0===e&&(e=!1),void 0===i&&(i=60),a=this._dmgScale,t.next=6,P.lobOneCabbageOnNode(o,this.worldPosition,this.cabbageSpawnPoint.worldPosition.y-this.inLnC.plantPoint.worldPosition.y,this.inLane.prjLayer,n,.4444,h.zombie,e,i);case 6:s=t.sent,a&&s.setDamage(s.damage*a),s.splashDamages.forEach((function(t){t.splashDamage*=a})),this.csFunc(s,i),this._lobbing=!1;case 11:case"end":return t.stop()}}),t,this)})));return function(n,o,e,i){return t.apply(this,arguments)}}(),l.csFunc=function(t,n){},l.detectsTomb=function(){return!0},l.animationOnComplete=function(){this._lobbing=!1},l.lobToTNTSpark=function(){var t,n=this,o=null==(t=this.inLane)?void 0:t.tntPool().find((function(t){return(null==t?void 0:t.ignited)&&n.detector.judgeInRecP(t.ropeSideWP)}));if(o){P.lobOneCabbageOnTNTSpark(this._objdataOwn.CabbageType,new d(this.cabbageSpawnPoint.worldPosition.x,this.worldPositionY),this.cabbageSpawnPoint.worldPosition.y-this.worldPositionY,this.inLane.prjLayer,o,.4444,h.zombie,!0,60,this.judgeTooClose());return!0}return!1},l.specialAnimationListener=function(t){},l.animationListener=function(t){"Lob"==t.name?this._objdataOwn.DetectsTNTSpark&&this.lobToTNTSpark()||this._lob(null):"LobSound"==t.name?this.soundRes.playLob(this.lobberLobSoundVolume):"lobFood"==t.name?this.foodLob():"foodEnd"==t.name&&(this.lobCD=0,this.foodEnd()),this.specialAnimationListener(t)},l.specialPlantOnSquareChange=function(t,n){this.setDetecter()},l.specialPlantOnEnable=function(){},l.setDetecter=function(){this.detector=f.createRectangleNodeSide(this.inLnC.node,m.SquareWidth*(9-this.cIndex),m.SquareHeight)},l.detectEnemy=function(){var t,n=this;return this.inLane.zombiePool().some((function(t){return n.zombieIsVisible(t)&&n.detector.judgeCrossRec(t.bodyRec)}))||this.detectsTomb()&&this.inLane.tombPool().some((function(t){return n.detector.judgeCrossRec(t.bodyRec)}))||this._objdataOwn.DetectsTNTSpark&&(null==(t=this.inLane)?void 0:t.tntPool().some((function(t){return(null==t?void 0:t.ignited)&&n.detector.judgeInRecP(t.ropeSideWP)})))},l.startLobbing=function(){this._lobbing=!0;var t=this._objdataOwn.ThrowInterval+Math.random()*this._objdataOwn.ThrowIntervalAdditional;this._cdScale&&(t*=this._cdScale),this.lobCD=t,this._lobCabbageAnimation()},l.specialPlantUpdate=function(t,n,o){this.lobCD>0&&(this.lobCD-=t),this.lobCD<=0&&(this.lobCD=0,o>0&&this.detectEnemy()&&this.startLobbing())},o}(w)).prototype,"soundRes",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new W}}),E=o(V.prototype,"cabbageSpawnPoint",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=V))||I));l._RF.pop()}}}));

System.register("chunks:///_virtual/Cactus.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./Character.ts","./CharacterManager.ts","./Square.ts","./SoundRescourses.ts","./Projectiles.ts"],(function(t){var o,e,n,i,a,s,r,h,l,d,u,c,p,f,S,b,m,y,g,C;return{setters:[function(t){o=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,i=t.assertThisInitialized,a=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){r=t.cclegacy,h=t._decorator,l=t.AudioClip,d=t.Prefab,u=t.Node,c=t.Vec2},function(t){p=t.Plant,f=t.PlantProps},function(t){S=t.CharacterType},function(t){b=t.Rectangle,m=t.spikeweed},function(t){y=t.Square},function(t){g=t.sounds},function(t){C=t.ProjectileShootingFunctions}],execute:function(){var w,D,v,P,R,_,A,j,z,O,E,I,L,F,H,k,q,x,T,M,N,W,B,Z,G,U,V,Y,J,K;r._RF.push({},"d8347tqDEBHAaEpFnziRm1N","Cactus",void 0);var Q=h.ccclass,X=h.property,$=function(t){function o(){for(var o,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return(o=t.call.apply(t,[this].concat(n))||this).ShootInterval=1.35,o.ShootIntervalAdditional=.15,o.StabInterval=.5,o.StabDamage=10,o.StabDamagePlantfood=20,o.PierceCount=3,o.PierceCountAdditional=1,o.PeaType="cactus",o.PeaTypePlantfood="cactus_pf",o}return e(o,t),o}(f),tt=(w=Q("cactusSound"),D=X([l]),v=X([l]),P=X([l]),R=X([l]),_=X([l]),A=X([l]),j=X(l),z=X([l]),w((I=o((E=function(){function t(){n(this,"shootSounds",I,this),n(this,"shootFoodSounds",L,this),n(this,"hideSounds",F,this),n(this,"blopSounds",H,this),n(this,"shakeSound",k,this),n(this,"stabSound",q,this),n(this,"foodShootSound",x,this),n(this,"foodShoutSound",T,this)}var o=t.prototype;return o.playShootSound=function(t){void 0===t&&(t=!1),g.playArray(t?this.shootFoodSounds:this.shootSounds)},o.playHideSound=function(){g.playArray(this.hideSounds)},o.playRecoverSound=function(){g.playArray(this.hideSounds),g.playArray(this.blopSounds)},o.playShakeSound=function(){g.playArray(this.shakeSound,1,1)},o.playStabSound=function(){g.playArray(this.stabSound)},o.playFoodSound=function(){g.playOneShot(this.foodShootSound),g.playArray(this.foodShoutSound)},t}()).prototype,"shootSounds",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=o(E.prototype,"shootFoodSounds",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=o(E.prototype,"hideSounds",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),H=o(E.prototype,"blopSounds",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=o(E.prototype,"shakeSound",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),q=o(E.prototype,"stabSound",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),x=o(E.prototype,"foodShootSound",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=o(E.prototype,"foodShoutSound",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=E))||O);t("CactusPlant",(M=Q("CactusPlant"),N=X(d),W=X(d),B=X(u),Z=X(tt),M((V=o((U=function(t){function o(){for(var o,e=arguments.length,a=new Array(e),s=0;s<e;s++)a[s]=arguments[s];return(o=t.call.apply(t,[this].concat(a))||this)._objdataOwn=new $,n(o,"prj0",V,i(o)),n(o,"prjFood",Y,i(o)),n(o,"peaSpawnpoint",J,i(o)),o.stabSlots=[],o.lightSlots=[],o.shootCD=0,o.shooting=!1,o.stabCD=0,o.lit=!1,o.chidden=!1,n(o,"soundRes",K,i(o)),o.shootDetector=new b,o.hideDetector=new b,o.stabDetector=new b,o}e(o,t);var r=o.prototype;return r.specialPlantOnEnable=function(){this.showLight(!1),this.shootCD=0,this.stabCD=0},r._shoot=function(){var t=a(s().mark((function t(o,e,n){var i;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===o&&(o=this._objdataOwn.PeaType),void 0===e&&(e=8),void 0===n&&(n=new c(1,0)),t.next=6,C.shootOnePea(o,new c(this.peaSpawnpoint.worldPosition.x,this.worldPositionY),Math.max(1,this.peaSpawnpoint.worldPosition.y-this.inLnC.plantPoint.worldPosition.y),this.inLane.node,n.normalize().multiplyScalar(e),S.zombie);case 6:return i=t.sent,t.abrupt("return",i);case 8:case"end":return t.stop()}}),t,this)})));return function(o,e,n){return t.apply(this,arguments)}}(),r.specialPlantOnLoad=function(){var t=this;this.anmControl.db.armature().getSlots().forEach((function(o){o.name.includes("stab")?t.stabSlots.push(o):o.name.includes("Light")&&t.lightSlots.push(o)}))},r.showLight=function(t){void 0===t&&(t=!0),this.stabSlots.forEach((function(o){o._setDisplayIndex(t?1:0)})),this.lightSlots.forEach((function(o){o._setDisplayIndex(t?0:-1)})),this.lit=t,this.foodable=!t},r.hide=function(t,o){void 0===t&&(t=!0),void 0===o&&(o=!0),t?(this.anmControl.IdleAnim="Idle_Hidden",this.anmControl.RandomAnim=[],this.deathAnm="Death_Hidden",o?this.anmControl.playAnimation("Hide",1):this.anmControl.playIdle()):(this.anmControl.IdleAnim="Idle",this.anmControl.RandomAnim=["Rand1","Rand2"],this.deathAnm="Death",o?this.anmControl.playAnimation("Recover_Hidden",1):this.anmControl.playIdle()),this.chidden=t,this.eaterDetectable=!t,this.short_=t},r.specialPlantFood=function(t){this.anmControl.playAnimation("Food",2)},r.specialPlantFoodEnd=function(){this.anmControl.playIdle(),this.showLight(),this.shootCD=0,this.stabCD=0},r.animationListener=function(t){var o=this;if("Shoot"==t.name)this._shoot(this.lit?this._objdataOwn.PeaTypePlantfood:this._objdataOwn.PeaType,11);else if("shootSound"==t.name)this.soundRes.playShootSound(this.lit);else if("hideSound"==t.name)this.soundRes.playHideSound();else if("hideEndSound"==t.name)this.soundRes.playRecoverSound();else if("foodSound"==t.name)this.soundRes.playFoodSound();else if("attackSound"==t.name)this.soundRes.playStabSound();else if("Attack"==t.name){this.soundRes.playShakeSound();var e=this.lit?this._objdataOwn.StabDamagePlantfood:this._objdataOwn.StabDamage;this._dmgScale&&(e*=this._dmgScale),this.inLane.zombiePool().concat().forEach((function(t){!t.flying&&t.bodyRec.judgeCrossRec(o.stabDetector)&&m.stabOnZombie(o,t,e)}))}else"light"==t.name?this.showLight():"foodEnd"==t.name&&this.foodEnd()},r.waterable=function(){return!this.shooting&&!this.chidden},r.specialPlantOnSquareChange=function(t,o){this.setDetecter(t,o)},r.setDetecter=function(t,o){this.shootDetector=b.createRectangleNodeSide(o.node,y.SquareWidth*(9-o.cIndex),y.SquareHeight),this.hideDetector=b.createRectangleNodeCenter(o.node,2*y.SquareWidth,y.SquareHeight),this.stabDetector=b.createRectangleNodeCenter(o.node,y.SquareWidth,y.SquareHeight)},r.detectShootEnemy=function(){for(var t=this.inLane.zombiePool(),o=0;o<t.length;o++)if(this.shootDetector.judgeCrossRec(t[o].bodyRecForShooter))return!0;for(var e=this.inLane.tombPool(),n=0;n<e.length;n++)if(this.shootDetector.judgeCrossRec(e[n].bodyRec))return!0;return!1},r.detectStabEnemy=function(){for(var t=this.inLane.zombiePool(),o=0;o<t.length;o++)if(!t[o].flying&&this.stabDetector.judgeCrossRec(t[o].bodyRec))return!0},r.detectHideEnemy=function(){for(var t=this.inLane.zombiePool(),o=0;o<t.length;o++)if(this.hideDetector.judgeCrossRec(t[o].bodyRecReal))return!0},r.startShooting=function(){this.shooting=!0;var t=this._objdataOwn.ShootInterval+Math.random()*this._objdataOwn.ShootIntervalAdditional;this._cdScale&&(t*=this._cdScale),this.shootCD=t,this.anmControl.playAnimation("Shoot",1,.1*t/1.35,Math.max(1/t,1))},r.animationOnComplete=function(){this.shooting=!1},r.normalSmash=function(t){var o=this.lit?this._objdataOwn.StabDamagePlantfood:this._objdataOwn.StabDamage;this._dmgScale&&(o*=this._dmgScale),m.stabOnZombie(null,t,o),this.fooding||this.invincible||this.die()},r.specialPlantUpdate=function(t,o,e){if(!this.fooding&&e>0){if(this.chidden){if(this.stabCD>0&&(this.stabCD-=t),this.stabCD<=0&&!this.dead&&(this.stabCD=0,this.detectStabEnemy())){this.shooting=!0;var n=this._objdataOwn.StabInterval;this._cdScale&&(n*=this._cdScale),n<.1&&(n=.1),this.stabCD=n,this.anmControl.playAnimation("Attack_Hidden",1,.1,Math.max(.5/n,1))}}else this.shootCD>0&&(this.shootCD-=t),this.shootCD<=0&&!this.dead&&(this.shootCD=0,this.detectShootEnemy()&&this.startShooting());var i=this.detectHideEnemy();this.chidden&&!i?this.hide(!1):!this.chidden&&i&&this.hide(!0)}},o}(p)).prototype,"prj0",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=o(U.prototype,"prjFood",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=o(U.prototype,"peaSpawnpoint",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=o(U.prototype,"soundRes",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new tt}}),G=U))||G));r._RF.pop()}}}));

System.register("chunks:///_virtual/cactusThorn.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ArrayGet.ts","./Projectiles.ts","./CharacterManager.ts","./Character.ts","./Zombie.ts","./commonShot.ts"],(function(t){var e,n,o,a,i,c,r,s,u;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,o=t._decorator},function(t){a=t.ValueRange},function(t){i=t.ProjectileProps},function(t){c=t.ZombieDamageDetails},function(t){r=t.CharacterType},function(t){s=t.Zombie},function(t){u=t.commonShot}],execute:function(){var h;n._RF.push({},"358c6pnkANKjYft0I9QLF82","cactusThorn",void 0);var l=o.ccclass;o.property,t("CactusThornProps",function(t){function n(){for(var e,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))||this).MaxHitCount=new a(4,3),e}return e(n,t),n}(i)),t("cactusThorn",l("cactusThorn")(h=function(t){function n(){for(var e,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))||this).maxPierceAmount=3,e.dealtTargetAmount=0,e.contactingEnemies=[],e}e(n,t);var o=n.prototype;return o.specialOnObjdataSet=function(t){this.dealtTargetAmount=0,this.maxPierceAmount=a.getRandomIntegerFromRange(t.MaxHitCount)},o.specialCactusThornOnEnable=function(){},o.zombieCanbeDetected=function(t){return!0},o.tombCanbeDetected=function(t){return!0},o.plantCanbeDetected=function(t){return!0},o.splat=function(t){this.playPopSound(),this.playParticle()},o.characterOnEnable=function(){this.initialize(),this.maxPierceAmount=this.maxPierceAmount,this.dealtTargetAmount=0,this.contactingEnemies=[],this.specialCactusThornOnEnable()},o.judgeContacting=function(){var t=this,e=this.bodyRec();this.contactingEnemies.concat().forEach((function(n){var o;if(-1==[].concat(t.inLane.zombiePool(),t.inLane.plantPool(),t.inLane.tombPool()).indexOf(n)||null==(o=n.bodyRec)||!o.judgeCrossRec(e)){var a=t.contactingEnemies.indexOf(n);-1!=a&&t.contactingEnemies.splice(a,1)}}))},o.detectEnemy=function(t){var e,n,o=this;if(this.inLane&&this.detectEnemyOn){this.judgeContacting(),null!=(e=this.targetLocked)&&null!=(e=e.getComponent(s))&&e.isAlive()||(this.targetLocked=null);var a=!1,i=this.bodyRec(),u=new c(this.damage*this.damageScale*(this.havePeaBuff?1.5:1),this.armorProtection,this.armorKnockSound,this.bodyKnockSound,null,this.damageType,!0,!0);if(this.enemyType==r.zombie){var h,l=[];null==(h=this.inLane)||h.zombiePool().forEach((function(t){(o.zombieCanbeDetected(t)&&!o.targetLocked||o.targetLocked&&t.node==o.targetLocked)&&-1==o.contactingEnemies.indexOf(t)&&t.bodyRec.judgeCrossRec(i)&&l.push(t)}));var m=[];if(l.length){for(var d=function(){var t=1/0,e=null;if(l.forEach((function(n){var o=n.bodyRec.prjX().x;o<t&&(e=n,t=o)})),e){var n=l.indexOf(e);-1!=n&&l.splice(n,1),m.push(e)}m.forEach((function(t){a||(t.commonShotPopOnTouch(o)?(o.dealDamageToTarget(t,!0),o.onZombieHit(t),o.dealtTargetAmount++,o.onCactusThornHit()):a=!0,o.contactingEnemies.push(t))}))};l.length>0&&m.length<this.maxPierceAmount-this.dealtTargetAmount;)d();if(!a){if(this.dealtTargetAmount>=this.maxPierceAmount)return void this.pop();this.playPopSound(),this.playParticle()}}}else if(this.enemyType==r.plant){var f,g=!1,p=[];null==(f=this.inLane)||f.plantPool().forEach((function(t){(!o.targetLocked||o.targetLocked&&t.node==o.targetLocked)&&o.plantCanbeDetected(t)&&-1==o.contactingEnemies.indexOf(t)&&t.bodyRec.judgeCrossRec(i)&&p.push(t)}));var y=[];if(p.length){for(var b=function(){var t=-1/0,e=null;if(p.forEach((function(n){var o=n.bodyRec.prjX().y;o>t&&(e=n,t=o)})),e){var n=p.indexOf(e);-1!=n&&p.splice(n,1),y.push(e)}y.forEach((function(t){o.dealDamageToPlant(t)&&(o.dealtTargetAmount++,o.contactingEnemies.push(t),o.onCactusThornHit(),g=!0)}))};p.length>0&&y.length<this.maxPierceAmount-this.dealtTargetAmount;)b();if(g){if(this.dealtTargetAmount>=this.maxPierceAmount)return void this.pop();this.playPopSound(),this.playParticle()}}}var v=[];null==(n=this.inLane)||n.tombPool(this.enemyType==r.plant?1:0).forEach((function(t){o.tombCanbeDetected(t)&&(!o.targetLocked||o.targetLocked&&t.node==o.targetLocked)&&-1==o.contactingEnemies.indexOf(t)&&t.bodyRec.judgeCrossRec(i)&&v.push(t)}));var P=[];if(v.length){for(var T=function(){var t=1/0,e=null;if(v.forEach((function(n){var o=n.bodyRec.prjX().x;o<t&&(e=n,t=o)})),e){var n=v.indexOf(e);-1!=n&&v.splice(n,1),P.push(e)}P.forEach((function(t){t.dealDamage(u),o.onTombHit(t),o.dealSplashDamage(null,t),o.dealtTargetAmount++,o.contactingEnemies.push(t),o.onCactusThornHit()}))};v.length>0&&P.length<this.maxPierceAmount-this.dealtTargetAmount;)T();if(this.dealtTargetAmount>=this.maxPierceAmount)return void this.pop();this.playPopSound(),this.playParticle()}}},o.onDamageOnZombie=function(t,e){this.contactingEnemies.push(t)},o.onCactusThornHit=function(){},n}(u))||h);n._RF.pop()}}}));

System.register("chunks:///_virtual/cantaloupeLobbed.ts",["./rollupPluginModLoBabelHelpers.js","cc","./commonShot.ts","./NodePools.ts","./Character.ts","./SoundRescourses.ts"],(function(t){var e,a,o,i,n,r,l,s,c,p,u,h,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,a=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){n=t.cclegacy,r=t._decorator,l=t.Prefab,s=t.AudioClip},function(t){c=t.commonShot},function(t){p=t.instantiatePooly},function(t){u=t.Character,h=t.CharacterScale},function(t){f=t.sounds}],execute:function(){var d,b,S,y,P,m,C,g,v;n._RF.push({},"108d1CEZJhM8qCxDF7BmW5I","cantaloupeLobbed",void 0);var L=r.ccclass,D=r.property;t("cantaloupeLobbed",(d=L("cantaloupeLobbed"),b=D(l),S=D(l),y=D([s]),d((C=e((m=function(t){function e(){for(var e,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))||this).SelfSplatCD=1/0,o(e,"shootPar",C,i(e)),o(e,"splashPar",g,i(e)),o(e,"splatSounds",v,i(e)),e}a(e,t);var n=e.prototype;return n.characterOnEnable=function(){this.initialize(),this.SelfSplatCD=1/0},n.specialUpdate=function(t){if(this.SelfSplatCD-=t,this.SelfSplatCD<=0){var e=this.height,a=p(this.splashPar);a.parent=this.inLane.prjLayer,a.worldPosition=this.worldPosition.toVec3();var o=p(this.shootPar);o.parent=this.inLane.prjLayer;var i=o.getComponent(u);i.scale=e/400/h,i.worldPosition=this.worldPosition,f.playArray(this.splatSounds,.1,NaN,.3),this.dealSplashDamage(null,null,null,!1),this.pop()}},e}(c)).prototype,"shootPar",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=e(m.prototype,"splashPar",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=e(m.prototype,"splatSounds",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),P=m))||P));n._RF.pop()}}}));

System.register("chunks:///_virtual/CantaloupePult.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MelonPult.ts","./CabbagePult.ts","./Square.ts"],(function(t){var n,a,e,r,o,l,i;return{setters:[function(t){n=t.inheritsLoose,a=t.createClass},function(t){e=t.cclegacy,r=t._decorator},function(t){o=t.MelonPultPlant},function(t){l=t.CabbagePultProps},function(t){i=t.Square}],execute:function(){var u;e._RF.push({},"349c24lolVCxrRv3IfR7Gzs","CantaloupePult",void 0);var c=r.ccclass,s=(r.property,function(t){function a(){for(var n,a=arguments.length,e=new Array(a),r=0;r<a;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).ExtraHeightAboveTargets=200,n.ExtraDistanceBehindTargets=0,n}return n(a,t),a}(l));t("CantaloupePultPlant",c("CantaloupePultPlant")(u=function(t){function e(){for(var n,a=arguments.length,e=new Array(a),r=0;r<a;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this)._objdataOwn=new s,n}n(e,t);var r=e.prototype;return r.judgeTooClose=function(){return!1},r.specialMelonPultCSFunc=function(t,n){var a=t;this.fooding||(t.linearVelocity=t.linearVelocity.add2f(this.objdataOwn.ExtraDistanceBehindTargets*i.SquareWidth/n*Math.sign(this.scale),0)),t.bodyLinearVelocity+=this.objdataOwn.ExtraHeightAboveTargets/n,a.SelfSplatCD=n/60},a(e,[{key:"objdataOwn",get:function(){return this._objdataOwn}}]),e}(o))||u);e._RF.pop()}}}));

System.register("chunks:///_virtual/CardDeck.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plants.ts","./PlayerProperties.ts"],(function(t){var e,i,n,r,o,a,l,c,d,p,s,u,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized,o=t.createClass},function(t){a=t.cclegacy,l=t._decorator,c=t.dragonBones,d=t.Label,p=t.Node,s=t.Component},function(t){u=t.plants},function(t){b=t.CardDeckContents}],execute:function(){var y,g,f,_,h,D,v,A,k,C,m,P,w;a._RF.push({},"d540cgvTZ9GLZc4QdEkxxUj","CardDeck",void 0);var M=l.ccclass,B=l.property;t("CardDeck",(y=M("CardDeck"),g=B(c.ArmatureDisplay),f=B(d),_=B(String),h=B(p),D=B(p),v=B(Boolean),y((C=e((k=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,n(e,"plantDB",C,r(e)),n(e,"title_label",m,r(e)),e._AddMode=!1,n(e,"add_bg",P,r(e)),n(e,"add_button",w,r(e)),e.content=new b,e}return i(e,t),e.prototype.setCardDeck=function(t){if(t){this.content=t,this.Title=t.name;var e=t.plants[t.leader_index],i=u.getPlantFeature(e);this.plantDB.playAnimation(i._CARDSPRITENAME)}},o(e,[{key:"Title",get:function(){return this.title_label.string},set:function(t){this.title_label.string=t}},{key:"AddMode",get:function(){return this._AddMode},set:function(t){this.title_label.node.active=!t,this.plantDB.node.active=!t,this.add_bg.active=this.add_button.active=t,this._AddMode=t}}]),e}(s)).prototype,"plantDB",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=e(k.prototype,"title_label",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),e(k.prototype,"Title",[_],Object.getOwnPropertyDescriptor(k.prototype,"Title"),k.prototype),P=e(k.prototype,"add_bg",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=e(k.prototype,"add_button",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),e(k.prototype,"AddMode",[v],Object.getOwnPropertyDescriptor(k.prototype,"AddMode"),k.prototype),A=k))||A));a._RF.pop()}}}));

System.register("chunks:///_virtual/CardDeckDisplayer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CardDeck.ts","./Cards.ts","./NodePools.ts","./PlayerProperties.ts","./CardFeatureTotal.ts","./Plants.ts","./MultiLanguage.ts"],(function(e){var t,r,i,n,o,a,c,l,d,s,u,_,f,p,h,b,g,k,C,D,y,v,E,P;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized,o=e.createClass},function(e){a=e.cclegacy,c=e._decorator,l=e.Node,d=e.Prefab,s=e.Label,u=e.Button,_=e.EditBox,f=e.EventMouse,p=e.Vec3,h=e.Component},function(e){b=e.CardDeck},function(e){g=e.Cards},function(e){k=e.instantiatePooly,C=e.NodePools},function(e){D=e.AllPlayerProperties,y=e.CardDeckContents},function(e){v=e.CardFeatureTotal},function(e){E=e.PlantEnum},function(e){P=e.MultiLanguage}],execute:function(){var m,x,w,z,T,B,O,S,M,N,F,I,U,L,R,A,G,W,H,K,j,J,V,q,Q,X,Y,Z,$,ee,te,re,ie,ne,oe,ae,ce,le,de,se,ue,_e,fe;a._RF.push({},"361937uKxNPyIHJK4IdPzi1","CardDeckDisplayer",void 0);var pe=c.ccclass,he=c.property;e("CardDeckDisplayer",(m=pe("CardDeckDisplayer"),x=he(l),w=he(d),z=he([v]),T=he([v]),B=he(s),O=he(s),S=he(u),M=he(s),N=he(s),F=he(l),I=he(s),U=he(s),L=he(s),R=he(_),A=he(l),G=he(_),W=he(b),H=he(l),K=he(l),j=he([v]),m((q=t((V=function(e){function t(){for(var t,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,i(t,"CardDeckParent",q,n(t)),i(t,"CardDeckPFB",Q,n(t)),t.CardDecks=[],i(t,"cfs",X,n(t)),i(t,"creator_cfs",Y,n(t)),i(t,"title_label",Z,n(t)),i(t,"description_label",$,n(t)),i(t,"creator_button",ee,n(t)),i(t,"creator_button_label",te,n(t)),i(t,"creator_title_label",re,n(t)),i(t,"creator_arrow",ie,n(t)),i(t,"editor_title_label",ne,n(t)),i(t,"editor_delete_label",oe,n(t)),i(t,"editor_done_label",ae,n(t)),i(t,"creator_edit_box",ce,n(t)),t._creator_leader_index=0,i(t,"creator",le,n(t)),t.editor_current_deck=void 0,i(t,"editor_edit_box",de,n(t)),i(t,"creator_deck",se,n(t)),i(t,"editor",ue,n(t)),i(t,"editor_arrow",_e,n(t)),i(t,"editor_cfs",fe,n(t)),t._editor_leader_index=0,t}r(t,e);var a=t.prototype;return a.close=function(){this.node.active=!1},a.sendCardDeck=function(e){var t;e&&(null==(t=g.component)||t.readCardDeck(e),this.close())},a.openCreator=function(){this.closeEditor();var e=g.component.CFs.map((function(e){return e.isImitator?E.Imitater:e.ID}));e.length?(this.creator.active=!0,this.creator_leader_index=0,this.creator_edit_box.string=P.getStringByProps("CardDecks","NewCardDeck"),this.creator_cfs.forEach((function(t,r){r<e.length?(t.node.active=!0,t.cardGrouper(e[r],!1)):t.node.active=!1}))):this.creator.active=!1},a.closeCreator=function(){this.creator.active=!1},a.openEditor=function(){if(this.closeCreator(),this.editor_current_deck){var e=this.editor_current_deck.content.plants;e.length?(this.editor.active=!0,this.editor_leader_index=this.editor_current_deck.content.leader_index,this.editor_edit_box.string=this.editor_current_deck.content.name,this.editor_cfs.forEach((function(t,r){r<e.length?(t.node.active=!0,t.cardGrouper(e[r],!1)):t.node.active=!1}))):this.editor.active=!1}},a.closeEditor=function(){this.editor.active=!1},a.getCardDecks=function(){var e=this,t=D.getCardDecks();console.log(t),t.forEach((function(t,r){var i=e.CardDecks[r];i||((i=k(e.CardDeckPFB).getComponent(b)).node.parent=e.CardDeckParent,i.node.setSiblingIndex(e.CardDeckParent.children.length-2),i.AddMode=!1,i.node.on(l.EventType.MOUSE_DOWN,(function(t){switch(t.getButton()){case f.BUTTON_LEFT:e.sendCardDeck(i);break;case f.BUTTON_RIGHT:e.editor_current_deck=i,e.openEditor()}}),e),i.node.on(l.EventType.MOUSE_ENTER,(function(){e.readCardDeck(i)}),e),e.CardDecks.push(i)),i.setCardDeck(t)})),this.CardDecks.concat().forEach((function(r,i){if(i>=t.length){C.destroyPooly(r.node);var n=e.CardDecks.indexOf(r);-1!=n&&e.CardDecks.splice(n,1)}}))},a.createCardDeck=function(){var e=new y;e.name=this.creator_edit_box.string,e.plants=this.creator_cfs.filter((function(e){return e.node.active})).map((function(e){return e.ID})),e.leader_index=this.creator_leader_index,D.getCardDecks().push(e),D.savePP(),this.getCardDecks(),this.closeCreator()},a.editCardDeck=function(){if(this.editor_current_deck){var e=this.editor_current_deck.content;if(e){var t=D.getCardDecks().indexOf(e);if(-1!=t){var r=new y;r.name=this.editor_edit_box.string,r.leader_index=this.editor_leader_index,r.plants=this.editor_current_deck.content.plants,D.getCardDecks()[t]=r,D.savePP(),this.getCardDecks()}this.closeEditor()}}},a.deleteCardDeck=function(){if(this.editor_current_deck){var e=this.editor_current_deck.content;if(e){var t=D.getCardDecks().indexOf(e);-1!=t&&(D.getCardDecks().splice(t,1),D.savePP(),this.getCardDecks()),this.cfs.forEach((function(e){e.ca.almanacModeOn=!0,e.node.active=!1})),this.closeEditor()}}},a.readCardDeck=function(e){this.cfs.forEach((function(t,r){r<e.content.plants.length?(t.node.active=!0,t.cardGrouper(e.content.plants[r],!1)):t.node.active=!1}))},a.onLoad=function(){var e=this;this.title_label.string=P.getStringByProps("CardDecks","Title"),this.description_label.string=P.getStringByProps("CardDecks","Description"),this.creator_title_label.string=P.getStringByProps("CardDecks","CreateTitle"),this.editor_title_label.string=P.getStringByProps("CardDecks","EditTitle"),this.creator_button_label.string=P.getStringByProps("CardDecks","Create"),this.editor_done_label.string=P.getStringByProps("CardDecks","Done"),this.editor_delete_label.string=P.getStringByProps("CardDecks","Delete"),this.creator_edit_box.placeholder=P.getStringByProps("CardDecks","Enter"),this.editor_edit_box.placeholder=P.getStringByProps("CardDecks","Enter"),this.cfs.forEach((function(e){e.ca.almanacModeOn=!0,e.node.active=!1})),this.creator_cfs.forEach((function(t,r){t.node.on(l.EventType.MOUSE_DOWN,(function(){e.creator_leader_index=r}),e),t.ca.almanacModeOn=!0,t.node.active=!1})),this.editor_cfs.forEach((function(t,r){t.node.on(l.EventType.MOUSE_DOWN,(function(){e.editor_leader_index=r}),e),t.ca.almanacModeOn=!0,t.node.active=!1}))},a.start=function(){var e=this;this.creator_deck.AddMode=!0,this.creator_deck.node.on(l.EventType.MOUSE_DOWN,(function(){e.openCreator()}),this),this.creator_deck.node.on(l.EventType.MOUSE_ENTER,(function(){e.cfs.forEach((function(e){e.node.active=!1}))}),this)},a.onEnable=function(){this.closeCreator(),this.closeEditor(),this.getCardDecks(),this.cfs.forEach((function(e){e.node.active=!1})),this.description_label.node.active=!0,this.creator_cfs.forEach((function(e){e.node.active=!1}))},a.update=function(e){},o(t,[{key:"creator_leader_index",get:function(){return this._creator_leader_index},set:function(e){var t=this.creator_cfs[e].node.position.x;this.creator_arrow.position=new p(t,this.creator_arrow.position.y,0),this.creator_cfs.forEach((function(t,r){t.ca.chosen=e==r})),this._creator_leader_index=e}},{key:"editor_leader_index",get:function(){return this._editor_leader_index},set:function(e){var t=this.editor_cfs[e].node.position.x;this.editor_arrow.position=new p(t,this.editor_arrow.position.y,0),this.editor_cfs.forEach((function(t,r){t.ca.chosen=e==r})),this._editor_leader_index=e}}]),t}(h)).prototype,"CardDeckParent",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=t(V.prototype,"CardDeckPFB",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=t(V.prototype,"cfs",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Y=t(V.prototype,"creator_cfs",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Z=t(V.prototype,"title_label",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=t(V.prototype,"description_label",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ee=t(V.prototype,"creator_button",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),te=t(V.prototype,"creator_button_label",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),re=t(V.prototype,"creator_title_label",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ie=t(V.prototype,"creator_arrow",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ne=t(V.prototype,"editor_title_label",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),oe=t(V.prototype,"editor_delete_label",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ae=t(V.prototype,"editor_done_label",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ce=t(V.prototype,"creator_edit_box",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),le=t(V.prototype,"creator",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),de=t(V.prototype,"editor_edit_box",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),se=t(V.prototype,"creator_deck",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ue=t(V.prototype,"editor",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_e=t(V.prototype,"editor_arrow",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fe=t(V.prototype,"editor_cfs",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),J=V))||J));a._RF.pop()}}}));

System.register("chunks:///_virtual/CardFeatureTotal.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plants.ts","./cardSelectAlmanac.ts","./Materials.ts","./levelController.ts","./SettingWindow.ts","./KeyListener.ts"],(function(t){var e,n,a,i,s,o,r,c,l,u,h,p,d,f,m,g;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass,a=t.asyncToGenerator,i=t.regeneratorRuntime},function(t){s=t.cclegacy,o=t._decorator,r=t.dragonBones,c=t.Component},function(t){l=t.PlantEnum,u=t.plants,h=t.PlantFeature},function(t){p=t.cardSelectAlmanac},function(t){d=t.materialRes},function(t){f=t.LevelPlay},function(t){m=t.SettingWindow},function(t){g=t.KeyListener}],execute:function(){var C;s._RF.push({},"ad10f3V4/FHzpjqwpkiAhVr","CardFeatureTotal",void 0);var O=o.ccclass;o.property,t("PlantsInCard",(function(){this.plantDIS=null,this.plantPLANT=null})),t("CardFeatureTotal",O("CardFeatureTotal")(C=function(t){function s(){for(var e,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))||this).PF=new h,e.BoostGem=0,e.Cooldown=5,e.CooldownFrom=1,e._SUNCOST=0,e._FORCE_BOOSTED=!1,e._PP_BOOSTED=!1,e.imitateDisallowed=!1,e._isImitator=!1,e._ca=void 0,e.pID=0,e.opID=0,e}e(s,t);var o=s.prototype;return o.thisCard=function(){var t=a(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",u.getPlantsInCard(this.ID));case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),o.onEnable=function(){this.isImitator=!1},o.cardGrouperPlant=function(t,e){for(void 0===t&&(t=this.ID),void 0===e&&(e=!0),t>=l.amount&&(t%=l.amount);t<0;)t+=l.amount;this.opID=t,t==l.TileTurnip&&(t=u.getTileTurnipID());var n=u.getPlantProps(t);this.ID=t,this.PF=u.getPlantFeature(t),this.BoostGem=this.PF.BOOST;var a=this.ca,i="homeless",s=!1;if(this.BOOSTED)i="boost",s=!1;else if(m.classicCardBG)i="classic",s=!1;else switch(this.PF.OBTAINWORLD){case"egypt":case"pirate":case"cowboy":case"kongfu":case"future":case"dark":case"beach":case"ice":case"lostcity":case"eighties":case"sky":case"dino":case"modern":case"frontyard":s=!1,i=this.PF.OBTAINWORLD;break;case"water":s=!1,i="beach";break;case"market":s=!0,i="prenium";break;case"epic":s=!0,i="epic"}a.golden=s,a._bg.playAnimation(i),a.suncostShown=e;var o=n.Family;switch(m.classicCardBG&&(o=""),o){case"Peashooter":case"Cold":case"Electricity":case"Cold":case"Fire":case"Magic":case"Shadow":case"Slow":case"Trap":case"Sun":case"Sharp":case"Poison":case"Defence":case"Explosive":case"Lobber":case"Melee":this.node.getChildByName("Family").getComponent(r.ArmatureDisplay).playAnimation(n.Family);break;default:this.node.getChildByName("Family").getComponent(r.ArmatureDisplay).playAnimation("Nope")}this.SUNCOST=this.SUNCOST,a._plant.playAnimation(this.PF._CARDSPRITENAME)},o.cardGrouper=function(t,e){void 0===t&&(t=this.ID),void 0===e&&(e=!0),this.cardGrouperPlant(t,e)},n(s,[{key:"SUNCOST",get:function(){var t,e=this,n=u.getPlantProps(this.ID);if(g.isInGame){var a,i=null==(a=f.PlantModifiers.find((function(t){return t.List.some((function(t){return t.ID==e.ID}))})))||null==(a=a.List)||null==(a=a.find((function(t){return t.ID==e.ID})))?void 0:a.NewObjdata;i&&(Object.getOwnPropertyNames(n).forEach((function(t){null==i[t]&&(i[t]=n[t])})),n=i)}if(null!=f&&null!=(t=f.component)&&null!=(t=t.node)&&t.active)switch(this.ID){case l.TileTurnipAlpha:case l.TileTurnipBeta:case l.TileTurnipGamma:case l.TileTurnipDelta:case l.TileTurnipEpsilon:var s=n.SunCostList;if(s){var o=u.registerPlant(this.ID,0).amount;return s[Math.min(o,s.length-1)]}break;case l.GoldLeaf:var r=n;if(!isNaN(r.SunCostIncrement)){var c=u.registerPlant(this.ID,0).amount;return r.SunCost+r.SunCostIncrement*c}}return f.isBeghouled?n.BeghouledCost:(this.Cooldown=n.Cooldown,isNaN(n.CooldownFrom)||(this.CooldownFrom=n.CooldownFrom),n.SunCost)},set:function(t){this._SUNCOST=t,this.ca&&(this.ca._price.string=t.toString())}},{key:"BOOSTED",get:function(){return this._FORCE_BOOSTED||this._PP_BOOSTED}},{key:"FORCE_BOOSTED",get:function(){return this._FORCE_BOOSTED},set:function(t){this.ca._bg.playAnimation("boost",1),this._FORCE_BOOSTED=t}},{key:"PP_BOOSTED",get:function(){return this._PP_BOOSTED},set:function(t){this.ca._bg.playAnimation("boost",1),this._PP_BOOSTED=t}},{key:"isImitator",get:function(){return this._isImitator},set:function(t){this.ca._plant.customMaterial=t?d.greyMaterial:null,this._isImitator=t}},{key:"ID",get:function(){return this.pID},set:function(t){this.pID=t}},{key:"oID",get:function(){return this.opID}},{key:"ca",get:function(){return this._ca||(this._ca=this.getComponent(p)),this._ca}}]),s}(c))||C);s._RF.pop()}}}));

System.register("chunks:///_virtual/CardFeatureTotalZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CardFeatureTotal.ts","./Zombies.ts","./cardSelectAlmanac.ts","./SettingWindow.ts"],(function(e){var t,i,n,o,a,s,r,c,l,m,u;return{setters:[function(e){t=e.inheritsLoose,i=e.createClass},function(e){n=e.cclegacy,o=e._decorator,a=e.dragonBones},function(e){s=e.CardFeatureTotal},function(e){r=e.ZombieEnum,c=e.zombies,l=e.ZombieFeature},function(e){m=e.cardSelectAlmanac},function(e){u=e.SettingWindow}],execute:function(){var p;n._RF.push({},"d7345nx6ChFwY4KZggMeaDC","CardFeatureTotalZombie",void 0);var h=o.ccclass;o.property,e("CardFeatureTotalZombie",h("CardFeatureTotalZombie")(p=function(e){function n(){for(var t,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).thisZombie=new l,t.zID=0,t._isUnknown=!1,t}t(n,e);var o=n.prototype;return o.cardGrouper=function(e,t){void 0===t&&(t=!0),this.cardGrouperZombie(e,t)},o.cardGrouperZombie=function(e,t){for(void 0===e&&(e=this.ID),void 0===t&&(t=!0),e>=r.zombieAmount&&(e%=r.zombieAmount);e<0;)e+=r.zombieAmount;this.ID=e,this.thisZombie=c.getZombieFeature(e);var i=this.getComponent(m);if(u.classicCardBG)i.golden=!1,i._bg.playAnimation("classic");else{var n=this.thisZombie.OBTAINWORLD;switch(n){case"egypt":case"pirate":case"cowboy":case"kongfu":case"future":case"dark":case"beach":case"ice":case"lostcity":case"eighties":case"sky":case"dino":case"modern":case"frontyard":i.golden=!1,i._bg.playAnimation(n);break;case"water":i.golden=!1,i._bg.playAnimation("beach");break;case"market":i.golden=!0,i._bg.playAnimation("prenium");break;default:i._bg.playAnimation("homeless")}}i.suncostShown=t,this.node.getChildByName("Family").getComponent(a.ArmatureDisplay).playAnimation("Nope"),i._price.string=this.thisZombie.SUNCOST.toString(),i._plant.playAnimation(this.thisZombie._CARDSPRITENAME)},i(n,[{key:"ID",get:function(){return this.zID},set:function(e){this.zID=e}},{key:"isUnknown",get:function(){return this._isUnknown},set:function(e){if(this._isUnknown=e,e){var t=this.getComponent(m);t._bg.playAnimation("homeless"),t._plant.playAnimation("unknown"),this.node.getChildByName("Family").getComponent(a.ArmatureDisplay).playAnimation("Nope")}else this.cardGrouperZombie(this.ID,!1)}}]),n}(s))||p);n._RF.pop()}}}));

System.register("chunks:///_virtual/Cards.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UI.ts","./SunCount.ts","./CardUIUpper.ts","./CardFeatureTotal.ts","./Droppings.ts","./SeedChooser.ts","./SoundRescourses.ts","./levelController.ts","./Plants.ts","./NodePools.ts","./SandBoxLevelSettingWindow.ts","./CoinCollecterInGame.ts","./PlayerProperties.ts","./Mouse.ts","./LevelTaskCount.ts","./KeyListener.ts"],(function(t){var e,n,o,s,a,i,r,l,d,c,h,u,C,p,f,g,m,S,v,B,P,y,I,w,b,O,k,F,E,U,D,T,x,_,N,L,G,M,A,R,j,W;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,s=t.assertThisInitialized},function(t){a=t.cclegacy,i=t._decorator,r=t.Node,l=t.Prefab,d=t.Button,c=t.Vec3,h=t.math,u=t.dragonBones,C=t.UITransform,p=t.Widget,f=t.Layout,g=t.find,m=t.Label,S=t.Size,v=t.instantiate,B=t.EventMouse,P=t.tween,y=t.Sprite,I=t.Color,w=t.KeyCode,b=t.Component},function(t){O=t.UIInGame},function(t){k=t.SunCount},function(t){F=t.CardUIUpper},function(t){E=t.CardFeatureTotal},function(t){U=t.droppings},function(t){D=t.SeedChooser},function(t){T=t.sounds},function(t){x=t.LevelPlay},function(t){_=t.plants,N=t.PlantEnum},function(t){L=t.NodePools},function(t){G=t.SandBoxLevelSettingWindow},function(t){M=t.CoinCollecterInGame},function(t){A=t.AllPlayerProperties},function(t){R=t.Mouse},function(t){j=t.LevelTaskCountModeEnum},function(t){W=t.KeyListener}],execute:function(){var K,z,J,Y,H,q,V,Z,Q,X,$,tt;a._RF.push({},"bb6235wi4BJZIjcgfvmWiuD","Cards",void 0);var et=i.ccclass,nt=i.property;t("Cards",(K=et("Cards"),z=nt(r),J=nt(l),Y=nt(d),H=nt(r),K(((tt=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))||this).maxSlotCount=0,e.CFs=[],e.cardSelection=[],e.cardSlots=[],o(e,"seedBankParent",Z,s(e)),e.ui=null,e.beghouledSeeds=[],o(e,"seedBankPrefab",Q,s(e)),e.seedBank=void 0,e.oldPos=new c(25,312,0),e.shown=!1,e.plantsCanBeChosen=null,e.overrideSeedSlotsCount=NaN,o(e,"gameStartButton",X,s(e)),e._gsbuttonOldPos=new c,e.chooserWaiting=!1,e.fromCards=[],o(e,"cardButtons",$,s(e)),e.laid=!1,e.cardsUIUpper=[],e.gameStarted=!1,e.uitransform=void 0,e}n(e,t);var a=e.prototype;return a.JudgeSelection=function(){for(var t=0;t<this.CFs.length;t++){var e=new h.Color(87,174,255,0);this.cardSlots[t].getComponent(F).CD>0&&-3==this.ui.index&&x.PlantfoodRefresh&&(e=new h.Color(87,174,255,255)),this.cardSelection[t].getComponent(u.ArmatureDisplay).color=e,this.JudgeCardsSelectable()}},a.cardSelect=function(){for(var t=0;t<this.CFs.length;t++)this.CFs[t].ca.index=this.ui.index==t?1:0,this.node.getChildByName(t.toString()).getComponent(F).chosen=this.ui.index==t},a.closeSeedbank=function(){this.seedBank&&L.destroyPooly(this.seedBank)},a.createSeedbank=function(){this.seedBank=L.instantiatePooly(this.seedBankPrefab);var t=this.seedBank.getComponent(D);this.plantsCanBeChosen&&(t.currentSeedBank=this.plantsCanBeChosen.concat()),this.seedBank.parent=this.seedBankParent,this.seedBank.position=new c(0,-1e3,0)},a.onLoad=function(){var t;this.uitransform=this.getComponent(C),this.uitransform.width=O.PocketUI?122:505;var n=this.getComponent(p);n&&(n.left=O.PocketUI?100:320);var o=this.getComponent(f);o&&(o.spacingY=O.PocketUI?-70:-64),this.seedBankParent.position=O.PocketUI?new c(-35,0,0):new c(-47,-75,0),this.node.position=O.PocketUI?new c(-400,238,0):new c(10,314,0),this.oldPos=this.node.position.clone(),this.gameStarted=!1,this.ui=this.node.parent.getComponent(O);for(var s=0;s<8;s++){g("Canvas/UIInGameUpper/CardsUpper/Key"+s.toString()).getComponent(m).color=new h.Color(0,0,0,0)}e.component=this,this._gsbuttonOldPos=this.gameStartButton.node.position.clone(),this.gameStartButton.node.position.add(new c(0,-1e4,0)),null==(t=this.cardButtons.getComponent(C))||t.setContentSize(new S(O.PocketUI?225:150,150)),this.cardButtons.position=O.PocketUI?new c(55,-210,0):new c(255,355,0)},a.setBeghouledCurrentCards=function(t){var e=this;t=t.filter((function(t,e){return e<8})),this.maxSlotCount=8,this.laySlots(),this.showSeedSlots(!1),this.beghouledSeeds.forEach((function(t){var e;null==t||null==(e=t.node)||e.destroy()})),this.beghouledSeeds=[],this.cardSlots.forEach((function(n,o){if(o<t.length){n.active=!0;var s=v(U.PlantSeedPacket);s.parent=n;var a=s.getComponent(E),i=a.ca;a.cardGrouper(t[o]),e.beghouledSeeds.push(a),_.loadPlantsInCard(a.ID),i.cooling=!1,s.on(r.EventType.MOUSE_DOWN,(function(t){var n,o,s;t.getButton()==B.BUTTON_RIGHT?e.ui.tryChangingIndex(-1):i.affordable?(null==x||null==(n=x.component)||null==(n=n.BeghouledProps)||null==(n=n.BeghouledPresetProps)||n.upgradePlants(a.ID),null==(o=k.component)||o.SunDec(a._SUNCOST)):(null==(s=k.component)||s.playWarn(),T.playCardChooseFailed())}),e.ui)}else n.active=!1}))},a.beghouledUpdate=function(){for(var t=k.component.SunCount,e=0;e<this.cardsUIUpper.length;e++);this.beghouledSeeds.forEach((function(e){var n=e.ca;n&&(n.getComponent(d).enabled=n.selectable,n.affordable=t>=e._SUNCOST)}))},a.showSeedSlots=function(t){void 0===t&&(t=!0),!this.shown&&this.maxSlotCount>0&&(M.component&&t&&(M.component.show(),M.component.hidden=!1,M.component.showCD=1/0),this.shown=!0,P(this.node).to(.4,{position:this.oldPos},{easing:"cubicOut"}).start())},a.showSeedBank=function(){var t;null!=(t=this.seedBank)&&t.active&&(T.playSeedChooserOn(),P(this.seedBank).to(.4,{position:new c(0,0,0)},{easing:"cubicOut"}).call((function(){x.component.viewLawnDisabled=!1})).start())},a.hideSeedSlots=function(){var t;this.shown&&this.maxSlotCount>0&&(this.shown=!1,P(this.node).by(.4,{position:new c(O.PocketUI?-500:0,O.PocketUI?0:500,0)},{easing:"cubicIn"}).start(),M.component&&(M.component.showCD=0),null!=(t=this.seedBank)&&t.active&&(T.playSeedChooserOff(),P(this.seedBank).by(.4,{position:new c(0,-1500,0)},{easing:"cubicIn"}).start()))},a.laySeedBank=function(){var t=this;T.playSeedChooserOn(),this.showSeedSlots(),this.gameStartButton.node.position=this._gsbuttonOldPos,this.gameStartButton.node.active=!0,O.component.levelTaskShowerSlot&&(O.component.levelTaskShowerSlot.active=!0),P(this.seedBank).to(.4,{position:new c(0,0,0)},{easing:"cubicOut"}).call((function(){t.cardChooseOn()})).start()},a.pullSeedBank=function(t){var e=this;T.playSeedChooserOff(),this.cardButtons&&(this.cardButtons.active=!1);var n=[];this.CFs.forEach((function(t){n.push(t.isImitator?N.Imitater:t.ID)})),A.currentPlayer.memorySeedChoose=n,A.savePP(),this.gameStartButton.getComponent(y).color=new I(255,255,255,0),this.gameStartButton.node.position.add(new c(0,1e4,0)),P(this.seedBank).to(.8,{position:new c(0,-2e3,0)},{easing:"cubicIn"}).call((function(){t&&e.seedBank})).start()},a.judgeAllowed=function(t){var e=t.ca;this.judgeCardCanbeChosen(t,!1)?x.UnlockAll||A.getPlantProgressByID(t.oID).progress||(e.locked=!0):e.disallowed=1},a.judgeCardCanbeChosen=function(t,e){return void 0===e&&(e=!0),(!x.component.ExcludeListSunProducers||-1==t.PF.TYPE.indexOf("sunProducer"))&&(!(e&&!x.UnlockAll&&!A.getPlantProgressByID(t.oID).progress)&&(!!(x.component.haveWater||-1==t.PF.TYPE.indexOf("aquatic")&&-1==t.PF.TYPE.indexOf("lilypad"))&&-1==x.component.ExcludePlantList.indexOf(_.getPlantFeature(t.ID).CODENAME)))},a.readMemoryCards=function(){var t,e=this;null==(t=A.currentPlayer)||null==(t=t.memorySeedChoose)||t.forEach((function(t){e.addCardByPlantEnumFromSeedbank(t)}))},a.readCardDeck=function(t){var e,n=this;this.spliceAllCards(),null==t||null==(e=t.content)||null==(e=e.plants)||e.forEach((function(t){n.addCardByPlantEnumFromSeedbank(t)}))},a.cardChooseOn=function(){var t=this;this.gameStartButton.getComponent(y).color=this.CFs.length==this.maxSlotCount?new I(255,255,255,255):new I(140,140,140,255);var e=this.seedBank.getComponent(D);x.component.presetSeedToChoose.forEach((function(e){var n=t.addCardByPlantEnumFromSeedbank(e);n&&(n.disallowed=4,n.suncostShown=!0)})),e.CFs.forEach((function(e){t.judgeAllowed(e),e.node.on(r.EventType.TOUCH_END,(function(n){t.shown&&t.addCard(e,!1,!1)}),t)})),this.judgeChoosable(),this.readMemoryCards(),this.cardButtons&&(this.cardButtons.active=!0)},a.judgeChoosable=function(t){var e=this,n=this.seedBank.getComponent(D),o=this.CFs.length;n.CFs.forEach((function(t){if(t.ID==N.Imitater){var n=t.ca;if(n.disallowed>=1&&n.disallowed<=3)return;0==o||e.CFs[o-1].imitateDisallowed?n.disallowed=4:n.disallowed=0}}))},a.addCard=function(t,e,n){var o=this;void 0===e&&(e=!1),void 0===n&&(n=!0);var s=this.CFs.length+0,a=t.ca;if(!(a.disallowed>0)&&s<this.maxSlotCount&&!a.chosen){var i=v(t.node);i.setParent(this.cardSlots[s].getComponent(F).CardUpper,!1),i.worldPosition=t.node.worldPosition,i.worldScale=this.cardSlots[s].worldScale;var l=i.getComponent(E),d=l.ca;l.PP_BOOSTED=t.PP_BOOSTED,l.FORCE_BOOSTED=t.FORCE_BOOSTED,l.cardGrouper(t.ID);var h,u=t.PF;if(l.ID==N.Imitater&&this.CFs[s-1]){var C=this.CFs[s-1];l.PP_BOOSTED=C.PP_BOOSTED,l.FORCE_BOOSTED=C.FORCE_BOOSTED,l.cardGrouper(C.ID),l.isImitator=!0}if(a.chosen=!0,this.fromCards.push(a),d.seedChooserModeOn=!1,this.CFs.push(l),-1!=u.TYPE.indexOf("losingPlant"))null==(h=O.component)||h.warnLevelTask(j.PlantLoseLimit);return P(i).to(.3,{position:new c(0,0,0)},{easing:"cubicOut"}).call((function(){i.setParent(o.cardSlots[s],!1),i.once(r.EventType.MOUSE_DOWN,(function(t){t.preventSwallow=!0,o.spliceCard(i.getComponent(E))}),o)})).start(),n&&T.playCardChosen(),a.disallowed=e?1:0,this.CFs.length==this.maxSlotCount&&(this.gameStartButton.getComponent(y).color=new I(255,255,255,255)),this.judgeChoosable(t),d}},a.addCardByPlantEnum=function(t){var e=this.CFs.length+0,n=t+0,o=!1;n==N.Imitater&&this.CFs[0]&&this.CFs[e-1].ID!=N.Imitater&&(A.getPlantProgressByID(t).boost>0||(o=!0,n=this.CFs[e-1].ID));if(e<this.maxSlotCount){var s=v(U.PlantSeedPacket);s.parent=this.cardSlots[e],s.worldScale=this.cardSlots[e].worldScale;var a=s.getComponent(E),i=A.getPlantProgressByID(t);a.PP_BOOSTED=i.boost>0&&!x.sandBoxModeOn,a.cardGrouper(n),a.isImitator=o,this.CFs.push(a)}},a.addCardByPlantEnumFromSeedbank=function(t){var e=this,n=null;return this.seedBank.getComponent(D).CFs.forEach((function(o){n||o.ID==t&&(n=e.addCard(o))})),n},a.spliceAllCards=function(){for(var t=0;t<this.maxSlotCount;t++)this.CFs.length>0&&this.spliceCard(this.CFs[this.CFs.length-1])},a.rechooseFromMemory=function(){this.spliceAllCards(),this.readMemoryCards()},a.spliceCard=function(t){var e=t.ca;if(!(e.disallowed>0||x.letsRocked||e.disallowed>0)){T.playCardCancel();var n=this.CFs.indexOf(t),o=0;for(o=0;o<this.fromCards.length;o++){var s=this.fromCards[o].cf,a=t;if(s.ID==a.ID&&s.ID!=N.Imitater&&!a.isImitator||s.ID==N.Imitater&&a.isImitator){this.fromCards[o].chosen=!1,this.fromCards.splice(o,1);break}}var i=this.CFs[n+1];t.node.destroy();for(var r=n;r<this.CFs.length;r++){var l,d;if((null==(l=this.CFs[r])||null==(l=l.node)?void 0:l.parent)!=this.cardSlots[r-1])null==(d=this.CFs[r])||null==(d=d.node)||d.setParent(this.cardSlots[r-1],!0),P(this.CFs[r].node).to(.3,{position:new c(0,0,0)},{easing:"cubicOut"}).start()}this.CFs.splice(n,1),this.CFs.length!=this.maxSlotCount&&(this.gameStartButton.getComponent(y).color=new I(140,140,140,255)),this.judgeChoosable(t),i&&i.isImitator&&this.spliceCard(i)}},a.laySlots=function(){var t=this;if(!this.laid){if(this.laid=!0,this.seedBank){var e=this.seedBank.getComponent(D),n=0;e.CFs.forEach((function(e){n>=t.maxSlotCount||t.judgeCardCanbeChosen(e)&&n++})),this.maxSlotCount=n}this.maxSlotCount||(this.node.getChildByName("0").active=!1);for(var o=W.KeyBinds,s=1;s<this.maxSlotCount;s++){var a=v(this.node.getChildByName("0"));a.name=s.toString(),a.parent=this.node,this.cardSlots.push(a);var i=this.cardSlots[s].getComponent(F);i.index=s;var r=w.NONE;switch(s){case 1:r=w[o.Game_Card2];break;case 2:r=w[o.Game_Card3];break;case 3:r=w[o.Game_Card4];break;case 4:r=w[o.Game_Card5];break;case 5:r=w[o.Game_Card6];break;case 6:r=w[o.Game_Card7];break;case 7:r=w[o.Game_Card8]}i.KeyTip.string=W.KeyCodeToString(r);var l=a.getChildByName("PlantFoodSelection");this.cardSelection.push(l),l.getComponent(u.ArmatureDisplay).color=new I(255,255,255,0)}this.cardSelection.forEach((function(t){t.getComponent(u.ArmatureDisplay).playAnimation("Idle",1/0)}))}},a.start=function(){var t=this;this.laid=!1,this.shown=!1,this.cardSlots.push(this.node.getChildByName("0")),this.cardSelection.push(this.node.getChildByName("0").getChildByName("PlantFoodSelection")),this.cardSelection[0].getComponent(u.ArmatureDisplay).color=new I(255,255,255,0);var e=this.cardSlots[0].getComponent(F);e.index=0,e.KeyTip.string=W.KeyCodeToString(w[W.KeyBinds.Game_Card1]),this.node.position.add(new c(O.PocketUI?-500:0,O.PocketUI?0:200,0)),this.node.on(r.EventType.MOUSE_DOWN,(function(e){e.getButton()==B.BUTTON_RIGHT&&t.ui.tryChangingIndex(-1)}),this)},a.onDisable=function(){for(var t=0;t<this.CFs.length;t++)this.CFs[t].getComponent(d).enabled=!1,this.CFs[t].ca.enabled=!1},a.CoolStart=function(t){var e;null==(e=this.cardsUIUpper[t])||e.coolStart()},a.cardsUIUpperRestart=function(){this.cardsUIUpper.forEach((function(t){t.coolStart()}))},a.gameStart=function(){var t=this;if(!this.gameStarted){this.gameStarted=!0,this.CFs.forEach((function(t){t.ca.disallowed=0}));for(var e=function(e){var n=t.node.getChildByName(e.toString()).getComponent(F);n.gameStart(),t.cardsUIUpper.push(n),t.CFs[e].node.off(r.EventType.MOUSE_DOWN),t.CFs[e].node.on(r.EventType.MOUSE_DOWN,(function(n){var o;null==(o=t.cardsUIUpper[e])||o.clearCool(n),n.getButton()==B.BUTTON_RIGHT?t.ui.tryChangingIndex(-1):t.ui.tryChangingIndex(e)}),t.ui)},n=0;n<this.CFs.length;n++)e(n);this.cardSelection.forEach((function(t){t.setSiblingIndex(t.parent.children.length),t.getComponent(u.ArmatureDisplay).color=new I(255,255,255,0)})),this.JudgeCardsSelectable(),this.JudgeSelection()}},a.JudgeCardsSelectable=function(){for(var t=k.component.SunCount,e=0;e<this.cardsUIUpper.length;e++){var n;null==(n=this.cardsUIUpper[e])||n.setAffordable(t>=this.CFs[e]._SUNCOST||G.freePlant)}},a.cardsUpdate=function(t){this.cardsUIUpper.forEach((function(e){e.cardUpdate(t)}))},a.judgeMouseIsIn=function(){return!!this.uitransform&&R.judgeInUITransform(this.uitransform)},a.onMouseScroll=function(t){if(x.sandBoxModeOn&&x.gameStarted&&this.CFs.length){var e=this.CFs[0],n=t.getScrollY()>0?-1:1,o=(G.plantList.indexOf(e.ID)+n)%G.plantList.length;o<0&&(o=G.plantList.length-1),this.CFs.forEach((function(t,e){var n=G.plantList[(o+e)%G.plantList.length];t.FORCE_BOOSTED=t.PP_BOOSTED=!1,t.cardGrouper(n)}))}},e}(b)).component=void 0,Z=e((V=tt).prototype,"seedBankParent",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=e(V.prototype,"seedBankPrefab",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=e(V.prototype,"gameStartButton",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=e(V.prototype,"cardButtons",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=V))||q));a._RF.pop()}}}));

System.register("chunks:///_virtual/cardSelectAlmanac.ts",["./rollupPluginModLoBabelHelpers.js","cc","./levelController.ts","./Materials.ts","./CardFeatureTotal.ts"],(function(t){var e,i,o,n,s,h,a,l,r,c,d,u,p;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){o=t.cclegacy,n=t._decorator,s=t.Node,h=t.dragonBones,a=t.Label,l=t.Color,r=t.math,c=t.Component},function(t){d=t.LevelPlay},function(t){u=t.materialRes},function(t){p=t.CardFeatureTotal}],execute:function(){var _;o._RF.push({},"824f019C59ESqoTIS6t819E","cardSelectAlmanac",void 0);var f=n.ccclass;n.property,t("cardSelectAlmanac",f("cardSelectAlmanac")(_=function(t){function o(){for(var e,i=arguments.length,o=new Array(i),n=0;n<i;n++)o[n]=arguments[n];return(e=t.call.apply(t,[this].concat(o))||this).index=void 0,e.indexPoint=void 0,e.affordable=void 0,e.cooling=void 0,e.selectable=void 0,e._disallowed=0,e._cf=void 0,e._bg=void 0,e._dots=void 0,e._plant=void 0,e._price=void 0,e._select=void 0,e._disallow=void 0,e.free=!1,e.seedChooserModeOn=!1,e.almanacModeOn=!1,e.chosen=!1,e._suncostShown=!1,e.defaultSunCostShown=!0,e.golden=!1,e.prizeModeOn=!1,e.Dark=new l(140,140,140,255),e.Red=new r.Color(255,100,100,255),e.White=new r.Color(255,255,255,255),e.Transparent=new r.Color(255,255,255,0),e}e(o,t);var n=o.prototype;return n.onEnable=function(){this.index=0,this.indexPoint=0,this._select.armatureName="selection",this._select.playAnimation("nope",-1),this.defaultSunCostShown=!0,this.node.on(s.EventType.MOUSE_ENTER,this.enter,this),this.node.on(s.EventType.MOUSE_LEAVE,this.leave,this)},n.onDisable=function(){this.node.off(s.EventType.MOUSE_ENTER,this.enter,this),this.node.off(s.EventType.MOUSE_LEAVE,this.leave,this)},n.onLoad=function(){this._disallow=this.node.getChildByName("Disallow").getComponent(h.ArmatureDisplay),this._bg=this.node.getChildByName("Background").getComponent(h.ArmatureDisplay),this._dots=this.node.getChildByName("Dots").getComponent(h.ArmatureDisplay),this._plant=this.node.getChildByName("Plant").getComponent(h.ArmatureDisplay),this._price=this.node.getChildByName("Dots").getChildByName("Price").getComponent(a),this._select=this.node.getChildByName("Select").getComponent(h.ArmatureDisplay),this._disallow.playAnimation("nope",1)},n.PlantDark=function(){return!this.selectable},n.BKDark=function(){return!this.selectable||1==this.index},n.Selection=function(){return 1==this.index},n.Pointed=function(){return 1==this.indexPoint&&0==this.index&&this.selectable},n.SelectionAnimationName=function(){return this.Selection()?"select":this.Pointed()?"point":"nope"},n.enter=function(t){this.indexPoint=1},n.leave=function(t){this.indexPoint=0},n.inGameColor=function(){this._bg.color=this.BKDark()?this.Dark:this.White,this._dots.color=this.BKDark()?this.Dark:this.White,this._plant.color=this.PlantDark()?this.Dark:this.White,this._price.color=this._suncostShown?this.affordable?this.White:this.Red:this.Transparent,this._select.playAnimation(this.SelectionAnimationName())},n.chooseSeedColor=function(){var t=this,e=this.chosen||this.disallowed>0;[this._bg,this._dots,this._plant].forEach((function(i){i.color=e?t.Dark:t.White})),this._price.color=this._suncostShown&&0==this.disallowed?this.chosen?this.Dark:this.White:this.Transparent,this._select.playAnimation(1==this.indexPoint?"point":this.Selection()?"select":"nope")},n.almanacColor=function(){var t=this,e=this.chosen||this.disallowed>0;[this._bg,this._dots].forEach((function(i){i.color=e?t.Dark:t.White})),this._plant.color=this.disallowed>0?this.Dark:this.White,this._price.color=this._suncostShown&&0==this.disallowed?this.chosen?this.Dark:this.White:this.Transparent,this._select.playAnimation(1==this.indexPoint?"point":this.Selection()?"select":"nope")},n.commonColor=function(){var t=this;[this._bg,this._dots,this._plant].forEach((function(e){e.color=t.disallowed>0?t.Dark:t.White})),this._price.color=this._suncostShown?this.White:this.Transparent,this._select.playAnimation(1==this.indexPoint?"point":this.Selection()?"select":"nope")},n.prizeColor=function(){[this._bg,this._dots,this._plant].forEach((function(t){t.color=u.rewardColor})),this._price.color=this._suncostShown?this.White:this.Transparent,this._select.playAnimation(1==this.indexPoint?"point":this.Selection()?"select":"nope")},n.getSelectable=function(){return!this.cooling&&(this.affordable||this.free)&&0==this.disallowed},n.update=function(t){var e;this.selectable=this.getSelectable(),this.prizeModeOn?this.prizeColor():null!=d&&d.gameStarted||null!=d&&null!=(e=d.component)&&e.lastStandPrepareStarted?this.inGameColor():this.seedChooserModeOn?this.chooseSeedColor():this.almanacModeOn?this.almanacColor():this.commonColor()},i(o,[{key:"cf",get:function(){return this._cf||(this._cf=this.getComponent(p)),this._cf}},{key:"locked",get:function(){return 2==this._disallowed||3==this._disallowed},set:function(t){t&&(this.disallowed=this.golden?3:2)}},{key:"disallowed",get:function(){return this._disallowed},set:function(t){this.suncostShown=!t&&this.defaultSunCostShown;var e="nope";switch(t){case 1:e="disallow";break;case 2:e="lock_medium";break;case 3:e="lock_golden"}this._disallow.playAnimation(e,1),this._disallowed=t}},{key:"suncostShown",get:function(){return this._suncostShown},set:function(t){t?(this.free=!1,this._dots.playAnimation(this.golden?"dotsPricePrenium":"dotPrice")):(this.free=!0,this._dots.playAnimation("dotsNoPrice")),this._suncostShown=t}}]),o}(c))||_);o._RF.pop()}}}));

System.register("chunks:///_virtual/CardUIUpper.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Cards.ts","./UI.ts","./PlantFoodCount.ts","./levelController.ts","./SandBoxLevelSettingWindow.ts","./SettingWindow.ts","./Plants.ts"],(function(o){var t,e,n,i,a,r,l,s,d,c,h,p,C,f,u,w,S,m,g,P,U,D,v,y,I;return{setters:[function(o){t=o.applyDecoratedDescriptor,e=o.inheritsLoose,n=o.initializerDefineProperty,i=o.assertThisInitialized},function(o){a=o.cclegacy,r=o._decorator,l=o.Node,s=o.Prefab,d=o.EventMouse,c=o.Button,h=o.Color,p=o.math,C=o.find,f=o.Label,u=o.instantiate,w=o.Sprite,S=o.Vec3,m=o.Component},function(o){g=o.Cards},function(o){P=o.UIInGame},function(o){U=o.PlantFoodCount},function(o){D=o.LevelPlay},function(o){v=o.SandBoxLevelSettingWindow},function(o){y=o.SettingWindow},function(o){I=o.plants}],execute:function(){var b,T,O,x,B,L,F;a._RF.push({},"8cfcd0rpYJLVIHfHUSKviCk","CardUIUpper",void 0);var _=r.ccclass,N=r.property;o("CardUIUpper",(b=_("CardUIUpper"),T=N(l),O=N(s),b((L=t((B=function(o){function t(){for(var t,e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return(t=o.call.apply(o,[this].concat(a))||this).CardUpper=null,n(t,"Mouse",L,i(t)),t.KeyTip=void 0,n(t,"COOL",F,i(t)),t.coolShadow=void 0,t.chosen=void 0,t.CD=0,t.affordable=void 0,t.Cooldown=5,t.index=-1,t.masked=!1,t.detecter=null,t.cf=null,t}e(t,o);var a=t.prototype;return a.setAffordable=function(o){this.affordable=o},a.clearCool=function(o){this.CD<=0||(o.getButton()==d.BUTTON_LEFT&&-3==P.index&&D.gaming&&(D.PlantfoodRefresh||D.sandBoxModeOn)?this._clearCool():o.getButton()!=d.BUTTON_MIDDLE||D.component.lastStandPrepareStarted||-1!=P.index||!D.PlantfoodRefresh&&!D.sandBoxModeOn||(U.plantFoodNum>0||v.freePF?this._clearCool():U.plantfoodWarn()))},a._clearCool=function(){this.coolShadow.fillRange=0,this.CD=0,g.component.JudgeSelection(),P.component.tryChangingIndex(-1),U.component.plantFoodDec()},a.coolStart=function(o){void 0===o&&(o=1),isNaN(o)&&(o=1);var t=this.cf;t.BOOSTED&&t.BoostGem<=0&&(o*=.01);var e=I.getPlantProps(t.ID);v.noCDPlant?o=0:D.component.lastStandPrepareStarted&&(o=0,0!=e.SunCost&&-1==t.PF.TYPE.indexOf("lastStandDisallowed")||(o=1)),g.component.CFs.forEach((function(o){o&&(o.SUNCOST=o.SUNCOST)})),t.Cooldown<=0?this.Cooldown=this.CD=1e-5:(this.Cooldown=t.Cooldown,this.CD=o*this.Cooldown),this.coolShadow.fillRange=o},a.coolDown=function(o){D.gameStarted&&this.CD>0&&(this.CD-=o),(this.CD<=0||v.noCDPlant)&&(this.CD=0,g.component.JudgeSelection()),this.coolShadow.fillRange=this.CD/this.Cooldown;var t=this.cf.ca;t.affordable=this.affordable,t.cooling=this.CD>0&&!v.noCDPlant,this.cf.getComponent(c).enabled=t.selectable},a.keyColor=function(){return y.showKeyTips?D.gameStarted||D.component.lastStandPrepareStarted?this.chosen?new p.Color(100,255,100,255):this.CD>0?new p.Color(150,150,255,255):this.affordable?new p.Color(245,255,0,255):new p.Color(255,100,100,255):new h(255,255,255,0):new h(0,0,0,0)},a.onLoad=function(){this.KeyTip=C("Canvas/UIInGameUpper/CardsUpper/Key"+this.node.name).getComponent(f),this.CardUpper=C("Canvas/UIInGameUpper/CardsUpper/"+this.node.name)},a.setDetecter=function(){},a.gameStart=function(){this.coolShadow||this.coolShade(),this.CardUpper.setWorldPosition(this.node.worldPosition),this.CardUpper.setWorldScale(this.node.worldScale);var o=this.cf;I.loadPlantsInCard(o.ID),this.coolShadow&&this.coolStart(o.CooldownFrom)},a.coolShade=function(){var o=u(this.COOL);this.coolShadow=o.getComponent(w),this.cf=g.component.CFs[this.index],this.cf.ca._dots.node.getChildByName("CooldownShade").addChild(o)},a.start=function(){},a.update=function(o){this.CardUpper.worldPosition=this.node.worldPosition,this.CardUpper.worldScale=this.node.worldScale},a.cardUpdate=function(o){if(this.cf){this.coolDown(o);var t=this.node.worldScale.x*(P.PocketUI?-1:1);this.KeyTip.node.worldPosition=new S(this.node.worldPosition.x-100*t,this.node.worldPosition.y-55*t),this.KeyTip.color=this.keyColor(),this.KeyTip.node.scale=this.chosen?new S(.7,.7):new S(.5,.5)}},t}(m)).prototype,"Mouse",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=t(B.prototype,"COOL",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=B))||x));a._RF.pop()}}}));

System.register("chunks:///_virtual/cart.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Tile.ts","./SoundRescourses.ts","./Square.ts"],(function(n){var i,t,o,e,r,l,s,a,u,c,h,p;return{setters:[function(n){i=n.applyDecoratedDescriptor,t=n.inheritsLoose,o=n.initializerDefineProperty,e=n.assertThisInitialized,r=n.createClass},function(n){l=n.cclegacy,s=n._decorator,a=n.AudioClip,u=n.Vec2},function(n){c=n.Tile},function(n){h=n.sounds},function(n){p=n.Square}],execute:function(){var d,f,v,C,L,g,m;l._RF.push({},"2c0a5vs5XdBwo47rnI22f8M","cart",void 0);var k=s.ccclass,S=s.property;n("cart",(d=k("cart"),f=S([a]),v=S([a]),d((g=i((L=function(n){function i(){for(var i,t=arguments.length,r=new Array(t),l=0;l<t;l++)r[l]=arguments[l];return i=n.call.apply(n,[this].concat(r))||this,o(i,"moveSounds",g,e(i)),o(i,"moveLinkSounds",m,e(i)),i.linkSlot=void 0,i._linkingPosition=-1,i.linkedCarts=[],i}t(i,n);var l=i.prototype;return l.setTileParent=function(n){},l.specialTileOnLoad=function(){var n;this.linkSlot=null==(n=this.db.armature())?void 0:n.getSlot("LINK")},l.specialTileOnEnable=function(){this.linkingPosition=-1,this.linkedCarts=[this]},l.moveUp=function(){this.linkedCarts.some((function(n){var i;return 0==(null==(i=n.inLnC)||null==(i=i.rail)?void 0:i.pos)||!n.canMoveToLnC(n.inLnC.upper)}))||this.linkedCarts.forEach((function(n){n.moveTo(n.inLnC.upper)}))},l.moveDown=function(){var n;2!=(null==(n=this.inLnC)||null==(n=n.rail)?void 0:n.pos)&&(this.linkedCarts.some((function(n){var i;return 2==(null==(i=n.inLnC)||null==(i=i.rail)?void 0:i.pos)||!n.canMoveToLnC(n.inLnC.lower)}))||this.linkedCarts.forEach((function(n){n.moveTo(n.inLnC.lower)})))},l.canMoveToLnC=function(n){var i;if(this.inLnC==n||this.inLnC.plantSpawning||this.inLnC.imitaterInSquare.length||this.inLnC.tilePlantInSquare.length||this.inLnC.tombStone||n.tombStone)return!1;if(null==n||null==(i=n.rail)?void 0:i.getCartInLnC(n))return!1;var t=!0;return this.inLnC.getAllPlants(!1).concat().forEach((function(n){t&&n.leapTween&&(t=!1)})),!!t},l.moveTo=function(n){if(this.canMoveToLnC(n)){this.linkedCarts.length>1&&h.playArray(this.moveLinkSounds,1,.1);var i=this.inLnC.getAllPlants(!1).concat();this.node.worldPosition=n.node.worldPosition;var t=this.inLnC;if(this.inLnC=n,null!=t&&t.sheep){var o=n.plantPoint.worldPosition;t.sheep.worldPosition=new u(o.x,o.y),t.sheep.judgeInLnC()}null==i||i.forEach((function(i){i.leapTo(n,0,0,!1,!0)})),h.playArray(this.moveSounds,.5),p.component.readIndex()}},l.plantPushTideListener=function(n){},r(i,[{key:"linkingPosition",get:function(){return this._linkingPosition},set:function(n){var i;this._linkingPosition=n,null==(i=this.linkSlot)||i._setDisplayIndex(n)}}]),i}(c)).prototype,"moveSounds",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),m=i(L.prototype,"moveLinkSounds",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C=L))||C));l._RF.pop()}}}));

System.register("chunks:///_virtual/CeleryStalker.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./Square.ts","./CharacterManager.ts","./ArrayGet.ts","./SoundRescourses.ts"],(function(t){var n,e,i,a,r,o,s,l,h,u,d,c,f,p,g,m,y,S;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,a=t.assertThisInitialized,r=t.createClass,o=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){l=t.cclegacy,h=t._decorator,u=t.AudioClip},function(t){d=t.Plant,c=t.PlantProps},function(t){f=t.Square},function(t){p=t.Rectangle,g=t.ZombieDamageDetails,m=t.ZombieDamageType},function(t){y=t.ArrayGet},function(t){S=t.sounds}],execute:function(){var b,C,w,R,A,v,D,k,_,P,L,E,I,H,z,j,O,x,F,T;l._RF.push({},"2aecczYCj9Fy6Es5QWJhoZb","CeleryStalker",void 0);var q=h.ccclass,G=h.property,Z=(b=q("celerystalkerSound"),C=G([u]),w=G([u]),R=G([u]),A=G([u]),v=G([u]),D=G([u]),b((P=n((_=function(){function t(){i(this,"hitSounds",P,this),i(this,"attackStartSounds",L,this),i(this,"attackEndSounds",E,this),i(this,"showSounds",I,this),i(this,"hideSounds",H,this),i(this,"foodSounds",z,this)}var n=t.prototype;return n.playHitSound=function(){S.playArray(this.hitSounds,1,.1)},n.playAttackStartSound=function(){S.playArray(this.attackStartSounds,1,.1)},n.playAttackEndSound=function(){S.playArray(this.attackEndSounds,1,.1)},n.playShowSound=function(){S.playArray(this.showSounds,1,.1)},n.playHideSound=function(){S.playArray(this.hideSounds,1,.1)},n.playFoodSound=function(){S.playArray(this.foodSounds,1,.1)},t}()).prototype,"hitSounds",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=n(_.prototype,"attackStartSounds",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),E=n(_.prototype,"attackEndSounds",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),I=n(_.prototype,"showSounds",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),H=n(_.prototype,"hideSounds",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=n(_.prototype,"foodSounds",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=_))||k),B=function(t){function n(){for(var n,e=arguments.length,i=new Array(e),a=0;a<e;a++)i[a]=arguments[a];return(n=t.call.apply(t,[this].concat(i))||this).PlantfoodChildrenCount=3,n.RetractionDelay=3,n.DamagePerHit=25,n}return e(n,t),n}(c);t("CeleryStalkerPlant",(j=q("CeleryStalkerPlant"),O=G(Z),j((T=n((F=function(t){function n(){for(var n,e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return n=t.call.apply(t,[this].concat(r))||this,i(n,"soundRes",T,a(n)),n._stage=0,n._bpSlots=[],n.soonReact=!1,n.dirtsArmature=void 0,n.detector=new p,n.retreatCD=3,n.switching=!1,n.target=void 0,n._objdataOwn=new B,n.chidden=!1,n}e(n,t);var l=n.prototype;return l.specialPlantOnLoad=function(){var t,n=this;this.db.armature().getSlots().forEach((function(t){t.name.includes("_BP")&&n._bpSlots.push(t)})),this.dirtsArmature=null==(t=this.db.armature().getSlot("DIRT"))?void 0:t.childArmature},l.specialPlantOnEnable=function(){this.stage=0,this.hide(),this.anmControl.playIdle(),this.retreatCD=0,this.switching=!1,this.soonReact=!0},l.onDamaged=function(t,n,e){for(var i=0,a=2;a>=0;a--)if(e<=this.toughness*(1-a/3)){i=a;break}this.stage!=i&&(this.stage=i)},l.specialPlantFood=function(t){this.chidden&&this.show(),this.anmControl.playAnimation("Food",1),this.onDamaged(0,this.toughness,this.toughness),this.target=null,this.retreatCD=.1},l.replantable=function(){return 0!=this.stage},l.replant=function(){this.health=this.toughness,this.onDamaged(0,this.toughness,this.toughness)},l.animationListener=function(t){if("foodEnd"==t.name)this.foodEnd();else if("hit"==t.name)this.hit(),this.soundRes.playHitSound();else if("foodSummon"==t.name)this.throwChildren(),this.soundRes.playFoodSound();else if("attackLoop"==t.name){var n;this.target=this.getTarget(),this.target||null!=(n=this.inLnC)&&null!=(n=n.lefter)&&n.tombStone?(this.anmControl.playAnimation("AttackLoop",1/0,0,1),this.switching=!0):(this.anmControl.playAnimation("AttackEnd",1),this.soundRes.playAttackEndSound(),this.switching=!0)}else if("dirt"==t.name){var e;null==(e=this.dirtsArmature)||null==(e=e.animation)||e.play("Play",1)}},l.getTarget=function(){var t=this,n=null;return this.inLane.zombiePool().forEach((function(e){var i;e.bodyRecForShooter.prjX().x<Infinity&&t.detector.judgeCrossRec(e.bodyRecForShooter)&&(null==(i=t.bodyRec)||!i.judgeCrossRec(e.plantDetectorRec))&&(n=e)})),n},l.throwChildren=function(){var t=o(s().mark((function t(){var n,e,i,a,r,o,l,h,u=this;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=this._objdataOwn.PlantfoodChildrenCount,(e=[]).length<n)for(i=y.randomize(f.getAllLnC()),a=0;e.length<n&&a<i.length;a++)r=i[a],-1==e.indexOf(r)&&r.putPlantAvailable(!0,this.ID)&&e.push(r);o=s().mark((function t(){var n,e;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=h[l],t.next=3,n.SpawnPlant(u.ID,!0);case 3:(e=t.sent)&&(e.hurting=60,e.scheduleOnce((function(){var t;(null==(t=e.plantInLnC)||null==(t=t.plantInSquare)||null==(t=t.filter((function(t){return!t.allowOverlap})))?void 0:t.length)>1&&e.die(!0,!1)}),.1));case 5:case"end":return t.stop()}}),t)})),l=0,h=e;case 5:if(!(l<h.length)){t.next=10;break}return t.delegateYield(o(),"t0",7);case 7:l++,t.next=5;break;case 10:case 11:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),l.specialPlantOnSquareChange=function(t,n){this.detector=p.createRectangleNodeSide(n.node,1.5*-f.SquareWidth,f.SquareHeight)},l.hit=function(){var t=this._objdataOwn.RetractionDelay;t*=this._cdScale,this.retreatCD=t;var n=this._objdataOwn.DamagePerHit;if(n*=this._dmgScale,this.target&&this.target.inLane==this.inLane&&this.detector.judgeCrossRec(this.target.bodyRecForShooter)){if(this.bodyRec.judgeCrossRec(this.target.plantDetectorRec))return void this.hide();this.target.dealDamage(new g(n,!0,!0,!0,null,m.physicle))}else{var e;this.target=this.getTarget();var i=new g(n,!0,!0,!0,null,m.physicle);if(this.target)this.target.dealDamage(i);else if(null!=(e=this.inLnC)&&null!=(e=e.lefter)&&e.tombStone){var a,r=null==(a=this.inLnC)||null==(a=a.lefter)?void 0:a.tombStone;!r||null!=r&&r.hidden||null==r||r.dealDamage(i)}else this.anmControl.playAnimation("AttackEnd",1),this.soundRes.playAttackEndSound(),this.switching=!0}},l.waterable=function(){return!this.switching&&!this.target&&!this.chidden},l.animationOnComplete=function(){this.switching=!1},l.specialPlantUpdate=function(t,n,e){if(!this.fooding&&!this.switching)if(this.chidden){var i;(this.getTarget()||null!=(i=this.inLnC)&&null!=(i=i.lefter)&&i.tombStone)&&this.show()}else{var a;if(!this.target)e>0&&((this.target=this.getTarget())||null!=(a=this.inLnC)&&null!=(a=a.lefter)&&a.tombStone)&&(this.anmControl.playAnimation("AttackStart",1),this.soundRes.playAttackStartSound(),this.switching=!0);if(this.retreatCD>0&&(this.retreatCD-=t),this.retreatCD<=0)return void this.hide()}this.soonReact=!1},l.show=function(){this.target=null,this.retreatCD=.5,this.chidden=!1,this.anmControl.playAnimation("Show",1),this.switching=!0,this.anmControl.IdleAnim="Idle",this.anmControl.RandomAnim=["Rand1","Rand2","Rand3"],this.deathAnm="Death",this.soundRes.playShowSound(),this.eaterDetectable=!0,this.short_=!1},l.hide=function(){this.target=null,this.chidden=!0,this.anmControl.playAnimation("Hide",1),this.switching=!0,this.anmControl.IdleAnim="Idle_Hidden",this.anmControl.RandomAnim=["Rand1_Hidden","Rand2_Hidden","Rand3_Hidden"],this.deathAnm="Death_Hidden",this.soundRes.playHideSound(),this.eaterDetectable=!1,this.short_=!0},r(n,[{key:"stage",get:function(){return this._stage},set:function(t){var n;t>2&&(t=2),t<0&&(t=0),t!=this._stage&&(this._bpSlots.forEach((function(n){n._setDisplayIndex(t)})),this._stage=t,null==(n=this.plantInLnC)||n.readIndex())}}]),n}(d)).prototype,"soundRes",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Z}}),x=F))||x));l._RF.pop()}}}));

System.register("chunks:///_virtual/Character.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Lane.ts","./LnC.ts","./Square.ts","./shadeFloor.ts","./NodePools.ts","./FrontYard.ts","./levelController.ts","./UI.ts","./KeyListener.ts"],(function(t){var e,i,n,o,a,s,h,r,d,l,c,u,g,f,w,S,p,y,_,P,C,L,k,v,I,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized,a=t.createClass},function(t){s=t.cclegacy,h=t._decorator,r=t.CCFloat,d=t.Size,l=t.Node,c=t.dragonBones,u=t.Vec3,g=t.Quat,f=t.Color,w=t.tween,S=t.Vec2,p=t.Component},function(t){y=t.Lane},function(t){_=t.TileType},function(t){P=t.Square},function(t){C=t.shadeFloor},function(t){L=t.NodePools},function(t){k=t.FrontYard},function(t){v=t.LevelPlay},function(t){I=t.UIInGame},function(t){b=t.KeyListener}],execute:function(){var m,x,T,O,Y,F,H,A,X,M,q,D,R;s._RF.push({},"fb6fe2CvXNDDoGQaFJYhZZy","Character",void 0);var E=h.ccclass,z=h.property,G=t("CharacterScale",.45);t("CharacterType",function(t){return t[t.zombie=0]="zombie",t[t.plant=1]="plant",t[t.droppings=2]="droppings",t[t.projectle=3]="projectle",t[t.default=4]="default",t}({})),t("Character",(m=E("Character"),x=z(r),T=z({type:Boolean,visible:function(){return this.useShade}}),O=z(Boolean),Y=z({type:d,visible:function(){return this.useShade}}),F=z({type:l,visible:function(){return this.useShade}}),m((X=e((A=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))||this).isGameLoseTriggerer=!1,e.AlmanacMode=!1,e.MagnetShroomConsumingSpeed=1,n(e,"originalScale",X,o(e)),e.disabled=!1,e.inLane=void 0,e.inLnC=void 0,e.db=null,e._worldPositionX=0,e._worldPositionY=0,e.shadeAlphaScale=1,e._height=0,e._maxShowShadeHeight=600,e._depth=0,e.depthStartingZ=0,e._scale=1,e.shadeHidden=!1,e.lIndex=-2,e.cIndex=-2,e.shadeCIndex=-2,n(e,"smartShadeHider",M,o(e)),e.shadeInLnC=void 0,e.lockLane=!1,e.fallingInSky=!1,e.flyingOnSky=!1,n(e,"useShade",q,o(e)),n(e,"originalShadeScale",D,o(e)),n(e,"shadeSocket",R,o(e)),e.shade=void 0,e.oldTT=_.solid,e.fadingAway=!1,e.fallInSkyRotateEasing="quadIn",e}i(e,t);var s=e.prototype;return s.onLoad=function(){this.shadeSocket||(this.shadeSocket=this.node),this.db=this.getComponent(c.ArmatureDisplay),this.characterOnLoadForced(),b.isInGame&&(this.disabled||this.characterOnLoad())},s.characterOnLoad=function(){},s.characterOnLoadForced=function(){},s.triggerGameLose=function(){},s.updateOnDisplayed=function(){},s._onRealPosChange=function(){this.onRealPosChange(),this.followShade()},s.onRealPosChange=function(){},s.onEnable=function(){var t;if(b.isInGame){this.MagnetShroomConsumingSpeed=1,this.isGameLoseTriggerer=!1,this.shadeHidden=!1,this.setLockLane(null),null==(t=this.db)||null==(t=t.color)||t.set(255,255,255,255),this.fadingAway=!1,this.fallingInSky=!1,this.flyingOnSky=!1,this.cIndex=-2,this.lIndex=-2;var e=P.getLnC(-2,-2);this.inLnC=e,this.disabled||(this.characterOnEnable(),this.useShade&&this.spawnShade(),this.inLane=P.getLane(-2)),this.depth=0,this.height=0,this.scale=1,this.node.children.forEach((function(t){t.scale=new u(1,1,1)}))}},s.onDisable=function(){b.isInGame&&(this.useShade&&this.shade&&(C.component.putShade(this.shade.node),this.shade=null),this.disabled||this.characterOnDisable())},s.characterOnEnable=function(){},s.characterOnDisable=function(){},s.setInLnC=function(t){var e=this.inLnC;this.inLnC=t,this.inLane=null==t?void 0:t.inLane,this.onLnCSet(e,t)},s.onLnCSet=function(t,e){},s.characterOnWPChange=function(){},s.readDepth=function(t,e){if(e!=t)if(t<0){this.node.rotation=new g(.3827,0,0,.9239);var i=this._scaleForCharacter;this.node.scale=new u(i,1.414*Math.abs(i),Math.abs(i))}else{this.node.rotation=new g(0,0,0,0);var n=this._scaleForCharacter;this.node.scale=new u(n,Math.abs(n),Math.abs(n))}},s.characterOnSquareChange=function(t,e){},s.onSquareChange=function(t,e){this.fallingInSky||(this.inLnC=e,this.smartShadeHider&&this.shadeSocket||(this.shadeInLnC=e),this.characterOnSquareChange(t,e))},s.characterOnLaneChange=function(t,e){},s.onLaneChange=function(t,e){this.fallingInSky||(this.inLane=e,this.characterOnLaneChange(t,e))},s.judgeInLnC=function(){var t=this.lIndex,e=this.cIndex,i=this.getLaneIndex(),n=this.getColumnIndex();this.smartShadeHider&&this.shadeSocket&&(this.shadeInLnC=P.getLnC(this.lIndex,this.shadeCIndex)),this.lockLane||t==i||this.onLaneChange(P.getLane(t),P.getLane(i)),t==i&&e==n||this.onSquareChange(P.getLnC(t,e),P.getLnC(i,n))},s.getLaneIndex=function(){var t=P.judgeLIndex(this.worldPosition.y);return this.lIndex=t,t},s.getColumnIndex=function(){var t=P.judgeCIndex(this.worldPositionX);if(this.cIndex=t,this.smartShadeHider&&this.shadeSocket){var e=this.shadeSocket.worldPosition.x,i=P.judgeCIndex(e);this.shadeCIndex=i}return t},s.setLockLane=function(t){t?(this.inLane=t,this.onLaneChange(P.getLaneNode(-2).getComponent(y),t),this.lockLane=!0):this.lockLane=!1},s.characterOnTileTypeChange=function(t,e){},s.spawnShade=function(){var t=C.component;if(null!=t&&t.isValid){var e=t.giveShade();e.parent=t.node,e.scale=new u(0,0,1),e.position=new u(0,0,0),this.shade=e.getComponent(c.ArmatureDisplay),this.worldPosition=this._worldPosition,this.shade.color=new f(255,255,255,0)}},s.characterShadeHidden=function(){return!1},s.followShade=function(){if(!this.disabled&&this.useShade&&this.shade){var t=this.smartShadeHider&&this.shadeSocket?this.shadeInLnC:this.inLnC;if(t){var e=t.getTileType();if(this.flyingOnSky=e==_.sky||e==_.sea,this.shade.node.worldPosition=new u(this.shadeSocket?this.shadeSocket.worldPosition.x:this._worldPosition.x,this._worldPosition.y),this.flyingOnSky||this.fallingInSky||this.depth>0||this.shadeHidden||this.characterShadeHidden()?this.shade.color=new f(0,0,0,0):this.shade.color=new f(255,255,255,(this.db?this.db.color.a:255)*this.shadeAlphaScale),this.useShade&&this.shade){var i=this._height;this.shadeSocket&&(i=this.shadeSocket.worldPosition.y-this._worldPosition.y);var n=this._maxShowShadeHeight>i?(this._maxShowShadeHeight-i)/this._maxShowShadeHeight*G*2*this.scale:0;this.shade.node.setScale(n*this.originalShadeScale.width,Math.abs(n*this.originalShadeScale.height),1)}}}},s.update=function(t){var e;if(b.isInGame&&!(v.component.gameOver&&!this.isGameLoseTriggerer||I.willDestroySceneNextTick||null!=(e=I.component)&&e.paused||this.disabled)){var i,n=this.oldTT;this.judgeInLnC(),this.characterUpdate(t);var o=null==(i=this.inLnC)?void 0:i.getTileType();n!=o&&this.characterOnTileTypeChange(n,o),this.oldTT=o}},s.lateUpdate=function(t){this.characterLateUpdate(t)},s.characterUpdate=function(t){},s.characterLateUpdate=function(t){},s.fadeAway=function(){var t=this;this.fadingAway||this.fallingInSky||(this.fadingAway=!0,w(this.db?this.db.color:new f).to(.5,{a:0}).call((function(){t.onFadeEnd()})).start())},s.shrinkAway=function(t){var e=this;void 0===t&&(t=.5),this.fadingAway||this.fallingInSky||(this.fadingAway=!0,w(this.node).to(t,{worldScale:new u(.01,.01,.01)},{easing:"quadIn"}).call((function(){e.onFadeEnd()})).start())},s.onFadeEnd=function(){L.destroyPooly(this.node)},s.fallInSkyTargetAngle=function(t){return 180*(2-4*t)},s.fallInSky=function(t){var e=this;if(void 0===t&&(t=!0),!this.fallingInSky&&!this.fadingAway){if(this.fallingInSky=!0,this.height=0,this.depth=0,k.CurrentLawn.node.getChildByName("Lower")){var i=k.CurrentLawn.node.getChildByName("Lower");i.setWorldScale(1,1,1),this.node.setParent(i,!0)}var n=this.node.worldPosition,o=1+Math.random(),a=Math.random(),s=this,h=[];if(t){var r=w(s.node).by(o,{angle:this.fallInSkyTargetAngle(a)},{easing:this.fallInSkyRotateEasing}).start();h.push(r)}var d=w(s.node).to(o,{scale:new u(.01,.01,1)}).start();h.push(d);var l=w(s).to(o,{worldPositionX:n.x-(40+10*a),worldPositionY:n.y+(5*a-20),height:-200}).call((function(){h.forEach((function(t){t.stop()})),e.node.active&&(e.node.angle=0,e.onSkyFallEnd())})).start();h.push(l)}},s.onSkyFallEnd=function(){L.destroyPooly(this.node)},a(e,[{key:"cIndexReal",get:function(){return Math.floor((this.worldPositionX-(P.Square00WorldPosition().x-P.SquareWidth/2))/P.SquareWidth)}},{key:"lIndexReal",get:function(){return Math.floor((P.Square00WorldPosition().y+P.SquareHeight/2-this.worldPositionY)/P.SquareHeight)}},{key:"worldPositionVec3",get:function(){return new u(this._worldPositionX,this._worldPositionY,this.height_depth)}},{key:"shadeWorldPositionVec3",get:function(){return new u(this.shadeSocket.worldPosition.x,this._worldPositionY,this.height_depth)}},{key:"worldPositionX",get:function(){return this._worldPositionX},set:function(t){this._worldPositionX=t,this.node.worldPosition=new u(t,this._worldPositionY+this._height-this._depth,1-this._depth+this.depthStartingZ),this._onRealPosChange()}},{key:"worldPositionY",get:function(){return this._worldPositionY},set:function(t){this._worldPositionY=t,this.node.worldPosition=new u(this._worldPositionX,t+this._height-this._depth,1-this._depth+this.depthStartingZ),this._onRealPosChange()}},{key:"worldPositionYFoot",get:function(){return this._worldPositionY-this.depthStartingZ}},{key:"_worldPosition",get:function(){return new S(this._worldPositionX,this._worldPositionY)}},{key:"worldPosition",get:function(){return new S(this._worldPositionX,this._worldPositionY)},set:function(t){this.worldPositionX=t.x,this.worldPositionY=t.y}},{key:"shadeWorldPosition",get:function(){return new S(this.shade?this.shade.node.worldPosition.x:this._worldPositionX,this._worldPositionY)}},{key:"realWorldPosition",get:function(){return new S(this._worldPositionX,this._worldPositionY+this._height-this._depth)}},{key:"height_depth",get:function(){return this._height-this._depth},set:function(t){t>=0?(this.depth=0,this.height=t):(this.height=0,this.depth=-t)}},{key:"height",get:function(){return this._height},set:function(t){this._depth;this._height=t;var e=t-this._depth;this.node.worldPosition=new u(this._worldPositionX,this._worldPositionY+e,1-this._depth+this.depthStartingZ),this._onRealPosChange()}},{key:"depth",get:function(){return this._depth},set:function(t){var e=-this._depth;this._depth=t;var i=this._height-t;this.node.worldPosition=new u(this._worldPositionX,this._worldPositionY+i,1-t+this.depthStartingZ),this.readDepth(-this._depth,e),this._onRealPosChange()}},{key:"_scaleForCharacter",get:function(){return this._scale*G*this.originalScale}},{key:"scale",get:function(){return this._scale},set:function(t){this._scale=t;var e=this._scaleForCharacter;this.node.scale=new u(e,(this.depth<=0?1:1.414)*Math.abs(e),Math.abs(e))}},{key:"scaleMultedOrgScale",get:function(){return this._scale*this.originalScale}}]),e}(p)).prototype,"originalScale",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),M=e(A.prototype,"smartShadeHider",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),q=e(A.prototype,"useShade",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),D=e(A.prototype,"originalShadeScale",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new d(.25,.25)}}),R=e(A.prototype,"shadeSocket",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=A))||H));s._RF.pop()}}}));

System.register("chunks:///_virtual/CharacterManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NodePools.ts","./ArrayGet.ts","./Zombies.ts","./Cards.ts","./SoundRescourses.ts","./levelController.ts","./GridItem.ts","./Square.ts","./flowerLine.ts","./Tombs.ts"],(function(t){var n,o,i,e,r,a,s,h,c,l,u,f,p,d,m,g,y,P,w,v,b,x,_;return{setters:[function(t){n=t.createClass,o=t.applyDecoratedDescriptor,i=t.inheritsLoose,e=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){a=t.cclegacy,s=t._decorator,h=t.Vec2,c=t.find,l=t.Prefab,u=t.math,f=t.HALF_PI,p=t.Component},function(t){d=t.NodePools},function(t){m=t.ArrayGet},function(t){g=t.zombies},function(t){y=t.Cards},function(t){P=t.sounds},function(t){w=t.LevelPlay},function(t){v=t.GridItemPool},function(t){b=t.Square},function(t){x=t.flowerLine},function(t){_=t.TombEnum}],execute:function(){var L,I,A,M,C;t("ZombieDamage",(function(t){return new T(t)})),a._RF.push({},"99347P29tZA8pn9lmrrqr47","CharacterManager",void 0);var R=s.ccclass,k=s.property,D=(t("Rectangle",function(){var t=n.prototype;function n(t,n,o,i){void 0===t&&(t=new h(NaN,NaN)),void 0===n&&(n=new h(NaN,NaN)),void 0===o&&(o=new h(NaN,NaN)),void 0===i&&(i=new h(NaN,NaN)),this.point1=new h(0,0),this.point2=new h(0,0),this.point3=new h(0,0),this.point4=new h(0,0),this.dot1=null,this.dot2=null,this.dot3=null,this.dot4=null,this.shown=!1,this._prjX=null,this._prjY=null,this.point1=t,this.point2=n,this.point3=o,this.point4=i}return t.prjX=function(){return this._prjX?this._prjX:Math.abs(this.point1.x-this.point3.x)<Math.abs(this.point2.x-this.point4.x)?this._prjX=new h(Math.min(this.point2.x,this.point4.x),Math.max(this.point2.x,this.point4.x)):this._prjX=new h(Math.min(this.point1.x,this.point3.x),Math.max(this.point1.x,this.point3.x))},t.prjY=function(){return this._prjY?this._prjY:Math.abs(this.point1.y-this.point3.y)<Math.abs(this.point2.y-this.point4.y)?this._prjY=new h(Math.min(this.point2.y,this.point4.y),Math.max(this.point2.y,this.point4.y)):this._prjY=new h(Math.min(this.point1.y,this.point3.y),Math.max(this.point1.y,this.point3.y))},t.hidePoints=function(){this.shown&&(this.shown=!1,d.destroyNodeArrayPooly([this.dot1,this.dot2,this.dot3,this.dot4]))},t.showPoints=function(){if(!this.shown){this.shown=!0;var t=c("CharacterManager").getComponent(N).debugDot,n=c("Canvas/UIInGameUpper/Debug");this.dot1=d.instantiatePooly(t),this.dot1.parent=n,this.dot1.setWorldPosition(this.point1.x,this.point1.y,0),this.dot2=d.instantiatePooly(t),this.dot2.parent=n,this.dot2.setWorldPosition(this.point2.x,this.point2.y,0),this.dot3=d.instantiatePooly(t),this.dot3.parent=n,this.dot3.setWorldPosition(this.point3.x,this.point3.y,0),this.dot4=d.instantiatePooly(t),this.dot4.parent=n,this.dot4.setWorldPosition(this.point4.x,this.point4.y,0)}},n.createRectangleNodeSide=function(t,n,o,i){void 0===i&&(i=0);var e=t.worldPosition.clone();return this.createRectangleSide(new h(e.x,e.y),n,o,i)},n.createRectangleNodeCenter=function(t,n,o,i){void 0===i&&(i=0);var e=t.worldPosition.clone();return this.createRectangleCenter(new h(e.x,e.y),n,o,i)},n.createRectangleUITransform=function(t){if(!t)return new n;var o=t.width*t.node.worldScale.x,i=t.height*t.node.worldScale.y,e=t.node.worldPosition.x+(.5-t.anchorX)*o,r=t.node.worldPosition.y+(.5-t.anchorY)*i;return t?this.createRectangleCenter(new h(e,r),o,i):void 0},n.createRectangleNodeCorner=function(t,n,o,i){void 0===i&&(i=0);var e=t.worldPosition.clone();return this.createRectangleCorner(new h(e.x,e.y),n,o,i)},n.createRectangleSide=function(t,o,i,e){void 0===e&&(e=0);var r=new h(t.x,t.y-i/2),a=new h(r.x+o,r.y),s=new h(r.x,r.y+i),c=new h(s.x+o,s.y);return e&&(r=new h(t.x+i/2*Math.sin(e*u.HALF_PI/90),t.y-i/2*Math.cos(e*u.HALF_PI/90)),a=new h(r.x+o*Math.cos(e*u.HALF_PI/90),r.y+o*Math.sin(e*u.HALF_PI/90)),s=new h(r.x+i*Math.cos((e+90)*u.HALF_PI/90),r.y+i*Math.sin((e+90)*u.HALF_PI/90)),c=new h(s.x+o*Math.cos(e*u.HALF_PI/90),s.y+o*Math.sin(e*u.HALF_PI/90))),new n(r,a,c,s)},n.createRectangleCorner=function(t,o,i,e){void 0===e&&(e=0);var r=t,a=new h(r.x+o,r.y),s=new h(r.x,r.y+i),c=new h(s.x+o,s.y);return e&&(a=new h(r.x+o*Math.cos(e*u.HALF_PI/90),r.y+o*Math.sin(e*u.HALF_PI/90)),s=new h(r.x+i*Math.cos((e+90)*u.HALF_PI/90),r.y+i*Math.sin((e+90)*u.HALF_PI/90)),c=new h(s.x+o*Math.cos(e*u.HALF_PI/90),s.y+o*Math.sin(e*u.HALF_PI/90))),new n(r,a,c,s)},n.createRectangleCenter=function(t,o,i,e){void 0===e&&(e=0);var r=new h(t.x-o/2,t.y-i/2),a=new h(r.x+o,r.y),s=new h(r.x,r.y+i),c=new h(s.x+o,s.y);return e&&(r=new h(t.x+i/2*Math.sin(e*u.HALF_PI/90)-o/2*Math.cos(e*u.HALF_PI/90),t.y-i/2*Math.cos(e*u.HALF_PI/90)-o/2*Math.sin(e*u.HALF_PI/90)),a=new h(r.x+o*Math.cos(e*u.HALF_PI/90),r.y+o*Math.sin(e*u.HALF_PI/90)),s=new h(r.x+i*Math.cos((e+90)*u.HALF_PI/90),r.y+i*Math.sin((e+90)*u.HALF_PI/90)),c=new h(s.x+o*Math.cos(e*u.HALF_PI/90),s.y+o*Math.sin(e*u.HALF_PI/90))),new n(r,a,c,s)},t.judgeInRec=function(t,n,o){if(void 0===o&&(o=!1),!t||!n)return!1;var i=(t-this.point1.x)*(this.point4.x-this.point1.x)+(n-this.point1.y)*(this.point4.y-this.point1.y),e=(t-this.point2.x)*(this.point1.x-this.point2.x)+(n-this.point2.y)*(this.point1.y-this.point2.y),r=(t-this.point3.x)*(this.point2.x-this.point3.x)+(n-this.point3.y)*(this.point2.y-this.point3.y),a=(t-this.point4.x)*(this.point3.x-this.point4.x)+(n-this.point4.y)*(this.point3.y-this.point4.y);return o?i>=0&&e>=0&&r>=0&&a>=0:i>0&&e>0&&r>0&&a>0},t.judgeInRecP=function(t,n){return void 0===n&&(n=!1),!!t&&this.judgeInRec(t.x,t.y,n)},t.judgeInRecNode=function(t){return!!t&&this.judgeInRec(t.worldPosition.x,t.worldPosition.y)},t.judgeCrossLine=function(t){if(!t)return!1;var n=t.getP1(),o=t.getP2();return!(!this.judgeInRec(n.x,n.y)&&!this.judgeInRec(o.x,o.y))||!(!t.judgeCrossLine(new D(this.point1,this.point3))&&!t.judgeCrossLine(new D(this.point2,this.point4)))},t.judgeCrossRec=function(t){return!!t&&(!!(this.judgeInRecP(t.point1)||this.judgeInRecP(t.point2)||this.judgeInRecP(t.point3)||this.judgeInRecP(t.point4)||t.judgeInRecP(this.point1)||t.judgeInRecP(this.point2)||t.judgeInRecP(this.point3)||t.judgeInRecP(this.point4))||!(!new D(this.point1,this.point3).judgeCrossRec(t)&&!new D(t.point1,t.point3).judgeCrossRec(this)))},n}()),t("LineSegment",function(){var t=n.prototype;function n(t,n){void 0===t&&(t=null),void 0===n&&(n=null),this.point1=void 0,this.point2=void 0,t||(t=new h(1e4,0)),n||(t=new h(1e4,0)),this.point1=t,this.point2=n}return t.getVec=function(){return this.point2.clone().subtract(this.point1)},t.getP1=function(){return this.point1.clone()},t.getP2=function(){return this.point2.clone()},t.judgeCrossLine=function(t){var n=this.point1,o=this.point2,i=t.point1,e=t.point2;return!(Math.max(i.x,e.x)<Math.min(n.x,o.x)||Math.max(n.x,o.x)<Math.min(i.x,e.x)||Math.max(i.y,e.y)<Math.min(n.y,o.y)||Math.max(n.y,o.y)<Math.min(i.y,e.y))&&(!(h.cross(new h(n.x-e.x,n.y-e.y),new h(i.x-e.x,i.y-e.y))*h.cross(new h(o.x-e.x,o.y-e.y),new h(i.x-e.x,i.y-e.y))>=0)&&!(h.cross(new h(i.x-o.x,i.y-o.y),new h(n.x-o.x,n.y-o.y))*h.cross(new h(e.x-o.x,e.y-o.y),new h(n.x-o.x,n.y-o.y))>=0))},t.judgeCrossRec=function(t){return null==t?void 0:t.judgeCrossLine(this)},n.createLineLenRo=function(t,n,o){return void 0===o&&(o=0),this.createLineLenDir(t,n,new h(Math.cos(o/90*f),Math.sin(o/90*f)))},n.createLineLenDir=function(t,n,o){void 0===o&&(o=new h(1,0));var i=n*o.x/o.length(),e=n*o.y/o.length();return this.createLineVec(t,new h(i,e))},n.createLineVec=function(t,o){return new n(t,new h(t.x+o.x,t.y+o.y))},n}())),j=t("PlantPool",function(){function t(){}return t.waterall=function(){this.pool().forEach((function(t){t.scheduleOnce((function(){t.water()}),5*Math.random()+1)}))},t.pool=function(){return this.cm.plantPool},t.registerPlant=function(t){-1==this.cm.plantPool.indexOf(t)&&this.cm.plantPool.push(t)},t.deletePlant=function(t){var n=this.pool().indexOf(t);-1!=n&&this.pool().splice(n,1)},t.getPlantAmount=function(){var t=0;return this.cm.plantPool.forEach((function(n){t+=n.plantCount()})),t},t}());j.cm=null;var S=t("ZombiePool",function(){function t(){}return t.pool=function(){return this.cm.zombiePool},t.getLeftest=function(){return this.pool().sort((function(t,n){return t.worldPositionX-n.worldPositionX}))[0]},t.getBodyRecLeftest=function(){return this.pool().length?this.pool().concat().filter((function(t){var n;return null==(n=t.bodyRec)?void 0:n.prjX().x})).sort((function(t,n){var o,i;return(null==(o=t.bodyRec)?void 0:o.prjX().x)-(null==(i=n.bodyRec)?void 0:i.prjX().x)}))[0]:null},t.bodyRecLeftest=function(){return this.cm.zombieRecLeftest},t.hypnoPool=function(){return this.cm.hypnoZombiePool},t.leftest=function(){var t=null,n=1/0;return this.pool().forEach((function(o){var i=o.bodyRec.prjX().x;n>i&&(t=o,n=i)})),t},t.inLawnPool=function(){return this.cm.zombieInLawnPool},t.registerZombie=function(t){t.hypnotized||-1!=this.cm.zombiePool.indexOf(t)?t.hypnotized&&-1==this.cm.hypnoZombiePool.indexOf(t)&&this.hypnoPool().push(t):this.pool().push(t)},t.deleteZombie=function(t){var n=this.pool().indexOf(t);-1!=n&&this.pool().splice(n,1);var o=this.hypnoPool().indexOf(t);-1!=o&&this.hypnoPool().splice(o,1)},t}());S.cm=null;var F=t("TombPool",function(){function t(){}return t.pool=function(t){return void 0===t&&(t=0),1==t?this.cm.tombPool.filter((function(t){return t.hypnotized})):2==t?this.cm.tombPool:this.cm.tombPool.filter((function(t){return!t.hypnotized}))},t.getLeftest=function(t){void 0===t&&(t=0);var n=null,o=1/0;return this.pool(t).forEach((function(t){var i=t.bodyRec.prjX().x;o>i&&(n=t,o=i)})),n},t.leftest=function(){return this.cm.tombLeftest},t.registerTomb=function(t){-1==this.cm.tombPool.indexOf(t)&&this.cm.tombPool.push(t)},t.deleteTomb=function(t){var n=this.cm.tombPool.indexOf(t);-1!=n&&this.cm.tombPool.splice(n,1)},t}());F.cm=null,F.speakerActionCD=0,F.speakerLeftFakeHitTime=0;t("Icetiles",function(){function t(){}return t.pool=function(){return c("CharacterManager").getComponent(N).Icepool},t.registerIce=function(t){this.pool().push(t)},t.deleteIce=function(t){var n=this.pool().indexOf(t);-1!=n&&this.pool().splice(n,1)},t}());var H=t("Umbrellas",function(){function t(){}return n(t,null,[{key:"umbrellas",get:function(){return this.cm.umbrellas},set:function(t){this.cm.umbrellas=t}}]),t}());H.cm=void 0;var N=t("CharacterManager",(L=R("CharacterManager"),I=k(l),L((C=o((M=function(t){function n(){for(var n,o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=t.call.apply(t,[this].concat(i))||this,e(n,"debugDot",C,r(n)),n.umbrellas=[],n.zombiePool=[],n.hypnoZombiePool=[],n.zombieInLawnPool=[],n.tombPool=[],n.plantPool=[],n.Icepool=[],n.groanCoolDown=0,n.zombieRecLeftest=null,n.tombLeftest=null,n.flowerLines=[],n}i(n,t);var o=n.prototype;return o.playZombieGroan=function(t){if(this.zombiePool.length>0&&this.groanCoolDown<=0){var n=m.randomize(this.zombiePool).find((function(t){return!t.iceblocked}));n&&(n.groanSound.length>0?P.playOneShot(m.getRandom(n.groanSound)):g.playGroan(n.zombieGroanSoundGroup),this.groanCoolDown=2.5+5/this.zombiePool.length+3*Math.random())}this.groanCoolDown>0&&(this.groanCoolDown-=t)},o.update=function(t){if(this.zombieRecLeftest=S.getBodyRecLeftest(),this.tombLeftest=F.getLeftest(),this.characterManagerUpdate(t),x.warningCD-=t,F.speakerActionCD-=t,F.speakerActionCD<=0){F.speakerActionCD=.4;var n=!0;F.speakerLeftFakeHitTime--,F.speakerLeftFakeHitTime<=0&&(F.speakerLeftFakeHitTime=3,n=!1),F.pool(2).filter((function(t){return t.ID==_.speaker})).map((function(t){return t})).forEach((function(t){t.playHit(n)}))}},o.characterManagerUpdate=function(t){var n=[];this.zombiePool.forEach((function(t){t.isInLawn()&&n.push(t)})),this.zombieInLawnPool=n,w.gameStarted&&this.playZombieGroan(t),y.component.cardsUpdate(t)},o.onLoad=function(){S.cm=this,j.cm=this,F.cm=this,H.cm=this,K.cm=this,v._pool=[],this.umbrellas=[],this.zombiePool=[],this.zombieInLawnPool=[],this.tombPool=[],this.plantPool=[],this.Icepool=[],this.flowerLines=[]},n}(p)).prototype,"debugDot",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=M))||A)),K=t("FlowerLinePool",function(){function t(){}return n(t,null,[{key:"pool",get:function(){return this.cm?this.cm.flowerLines:[]}}]),t}());K.cm=void 0;var z=t("footballmech",function(){function t(){}return t.pushPlantLeft=function(t,n,o,i,e,r){var a=this;if(void 0===n&&(n=0),void 0===o&&(o=.5),void 0===i&&(i=function(t){}),void 0===e&&(e=function(t){}),void 0===r&&(r=!0),!t||!t.plantInLnC)return!1;var s=t.plantInLnC.getAllPlants(!0,!1),h=!0;if(s.forEach((function(t){h&&(t.invincible||t.objdata.CannotBePushedByFootballMech||t.leapDisable()||t.fooding||t.leapTween)&&(h=!1)})),!h)return n>0&&s[0].dealDamage(n,0),!1;var c=t.plantInLnC.lefter;if(!c.isInLawn())return s.forEach((function(t){t.throwAway()})),!0;for(var l,u=function(){var t=!0;if(s.forEach((function(n){t&&r&&!c.putPlantAvailable(!1,n.ID,!1)&&(t=!1)})),t){var n=c.getAllPlants(!0,!1),h=!1;return n.length>0&&(h=!a.pushPlantLeft(n[0],0,o)),h?s.forEach((function(t){t.throwAway()})):s.forEach((function(t){t.leapTo(c,o,t.plantInLnC.cIndex-c.cIndex==1?0:100,!0,!1,"linear",i,e)})),{v:!0}}if(!(c=c.lefter).isInLawn())return s.forEach((function(t){t.throwAway()})),{v:!0}};;)if(l=u())return l.v},t.pushPlantRight=function(t,n,o,i,e,r){var a=this;if(void 0===n&&(n=0),void 0===o&&(o=.5),void 0===i&&(i=function(t){}),void 0===e&&(e=function(t){}),void 0===r&&(r=!0),!t||!t.plantInLnC)return!1;var s=t.plantInLnC.getAllPlants(!0,!1),h=!0;if(s.forEach((function(t){h&&(t.invincible||t.objdata.CannotBePushedByFootballMech||t.leapDisable()||t.fooding||t.leapTween)&&(h=!1)})),!h)return n>0&&s[0].dealDamage(n,0),!1;var c=t.plantInLnC.righter;if(!c.isInLawn())return s.forEach((function(t){t.throwAway(!1)})),!0;for(var l,u=function(){var t=!0;if(s.forEach((function(n){t&&r&&!c.putPlantAvailable(!1,n.ID,!1)&&(t=!1)})),t){var n=c.getAllPlants(!0,!1),h=!1;return n.length>0&&(h=!a.pushPlantRight(n[0],0,o)),h?s.forEach((function(t){t.throwAway(!1)})):s.forEach((function(t){t.leapTo(c,o,t.plantInLnC.cIndex-c.cIndex==-1?0:100,!0,!1,"linear",i,e)})),{v:!0}}if(!(c=c.righter).isInLawn())return s.forEach((function(t){t.throwAway(!1)})),{v:!0}};;)if(l=u())return l.v},t}()),T=(t("kongfuChi",function(){function t(){}return t.chi_right=function(t,n,o){void 0===o&&(o=.5);for(var i=function(){var t=b.getLnC(n,e),i=!0;if(t.getAllPlants().forEach((function(t){i&&(t.canBeChied()||(i=!1,t.onChiedFailed()))})),!i)return 1;var r=t.getAllPlants();if(r.length){var a=r[0];z.pushPlantRight(a,0,o)}},e=t;e>=0&&!i();e--);},t.chi_left=function(t,n,o){void 0===o&&(o=.5);for(var i=function(){var t=b.getLnC(n,e),i=!0;if(t.getAllPlants().forEach((function(t){i&&(t.canBeChied()||(i=!1,t.onChiedFailed()))})),!i)return 1;var r=t.getAllPlants();if(r.length){var a=r[0];z.pushPlantLeft(a,0,o)}},e=t;e<=8&&!i();e++);},t.chi_right_byZombie=function(t,n){void 0===n&&(n=.5),this.chi_right(t.cIndex,t.lIndex,n)},t.chi_left_byZombie=function(t,n){void 0===n&&(n=.5),this.chi_left(t.cIndex,t.lIndex,n)},t}()),t("spikeweed",function(){function t(){}return t.stabOnZombie=function(t,n,o){null==n||n.dealDamage(new T(o,!0,!1,!0,null,E.physicle)),null==n||n.whenStabbedBySpikeWeed(t?[t]:[])},t}()),t("ZombieDamageDetails",function(){var t=o.prototype;function o(t,n,o,i,e,r,a,s){void 0===t&&(t=0),void 0===n&&(n=!0),void 0===o&&(o=!0),void 0===i&&(i=!0),void 0===e&&(e=null),void 0===r&&(r=E.physicle),void 0===a&&(a=!0),void 0===s&&(s=!1),this._damage=0,this._armorProtection=!0,this._armorKnockSound=!0,this._bodyKnockSound=!0,this._damageDirection=null,this._damageType=E.physicle,this._flash=!0,this._armorAlsoDamagedWhenNotProtecting=!1,this.bugKiller=!1,this.balloonKiller=!1,this.shockRGB=0,this.DamageScaleForArmorRack=1,this._damage=t,this._armorProtection=n,this._armorKnockSound=o,this._bodyKnockSound=i,this._damageDirection=e,this._damageType=r,this._flash=a,this._armorAlsoDamagedWhenNotProtecting=s}return t.setDamage=function(t){return this._damage=t,this},t.setArmorProtection=function(t){return this._armorProtection=t,this},t.setArmorKnockSound=function(t){return this._armorKnockSound=t,this},t.setBodyKnockSound=function(t){return this._bodyKnockSound=t,this},t.setDamageDirection=function(t){return this._damageDirection=t,this},t.setDamageType=function(t){return this._damageType=t,this},t.setFlash=function(t){return this._flash=t,this},t.setArmorAlsoDamagedWhenNotProtecting=function(t){return this._armorAlsoDamagedWhenNotProtecting=t,this},t.setBugKiller=function(t){return this.bugKiller=t,this},t.setBalloonKiller=function(t){return this.balloonKiller=t,this},t.setShockRGB=function(t){return this.shockRGB=t,this},t.replaceDamage=function(t){var n=new o(t,this._armorProtection,this._armorKnockSound,this._bodyKnockSound,this._damageDirection,this._damageType,this._flash,this._armorAlsoDamagedWhenNotProtecting);return n.shockRGB=this.shockRGB,n.balloonKiller=this.balloonKiller,n.bugKiller=this.bugKiller,n},t.replaceDirection=function(t){var n=new o(this._damage,this._armorProtection,this._armorKnockSound,this._bodyKnockSound,t,this._damageType,this._flash,this._armorAlsoDamagedWhenNotProtecting);return n.shockRGB=this.shockRGB,n.balloonKiller=this.balloonKiller,n.bugKiller=this.bugKiller,n},n(o,[{key:"damage",get:function(){return this._damage}},{key:"armorProtection",get:function(){return this._armorProtection}},{key:"armorKnockSound",get:function(){return this._armorKnockSound}},{key:"bodyKnockSound",get:function(){return this._bodyKnockSound}},{key:"damageDirection",get:function(){return this._damageDirection}},{key:"damageType",get:function(){return this._damageType}},{key:"flash",get:function(){return this._flash}},{key:"armorAlsoDamagedWhenNotProtecting",get:function(){return this._armorAlsoDamagedWhenNotProtecting}}]),o}())),E=t("ZombieDamageType",function(t){return t[t.physicle=0]="physicle",t[t.fire=1]="fire",t[t.electricity=2]="electricity",t[t.potatoMine=3]="potatoMine",t[t.ray=4]="ray",t}({}));t("ZombieGroanSoundGroupEnum",function(t){return t[t.modern=0]="modern",t[t.egypt=1]="egypt",t[t.pirate=2]="pirate",t[t.cowboy=3]="cowboy",t[t.future=4]="future",t[t.dark=5]="dark",t[t.beach=6]="beach",t[t.ice=7]="ice",t[t.lost=8]="lost",t[t.eighties=9]="eighties",t[t.dino=10]="dino",t[t.imp=11]="imp",t[t.gargantuar=12]="gargantuar",t[t.none=13]="none",t[t.kongfu=14]="kongfu",t}({})),t("ZombieShrinkingProps",(function(){this.Scale=.5,this.DamageMultiplier=2,this.SpeedScale=.75}));a._RF.pop()}}}));

System.register("chunks:///_virtual/ChardGuard.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./CharacterManager.ts","./Square.ts","./NodePools.ts","./ParticleSelfdestroy.ts","./SoundRescourses.ts"],(function(e){var t,n,i,o,a,s,r,l,u,c,d,h,y,f,p,S,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized,a=e.createClass},function(e){s=e.cclegacy,r=e._decorator,l=e.AudioClip,u=e.Prefab,c=e.Vec2},function(e){d=e.Plant,h=e.PlantProps},function(e){y=e.Rectangle},function(e){f=e.Square},function(e){p=e.instantiatePooly},function(e){S=e.ParticleSelfdestroy},function(e){b=e.sounds}],execute:function(){var m,g,w,B,R,P,v,L,C,_,H,T,A,E,z,k,x,I,j,D,O,q,F,M,W,N,G,Z;s._RF.push({},"b8926IuriBBJLI4jhChWglu","ChardGuard",void 0);var U=r.ccclass,Y=r.property,J=(m=U("chardguardSound"),g=Y([l]),w=Y([l]),B=Y([l]),R=Y([l]),P=Y([l]),v=Y([l]),L=Y([l]),C=Y([l]),_=Y([l]),m((A=t((T=function(){function e(){i(this,"foodHitSounds",A,this),i(this,"foodStartSaySounds",E,this),i(this,"foodEndSaySounds",z,this),i(this,"bounceSounds",k,this),i(this,"hitSounds",x,this),i(this,"bounceSaySounds",I,this),i(this,"readySaySounds",j,this),i(this,"sleepySaySounds",D,this),i(this,"shockSaySounds",O,this)}var t=e.prototype;return t.playFoodHit=function(){b.playArray(this.foodHitSounds,1,.01)},t.playFoodStartSay=function(){b.playArray(this.foodStartSaySounds,1,.1)},t.playFoodEndSay=function(){b.playArray(this.foodEndSaySounds,1,.1)},t.playBounce=function(){b.playArray(this.bounceSounds,1,.1)},t.playHit=function(){b.playArray(this.hitSounds,1,.1)},t.playBounceSay=function(){b.playArray(this.bounceSaySounds,1,.1)},t.playReadySay=function(){b.playArray(this.readySaySounds,1,.1)},t.playSleepySay=function(){b.playArray(this.sleepySaySounds,1,.1)},t.playShockSay=function(){b.playArray(this.shockSaySounds,1,.1)},e}()).prototype,"foodHitSounds",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),E=t(T.prototype,"foodStartSaySounds",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=t(T.prototype,"foodEndSaySounds",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=t(T.prototype,"bounceSounds",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),x=t(T.prototype,"hitSounds",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),I=t(T.prototype,"bounceSaySounds",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j=t(T.prototype,"readySaySounds",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=t(T.prototype,"sleepySaySounds",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=t(T.prototype,"shockSaySounds",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),H=T))||H),V=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))||this).MaxBounceTime=3,t.BounceDistance=3,t}return n(t,e),t}(h);e("ChardGuardPlant",(q=U("ChardGuardPlant"),F=Y(J),M=Y(u),q((G=t((N=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(t=e.call.apply(e,[this].concat(a))||this).detector=new y,t.bounceDetector=new y,t.detectorLeft=new c,i(t,"soundRes",G,o(t)),t._ready=!1,t.switching=!1,t._leftBounceTime=3,t.hand0Slots=[],t.hand1Slots=[],t.hand2Slots=[],i(t,"thrownHand",Z,o(t)),t._objdataOwn=new V,t}n(t,e);var s=t.prototype;return s.specialPlantOnSquareChange=function(e,t){this.detectorLeft=new c(t.node.worldPosition.x-f.SquareWidth/2,t.node.worldPosition.y),this.detector=y.createRectangleSide(this.detectorLeft,2*f.SquareWidth,f.SquareHeight),this.bounceDetector=y.createRectangleSide(this.detectorLeft,f.SquareWidth,f.SquareHeight)},s.specialPlantOnLoad=function(){var e=this;this.hand0Slots=[],this.hand1Slots=[],this.hand2Slots=[],this.anmControl.db.armature().getSlots().forEach((function(t){t.name.includes("HAND0")?e.hand0Slots.push(t):t.name.includes("HAND1")?e.hand1Slots.push(t):t.name.includes("HAND2")&&e.hand2Slots.push(t)}))},s.specialPlantOnEnable=function(){this.ready=!1,this.anmControl.playIdle(),this.leftBounceTime=this._objdataOwn.MaxBounceTime},s.animationOnComplete=function(){this.switching=!1},s.getReady=function(){this.ready||(this.switching=!0,this.ready=!0,this.anmControl.playAnimation("Ready",1,0,1.5),this.soundRes.playReadySay())},s.recover=function(){this.ready&&(this.ready=!1,this.anmControl.playIdle())},s.detectEnemy=function(){var e=this,t=!1;return this.inLane.zombiePool().forEach((function(n){t||n.bodyRec.judgeCrossRec(e.detector)&&(t=!0)})),t},s.detectBounceEnemy=function(){var e=this,t=!1;return this.inLane.zombiePool().forEach((function(n){t||n.knockBackable&&n.leapable&&!n.changeLaneTween&&n.specialZombieLeapable()&&n.bodyRec.judgeCrossRec(e.bounceDetector)&&(t=!0)})),t},s.bounce=function(){this.soundRes.playBounce(),this.anmControl.playAnimation("Bounce",1,0,1.5),this.switching=!0},s.waterable=function(){return!this.ready&&!this.switching},s.specialPlantFood=function(e){this.anmControl.playAnimation("Food",1,0,1),this.leftBounceTime=this._objdataOwn.MaxBounceTime},s.dropHand=function(e){var t="PlayR";1==e&&(t="PlayL"),2==e&&(t="PlayM");var n=p(this.thrownHand);n.parent=this.node.parent,n.setSiblingIndex(0),n.worldPosition=this.node.worldPosition,n.getComponent(S).db.playAnimation(t)},s.animationListener=function(e){var t=this;if("bounce"==e.name){var n=y.createRectangleSide(this.detectorLeft,1.7*f.SquareWidth,f.SquareHeight),i=!1;this.inLane.zombiePool().forEach((function(e){e.knockBackable&&e.leapable&&e.specialZombieLeapable()&&e.bodyRec.judgeCrossRec(n)&&(i=!0,e.leapBy(new c(t._objdataOwn.BounceDistance,0),!0,.5,30,!0,!1))})),i&&(this.soundRes.playHit(),this.leftBounceTime--),this.soundRes.playBounceSay()}else if("sleepy"==e.name)this.soundRes.playSleepySay();else if("shock"==e.name)this.soundRes.playShockSay();else if("foodStartYell"==e.name)this.soundRes.playFoodStartSay();else if("foodEndYell"==e.name)this.soundRes.playFoodEndSay();else if("foodStart"==e.name)this.soundRes.playFoodHit();else if("foodEnd"==e.name)this.foodEnd();else if("hit"==e.name){var o=y.createRectangleNodeSide(this.inLnC.node,2*f.SquareWidth,3*f.SquareHeight);this.inLane.zombiePool().concat(this.inLane.UpperLane.zombiePool(),this.inLane.LowerLane.zombiePool()).forEach((function(e){e.knockBackable&&e.leapable&&e.specialZombieLeapable()&&e.bodyRec.judgeCrossRec(o)&&e.leapBy(new c(t._objdataOwn.BounceDistance,0),!0,.5,30,!0,!1)}))}else"readyFalse"==e.name&&(this.ready=!1)},s.heal=function(e){this.leftBounceTime=this._objdataOwn.MaxBounceTime},s.replantable=function(){return this.leftBounceTime<this._objdataOwn.MaxBounceTime},s.replant=function(){this.health=this.toughness,this.leftBounceTime=this._objdataOwn.MaxBounceTime},s.specialPlantUpdate=function(e,t,n){if(!this.switching&&!this.fooding&&!this.leapTween&&this.leftBounceTime>0&&n>0){var i=this.detectEnemy();if(n>0&&this.ready)this.detectBounceEnemy()?this.bounce():i||this.recover();else i&&this.getReady()}},a(t,[{key:"ready",get:function(){return this._ready},set:function(e){this.anmControl.IdleAnim=e?"Idle_Ready":"Idle",this.anmControl.RandomAnim=e?[]:["Rand1","Rand2"],this.short_=e,this._ready=e}},{key:"leftBounceTime",get:function(){return this._leftBounceTime},set:function(e){var t=!1,n=this._objdataOwn.MaxBounceTime;this.hand0Slots.forEach((function(i){var o=e>n/3*2?0:-1;-1==o&&-1!=i.displayIndex&&(t=!0),i._setDisplayIndex(o)})),t&&this.dropHand(0);var i=!1;this.hand1Slots.forEach((function(t){var o=e>n/3?0:-1;-1==o&&-1!=t.displayIndex&&(i=!0),t._setDisplayIndex(o)})),i&&this.dropHand(1);var o,a=!1;(this.hand2Slots.forEach((function(t){var n=e>0?0:-1;-1==n&&-1!=t.displayIndex&&(a=!0),t._setDisplayIndex(n)})),a&&this.dropHand(2),this._leftBounceTime!=e)&&(this._leftBounceTime=e,null==(o=this.plantInLnC)||o.readIndex())}}]),t}(d)).prototype,"soundRes",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new J}}),Z=t(N.prototype,"thrownHand",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=N))||W));s._RF.pop()}}}));

System.register("chunks:///_virtual/CherryBomb.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./SoundRescourses.ts"],(function(e){var n,t,i,a,r,o,s,l,c,h;return{setters:[function(e){n=e.inheritsLoose,t=e.applyDecoratedDescriptor,i=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){r=e.cclegacy,o=e._decorator,s=e.AudioClip},function(e){l=e.PlantProps,c=e.Plant},function(e){h=e.sounds}],execute:function(){var p,u,d,b,y;r._RF.push({},"28eeb/RjZNKZ4IdgQM7o1OF","CherryBomb",void 0);var f=o.ccclass,m=o.property,g=e("CherryBombProps",function(e){function t(){for(var n,t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return(n=e.call.apply(e,[this].concat(i))||this).Damage=1800,n}return n(t,e),t}(l));e("CherryBombPlant",(p=f("CherryBombPlant"),u=m(s),p((y=t((b=function(e){function t(){for(var n,t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return n=e.call.apply(e,[this].concat(r))||this,i(n,"chargeSound",y,a(n)),n._objdataOwn=new g,n}n(t,e);var r=t.prototype;return r.specialOnLaneChange=function(e,n){n&&!this.sheepend&&(this.node.setParent(n.prjLayer,!0),this.node.setSiblingIndex(0))},r.specialPlantOnUnsheepend=function(){this.inLane&&(this.node.setParent(this.inLane.prjLayer,!0),this.node.setSiblingIndex(0))},r.specialPlantOnSheepend=function(){this.plantInLnC&&(this.node.setParent(this.plantInLnC.plantPoint,!0),this.node.setSiblingIndex(0))},r.specialCherryBombOnEnable=function(){},r.specialPlantOnEnable=function(){this.anmControl.playAnimation("Attack",1),this.deathAnm="",this.invincible=!0,this.foodable=!1,this.eaterDetectable=!1,this.smasherDetectable=!1,this.chargeSound&&h.playOneShot(this.chargeSound,1,.1),this.specialCherryBombOnEnable()},r.explode=function(){var e=this._objdataOwn.Damage;this._dmgScale&&(e*=this._dmgScale),this.inLnC.explodeCherry3x3(e,!0)},r.animationListener=function(e){"explode"==e.name&&(this.explode(),this.die()),this.specialCherryBombAnimationListener(e)},r.specialCherryBombAnimationListener=function(e){},t}(c)).prototype,"chargeSound",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=b))||d));r._RF.pop()}}}));

System.register("chunks:///_virtual/ChickenZombieAshParticle.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SeagullZombieAshParticle.ts","./LnC.ts"],(function(e){var i,t,n,o,r;return{setters:[function(e){i=e.inheritsLoose},function(e){t=e.cclegacy,n=e._decorator},function(e){o=e.SeagullZombieAshParticle},function(e){r=e.TileType}],execute:function(){var c;t._RF.push({},"247c6GMmBZKKJTzQFXNPP8w","ChickenZombieAshParticle",void 0);var l=n.ccclass;n.property,e("ChickenZombieAshParticle",l("ChickenZombieAshParticle")(c=function(e){function t(){return e.apply(this,arguments)||this}return i(t,e),t.prototype.playAsh=function(){var e,i="PlayFloor",t=null==(e=this.inLnC)?void 0:e.getTileType();this.height>5||t==r.sea||t==r.water||t==r.sky?i="PlaySky":Math.random()<.2&&(i="PlayFloorFried"),this.db.playAnimation(i)},t}(o))||c);t._RF.pop()}}}));

System.register("chunks:///_virtual/ChiHole.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Character.ts","./NodePools.ts","./CharacterManager.ts","./Square.ts","./SoundRescourses.ts"],(function(e){var n,t,i,o,r,a,s,c,l,u,h,f,p,d;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized,r=e.createClass},function(e){a=e.cclegacy,s=e._decorator,c=e.AudioClip,l=e.dragonBones},function(e){u=e.Character},function(e){h=e.NodePools},function(e){f=e.kongfuChi},function(e){p=e.Square},function(e){d=e.sounds}],execute:function(){var b,g,S,y,L,P,v,A,C,m,w;a._RF.push({},"d97a341x/pP85uVbuSm25hN","ChiHole",void 0);var T=s.ccclass,B=s.property,E=e("ChiHoleProps",(function(){this.Direction=1,this.LanesToAffect=[0,1,2,3,4],this.PlantMovingTimeBetweenSquares=1,this.LifeSpan=1,this.TimeBeforeAbsorbing=2,this.Column=8,this.SuppressesNextWave=!1}));e("ChiHole",(b=T("ChiHole"),g=B([c]),S=B([c]),y=B([c]),L=B([c]),b((A=n((v=function(e){function n(){for(var n,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return(n=e.call.apply(e,[this].concat(r))||this).holeProps=new E,n.AbsorbCD=2,n.LifeSpan=2,n.dead=!1,n.absorbing=!1,i(n,"OpenSounds",A,o(n)),i(n,"LoopSounds",C,o(n)),i(n,"WarnSounds",m,o(n)),i(n,"CloseSounds",w,o(n)),n}t(n,e);var a=n.prototype;return a.characterOnLoad=function(){var e=this;this.db.on(l.EventObject.FRAME_EVENT,(function(n){e.animationListener(n)}),this)},a.setProps=function(e){var n=2,t=2;e.LanesToAffect.length>0&&(e.LanesToAffect=e.LanesToAffect.sort((function(e,n){return e-n})),n=e.LanesToAffect.concat().reverse()[0],t=e.LanesToAffect[0]);var i=(e.Direction>=0?1:-1)*(n-t+1);this.scale=i;var o=p.getSquareWorldPosition((n+t)/2,e.Column),r=o.x+.45*p.SquareWidth*Math.sign(this.scale),a=o.y;this.worldPositionX=r,this.worldPositionY=a,this.judgeInLnC(),this.LifeSpan=e.LifeSpan,this.AbsorbCD=e.TimeBeforeAbsorbing;var s=p.getLane(n);this.node.setParent(s.prjLayer,!0),this.holeProps=e},a.characterOnEnable=function(){this.absorbing=!1,this.dead=!1,this.db.playAnimation("Spawn",1/0),d.playArray(this.OpenSounds,1,.1)},a.absorbStart=function(){this.absorbing=!0,d.playArray(this.WarnSounds,1,.1)},a.warn_right=function(e,n){for(var t=function(){var e=p.getLnC(n,i),t=!0;if(e.getAllPlants().forEach((function(e){t&&(e.canBeChied()||(t=!1))})),!t)return 1;e.getAllPlants().forEach((function(e){e.shake()}))},i=e;i>=0&&!t();i--);},a.warn_left=function(e,n){for(var t=function(){var e=p.getLnC(n,i),t=!0;if(e.getAllPlants().forEach((function(e){t&&(e.canBeChied()||(t=!1))})),!t)return 1;e.getAllPlants().forEach((function(e){e.shake()}))},i=e;i<=8&&!t();i++);},a.characterUpdate=function(e){var n=this;this.alive&&this.absorbing&&(d.playArray(this.LoopSounds,1,NaN,.66667),this.AbsorbCD>0?(this.AbsorbCD-=e,this.holeProps.LanesToAffect.forEach((function(e){n.scale>=0?n.warn_right(n.cIndex,e):n.warn_left(n.cIndex,e)}))):(this.LifeSpan-=e,this.holeProps.LanesToAffect.forEach((function(e){p.getLane(e).plantPool().forEach((function(e){e.cIndex!=n.cIndex||e.invincible||!e.canBeChied()||e.leapTween||e.absorbedByChiHole(n,n.holeProps.PlantMovingTimeBetweenSquares)})),n.scale>=0?f.chi_right(n.cIndex,e,n.holeProps.PlantMovingTimeBetweenSquares):f.chi_left(n.cIndex,e,n.holeProps.PlantMovingTimeBetweenSquares)})),this.LifeSpan<=0&&(this.dead=!0,this.db.playAnimation("Die",1/0),d.playArray(this.CloseSounds,1,.1))))},a.animationListener=function(e){switch(e.name){case"absorbStart":this.absorbStart();break;case"die":h.destroyPooly(this.node)}},r(n,[{key:"alive",get:function(){return!this.dead}}]),n}(u)).prototype,"OpenSounds",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C=n(v.prototype,"LoopSounds",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),m=n(v.prototype,"WarnSounds",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),w=n(v.prototype,"CloseSounds",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),P=v))||P));a._RF.pop()}}}));

System.register("chunks:///_virtual/ChiliBean.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./Square.ts","./CharacterManager.ts","./ArrayGet.ts","./SoundRescourses.ts"],(function(n){var t,o,i,e,a,r,l,u,s,c,d,h,p,f,y;return{setters:[function(n){t=n.applyDecoratedDescriptor,o=n.inheritsLoose,i=n.initializerDefineProperty,e=n.assertThisInitialized,a=n.asyncToGenerator,r=n.regeneratorRuntime},function(n){l=n.cclegacy,u=n._decorator,s=n.AudioClip},function(n){c=n.Plant,d=n.PlantProps},function(n){h=n.Square},function(n){p=n.ZombiePool},function(n){f=n.ArrayGet},function(n){y=n.sounds}],execute:function(){var b,C,S,g,w,m,v,P,L,A,F,R;l._RF.push({},"cf014IsRB1JJbt2+1GrtaDK","ChiliBean",void 0);var I=u.ccclass,O=u.property,x=function(n){function t(){for(var t,o=arguments.length,i=new Array(o),e=0;e<o;e++)i[e]=arguments[e];return(t=n.call.apply(n,[this].concat(i))||this).PlantfoodChildrenCount=3,t}return o(t,n),t}(d),D=(b=I("chilibeanSound"),C=O(s),S=O(s),b((m=t((w=function(){function n(){i(this,"landSound",m,this),i(this,"foodSound",v,this)}var t=n.prototype;return t.playLandSound=function(){y.playOneShot(this.landSound,1,.1)},t.playFoodSound=function(){y.playOneShot(this.foodSound,1,.1)},n}()).prototype,"landSound",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=t(w.prototype,"foodSound",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=w))||g);n("ChiliBean",(P=I("ChiliBean"),L=O(D),P((R=t((F=function(n){function t(){for(var t,o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return t=n.call.apply(n,[this].concat(a))||this,i(t,"soundRes",R,e(t)),t._objdataOwn=new x,t}o(t,n);var l=t.prototype;return l.specialPlantOnEaten=function(n,t,o,i){i<=0&&t&&t.chilibeanFart()},l.onLeapEnd=function(){var n;this.anmControl.playAnimation("FlyEnd",1),this.damagable=!0,this.soundRes.playLandSound(),(null==(n=this.plantInLnC)||null==(n=n.plantInSquare)||null==(n=n.filter((function(n){return!n.allowOverlap})))?void 0:n.length)>1&&this.die(!0,!1)},l.onLeapStart=function(n,t){this.anmControl.playAnimation("Flying",1/0)},l.specialPlantFood=function(n){this.anmControl.playAnimation("Food",1),this.soundRes.playFoodSound()},l.animationListener=function(n){"foodEnd"==n.name?this.foodEnd():"foodSpawn"==n.name&&this.throwChildren()},l.throwChildren=function(){var n=a(r().mark((function n(){var t,o,i,e,a,l,u,s,c,d,y=this;return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t=[],o=this._objdataOwn.PlantfoodChildrenCount,p.inLawnPool().forEach((function(n){t.length>=o||n.inLnC.isInLawn()&&-1==t.indexOf(n.inLnC)&&n.inLnC.putPlantAvailable(!0,y.ID)&&t.push(n.inLnC)})),t.length<o)for(i=f.randomize(h.getAllLnC()),e=0;t.length<o&&e<i.length;e++)a=i[e],-1==t.indexOf(a)&&a.putPlantAvailable(!0,this.ID)&&t.push(a);l=this.worldPosition,u=0,s=t;case 6:if(!(u<s.length)){n.next=15;break}return c=s[u],n.next=10,c.SpawnPlant(this.ID,!0);case 10:(d=n.sent)&&(d.worldPosition=l,d.damagable=!1,d.leapTo(c,.8,200));case 12:u++,n.next=6;break;case 15:case 16:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}(),t}(c)).prototype,"soundRes",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new D}}),A=F))||A));l._RF.pop()}}}));

System.register("chunks:///_virtual/Chomper.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./CharacterManager.ts","./Square.ts","./NodePools.ts","./SoundRescourses.ts"],(function(t){var o,n,i,a,e,l,s,u,r,h,d,c,p,f,m,S,w,g;return{setters:[function(t){o=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,a=t.assertThisInitialized,e=t.createClass},function(t){l=t.cclegacy,s=t._decorator,u=t.AudioClip,r=t.dragonBones,h=t.Vec2},function(t){d=t.Plant,c=t.PlantProps},function(t){p=t.Rectangle,f=t.ZombieDamageDetails,m=t.ZombieDamageType},function(t){S=t.Square},function(t){w=t.NodePools},function(t){g=t.sounds}],execute:function(){var y,b,P,C,A,R,k,_,v,E,D,F,O,j,T,M,z,L,x,B,X,I,Z,H,N,q,Q,U,V,G,J,W;l._RF.push({},"29a38fz79JLQoGFQUXPFiV2","Chomper",void 0);var K=s.ccclass,Y=s.property,$=function(t){function o(){for(var o,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(o=t.call.apply(t,[this].concat(i))||this).MaxContainZombieCount=2,o.ChewTimePerZombie=17,o.PlantfoodPullDuration=3,o.PlantfoodPushDuration=3,o.PlantfoodSwallowCount=4,o.ChompFailDamage=100,o.PlantfoodPushSPS=3,o.PlantfoodPullSPS=3,o}return n(o,t),o}(c),tt=t("chomperSound",(y=K("chomperSound"),b=Y(u),P=Y(u),C=Y([u]),A=Y([u]),R=Y([u]),k=Y([u]),_=Y([u]),v=Y([u]),E=Y([u]),D=Y(u),F=Y([u]),O=Y(u),y((M=o((T=function(){function t(){i(this,"foodPushSound",M,this),i(this,"foodSwallowSound",z,this),i(this,"chewSound",L,this),i(this,"chompSound",x,this),i(this,"swallowSound",B,this),i(this,"chewStartSound",X,this),i(this,"lickSound",I,this),i(this,"hiccupSound",Z,this),i(this,"scratchSound",H,this),i(this,"foodPullStartSound",N,this),i(this,"foodPullSkillSound",q,this),i(this,"foodPullingSound",Q,this)}var o=t.prototype;return o.playFoodPushSound=function(){g.playOneShot(this.foodPushSound,1,.1)},o.playFoodSwallowSound=function(){g.playOneShot(this.foodSwallowSound,1,.1)},o.playChewSound=function(){g.playArray(this.chewSound,1,.1)},o.playChompSound=function(){g.playArray(this.chompSound,1,.1)},o.playSwallowSound=function(){g.playArray(this.swallowSound,1,.1)},o.playChewStartSound=function(){g.playArray(this.chewStartSound,1,.1)},o.playLickSound=function(){g.playArray(this.lickSound,.4,.1)},o.playHiccupSound=function(){g.playArray(this.hiccupSound,1,.1)},o.playScratchSound=function(){g.playArray(this.scratchSound,.4,.1)},o.foodPullBegin=function(){g.playOneShot(this.foodPullStartSound,1,.1),g.playArray(this.foodPullSkillSound,1,.1)},o.foodPulling=function(){g.playOneShot(this.foodPullingSound,1,this.foodPullingSound.getDuration()-.1)},t}()).prototype,"foodPushSound",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=o(T.prototype,"foodSwallowSound",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=o(T.prototype,"chewSound",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),x=o(T.prototype,"chompSound",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B=o(T.prototype,"swallowSound",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),X=o(T.prototype,"chewStartSound",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),I=o(T.prototype,"lickSound",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Z=o(T.prototype,"hiccupSound",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),H=o(T.prototype,"scratchSound",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),N=o(T.prototype,"foodPullStartSound",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=o(T.prototype,"foodPullSkillSound",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Q=o(T.prototype,"foodPullingSound",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=T))||j));t("ChomperPlant",(U=K("ChomperPlant"),V=Y(tt),U((W=o((J=function(t){function o(){for(var o,n=arguments.length,e=new Array(n),l=0;l<n;l++)e[l]=arguments[l];return(o=t.call.apply(t,[this].concat(e))||this)._objdataOwn=new $,i(o,"soundRes",W,a(o)),o.detector=null,o.cds=[],o.attacking=!1,o._inMouthAmount=0,o.pulling=0,o.pushing=0,o.foodSwallowTargets=[],o.foodSwallowedTargets=[],o.switching=!1,o.a1Slots=[],o.a2Slots=[],o}n(o,t);var l=o.prototype;return l.setDetector=function(t){this.detector=p.createRectangleNodeSide(t.node,2*S.SquareWidth,S.SquareHeight)},l.chompZombie=function(t){if(t.chompable_){if(!this.fooding)if(t.easyToChomp_)this.anmControl.playAnimation("AttackEmpty",1);else{this.anmControl.IdleAnim="Chewing",this.anmControl.RandomAnim=[],this.anmControl.playAnimation("AttackChewStart",1);var o=this._objdataOwn.ChewTimePerZombie;this._cdScale&&(o*=this._cdScale),o>0&&this.cds.push(o),this.inMouthAmount=this.cds.length}t.playDie(!0),w.destroyPooly(t.node)}else{var n=this._objdataOwn.ChompFailDamage;this._dmgScale&&(n*=this._dmgScale),t.dealDamage(new f(n,!1,!1,!1,null,m.physicle)),this.fooding||this.anmControl.playAnimation("AttackEmpty",1)}},l.specialPlantOnSquareChange=function(t,o){this.setDetector(o)},l.detectEnemy=function(){var t,o,n=this,i=!1;return this.inLane.zombiePool().forEach((function(t){var o;i||null!=(o=n.detector)&&o.judgeCrossRec(t.bodyRecForShooter)&&(i=!0)})),(null!=(t=this.inLnC)&&t.tombStone||null!=(o=this.inLnC.righter)&&o.tombStone)&&(i=!0),i},l.chompEnemy=function(){var t=this,o=null;if(this.inLane.zombiePool().forEach((function(n){var i,a=n.bodyRecForShooter;null!=(i=t.detector)&&i.judgeCrossRec(a)&&(!o||a.prjX().x<o.bodyRecForShooter.prjX().x)&&(o=n)})),o)this.chompZombie(o);else{var n=this._objdataOwn.ChompFailDamage;this._dmgScale&&(n*=this._dmgScale);var i=new f(n);this.inLnC.tombStone&&!this.inLnC.tombStone.hidden?this.inLnC.tombStone.dealDamage(i):this.inLnC.righter.tombStone&&!this.inLnC.righter.tombStone.hidden&&this.inLnC.righter.tombStone.dealDamage(i),this.anmControl.playAnimation("AttackEmpty",1)}this.attacking=!1},l.specialPlantFood=function(t){this.attacking=!1,this.anmControl.playAnimation("FoodPullStart",2),this.soundRes.foodPullBegin(),this.cds=[],this.inMouthAmount=0,this.anmControl.IdleAnim="Idle",this.anmControl.RandomAnim=["Rand1","Rand2","Rand3"],this.pulling=0,this.pushing=0,this.foodSwallowTargets=[],this.foodSwallowedTargets=[]},l.specialPlantOnEnable=function(){var t=this;this.attacking=!1,this.inMouthAmount=0,this.switching=!1,this.cds=[],this.pushing=0,this.pulling=0,this.anmControl.IdleAnim="Idle",this.anmControl.RandomAnim=["Rand1","Rand2","Rand3"],this.anmControl.db.on(r.EventObject.COMPLETE,(function(){t.switching=!1}),this)},l.animationListener=function(t){"chomp"==t.name?(this.chompEnemy(),this.soundRes.playChompSound()):"judgeChew"==t.name?(this.inMouthAmount=this.cds.length,0==this.inMouthAmount&&(this.anmControl.IdleAnim="Idle",this.anmControl.RandomAnim=["Rand1","Rand2","Rand3"])):"pullBegin"==t.name?(this.pulling=this._objdataOwn.PlantfoodPullDuration,this.anmControl.playAnimation("FoodPulling",1/0)):"pushStart"==t.name?(this.foodSwallowedTargets=[],this.pushing=this._objdataOwn.PlantfoodPushDuration,this.anmControl.playAnimation("FoodPushing",1/0),this.soundRes.playFoodPushSound()):"foodEnd"==t.name?this.foodEnd():"switchEnd"==t.name?this.switching=!1:"chew"==t.name?this.soundRes.playChewSound():"scratch"==t.name?this.soundRes.playScratchSound():"chewStart"==t.name?this.soundRes.playChewStartSound():"swallow"==t.name?this.soundRes.playSwallowSound():"lick"==t.name?this.soundRes.playLickSound():"hiccup"==t.name&&this.soundRes.playHiccupSound()},l.waterable=function(){return!this.switching&&this.inMouthAmount<=0},l.attackAnimation=function(){this.switching=!0,this.anmControl.playAnimation("Attack",2,.1),this.attacking=!0},l.specialPlantOnLoad=function(){var t=this;["ARM1","ARM1_","HAND1","HAND1_"].forEach((function(o){var n=t.anmControl.db.armature().getSlot(o);n&&t.a1Slots.push(n)})),["ARM2","ARM2_","HAND2","HAND2_"].forEach((function(o){var n=t.anmControl.db.armature().getSlot(o);n&&t.a2Slots.push(n)}))},l.setSlots=function(t){this.a1Slots.forEach((function(o){o._setDisplayIndex(t>=1?0:-1)})),this.a2Slots.forEach((function(o){o._setDisplayIndex(t>=2?0:-1)}))},l.swallowAnimation=function(){this.switching=!0,this.anmControl.playAnimation("ChewEnd",1,.2,1)},l.animationOnComplete=function(){this.attacking=!1},l.specialPlantUpdate=function(t,o,n){var i=this;if(this.inMouthAmount>0&&!this.attacking){var a=[];this.cds.forEach((function(o){(o-=t)>0&&a.push(o)})),this.cds.length!=a.length&&this.swallowAnimation(),this.cds=a}if(!this.fooding&&!this.switching&&this.inMouthAmount<this._objdataOwn.MaxContainZombieCount&&n>0&&this.detectEnemy()&&this.attackAnimation(),this.fooding){if(this.pulling>0){if(this.pulling-=t,this.soundRes.foodPulling(),this.foodSwallowTargets.length<this._objdataOwn.PlantfoodSwallowCount-this.foodSwallowedTargets.length){var e=null;this.inLane.zombiePool().forEach((function(t){t.knockBackable&&-1==i.foodSwallowTargets.indexOf(t)&&(!e||e.bodyRecForShooter.prjX().x>t.bodyRecForShooter.prjX().x)&&t.bodyRecForShooter.prjX().y>i.worldPositionX&&(e=t)})),e&&this.foodSwallowTargets.push(e)}this.foodSwallowTargets.concat().forEach((function(t){var o=i.foodSwallowTargets.indexOf(t);t.isAlive()||-1==o?(t.setStun(.2),t.bodyRecForShooter.prjX().x<=i.worldPositionX+15?(-1==i.foodSwallowedTargets.indexOf(t)&&(i.chompZombie(t),i.foodSwallowedTargets.push(t)),i.foodSwallowedTargets.length>=i._objdataOwn.PlantfoodSwallowCount&&(i.pulling=0)):t.knockBackBy(new h(-.13*i._objdataOwn.PlantfoodPullSPS,0),!1,.1)):i.foodSwallowTargets.splice(o,1)})),this.pulling<=0&&(this.soundRes.playFoodSwallowSound(),this.anmControl.playAnimation("FoodPullEndPushStart",2))}this.pushing>0&&(this.pushing-=t,this.inLane.zombiePool().forEach((function(t){t.knockBackable&&t.bodyRecForShooter.prjX().y>i.worldPositionX&&t.knockBackBy(new h(.13*i._objdataOwn.PlantfoodPushSPS,0),!1,.1)})),this.pushing<=0&&this.anmControl.playAnimation("FoodPushEnd",1)),this.foodSwallowedTargets.concat().forEach((function(t){null!=t&&t.isAlive()&&(null==t||t.setStun(.2))}))}},e(o,[{key:"inMouthAmount",get:function(){return this._inMouthAmount},set:function(t){this.setSlots(t),this._inMouthAmount=t}}]),o}(d)).prototype,"soundRes",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new tt}}),G=J))||G));l._RF.pop()}}}));

System.register("chunks:///_virtual/Citron.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./CharacterManager.ts","./Square.ts","./NodePools.ts","./Character.ts","./SoundRescourses.ts","./Projectiles.ts"],(function(n){var t,o,e,i,a,r,s,l,h,c,u,d,p,f,y,g,m,P,b,S,w;return{setters:[function(n){t=n.applyDecoratedDescriptor,o=n.inheritsLoose,e=n.initializerDefineProperty,i=n.assertThisInitialized,a=n.asyncToGenerator,r=n.regeneratorRuntime},function(n){s=n.cclegacy,l=n._decorator,h=n.AudioClip,c=n.Node,u=n.Prefab,d=n.Vec3,p=n.Vec2},function(n){f=n.Plant,y=n.PlantProps},function(n){g=n.Rectangle},function(n){m=n.Square},function(n){P=n.instantiatePooly},function(n){b=n.CharacterType},function(n){S=n.sounds},function(n){w=n.ProjectileShootingFunctions}],execute:function(){var C,R,_,v,j,z,A,L,T,F,O,D,k,E,q,x,H,M,N;s._RF.push({},"d8bad280s1Jb7+LBrnKH0FT","Citron",void 0);var B=l.ccclass,I=l.property,V=function(n){function t(){for(var t,o=arguments.length,e=new Array(o),i=0;i<o;i++)e[i]=arguments[i];return(t=n.call.apply(n,[this].concat(e))||this).ChargeTime=7,t.Damage=800,t.DamagePlantfood=2500,t.PeaType="citron",t.PeaTypePlantfood="citron_pf",t}return o(t,n),t}(y),Y=(C=B("citronSound"),R=I([h]),_=I([h]),v=I([h]),j=I([h]),C((L=t((A=function(){function n(){e(this,"foodSounds",L,this),e(this,"shootSounds",T,this),e(this,"chargeSounds",F,this),e(this,"landSounds",O,this)}var t=n.prototype;return t.playFood=function(){S.playArray(this.foodSounds,1,.1)},t.playShoot=function(){S.playArray(this.shootSounds,1,.1)},t.playCharge=function(){S.playArray(this.chargeSounds,1)},t.playLand=function(){S.playArray(this.landSounds,1,.1)},n}()).prototype,"foodSounds",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),T=t(A.prototype,"shootSounds",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=t(A.prototype,"chargeSounds",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=t(A.prototype,"landSounds",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=A))||z);n("CitronPlant",(D=B("CitronPlant"),k=I(c),E=I(u),D((H=t((x=function(n){function t(){for(var t,o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(t=n.call.apply(n,[this].concat(a))||this).detector=new g,e(t,"soundRes",H,i(t)),t._objdataOwn=new V,e(t,"peaSpawnPoint",M,i(t)),e(t,"lightningPar",N,i(t)),t.ready=!1,t}o(t,n);var s=t.prototype;return s.specialPlantOnSquareChange=function(n,t){this.detector=g.createRectangleNodeSide(t.node,m.SquareWidth*(9-t.cIndex),m.SquareHeight)},s.shrink=function(){this.anmControl.playAnimation("Shrink",1/0)},s.charge=function(){this.soundRes.playCharge(),this.anmControl.playAnimation("Charge",1/0,0,Math.min(100,7/this._objdataOwn.ChargeTime))},s._shoot=function(){var n=a(r().mark((function n(t){var o;return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=(this.fooding?this._objdataOwn.DamagePlantfood:this._objdataOwn.Damage)*this._dmgScale,n.next=3,w.shootOnePea(t,this.worldPosition,this.peaSpawnPoint.worldPosition.y-this.worldPositionY,this.inLane.prjLayer,new p(6,0),b.zombie);case 3:n.sent.setDamage(o);case 5:case"end":return n.stop()}}),n,this)})));return function(t){return n.apply(this,arguments)}}(),s.animationListener=function(n){"land"==n.name?this.soundRes.playLand():"foodEnd"==n.name?(this.foodEnd(),this.shrink()):"shrink"==n.name?this.shrink():"chargeStart"==n.name?this.charge():"ready"==n.name?(this.ready=!0,this.anmControl.playAnimation("Ready",1/0)):"shoot"==n.name?this._shoot(this._objdataOwn.PeaType):"foodShoot"==n.name&&this._shoot(this._objdataOwn.PeaTypePlantfood)},s.lightning=function(){var n=P(this.lightningPar);n.parent=this.inLane.zombieLayer,n.worldPosition=new d(this.worldPositionX,this.worldPositionY+this.height,10)},s.specialPlantFood=function(n){this.anmControl.playAnimation("Food",1/0,0,.7),this.soundRes.playFood(),this.lightning()},s.waterable=function(){return!1},s.specialPlantOnEnable=function(){this.ready=!1,this.charge()},s.detectEnemies=function(){var n=this,t=!1;return this.inLane.zombiePool().forEach((function(o){t||n.detector.judgeCrossRec(o.bodyRecForShooter)&&(t=!0)})),!!t||(this.inLane.tombPool().forEach((function(o){t||n.detector.judgeCrossRec(o.bodyRec)&&(t=!0)})),t)},s.specialPlantUpdate=function(n,t,o){!this.fooding&&this.ready&&o>0&&this.detectEnemies()&&(this.ready=!1,this.anmControl.playAnimation("Shoot",1/0),this.soundRes.playShoot())},t}(f)).prototype,"soundRes",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Y}}),M=t(x.prototype,"peaSpawnPoint",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=t(x.prototype,"lightningPar",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=x))||q));s._RF.pop()}}}));

System.register("chunks:///_virtual/citronFoodPrj.ts",["./rollupPluginModLoBabelHelpers.js","cc","./commonShot.ts","./Zombie.ts","./SoundRescourses.ts","./NodePools.ts","./Character.ts"],(function(e){var o,t,n,i,r,s,a,c,l,u,d,p,y,h;return{setters:[function(e){o=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){r=e.cclegacy,s=e._decorator,a=e.AudioClip,c=e.Prefab,l=e.Vec3},function(e){u=e.commonShot},function(e){d=e.Zombie},function(e){p=e.sounds},function(e){y=e.instantiatePooly},function(e){h=e.CharacterType}],execute:function(){var f,m,b,P,g,L,v;r._RF.push({},"7d3abP8EK9AY7DQCel3R5gq","citronFoodPrj",void 0);var T=s.ccclass,C=s.property;e("citronFoodPrj",(f=T("citronFoodPrj"),m=C([a]),b=C(c),f((L=o((g=function(e){function o(){for(var o,t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return o=e.call.apply(e,[this].concat(r))||this,n(o,"tossSounds",L,i(o)),n(o,"tossPar",v,i(o)),o}return t(o,e),o.prototype.detectEnemy=function(e){var o,t=this;if(this.inLane&&this.detectEnemyOn){null!=(o=this.targetLocked)&&null!=(o=o.getComponent(d))&&o.dead&&(this.targetLocked=null);var n,i=this.bodyRec(),r=!1;if(this.enemyType==h.zombie||this.enemyType==h.plant){var s=this.enemyType==h.zombie?this.inLane.zombiePool():this.inLane.hypnoZombiePool();null==s||s.forEach((function(e){if(!r&&i.judgeCrossRec(e.bodyRec))if(e.objdata.CannotBeTossedByCitron)r=!0,t.dealDamageToTarget(e,!0),t.pop();else{var o=y(t.tossPar);o.parent=t.node.parent,o.worldPosition=new l(e.worldPositionX,e.worldPositionY+t.height,10),e.tossAway(),p.playArray(t.tossSounds,3,.1)}}))}if(this.enemyType==h.zombie)null==(n=this.inLane)||n.tombPool(0).forEach((function(e){e.bodyRec.judgeCrossRec(i)&&(!t.targetLocked||t.targetLocked&&e.node==t.targetLocked)&&e.die()}));this.enemyType==h.plant&&this.detectPlant(e,i)}},o}(u)).prototype,"tossSounds",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=o(g.prototype,"tossPar",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=g))||P));r._RF.pop()}}}));

System.register("chunks:///_virtual/CoconutCannon.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./Character.ts","./SoundRescourses.ts","./levelController.ts","./Projectiles.ts"],(function(o){var t,n,e,i,a,s,r,l,h,u,c,p,d,f,m,S,w,C,y;return{setters:[function(o){t=o.applyDecoratedDescriptor,n=o.inheritsLoose,e=o.initializerDefineProperty,i=o.assertThisInitialized,a=o.asyncToGenerator,s=o.regeneratorRuntime},function(o){r=o.cclegacy,l=o._decorator,h=o.AudioClip,u=o.Node,c=o.Color,p=o.Size,d=o.Vec2},function(o){f=o.Plant,m=o.PlantProps},function(o){S=o.CharacterType},function(o){w=o.sounds},function(o){C=o.LevelPlay},function(o){y=o.ProjectileShootingFunctions}],execute:function(){var P,b,g,v,D,R,_,A,F,T,z,O,j,L,k,E;r._RF.push({},"50720yK6odEMocWqgdyjOTQ","CoconutCannon",void 0);var x=l.ccclass,I=l.property,M=function(o){function t(){for(var t,n=arguments.length,e=new Array(n),i=0;i<n;i++)e[i]=arguments[i];return(t=o.call.apply(o,[this].concat(e))||this).RestTime=15,t.PeaType="coconut",t.PeaTypePlantfood="coconut_pf",t}return n(t,o),t}(m),U=(P=x("coconutcannonSound"),b=I(h),g=I(h),v=I(h),P((_=t((R=function(){function o(){e(this,"shootFoodSound",_,this),e(this,"shootSound",A,this),e(this,"foodStartSound",F,this)}var t=o.prototype;return t.playShootSound=function(o){void 0===o&&(o=!1),w.playOneShot(o?this.shootFoodSound:this.shootSound,1,.1)},t.playFoodStartSound=function(){w.playOneShot(this.foodStartSound,1,.1)},o}()).prototype,"shootFoodSound",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=t(R.prototype,"shootSound",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=t(R.prototype,"foodStartSound",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=R))||D);o("CoconutCannonPlant",(T=x("CoconutCannonPlant"),z=I(U),O=I(u),T((k=t((L=function(o){function t(){for(var t,n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(t=o.call.apply(o,[this].concat(a))||this)._objdataOwn=new M,t.sleepCD=0,t.shooting=!1,e(t,"soundRes",k,i(t)),e(t,"peaSpawnpoint",E,i(t)),t}n(t,o);var r=t.prototype;return r.specialPlantOnEnable=function(){this.sleepCD=0,this.baseColor=new c(255,255,255,255)},r.teach=function(){this.sleepCD<=0?(this.defaultTeach(1),this.addArrow(1/0)):this.arrowCountdown=0},r.shootAnimation=function(o){void 0===o&&(o=!1),this.shooting=!0,this.anmControl.playAnimation(o?"Food":"Shoot",2),this.anmControl.IdleAnim="Sleep",this.anmControl.RandomAnim=[]},r.wake=function(){this.sleepCD=0,this.anmControl.playAnimation("Wake",1),this.anmControl.IdleAnim="Idle",this.anmControl.RandomAnim=["Rand1","Rand2"],this.baseColor=new c(255,255,255,255)},r.specialPlantFood=function(o){this.wake(),this.shootAnimation(!0),this.soundRes.playFoodStartSound(),this.baseColor=new c(255,255,255,255)},r.waterable=function(){return this.sleepCD<=0&&!this.shooting},r._shoot=function(){var o=a(s().mark((function o(t,n,e){var i,a;return s().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return void 0===t&&(t=this._objdataOwn.PeaType),void 0===n&&(n=17),void 0===e&&(e=new d(1,0)),i=this._dmgScale,o.next=7,y.shootOnePea(t,new d(this.peaSpawnpoint.worldPosition.x,this.worldPositionY),Math.max(1,this.peaSpawnpoint.worldPosition.y-this.inLnC.plantPoint.worldPosition.y),this.inLane.node,e.normalize().multiplyScalar(n),S.zombie);case 7:return a=o.sent,i&&(a.setDamage(a.damage*i),a.splashDamages.forEach((function(o){o.splashDamage*=i}))),C.CannonMinigameProps&&(a.ignoreDifferentLane=!0,a.splashDamages.forEach((function(o){o.splashRange=new p(2.5,2)}))),o.abrupt("return",a);case 11:case"end":return o.stop()}}),o,this)})));return function(t,n,e){return o.apply(this,arguments)}}(),r.animationListener=function(o){if("Shoot"==o.name)this.soundRes.playShootSound(!1),this._shoot();else if("foodShoot"==o.name)this.soundRes.playShootSound(!0),this._shoot(this._objdataOwn.PeaTypePlantfood,6);else if("sleepStart"==o.name){this.anmControl.playIdle(),this.shooting=!1;var t=this._objdataOwn.RestTime;this._cdScale&&(t*=this._cdScale),this.sleepCD=t,this.clearScheduler()}else"foodEnd"==o.name&&this.foodEnd()},r.specialPlantUpdateForce=function(o,t,n){if(this.sleepCD>0){var e=200-122*this.getScheduler(this.sleepCD/8);this.baseColor=new c(e,e,e,255)}},r.specialPlantUpdate=function(o,t,n){this.sleepCD>0&&(this.sleepCD-=o,this.sleepCD<=0&&this.wake())},r.specialPlantOnMouseDown=function(){if(this.sheepend)return!1;var o=this.sleepCD<=0&&!this.shooting;return o&&(this.shootAnimation(!1),this.arrowCountdown=0),o},t}(f)).prototype,"soundRes",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new U}}),E=t(L.prototype,"peaSpawnpoint",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=L))||j));r._RF.pop()}}}));

System.register("chunks:///_virtual/coconutHeavy.ts",["./rollupPluginModLoBabelHelpers.js","cc","./commonShot.ts","./Zombie.ts","./CharacterManager.ts","./Character.ts"],(function(e){var t,n,o,i,a,c,l;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,o=e._decorator},function(e){i=e.commonShot},function(e){a=e.Zombie},function(e){c=e.ZombieDamageDetails},function(e){l=e.CharacterType}],execute:function(){var r;n._RF.push({},"5e745SbVZdK75F64q70ZJjV","coconutHeavy",void 0);var s=o.ccclass;o.property,e("coconutHeavy",s("coconutHeavy")(r=function(e){function n(){for(var t,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(t=e.call.apply(e,[this].concat(o))||this).ignited=!1,t}t(n,e);var o=n.prototype;return o.specialOnSquareChange=function(e,t){var n;t.cIndex>=8&&!this.ignited&&(this.ignited=!0,null==(n=this.db)||n.playAnimation("Explode",1))},o.explode=function(){this.dealSplashDamage(),this.pop()},o.animationListener=function(e){"pop"==e.name&&this.explode()},o.characterOnEnable=function(){var e;this.initialize(),this.ignited=!1,null==(e=this.db)||e.playAnimation("Idle",1/0)},o.detectEnemy=function(e){},o.onMoving=function(e,t,n){var o,i,r=this;if(this.ignited&&(this.linearVelocity.x/=1.2),this.inLane){null!=(o=this.targetLocked)&&null!=(o=o.getComponent(a))&&o.dead&&(this.targetLocked=null);var s,u,h,d=new c(this.damage*this.damageScale*(this.havePeaBuff?1.5:1),this.armorProtection,this.armorKnockSound,this.bodyKnockSound,null,this.damageType,!0,!0),p=this.bodyRec(),g=[];if(null==(s=this.enemyType==l.zombie?null==(u=this.inLane)?void 0:u.zombiePool():null==(h=this.inLane)?void 0:h.hypnoZombiePool())||s.forEach((function(e){e.knockBackable&&e.specialZombieKnockbackable()?(!r.targetLocked||r.targetLocked&&e.node==r.targetLocked)&&e.bodyRec.judgeCrossRec(p)&&g.push(e):e.bodyRec.judgeCrossRec(p)&&r.explode()})),g.length){var m=t.x-e.x;g.forEach((function(e){e.setStun(.1),e.worldPositionX+=m}))}var f=null;null==(i=this.inLane)||i.tombPool(this.enemyType==l.plant?1:0).forEach((function(e){e.bodyRec.judgeCrossRec(p)&&(!r.targetLocked||r.targetLocked&&e.node==r.targetLocked)&&(f=e)})),f&&(f.dealDamage(d),this.dealSplashDamage(null,f),this.pop())}},n}(i))||r);n._RF.pop()}}}));

System.register("chunks:///_virtual/coin.ts",["./rollupPluginModLoBabelHelpers.js","cc","./dropping.ts","./CoinCount.ts","./SoundRescourses.ts","./CoinCollecterInGame.ts"],(function(n){var o,i,e,t,r,c,u,l,a,p,s,d,f;return{setters:[function(n){o=n.applyDecoratedDescriptor,i=n.inheritsLoose,e=n.initializerDefineProperty,t=n.assertThisInitialized,r=n.createClass},function(n){c=n.cclegacy,u=n._decorator,l=n.CCInteger,a=n.AudioClip},function(n){p=n.dropping},function(n){s=n.CoinCount},function(n){d=n.sounds},function(n){f=n.CoinCollecterInGame}],execute:function(){var v,g,C,h,y,m,b;c._RF.push({},"7bbaalD+gRCfLw8Bg+Ymqwq","coin",void 0);var D=u.ccclass,S=u.property;n("coin",(v=D("coin"),g=S(l),C=S(a),v((m=o((y=function(n){function o(){for(var o,i=arguments.length,r=new Array(i),c=0;c<i;c++)r[c]=arguments[c];return o=n.call.apply(n,[this].concat(r))||this,e(o,"value",m,t(o)),e(o,"dropSound",b,t(o)),o}i(o,n);var c=o.prototype;return c.specialOnGroundHit=function(){d.playOneShot(this.dropSound,1,0)},c.specialDroppingOnLoad=function(){var n,o;null!=(n=s.component)&&null!=(n=n.icon)&&n.active&&(this.ui=null==(o=s.component)?void 0:o.icon)},c.specialDroppingOnEnable=function(){var n,o;null!=(n=this.ui)&&n.active||(this.ui=null==(o=s.component)?void 0:o.icon)},c.specialGoToUI=function(n){var o;f.component.hidden=!1,null==(o=s.component)||o.addCoinCount(this.value)},r(o,[{key:"DroppingType",get:function(){return"coin"}}]),o}(p)).prototype,"value",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),b=o(y.prototype,"dropSound",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=y))||h));c._RF.pop()}}}));

System.register("chunks:///_virtual/coinbag.ts",["./rollupPluginModLoBabelHelpers.js","cc","./levelPrize.ts","./Sunflower.ts","./UI.ts","./SoundsController.ts","./SoundManager.ts"],(function(t){var n,e,o,i,c,r,l,a,s,u,f,p,h,y,w,d;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){c=t.cclegacy,r=t._decorator,l=t.CCInteger,a=t.tween,s=t.Vec3,u=t.Vec2,f=t.TWO_PI},function(t){p=t.levelPrize},function(t){h=t.sunflower},function(t){y=t.UIInGame},function(t){w=t.MusicController},function(t){d=t.MusicSortEnum}],execute:function(){var g,v,m,b,P;c._RF.push({},"513f5GsDYtP+7izCdr2puwc","coinbag",void 0);var _=r.ccclass,M=r.property;t("coinbag",(g=_("coinbag"),v=M(l),g((P=n((b=function(t){function n(){for(var n,e=arguments.length,c=new Array(e),r=0;r<e;r++)c[r]=arguments[r];return n=t.call.apply(t,[this].concat(c))||this,o(n,"coinAmount",P,i(n)),n}return e(n,t),n.prototype.collect=function(){var t=this;this.collectTween.forEach((function(t){t.stop()})),this.collectTween=[],this.collectTween.push(a(this.node).to(.5,{scale:new s(0,0,0)},{easing:"quadOut"}).to(.5,{}).call((function(){y.component.victoryExit()})).start());for(var n=f/3,e=function(){var e=n/2-n*o/(t.coinAmount-1),i=h.dropOneCoin(new u(t._worldPositionX,t._worldPositionY+t._height),2),c=new u(Math.sin(e),Math.cos(e)).multiplyScalar(7);i.linearVelocity=new u(c.x,0),i.bodyLinearVelocity=c.y,i.mouseListen=!1,a(i).to(1,{linearVelocity:new u(0,0),bodyLinearVelocity:0}).call((function(){i.collect()})).to(1,{}).start()},o=0;o<this.coinAmount;o++)e();w.switchMusicSort(d.Leave,!1,!1,!0,!0)},n}(p)).prototype,"coinAmount",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),m=b))||m));c._RF.pop()}}}));

System.register("chunks:///_virtual/CoinCollecterInGame.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UI.ts","./CoinCount.ts","./GemCount.ts"],(function(o){var e,t,n,i,s,r,l,h,a,c,u,d,w,p;return{setters:[function(o){e=o.applyDecoratedDescriptor,t=o.inheritsLoose,n=o.initializerDefineProperty,i=o.assertThisInitialized,s=o.createClass},function(o){r=o.cclegacy,l=o._decorator,h=o.Node,a=o.Vec3,c=o.tween,u=o.Component},function(o){d=o.UIInGame},function(o){w=o.CoinCount},function(o){p=o.GemCount}],execute:function(){var f,C,m,_,g,y,b,v,I,D;r._RF.push({},"60af0DVfxFNNroqRlBr7pKs","CoinCollecterInGame",void 0);var P=l.ccclass,T=l.property;o("CoinCollecterInGame",(f=P("CoinCollecterInGame"),C=T(h),m=T(h),_=T(h),f(((D=function(o){function e(){for(var e,t=arguments.length,s=new Array(t),r=0;r<t;r++)s[r]=arguments[r];return(e=o.call.apply(o,[this].concat(s))||this).oldPos=new a,n(e,"coinSlot",b,i(e)),n(e,"gemSlot",v,i(e)),e._hidden=!1,e._showTween=void 0,n(e,"shower",I,i(e)),e.showerOldPos=new a,e.showCD=0,e}t(e,o);var r=e.prototype;return r.onLoad=function(){this.node.position=new a(d.PocketUI?390:-430,-150,0),e.component=this,this.oldPos=this.node.position.clone(),this.showerOldPos=this.shower.position.clone(),this.node.position.add(new a(0,-1e3,0))},r.start=function(){w.component.icon=this.coinSlot,p.component.icon=this.gemSlot},r.show=function(){c(this.node).to(.5,{position:this.oldPos},{easing:"quadOut"}).start()},r.update=function(o){this.hidden||(this.showCD>0&&(this.showCD-=o),this.showCD<=0&&(this.hidden=!0))},s(e,[{key:"hidden",get:function(){return this._hidden},set:function(o){var e,t=this;if(this.showCD=5,!o&&this._hidden)null==(e=this._showTween)||e.stop(),this._showTween=c(this.shower).to(.5,{position:this.showerOldPos},{easing:"quadOut"}).call((function(){t._showTween=null})).start();else if(o&&!this._hidden){var n;null==(n=this._showTween)||n.stop(),this._showTween=c(this.shower).by(.5,{position:new a(0,-1e3,0)},{easing:"quadIn"}).call((function(){t._showTween=null})).start()}this._hidden=o}}]),e}(u)).component=void 0,b=e((y=D).prototype,"coinSlot",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=e(y.prototype,"gemSlot",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=e(y.prototype,"shower",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=y))||g));r._RF.pop()}}}));

System.register("chunks:///_virtual/CoinCount.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CurrencyCount.ts","./PlayerProperties.ts","./SoundRescourses.ts"],(function(n){var o,t,e,i,r,u,c,a,l,s;return{setters:[function(n){o=n.applyDecoratedDescriptor,t=n.inheritsLoose,e=n.initializerDefineProperty,i=n.assertThisInitialized},function(n){r=n.cclegacy,u=n._decorator,c=n.AudioClip},function(n){a=n.CurrencyCount},function(n){l=n.AllPlayerProperties},function(n){s=n.sounds}],execute:function(){var p,C,d,h,f,y;r._RF.push({},"bd9abRbdZhOt51gHOg9m9Ia","CoinCount",void 0);var v=u.ccclass,P=u.property;n("CoinCount",(p=v("CoinCount"),C=P(c),p(((y=function(n){function o(){for(var o,t=arguments.length,r=new Array(t),u=0;u<t;u++)r[u]=arguments[u];return o=n.call.apply(n,[this].concat(r))||this,e(o,"coinCollectSound",f,i(o)),o}t(o,n);var r=o.prototype;return r.start=function(){this.shownValue=isNaN(l.currentPlayer.coin)?0:l.currentPlayer.coin,this.value=this._shownValue},r.addCoinCount=function(n){this.value+=n,s.playOneShot(this.coinCollectSound,1,.1)},r.decCoinCount=function(n){this.value-=n},r.buyCoin=function(){this.addCoinCount(1e4)},r.onValueSet=function(n){l.currentPlayer.coin=n,l.savePP()},r.onLoad=function(){o.component=this},o}(a)).component=void 0,f=o((h=y).prototype,"coinCollectSound",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=h))||d));r._RF.pop()}}}));

System.register("chunks:///_virtual/coinInZen.ts",["./rollupPluginModLoBabelHelpers.js","cc","./droppingInZen.ts","./CoinCount.ts","./SoundRescourses.ts"],(function(n){var o,i,e,t,r,u,c,l,a,p,s;return{setters:[function(n){o=n.applyDecoratedDescriptor,i=n.inheritsLoose,e=n.initializerDefineProperty,t=n.assertThisInitialized},function(n){r=n.cclegacy,u=n._decorator,c=n.CCInteger,l=n.AudioClip},function(n){a=n.droppingInZen},function(n){p=n.CoinCount},function(n){s=n.sounds}],execute:function(){var d,f,v,h,y,g,I;r._RF.push({},"f7501rFx0RBLIYS/oxs5yi3","coinInZen",void 0);var C=u.ccclass,b=u.property;n("coinInZen",(d=C("coinInZen"),f=b(c),v=b(l),d((g=o((y=function(n){function o(){for(var o,i=arguments.length,r=new Array(i),u=0;u<i;u++)r[u]=arguments[u];return o=n.call.apply(n,[this].concat(r))||this,e(o,"value",g,t(o)),e(o,"dropSound",I,t(o)),o}i(o,n);var r=o.prototype;return r.specialOnGroundHit=function(){s.playOneShot(this.dropSound,1,0)},r.specialDroppingOnLoad=function(){var n,o;null!=(n=p.component)&&null!=(n=n.icon)&&n.active&&(this.ui=null==(o=p.component)?void 0:o.icon)},r.specialDroppingOnEnable=function(){var n,o;null!=(n=this.ui)&&n.active||(this.ui=null==(o=p.component)?void 0:o.icon)},r.specialGoToUI=function(n){var o;null==(o=p.component)||o.addCoinCount(this.value)},o}(a)).prototype,"value",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),I=o(y.prototype,"dropSound",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=y))||h));r._RF.pop()}}}));

System.register("chunks:///_virtual/ColdSnapDragon.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SoundRescourses.ts","./SnapDragon.ts","./CharacterManager.ts","./NodePools.ts","./Square.ts"],(function(n){var e,t,a,o,i,r,c,l,s,u,d,p,h,f,y,g,L,P;return{setters:[function(n){e=n.applyDecoratedDescriptor,t=n.inheritsLoose,a=n.initializerDefineProperty,o=n.assertThisInitialized,i=n.createClass},function(n){r=n.cclegacy,c=n._decorator,l=n.AudioClip,s=n.Vec3},function(n){u=n.sounds},function(n){d=n.snapdragonSound,p=n.SnapDragonPlant,h=n.SnapDragonProps},function(n){f=n.ZombieDamageType,y=n.Rectangle,g=n.ZombieDamageDetails},function(n){L=n.NodePools},function(n){P=n.Square}],execute:function(){var b,S,m,w,D,z,v,C,R,j,k,A,I,O;r._RF.push({},"cb3737S8f1Mi6GYIZhNWZpO","ColdSnapDragon",void 0);var F=c.ccclass,E=c.property,_=function(n){function e(){for(var e,t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return(e=n.call.apply(n,[this].concat(a))||this).ChillDuration=10,e.FreezeDuration=0,e.DamagePlantfood=1200,e.ChillDurationPlantfood=10,e.FreezeDurationPlantfood=10,e}return t(e,n),e}(h),H=(b=F("ColdSnapDragonSound"),S=E([l]),m=E([l]),w=E([l]),b((v=e((z=function(n){function e(){for(var e,t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];return e=n.call.apply(n,[this].concat(i))||this,a(e,"attackIce",v,o(e)),a(e,"hit",C,o(e)),a(e,"sneeze",R,o(e)),e}t(e,n);var i=e.prototype;return i.playAttackIce=function(){u.playArray(this.attackIce,1,.2)},i.playAttackSound=function(){u.playArray(this.attackSound,1,.2),u.playArray(this.attackIce,.4,NaN,.5)},i.playFoodSound=function(){u.playOneShot(this.foodSound,1,.1),u.playArray(this.attackIce,1,.2)},i.playHit=function(){u.playArray(this.hit,.4,.2)},i.playSneeze=function(){u.playArray(this.sneeze,1,.2)},e}(d)).prototype,"attackIce",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C=e(z.prototype,"hit",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=e(z.prototype,"sneeze",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=z))||D);n("ColdSnapDragonPlant",(j=F("ColdSnapDragonPlant"),k=E(H),j((O=e((I=function(n){function e(){for(var e,t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];return e=n.call.apply(n,[this].concat(i))||this,a(e,"soundRes",O,o(e)),e._objdataOwn=new _,e}t(e,n);var r=e.prototype;return r.onObjdataSet=function(n,e){},r.ZombieOnHit=function(n){n.setChill(this.objdataOwn.ChillDuration),n.setFreeze(this.objdataOwn.FreezeDuration)},r.attackEnemiesExtra=function(){var n=this;this.inLane.tntPool().concat(this.inLane.UpperLane.tntPool(),this.inLane.LowerLane.tntPool()).forEach((function(e){e.ignited&&n.detector.judgeInRecP(e.ropeSideWP)&&(e.ignited=!1)}))},r.detectEnemyExtra=function(){var n=this;return this.inLane.tntPool().concat(this.inLane.UpperLane.tntPool(),this.inLane.LowerLane.tntPool()).some((function(e){return e.ignited&&n.detector.judgeInRecP(e.ropeSideWP)}))},r.foodAttack=function(){var n=this;this.soundRes.playFoodSound(),[this.inLane.UpperLane,this.inLane,this.inLane.LowerLane].forEach((function(e,t){if(!(e.LaneIndex<0||e.LaneIndex>4)){var a=-(t-1)*P.SquareHeight,o=L.instantiatePooly(n.foodPar);o.parent=e.tombLayer,o.setSiblingIndex(0),o.worldPosition=n.inLnC.node.worldPosition.clone().add3f(3.5*P.SquareWidth,a,0);var i=n.attParScale();o.worldScale=new s(i,.5,1)}}))},r.getDamageType=function(){return f.physicle},r.snapdragonAnimationListener=function(n){var e=this;switch(n.name){case"splat":this.soundRes.playHit();break;case"sneeze":this.soundRes.playSneeze();break;case"foodHit":var t=this._objdataOwn.DamagePlantfood;this._dmgScale&&(t*=this._dmgScale);var a=y.createRectangleNodeSide(this.inLnC.node,3.5*P.SquareWidth,3*P.SquareHeight),o=new g(t,!0,!1,!1,null,f.physicle),i=[];this.inLane.zombiePool().concat(this.inLane.UpperLane.zombiePool(),this.inLane.LowerLane.zombiePool()).forEach((function(n){n.bodyRecReal.judgeCrossRec(a)&&-1==i.indexOf(n)&&(n.dealDamage(o),e.ZombieOnHit(n),n.setChill(e.objdataOwn.ChillDurationPlantfood),n.setFreeze(e.objdataOwn.FreezeDurationPlantfood),i.push(n))})),this.inLane.tombPool().concat(this.inLane.UpperLane.tombPool(),this.inLane.LowerLane.tombPool()).forEach((function(n){n.bodyRec.judgeCrossRec(a)&&n.dealDamage(o)})),this.inLane.tntPool().concat(this.inLane.UpperLane.tntPool(),this.inLane.LowerLane.tntPool()).forEach((function(n){n.ignited&&a.judgeInRecP(n.ropeSideWP)&&(n.ignited=!1)}))}},i(e,[{key:"objdataOwn",get:function(){return this._objdataOwn}}]),e}(p)).prototype,"soundRes",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new H}}),A=I))||A));r._RF.pop()}}}));

System.register("chunks:///_virtual/commonShot.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NodePools.ts","./ArrayGet.ts","./Character.ts","./Zombie.ts","./CharacterManager.ts","./Square.ts","./Particles.ts","./LnC.ts","./Plant.ts","./SoundRescourses.ts","./levelController.ts","./MultiLanguage.ts","./Materials.ts","./ParticleSelfdestroy.ts","./Tombs.ts","./Projectiles.ts"],(function(e){var t,i,n,a,o,s,l,r,h,c,u,d,p,f,m,g,y,b,v,P,D,w,S,k,L,R,B,C,T,V,O,x,z,E,H,F,M,I,_,j,Z,W,q,G;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized,o=e.createClass,s=e.asyncToGenerator,l=e.regeneratorRuntime},function(e){r=e.cclegacy,h=e._decorator,c=e.Size,u=e.Enum,d=e.AudioClip,p=e.Prefab,f=e.CCFloat,m=e.Vec3,g=e.Vec2,y=e.dragonBones,b=e.Material,v=e.Vec4,P=e.Color},function(e){D=e.NodePools},function(e){w=e.ArrayGet},function(e){S=e.CharacterType,k=e.Character},function(e){L=e.ZombiePoison,R=e.Zombie},function(e){B=e.ZombieDamageType,C=e.Rectangle,T=e.ZombieDamageDetails,V=e.ZombiePool,O=e.footballmech},function(e){x=e.Square},function(e){z=e.particle},function(e){E=e.TileLiquidEnum,H=e.TileType},function(e){F=e.PlantWarmingRadius},function(e){M=e.sounds},function(e){I=e.LevelPlay},function(e){_=e.MultiLanguage},function(e){j=e.materialRes},function(e){Z=e.ParticleSelfdestroy},function(e){W=e.TombEnum},function(e){q=e.ProjectileProps,G=e.ProjectileSplash}],execute:function(){var K,N,A,Y,U,X,J,Q,$,ee,te,ie,ne,ae,oe,se,le,re,he,ce,ue;r._RF.push({},"42744eKEFJOpYjpPM9vfXco","commonShot",void 0);var de=h.ccclass,pe=h.property,fe=e("SplashDamage",function(){function e(e,t,i,n,a,o,s,l){void 0===e&&(e=0),void 0===t&&(t=new c(0,0)),void 0===i&&(i=0),void 0===n&&(n=0),void 0===a&&(a=0),void 0===o&&(o=new L(0,0)),void 0===s&&(s=0),void 0===l&&(l=0),this.splashDamage=0,this.splashRange=new c(0,0),this.chillDuration=0,this.freezeDuration=0,this.butterDuration=0,this.poison=new L(0,0),this.stunDuration=0,this.knockbackDistance=0,this.splashDamage=e,this.butterDuration=a,this.splashRange=t,this.chillDuration=i,this.freezeDuration=n,this.poison=o,this.stunDuration=s,this.knockbackDistance=l}return e.prototype.copy=function(){var t=new e;return t.splashDamage=this.splashDamage,t.splashRange=this.splashRange,t.chillDuration=this.chillDuration,t.freezeDuration=this.freezeDuration,t.poison=this.poison.copy(),t.stunDuration=this.stunDuration,t.knockbackDistance=this.knockbackDistance,t},e}());u(B),u(E);e("commonShot",(K=de("commonShot"),N=pe(Boolean),A=pe({type:Boolean,visible:function(){return this.showCommonShotFeaturesInEditor}}),Y=pe({type:Boolean,visible:function(){return this.showCommonShotFeaturesInEditor}}),U=pe({type:[d],visible:function(){return this.showCommonShotFeaturesInEditor}}),X=pe({type:[p],visible:function(){return this.showCommonShotFeaturesInEditor}}),J=pe(f),Q=pe(f),$=pe(Boolean),ee=pe({type:Boolean,visible:function(){return this.showCommonShotFeaturesInEditor}}),K((ne=t((ie=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return(t=e.call.apply(e,[this].concat(o))||this)._objdata=new q,t.material=void 0,t._Golden=!1,t._HighRed=0,t._TotalRGB=0,n(t,"showCommonShotFeaturesInEditor",ne,a(t)),n(t,"particleAtFoot",ae,a(t)),t.YellowIgnited="",t.BlueIgnited="",t.armorKnockSound=!0,t.bodyKnockSound=!0,t.armorProtection=!0,t.onFire=!1,t.damageScale=1,t.footballPush=!1,t.carriedSporeShroom=!1,t.parentLock=!1,t.enemyType=S.zombie,t.maxDistance=1/0,t.size=new c(12,12),t.canDiveUnderHeight0=!1,t._bodyRec=new C,t.splashDamages=[],t.tileLiquid=E.none,t.tileLiquidDuration=0,t.damageType=B.physicle,t.poison=new L(0,0),t.chill=0,t.freeze=0,t.killedZombiesOneHit=[],n(t,"followRotation",oe,a(t)),t.locator=null,t.screenShaker=!1,t.balloonKiller=!1,t.knockbackDistance=0,t.knockbackFly=!0,n(t,"PopSound",se,a(t)),n(t,"PopParticle",le,a(t)),t.originalP=new m(0,0,0),t.JudgesZombieBodyRecForShooter=!1,t.damage=0,t.damageBowlingLevel=0,t.stun=0,t.butter=0,n(t,"popSoundVolume",re,a(t)),n(t,"popSoundCDScale",he,a(t)),n(t,"particleCorrectScale",ce,a(t)),n(t,"particleFollowRotation",ue,a(t)),t.havePeaBuff=!1,t.peaBuff=null,t.targetLocked=null,t.setLine=!0,t.iceblockLevel=0,t.popWaiting=!1,t.canbeJesterReversed=!0,t.detectEnemyOn=!0,t.ignoreDifferentLane=!1,t.acceleration=new g(0,0),t.deceleration=new g(0,0),t._linearVelocity=new g(0,0),t.bodyOmega=0,t.bodyLinearVelocity=0,t.gravity=0,t.FliesHorizontallyWhenBV0=!1,t.plantHeatOnPop=!1,t.detectsEaterDetectDisabledPlants=!1,t.switching=!1,t.popWhenStatic=!0,t.hitsFloorWhenRecHitInsteadOfHeightZero=!1,t.oldPos=new g,t.dead=!1,t}i(t,e);var r=t.prototype;return r.defaultReadObjdata=function(e){var t,i,n,a,o;this.damage=e.Damage,this.damageBowlingLevel=e.DamageBowlingLevel,this.butter=e.ButterDuration,this.stun=e.StunDuration,this.chill=e.ChillDuration,this.freeze=e.FreezeDuration,this.splashDamages=e.SplashDamage.map((function(e){var t=new fe;return t.splashDamage=e.Damage,t.splashRange=new c(e.Range.w,e.Range.h),t.freezeDuration=e.FreezeDuration,t.chillDuration=e.ChillDuration,t.poison=e.Poison?new L(e.Poison.DPS,e.Poison.Duration):new L(0,0),t.knockbackDistance=e.KnockbackDistance,t.stunDuration=e.StunDuration,t.butterDuration=e.ButterDuration,t})),this.armorKnockSound=!e.SuppressArmorImpactSound,this.bodyKnockSound=!e.SuppressZombieImpactSound,this.armorProtection=!e.SupressArmorProtection,this.onFire=e.MeltsIceTile,this.damageScale=e.DamageScale,this.footballPush=e.FootballPush,this.carriedSporeShroom=e.CarriesSporeShroom,this.size=new c(e.Size.w,e.Size.h),this.tileLiquid=(i=E[null==(t=e.TileLiquid)?void 0:t.Type],isNaN(i)&&(i=E.none),i),this.tileLiquidDuration=(a=+(null==(n=e.TileLiquid)?void 0:n.Duration),isNaN(a)&&(a=0),a),this.damageType=(o=B[e.DamageType],isNaN(o)&&(o=B.physicle),o),this.poison=new L(e.Poison.DPS,e.Poison.Duration),this.knockbackDistance=e.KnockbackDistance,this.screenShaker=e.ShakesScreenOnImpact,this.balloonKiller=e.DestroysBalloons,this.iceblockLevel=e.IceBlockLevel,this.canbeJesterReversed=!e.CannotBeReversedByJester,this.plantHeatOnPop=e.WarmsOnImpact,this.detectsEaterDetectDisabledPlants=e.DetectsEaterDetectDisabledPlants,this.YellowIgnited=e.YellowIgnitedType?e.YellowIgnitedType:"",this.BlueIgnited=e.BlueIgnitedType?e.BlueIgnitedType:"",this.knockbackFly=!e.CancelsKnockbackFlying},r.specialOnObjdataSet=function(e){},r.getEnableBatch=function(){this.db.enableBatch=this._HighRed<=0&&this._TotalRGB<=0&&!this.Golden},r.specialOnDisable=function(){},r.copy=function(e,t,i,n,a,o,s,l,r,h){var c=this;void 0===t&&(t=!0),void 0===i&&(i=!0),void 0===n&&(n=!0),void 0===a&&(a=!0),void 0===o&&(o=!0),void 0===s&&(s=!0),void 0===l&&(l=!0),void 0===r&&(r=!0),void 0===h&&(h=!0),this.enemyType=e.enemyType,e.havePeaBuff&&this.addPeaBuff(),t&&(this.damage=e.damage),this.splashDamages=[],e.splashDamages.forEach((function(e){var t=new fe;t.splashDamage=e.splashDamage,t.splashRange=e.splashRange,i&&(t.chillDuration=e.chillDuration),n&&(t.freezeDuration=e.freezeDuration),a&&(t.stunDuration=e.stunDuration),s&&(t.knockbackDistance=e.knockbackDistance),l&&(t.butterDuration=e.butterDuration),r&&(t.poison=e.poison),c.splashDamages.push(t)})),i&&(this.chill=e.chill),n&&(this.freeze=e.freeze),h&&(this.linearVelocity=e.linearVelocity.clone(),this.acceleration=e.acceleration.clone(),this.deceleration=e.deceleration.clone(),this.gravity=e.gravity,this.bodyLinearVelocity=e.bodyLinearVelocity,this.height=e.height),a&&(this.stun=e.stun),o&&(this.tileLiquid=e.tileLiquid,this.tileLiquidDuration=e.tileLiquidDuration),s&&(this.knockbackDistance=e.knockbackDistance),l&&(this.butter=e.butter),r&&(this.poison=e.poison)},r.animationListener=function(e){},r.animationCompleteListener=function(){},r.bodyRec=function(){return this.dead?new C:this._bodyRec},r._setBodyRec=function(e,t){var i=t.clone().add(e.clone().negative()),n=e.clone().add(i.clone().multiplyScalar(.5));this._bodyRec=C.createRectangleCenter(n,Math.abs(i.x)+this.size.width,Math.abs(i.y)+this.size.height)},r.setSplashDamages=function(e){var t=[];e.forEach((function(e){t.push(e.copy())})),this.splashDamages=t},r.setTileLiquid=function(e,t){this.tileLiquid=e,this.tileLiquidDuration=t},r.characterOnSquareChange=function(e,t){var i;if(this.maxDistance--,this.maxDistance<=-1&&this.fade(),this.onFire&&9!=t.cIndex&&-1!=t.cIndex&&t.iceTile)null==(i=t.iceTile)||i.die(),this.pop();else if(this.onFire&&9==t.cIndex&&this.inLane.iceTile){var n;null==(n=this.inLane.iceTile)||n.die(),this.pop()}this.specialOnSquareChange(e,t)},r.specialOnSquareChange=function(e,t){},r.splat=function(e){this.pop()},r.setPoison=function(e,t){this.poison=new L(e,t)},r.setChill=function(e){this.chill=e},r.setFreeze=function(e){this.freeze=e},r.dealSplashDamage=function(e,t,i,n){var a=this;if(void 0===e&&(e=null),void 0===t&&(t=null),void 0===i&&(i=null),void 0===n&&(n=!0),!(!this.inLane||this.lIndex>4||this.lIndex<0)){var o=this.enemyType==S.plant;this.splashDamages.forEach((function(s){if(s.splashRange.width>0&&s.splashRange.height>0){var l=C.createRectangleCenter(new g(a.worldPositionX,a.inLane.midY),s.splashRange.width*x.SquareWidth,s.splashRange.height*x.SquareHeight),r=[],h=[],c=[];x.getAllLane().filter((function(e){return 2*Math.abs(e.LaneIndex-a.lIndex)<=s.splashRange.height})).forEach((function(e){r=r.concat(o?e.hypnoZombiePool():e.zombiePool()),h=h.concat(e.tombPool(o?1:0)),c=c.concat(o?e.plantPool():[])}));var u=new T(s.splashDamage*a.damageScale*(a.havePeaBuff?1.5:1),a.armorProtection,a.armorKnockSound,a.bodyKnockSound,null,a.damageType,!0,!0),d=[];r.forEach((function(e){e&&-1==d.indexOf(e)&&l.judgeCrossRec(e.bodyRecReal)&&d.push(e)})),d.forEach((function(t){t&&t!=e&&a.dealDamageToTarget(t,!1,s,n)})),h.forEach((function(e){if(e&&e!=t&&(s.splashDamage>0&&l.judgeCrossRec(e.bodyRec)&&e.dealDamage(u),e.ID==W.kongfu_TNT)){var i=e;null!=i&&i.ignited&&(a.freeze>0||a.chill>0)&&l.judgeInRecP(i.ropeSideWP)&&(i.ignited=!1)}})),a.dealsSplashToPlants()&&c.forEach((function(e){e&&e!=i&&s.splashDamage>0&&l.judgeCrossRec(e.bodyRec)&&e.dealDamage(u.damage,a.damageType==B.fire?3:2,a.iceblockLevel)}))}}))}},r.dealsSplashToPlants=function(){return!0},r.rotate=function(){if(this.followRotation){var e=this.linearVelocity.clone(),t=Math.abs(this.scale);this.scale=e.x>=0?t:-t;var i=Math.atan2(e.y+this.bodyLinearVelocity,e.x)/Math.PI*180;e.x<0&&(i+=180),this.node.angle=i}},r.hitFloor=function(e,t){void 0===t&&(t=!0),t&&this.dealSplashDamage(),this.specialOnGroundHit(this.inLnC)&&this.pop(),this.height=this.hitsFloorWhenRecHitInsteadOfHeightZero?this.size.height/2:0},r.hitWater=function(){z.spawnWaterSplash(this.lIndex,new m(this._worldPositionX,this._worldPositionY,10)),this.fade()},r.hitSky=function(){this.linearVelocity=new g(0,0),this.acceleration=new g(0,0),this.deceleration=new g(0,0),this.gravity=0,this.fallInSky(!1),this.fade(!1)},r.hitSea=function(){this.defaultHitSea()},r.defaultHitSea=function(){this.linearVelocity=new g(0,0),this.acceleration=new g(0,0),this.deceleration=new g(0,0),z.spawnSeaSplash(this.inLane.LaneIndex,new m(this._worldPositionX,this._worldPositionY,10)),this.fade()},r.hitBorderOrGround=function(e){var t=this.hitsFloorWhenRecHitInsteadOfHeightZero?this.size.height/2:0;if(!this.fallingInSky)if(this.worldPositionX<=0&&this.linearVelocity.x<=0||this.worldPositionX>=1200&&this.linearVelocity.x>=0||this.worldPositionY<=-100&&(this.worldPositionY+this.height_depth<=-100||this.worldPositionY+this.height_depth>=700)&&this.linearVelocity.y<=0||this.worldPositionY>=700&&this.linearVelocity.y>=0)this.fade();else if(this.height<=t){var i;this.height=t;var n=null==(i=this.inLnC)?void 0:i.getTileType();n==H.sky?this.hitSky():n==H.sea?this.hitSea():n==H.water?this.hitWater():this.hitFloor(e)}else this.height>800&&this.gravity<=0&&this.bodyLinearVelocity>0&&this.fade()},r.specialOnGroundHit=function(e){return!0},r.setKnockBack=function(e){return this.knockbackDistance=e,this},r.setDamage=function(e){return this.damage=e,this},r.setDamageBowlingLevel=function(e){return this.damageBowlingLevel=e,this},r.setStun=function(e){return this.stun=e,this},r.setButter=function(e){return this.butter=e,this},r.playPopSound=function(){M.playArray(this.PopSound,this.popSoundVolume,NaN,this.popSoundCDScale),this.screenShaker&&I.shakeScreen()},r.onParticleSpawned=function(e){},r.playParticle=function(){if(this.PopParticle.length){var e=D.instantiatePooly(w.getRandom(this.PopParticle));e.parent=this.node.parent;var t=e.getComponent(Z),i=this.realWorldPosition;if(e.setWorldPosition(this.particleAtFoot?new m(this._worldPositionX,this._worldPositionY):new m(i.x,i.y)),t&&(t.HighRed=this.HighRed,this.onParticleSpawned(t)),this.particleCorrectScale){var n=this._scaleForCharacter;if(this.followRotation)e.scale=new m(n,Math.abs(n),1),this.particleFollowRotation&&(e.angle=this.node.angle);else{var a=this.linearVelocity.x>0?1:-1;e.scale=new m(n*a,n,1)}}}},r.characterOnLoad=function(){this.db.on(y.EventObject.FRAME_EVENT,this.animationListener,this),this.db.on(y.EventObject.LOOP_COMPLETE,this.animationCompleteListener,this);var e=new b;e.initialize({effectAsset:j.addColorEffect,defines:{USE_TEXTURE:!0}}),this.material=e},r.addPeaBuff=function(){this.havePeaBuff||this.peaBuff||(this.havePeaBuff=!0,this.peaBuff=D.instantiatePooly(z.prjPeaBuff()),this.peaBuff.parent=this.node)},r.shouldMaterial=function(){var e=new v(0,0,0,1),t=this.material.passes[0].getHandle("addColor");this.material.passes[0].setUniform(t,e);var i=this.material.passes[0].getHandle("goldColor");this.material.passes[0].setUniform(i,this.Golden?1:0);var n=this.material.passes[0].getHandle("TotalRGB");this.material.passes[0].setUniform(n,this.TotalRGB);var a=this.material.passes[0].getHandle("HighRed");this.material.passes[0].setUniform(a,this.HighRed),this.db.customMaterial=this.material},r.initialize=function(){this.popWaiting=!1,this.locator=null,this.maxDistance=1/0,this.gravity=0,this.Golden=!1,this.scale=1,this.HighRed=0,this.TotalRGB=0,this.killedZombiesOneHit=[],this.ignoreDifferentLane=!1,this.JudgesZombieBodyRecForShooter=!1,this.detectEnemyOn=!0,this.switching=!1,this._setBodyRec(new g,new g),this.dead=!1,this.parentLock=!1,-1!=this.db.armature().animation.animationNames.indexOf("Idle")&&this.db.playAnimation("Idle")},r.setLockParent=function(e){this.inLane&&this.inLane.deletePlantPrj(this);var t=x.getLane(e);this.node.setParent(t.prjLayer,!0),t.addPlantPrj(this),this.inLane=t,this.parentLock=!0},r.specialOnLaneChange=function(e,t){},r.moveFromLaneToLane=function(e,t){null==e||e.deletePlantPrj(this),null==t||t.addPlantPrj(this)},r.characterOnLaneChange=function(e,t){this.parentLock||(this.node.setParent(t.prjLayer,!0),(null==e?void 0:e.LaneIndex)<(null==t?void 0:t.LaneIndex)&&this.node.setSiblingIndex(0),this.moveFromLaneToLane(e,t)),this.specialOnLaneChange(e,t)},r.characterOnEnable=function(){this.initialize()},r.characterOnDisable=function(){var e;this.locator&&(this.locator.willBeKilled=!0,this.locator.db.playAnimation("Die",1)),this.targetLocked=null,null==(e=this.inLane)||e.deletePlantPrj(this),this.specialOnDisable()},r.fade=function(e){void 0===e&&(e=!0),this.dead=e,this._setBodyRec(new g,new g),this.targetLocked=null,this.acceleration=new g,this.deceleration=new g,this.onFaded(),this.havePeaBuff&&this.peaBuff&&(this.havePeaBuff=!1,D.destroyPooly(this.peaBuff),this.peaBuff=null)},r.onFaded=function(){},r.dealZombiesPoint=function(){if(I.CannonMinigameProps){var e=this.killedZombiesOneHit.length,t=I.CannonMinigameProps.BaseZombieKillScore,i=NaN;I.CannonMinigameProps.ComboBrackets.forEach((function(t,n){e>=t.ZombiesKilled&&(i=n)}));var n=I.CannonMinigameProps.ComboBrackets[i];if(n){t*=n.ScoreMultiplier;var a=new P(n.MessageColor.mRed,n.MessageColor.mGreen,n.MessageColor.mBlue,n.MessageColor.mAlpha),o=e.toString()+_.getDirectQuote("[CANNON_COMBO_TAIL]"),s=_.getDirectQuote(w.getRandom(n.Exclamations));z.playPointShower(s,new g(this.worldPositionX,this.worldPositionY-20*Math.random()),new g(0,20*-Math.random()),new g(.4,1),new g(a.a,0),new g(.5+.5*Math.random(),1),a,!0),z.playPointShower(o,new g(this.worldPositionX,this.worldPositionY+50+30*Math.random()),new g(0,20*Math.random()),new g(.7,1.8),new g(a.a,0),new g(.5+.5*Math.random(),1),a,!0)}var l=(this.enemyType==S.plant?V.hypnoPool():V.pool()).concat(),r=I.CannonMinigameProps.SlowdownMovementRate*Math.random()/60;this.killedZombiesOneHit.forEach((function(e){var i,n,a=e.dropPoint(t);null==a||null==(i=a.node)||i.setSiblingIndex(0),null==(n=I.component)||n.addCannonPoint(t),l.forEach((function(t){t.spawnLane==e.spawnLane&&t.spawnedWave==e.spawnedWave&&t.setStun(r)}))}))}},r.onPop=function(){var e=s(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),r.pop=function(){var e=s(l().mark((function e(){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.plantHeatOnPop&&(null==(t=this.inLnC)||t.plantHeat(new F)),this.tileLiquid>0&&this.tileLiquidDuration>0&&(this.judgeInLnC(),this.inLnC.addTileLiquid(this.tileLiquid,this.tileLiquidDuration)),this.playParticle(),this.playPopSound(),this.popWaiting=!0,e.next=7,this.onPop();case 7:this.dealZombiesPoint(),this.fade(),this.popWaiting=!1;case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),r.onDamageOnZombie=function(e,t){},r.dealDamageToTarget=function(e,t,i,n){void 0===t&&(t=!0),void 0===i&&(i=null),void 0===n&&(n=!0);var a=null;if(n&&(this.particleAtFoot&&this.damage>=40?a=new g(e._worldPositionX-this._worldPositionX,e.zombieHeight).normalize().multiplyScalar(23+6*Math.random()):this.gravity>0&&this.damage>=40&&(a=new g(this.linearVelocity.x,this.bodyLinearVelocity))),i||(i=new fe(this.damage,new c,this.chill,this.freeze,this.butter,this.poison,this.stun,this.knockbackDistance)),t&&this.dealSplashDamage(e),e.knockBackable&&i.knockbackDistance&&(e.objdataOwnOrg.CannotBeKnockedBackByProjectiles?e.setStun(.5):e.knockBackBy(new g(i.knockbackDistance*(this.linearVelocity.x>0?1:-1),0),this.knockbackFly,.2,!1,!1)),i.stunDuration&&e.setStun(i.stunDuration),i.butterDuration>0&&e.setButter(i.butterDuration),this.carriedSporeShroom&&!e.ImmuneToSporeShroom&&(e.CarriedSporeShroom=!0),i.poison.isValid()&&e.setPoison(i.poison.DPS,i.poison.duration),i.chillDuration>0&&e.setChill(i.chillDuration),i.freezeDuration>0&&e.setFreeze(i.freezeDuration),i.splashDamage>0){var o=new T(i.splashDamage*this.damageScale*(this.havePeaBuff?1.5:1),this.armorProtection,this.armorKnockSound,this.bodyKnockSound,a,this.damageType,!0,!0);this.HighRed>0&&(o.shockRGB=1),this.balloonKiller&&(o.balloonKiller=!0),this.damageBowlingLevel>0?(e.dealDamageAccordingToBowlingLevel(this.damageBowlingLevel,o),e.isAlive()||this.killedZombiesOneHit.push(e)):(e.dealDamage(o),e.isAlive()||this.killedZombiesOneHit.push(e))}this.onDamageOnZombie(e,t)},r.dealDamageToPlant=function(e){var t=e.onCommonshotHit(this);return t&&(this.onPlantHit(e),this.footballPush?this.linearVelocity.x>0?O.pushPlantRight(e,this.damage*this.damageScale,.5):O.pushPlantLeft(e,this.damage*this.damageScale,.5):e.dealDamage(this.damage*this.damageScale,this.damageType==B.fire?3:this.bodyLinearVelocity<0?1:2,this.iceblockLevel)),t},r.onPlantHit=function(e){},r.beforeZombieHit=function(e){},r.onZombieHit=function(e){},r.onTombHit=function(e){},r.detectEnemyNormal=function(e){var t,i=this;if(this.inLane&&this.detectEnemyOn){null!=(t=this.targetLocked)&&null!=(t=t.getComponent(R))&&t.dead&&(this.targetLocked=null);var n=this.bodyRec();if(this.enemyType==S.zombie||this.enemyType==S.plant){var a,o,s,l=null,r=1/0,h=-1/0,c=this.enemyType==S.zombie?null==(a=this.inLane)?void 0:a.zombiePool():null==(o=this.inLane)?void 0:o.hypnoZombiePool();this.ignoreDifferentLane&&(c=this.enemyType==S.zombie?V.pool().concat():V.hypnoPool().concat()),null==(s=c)||s.forEach((function(e){var t;if(!i.targetLocked||(null==(t=l)?void 0:t.node)!=i.targetLocked){var a=i.JudgesZombieBodyRecForShooter?e.bodyRecForShooter:e.bodyRec,o=a.prjX();i.targetLocked&&e.node!=i.targetLocked||null==a||!a.judgeCrossRec(n)||(!l||i.linearVelocity.x>=0&&o.x<r||i.linearVelocity.x<0&&o.y>h)&&(l=e,r=o.x,h=o.y)}}));var u=new T(this.damage*this.damageScale*(this.havePeaBuff?1.5:1),this.armorProtection,this.armorKnockSound,this.bodyKnockSound,null,this.damageType,!0,!0);if(l){l.commonShotPopOnTouch(this)&&(this.beforeZombieHit(l),this.dealDamageToTarget(l),this.onZombieHit(l),this.pop())}else{var d,p=null;null==(d=this.inLane)||d.tombPool(this.enemyType==S.plant?1:0).forEach((function(e){e.bodyRec.judgeCrossRec(n)&&(!i.targetLocked||i.targetLocked&&e.node==i.targetLocked)&&(p=e)})),p&&(p.dealDamage(u),this.onTombHit(p),this.dealSplashDamage(null,p),this.pop())}}this.enemyType==S.plant&&this.detectPlant(e,n)}},r.detectPlant=function(e,t){var i,n=this;null==(i=this.inLane)||i.plantPool().forEach((function(e){if(!n.dead){var i=n.iceblockLevel>0?e.bodyRecForSnowball:e.realBodyRec;if((e.eaterDetectable||n.detectsEaterDetectDisabledPlants)&&t.judgeCrossRec(i)&&(!n.targetLocked||n.targetLocked&&e.node==n.targetLocked)){var a=n.bodyLinearVelocity<0&&e.haveUmbrellaNearby();n.dealDamageToPlant(e)&&(a||n.dealSplashDamage(null,null,e),n.pop())}}}))},r.detectEnemy=function(e){this.detectEnemyNormal(e)},r.onLinearVelocitySet=function(e){},r.specialPopWhenStatic=function(){return!1},r.move=function(e){if(!this.popWhenStatic&&!this.specialPopWhenStatic()||0!=this.linearVelocity.x||0!=this.linearVelocity.y||0!=this.gravity||0!=this.bodyLinearVelocity){var t=this.realWorldPosition.clone(),i=60*e,n=60*e,a=this.worldPosition,o=this.height,s=this.linearVelocity.clone(),l=this.bodyLinearVelocity,r=this.bodyLinearVelocity;if(this.bodyLinearVelocity-=this.gravity*n,this.bodyLinearVelocity*r<=0&&this.FliesHorizontallyWhenBV0&&(this.bodyLinearVelocity=0,this.gravity=0),0!=this.acceleration.x||0!=this.acceleration.y){var h=this.linearVelocity.clone().add(this.acceleration.clone().multiplyScalar(60*e));Math.abs(h.x)<Math.abs(this.linearVelocity.x)&&(h.x=this.linearVelocity.x),Math.abs(h.y)<Math.abs(this.linearVelocity.y)&&(h.y=this.linearVelocity.y),this.linearVelocity=h}if(0!=this.deceleration.x||0!=this.deceleration.y){var c=this.linearVelocity.clone().add(this.deceleration.clone().multiplyScalar(60*e));c.x*this.linearVelocity.x<=0?c.x=0:Math.abs(c.x)>Math.abs(this.linearVelocity.x)&&(c.x=this.linearVelocity.x),c.y*this.linearVelocity.y<=0?c.y=0:Math.abs(c.y)>Math.abs(this.linearVelocity.y)&&(c.y=this.linearVelocity.y),this.linearVelocity=c}var u=I.FluidDragCoefficient;if(u){var d=this.linearVelocity.toVec3();d.z=this.bodyLinearVelocity;var p=d.clone().multiplyScalar(-u*i);this.bodyLinearVelocity+=p.z,this.linearVelocity.add(p.toVec2()),d.subtract(p)}var f=this.linearVelocity.clone().add(s).multiplyScalar(.5),m=(this.bodyLinearVelocity+l)/2;this.worldPosition=new g(a.x+f.x*i,a.y+f.y*i);var y=o+m*i;this.height=this.canDiveUnderHeight0?y:Math.max(y,this.hitsFloorWhenRecHitInsteadOfHeightZero?this.size.height/2:0);var b=this.realWorldPosition.clone();this._setBodyRec(t,b),this.onMoving(t,b,e),this.oldPos=b}else this.pop()},r.onMoving=function(e,t,i){},r.specialUpdate=function(e){},r.characterUpdate=function(e){this.shouldMaterial(),this.dead||this.fallingInSky||this.popWaiting||(this.rotate(),this.switching||this.move(e),this.detectEnemy(e),this.hitBorderOrGround(e),this.specialUpdate(e)),this.dealOmega(e)},r.dealOmega=function(e){this.bodyOmega&&(this.node.angle+=60*this.bodyOmega*e)},r.characterLateUpdate=function(){var e;this.dead&&(null==(e=this.inLane)||e.deletePlantPrj(this),D.destroyPooly(this.node))},o(t,[{key:"objdataOwn",get:function(){return this._objdata}},{key:"objdata",get:function(){return this._objdata},set:function(e){var t=this._objdata;Object.getOwnPropertyNames(t).forEach((function(i){null==e[i]&&(e[i]=t[i])})),e.SplashDamage.forEach((function(e){var t=new G;Object.getOwnPropertyNames(e).forEach((function(i){null==e[i]&&(e[i]=t[i])}))})),e.Poison||(e.Poison={DPS:0,Duration:0}),this._objdata=e,this.defaultReadObjdata(e),this.specialOnObjdataSet(e)}},{key:"Golden",get:function(){return this._Golden},set:function(e){this._Golden=e,this.getEnableBatch()}},{key:"TotalRGB",get:function(){return this._TotalRGB},set:function(e){this._TotalRGB=e,this.getEnableBatch()}},{key:"HighRed",get:function(){return this._HighRed},set:function(e){this._HighRed=e,this.getEnableBatch()}},{key:"linearVelocity",get:function(){return this._linearVelocity},set:function(e){this._linearVelocity=e,this.onLinearVelocitySet(e)}}]),t}(k)).prototype,"showCommonShotFeaturesInEditor",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ae=t(ie.prototype,"particleAtFoot",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),oe=t(ie.prototype,"followRotation",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),se=t(ie.prototype,"PopSound",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),le=t(ie.prototype,"PopParticle",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),re=t(ie.prototype,"popSoundVolume",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),he=t(ie.prototype,"popSoundCDScale",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.4}}),ce=t(ie.prototype,"particleCorrectScale",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ue=t(ie.prototype,"particleFollowRotation",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),te=ie))||te));r._RF.pop()}}}));

System.register("chunks:///_virtual/Conveyor.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SoundRescourses.ts","./SoundsController.ts","./Plants.ts","./CharacterManager.ts","./CardFeatureTotal.ts","./NodePools.ts","./Droppings.ts","./cardSelectAlmanac.ts","./UI.ts","./levelController.ts","./KeyListener.ts"],(function(t){var e,n,o,i,a,r,s,l,c,u,h,d,p,f,y,v,C,w,g,m,P,S,b,M,x,V,D,_,k,E,O,L,T,I;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.initializerDefineProperty,o=t.inheritsLoose,i=t.assertThisInitialized,a=t.createClass,r=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){l=t.cclegacy,c=t._decorator,u=t.Node,h=t.dragonBones,d=t.Vec3,p=t.AudioClip,f=t.tween,y=t.input,v=t.Input,C=t.AudioSource,w=t.EventMouse,g=t.KeyCode,m=t.Vec2,P=t.Component},function(t){S=t.sounds},function(t){b=t.SoundFXController},function(t){M=t.PlantEnum,x=t.plants},function(t){V=t.PlantPool},function(t){D=t.CardFeatureTotal},function(t){_=t.destroyPooly,k=t.NodePools},function(t){E=t.droppings},function(t){O=t.cardSelectAlmanac},function(t){L=t.UIInGame},function(t){T=t.LevelPlay},function(t){I=t.KeyListener}],execute:function(){var F,A,B,W,z,K,U,N,R,G,q,H,X,j,Q,Y,Z,J,$,tt,et,nt,ot,it,at,rt,st,lt,ct,ut,ht;l._RF.push({},"0294doUe4ZF+59/PPrQglV6","Conveyor",void 0);var dt=c.ccclass,pt=c.property,ft=(t("ConveyorDropDelayCondition",(function(){this.Delay=0,this.MaxPackets=100})),t("ConveyorPlant",(function(){this.MaxCount=1/0,this.MaxWeightFactor=1,this.MinCount=-1,this.MinWeightFactor=1,this.PlantType=M.Peashooter,this.Weight=15,this.ForceBoosted=!1,this.PPBoosted=!1,this.MaxCountCooldownSeconds=0,this._MaxCountCooldownLeftSeconds=0,this.MinCountCooldownSeconds=0,this.MaxDelivered=1/0,this._MinCountCooldownLeftSeconds=0})),t("ConveyorSpeedCondition",(function(){this.MaxPackets=0,this.Speed=100})),F=dt("Slot In Conveyor"),A=pt(u),F((z=e((W=function(){this.card=null,n(this,"slot",z,this)}).prototype,"slot",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=W))||B);t("Conveyor",(K=dt("Conveyor"),U=pt(h.ArmatureDisplay),N=pt(h.ArmatureDisplay),R=pt(h.ArmatureDisplay),G=pt(ft),q=pt(ft),H=pt(ft),X=pt(u),j=pt(u),Q=pt(u),Y=pt(u),Z=pt(u),K(((ht=function(t){function e(){for(var e,o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))||this).dropDelayConditions=[],e.dropCountdown=0,e.plantList=[],e.speedConditions=[],n(e,"conveyor1",tt,i(e)),n(e,"conveyor2",et,i(e)),n(e,"conveyorVert",nt,i(e)),n(e,"lane1slots",ot,i(e)),n(e,"lane2slots",it,i(e)),n(e,"laneVertslots",at,i(e)),n(e,"lane1",rt,i(e)),n(e,"lane2",st,i(e)),n(e,"laneVert",lt,i(e)),n(e,"cards",ct,i(e)),n(e,"cardsVert",ut,i(e)),e.shown=!1,e.shown_auto=!1,e.audioSource=null,e.autoHide=!1,e.oldPos=new d,e.willKeychooseCard=void 0,e}o(e,t),e.createConveyor=function(){};var l=e.prototype;return l.show_auto=function(){this.shown_auto||(S.playConveyorArrive(),this.audioSource.clip.loadMode=p.AudioType.DOM_AUDIO,this.audioSource.play(),this.shown_auto=!0,f(this.node).to(.4,{position:this.oldPos},{easing:"quadOut"}).start())},l.show=function(){this.shown||(S.playConveyorArrive(),this.audioSource.clip.loadMode=p.AudioType.DOM_AUDIO,this.audioSource.play(),this.shown=!0,this.shown_auto=!0,f(this.node).to(.4,{position:this.oldPos},{easing:"quadOut"}).start())},l.hide_auto=function(){this.shown_auto&&(this.audioSource.stop(),this.shown_auto=!1,f(this.node).by(.4,{position:new d(this.isVertical?-200:0,this.isVertical?0:200,0)},{easing:"quadIn"}).start())},l.hide=function(){this.shown&&(this.audioSource.stop(),this.shown=!1,this.shown_auto=!1,f(this.node).by(.4,{position:new d(this.isVertical?-200:0,this.isVertical?0:200,0)},{easing:"quadIn"}).start())},l.start=function(){y.on(v.EventType.KEY_DOWN,this.onKeyDown,this)},l.addCard=function(t){this.plantList.push(t)},l.removeCard=function(t){var e=this;this.plantList.concat().forEach((function(n){if(n.PlantType==t){var o=e.plantList.indexOf(n);-1!=o&&e.plantList.splice(o,1)}}))},l.onLoad=function(){this.dropCountdown=1/60,this.audioSource=this.getComponent(C),this.shown=!1,e.component=this,this.node.position=this.isVertical?new d(-237,-315,0):new d(0,0,0),this.oldPos=this.node.position.clone(),this.isVertical?(this.conveyor1.node.active=this.conveyor2.node.active=!1,this.conveyorVert.node.active=!0,this.lane1.parent.active=this.lane2.parent.active=!1,this.laneVert.parent.active=!0,this.cards.active=!1,this.cardsVert.active=!0):(this.conveyor1.node.active=this.conveyor2.node.active=!0,this.conveyorVert.node.active=!1,this.lane1.parent.active=this.lane2.parent.active=!0,this.laneVert.parent.active=!1,this.cards.active=!0,this.cardsVert.active=!1),this.node.position.add3f(this.isVertical?-1e3:0,this.isVertical?0:1e3,0)},l.spliceCard=function(t){var e=this;if(null!=t){var n=!1;if(this.lane1slots.forEach((function(o){n||t==o.card&&(o.card.node.off(u.EventType.MOUSE_DOWN,e.cardMouseDown,e),_(o.card.node),o.card=null,n=!0)})),this.lane2slots.forEach((function(o){n||t==o.card&&(o.card.node.off(u.EventType.MOUSE_DOWN,e.cardMouseDown,e),_(o.card.node),o.card=null,n=!0)})),this.laneVertslots.forEach((function(o){n||t==o.card&&(o.card.node.off(u.EventType.MOUSE_DOWN,e.cardMouseDown,e),_(o.card.node),o.card=null,n=!0)})),n){T.component.conveyorOnPlantSpliced(this,t.ID);for(var o=0;o<this.lane1slots.length-1;o++)!this.lane1slots[o].card&&this.lane1slots[o+1].card&&(this.lane1slots[o].card=this.lane1slots[o+1].card,this.lane1slots[o+1].card=null);for(var i=0;i<this.lane2slots.length-1;i++)!this.lane2slots[i].card&&this.lane2slots[i+1].card&&(this.lane2slots[i].card=this.lane2slots[i+1].card,this.lane2slots[i+1].card=null);for(var a=0;a<this.laneVertslots.length-1;a++)!this.laneVertslots[a].card&&this.laneVertslots[a+1].card&&(this.laneVertslots[a].card=this.laneVertslots[a+1].card,this.laneVertslots[a+1].card=null);this.dropCountdown=Math.min(this.dropCountdown,this.getDelay()),this.willKeychooseCard=null}}},l.getCards=function(){var t=[];return this.isVertical?this.laneVertslots.forEach((function(e){e.card&&t.push(e.card)})):this.lane1slots.concat(this.lane2slots).forEach((function(e){e.card&&t.push(e.card)})),t},l.chooseCard=function(t,e){L.component.currentFreeSeedPacket!=t?(L.component.currentFreeSeedPacket&&(L.component.currentFreeSeedPacket.getComponent(O).index=0),L.component.index=-1,L.component.tryChangingIndex(-1),L.component.currentFreeSeedPacket=t,e.index=1,L.component.tryChangingIndex(8),this.willKeychooseCard=t):(L.component.index=-1,L.component.tryChangingIndex(-1))},l.sendPlant=function(){var t=r(s().mark((function t(e,n,o,i){var a,r,l,c,h,d,p;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null==e){t.next=28;break}x.loadPlantsInCard(e),a=this.lane2slots,r=this.lane2,this.isVertical?(a=this.laneVertslots,r=this.laneVert):1==n&&(a=this.lane1slots,r=this.lane1),l=null,c=0;case 7:if(!(c<a.length)){t.next=14;break}if(null!=a[c].card){t.next=11;break}return l=a[c],t.abrupt("break",14);case 11:c++,t.next=7;break;case 14:if(l){t.next=16;break}return t.abrupt("return");case 16:(h=k.instantiatePooly(E.PlantSeedPacket)).parent=this.isVertical?this.cardsVert:this.cards,h.worldPosition=r.worldPosition,(d=h.getComponent(D)).PP_BOOSTED=i,d.FORCE_BOOSTED=o,d.cardGrouper(e),(p=d.getComponent(O)).free=!0,p.suncostShown=!1,l.card=d,h.on(u.EventType.MOUSE_DOWN,this.cardMouseDown,this);case 28:case"end":return t.stop()}}),t,this)})));return function(e,n,o,i){return t.apply(this,arguments)}}(),l.cardMouseDown=function(t){if(t.getButton()==w.BUTTON_LEFT){var e=t.currentTarget.getComponent(O),n=e.getComponent(D);this.chooseCard(n,e)}else t.getButton()==w.BUTTON_RIGHT&&L.component.tryChangingIndex(-1)},l.getRandomPlantByWeight=function(){var t=r(s().mark((function t(e,n){var o,i,a,r,l,c,u,h,d,p=this;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:o=null,i=[],a=0,r=V.pool().concat(),l=this.plantList.concat(),this.plantList.forEach((function(t){var e=p.getPlantWeight(t,r);a+=e,i.push(a)})),c=Math.random()*a,u=0;case 8:if(!(u<i.length)){t.next=23;break}if(!(c<i[u])){t.next=20;break}return h=l[u],o=null==h?void 0:h.PlantType,h._MaxCountCooldownLeftSeconds=h.MaxCountCooldownSeconds,h._MinCountCooldownLeftSeconds=h.MinCountCooldownSeconds,h.MaxDelivered--,t.next=17,this.sendPlant(o,e<=n?1:2,null==h?void 0:h.ForceBoosted,null==h?void 0:h.PPBoosted);case 17:return h.MaxDelivered<=0&&-1!=(d=this.plantList.indexOf(h))&&this.plantList.splice(d,1),this.dropCountdown=this.getDelay(),t.abrupt("break",23);case 20:u++,t.next=8;break;case 23:null==o&&(this.dropCountdown=1/60);case 24:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}(),l.getPlantWeight=function(t,e){if(t){var n=x.registerPlant(t.PlantType,0).amount;n<t.MaxCount&&this.lane1slots.concat(this.lane2slots,this.laneVertslots).forEach((function(e){var o;(null==e||null==(o=e.card)?void 0:o.ID)==t.PlantType&&n++}));var o=t.Weight+0;return n>=t.MaxCount&&(t._MaxCountCooldownLeftSeconds>0?o=0:o*=t.MaxWeightFactor),n<=t.MinCount&&(t._MinCountCooldownLeftSeconds>0?o=0:o*=t.MinWeightFactor),o}},l.getDelay=function(){var t,e=0;this.lane1slots.concat(this.lane2slots,this.laneVertslots).forEach((function(t){t.card&&e++}));var n=this.dropDelayConditions;if(e>=10||null==(t=n)||!t.length)return 1/0;(n=n.concat().sort((function(t,e){return e.MaxPackets-t.MaxPackets})))||(n=[]);for(var o=0;o<n.length;o++){var i,a=null==(i=n[o])?void 0:i.MaxPackets;if(e>=a){var r=n[o].Delay;return r||(r=5),r}}return n[n.length-1].Delay},l.getSpeed=function(){if(!T.gameStarted||T.component.gameWon)return 0;var t=0;this.lane1slots.concat(this.lane2slots,this.laneVertslots).forEach((function(e){e.card&&t++}));this.autoHide&&(this.shown_auto&&t<=0?this.hide_auto():!this.shown_auto&&t>0&&this.show_auto());var e=100;return this.speedConditions.forEach((function(n){t>n.MaxPackets&&0<=n.MaxPackets&&(e=n.Speed)})),e},l.onKeyDown=function(t){if(this.shown){var e=I.KeyBinds,n=t.keyCode==g[e.Game_ConveyorBackward],o=t.keyCode==g[e.Game_ConveyorForward];if(n||o){var i=this.getCards();if(0==i.length)return;if(8!=L.index)this.willKeychooseCard?this.chooseCard(this.willKeychooseCard,this.willKeychooseCard.getComponent(O)):this.chooseCard(i[0],i[0].getComponent(O));else if(this.willKeychooseCard){var a=i.indexOf(this.willKeychooseCard);n?a--:o&&a++,a<0?a=i.length-1:a%=i.length,this.chooseCard(i[a],i[a].getComponent(O))}}}},l.sendOnePlantImmediately=function(){var t=r(s().mark((function t(){var e,n;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=0,this.lane1slots.forEach((function(t){t.card&&e++})),n=0,this.lane2slots.forEach((function(t){t.card&&n++})),this.dropCountdown=1/0,t.next=7,this.getRandomPlantByWeight(e,n);case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),l.updateAccurately=function(t,e){if(!this.shown)return this.conveyor1.timeScale=0,this.conveyor2.timeScale=0,void(this.conveyorVert.timeScale=0);e>0&&!T.component.isCowboyMinigame&&(this.dropCountdown>0&&(this.dropCountdown-=t),this.shown&&this.dropCountdown<=0&&this.sendOnePlantImmediately()),this.plantList.forEach((function(e){e._MaxCountCooldownLeftSeconds-=t,e._MinCountCooldownLeftSeconds-=t}))},l.update=function(t){var e=this.getSpeed();this.audioSource.volume=b.SoundFXVolume*Math.min(.1,.05*e/100);for(var n=t;n>0;){var o=Math.min(this.dropCountdown,1/60,n);n-=o,this.updateAccurately(o,e)}this.conveyorVert.timeScale=e/90,this.conveyor1.timeScale=this.conveyor2.timeScale=e/76,e>0&&this.lane1slots.concat(this.lane2slots,this.laneVertslots).forEach((function(n){if(null!=n.card){var o=n.card.node.worldPosition.clone(),i=new m(n.slot.worldPosition.x-o.x,n.slot.worldPosition.y-o.y),a=t*e/1.35;i.length()>a?n.card.node.worldPosition=o.add(i.toVec3().normalize().multiplyScalar(a)):n.card.node.worldPosition=n.slot.worldPosition.clone()}}))},a(e,[{key:"isVertical",get:function(){return L.PocketUI}}]),e}(P)).component=void 0,tt=e(($=ht).prototype,"conveyor1",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),et=e($.prototype,"conveyor2",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),nt=e($.prototype,"conveyorVert",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ot=e($.prototype,"lane1slots",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),it=e($.prototype,"lane2slots",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),at=e($.prototype,"laneVertslots",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),rt=e($.prototype,"lane1",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),st=e($.prototype,"lane2",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),lt=e($.prototype,"laneVert",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ct=e($.prototype,"cards",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ut=e($.prototype,"cardsVert",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=$))||J));l._RF.pop()}}}));

System.register("chunks:///_virtual/CowboyBasicZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./SoundManager.ts","./ArrayGet.ts"],(function(n){var t,i,e,a,o,r,s,h,c,l,p,u,d,g,b;return{setters:[function(n){t=n.applyDecoratedDescriptor,i=n.inheritsLoose,e=n.initializerDefineProperty,a=n.assertThisInitialized,o=n.createClass},function(n){r=n.cclegacy,s=n._decorator,h=n.Prefab,c=n.CCFloat,l=n.Vec3,p=n.dragonBones},function(n){u=n.Zombie,d=n.ZombieProps},function(n){g=n.SoundManager},function(n){b=n.ArrayGet}],execute:function(){var y,f,m,w,H,v,D;r._RF.push({},"05629xIOKpOB4rSKMfv4RIu","CowboyBasicZombie",void 0);var L=s.ccclass,C=s.property,S=function(n){function t(){for(var t,i=arguments.length,e=new Array(i),a=0;a<i;a++)e[a]=arguments[a];return(t=n.call.apply(n,[this].concat(e))||this).DanceSPSScale=1.2,t}return i(t,n),t}(d);n("CowboyBasicZombie",(y=L("CowboyBasicZombie"),f=C(h),m=C(c),y((v=t((H=function(n){function t(){for(var t,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return(t=n.call.apply(n,[this].concat(o))||this)._objdataOwn=new S,t._objdataOwnOrg=new S,e(t,"zombieHat",v,a(t)),e(t,"dropHatHitPoint",D,a(t)),t._dancing=!1,t._haveHat=!0,t.oldPianoCountUp=0,t.laneChangeCD=7,t}i(t,n);var r=t.prototype;return r.walkSpeedScaleExtra=function(){return this._dancing?this._objdataOwnOrg.DanceSPSScale:1},r.specialZombieOnLoad=function(){},r.onArmorAdded=function(n){this.haveHat=!1},r.playSpecialZombieDieForced=function(){this.haveHat&&this.dropHat()},r.specialAlmanac=function(n){this.armors.length<=0?this.haveHat=!0:this.haveHat=!1},r.specialZombieOnEnable=function(){this.isWalking=!1,this.cowboyDancing=!1,this.detectPlant(.01),this.armors.length<=0?this.haveHat=!0:this.haveHat=!1},r.dropHat=function(){var n;null==(n=this.drop(this.zombieHat,this.zombieHeight,new l(this.shadeSocket.worldPosition.x,this._worldPositionY,0),null,this.inLane.zombieLayer).node)||n.setSiblingIndex(this.node.getSiblingIndex()-1),this.haveHat=!1},r.onDamaged=function(n,t,i){this.haveHat&&n>this.dropHatHitPoint&&t<=this.dropHatHitPoint&&this.dropHat()},r.switchUpperOrLower=function(){var n=this.inLane,t=[];(!n.UpperLane.isSea||this.cIndex<5)&&n.UpperLane.LaneIndex>=0&&t.push(n.UpperLane.LaneIndex),(!n.LowerLane.isSea||this.cIndex<5)&&n.LowerLane.LaneIndex<=4&&t.push(n.LowerLane.LaneIndex),t.length&&this.changeLaneTo(b.getRandom(t),.75)},r.specialZombieUpdate=function(n,t,i){if(this.cowboyDancing&&(g.component.pianoCountDown<=0||!this.enteredLawn||this.hypnotized)?this.cowboyDancing=!1:!this.cowboyDancing&&g.component.pianoCountDown>0&&this.enteredLawn&&!this.hypnotized&&(this.cowboyDancing=!0),this.cowboyDancing&&n>0){var e=g.component.pianoCountUp,a=Math.floor(this.oldPianoCountUp/this.laneChangeCD);Math.floor(e/this.laneChangeCD)!=a&&this.switchUpperOrLower(),this.oldPianoCountUp=g.component.pianoCountUp}},o(t,[{key:"haveHat",get:function(){return this._haveHat},set:function(n){var t;this.db||(this.db=this.getComponentInChildren(p.ArmatureDisplay)),null==this||null==(t=this.db)||null==(t=t._armature)||null==(t=t.getSlot("hat_HEAD"))||t._setDisplayIndex(n?0:-1),this._haveHat=n}},{key:"anmSpeed",get:function(){return.33*(this._dancing?.9:1)}},{key:"cowboyDancing",get:function(){return this._dancing},set:function(n){this.body.WalkAnm=n?"Dance":"Walk",this.isWalking&&(this.switching=!0,n&&!this._dancing?(this.isWalking=!1,this.body.playAnimation("DanceStart",1)):!n&&this._dancing&&(this.isWalking=!1,this.body.playAnimation("DanceEnd",1))),this._dancing=n}}]),t}(u)).prototype,"zombieHat",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(H.prototype,"dropHatHitPoint",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 150}}),w=H))||w));r._RF.pop()}}}));

System.register("chunks:///_virtual/CowboyBullZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CharacterManager.ts","./ArrayGet.ts","./GargantuarZombie.ts","./Zombies.ts","./SoundRescourses.ts","./Square.ts","./levelController.ts","./MechZombie.ts"],(function(t){var e,i,n,o,s,a,r,h,l,u,c,d,p,m,b,f,y,g,S,w,k,R;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized,s=t.createClass,a=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){h=t.cclegacy,l=t._decorator,u=t.Node,c=t.AudioClip,d=t.Vec2},function(t){p=t.ZombieDamageType,m=t.ZombieDamageDetails},function(t){b=t.ArrayGet},function(t){f=t.gargantuar},function(t){y=t.ZombieEnum},function(t){g=t.sounds},function(t){S=t.Square},function(t){w=t.LevelPlay},function(t){k=t.MechZombie,R=t.MechZombieProps}],execute:function(){var v,D,P,B,I,O,T,j,A,C,L,z,_,W,x,Z,E,X,M,G,q,F,N,Y,H,J,U,V,K;h._RF.push({},"fea8fAFgvNJ1Y47qh0sh1fb","CowboyBullZombie",void 0);var Q=l.ccclass,$=l.property,tt=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this).BullRammingDamage=2e3,e.BullRunAgainDelay=1/0,e.RushSPS=1,e.ImpThrowDistance=4,e}return i(e,t),e}(R);t("CowboyBullZombie",(v=Q("CowboyBullZombie"),D=$(u),P=$([c]),B=$([c]),I=$([c]),O=$([c]),T=$([c]),j=$([c]),A=$([c]),C=$([c]),L=$([c]),z=$([c]),_=$([c]),W=$(Boolean),v((E=e((Z=function(t){function e(){for(var e,i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))||this).blocked=!1,e.rushing=!1,e.impSlots=[],e.bp1Slots=[],e.bp2Slots=[],e._haveImp=!1,e.retreating=!1,e._objdataOwnOrg=new tt,e._objdataOwn=new tt,e.rushLeftTime=2,n(e,"impThrowPoint",E,o(e)),n(e,"stepSounds",X,o(e)),n(e,"deathSounds",M,o(e)),n(e,"bullBrakeSounds",G,o(e)),n(e,"brakeSounds",q,o(e)),n(e,"impBrakeSounds",F,o(e)),n(e,"bullThrowSounds",N,o(e)),n(e,"impThrowSounds",Y,o(e)),n(e,"impSteadySounds",H,o(e)),n(e,"angrySounds",J,o(e)),n(e,"impCheerSounds",U,o(e)),n(e,"smashSounds",V,o(e)),n(e,"isBlackBull",K,o(e)),e.potatoMineDisappear=!1,e}i(e,t);var h=e.prototype;return h.detectPlant=function(t){var e=this;void 0===t&&(t=.01),this.detectPlantOn()&&(this.inLane?this.rushing?(this.hypnotized?this.inLane.zombiePool().forEach((function(t){e.blocked||t.bodyRec.judgeCrossRec(e.plantDetectorRec)&&(e.blocked=!0,e.switching=!0)})):(this.inLane.plantPool().forEach((function(t){e.blocked||t.eaterDetectable&&t.bodyRec.judgeCrossRec(e.plantDetectorRec)&&(e.blocked=!0,e.switching=!0)})),this.inLane.hypnoZombiePool().forEach((function(t){e.blocked||t.bodyRec.judgeCrossRec(e.plantDetectorRec)&&(e.blocked=!0,e.switching=!0)}))),this.inLane.tombPool(this.hypnotized?0:1).forEach((function(t){e.blocked||t.bodyRec.judgeCrossRec(e.plantDetectorRec)&&(e.blocked=!0,e.switching=!0)}))):this.defaultDetectPlant(t):this.playWalk())},h.willTrampleFlower=function(){return!this.blocked},h.onDamaged=function(t,e,i){e<=0&&i.damageType==p.electricity&&(this.body.DeathAnm="Shock",this.TotalRGB=i.shockRGB,g.playZombieShock(),this.deathAnmFadeInTime=.001,this.haveImp=!1),e<=this.toughness/3?(this.bp1Slots.forEach((function(t){t._setDisplayIndex(-1)})),this.bp2Slots.forEach((function(t){t._setDisplayIndex(0)}))):e<=2*this.toughness/3&&e>this.toughness/3?(this.bp1Slots.forEach((function(t){t._setDisplayIndex(0)})),this.bp2Slots.forEach((function(t){t._setDisplayIndex(-1)}))):(this.bp1Slots.forEach((function(t){t._setDisplayIndex(-1)})),this.bp2Slots.forEach((function(t){t._setDisplayIndex(-1)})))},h.specialZombieOnShrinked=function(t,e){this.haveImp=!1},h.animationOnLPComplete=function(){this.isAlive()&&(this.blocked?this.rushing?(this.switching=!0,this.rushing=!1,this.body.playAnimation("RushEnd"),this.body.WalkAnm="Walk",this.retreating=!0):(this.blocked=!1,this.switching=!1,this.isAlive()&&(this.isWalking=!1,this.detectPlant(.01),this.isBlackBull&&(this.rushLeftTime=this.objdataOwn.BullRunAgainDelay))):this.rushing&&this.isAlive()&&"Rush"!=this.body.currentAnimationName&&!w.component.gameOver&&(this.isWalking=!1,this.playWalk(),this.detectPlant(.01)))},h.specialMechZombieOnLoad=function(){var t=this;this.schedule((function(){t.rushing&&t.isWalking&&t.haveImp&&t.playOneShot(b.getRandom(t.impCheerSounds),1,!1)}),3,1/0,3),this.body.db.armature().getSlots().forEach((function(e){e.name.includes("_bp1")?t.bp1Slots.push(e):e.name.includes("_bp2")?t.bp2Slots.push(e):e.name.includes("_IMP")&&t.impSlots.push(e)}))},h.bullInitialize=function(){this.blocked=!1,this.rushing=!1,this.body.WalkAnm="Walk",this.isWalking=!1,this.body.DeathAnm="Death"},h.specialMechOnEnable=function(){this.haveImp=!0,this.rushLeftTime=this.objdataOwn.BullRunAgainDelay,this.onDamaged(this.toughness,this.toughness,new m),this.bullInitialize(),this.deathAnmFadeInTime=.2,this.detectPlant(.01),this.retreating=!1},h.rushStart=function(){this.isWalking=!1,this.switching=!0,this.rushing=!0,this.body.playAnimation("RushStart",1,.1),this.body.WalkAnm="Rush",this.playOneShot(b.getRandom(this.angrySounds),1,!0),this.haveImp&&this.playOneShot(b.getRandom(this.impSteadySounds),1,!0)},h.specialMechUpdate=function(t,e,i){this.enteredLawn&&this.isWalking&&this.rushLeftTime>0&&(this.rushLeftTime-=t,this.rushLeftTime<=0&&this.rushStart())},h.throwImp=function(){var t=a(r().mark((function t(){var e;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.haveImp){t.next=2;break}return t.abrupt("return");case 2:return this.haveImp=!1,t.next=5,f.throwOneImpByLnC(y.west_bullrider,this.inLane,new d(this.impThrowPoint.worldPosition.x,this._worldPositionY),new d(this.objdataOwn.ImpThrowDistance*(this.reversed?1:-1),0),this.impThrowPoint.worldPosition.y-this._worldPositionY,100,.7);case 5:(e=t.sent).tallNutBlock=!0,e.reversed=this.reversed,e.hypnotized=this.hypnotized,e.onThrownByBull(this);case 10:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),h.empStun=function(t){void 0===t&&(t=10),this.empCD<=0&&t>0&&(this.isWalking=!1,this.switching=!0,this.body.playAnimation("StunStart",1/0,.2),(this.haveImp||this.isBlackBull)&&(this.rushLeftTime=this.objdataOwn.BullRunAgainDelay),this.bullInitialize()),this.empCD=this.empCD<t?t:this.empCD},h.onTeleportStart=function(t){void 0===t&&(t=this.worldPositionX),this.worldPositionX=this.reversed?S.getLnC(0,0).node.worldPosition.x-2*S.SquareWidth:S.getLnC(0,8).node.worldPosition.x+2*S.SquareWidth},h._smash=function(){var t=this,e=null,i=null,n=null,o=this.plantDetectorRec;this.hypnotized?(i=this.inLane.zombiePool().filter((function(t){return o.judgeCrossRec(t.bodyRec)})).sort((function(e,i){var n=t.scale>0?e.bodyRec.prjX().y:e.bodyRec.prjX().x;return((t.scale>0?i.bodyRec.prjX().y:i.bodyRec.prjX().x)-n)*t.scale})).find((function(){return!0})),n=this.inLane.tombPool().filter((function(t){return o.judgeCrossRec(t.bodyRec)})).sort((function(e,i){return(i.worldPositionX-e.worldPositionX)*t.scale})).find((function(){return!0}))):(e=this.inLane.plantPool().filter((function(t){return o.judgeCrossRec(t.bodyRec)})).sort((function(e,i){return(i.worldPositionX-e.worldPositionX)*t.scale})).find((function(){return!0})),i=this.inLane.hypnoZombiePool().filter((function(t){return o.judgeCrossRec(t.bodyRec)})).sort((function(e,i){var n=t.scale>0?e.bodyRec.prjX().y:e.bodyRec.prjX().x;return((t.scale>0?i.bodyRec.prjX().y:i.bodyRec.prjX().x)-n)*t.scale})).find((function(){return!0})));var s=new m(this.objdataOwn.BullRammingDamage,!0,!0,!0,new d(10*(this.reversed?1:-1),0));i?i.dealDamage(s):n?n.dealDamage(s):e&&e.smash(this)},h.specialMechAnimationListener=function(t){if("step"==t.name)this.playOneShot(b.getRandom(this.stepSounds),this.rushing?1.5:1,!1,.1);else if("deathSound"==t.name)this.playOneShot(b.getRandom(this.deathSounds),1.5,!0);else if("rushStart"==t.name)this.isWalking=!0,this.switching=!1;else if("rushEnd"==t.name)this.isWalking=!1,this.retreating=!1,this.playOneShot(b.getRandom(this.bullBrakeSounds),1,!0),this.haveImp&&this.playOneShot(b.getRandom(this.impBrakeSounds),1,!0);else if("throw"==t.name)this.haveImp&&this.playOneShot(b.getRandom(this.impThrowSounds),1,!0),this.throwImp(),this.playOneShot(b.getRandom(this.bullThrowSounds),1,!0);else if("impSteady"==t.name)this.haveImp&&this.playOneShot(b.getRandom(this.impSteadySounds),1,!0);else if("brakeSound"==t.name)this.playOneShot(b.getRandom(this.brakeSounds),1,!0);else if("smash"==t.name){if(!this.isBlackBull)return;this._smash()}else"playDeath"==t.name&&(this.TotalRGB=0,this.body.DeathAnm="Death",this.body.playAnimation("Death",1))},h.playSpecialMechDie=function(t){this.judgeDeath(.2)},s(e,[{key:"haveImp",get:function(){return this._haveImp},set:function(t){this.impSlots.forEach((function(e){e._setDisplayIndex(t?0:-1)})),this._haveImp=t}},{key:"squarePerSec",get:function(){return this.rushing?this.objdataOwn.RushSPS:this.retreating?-1.25:this.objdataOwn.WalkSPS}},{key:"anmSpeed",get:function(){return this.rushing?this.isBlackBull?2.2:1.6:this.retreating?.8*-(this.isBlackBull?2.2:1.6):.22}},{key:"objdataOwn",get:function(){return this._objdataOwn}}]),e}(k)).prototype,"impThrowPoint",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=e(Z.prototype,"stepSounds",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),M=e(Z.prototype,"deathSounds",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),G=e(Z.prototype,"bullBrakeSounds",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),q=e(Z.prototype,"brakeSounds",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=e(Z.prototype,"impBrakeSounds",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),N=e(Z.prototype,"bullThrowSounds",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Y=e(Z.prototype,"impThrowSounds",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),H=e(Z.prototype,"impSteadySounds",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),J=e(Z.prototype,"angrySounds",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),U=e(Z.prototype,"impCheerSounds",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),V=e(Z.prototype,"smashSounds",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),K=e(Z.prototype,"isBlackBull",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),x=Z))||x));h._RF.pop()}}}));

System.register("chunks:///_virtual/CowboyChickenFarmerZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./Zombies.ts","./SoundRescourses.ts","./levelController.ts","./NodePools.ts","./ArrayGet.ts","./Square.ts","./ZombieAshParticle.ts"],(function(i){var e,n,t,h,c,a,o,s,r,l,u,k,d,p,m,f,C,b,g,v,y,w;return{setters:[function(i){e=i.applyDecoratedDescriptor,n=i.inheritsLoose,t=i.initializerDefineProperty,h=i.assertThisInitialized,c=i.createClass,a=i.asyncToGenerator,o=i.regeneratorRuntime},function(i){s=i.cclegacy,r=i._decorator,l=i.AudioClip,u=i.Prefab,k=i.Vec3},function(i){d=i.Zombie,p=i.ZombieProps},function(i){m=i.ZombieEnum,f=i.zombies},function(i){C=i.sounds},function(i){b=i.LevelPlay},function(i){g=i.instantiatePooly},function(i){v=i.ArrayGet},function(i){y=i.Square},function(i){w=i.ZombieAshParticle}],execute:function(){var S,Z,A,O,P,_,D;s._RF.push({},"07616Qi3RtJuZypEQbqdFdj","CowboyChickenFarmerZombie",void 0);var I=r.ccclass,j=r.property,L=i("ChickenThrower",function(){function i(i,e,n,t,h,c,a){this.chickeningInterval=.2,this.chickeningIntervalVariance=.1,this.chickeningCD=0,this.chickeningLeftTime=2,this.reversed=!1,this.hypno=!1,this.x=500,this.lanes=[],this.zombie=m.chicken,this.chickeningLeftTime=e+(1-2*Math.random())*n,this.chickeningInterval=t,this.chickeningIntervalVariance=h,this.zombie=i,this.x=a,c>=0&&c<=4&&this.lanes.push(c),c+1>=0&&c+1<=4&&this.lanes.push(c+1),c-1>=0&&c-1<=4&&this.lanes.push(c-1)}var e=i.prototype;return e.dealChickening=function(i){this.chickeningLeftTime<0||(this.chickeningLeftTime-=i,this.chickeningCD-=i,this.chickeningCD<0&&(this.chickeningCD=this.chickeningInterval+(1-2*Math.random())*this.chickeningIntervalVariance,this.spawnOneChicken()))},e.spawnOneChicken=function(){var i=a(o().mark((function i(){var e,n;return o().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(!(this.lanes.length>0)){i.next=10;break}return(e=this.zombie)==m.chicken&&Math.random()<.01&&(e=m.chicken_pumpkin),i.next=5,f.spawnZombieFromLane(v.getRandom(this.lanes),e,{},!0,this.reversed,this.hypno);case 5:(n=i.sent).worldPositionX=this.x+(1-2*Math.random())*y.SquareWidth,n.reversed=this.reversed,n.hypnotized=this.hypno,n.bodyRecHiddenCD=.01;case 10:case"end":return i.stop()}}),i,this)})));return function(){return i.apply(this,arguments)}}(),i}()),z=function(i){function e(){for(var e,n=arguments.length,t=new Array(n),h=0;h<n;h++)t[h]=arguments[h];return(e=i.call.apply(i,[this].concat(t))||this).ChickeningDuration=2,e.ChickeningDurationVariance=1,e.ChickeningHealthPercentage=.8,e.ChickenTypeName="chicken",e.ChickeningInterval=.2,e.ChickeningIntervalVariance=.1,e}return n(e,i),e}(p);i("CowboyChickenFarmerZombie",(S=I("CowboyChickenFarmerZombie"),Z=j(l),A=j(u),S((_=e((P=function(i){function e(){for(var e,n=arguments.length,c=new Array(n),a=0;a<n;a++)c[a]=arguments[a];return(e=i.call.apply(i,[this].concat(c))||this)._objdataOwn=new z,e._haveChicken=!0,e.chickenSlots=[],e.chicken=m.chicken,t(e,"chickenActionSound",_,h(e)),t(e,"chickenAsh",D,h(e)),e}n(e,i);var a=e.prototype;return a.onObjdataSet=function(i){this.chicken=f.getZombieEnumByCodename(this.objdataOwn.ChickenTypeName)},a.specialZombieOnShrinked=function(i,e){this.haveChicken=!1},a.specialZombieOnEnable=function(){this.haveChicken=!0},a.specialZombieOnLoad=function(){var i=this;this.body.db.armature().getSlots().forEach((function(e){e.name.includes("_CHICK")&&i.chickenSlots.push(e)}))},a.throwChickens=function(){if(this.haveChicken){this.haveChicken=!1,C.playOneShot(this.chickenActionSound);var i=new L(this.chicken,this.objdataOwn.ChickeningDuration,this.objdataOwn.ChickeningDurationVariance,this.objdataOwn.ChickeningInterval,this.objdataOwn.ChickeningIntervalVariance,this.lIndex,this.worldPositionX);i.reversed=this.reversed,i.hypno=this._usedToBeHypnotized,b.component.chickenThrowers.push(i)}},a.killChickens=function(){if(this.haveChicken){this.haveChicken=!1,C.playBirdExpl();var i=g(this.chickenAsh);i.parent=this.inLane.zombieLayer,i.worldPosition=new k(this._worldPositionX,this._worldPositionY,10),i.scale=this.node.scale,i.getComponent(w).sky=!0}},a.specialAnimationListener=function(i){"chickenKill"==i.name&&this.killChickens()},a.onDamaged=function(i,e,n){this.haveChicken&&e<=this.toughness*this.objdataOwn.ChickeningHealthPercentage&&this.shouldSpeedScale()>0&&this.throwChickens()},c(e,[{key:"objdataOwn",get:function(){return this._objdataOwn}},{key:"haveChicken",get:function(){return this._haveChicken},set:function(i){this.chickenSlots.forEach((function(e){e._setDisplayIndex(i?0:-1)}));var e="Walk";i&&(e="WalkWithChicken"),this.body.WalkAnm=e,!this.dead&&this.isWalking&&this.replayAnimation(),this._haveChicken=i}}]),e}(d)).prototype,"chickenActionSound",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=e(P.prototype,"chickenAsh",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=P))||O));s._RF.pop()}}}));

System.register("chunks:///_virtual/CowboyChickenZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./SoundRescourses.ts","./Plants.ts"],(function(e){var o,t,n,i,c,s;return{setters:[function(e){o=e.inheritsLoose},function(e){t=e.cclegacy,n=e._decorator},function(e){i=e.Zombie},function(e){c=e.sounds},function(e){s=e.PlantEnum}],execute:function(){var a;t._RF.push({},"401b5vPomZOgZO+KfsDroGM","CowboyChickenZombie",void 0);var r=n.ccclass;n.property,e("CowboyChickenZombie",r("CowboyChickenZombie")(a=function(e){function t(){return e.apply(this,arguments)||this}o(t,e);var n=t.prototype;return n.specialZombieOnEnable=function(){this.shadeAlphaScale=1},n.walkTimeScale=function(e,o,t){return t},n.playSpecialZombieDie=function(e){this.playWalk(0),this.judgeDeath(0),c.playBirdExpl(),this.shadeAlphaScale=0},n.specialPlantEatAllowed=function(e){return!e.bodyRec.judgeCrossRec(this.plantDetectorRec)||e.ID!=s.HypnoShroom||(this.hypnotized=!0,!1)},t}(i))||a);t._RF.pop()}}}));

System.register("chunks:///_virtual/CowboyGargantuarZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GargantuarZombie.ts","./Zombies.ts","./CharacterManager.ts","./Square.ts"],(function(e){var a,o,n,t,i,r,s,c,u,l,h,m,b,g,d,p;return{setters:[function(e){a=e.applyDecoratedDescriptor,o=e.inheritsLoose,n=e.initializerDefineProperty,t=e.assertThisInitialized,i=e.createClass},function(e){r=e.cclegacy,s=e._decorator,c=e.Node,u=e.Vec2},function(e){l=e.GargantuarZombie,h=e.GargantuarProps},function(e){m=e.ZombieEnum},function(e){b=e.Rectangle,g=e.ZombieDamageDetails,d=e.ZombieDamageType},function(e){p=e.Square}],execute:function(){var f,y,w,D,Z;r._RF.push({},"3a6ba24zw9L3pITfKvBHcid","CowboyGargantuarZombie",void 0);var P=s.ccclass,R=s.property,C=function(e){function a(){for(var a,o=arguments.length,n=new Array(o),t=0;t<o;t++)n[t]=arguments[t];return(a=e.call.apply(e,[this].concat(n))||this).SplashDamageToZombies=100,a.SplashDamageToPlants=40,a}return o(a,e),a}(h);e("CowboyGargantuarZombie",(f=P("CowboyGargantuarZombie"),y=R(c),f((Z=a((D=function(e){function a(){for(var a,o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return a=e.call.apply(e,[this].concat(i))||this,n(a,"smashPoint",Z,t(a)),a._objdataOwn=new C,a.impEnum=m.west_bullrider,a}return o(a,e),a.prototype.onSmashing=function(e){var a=b.createRectangleCenter(new u(this.smashPoint.worldPosition.x,this._worldPositionY),2*p.SquareWidth,p.SquareHeight),o=new g(this.objdataOwn.SplashDamageToZombies,!1,!1,!1,null,d.fire,!0,!0),n=new g(this.objdataOwn.SplashDamageToZombies,!1,!1,!1,null,d.fire,!0,!0);this.hypnotized?this.inLane.zombiePool().forEach((function(e){e.bodyRec.judgeCrossRec(a)&&e.dealDamage(o)})):(this.inLane.plantPool().forEach((function(e){e.bodyRec.judgeCrossRec(a)&&e.dealDamage(n.damage,3)})),this.inLane.hypnoZombiePool().forEach((function(e){e.bodyRec.judgeCrossRec(a)&&e.dealDamage(o)}))),this.inLane.tombPool(this.hypnotized?0:1).forEach((function(e){e.bodyRec.judgeCrossRec(a)&&e.dealDamage(o)}))},i(a,[{key:"objdataOwn",get:function(){return this._objdataOwn}}]),a}(l)).prototype,"smashPoint",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=D))||w));r._RF.pop()}}}));

System.register("chunks:///_virtual/CowboyImpZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ImpZombie.ts","./ArrayGet.ts"],(function(i){var n,t,o,e,l,r,a,s,c;return{setters:[function(i){n=i.applyDecoratedDescriptor,t=i.inheritsLoose,o=i.initializerDefineProperty,e=i.assertThisInitialized},function(i){l=i.cclegacy,r=i._decorator,a=i.AudioClip},function(i){s=i.ImpZombie},function(i){c=i.ArrayGet}],execute:function(){var h,u,y,p,f,d,g;l._RF.push({},"2ae07h5GHNKXbVqhGkOO/C8","CowboyImpZombie",void 0);var b=r.ccclass,m=r.property;i("CowboyImpZombie",(h=b("CowboyImpZombie"),u=m([a]),y=m([a]),h((d=n((f=function(i){function n(){for(var n,t=arguments.length,l=new Array(t),r=0;r<t;r++)l[r]=arguments[r];return n=i.call.apply(i,[this].concat(l))||this,o(n,"landSounds",d,e(n)),o(n,"blockSound",g,e(n)),n.flyingHorizontal=!1,n.flyingVerticle=!1,n}t(n,i);var l=n.prototype;return l.specialImpOnEnable=function(){this.flyingHorizontal=!1,this.flyingVerticle=!1},l.onTallNutBlocked=function(){this.playOneShot(c.getRandom(this.landSounds),1,!1),this.body.playAnimation("Block",1),this.flyingHorizontal=!1,this.flyingVerticle=!0},l.onThrownByBull=function(i){this.body.playAnimation("FlyHorizontal"),this.switching=!0,this.flyingHorizontal=!0,this.isWalking=!1},l.specialZombieOnLanding=function(){if(this.isAlive()){var i="Land",n=this.switching;(this.flyingHorizontal||this.flyingVerticle)&&(n=!0,i="LandVerticle",this.playOneShot(c.getRandom(this.landSounds),1,!1)),n&&(this.body.playAnimation(i,1),this.switching=!0,this.isWalking=!1)}else this.judgeDeath(0);this.flyingHorizontal=!1,this.flyingVerticle=!1},n}(s)).prototype,"landSounds",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),g=n(f.prototype,"blockSound",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),p=f))||p));l._RF.pop()}}}));

System.register("chunks:///_virtual/CowboyPianoZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./CharacterManager.ts","./NodePools.ts","./ZombieAshParticle.ts","./SoundRescourses.ts","./SoundManager.ts"],(function(e){var n,i,t,o,a,r,s,l,h,c,u,d,m,p;return{setters:[function(e){n=e.applyDecoratedDescriptor,i=e.inheritsLoose,t=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,r=e._decorator,s=e.Node,l=e.Vec2},function(e){h=e.Zombie},function(e){c=e.ZombieDamageType},function(e){u=e.NodePools},function(e){d=e.ZombieAshParticle},function(e){m=e.sounds},function(e){p=e.SoundManager}],execute:function(){var b,y,f,A,g;a._RF.push({},"f6a88HXmKhKrI0YJeSxyjhX","CowboyPianoZombie",void 0);var k=r.ccclass,P=r.property;e("CowboyPianoZombie",(b=k("CowboyPianoZombie"),y=P(s),b((g=n((A=function(e){function n(){for(var n,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return n=e.call.apply(e,[this].concat(a))||this,t(n,"bodyPoint",g,o(n)),n._useToHaveArm=!0,n.chewSoundWhenEat=!1,n}i(n,e);var a=n.prototype;return a.playSpecialZombieDie=function(e){this.judgeDeath(0)},a.chilibeanFart=function(){},a.whenStabbedBySpikeWeed=function(e){var n=this;this.playDie(),e.forEach((function(e){e.normalSmash(n)}))},a.walkTimeScale=function(e,n,i){return i?1:0},a.plantEatExtraAllowed=function(e){return e.smasherDetectable},a.walkSpeedScaleEnteringLawn=function(){return 3},a.specialZombieOnEnable=function(){this.body.DeathAnm="Death",this.body.WalkAnm="Walk",this.body.IdleAnm="Idle",this._useToHaveArm=!0,this.replayAnimation()},a.specialZombieOnLoad=function(){},a.specialAnimationListener=function(e){"walk"==e.name&&(this.haveArm||(this._useToHaveArm?(this.body.playAnimation("Walk_Break"),this.body.WalkAnm="Idle_Broken",this.body.WalkAnm="Walk_Broken",this._useToHaveArm=!1):(this.body.playAnimation("Walk_Broken"),this.body.WalkAnm="Idle_Broken",this.body.WalkAnm="Walk_Broken")))},a.specialZombieUpdate=function(e,n,i){e>0&&this.enteredLawn&&(Math.abs(this.scale)>=1&&(p.component.normalPianoSizeCountDown=1),p.component.pianoCountDown=1)},a.playAsh=function(e){if(!this.zombieAshParticle_)return null;var n=u.instantiatePooly(this.zombieAshParticle_);if(null!=n&&n.isValid){n.parent=this.node.parent,n.setSiblingIndex(this.node.getSiblingIndex()+1),this.body.DeathAnm="Death_Ash",this.playDie(!1,null,!0,c.fire,!1);var i=n.getComponent(d);return this.smartShadeHider?i.inLnC=this.shadeInLnC:i.inLnC=this.inLnC,i.characterComponent.worldPosition=new l(this.bodyPoint.worldPosition.x,this.worldPositionY),i.characterComponent.height=this.height,i.characterComponent.depth=this.depth,i.characterComponent.scale=this.scale,i.height=this.height,i.playAsh(),this.isGargantuar&&m.playGargantuarAsh(),this.playSpecialZombieDieForced(),this.specialAshPlayed(i),i.db}},n}(h)).prototype,"bodyPoint",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=A))||f));a._RF.pop()}}}));

System.register("chunks:///_virtual/CowboyPonchoZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./CharacterManager.ts","./NodePools.ts"],(function(t){var e,a,o,h,i,n,l,s,r,c,u,p,d,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,a=t.inheritsLoose,o=t.initializerDefineProperty,h=t.assertThisInitialized,i=t.createClass},function(t){n=t.cclegacy,l=t._decorator,s=t.Prefab,r=t.Vec3},function(t){c=t.Zombie,u=t.ZombieProps},function(t){p=t.ZombieDamageType,d=t.ZombieDamageDetails},function(t){g=t.instantiatePooly}],execute:function(){var P,b,f,m,v,H,w;n._RF.push({},"7a325jDWMVL3oYSU9abOjC3","CowboyPonchoZombie",void 0);var y=l.ccclass,S=l.property,D=function(t){function e(){for(var e,a=arguments.length,o=new Array(a),h=0;h<a;h++)o[h]=arguments[h];return(e=t.call.apply(t,[this].concat(o))||this).ShieldToughness=1100,e.PonchoToughness=60,e.ChanceToPlate=.5,e}return a(e,t),e}(u);t("CowboyPonchoZombie",(P=y("CowboyPonchoZombie"),b=S(s),f=S(s),P((H=e((v=function(t){function e(){for(var e,a=arguments.length,i=new Array(a),n=0;n<a;n++)i[n]=arguments[n];return(e=t.call.apply(t,[this].concat(i))||this)._objdataOwn=new D,e._objdataOwnOrg=new D,o(e,"ponchoBreakPar",H,h(e)),e.ponchoSlot=void 0,e._ponchoHealth=60,e._havePoncho=!1,e._havePlate=void 0,e.plateSlot=void 0,e._plateHealth=1100,o(e,"plateDrop",w,h(e)),e}a(e,t);var n=e.prototype;return n.specialZombieOnEnable=function(){this.wearPoncho()},n.wearPoncho=function(){Math.random()<this.objdataOwnOrg.ChanceToPlate?(this.havePlate=3,this.plateHealth=this.objdataOwn.ShieldToughness):(this.havePlate=0,this.plateHealth=0),this.ponchoHealth=this.objdataOwn.PonchoToughness},n.onObjdataSet=function(t){this.wearPoncho()},n.extraHealth=function(){return(this.havePoncho?this.ponchoHealth:0)+(0!=this.havePlate?this.plateHealth:0)},n.breakPoncho=function(){if(this.havePoncho){this.havePoncho=!1;var t=g(this.ponchoBreakPar);t.parent=this.node.parent,t.worldPosition=this.node.worldPosition,t.setSiblingIndex(this.node.getSiblingIndex()+1)}},n.specialZombieOnLoad=function(){this.plateSlot=this.body.db.armature().getSlot("SHIELD"),this.ponchoSlot=this.body.db.armature().getSlot("PONCHO")},n.onArmorHealed=function(){this.havePoncho&&(this.ponchoHealth=this.objdataOwn.PonchoToughness),this.havePlate&&(this.plateHealth=this.objdataOwn.ShieldToughness)},n.throwPlate=function(t,e){void 0===e&&(e=!0);var a=this.drop(this.plateDrop,this.height+this.zombieHeight/2,new r(this._worldPositionX,this._worldPositionY),t,this.inLane.prjLayer),o=a.db,h="Broken2";if(!e)switch(this.havePlate){case 3:h="Broken0";break;case 2:h="Broken1"}return o.playAnimation(h),this.plateHealth=0,a},n.specialMagnetedObject=function(){if(this.plateHealth>0){var t=this.throwPlate(null,!1);return this.plateHealth=0,t}return null},n.specialDealDamageAccordingToBowlingLevel=function(t,e){if(this.plateHealth>0&&e.armorProtection){var a=Math.round(2*this.plateHealth/this.objdataOwn.ShieldToughness),o=Math.max(a-t,0)/3*this.objdataOwn.ShieldToughness,h=this.plateHealth-o;this.ponchoHealth=0,this.dealDamage(e.replaceDamage(h))}else this.dealDamage(e)},n.dealDamage=function(t){if(this.invincible)return this.health;var e=t.damage;if(t.damageType==p.fire&&(this.freeze=0,this.chill=0),this.ponchoHealth>0&&t.armorProtection)e-=this.ponchoHealth,this.pushSunBeanHealth(Math.min(t.damage,this.ponchoHealth)),this.ponchoHealth-=t.damage*this.damageScale(t),t.armorKnockSound&&this.playHurtSound(),t.flash&&(this.hurting=10);else{if(!(this.plateHealth>0&&t.armorProtection)){var a=new d(t.damage,t.armorProtection,t.armorKnockSound,!1,t.damageDirection,t.damageType,t.flash);return a.shockRGB=t.shockRGB,this.defaultDealDamage(a)}e-=this.plateHealth,this.pushSunBeanHealth(Math.min(t.damage,this.plateHealth)),this.plateHealth-=t.damage*this.damageScale(t),t.armorKnockSound&&this.playHurtSound(),t.flash&&(this.hurting=10),this.plateHealth<=0&&this.throwPlate(t.damageDirection)}return e>0&&this.dealDamage(t.replaceDamage(e)),this.health},i(e,[{key:"objdataOwn",get:function(){return this._objdataOwn}},{key:"objdataOwnOrg",get:function(){return this._objdataOwnOrg}},{key:"ponchoHealth",get:function(){return this._ponchoHealth},set:function(t){t<=0?this.breakPoncho():this.havePoncho=!0,this._ponchoHealth=t}},{key:"havePoncho",get:function(){return this._havePoncho},set:function(t){var e;null==(e=this.ponchoSlot)||e._setDisplayIndex(t?0:-1),this._havePoncho=t}},{key:"havePlate",get:function(){return this._havePlate},set:function(t){var e,a,o,h;switch(this._havePlate=t,t){case 3:null==(e=this.plateSlot)||e._setDisplayIndex(0);break;case 2:null==(a=this.plateSlot)||a._setDisplayIndex(1);break;case 1:null==(o=this.plateSlot)||o._setDisplayIndex(2);break;default:null==(h=this.plateSlot)||h._setDisplayIndex(-1),this._havePlate=0}}},{key:"plateHealth",get:function(){return this._plateHealth},set:function(t){t<=0?this.havePlate=0:t<=this.objdataOwn.ShieldToughness/3?this.havePlate=1:t<=2*this.objdataOwn.ShieldToughness/3?this.havePlate=2:this.havePlate=3,this._plateHealth=t}}]),e}(c)).prototype,"ponchoBreakPar",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=e(v.prototype,"plateDrop",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=v))||m));n._RF.pop()}}}));

System.register("chunks:///_virtual/CowboyProspectorZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./Square.ts","./NodePools.ts"],(function(i){var e,t,n,o,l,a,s,r,d,u,h,p,c,b,f;return{setters:[function(i){e=i.applyDecoratedDescriptor,t=i.inheritsLoose,n=i.initializerDefineProperty,o=i.assertThisInitialized,l=i.createClass},function(i){a=i.cclegacy,s=i._decorator,r=i.AudioClip,d=i.Prefab,u=i.Vec3,h=i.Vec2},function(i){p=i.Zombie,c=i.ZombieProps},function(i){b=i.Square},function(i){f=i.instantiatePooly}],execute:function(){var y,m,w,S,g,x,v,P,_,L,O,T,k,C,R;a._RF.push({},"cb135QainNMWrbBPNRCFOSs","CowboyProspectorZombie",void 0);var Z=s.ccclass,j=s.property,E=function(i){function e(){for(var e,t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return(e=i.call.apply(i,[this].concat(n))||this).LandingStunnTime=2.5,e.ExplodeCountdown=10,e}return t(e,i),e}(c);i("CowboyProspectorZombie",(y=Z("CowboyProspectorZombie"),m=j(r),w=j(r),S=j(r),g=j(r),x=j(d),v=j(d),y((L=e((_=function(i){function e(){for(var e,t=arguments.length,l=new Array(t),a=0;a<t;a++)l[a]=arguments[a];return e=i.call.apply(i,[this].concat(l))||this,n(e,"landSound",L,o(e)),n(e,"explodeSound",O,o(e)),n(e,"explodeSaySound",T,o(e)),n(e,"igniteSound",k,o(e)),e._explodeLeftTime=10,e.tnt=void 0,e.ashSlots=[],e._dirty=!1,e.willReverse=!1,e._objdataOwn=new E,e._ignited=!0,n(e,"explSmokePar",C,o(e)),n(e,"smokeTailPar",R,o(e)),e}t(e,i);var a=e.prototype;return a.alertNow=function(){return!this.willReverse},a.specialZombieOnLoad=function(){var i,e,t=this;this.tnt=null==(i=this.body)||null==(i=i.db)||null==(i=i.armature())||null==(i=i.getSlot("TNT"))?void 0:i.childArmature,this.ashSlots=[],null==(e=this.body)||null==(e=e.db)||null==(e=e.armature())||e.getSlots().forEach((function(i){i.name.includes("_ASH")&&t.ashSlots.push(i)})),this.schedule((function(){if(t.willReverse){var i=f(t.smokeTailPar);i.parent=t.node.parent,i.setSiblingIndex(0),i.worldPosition=new u(t._worldPositionX,t.body.node.worldPosition.y+20)}}),.05,1/0,.05)},a.specialZombieKnockbackable=function(){return!this.willReverse},a.specialZombieLeapable=function(){return!this.willReverse},a.specialZombieOnEnable=function(){this.dirty=!1,this.explodeLeftTime=this.objdataOwn.ExplodeCountdown,this.willReverse=!1,this.ignited=!0},a.specialAnimationListener=function(i){if("explode"==i.name){var e=b.getLnC(0,this.reversed?8:0).node.worldPosition.x;this.leapTo(new h(e,this._worldPositionY),!0,1,300,!0,!1,!1),this.playOneShot(this.explodeSound,1,!0),this.playOneShot(this.explodeSaySound,1,!1),this.willReverse=!0,this.tnt.animation.play("Nothing"),this.dirty=!0;var t=f(this.explSmokePar);t.parent=this.node.parent,t.setSiblingIndex(0),t.worldPosition=new u(this._worldPositionX,this._worldPositionY)}},a.specialOnLeapEnd=function(){var i=this;this.willReverse&&(this.willReverse=!1,this.reversed=!this.reversed,this.body.playAnimation("FlyEnd",1),this.playOneShot(this.landSound,1,!0),this.scheduleOnce((function(){i.switching=!1,i.isAlive()&&i.playWalk()}),this.objdataOwn.LandingStunnTime))},a.onChill=function(i){this.ignited=!1},a.onFrozen=function(i){this.ignited=!1},a.onObjdataSet=function(i){this.explodeLeftTime=this.objdataOwn.ExplodeCountdown},a.specialZombieUpdate=function(i,e,t){this.isInLawn()&&this.explodeLeftTime>0&&this.ignited&&(this.explodeLeftTime-=i,this.explodeLeftTime<=0&&(this.switching=!0,this.isWalking=!1,this.body.playAnimation("FlyStart",1)))},l(e,[{key:"dirty",get:function(){return this._dirty},set:function(i){this.ashSlots.forEach((function(e){null==e||e._setDisplayIndex(i?0:-1)})),this._dirty=i}},{key:"explodeLeftTime",get:function(){return this._explodeLeftTime},set:function(i){var e=i/this.objdataOwn.ExplodeCountdown,t=this._explodeLeftTime/this.objdataOwn.ExplodeCountdown;e>2/3&&t<=2/3?this.tnt.animation.play("Small"):e>1/3&&t<=1/3||e<=2/3&&t>2/3?(this.playOneShot(this.igniteSound,.5,!0),this.tnt.animation.play("Mid")):(e>0&&t<=0||e<=1/3&&t>1/3)&&this.tnt.animation.play("Big"),this._explodeLeftTime=i}},{key:"objdataOwn",get:function(){return this._objdataOwn}},{key:"ignited",get:function(){return this._ignited},set:function(i){this.dirty||(i?(this.explodeLeftTime=this.objdataOwn.ExplodeCountdown,this.tnt.animation.play("Small")):this.tnt.animation.play("Out")),this._ignited=i}}]),e}(p)).prototype,"landSound",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=e(_.prototype,"explodeSound",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=e(_.prototype,"explodeSaySound",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=e(_.prototype,"igniteSound",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=e(_.prototype,"explSmokePar",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=e(_.prototype,"smokeTailPar",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=_))||P));a._RF.pop()}}}));

System.register("chunks:///_virtual/CowboyZombossMechZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZombossMechZombie.ts","./Square.ts","./ArrayGet.ts"],(function(o){var e,i,t,n,r,l,a,s,u,h,c;return{setters:[function(o){e=o.applyDecoratedDescriptor,i=o.initializerDefineProperty,t=o.inheritsLoose,n=o.assertThisInitialized},function(o){r=o.cclegacy,l=o._decorator,a=o.CCInteger,s=o.AudioClip},function(o){u=o.ZombossMechZombie},function(o){h=o.Square},function(o){c=o.ArrayGet}],execute:function(){var b,p,d,m,g,f,y,S,C,M,w,z,Z,L,v,R,P,x,O,W,A,F,B,T,E,G,I,_,j,q,D,N;r._RF.push({},"257b4qjQ/JJHbQt0IFcjFmI","CowboyZombossMechZombie",void 0);var H=l.ccclass,J=l.property,Q=o("CowboyZombossFireProps",(b=H("CowboyZombossFireProps"),p=J(Number),d=J(Number),m=J(Number),g=J(a),f=J(a),b((C=e((S=function(){i(this,"shootPlantWeight",C,this),i(this,"shootPlantEmptyRate",M,this),i(this,"shootRailWeight",w,this),i(this,"shootRailCount",z,this),i(this,"missileCount",Z,this)}).prototype,"shootPlantWeight",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),M=e(S.prototype,"shootPlantEmptyRate",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.1}}),w=e(S.prototype,"shootRailWeight",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),z=e(S.prototype,"shootRailCount",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Z=e(S.prototype,"missileCount",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 4}}),y=S))||y));o("CowboyZombossMechZombie",(L=H("CowboyZombossMechZombie"),v=J(s),R=J(s),P=J(s),x=J(s),O=J(s),W=J(s),A=J([Q]),F=J([Q]),L((E=e((T=function(o){function e(){for(var e,t=arguments.length,r=new Array(t),l=0;l<t;l++)r[l]=arguments[l];return e=o.call.apply(o,[this].concat(r))||this,i(e,"rollingSound",E,n(e)),i(e,"expandSound",G,n(e)),i(e,"expand2Sound",I,n(e)),i(e,"introBodyCallSound",_,n(e)),i(e,"loadMissileSound",j,n(e)),i(e,"loadMissile2Sound",q,n(e)),i(e,"MissileLocator",D,n(e)),i(e,"MissileLocator2",N,n(e)),e}t(e,o);var r=e.prototype;return r.specialZombossMechAnimationListener=function(o){"rollingSound"==o.name?this.playOneShot(this.rollingSound,1,!0,.1):"expandSound"==o.name?(this.playOneShot(this.expandSound,1,!0,.1),this.playOneShot(this.expand2Sound,1,!0,.1)):"introBodyCallSound"==o.name?this.playOneShot(this.introBodyCallSound,1,!0,.1):"loadMissileSound"==o.name&&(this.playOneShot(this.loadMissileSound,1,!0,.1),this.playOneShot(this.loadMissile2Sound,1,!0,.1))},r.getShootTargetLnCs=function(){var o=1==this.mechToChoose?this.MissileLocator2:this.MissileLocator,e=o[this.currentStage]?o[this.currentStage]:new Q,i=e.shootPlantEmptyRate,t=e.shootRailWeight/(e.shootRailWeight+e.shootPlantWeight);if(Math.random()>t)return this.defaultGetShootTargetLnCs(i);for(var n=c.randomize(h.getAllLnC()),r=[],l=[],a=0;a<n.length&&r.length<e.shootRailCount;a++){var s,u;null!=(s=n[a])&&null!=(s=s.rail)&&s.group&&-1==r.indexOf(null==(u=n[a])||null==(u=u.rail)?void 0:u.group)&&r.push(n[a].rail.group)}return r.forEach((function(o){for(var e=c.randomize(o),i=0;i<e.length-1;i++)l.push(e[i].inLnC)})),l.length?l:this.defaultGetShootTargetLnCs(i)},e}(u)).prototype,"rollingSound",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=e(T.prototype,"expandSound",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=e(T.prototype,"expand2Sound",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=e(T.prototype,"introBodyCallSound",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=e(T.prototype,"loadMissileSound",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=e(T.prototype,"loadMissile2Sound",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=e(T.prototype,"MissileLocator",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),N=e(T.prototype,"MissileLocator2",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B=T))||B));r._RF.pop()}}}));

System.register("chunks:///_virtual/CranJelly.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NodePools.ts","./Square.ts","./Character.ts","./Plant.ts","./Projectiles.ts"],(function(e){var n,t,r,a,i,o,l,s,c,u,h,f,p,y,P,d;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,r=e.initializerDefineProperty,a=e.assertThisInitialized,i=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){l=e.cclegacy,s=e._decorator,c=e.Prefab,u=e.Vec2},function(e){h=e.NodePools},function(e){f=e.Square},function(e){p=e.CharacterType},function(e){y=e.Plant,P=e.PlantProps},function(e){d=e.ProjectileShootingFunctions}],execute:function(){var m,b,v,w,j;l._RF.push({},"779f1NAnaNMAr0lVYwAL9er","CranJelly",void 0);var g=s.ccclass,_=s.property,C=function(e){function n(){for(var n,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return(n=e.call.apply(e,[this].concat(r))||this).DPS=3e3,n.Velocity=8,n}return t(n,e),n}(P);e("CranJellyPlant",(m=g("CranJellyPlant"),b=_(c),m((j=n((w=function(e){function n(){for(var n,t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return n=e.call.apply(e,[this].concat(i))||this,r(n,"CranJellyPrj",j,a(n)),n._objdataOwn=new C,n}t(n,e);var l=n.prototype;return l._summon=function(){var e=i(o().mark((function e(){var n,t,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h.instantiatePooly(this.CranJellyPrj),n=this._objdataOwn.DPS,t=this._dmgScale,e.next=5,d.shootOnePea("cranjelly",new u(f.getSquareWorldPosition(0,0).x,this.inLane.floorY),-5,this.inLane.prjLayer,new u(this._objdataOwn.Velocity,0),p.zombie);case 5:r=e.sent,t&&(n*=t),r&&(r.DPS=n);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),l.animationListener=function(e){"summon"==e.name&&this._summon()},l.specialPlantOnEnable=function(){var e=this;this.scheduleOnce((function(){e.die()}),0),this.foodable=!1,this.invincible=!0,this.eaterDetectable=!1,this.smasherDetectable=!1},n}(y)).prototype,"CranJellyPrj",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=w))||v));l._RF.pop()}}}));

System.register("chunks:///_virtual/cranjellyProjectile.ts",["./rollupPluginModLoBabelHelpers.js","cc","./commonShot.ts","./LnC.ts","./CharacterManager.ts","./Character.ts","./Projectiles.ts"],(function(e){var t,n,i,a,o,r,c,l,s,u,d,h,p,f,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized,o=e.createClass,r=e.asyncToGenerator,c=e.regeneratorRuntime},function(e){l=e.cclegacy,s=e._decorator,u=e.CCFloat},function(e){d=e.commonShot},function(e){h=e.TileLiquidEnum},function(e){p=e.ZombieDamageDetails},function(e){f=e.CharacterType},function(e){y=e.ProjectileProps}],execute:function(){var m,g,b,P,v;l._RF.push({},"11147O0PlhImq2C02SJplO+","cranjellyProjectile",void 0);var j=s.ccclass,C=s.property,L=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(t=e.call.apply(e,[this].concat(i))||this).DPS=3e3,t}return n(t,e),t}(y);e("cranjellyPrj",(m=j("cranjellyPrj"),g=C(u),m((v=t((P=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=e.call.apply(e,[this].concat(o))||this)._objdata=new L,i(t,"DPS",v,a(t)),t.defeatedCount=0,t}n(t,e);var l=t.prototype;return l.specialOnObjdataSet=function(e){this.DPS=e.DPS},l.animationListener=function(e){var t;"playIdle"==e.name&&(this.switching=!1,null==(t=this.db)||t.playAnimation("Idle0",1/0))},l.animationCompleteListener=function(){var e;this.switching&&(this.switching=!1,null==(e=this.db)||e.playAnimation("Idle0",1/0))},l.detectEnemy=function(e){var t,n,i=this;if(this.detectEnemyOn){var a,o=new p(this.DPS*e,this.armorProtection,this.armorKnockSound,this.bodyKnockSound,null,this.damageType,!0);if(this.enemyType==f.zombie)null==(a=this.inLane)||a.zombiePool().concat().forEach((function(e){if((!i.targetLocked||(null==e?void 0:e.node)!=i.targetLocked)&&e.bodyRec.judgeCrossRec(i.bodyRec())){var t,n;e.dealDamage(o);var a=i.defeatedCount;e.isAlive()||(i.inLnC.addTileLiquid(h.cranjelly,30),a++),i.defeatedCount<4&&a>=4&&(null==(t=i.db)||t.playAnimation("Idle1",1/0)),i.defeatedCount<8&&a>=8&&(null==(n=i.db)||n.playAnimation("Idle2",1/0)),i.defeatedCount=a}}));else this.enemyType==f.plant&&(null==(t=this.inLane)||t.plantPool().forEach((function(e){i.dead||e.bodyRec.judgeCrossRec(i.bodyRec())&&(!i.targetLocked||i.targetLocked&&e.node==i.targetLocked)&&i.dealDamageToPlant(e)&&i.pop()})));null==(n=this.inLane)||n.tombPool(this.enemyType==f.plant?1:0).concat().forEach((function(e){i.targetLocked&&(null==e?void 0:e.node)==i.targetLocked||e.bodyRec.judgeCrossRec(i.bodyRec())&&e.dealDamage(o)}))}},l.pop=function(){var e=r(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l.characterOnEnable=function(){var e;this.defeatedCount=0,this.initialize(),this.switching=!0,null==(e=this.db)||e.playAnimation("Start",1)},o(t,[{key:"objdataOwn",get:function(){return this._objdata}}]),t}(d)).prototype,"DPS",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3e3}}),b=P))||b));l._RF.pop()}}}));

System.register("chunks:///_virtual/CrazyDave.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NPC.ts","./SoundRescourses.ts","./MultiLanguage.ts"],(function(e){var i,a,t,r,n,l,c,o,s,u,S;return{setters:[function(e){i=e.applyDecoratedDescriptor,a=e.inheritsLoose,t=e.initializerDefineProperty,r=e.assertThisInitialized,n=e.createClass},function(e){l=e.cclegacy,c=e._decorator,o=e.AudioClip},function(e){s=e.NPC},function(e){u=e.sounds},function(e){S=e.MultiLanguage}],execute:function(){var p,b,h,y,f,_,g,A,L,m,d,E,k,C,P,w,I,z,T,M,v,N,B,x,D,O,R,Y,H,U,j,F,G,W,X,K,q,J,Q,V,Z;l._RF.push({},"cbee2MYl3BLKbn6sHMrXjjY","CrazyDave",void 0);var $=c.ccclass,ee=c.property;e("CrazyDave",(p=$("CrazyDave"),b=ee([o]),h=ee([o]),y=ee([o]),f=ee([o]),_=ee([o]),g=ee([o]),A=ee([o]),L=ee([o]),m=ee([o]),d=ee([o]),E=ee([o]),k=ee([o]),C=ee([o]),P=ee([o]),w=ee([o]),I=ee([o]),z=ee([o]),T=ee([o]),M=ee([o]),p((B=i((N=function(e){function i(){for(var i,a=arguments.length,n=new Array(a),l=0;l<a;l++)n[l]=arguments[l];return i=e.call.apply(e,[this].concat(n))||this,t(i,"Eat_Taco",B,r(i)),t(i,"Special01",x,r(i)),t(i,"Special02",D,r(i)),t(i,"Special03",O,r(i)),t(i,"Special04",R,r(i)),t(i,"Special05",Y,r(i)),t(i,"Special06",H,r(i)),t(i,"Special07",U,r(i)),t(i,"Special08",j,r(i)),t(i,"Special09",F,r(i)),t(i,"Special10",G,r(i)),t(i,"Special11",W,r(i)),t(i,"Special12",X,r(i)),t(i,"Special13",K,r(i)),t(i,"Special14",q,r(i)),t(i,"Special15",J,r(i)),t(i,"Special16",Q,r(i)),t(i,"Special17",V,r(i)),t(i,"Shout",Z,r(i)),i}a(i,e);var l=i.prototype;return l.animationOnComplete=function(){},l.animationListener=function(e){e.name},l.NPC_ReadAction=function(e){var i=[],a="Say_Small",t=1,r=!1,n=!1;if(e.Lines){var l=S.getStringAndGraghicalLength(e.Lines);this.line.string=l.str,(t=Math.min(3,Math.round(l.length/21)))<=0&&(t=1),this.ShowLineBubble()}else this.HideLineBubble();switch(e.Action){case"SHOUT":i=this.Shout,a="Say_Shout";break;case"SPECIAL1":i=this.Special01,a=this.getSayAnmByLen(t);break;case"SPECIAL2":i=this.Special02,a="Say_Shout";break;case"SPECIAL3":i=this.Special03,a="Say_Shout";break;case"SPECIAL4":i=this.Special04,a="Say_Shout";break;case"SPECIAL5":i=this.Special05,a="Say_Shout";break;case"SPECIAL6":i=this.Special06,a="Say_Shout";break;case"SPECIAL7":i=this.Special07,a="Say_Shout";break;case"SPECIAL8":i=this.Special08,a="Say_Shout";break;case"SPECIAL9":i=this.Special09,a="Say_Med";break;case"SPECIAL10":i=this.Special10,a="Say_Med";break;case"SPECIAL11":i=this.Special11,a="Say_Shout";break;case"SPECIAL12":i=this.Special12,a="Say_Med";break;case"SPECIAL13":i=this.Special13,a="Say_Small";break;case"SPECIAL14":i=this.Special14,a="Say_Shout";break;case"SPECIAL15":i=this.Special15,a="Say_Med";break;case"SPECIAL16":i=this.Special16,a="Say_Med";break;case"SPECIAL17":i=this.Special17,a="Say_Long";break;case"PLAYFUL":switch(t){case 1:i=this.Playful_Short;break;case 2:i=this.Playful_Med;break;case 3:i=this.Playful_Long}a=this.getSayAnmByLen(t);break;case"SAY":switch(t){case 1:i=this.Say_Short;break;case 2:i=this.Say_Med;break;case 3:i=this.Say_Long}a=this.getSayAnmByLen(t);break;case"TIRED":switch(t){case 1:i=this.Tired_Short;break;case 2:i=this.Tired_Med;break;case 3:i=this.Tired_Long}a=this.getSayAnmByLen(t);break;case"EXCITED":switch(t){case 1:i=this.Excited_Short;break;case 2:i=this.Excited_Med;break;case 3:i=this.Excited_Long}a=this.getSayAnmByLen(t);break;case"SAY_TACO":i=this.Say_Long,a="Say_Taco";break;case"BRINGOUT_TACO":a="TakeOut_Taco",i=this.Enter,r=!0,n=!0,this.IdleAnim=["Idle_Taco"];break;case"EAT_TACO":a="Eat_Taco",i=this.Eat_Taco,r=!0,n=!0,this.IdleAnim=["Idle"]}this.playSaySounds(i),this.db.playAnimation(a,1),this.UnSkippable=r,this.WillNextStep=n},l.getSayAnmByLen=function(e){switch(e){case 1:return"Say_Small";case 2:return"Say_Medium";case 3:return"Say_Long"}},l.NPC_Enter=function(){var e;null==(e=this.audioSource)||e.stop(),this.IdleAnim=["Idle"],this.NPC_Entering=!0,this.WillNextStep=!0,this.db.playAnimation("Enter",1),u.playArray(this.Enter,1,.1)},l.NPC_Exit=function(){var e;null==(e=this.audioSource)||e.stop(),this.db.playAnimation("Exit",1),this.NPC_Exiting=!0,u.playArray(this.Exit,1,.1)},n(i,[{key:"NPC_Name",get:function(){return"crazydave"}}]),i}(s)).prototype,"Eat_Taco",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),x=i(N.prototype,"Special01",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=i(N.prototype,"Special02",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=i(N.prototype,"Special03",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=i(N.prototype,"Special04",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Y=i(N.prototype,"Special05",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),H=i(N.prototype,"Special06",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),U=i(N.prototype,"Special07",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j=i(N.prototype,"Special08",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=i(N.prototype,"Special09",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),G=i(N.prototype,"Special10",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),W=i(N.prototype,"Special11",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),X=i(N.prototype,"Special12",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),K=i(N.prototype,"Special13",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),q=i(N.prototype,"Special14",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),J=i(N.prototype,"Special15",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Q=i(N.prototype,"Special16",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),V=i(N.prototype,"Special17",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Z=i(N.prototype,"Shout",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=N))||v));l._RF.pop()}}}));

System.register("chunks:///_virtual/CrazyDaveIcon.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NPC.ts","./MultiLanguage.ts"],(function(e){var i,a,t,r,n,c,l,o,u,s;return{setters:[function(e){i=e.applyDecoratedDescriptor,a=e.inheritsLoose,t=e.initializerDefineProperty,r=e.assertThisInitialized,n=e.createClass},function(e){c=e.cclegacy,l=e._decorator,o=e.AudioClip},function(e){u=e.NPC},function(e){s=e.MultiLanguage}],execute:function(){var p,b,S,h,f,y,g,C,k,L,d,P,w,A,z,E,I,m,_,v,D,M,N,T,x,F,R,B,H,G,O,U,Y,j,q,W,X,J,K;c._RF.push({},"ffdb1dCkddGwp1AvCy0Fbq+","CrazyDaveIcon",void 0);var Q=l.ccclass,V=l.property;e("CrazyDaveIcon",(p=Q("CrazyDaveIcon"),b=V([o]),S=V([o]),h=V([o]),f=V([o]),y=V([o]),g=V([o]),C=V([o]),k=V([o]),L=V([o]),d=V([o]),P=V([o]),w=V([o]),A=V([o]),z=V([o]),E=V([o]),I=V([o]),m=V([o]),_=V([o]),p((M=i((D=function(e){function i(){for(var i,a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return i=e.call.apply(e,[this].concat(n))||this,t(i,"Special01",M,r(i)),t(i,"Special02",N,r(i)),t(i,"Special03",T,r(i)),t(i,"Special04",x,r(i)),t(i,"Special05",F,r(i)),t(i,"Special06",R,r(i)),t(i,"Special07",B,r(i)),t(i,"Special08",H,r(i)),t(i,"Special09",G,r(i)),t(i,"Special10",O,r(i)),t(i,"Special11",U,r(i)),t(i,"Special12",Y,r(i)),t(i,"Special13",j,r(i)),t(i,"Special14",q,r(i)),t(i,"Special15",W,r(i)),t(i,"Special16",X,r(i)),t(i,"Special17",J,r(i)),t(i,"Shout",K,r(i)),i}a(i,e);var c=i.prototype;return c.NPC_WhenOtherIsActioning=function(e,i){this.node.active=!1},c.NPC_ReadAction=function(e){this.node.active=!0;var i=[],a=1;if(e.Lines){var t=s.getStringAndGraghicalLength(e.Lines);this.line.string=t.str,(a=Math.min(3,Math.round(t.length/21)))<=0&&(a=1),this.ShowLineBubble()}else this.HideLineBubble();switch(e.Action){case"SHOUT":i=this.Shout;break;case"SPECIAL1":i=this.Special01;break;case"SPECIAL2":i=this.Special02;break;case"SPECIAL3":i=this.Special03;break;case"SPECIAL4":i=this.Special04;break;case"SPECIAL5":i=this.Special05;break;case"SPECIAL6":i=this.Special06;break;case"SPECIAL7":i=this.Special07;break;case"SPECIAL8":i=this.Special08;break;case"SPECIAL9":i=this.Special09;break;case"SPECIAL10":i=this.Special10;break;case"SPECIAL11":i=this.Special11;break;case"SPECIAL12":i=this.Special12;break;case"SPECIAL13":i=this.Special13;break;case"SPECIAL14":i=this.Special14;break;case"SPECIAL15":i=this.Special15;break;case"SPECIAL16":i=this.Special16;break;case"SPECIAL17":i=this.Special17;break;case"PLAYFUL":switch(a){case 1:i=this.Playful_Short;break;case 2:i=this.Playful_Med;break;case 3:i=this.Playful_Long}break;case"SAY":switch(a){case 1:i=this.Say_Short;break;case 2:i=this.Say_Med;break;case 3:i=this.Say_Long}break;case"TIRED":switch(a){case 1:i=this.Tired_Short;break;case 2:i=this.Tired_Med;break;case 3:i=this.Tired_Long}break;case"EXCITED":switch(a){case 1:i=this.Excited_Short;break;case 2:i=this.Excited_Med;break;case 3:i=this.Excited_Long}}this.playSaySounds(i)},c.NPC_Enter=function(){var e;null==(e=this.audioSource)||e.stop(),this.Controller.RunFlow()},c.NPC_Exit=function(){var e;null==(e=this.audioSource)||e.stop(),this.node.active=!1},n(i,[{key:"NPC_Name",get:function(){return"crazydaveicon"}}]),i}(u)).prototype,"Special01",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),N=i(D.prototype,"Special02",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),T=i(D.prototype,"Special03",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),x=i(D.prototype,"Special04",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=i(D.prototype,"Special05",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=i(D.prototype,"Special06",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B=i(D.prototype,"Special07",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),H=i(D.prototype,"Special08",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),G=i(D.prototype,"Special09",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=i(D.prototype,"Special10",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),U=i(D.prototype,"Special11",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Y=i(D.prototype,"Special12",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j=i(D.prototype,"Special13",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),q=i(D.prototype,"Special14",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),W=i(D.prototype,"Special15",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),X=i(D.prototype,"Special16",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),J=i(D.prototype,"Special17",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),K=i(D.prototype,"Shout",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=D))||v));c._RF.pop()}}}));

System.register("chunks:///_virtual/CurrencyCount.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MultiLanguage.ts"],(function(e){var t,n,i,r,a,o,u,l,s,h,c,p,f,m,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized,a=e.createClass},function(e){o=e.cclegacy,u=e._decorator,l=e.Label,s=e.Node,h=e.CCInteger,c=e.game,p=e.UITransform,f=e.Vec3,m=e.Component},function(e){b=e.MultiLanguage}],execute:function(){var w,g,d,y,v,C,L,V,_,M,z;o._RF.push({},"e6e50mmoUtIBoehQwOpMZPz","CurrencyCount",void 0);var x=u.ccclass,I=u.property;e("CurrencyCount",(w=x("CurrencyCount"),g=I(l),d=I(Boolean),y=I(s),v=I(h),w((V=t((L=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,i(t,"showerLabel",V,r(t)),i(t,"thousandComma",_,r(t)),i(t,"icon",M,r(t)),t._shownValue=0,i(t,"maxWidth",z,r(t)),t._value=0,t}n(t,e);var o=t.prototype;return o.update=function(e){var t=c.deltaTime;if(this.shownValue!=this.value){var n=this.value-this.shownValue,i=n*t*10;i=n>0?Math.ceil(i):Math.floor(i),this.shownValue+=i}},o.onValueSet=function(e){},a(t,[{key:"shownValue",get:function(){return this._shownValue},set:function(e){if(this._shownValue=e,this.showerLabel){if(this.thousandComma){var t=b.getNumberWithThousandComma(e);this.showerLabel.string=t}else this.showerLabel.string=Math.round(e).toString();var n=Math.min(1,this.maxWidth/this.showerLabel.getComponent(p).width);this.showerLabel.node.scale=new f(n,n,n)}}},{key:"value",get:function(){return this._value},set:function(e){this.onValueSet(e),e<0&&(e=0),this._value=e}}]),t}(m)).prototype,"showerLabel",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=t(L.prototype,"thousandComma",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),M=t(L.prototype,"icon",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(L.prototype,"maxWidth",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 170}}),C=L))||C));o._RF.pop()}}}));

System.register("chunks:///_virtual/Dandelion.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./CharacterManager.ts","./Square.ts","./NodePools.ts","./ArrayGet.ts","./Character.ts","./SoundRescourses.ts","./Projectiles.ts"],(function(o){var t,n,e,i,a,r,s,l,u,d,h,c,f,p,S,y,w,b,P,m,v,x,g,C,_;return{setters:[function(o){t=o.applyDecoratedDescriptor,n=o.inheritsLoose,e=o.initializerDefineProperty,i=o.assertThisInitialized,a=o.createClass,r=o.asyncToGenerator,s=o.regeneratorRuntime,l=o.createForOfIteratorHelperLoose},function(o){u=o.cclegacy,d=o._decorator,h=o.AudioClip,c=o.Prefab,f=o.Node,p=o.Vec2,S=o.tween},function(o){y=o.Plant,w=o.PlantProps},function(o){b=o.Rectangle,P=o.ZombiePool},function(o){m=o.Square},function(o){v=o.instantiatePooly},function(o){x=o.ArrayGet},function(o){g=o.CharacterType},function(o){C=o.sounds},function(o){_=o.ProjectileShootingFunctions}],execute:function(){var L,A,j,O,R,k,D,z,I,B,F,T,M,q,E,Z,N,X,V,W,H,Y,G,J,U,K,Q,$,oo,to;u._RF.push({},"26b5ed92T9I8JJ8+hjxNWAR","Dandelion",void 0);var no=d.ccclass,eo=d.property,io=function(o){function t(){for(var t,n=arguments.length,e=new Array(n),i=0;i<n;i++)e[i]=arguments[i];return(t=o.call.apply(o,[this].concat(e))||this).ShootInterval=2,t.ShootIntervalAdditional=.15,t.BlowRecoverTime=12,t.BlowProjectileCount=12,t.PeaType="dandelion",t.PeaTypePlantfood="dandelion_pf",t.PeaTypeBlew="dandelion_blew",t}return n(t,o),t}(w),ao=o("dandelionSound",(L=no("dandelionSound"),A=eo([h]),j=eo([h]),O=eo([h]),R=eo([h]),k=eo([h]),D=eo([h]),z=eo([h]),I=eo([h]),B=eo([h]),L((M=t((T=function(){function o(){e(this,"shootSounds",M,this),e(this,"shootSaySounds",q,this),e(this,"foodSaySounds",E,this),e(this,"foodStartSaySounds",Z,this),e(this,"foodStartSounds",N,this),e(this,"foodShootSounds",X,this),e(this,"foodShootSaySounds",V,this),e(this,"blowSounds",W,this),e(this,"blowSaySounds",H,this)}var t=o.prototype;return t.playShootSound=function(){C.playArray(this.shootSounds,.5,.5)},t.playShootSaySound=function(){C.playArray(this.shootSaySounds,.5,.5)},t.playFoodSaySound=function(){C.playArray(this.foodSaySounds,1,.5)},t.playFoodStartSaySound=function(){C.playArray(this.foodStartSaySounds,1,.1)},t.playFoodStartSound=function(){C.playArray(this.foodStartSounds,1,.1)},t.playFoodShootSound=function(){C.playArray(this.foodShootSounds,1,.1)},t.playFoodShootSaySound=function(){C.playArray(this.foodShootSaySounds,1,.1)},t.playBlowSound=function(){C.playArray(this.blowSounds,1,.1)},t.playBlowSaySound=function(){C.playArray(this.blowSaySounds,1,.1)},o}()).prototype,"shootSounds",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),q=t(T.prototype,"shootSaySounds",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),E=t(T.prototype,"foodSaySounds",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Z=t(T.prototype,"foodStartSaySounds",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),N=t(T.prototype,"foodStartSounds",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),X=t(T.prototype,"foodShootSounds",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),V=t(T.prototype,"foodShootSaySounds",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),W=t(T.prototype,"blowSounds",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),H=t(T.prototype,"blowSaySounds",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=T))||F));o("DandelionPlant",(Y=no("DandelionPlant"),G=eo(ao),J=eo(c),U=eo(f),Y(($=t((Q=function(o){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(t=o.call.apply(o,[this].concat(a))||this).detectors=[],t._objdataOwn=new io,e(t,"soundRes",$,i(t)),t.foodDropArea=0,t._blew=!1,t.blewCD=0,t._blowPrjLeftCount=0,e(t,"throwParticle",oo,i(t)),t.shooting=!1,t.willShootLane=0,e(t,"peaSpawnPoint",to,i(t)),t.shootCD=0,t}n(t,o);var u=t.prototype;return u.specialPlantOnSquareChange=function(o,t){var n,e,i=this;this.detectors=[],[null==t?void 0:t.inLane,null==t||null==(n=t.inLane)?void 0:n.UpperLane,null==t||null==(e=t.inLane)?void 0:e.LowerLane].forEach((function(o){o&&i.detectors.push({inLane:o,rec:b.createRectangleSide(new p(t.node.worldPosition.x,o.midY),m.SquareWidth*(9-t.cIndex),m.SquareHeight)})}))},u.specialPlantOnEnable=function(){this.shootCD=0,this.shooting=!1,this.willShootLane=0,this.blew=!1,this.anmControl.playIdle()},u.dropOnZombies=function(){var o=r(s().mark((function o(t){var n,e,i,a,r,u,d,h,c,f;return s().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:n=m.getSquareWorldPosition(0,2,1,1).x,e=m.getSquareWorldPosition(0,5,1,1).x,i=7,a=l(P.pool());case 4:if((r=a()).done){o.next=24;break}if(u=r.value,!(1==t&&u.worldPositionX<n)){o.next=12;break}return o.next=9,this._dropOnZombie(this._objdataOwn.PeaTypePlantfood,u);case 9:i--,o.next=22;break;case 12:if(!(2==t&&u.worldPositionX>=n&&u.worldPositionX<e)){o.next=18;break}return o.next=15,this._dropOnZombie(this._objdataOwn.PeaTypePlantfood,u);case 15:i--,o.next=22;break;case 18:if(!(0==t&&u.worldPositionX>=e)){o.next=22;break}return o.next=21,this._dropOnZombie(this._objdataOwn.PeaTypePlantfood,u);case 21:i--;case 22:o.next=4;break;case 24:if(!(i>0)){o.next=53;break}d=l(x.randomize(m.getAllLnC()));case 26:if((h=d()).done){o.next=53;break}if(c=h.value,!(i<=0)){o.next=30;break}return o.abrupt("return");case 30:if(f=null,!(1==t&&c.node.worldPosition.x<n)){o.next=38;break}return o.next=34,this._dropOnNode(this._objdataOwn.PeaTypePlantfood,c.node);case 34:f=o.sent,i--,o.next=50;break;case 38:if(!(2==t&&c.node.worldPosition.x>=n&&c.node.worldPosition.x<e)){o.next=45;break}return o.next=41,this._dropOnNode(this._objdataOwn.PeaTypePlantfood,c.node);case 41:f=o.sent,i--,o.next=50;break;case 45:if(!(0==t&&c.node.worldPosition.x>=e)){o.next=50;break}return o.next=48,this._dropOnNode(this._objdataOwn.PeaTypePlantfood,c.node);case 48:f=o.sent,i--;case 50:f&&(f.worldPositionX+=(.5-Math.random())*m.SquareWidth);case 51:o.next=26;break;case 53:case"end":return o.stop()}}),o,this)})));return function(t){return o.apply(this,arguments)}}(),u.blowStart=function(){return!this.blew&&!this.fooding&&(this.blewCD=this._objdataOwn.BlowRecoverTime*this._cdScale,this.blew=!0,this.anmControl.playAnimation("Blow"),this.soundRes.playBlowSaySound(),this.soundRes.playBlowSound(),!0)},u._dropOnZombie=function(){var o=r(s().mark((function o(t,n){var e;return s().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,_.lobOneCabbageOnZombie(t,new p(n.worldPositionX+300,n.worldPositionY),1e3+200*Math.random(),n.inLane.prjLayer,n,.025*Math.random()-.1,g.zombie,!1,100+40*Math.random(),!1,!0,.4);case 2:return e=o.sent,o.abrupt("return",e);case 4:case"end":return o.stop()}}),o)})));return function(t,n){return o.apply(this,arguments)}}(),u._dropOnNode=function(){var o=r(s().mark((function o(t,n){var e;return s().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,_.lobOneCabbageOnPos(t,new p(n.worldPosition.x+300,n.worldPosition.y),1e3+200*Math.random(),this.inLane.prjLayer,new p(n.worldPosition.x,n.worldPosition.y),.025*Math.random()-.1,g.zombie,100+40*Math.random(),0,!0);case 2:return e=o.sent,o.abrupt("return",e);case 4:case"end":return o.stop()}}),o,this)})));return function(t,n){return o.apply(this,arguments)}}(),u.playParticle=function(){var o=v(this.throwParticle);o.parent=this.inLane.prjLayer,o.worldPosition=this.peaSpawnPoint.worldPosition},u.detectEnemies=function(){var o=this,t=x.randomize(this.detectors);if(this.blew)return-2;for(var n,e=function(n){var e,i=null==(e=t[n].inLane)?void 0:e.zombiePool(),a=-2;if(null==i||i.forEach((function(e){-2==a&&e.bodyRecForShooter.judgeCrossRec(t[n].rec)&&(a=t[n].inLane.LaneIndex-o.lIndex)})),-2!=a)return{v:a};var r=t[n].inLane.tombPool();return null==r||r.forEach((function(e){-2==a&&e.bodyRec.judgeCrossRec(t[n].rec)&&(a=t[n].inLane.LaneIndex-o.lIndex)})),{v:a}},i=0;i<t.length;i++)if(n=e(i))return n.v;return-2},u.animationOnComplete=function(){this.shooting=!1},u.waterable=function(){return!this.shooting&&!this.blew},u.shootAnimation=function(){this.shooting=!0,this.shootCD=this._objdataOwn.ShootInterval+Math.random()*this._objdataOwn.ShootIntervalAdditional,this._cdScale&&(this.shootCD*=this._cdScale),this.anmControl.playAnimation("Shoot",1,.1,Math.max(1,2.2/this.shootCD))},u.recoverAnimation=function(){this.shooting=!0,this.anmControl.playAnimation("Recover",1),this.soundRes.playShootSaySound(),this.soundRes.playShootSound()},u.animationListener=function(o){"Shoot"==o.name?(this.soundRes.playShootSound(),this._shoot(this._objdataOwn.PeaType,this.willShootLane)):"shootSay"==o.name?this.soundRes.playShootSaySound():"foodShoot"==o.name?(this.dropOnZombies(this.foodDropArea++),this.soundRes.playFoodShootSaySound(),this.soundRes.playFoodShootSound()):"foodEnd"==o.name?this.foodEnd():"foodCharge"==o.name?(this.soundRes.playFoodStartSound(),this.soundRes.playFoodStartSaySound()):"Blow"==o.name?(this.blowPrjLeftCount=this._objdataOwn.BlowProjectileCount,S(this).to(1.1,{blowPrjLeftCount:0}).start()):"recover"==o.name?this.blew=!1:"playPar"==o.name&&this.playParticle()},u.specialPlantFood=function(o){this.anmControl.playAnimation("Food"),this.foodDropArea=0,this.blew=!1},u.specialPlantFoodEnd=function(){this.anmControl.playIdle()},u._shoot=function(){var o=r(s().mark((function o(t,n){var e,i,a;return s().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return i=null==(e=this.inLnC)?void 0:e.havePeaBuff,o.next=3,_.shootOnePea(t,new p(this.peaSpawnPoint.worldPosition.x,this.worldPositionY),this.peaSpawnPoint.worldPosition.y-this.worldPositionY,this.inLane.prjLayer,new p(2.2,0),g.zombie);case 3:a=o.sent,i&&a.addPeaBuff(),-1!=n&&1!=n||(a.linearVelocity=new p(2.2,-9*n/2),a.deceleration=new p(0,-Math.sign(a.linearVelocity.y)*Math.pow(a.linearVelocity.y,2)/(2*m.SquareHeight)));case 6:case"end":return o.stop()}}),o,this)})));return function(t,n){return o.apply(this,arguments)}}(),u.specialPlantUpdate=function(o,t,n){if(!this.fooding){if(this.shootCD>0)this.shootCD-=o;else if(n>0&&!this.blew){var e=this.detectEnemies();switch(e){case 1:case-1:case 0:this.shootAnimation(),this.willShootLane=e}}this.shooting||this.blew&&(this.blewCD-=o,this.blewCD<=0&&this.recoverAnimation())}},a(t,[{key:"blew",get:function(){return this._blew},set:function(o){o?(this.anmControl.IdleAnim="Idle_Blew",this.anmControl.RandomAnim=[],this.deathAnm="Death_Blew"):(this.anmControl.IdleAnim="Idle",this.anmControl.RandomAnim=["Random"],this.deathAnm="Death"),this._blew=o}},{key:"blowPrjLeftCount",get:function(){return this._blowPrjLeftCount},set:function(o){if(!this.dead&&this.node.active&&this.node.isValid){var t=[0];this.lIndex>0&&t.push(-1),this.lIndex<4&&t.push(1);for(var n=0;n<Math.floor(this._blowPrjLeftCount)-Math.floor(o);n++)this._shoot(this._objdataOwn.PeaTypeBlew,x.getRandom(t));this._blowPrjLeftCount=o}}}]),t}(y)).prototype,"soundRes",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new ao}}),oo=t(Q.prototype,"throwParticle",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),to=t(Q.prototype,"peaSpawnPoint",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=Q))||K));u._RF.pop()}}}));

System.register("chunks:///_virtual/DangerroomCard.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plants.ts","./NodePools.ts","./Droppings.ts","./AnimationController.ts"],(function(e){var t,n,r,i,a,o,s,c,l,u,p,f,d,h,b,m,y,g,v,C;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized,a=e.createClass,o=e.asyncToGenerator,s=e.regeneratorRuntime},function(e){c=e.cclegacy,l=e._decorator,u=e.Node,p=e.Label,f=e.Sprite,d=e.Color,h=e.Component,b=e.Vec3},function(e){m=e.PlantEnum,y=e.plants},function(e){g=e.instantiatePooly},function(e){v=e.droppings},function(e){C=e.AnimationController}],execute:function(){var k,w,D,P,z,I,x,S,_,L,A,R,F;c._RF.push({},"9a272r2LjxLH6zOoW1CyroR","DangerroomCard",void 0);var G=l.ccclass,T=l.property;e("DangerroomCard",(k=G("DangerroomCard"),w=T(u),D=T([p]),P=T(f),z=T(f),I=T(u),k((_=t((S=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,r(t,"displayer",_,i(t)),r(t,"suncost",L,i(t)),t.ID=0,r(t,"face",A,i(t)),r(t,"back",R,i(t)),t._selected=!1,r(t,"selection",F,i(t)),t}n(t,e);var c=t.prototype;return c.switchPlant=function(){var e=o(s().mark((function e(t){var n,r,i,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===t&&(t=this.ID),n="",this.displayer.destroyAllChildren(),!(t<m.amount)){e.next=19;break}return r=y.getPlantProps(t),n=r.SunCost.toString(),e.t0=g,e.next=9,y.getPlantsInCard(t);case 9:e.t1=e.sent.plantDIS,(i=(0,e.t0)(e.t1)).parent=this.displayer,i.position=new b(0,-20,0),(a=i.getComponent(C)).playIdle(),null==a||a.readCostume(t),this.scheduleOnce((function(){a.setTimeScale(0)}),0),e.next=29;break;case 19:e.t2=t,e.next=e.t2===m.amount?23:e.t2===m.amount+1?25:e.t2===m.amount+2?27:29;break;case 23:return g(v.SunMid),e.abrupt("break",29);case 25:return g(v.CoinGold),e.abrupt("break",29);case 27:return g(v.Gem),e.abrupt("break",29);case 29:this.ID=t,this.suncost.forEach((function(e){e.string=n}));case 31:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),c.turnFace=function(){this.face.node.active=!0,this.back.node.active=!1,this.switchPlant()},c.turnBack=function(){this.back.node.active=!0,this.face.node.active=!1},c.onLoad=function(){this.ID=-1},a(t,[{key:"selected",get:function(){return this._selected},set:function(e){this._selected=e,this.face.color=e?new d(122,122,122,255):new d(255,255,255,255),this.back.color=e?new d(122,122,122,255):new d(255,255,255,255),this.selection.active=e}}]),t}(h)).prototype,"displayer",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=t(S.prototype,"suncost",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=t(S.prototype,"face",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=t(S.prototype,"back",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=t(S.prototype,"selection",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=S))||x));c._RF.pop()}}}));

System.register("chunks:///_virtual/DangerroomCardChooser.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DangerroomCard.ts","./ArrayGet.ts","./SoundRescourses.ts","./Plants.ts","./CardFeatureTotal.ts","./levelController.ts","./PlayerProperties.ts","./Cards.ts","./MultiLanguage.ts"],(function(t){var e,n,o,r,i,a,l,c,s,u,d,p,h,g,f,b,m,v,C,y,S,w,P,A,z,D;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,r=t.assertThisInitialized,i=t.createClass},function(t){a=t.cclegacy,l=t._decorator,c=t.Label,s=t.Node,u=t.Button,d=t.AudioClip,p=t.tween,h=t.Vec3,g=t.UIOpacity,f=t.instantiate,b=t.Component},function(t){m=t.DangerroomCard},function(t){v=t.ArrayGet},function(t){C=t.sounds},function(t){y=t.PlantEnum,S=t.plants},function(t){w=t.CardFeatureTotal},function(t){P=t.LevelPlay},function(t){A=t.AllPlayerProperties},function(t){z=t.Cards},function(t){D=t.MultiLanguage}],execute:function(){var B,L,I,O,T,F,E,_,q,G,R,M,W,k,U,x,N,j,H,V,J,K,Q,X,Y,Z,$,tt,et,nt,ot,rt;a._RF.push({},"9bb67CbxB5FirIUCbI5LrwM","DangerroomCardChooser",void 0);var it=l.ccclass,at=l.property,lt=function(){function t(){this.oldWP=new h,this.oldAngle=0,this.card=null,this._selected=!1}return i(t,[{key:"selected",get:function(){return this._selected},set:function(t){this.card.selected=t,this._selected=t}}]),t}(),ct=(B=it("dangerroomPrepareTooltips"),L=at(c),I=at(c),B((F=e((T=function(){function t(){o(this,"Chooser",F,this),o(this,"Accept",E,this)}return t.prototype.setString=function(){this.Chooser&&(this.Chooser.string=D.getStringByProps("Dangerroom","Chooser")),this.Accept&&(this.Accept.string=D.getStringByProps("Dangerroom","Accept"))},t}()).prototype,"Chooser",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=e(T.prototype,"Accept",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=T))||O);t("DangerroomCardChooser",(_=it("DangerroomCardChooser"),q=at(ct),G=at([m]),R=at([s]),M=at(c),W=at(u),k=at(d),U=at(d),x=at(d),N=at(d),j=at(d),H=at(w),_((K=e((J=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i))||this,o(e,"tooltips",K,r(e)),o(e,"cardsAtTop",Q,r(e)),o(e,"cardSlots",X,r(e)),e.givenCards=[],e.done=!1,o(e,"introduction",Y,r(e)),o(e,"acceptButton",Z,r(e)),o(e,"cardGiveSound",$,r(e)),o(e,"cardReturnSound",tt,r(e)),o(e,"cardSelectSound",et,r(e)),o(e,"cardAcceptSound",nt,r(e)),o(e,"cardFlipSound",ot,r(e)),o(e,"card0",rt,r(e)),e.obtainedPlants=[0],e.cards=[],e}n(e,t);var i=e.prototype;return i.giveCards=function(t){var e=this,n=v.randomize(this.cardsAtTop);this.givenCards=[];for(var o=function(o){var r=new lt;r.oldWP=n[o].node.worldPosition.clone(),r.oldAngle=n[o].node.angle+0,r.card=n[o],e.givenCards.push(r);var i=e.cardSlots[o].worldPosition.clone();p(n[o].node).to(1.5,{}).call((function(){C.playOneShot(e.cardGiveSound,1,.1)})).to(.5,{worldPosition:i,angle:0},{easing:"quadInOut"}).call((function(){C.playOneShot(e.cardFlipSound,1,.1)})).to(.2,{scale:new h(0,1,1)},{easing:"quadIn"}).call((function(){n[o].ID=t[o],n[o].turnFace()})).to(.2,{scale:new h(1,1,1)},{easing:"quadOut"}).call((function(){n[o].node.on(s.EventType.MOUSE_DOWN,(function(t){e.switchCard(r)}),e)})).start()},r=0;r<4&&r<n.length&&r<this.cardSlots.length&&r<t.length;r++)o(r);P.component.dangerroomLevel.plantsToChoose=t.concat(),A.savePP()},i.returnCards=function(){var t=this;this.done||(this.done=!0,P.component.dangerroomLevel.plantsToChoose=null,P.component.dangerroomLevel.plantChosen=!0,C.playOneShot(this.cardFlipSound,1,.1),this.introduction.node.parent.active=!1,this.acceptButton.node.active=!1,this.givenCards.forEach((function(e){if(e.selected){var n=e.card.ID;n>=0&&n<y.amount&&A.pushPlantToEndlessProperty(n,P.component.dangerroomLevel)}else p(e.card.node).to(.2,{scale:new h(0,1,1)},{easing:"quadIn"}).call((function(){e.card.turnBack()})).to(.2,{scale:new h(1,1,1)},{easing:"quadOut"}).to(.5,{}).call((function(){C.playOneShot(t.cardReturnSound,1,.1)})).to(.7,{worldPosition:e.oldWP,angle:e.oldAngle},{easing:"quadInOut"}).start()})),p(this.getComponent(g)).to(2,{}).call((function(){z.component.plantsCanBeChosen=P.component.dangerroomLevel.obtainedPlants.concat(),P.component.moveCamera()})).to(1,{opacity:0}).call((function(){t.node.active=!1})).start())},i.switchCard=function(t){if(!this.done){this.givenCards.forEach((function(t){t.selected=!1})),C.playOneShot(this.cardSelectSound,1,.1),t.selected=!0;var e=t.card.ID,n=e>=0&&e<y.amount;this.introduction.node.parent.active=n,this.acceptButton.node.active=n,n&&(this.introduction.string=D.getString(S.getPlantAlmanac(e).BriefIntroduction),this.acceptButton.node.worldPosition=t.card.node.worldPosition.clone().add(new h(0,-170,0)))}},i.onLoad=function(){},i.onEnable=function(){var t=this;this.cards=[],this.cards.push(this.card0);for(var e=1;e<this.obtainedPlants.length;e++){var n=f(this.card0.node);n.parent=this.card0.node.parent,this.cards.push(n.getComponent(w))}this.obtainedPlants.forEach((function(e,n){var o;null==(o=t.cards[n])||o.cardGrouper(e)})),this.introduction.node.parent.active=!1,this.acceptButton.node.active=!1,this.done=!1,this.tooltips.setString()},e}(b)).prototype,"tooltips",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new ct}}),Q=e(J.prototype,"cardsAtTop",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),X=e(J.prototype,"cardSlots",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Y=e(J.prototype,"introduction",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=e(J.prototype,"acceptButton",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=e(J.prototype,"cardGiveSound",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),tt=e(J.prototype,"cardReturnSound",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),et=e(J.prototype,"cardSelectSound",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),nt=e(J.prototype,"cardAcceptSound",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ot=e(J.prototype,"cardFlipSound",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rt=e(J.prototype,"card0",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=J))||V));a._RF.pop()}}}));

System.register("chunks:///_virtual/DarkBasicZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./Armors.ts"],(function(e){var o,r,i,t,n,a,u,s,c;return{setters:[function(e){o=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,t=e.assertThisInitialized},function(e){n=e.cclegacy,a=e._decorator,u=e.dragonBones},function(e){s=e.Zombie},function(e){c=e.armorEnum}],execute:function(){var l,d,h,m,p;n._RF.push({},"a2fdf+IiPJOcbW0gNMdABzB","DarkBasicZombie",void 0);var f=a.ccclass,g=a.property;e("DarkBasicZombie",(l=f("DarkBasicZombie"),d=g(u.ArmatureDisplay),l((p=o((m=function(e){function o(){for(var o,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return o=e.call.apply(e,[this].concat(n))||this,i(o,"shoulder",p,t(o)),o}r(o,e);var n=o.prototype;return n.judgeShoulder=function(){var e=!1,o=2;this.armors.forEach((function(r){e||r.ID==c.dark_armor3&&(e=!0,o=r.stage<o?r.stage:o)})),this.shoulder.node.active=e,e&&this.shoulder.playAnimation(o.toString())},n.playSpecialZombieDieForced=function(){this.judgeShoulder()},n.onDamaged=function(e,o,r){this.judgeShoulder()},n.onArmorDamaged=function(e,o){this.judgeShoulder()},n.onArmorThrown=function(e){this.judgeShoulder()},n.onArmorAdded=function(e){this.judgeShoulder()},n.specialZombieUpdate=function(e,o,r){var i;this.shoulder.customMaterial=null==(i=this.db)?void 0:i.customMaterial},n.specialZombieOnEnable=function(){this.judgeShoulder()},o}(s)).prototype,"shoulder",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=m))||h));n._RF.pop()}}}));

System.register("chunks:///_virtual/DarkGargantuarZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GargantuarZombie.ts","./SoundRescourses.ts","./Zombies.ts","./levelController.ts"],(function(n){var t,e,r,i,a,o,u,c,s,l,p;return{setters:[function(n){t=n.applyDecoratedDescriptor,e=n.inheritsLoose,r=n.initializerDefineProperty,i=n.assertThisInitialized},function(n){a=n.cclegacy,o=n._decorator,u=n.AudioClip},function(n){c=n.GargantuarZombie},function(n){s=n.sounds},function(n){l=n.ZombieEnum},function(n){p=n.LevelPlay}],execute:function(){var f,m,h,b,d;a._RF.push({},"46db1BvNoZPlofkCGJJY+ut","DarkGargantuarZombie",void 0);var g=o.ccclass,k=o.property;n("DarkGargantuarZombie",(f=g("DarkGargantuarZombie"),m=k(u),f((d=t((b=function(n){function t(){for(var t,e=arguments.length,a=new Array(e),o=0;o<e;o++)a[o]=arguments[o];return t=n.call.apply(n,[this].concat(a))||this,r(t,"hitSound",d,i(t)),t.impEnum=l.dark_imp,t}e(t,n);var a=t.prototype;return a.specialGargantuarAnimationListener=function(n){"hit"==n.name&&s.playOneShot(this.hitSound,1,.1)},a.onSmashing=function(n){p.shakeScreen()},a.knockBackDistanceScale=function(){return.5},t}(c)).prototype,"hitSound",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=b))||h));a._RF.pop()}}}));

System.register("chunks:///_virtual/DarkJesterZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./SoundRescourses.ts","./Character.ts"],(function(t){var e,i,n,o,a,r,s,l,c,u,h,d,p,g;return{setters:[function(t){e=t.inheritsLoose,i=t.applyDecoratedDescriptor,n=t.initializerDefineProperty,o=t.assertThisInitialized,a=t.createClass},function(t){r=t.cclegacy,s=t._decorator,l=t.AudioClip,c=t.Vec2,u=t.tween},function(t){h=t.ZombieProps,d=t.Zombie},function(t){p=t.sounds},function(t){g=t.CharacterType}],execute:function(){var y,b,f,m,w,S,v,j,P,k,O,D,E;r._RF.push({},"b94a35XGStGxr/hrzHbrazc","DarkJesterZombie",void 0);var A=s.ccclass,L=s.property,z=function(t,e,i,n,o,a,r){var s=this;this.cs=void 0,this.moveTween=[],this.cs=t,t.gravity=.666,t.bodyLinearVelocity=-.55,t.linearVelocity=new c(0,0),t.detectEnemyOn=!1,t.targetLocked=null,t.parentLock=!1,t.maxDistance=1/0;var l=r.inLane;r&&r.caughtPrjs.push(this),this.moveTween=[u(t).to(e/2,{worldPosition:a},{easing:"quadOut"}).call((function(){!l||!t.node.active||null!=t&&t.dead?r.splicePrj(s):(t.node.setParent(r.node.parent,!0),t.node.setSiblingIndex(r.node.getSiblingIndex()))})).to(e/2,{worldPosition:o},{easing:"quadIn"}).start(),u(t).to(e,{height:i},{easing:"backOut"}).call((function(){r&&r.splicePrj(s),t.linearVelocity=n,t.enemyType=null!=r&&r.hypnotized?g.zombie:g.plant,t.detectEnemyOn=!0,t.targetLocked=null,t.bodyLinearVelocity=0,t.gravity=0})).start()]},T=t("DarkJesterProps",function(t){function i(){for(var e,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this).MoveSpeedMultiplierWhileJuggling=2,e.RotateDuration=2,e}return e(i,t),i}(h));t("DarkJesterZombie",(y=A("DarkJesterZombie"),b=L([l]),f=L(l),m=L(l),w=L(l),S=L(l),y((P=i((j=function(t){function i(){for(var e,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))||this)._objdataOwn=new T,e._objdataOwnOrg=new T,e.rotating=!1,e.rotateCD=1,e.caughtPrjs=[],n(e,"ringSounds",P,o(e)),n(e,"rotateStartSound",k,o(e)),n(e,"rotateEndSound",O,o(e)),n(e,"rotateLoopSound",D,o(e)),n(e,"throwSound",E,o(e)),e}e(i,t);var r=i.prototype;return r.playSpecialZombieDieForced=function(){this.throwAllPrjs()},r.playSpecialZombieDie=function(t){this.rotating&&this.judgeDeath(.1)},r.commonShotPopOnTouch=function(t){var e;if(this.shouldSpeedScale()<=0)return!0;if(null==(e=t.node)||!e.active||null!=t&&t.dead)return!1;var i=t.linearVelocity.x*this.scale>0;if(t.canbeJesterReversed&&i){new z(t,1,.667*this.zombieHeight,new c(this.reversed?8:-8,0),this.worldPosition.clone().add(new c(this.reversed?30:-30,0)),this.worldPosition.clone().add(new c(this.reversed?-30:30,0)),this);return this.rotateStart(),!1}return!0},r.splicePrj=function(t){t.moveTween.forEach((function(t){t.stop()}));var e=this.caughtPrjs.indexOf(t);-1!=e&&this.caughtPrjs.splice(e,1),this.caughtPrjs.length<=0&&(this.rotateCD=this.objdataOwn.RotateDuration)},r.specialZombieOnEnable=function(){this.rotating=!1,this.body.WalkAnm="Walk",this.body.EatAnm="Eat",this.replayAnimation()},r.rotateStart=function(){this.rotateCD=this.objdataOwn.RotateDuration,this.rotating||(this.rotating=!0,this.body.WalkAnm="RotateLoop",this.body.EatAnm="RotateLoop",this.body.playAnimation("RotateStart",1,.1),this.switching=!0,this.isWalking=!1,p.playOneShot(this.rotateStartSound,1,.1))},r.rotateEnd=function(){this.rotating&&(this.rotating=!1,this.body.WalkAnm="Walk",this.body.EatAnm="Eat",this.body.playAnimation("RotateEnd"),this.switching=!0,this.isWalking=!1,p.playOneShot(this.rotateEndSound,1,.1))},r.throwAllPrjs=function(){var t=this;this.caughtPrjs.forEach((function(e){var i;null==(i=e.moveTween)||i.forEach((function(t){t.stop()}));var n=t.defaultDirection().multiply2f(.55,1);e.cs.gravity=.666,e.cs.linearVelocity=new c(n.x,0),e.cs.detectEnemyOn=!0,e.cs.bodyLinearVelocity=n.y,e.cs.enemyType=g.zombie})),this.caughtPrjs=[]},r.walkTimeScale=function(t,e,i){return this.rotating?i:this.defaultWalkTimeScale(t,e,i)},r.walkSpeedScaleExtra=function(){return this.rotating?this.objdataOwn.MoveSpeedMultiplierWhileJuggling:1},r.specialAnimationListener=function(t){this.isWalking||"throw"!=t.name||p.playOneShot(this.throwSound,.3,.1)},r.specialZombieUpdateForced=function(t,e,i,n){this.caughtPrjs=this.caughtPrjs.filter((function(t){var e,i,n;return!(null==(e=t.cs)||null==(e=e.node)||!e.active||null!=(i=t.cs)&&i.dead)||(null==(n=t.moveTween)||n.forEach((function(t){null==t||t.stop()})),t.moveTween=[],!1)}))},r.specialZombieUpdate=function(t,e,i){this.caughtPrjs.length<=0&&this.rotating&&(this.rotateCD>0&&(this.rotateCD-=t),this.rotateCD<=0&&this.rotateEnd()),this.caughtPrjs.forEach((function(t){t.cs.bodyLinearVelocity=-1})),this.isWalking&&t>0&&(this.rotating?p.playOneShot(this.rotateLoopSound,1,NaN,.5,!1,!0,1):p.playArray(this.ringSounds,1,NaN,.8))},a(i,[{key:"objdataOwn",get:function(){return this._objdataOwn}},{key:"objdataOwnOrg",get:function(){return this._objdataOwnOrg}}]),i}(d)).prototype,"ringSounds",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=i(j.prototype,"rotateStartSound",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=i(j.prototype,"rotateEndSound",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=i(j.prototype,"rotateLoopSound",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=i(j.prototype,"throwSound",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=j))||v));r._RF.pop()}}}));

System.register("chunks:///_virtual/DarkKingZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./CharacterManager.ts","./Square.ts","./SoundRescourses.ts","./Plants.ts","./NodePools.ts","./ArrayGet.ts","./ParticleSelfdestroy.ts","./Zombies.ts","./Armors.ts"],(function(i){var n,e,t,r,a,o,s,l,u,c,h,d,f,p,g,m,b,y,S,w,k,v,P,A,D;return{setters:[function(i){n=i.applyDecoratedDescriptor,e=i.inheritsLoose,t=i.initializerDefineProperty,r=i.assertThisInitialized,a=i.createClass,o=i.asyncToGenerator,s=i.regeneratorRuntime,l=i.createForOfIteratorHelperLoose},function(i){u=i.cclegacy,c=i._decorator,h=i.AudioClip,d=i.Prefab,f=i.Vec2},function(i){p=i.ZombieSort,g=i.Zombie,m=i.ZombieProps},function(i){b=i.Rectangle},function(i){y=i.Square},function(i){S=i.sounds},function(i){w=i.plants},function(i){k=i.instantiatePooly},function(i){v=i.ArrayGet},function(i){P=i.ParticleSelfdestroy},function(i){A=i.zombies},function(i){D=i.armorEnum}],execute:function(){var C,L,z,Z,E,x,_,K,I,O,B,T,q,j,R,F,M,V,W,G,H,N,X,U,Y,J,Q;u._RF.push({},"9a8c2Eb8BdEipMSk4CFKii0","DarkKingZombie",void 0);var $=c.ccclass,ii=c.property,ni=function(i){function n(){for(var n,e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return(n=i.call.apply(i,[this].concat(t))||this).PlantablePlants=["cherry_bomb","jalapeno","powerlily","iceburg","empea","powerplant","goldleaf","grapeshot"],n.KnightingAreaW=4,n.DelayBetweenKnightings=2.5,n.ValidKnightTargets=["dark","dark_armor1","dark_armor2","dark_armor3"],n.TargetListBecomesBlackList=!1,n.ArmorToGive="dark_armor3",n}return e(n,i),n}(m);i("DarkKingZombie",(C=$("DarkKingZombie"),L=ii([h]),z=ii([h]),Z=ii([h]),E=ii([h]),x=ii([h]),_=ii([h]),K=ii([h]),I=ii([h]),O=ii([h]),B=ii([h]),T=ii([h]),q=ii(d),C((F=n((R=function(i){function n(){for(var n,e=arguments.length,a=new Array(e),o=0;o<e;o++)a[o]=arguments[o];return(n=i.call.apply(i,[this].concat(a))||this)._objdataOwn=new ni,n.isBrainEater=!1,n.ValidKnightTargets=[],n.PlantablePlants=[],n.knockBackable=!1,n.knightDetector=new b,n.finalWaveVictoryCountdown=0,t(n,"deathSaySounds",F,r(n)),t(n,"headPopSounds",M,r(n)),t(n,"attackSaySounds",V,r(n)),t(n,"giveSounds",W,r(n)),t(n,"musicSounds",G,r(n)),t(n,"smashSounds",H,r(n)),t(n,"pukeSounds",N,r(n)),t(n,"swallowSounds",X,r(n)),t(n,"dropSaySounds",U,r(n)),t(n,"dropMusicSounds",Y,r(n)),t(n,"knightEffectSounds",J,r(n)),t(n,"knightEffectPar",Q,r(n)),n.knightEffectCD=0,n.knightingCD=0,n.givenArmor=null,n}e(n,i);var u=n.prototype;return u.playWalk=function(i){void 0===i&&(i=0),this.isWalking=!1,this.playIdle(i)},u.playSandStorm=function(i,n){this.worldPositionX=i,this.playDirtSpawn(0)},u.CanBeScaredByTyranno=function(){return!1},u.onObjdataSet=function(i){var n,e,t=this;this.PlantablePlants=[],null==(n=this._objdataOwn.PlantablePlants)||n.forEach((function(i){var n=w.getPlantEnumByCodename(i,!1);isNaN(n)||t.PlantablePlants.push(n)})),this.ValidKnightTargets=[],null==(e=this._objdataOwn.ValidKnightTargets)||e.forEach((function(i){var n=A.getZombieEnumByCodename(i);isNaN(n)||t.ValidKnightTargets.push(n)}))},u.onRoaredByTyranno=function(i){},u.specialZombieKnockbackable=function(){return!1},u.allowPlantInSquare=function(i){return-1==this.PlantablePlants.indexOf(i)},u.specialZombieUpdate=function(i,n,e){this.detectKnight(i)},u.detectPlant=function(i){},u.specialZombieOnEnable=function(){this.switching=!1,this.givenArmor=null,this.knightingCD=0},u.onLaneSpawnSettled=function(i,n){this.worldPositionX=y.getSquareWorldPosition(0,this.reversed?0:8).x,this.body.playAnimation("Spawn",1/0),this.bodyRecHiddenCD=2,this.switching=!0},u.onPutDirectly=function(i){this.worldPositionX=i.node.worldPosition.x},u.onDirtSpawned=function(i){this.playIdle(0),this.switching=!1,this.bodyRecHiddenCD=0},u.animationOnLPComplete=function(){this.switching=!1},u.playSpecialZombieDie=function(i){this.judgeDeath(0)},u.playSpecialZombieDieForced=function(){this.removeFromLnC(this.inLnC)},u.removeFromLnC=function(i){if(i){var n=i.gridZombiesInSquare.indexOf(this);-1!=n&&i.gridZombiesInSquare.splice(n,1),i.readIndex()}},u.specialZombieOnSquareChange=function(i,n){this.removeFromLnC(i),n&&this.isAlive()&&(-1==n.gridZombiesInSquare.indexOf(this)&&n.gridZombiesInSquare.push(this),n.readIndex(),this.knightDetector=b.createRectangleSide(new f(n.node.worldPosition.x+.5*y.SquareWidth*(this.reversed?-1:1),n.node.worldPosition.y),this._objdataOwn.KnightingAreaW*(this.reversed?1:-1)*y.SquareWidth,3*y.SquareHeight))},u.specialAnimationListener=function(i){var n=this;if("deathSay"==i.name)S.playArray(this.deathSaySounds,1,.1);else if("headPop"==i.name)S.playArray(this.headPopSounds,1,.1);else if("puke"==i.name)S.playArray(this.pukeSounds,1,.1);else if("swallow"==i.name)S.playArray(this.swallowSounds,1,.1);else if("attackSay"==i.name)S.playArray(this.attackSaySounds,1,.1);else if("give"==i.name)S.playArray(this.giveSounds,1,.1),this._give();else if("music"==i.name)S.playArray(this.musicSounds,1,.1);else if("smash"==i.name){var e,t,r;S.playArray(this.smashSounds,1,.1),S.playArray(this.dropSaySounds,1,.1),S.playArray(this.dropMusicSounds,1,.1),null==(e=this.inLnC.gridZombiesInSquare)||e.concat().forEach((function(i){i!=n&&n.isAlive()&&i.playDie()}));var a=!0;null==(t=this.inLnC.getAllPlants())||t.forEach((function(i){i.kill(),i.isAlive()&&(a=!1)})),null==(r=this.inLnC)||null==(r=r.tombStone)||r.die(),a||this.playDie()}else"Idle"==i.name&&(this.isIdling=!1,this.playIdle(0),this.switching=!1)},u._give=function(){var i=o(s().mark((function i(){var n,e,t,r,a,o,u,c,h,d,f;return s().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:n=null,e=this._objdataOwn.ArmorToGive,t=l(v.randomize([null==(a=this.inLane)?void 0:a.UpperLane,this.inLane,null==(o=this.inLane)?void 0:o.LowerLane]));case 3:if((r=t()).done){i.next=23;break}if((u=r.value)&&!n){i.next=7;break}return i.abrupt("return");case 7:c=v.randomize(this.hypnotized?u.hypnoZombiePool():u.zombiePool()),h=l(c);case 9:if((d=h()).done){i.next=21;break}if(f=d.value,!n){i.next=13;break}return i.abrupt("return");case 13:if(!this.zombieCanAddArmor(f)){i.next=19;break}return f.throwAllArmors(),i.next=17,f.addArmor(e);case 17:(n=i.sent)&&this.isAlive()&&(n.hurting=25,this.givenArmor=n,this.knightingCD=this._objdataOwn.DelayBetweenKnightings,this.knightEffectCD=0);case 19:i.next=9;break;case 21:i.next=3;break;case 23:case"end":return i.stop()}}),i,this)})));return function(){return i.apply(this,arguments)}}(),u.zombieCanAddArmor=function(i){if(i.haveArmor(D.dark_armor3)||!i.isRealZombie||i.ZombieSort==p.Zomboss)return!1;var n=-1!=this.ValidKnightTargets.indexOf(i.OID);return this._objdataOwn.TargetListBecomesBlackList&&(n=!n),n&&this.knightDetector.judgeInRec(i.worldPositionX,i.worldPositionY)},u.detectKnight=function(i){var n,e=this;if(!(i<=0))if(this.switching||(this.knightingCD-=i),this.knightingCD>0){if(this.knightEffectCD>0)this.knightEffectCD-=i;else if(null!=(n=this.givenArmor)&&n.isAlive()){this.knightEffectCD=.5,S.playArray(this.knightEffectSounds,1,.2);var t=k(this.knightEffectPar).getComponent(P);t.node.parent=this.givenArmor.owner.node.parent,t.node.worldPosition=this.givenArmor.node.worldPosition,t.db.playAnimation("Play"+Math.floor(4*Math.random()).toString())}}else if(!this.switching){var r,a;this.knightingCD=0,this.givenArmor=null;var o=!1;v.randomize([null==(r=this.inLane)?void 0:r.UpperLane,this.inLane,null==(a=this.inLane)?void 0:a.LowerLane]).forEach((function(i){i&&!o&&v.randomize(e.hypnotized?i.hypnoZombiePool():i.zombiePool()).forEach((function(i){o||e.zombieCanAddArmor(i)&&(o=!0)}))})),o&&(this.switching=!0,this.body.playAnimation("Attack"))}},a(n,[{key:"plantDetectorRec",get:function(){return new b}}]),n}(g)).prototype,"deathSaySounds",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),M=n(R.prototype,"headPopSounds",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),V=n(R.prototype,"attackSaySounds",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),W=n(R.prototype,"giveSounds",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),G=n(R.prototype,"musicSounds",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),H=n(R.prototype,"smashSounds",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),N=n(R.prototype,"pukeSounds",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),X=n(R.prototype,"swallowSounds",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),U=n(R.prototype,"dropSaySounds",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Y=n(R.prototype,"dropMusicSounds",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),J=n(R.prototype,"knightEffectSounds",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Q=n(R.prototype,"knightEffectPar",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=R))||j));u._RF.pop()}}}));

System.register("chunks:///_virtual/DarkWizardSheep.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Character.ts","./SoundRescourses.ts","./ParticleSelfdestroy.ts"],(function(e){var n,i,a,t,r,s,o,l,u,c,h;return{setters:[function(e){n=e.applyDecoratedDescriptor,i=e.inheritsLoose,a=e.initializerDefineProperty,t=e.assertThisInitialized},function(e){r=e.cclegacy,s=e._decorator,o=e.AudioClip,l=e.dragonBones},function(e){u=e.Character},function(e){c=e.sounds},function(e){h=e.ParticleSelfdestroy}],execute:function(){var p,d,y,f,S,b,g,m,A,v,w,z,L;r._RF.push({},"fb2fbui2JZAiqtxkZOQhX5M","DarkWizardSheep",void 0);var D=s.ccclass,C=s.property;e("DarkWizardSheep",(p=D("DarkWizardSheep"),d=C([o]),y=C([o]),f=C([o]),S=C([o]),b=C(h),p((A=n((m=function(e){function n(){for(var n,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return(n=e.call.apply(e,[this].concat(r))||this).dead=!1,a(n,"chargeSounds",A,t(n)),a(n,"saySounds",v,t(n)),a(n,"explSaySounds",w,t(n)),a(n,"spawnSounds",z,t(n)),a(n,"psd",L,t(n)),n}i(n,e);var r=n.prototype;return r.characterUpdate=function(e){},r.characterOnLoadForced=function(){this.db.on(l.EventObject.FRAME_EVENT,this.animationListener,this)},r.animationListener=function(e){"bla"==e.name?c.playArray(this.saySounds,1,.7):"charge"==e.name?c.playArray(this.chargeSounds,1,.1):"expl"==e.name&&(c.playArray(this.explSaySounds,1,.1),this.shadeAlphaScale=0)},r.characterOnSquareChange=function(e,n){var i;this.dead||(e&&e.sheep==this&&(e.sheep=null),n?(null==(i=n.sheep)||i.die(),n.sheep=this):this.die())},r.die=function(){var e;this.dead=!0,this.db.playAnimation("Die"),this.psd&&(this.psd.willBeKilled=!0),(null==(e=this.inLnC)?void 0:e.sheep)==this&&this.inLnC.unsheepen()},r.characterOnEnable=function(){this.db.playAnimation("Spawn",1),this.dead=!1,this.shadeAlphaScale=1,c.playArray(this.spawnSounds,1,.1)},r.characterOnLaneChange=function(e,n){n&&this.node.setParent(n.icecubeLayer,!0)},n}(u)).prototype,"chargeSounds",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=n(m.prototype,"saySounds",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),w=n(m.prototype,"explSaySounds",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=n(m.prototype,"spawnSounds",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=n(m.prototype,"psd",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=m))||g));r._RF.pop()}}}));

System.register("chunks:///_virtual/DarkWizardZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./CharacterManager.ts","./SoundRescourses.ts","./LightningReed.ts","./Plants.ts","./Square.ts"],(function(i){var t,e,n,a,r,o,l,s,h,c,u,d,f,p,g,m,b,P;return{setters:[function(i){t=i.applyDecoratedDescriptor,e=i.inheritsLoose,n=i.initializerDefineProperty,a=i.assertThisInitialized,r=i.createClass},function(i){o=i.cclegacy,l=i._decorator,s=i.AudioClip,h=i.Node,c=i.Prefab},function(i){u=i.Zombie,d=i.ZombieProps},function(i){f=i.ZombieDamageDetails,p=i.PlantPool},function(i){g=i.sounds},function(i){m=i.lightningreed},function(i){b=i.PlantEnum},function(i){P=i.Square}],execute:function(){var y,w,v,S,C,A,_,T,k,L,D,z,E,I,j,O,B;o._RF.push({},"2d9cedBb0RE7orZSdYjXW4C","DarkWizardZombie",void 0);var R=l.ccclass,Z=l.property,W=function(i){function t(){for(var t,e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return(t=i.call.apply(i,[this].concat(n))||this).TimeBeforeFirst=7,t.TimeBeforeFirstAdditional=2,t.TimeBetween=11,t.TimeBetweenAdditional=3,t}return e(t,i),t}(d),F=i("wizard",function(){function i(){}return i.getPlantCanbeSheepened=function(i,t){return void 0===t&&(t=!1),i&&(!i.objdataOwn.CannotBeSheepenedByWizard||t&&i.ID==b.LilyPad)&&!i.invincible&&!i.fooding},i}());i("DarkWizardZombie",(y=R("DarkWizardZombie"),w=Z([s]),v=Z([s]),S=Z([s]),C=Z(h),A=Z(c),_=Z(c),T=Z(c),y((D=t((L=function(i){function t(){for(var t,e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return(t=i.call.apply(i,[this].concat(r))||this)._objdataOwn=new W,n(t,"chargeSounds",D,a(t)),n(t,"chargeSaySounds",z,a(t)),n(t,"magicSounds",E,a(t)),t.magicing=!1,t._firstTime=!1,t._targetPlant=null,t.magicCD=0,n(t,"magicFrom",I,a(t)),n(t,"linkPar",j,a(t)),n(t,"hitPar",O,a(t)),n(t,"sheep",B,a(t)),t.sheeps=[],t}e(t,i);var o=t.prototype;return o.specialAnimationListener=function(i){"charge"==i.name?g.playArray(this.chargeSounds,1,.1):"chargeSay"==i.name?g.playArray(this.chargeSaySounds,1,.1):"magic"==i.name&&(g.playArray(this.magicSounds,1,.1),this.isAlive()&&!this.hypnotized&&this._magic(),this._firstTime=!1)},o.animationOnLPComplete=function(){this.magicing=!1},o.specialPotionInvisibleInvalid=function(){return this.magicing},o.detectPlant=function(i){var t=this;if(this.hypnotized)this.defaultDetectPlant(i);else{if(0==i)return;if(!this.inLane)return void this.playWalk();if(!this.detectPlantOn())return;var e=this.plantDetectorRec,n=null,a=null;if(!this.ignorePlants()){var r,o;null==(r=this.inLane)||r.plantPool().forEach((function(i){i.eaterDetectable&&t.plantEatAllowed(i)&&e.judgeCrossRec(i.bodyRec)&&(n=i)}));var l=-1/0;null==(o=this.inLane)||o.hypnoZombiePool().forEach((function(i){var t=i.bodyRec.prjX().y;t>l&&e.judgeCrossRec(i.bodyRec)&&(l=t,a=i)}))}var s=new f(this.dps*i,!0,!1,!1,null);if(a)this.playEat(i),a.eatByZombie(s,this);else if(n){var h,c=n.plantInLnC,u=!0;null==c||null==(h=c.getAllPlants())||h.forEach((function(i){u&&(F.getPlantCanbeSheepened(i)||(u=!1))})),u?(this._targetPlant=n,this.attackAnm()):(this.playEat(i),n.eat(s.damage,this))}else this.allowWalk()?this.playWalk():(this.isWalking||this.isEating)&&this.playIdle()}},o.specialZombieOnEnable=function(){this.sheeps=[],this._firstTime=!0,this.magicing=!1,this.magicCD=this._objdataOwn.TimeBeforeFirst+this._objdataOwn.TimeBeforeFirstAdditional*Math.random()},o.onObjdataSet=function(i){this.magicCD=this._objdataOwn.TimeBeforeFirst+this._objdataOwn.TimeBeforeFirstAdditional*Math.random()},o.getTargetPlantRight=function(){var i=this,t=null,e=-1/0,n=[],a=[],r=[];p.pool().forEach((function(t){-1==n.indexOf(t.plantInLnC)&&(F.getPlantCanbeSheepened(t)?t.worldPositionX>i.worldPositionX?a.push(t):r.push(t):n.push(t.plantInLnC))}));var o=1/0;return[r,a].forEach((function(n){t||n.forEach((function(n){var a=Math.abs(n.lIndex-i.lIndex);i._firstTime&&a<o&&(e=-1/0),(i._firstTime?a<=o&&n.worldPositionX>e:n.worldPositionX>e)&&(t=n,o=a,e=n.worldPositionX)}))})),t},o.getTargetPlantLeft=function(){var i=this,t=null,e=1/0,n=[],a=[],r=[];p.pool().forEach((function(t){-1==n.indexOf(t.plantInLnC)&&(F.getPlantCanbeSheepened(t)?t.worldPositionX<i.worldPositionX?a.push(t):r.push(t):n.push(t.plantInLnC))}));var o=1/0;return[r,a].forEach((function(n){t||n.forEach((function(n){var a=Math.abs(n.lIndex-i.lIndex);i._firstTime&&a<o&&(e=1/0),(i._firstTime?a<=o&&n.worldPositionX<e:n.worldPositionX<e)&&(t=n,o=a,e=n.worldPositionX)}))})),t},o._magic=function(){var i=this._targetPlant;if(i){var t,e,n=!0;if(null!=(t=i)&&t.isAlive()||(n=!1),n)null==(e=i)||null==(e=e.plantInLnC)||e.getAllPlants().forEach((function(i){n&&(F.getPlantCanbeSheepened(i)||(n=!1))}));n||(i=null)}if(i||(i=this.reversed?this.getTargetPlantLeft():this.getTargetPlantRight()),i){this.magicCD=this._objdataOwn.TimeBetween+this._objdataOwn.TimeBetweenAdditional*Math.random();var a=i.plantInLnC;m.spawnParticleLink(this.magicFrom.worldPosition.toVec2(),a.node.worldPosition.toVec2(),this.linkPar,this.hitPar,P.getLane(Math.max(this.lIndex,a.lIndex)).prjLayer);var r=a.sheepen(this.sheep);r&&this.sheeps.push(r)}},o.playSpecialZombieDieForced=function(){this.killAllSheeps()},o.killAllSheeps=function(){this.sheeps.forEach((function(i){i.die()})),this.sheeps=[]},o.attackAnm=function(){this.correctShadeWP(.2),this.magicing=!0,this.isWalking=!1,this.switching=!0,this.body.playAnimation("Attack",1/0,.2)},o.onHypnotized=function(){this.killAllSheeps()},o.specialZombieUpdate=function(i,t,e){if(!this.switching&&this.isWalking&&this.enteredLawn&&!this.hypnotized)if(this.magicCD>0)this.magicCD-=i;else{var n=this.reversed?this.getTargetPlantLeft():this.getTargetPlantRight();n&&(this._targetPlant=n,this.attackAnm())}},r(t,[{key:"objdataOwn",get:function(){return this._objdataOwn}}]),t}(u)).prototype,"chargeSounds",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=t(L.prototype,"chargeSaySounds",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),E=t(L.prototype,"magicSounds",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),I=t(L.prototype,"magicFrom",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=t(L.prototype,"linkPar",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=t(L.prototype,"hitPar",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=t(L.prototype,"sheep",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=L))||k));o._RF.pop()}}}));

System.register("chunks:///_virtual/DarkZombossMechZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZombossMechZombie.ts","./SoundRescourses.ts","./levelController.ts","./NodePools.ts","./ArrayGet.ts","./Square.ts","./Jalapeno.ts","./GroundFire.ts"],(function(e){var t,n,o,r,i,a,s,u,l,h,d,c,S,p,b,m,y,f,g,w,A,v,k,C;return{setters:[function(e){t=e.inheritsLoose,n=e.applyDecoratedDescriptor,o=e.initializerDefineProperty,r=e.assertThisInitialized,i=e.createClass,a=e.asyncToGenerator,s=e.regeneratorRuntime},function(e){u=e.cclegacy,l=e._decorator,h=e.AudioClip,d=e.Prefab,c=e.Vec2,S=e.tween},function(e){p=e.ZombossStage,b=e.ZombossMechZombie,m=e.ZombossMechProps},function(e){y=e.sounds},function(e){f=e.LevelPlay},function(e){g=e.instantiatePooly},function(e){w=e.ArrayGet},function(e){A=e.Square},function(e){v=e.jalapeno},function(e){k=e.GroundFireColorEnum,C=e.GroundFireSpreadStyleEnum}],execute:function(){var L,F,P,M,Z,R,E,I,D,T,z,O,_,j,x,q,G,W,B,N,U,Y,H,J,V,X,K,Q,$,ee,te,ne,oe,re,ie,ae,se,ue,le,he,de,ce,Se,pe,be,me,ye,fe,ge,we;u._RF.push({},"29b40YPfVBE258ttbtl/EIJ","DarkZombossMechZombie",void 0);var Ae=l.ccclass,ve=l.property,ke=(e("DarkZombossStage",Ae("DarkZombossStage")(L=function(e){function n(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=e.call.apply(e,[this].concat(o))||this).FireballCount=2,t.FireballCountAdditional=1,t.DragonImpCount=1,t.DragonImpCountAdditional=1,t}return t(n,e),n}(p))||L),function(e){function n(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=e.call.apply(e,[this].concat(o))||this).ZombossStages=[],t}return t(n,e),n}(m));e("DarkZombossMechZombie",(F=Ae("DarkZombossMechZombie"),P=ve(h),M=ve([h]),Z=ve([h]),R=ve([h]),E=ve([h]),I=ve([h]),D=ve([h]),T=ve([h]),z=ve([h]),O=ve([h]),_=ve([h]),j=ve([h]),x=ve([h]),q=ve([h]),G=ve(h),W=ve([h]),B=ve([h]),N=ve([h]),U=ve(h),Y=ve([h]),H=ve(d),J=ve(d),V=ve(d),F((Q=n((K=function(e){function n(){for(var t,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(t=e.call.apply(e,[this].concat(i))||this)._objdataOwn=new ke,t._objdataOwnOrg=new ke,t.FSCD=0,o(t,"eyeblopSound",Q,r(t)),o(t,"roarSounds",$,r(t)),o(t,"introSkySounds",ee,r(t)),o(t,"introFlyShadeSounds",te,r(t)),o(t,"introSkyRoarSounds",ne,r(t)),o(t,"introRoarSounds",oe,r(t)),o(t,"introFireSounds",re,r(t)),o(t,"deathRoarSounds",ie,r(t)),o(t,"fireSteadySounds",ae,r(t)),o(t,"fireShootSounds",se,r(t)),o(t,"fireEndSounds",ue,r(t)),o(t,"fireEndRoarSounds",le,r(t)),o(t,"magnetStartSounds",he,r(t)),o(t,"magnetStartRoarSounds",de,r(t)),o(t,"magnetLoopSound",ce,r(t)),o(t,"magnetEndSounds",Se,r(t)),o(t,"magnetEndRoarSounds",pe,r(t)),o(t,"rushStartSounds",be,r(t)),o(t,"rushLoopSound",me,r(t)),o(t,"rushEndSounds",ye,r(t)),o(t,"introShadePar",fe,r(t)),o(t,"introFirePar",ge,r(t)),t.willLandPos=new c(6,1),t.jumpTargetPoses=[new c(6,1),new c(6,2),new c(6,3),new c(6,4)],t.walkEasing="quadInOut",t.WalksLeftOrRight=!1,t.walksWhenRushing=!1,o(t,"fireSquarePar",we,r(t)),t._rushColume=0,t.leftFireTime=0,t.leftImpCount=0,t.currentMechStages=[],t}t(n,e);var u=n.prototype;return u.specialZombossOnLoad=function(){this.rushLoopSound.loadMode=h.AudioType.DOM_AUDIO,this.magnetLoopSound.loadMode=h.AudioType.DOM_AUDIO},u.specialZombossUpdateForce=function(e,t,n,o){this.moveTween&&(this.FSCD-=e,this.FSCD<=0&&(this.FSCD=1,y.playArray(this.worldZombossMechStepSounds,1,.1),f.shakeScreen()))},u.getFoodMagnetedObject=function(){var e;if(!(this.mechStunningCD>0))return null==(e=this.rushTween)||e.stop(),this.rushInterupt(!1),this.StunStartAnmName="MagnetStart",this.StunEndAnmName="MagnetEnd",this._currentStunLoopSound=this.magnetLoopSound,this.stunAction(),this.getMagnetedObject();this.mechStunningCD=this.currentMechStages[this.currentStage].StunTime},u.specialZombieSetLaneChangeParent=function(e,t){var n=t;this.node.setParent(n.prjLayer,!0),this.node.setSiblingIndex(0)},u.specialZombossMechBeforeRushInteruptStun=function(){this.specialZombossMechBeforeChangeStageStun()},u.specialZombossMechBeforeChangeStageStun=function(){this.StunStartAnmName="StunStart",this.StunEndAnmName="StunEnd",this._currentStunLoopSound=this.worldZombossStunLoopSound},u.jumpStart=function(e){void 0===e&&(e=this.getJumpTarget()),this.jump(e)},u._DropFire=function(){var e=a(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.dropMissileOnLnC(A.getRandomLnC(0,4,2,6));case 2:(t=e.sent).zombieWhiteList=this.basicWhiteList,this.leftImpCount>0&&(this.leftImpCount--,t.haveImp=!0,t.hypno=this.hypnotized,t.reversed=this.reversed);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),u.specialZombossMechAnimationListener=function(e){var t=this;switch(e.name){case"eyeBlopSound":y.playOneShot(this.eyeblopSound,1,.1);break;case"roarSound":y.playArray(this.roarSounds,1,.1);break;case"introRoarSound":y.playArray(this.introRoarSounds,1,.1);break;case"introFireSound":y.playArray(this.introFireSounds,1,.1);break;case"introLand":y.playArray(this.worldZombossMechStabSounds,1,.1);break;case"fireShootSound":y.playArray(this.fireShootSounds,1,.1);break;case"shake":f.shakeScreen(1);break;case"Fire":this._DropFire();break;case"introSkySound":y.playArray(this.introSkySounds,1,.1),y.playArray(this.introSkyRoarSounds,1,.1);break;case"summon":var n=this.reversed?3:5;this.columnSummon(n);break;case"stunStartSound":y.playArray(this.magnetStartSounds,1,.1),y.playArray(this.magnetStartRoarSounds,1,.1);break;case"stunEndSound":y.playArray(this.magnetEndSounds,1,.1),y.playArray(this.magnetEndRoarSounds,1,.1),y.playArray(this.worldZombossAngrySaySounds,1,.1);break;case"rushStart":y.playArray(this.rushStartSounds,1,.1),y.playArray(this.worldZombossRushSaySounds,1,.1);break;case"rushLoop":this.body.playAnimation("RushLoop",1/0),this.audioSource.clip=this.rushLoopSound,this.audioSource.play(),this.rushFire();break;case"rushEndSound":y.playArray(this.rushEndSounds,1,.1);break;case"fireSteadySound":y.playArray(this.fireSteadySounds,1,.1),y.playArray(this.worldZombossShootSaySounds,1,.1);break;case"fireLoop":this.leftFireTime>0?(this.leftFireTime--,this.body.playAnimation("FireLoop",1/0)):this.body.playAnimation("FireEnd",1/0);break;case"fireEndSound":y.playArray(this.fireEndRoarSounds,1,.1),y.playArray(this.fireEndSounds,1,.1);break;case"deathRoarSound":y.playArray(this.deathRoarSounds,1,.1);break;case"shade":if(this.shade){var o=g(this.introShadePar);o.parent=this.shade.node.parent,o.scale=this.node.scale;var r=A.getLnC(2,4);o.worldPosition=r.node.worldPosition}y.playArray(this.worldZombossSpawnSaySounds,1,.1),y.playArray(this.introFlyShadeSounds,1,.1);break;case"introFire":var i=g(this.introFirePar);i.parent=A.getLane(0).tombLayer,i.setSiblingIndex(0),i.scale=this.node.scale;var a=A.getSquareWorldPosition(2,this.reversed?1:8,0);i.worldPosition=a.toVec3();break;case"bossCrack":if(this.isBoss)for(var s=function(e){(t.reversed?[0,1]:[7,8]).forEach((function(t,n){var o=A.getLnC(e,t);o.crackleCountdown=1/0,o.crackedTile&&o.crackedTile.playAnimation("ZombossOcc"+(0==n?"L":""),1/0)}))},u=0;u<5;u++)s(u)}},u.getIdleC=function(){return this.reversed?2:6},u.specialZombossMechOnEnable=function(){this.worldPositionX=A.getSquareWorldPosition(0,this.reversed?1:7).x},u.onReversedSet=function(e){this.worldPositionX=A.getSquareWorldPosition(0,e?1:7).x},u.walkU=function(){if(this.isAlive()){var e=this;this.moveTween=S(e).by(140/30/this.lockedTimeScale(),{worldPositionY:A.SquareHeight},{easing:"quadInOut"}).call((function(){e.moveTween=null})).start()}},u.walkD=function(){if(this.isAlive()){var e=this;this.moveTween=S(e).by(140/30/this.lockedTimeScale(),{worldPositionY:-A.SquareHeight},{easing:"quadInOut"}).call((function(){e.moveTween=null})).start()}},u.rushFire=function(){var e=this,t=this.reversed?1:0;this._rushColume=this.cIndex+t,this.rushing=!0,this.rushDMGcount=0,this.rushTween=S(this).to(3,{rushColume:this.reversed?8+t:0}).call((function(){var t;e.body.playAnimation("RushEnd",1/0),e.rushing=!1,e.audioSource.stop(),null==(t=e.rushTween)||t.stop(),e.rushTween=null})).start()},u.jump=function(e){var t;void 0===e&&(e=w.getRandom(this.jumpTargetPoses)),"Idle"!=this.body.db.armature().animation.lastAnimationName&&this.body.playAnimation("Idle");var n=e.clone();this.reversed&&(n.x=8-n.x);var o=A.getLnC(n.y,n.x),r=this;null==(t=this.moveTween)||t.stop(),this.moveTween=S(r).to(3,{worldPositionX:o.node.worldPosition.x,worldPositionY:o.node.worldPosition.y},{easing:"quadInOut"}).call((function(){r.moveTween=null})).start()},u.rush=function(){this.rushDMGcount=0,this.body.playAnimation("RushStart",1/0),this.willRush=!1},u.rushAction=function(){this.ZombossIdling=!1,this.rush()},u.summonAction=function(){this.body.playAnimation("Summon",1/0),this.ZombossIdling=!1},u.shootAction=function(){if(this.isAlive()){this.targetLocators=[],this.ZombossIdling=!1,this.body.playAnimation("FireStart",1/0);var e=this.currentMechStages[this.currentStage];this.leftFireTime=Math.floor(Math.random()*(e.FireballCountAdditional+1))+e.FireballCount,this.leftImpCount=Math.floor(Math.random()*(e.DragonImpCountAdditional+1))+e.DragonImpCount,this.shooting=!0}},i(n,[{key:"objdataOwn",get:function(){return this._objdataOwn}},{key:"objdataOwnOrg",get:function(){return this._objdataOwnOrg}},{key:"rushColume",get:function(){return this._rushColume},set:function(e){for(var t=this,n=Math.floor(this._rushColume),o=Math.floor(e),r=Math.min(n,o),i=Math.max(n,o),a=r;a<i;a++){[A.getLnC(this.lIndex,a),A.getLnC(this.lIndex-1,a)].forEach((function(e){if(e.isInLawn()){v.burnFromLnC(e,3600,!1,4,10,k.yellow,C.split,1,0,t.basicWhiteList,2);var n=g(t.fireSquarePar);n.parent=e.inLane.prjLayer,n.worldPosition=e.node.worldPosition,e.crackleCountdown=4}}))}this._rushColume=e}}]),n}(b)).prototype,"eyeblopSound",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=n(K.prototype,"roarSounds",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ee=n(K.prototype,"introSkySounds",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),te=n(K.prototype,"introFlyShadeSounds",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ne=n(K.prototype,"introSkyRoarSounds",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),oe=n(K.prototype,"introRoarSounds",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),re=n(K.prototype,"introFireSounds",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ie=n(K.prototype,"deathRoarSounds",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ae=n(K.prototype,"fireSteadySounds",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),se=n(K.prototype,"fireShootSounds",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ue=n(K.prototype,"fireEndSounds",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),le=n(K.prototype,"fireEndRoarSounds",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),he=n(K.prototype,"magnetStartSounds",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),de=n(K.prototype,"magnetStartRoarSounds",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ce=n(K.prototype,"magnetLoopSound",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Se=n(K.prototype,"magnetEndSounds",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),pe=n(K.prototype,"magnetEndRoarSounds",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),be=n(K.prototype,"rushStartSounds",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),me=n(K.prototype,"rushLoopSound",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ye=n(K.prototype,"rushEndSounds",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),fe=n(K.prototype,"introShadePar",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ge=n(K.prototype,"introFirePar",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),we=n(K.prototype,"fireSquarePar",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=K))||X));u._RF.pop()}}}));

System.register("chunks:///_virtual/darkZombossMissile.ts",["./rollupPluginModLoBabelHelpers.js","cc","./zombossMissile.ts","./LnC.ts","./Zombies.ts","./Jalapeno.ts","./GroundFire.ts"],(function(n){var e,t,r,s,i,o,a,u,c,l,p;return{setters:[function(n){e=n.inheritsLoose,t=n.asyncToGenerator,r=n.regeneratorRuntime},function(n){s=n.cclegacy,i=n._decorator},function(n){o=n.zombossMissile},function(n){a=n.LnCSpawnZombieStyleEnum},function(n){u=n.ZombieEnum},function(n){c=n.jalapeno},function(n){l=n.GroundFireColorEnum,p=n.GroundFireSpreadStyleEnum}],execute:function(){var h;s._RF.push({},"9f967zyhsFK1b2hBzuTg3+T","darkZombossMissile",void 0);var m=i.ccclass;i.property,n("darkZombossMissile",m("darkZombossMissile")(h=function(n){function s(){for(var e,t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return(e=n.call.apply(n,[this].concat(r))||this).haveImp=!1,e.zombieWhiteList=[],e.hypno=!1,e.reversed=!1,e}e(s,n);var i=s.prototype;return i.detectEnemy=function(n){},i.spawnDragonImp=function(){var n=t(r().mark((function n(){var e,t=this;return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.inLnC.SpawnZombie(u.dark_imp_dragon,a.dirtSpawn,!1,.5,0,null,!1);case 2:null!=(e=n.sent)&&e.length&&e.forEach((function(n){n.hypnotized=t.hypno,n.reversed=t.reversed}));case 4:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}(),i.specialMissileOnPop=function(){var n=t(r().mark((function n(){var e;return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!this.haveImp||null==(e=this.inLnC)||!e.isInLawn()){n.next=6;break}return n.next=3,this.spawnDragonImp();case 3:this.haveImp=!1,this.hypno=!1,this.reversed=!1;case 6:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}(),i.specialZombossMissileOnGroundHit=function(n){null!=n&&n.isInLawn()&&(c.burnFromLnC(n,3600,!1,4,10,l.yellow,p.split,1,0,this.zombieWhiteList,2),n.crackleCountdown=Math.max(n.crackleCountdown,4))},s}(o))||h);s._RF.pop()}}}));

System.register("chunks:///_virtual/deepwaterTile.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Tile.ts","./GridItem.ts","./Tiles.ts","./FrontYard.ts","./Square.ts"],(function(l){var e,t,n,i,a,r,o,s,u;return{setters:[function(l){e=l.inheritsLoose},function(l){t=l.cclegacy,n=l._decorator,i=l.Color},function(l){a=l.Tile},function(l){r=l.GridItemEnum},function(l){o=l.TileEnum},function(l){s=l.FrontYard},function(l){u=l.Square}],execute:function(){var d;t._RF.push({},"41630cGmxZGFp5Ady9aUxko","deepwaterTile",void 0);var h=n.ccclass;n.property,l("deepwaterTile",h("deepwaterTile")(d=function(l){function t(){for(var e,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return(e=l.call.apply(l,[this].concat(n))||this)._slotN=void 0,e._slotE=void 0,e._slotW=void 0,e._slotS=void 0,e._slotNE=void 0,e._slotNW=void 0,e._slotSE=void 0,e._slotSW=void 0,e}e(t,l);var n=t.prototype;return n.afterLnCChange=function(l,e){var t,n,i,a,r=this;null==l||null==(t=l.get3x3())||t.forEach((function(l){var e,t;r.tileID==o.deepwater?null==l||null==(e=l.deepwater)||e.judgeSide():r.tileID==o.shallowwater&&(null==l||null==(t=l.shallowwater)||t.judgeSide())})),null==e||null==(n=e.get3x3())||n.forEach((function(l){var e,t;r.tileID==o.deepwater?null==l||null==(e=l.deepwater)||e.judgeSide():r.tileID==o.shallowwater&&(null==l||null==(t=l.shallowwater)||t.judgeSide())})),this.node.setParent(u.sliderLayer),null==l||null==(i=l.inLane)||i.readHaveDeepWater(),null==e||null==(a=e.inLane)||a.readHaveDeepWater()},n.specialTileOnEnable=function(){this.db&&(this.db.timeScale=.8+.4*Math.random())},n.specialTileOnLoad=function(){var l=this;this.db.armature().getSlots().forEach((function(e){switch(e.name){case"N":l._slotN=e;break;case"E":l._slotE=e;break;case"W":l._slotW=e;break;case"S":l._slotS=e;break;case"NE":l._slotNE=e;break;case"NW":l._slotNW=e;break;case"SE":l._slotSE=e;break;case"SW":l._slotSW=e}}))},n.judgeSide=function(){var l,e,t,n,i,a,r,s,u,d,h,c,p,m,w,f,g=!1,_=!1,v=!1,S=!1,y=!1,E=!1,L=!1,b=!1,C=this.tileID==o.deepwater?"deepwater":"shallowwater";null!=(l=this.inLnC)&&null!=(l=l.upper)&&l.lefter[C]&&(E=!0),null!=(e=this.inLnC)&&null!=(e=e.upper)&&e.righter[C]&&(y=!0),null!=(t=this.inLnC)&&null!=(t=t.lower)&&t.lefter[C]&&(b=!0),null!=(n=this.inLnC)&&null!=(n=n.lower)&&n.righter[C]&&(L=!0),null!=(i=this.inLnC)&&i.upper[C]&&(g=!0),null!=(a=this.inLnC)&&a.lower[C]&&(S=!0),null!=(r=this.inLnC)&&r.lefter[C]&&(v=!0),null!=(s=this.inLnC)&&s.righter[C]&&(_=!0),null==(u=this._slotN)||null==(u=u.childArmature)||null==(u=u.animation)||u.play(g?"hidden":"shown",1/0),null==(d=this._slotE)||null==(d=d.childArmature)||null==(d=d.animation)||d.play(_?"hidden":"shown",1/0),null==(h=this._slotW)||null==(h=h.childArmature)||null==(h=h.animation)||h.play(v?"hidden":"shown",1/0),null==(c=this._slotS)||null==(c=c.childArmature)||null==(c=c.animation)||c.play(S?"hidden":"shown",1/0);var A="idle",W="idle",N="idle",T="idle";g?(A+="1",W+="1"):(A+="0",W+="0"),A+=y&&g&&_?"1":"0",W+=E&&g&&v?"1":"0",S?(N+="1",T+="1"):(N+="0",T+="0"),N+=L&&S&&_?"1":"0",T+=b&&S&&v?"1":"0",_?(A+="1",N+="1"):(A+="0",N+="0"),v?(W+="1",T+="1"):(W+="0",T+="0"),null==(p=this._slotNE)||null==(p=p.childArmature)||null==(p=p.animation)||p.gotoAndPlayByProgress(A,Math.random(),1/0),null==(m=this._slotNW)||null==(m=m.childArmature)||null==(m=m.animation)||m.gotoAndPlayByProgress(W,Math.random(),1/0),null==(w=this._slotSE)||null==(w=w.childArmature)||null==(w=w.animation)||w.gotoAndPlayByProgress(N,Math.random(),1/0),null==(f=this._slotSW)||null==(f=f.childArmature)||null==(f=f.animation)||f.gotoAndPlayByProgress(T,Math.random(),1/0)},n.onLnCChange=function(l,e){var t;null==(t=this.gridItemCP)||t.setGridItemType([this.tileID==o.deepwater?r.deepwater:r.shallowwater])},n.specialTileUpdate=function(l){this.db.color;var e=this.db.customMaterial,t=e.passes[0].getHandle("chillColor"),n=s.atNight;e.passes[0].setUniform(t,n?1:0);var a=n?177:255;this.db.color=new i(a,a,255,255)},t}(a))||d);t._RF.pop()}}}));

System.register("chunks:///_virtual/DinoBasicZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts"],(function(n){var t,i,o,e,a,r;return{setters:[function(n){t=n.inheritsLoose,i=n.createClass},function(n){o=n.cclegacy,e=n._decorator},function(n){a=n.Zombie,r=n.ZombieProps}],execute:function(){var c;o._RF.push({},"c3485CIBdZDa5kN7JHdvR3S","DinoBasicZombie",void 0);var s=e.ccclass,u=(e.property,function(n){function i(){return n.apply(this,arguments)||this}return t(i,n),i}(r));n("DinoBasicZombieZombie",s("DinoBasicZombie")(c=function(n){function o(){for(var t,i=arguments.length,o=new Array(i),e=0;e<i;e++)o[e]=arguments[e];return(t=n.call.apply(n,[this].concat(o))||this)._objdataOwn=new u,t._objdataOwnOrg=new u,t}t(o,n);var e=o.prototype;return e.onObjdataSet=function(n){},e.specialZombieOnEnable=function(){},e.lockedTimeScale=function(){return this.grabbingPtero?1:NaN},e.onGrabbedByPtero=function(n){this.isWalking=!1,this.switching=!0,this.body.playAnimation("Grab_Start",1/0)},e.onDroppedByPtero=function(n){this.isWalking=!1,this.switching=!0,this.body.playAnimation("Grab_End",1/0)},e.updateWhenBeingGrabbedByPetero=function(n){},i(o,[{key:"objdataOwn",get:function(){return this._objdataOwn}},{key:"objdataOwnOrg",get:function(){return this._objdataOwnOrg}}]),o}(a))||c);o._RF.pop()}}}));

System.register("chunks:///_virtual/DinoBullyZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./CharacterManager.ts","./SoundRescourses.ts"],(function(t){var e,n,i,a,o,s,r,c,l,h,u,d,y,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,a=t.assertThisInitialized,o=t.createClass},function(t){s=t.cclegacy,r=t._decorator,c=t.AudioClip,l=t.Vec2},function(t){h=t.Zombie,u=t.ZombieProps},function(t){d=t.Rectangle,y=t.ZombieDamageDetails},function(t){b=t.sounds}],execute:function(){var m,f,p,g,R,w,j;s._RF.push({},"ffc21iynBRJJ5VK/nTFD/uo","DinoBullyZombie",void 0);var P=r.ccclass,v=r.property,D=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))||this).SmashDamage=0,e.CraterLifetime=25,e}return n(e,t),e}(u);t("DinoBullyZombieZombie",(m=P("DinoBullyZombie"),f=v([c]),p=v([c]),m((w=e((R=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))||this)._objdataOwn=new D,e._objdataOwnOrg=new D,i(e,"smashSounds",w,a(e)),i(e,"smashSaySounds",j,a(e)),e}n(e,t);var s=e.prototype;return s.onObjdataSet=function(t){},s.lockedTimeScale=function(){return this.grabbingPtero?1:NaN},s.onGrabbedByPtero=function(t){this.isWalking=!1,this.switching=!0,this.body.playAnimation("Grab_Start",1/0)},s.onDroppedByPtero=function(t){this.isWalking=!1,this.switching=!0,this.body.playAnimation("Grab_End",1/0)},s.detectPlant=function(t){var e=this;if(this.objdataOwnOrg.SmashDamage>0){if(!this.detectPlantOn())return;if(!this.inLane)return void this.playWalk();if(t<=0)return;var n=!1;this.hypnotized?this.inLane.zombiePool().forEach((function(t){n||e.plantDetectorRec.judgeCrossRec(t.bodyRec)&&(n=!0)})):(this.inLane.plantPool().forEach((function(t){n||t.smasherDetectable&&e.plantDetectorRec.judgeCrossRec(t.bodyRec)&&(n=!0)})),this.inLane.hypnoZombiePool().forEach((function(t){n||e.plantDetectorRec.judgeCrossRec(t.bodyRec)&&(n=!0)}))),this.inLane.tombPool(this.hypnotized?0:1).forEach((function(t){n||e.plantDetectorRec.judgeCrossRec(t.bodyRec)&&(n=!0)})),n?this.playSmashAnm():this.playWalk()}else this.defaultDetectPlant(t)},s.playSmashAnm=function(){this.isWalking=!1,this.switching=!0,this.correctShadeWP(.1),this.body.playAnimation("Smash",1,.1)},s._smash=function(){var t=null,e=null,n=null,i=d.createRectangleCenter(new l(this.shadeSocket.worldPosition.x+this.AttackRect.x*(this.reversed?-1:1),this._worldPosition.y+this._height+this.AttackRect.y),1.5*this.AttackRect.w,this.AttackRect.h);if(this.hypnotized){var a=1/0;this.inLane.zombiePool().forEach((function(t){var n=t.bodyRec.prjX().x;t.bodyRec.judgeCrossRec(i)&&n<a&&(e=t,a=n)})),this.inLane.tombPool(0).forEach((function(t){var e=t.bodyRec.prjX().x;t.bodyRec.judgeCrossRec(i)&&e<a&&(n=t,a=e)}))}else{this.inLane.plantPool().forEach((function(e){e.smasherDetectable&&e.bodyRec.judgeCrossRec(i)&&(!t||t.bodyRec.prjX().y<e.bodyRec.prjX().y)&&(t=e)}));var o=-1/0;this.inLane.hypnoZombiePool().forEach((function(t){var n=t.bodyRec.prjX().y;t.bodyRec.judgeCrossRec(i)&&n>o&&(e=t,o=n)})),this.inLane.tombPool(1).forEach((function(t){var e=t.bodyRec.prjX().x;t.bodyRec.judgeCrossRec(i)&&e>o&&(n=t,o=e)}))}var s=null;e&&(s=new l(e.worldPositionX-this.worldPositionX,e.zombieHeight-this.zombieHeight).normalize().multiplyScalar(20));var r=new y(this._objdataOwn.SmashDamage,!0,!0,!0,s);e?e.dealDamage(r):t?this.smashPlant(t):n&&n.dealDamage(r)},s.smashPlant=function(t){var e;t.smash(this,!0),null!=(e=t.plantInLnC)&&null!=(e=e.getAllPlants())&&e.length||(t.burn(),t.plantInLnC.crackleCountdown=this.objdataOwn.CraterLifetime)},s.specialAnimationListener=function(t){switch(t.name){case"smash_say":b.playArray(this.smashSaySounds,1,NaN,.5);break;case"smash":this.isAlive()&&this._smash(),b.playArray(this.smashSounds,1,NaN,.2)}},o(e,[{key:"objdataOwn",get:function(){return this._objdataOwn}},{key:"objdataOwnOrg",get:function(){return this._objdataOwnOrg}}]),e}(h)).prototype,"smashSounds",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j=e(R.prototype,"smashSaySounds",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),g=R))||g));s._RF.pop()}}}));

System.register("chunks:///_virtual/DinoGargantuarZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GargantuarZombie.ts","./Zombies.ts"],(function(n){var t,r,a,o,e,i,u;return{setters:[function(n){t=n.inheritsLoose,r=n.createClass},function(n){a=n.cclegacy,o=n._decorator},function(n){e=n.GargantuarZombie,i=n.GargantuarProps},function(n){u=n.ZombieEnum}],execute:function(){var c;a._RF.push({},"8f6baHkp1tNS7sko/EDBwmI","DinoGargantuarZombie",void 0);var s=o.ccclass,b=(o.property,function(n){function r(){return n.apply(this,arguments)||this}return t(r,n),r}(i));n("DinoGargantuarZombieZombie",s("DinoGargantuarZombie")(c=function(n){function a(){for(var t,r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=n.call.apply(n,[this].concat(a))||this)._objdataOwn=new b,t._objdataOwnOrg=new b,t.impEnum=u.dino_imp,t}return t(a,n),r(a,[{key:"objdataOwn",get:function(){return this._objdataOwn}},{key:"objdataOwnOrg",get:function(){return this._objdataOwnOrg}}]),a}(e))||c);a._RF.pop()}}}));

System.register("chunks:///_virtual/Dinosaur.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Character.ts","./SoundRescourses.ts","./LnC.ts","./Particles.ts","./NodePools.ts","./FrontYard.ts","./ParticleSelfdestroy.ts","./CharacterManager.ts","./JSONs.ts","./levelController.ts","./Square.ts"],(function(t){var e,i,n,a,s,o,r,h,l,c,d,u,p,f,g,v,y,w,b,m,D,S,P;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,a=t.assertThisInitialized,s=t.createClass},function(t){o=t.cclegacy,r=t._decorator,h=t.dragonBones,l=t.AudioClip,c=t.Vec2,d=t.Vec3,u=t.Color},function(t){p=t.Character},function(t){f=t.sounds},function(t){g=t.TileType},function(t){v=t.particle},function(t){y=t.NodePools},function(t){w=t.FrontYard},function(t){b=t.ParticleSelfdestroy},function(t){m=t.Rectangle},function(t){D=t.PvZ2Object},function(t){S=t.LevelPlay},function(t){P=t.Square}],execute:function(){var O,L,C,j,_,I,R,A,T,x,k;o._RF.push({},"9c3a0caWo5BjbdNjc8AnvkK","Dinosaur",void 0);var N=r.ccclass,E=r.property,B=t("DinosaurProps",(function(){this.LivesInDeepWater=!1,this.MaxWonderingTime=20,this.HitRect="RTID(CommonHitRect@RectangleProps)",this.AttackRect="RTID(CommonAttackRect@RectangleProps)"}));t("Dinosaur",(O=N("Dinosaur"),L=E(h.ArmatureDisplay),C=E([l]),j=E(Number),_=E(Number),O((A=e((R=function(t){function e(){for(var e,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))||this).charmableCD=0,e.ID=0,e.OID=0,e._objdataOwnOrg=new B,e._objdataOwn=new B,e._reversed=!1,e.depthStartingZ=10,e.AttackRect={x:0,y:38,w:32,h:96},e.HitRect={x:0,y:38,w:32,h:96},e.objdata={},e.flying=!1,e.leaving=!1,e._charmed=!1,e.displayed=!1,e.dbAnimation=void 0,e.switching=!1,n(e,"charmDB",A,a(e)),n(e,"charmSounds",T,a(e)),e.dead=!1,e.displayStuck=!1,e.displayIntroing=!1,n(e,"depthScale",x,a(e)),n(e,"dinosaurHeight",k,a(e)),e.waveParticle=null,e.LeaveNow=!1,e.LeaveCD=20,e}i(e,t);var o=e.prototype;return o.canbeCharmedNow=function(){return!0},o.onReverseSet=function(t){},o.getRectangleAccordingToRectBox=function(t,e){void 0===e&&(e=this.shadeSocket.worldPosition.x);var i=this.scale,n=Math.abs(i);return m.createRectangleCenter(new c(e+t.x*i,this._worldPositionY+t.y*n+this.height_depth),t.w*n,t.h*n)},o.getCurrentAnimationProgress=function(){var t=this.db.armature().animation.lastAnimationState;return t.currentTime/t.totalTime},o.setRectBoxes=function(){var t,e,i=null==(t=D.getObjectsByRTID(this.objdataOwnOrg.AttackRect,"RectangleProps")[0])||null==(t=t.objdata)?void 0:t.Values;i&&(this.AttackRect=i);var n=null==(e=D.getObjectsByRTID(this.objdataOwnOrg.HitRect,"RectangleProps")[0])||null==(e=e.objdata)?void 0:e.Values;n&&(this.HitRect=n)},o.setObjdata=function(t,e){this.objdata=t,this.modObjdataOwn(t,e),this.setRectBoxes(),this.onObjdataSet(t)},o.onObjdataSet=function(t){},o.modObjdataOwn=function(t,e){var i=this;Object.getOwnPropertyNames(this._objdataOwn).forEach((function(e){null!=t[e]&&(i._objdataOwn[e]=t[e])})),Object.getOwnPropertyNames(this._objdataOwnOrg).forEach((function(t){null!=e[t]&&(i._objdataOwnOrg[t]=e[t])})),this.LeaveCD=this.objdataOwn.MaxWonderingTime},o.onCharmedSet=function(t){},o.isAlive=function(){return!this.fallingInSky&&!this.dead&&!this.displayed},o.characterOnLoad=function(){var t=this;this.db&&(this.db.on(h.EventObject.FRAME_EVENT,(function(e){var i;t.fallingInSky||t.fadingAway||null!=(i=S.component)&&i.gameLost||t.animationListener(e)}),this),this.db.on(h.EventObject.COMPLETE,(function(){var e;t.fallingInSky||t.fadingAway||null!=(e=S.component)&&e.gameLost||(t.displayIntroing=!1,t.animationOnComplete())}),this),this.dbAnimation=this.db.armature().animation),this.specialDinosaurOnLoad()},o.specialDinosaurOnLoad=function(){},o.displayXOffset=function(){return 0},o.animationListener=function(t){},o.animationOnComplete=function(){},o.specialDinosaurOnEnable=function(){},o.characterOnEnable=function(){this.reversed=!1,this.switching=!1,this.displayStuck=!1,this.flying=!1,this.leaving=!1,this._charmed=!1,this.LeaveNow=!1,this.charmed=!1,this.dead=!1,this.displayed=!1,this.specialDinosaurOnEnable(),this.charmableCD=.5,this.displayIntroing=!1},o.specialDinosaurDie=function(){},o.specialDinosaurDieForce=function(){},o.playDie=function(t){void 0===t&&(t=!1),this.dead||(this.dead=!0,t||this.specialDinosaurDie(),this.specialDinosaurDieForce())},o.specialDinosaurLeave=function(){},o.playLeave=function(){this.leaving||(this.leaving=!0,this.specialDinosaurLeave())},o.playFall=function(){this.fallingInSky||this.fallInSky()},o.dropSea=function(){v.spawnSeaSplash(this.inLnC.lIndex,this.node.worldPosition),this.playDie(!0),y.destroyPooly(this.node)},o.judgeTileType=function(t,e){this.flying||(e==g.sky?this.playFall():e==g.sea&&this.dropSea())},o.getDefaultLaneParent=function(t){return t.dinoLayer},o.characterOnLaneChange=function(t,e){if(!this.fallingInSky){if(e){var i=this.getDefaultLaneParent(e);this.node.setParent(i,!0)}-2!=t.LaneIndex&&(null==t?void 0:t.LaneIndex)<(null==e?void 0:e.LaneIndex)&&!this.displayed&&this.node.setSiblingIndex(0)}this.waveParticle&&(this.waveParticle.node.setParent(this.node.parent,!0),this.waveParticle.node.setSiblingIndex(this.node.getSiblingIndex()+1)),this.isAlive()&&(null==t||t.deleteDinosaur(this),null==e||e.addDinosaur(this))},o.displayTimeAfterCameraToRightest=function(){return NaN},o.specialDinosaurDisplay=function(){},o.playDisplay=function(){this.displayed=!0,this.displayIntroing=!0,this.db.playAnimation("Intro",1),this.specialDinosaurDisplay()},o.onLaneSpawnSettled=function(t){},o.addDinoWave=function(t){if(!this.flying&&t==g.water&&!this.waveParticle&&this.height_depth<0){var e=y.instantiatePooly(v.zombieWaterWave());e.parent=this.node.parent,e.setSiblingIndex(this.node.getSiblingIndex()+1),this.waveParticle=e.getComponent(b)}this.waveParticle&&(this.waveParticle.node.setParent(this.node.parent,!0),this.waveParticle.node.worldPosition=new d(this.shadeSocket.worldPosition.x,this.worldPositionYFoot),this.waveParticle.node.setSiblingIndex(this.node.getSiblingIndex()+1),this.shade&&(this.waveParticle.node.worldScale=new d(this.originalShadeScale.width,this.originalShadeScale.height,1).multiplyScalar(2*Math.abs(this.scale))),(t!=g.water||this.height_depth>=0)&&(this.waveParticle.db.playAnimation("Fade",1),this.waveParticle.willBeKilled=!0,this.waveParticle=null))},o.defaultShouldDepth=function(){return this.flying?-.01:w.depth(this._worldPositionX,this.inLnC)*this.depthScale},o.shouldDepth=function(){return this.flying?-.01:w.depth(this._worldPositionX,this.inLnC)*this.depthScale},o.getDeltaDepth=function(t,e){return e*t*4},o.correctDepth=function(t){var e,i=-this.shouldDepth();i<0&&null!=(e=this.inLnC)&&e.deepwater&&!this.objdataOwn.LivesInDeepWater&&(i=3*-this.dinosaurHeight);var n,a=i-this.height_depth,s=this.getDeltaDepth(a,t);(s>0&&(s*=2),a/s<1||Math.abs(a)<.5?this.height_depth=i:this.height_depth+=s,this.height_depth<-2*this.dinosaurHeight)&&(this.chomp(),(null==(n=this.inLnC)?void 0:n.tileType)==g.water&&v.spawnWaterSplash(this.lIndex,new d(this._worldPositionX,this._worldPositionY,0)))},o.chomp=function(){this.playDie(!0),y.destroyPooly(this.node)},o.shouldSpeedScale=function(){return this.extraSpeedScale()},o.extraSpeedScale=function(){return 1},o.characterOnDisable=function(){var t=this;if(this.waveParticle){var e,i=this.waveParticle;null==(e=i.db)||e.playAnimation("Fade"),i.willBeKilled=!0,this.waveParticle=null}P.getAllLane().forEach((function(e){e.deleteDinosaur(t)}))},o.canLeaveNow=function(){return!0},o.specialDinosaurUpdate=function(t,e,i){},o.specialDinosaurUpdateForce=function(t,e,i){},o.displayEnteringTimeScale=function(){return 1},o.characterUpdate=function(t){var e=this.inLnC.getTileType();this.judgeTileType(this.inLnC,e),this.charmableCD>0&&(this.charmableCD-=t);var i=S.gaming;this.displayed&&(this.displayStuck?(this.db.color=new u(255,255,255,0),this.db.timeScale=0):this.displayIntroing?(this.db.color=new u(255,255,255,255),this.db.timeScale=this.displayEnteringTimeScale()):(this.db.color=new u(255,255,255,255),this.db.timeScale=1));var n=this.shouldSpeedScale(),a=t*n;this.correctDepth(t),this.addDinoWave(e),this.leaving||this.charmed||this.displayed||(this.LeaveCD-=a,(this.LeaveCD<=0||this.LeaveNow)&&!this.switching&&this.canLeaveNow()&&this.playLeave()),this.isAlive()&&i&&this.specialDinosaurUpdate(a,t,n),this.specialDinosaurUpdateForce(a,t,n)},s(e,[{key:"objdataOwn",get:function(){return this._objdataOwn}},{key:"objdataOwnOrg",get:function(){return this._objdataOwnOrg}},{key:"reversed",get:function(){return this._reversed},set:function(t){this.scale=(t?-1:1)*Math.abs(this.scale);var e=this._reversed;this._reversed=t,t!=e&&this.onReverseSet(t)}},{key:"CharmedTail",get:function(){return this.charmed?"_Charmed":""}},{key:"charmed",get:function(){return this._charmed},set:function(t){this.charmDB.node.active=t,t&&!this._charmed&&(f.playArray(this.charmSounds),this.charmDB.playAnimation("Start")),this._charmed=t,this.onCharmedSet(t)}}]),e}(p)).prototype,"charmDB",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=e(R.prototype,"charmSounds",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),x=e(R.prototype,"depthScale",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 25}}),k=e(R.prototype,"dinosaurHeight",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 80}}),I=R))||I));o._RF.pop()}}}));

System.register("chunks:///_virtual/Dinosaurs.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Dinosaur.ts","./NodePools.ts","./JSONs.ts","./MultiLanguage.ts","./Square.ts"],(function(t){var n,e,r,o,a,s,i,u,c,p,f,l,D,d,h,v,g,y,b,P;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,r=t.initializerDefineProperty,o=t.assertThisInitialized,a=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){i=t.cclegacy,u=t._decorator,c=t.JsonAsset,p=t.assetManager,f=t.Component,l=t.resources,D=t.Vec2,d=t.instantiate},function(t){h=t.Dinosaur},function(t){v=t.NodePools},function(t){g=t.PvZ2Object,y=t.PvZ2ObjectContainer},function(t){b=t.MultiLanguage},function(t){P=t.Square}],execute:function(){var m,w,O,S,x;i._RF.push({},"ccff7XZbmNCNpEQKQs//RCm","Dinosaurs",void 0);var R=u.ccclass,j=u.property,F=t("DinosaurEnum",function(t){return t[t.raptor=0]="raptor",t[t.stego=1]="stego",t[t.ptero=2]="ptero",t[t.tyranno=3]="tyranno",t[t.ankylo=4]="ankylo",t[t.amount=5]="amount",t}({})),N=(t("DinosaurFeature",(function(){this.NAME=new b,this.CODENAME="",this.PROPS="",this.RES=""})),t("DinosaurRes",(function(){}))),k=(t("DinosaurType",(function(){this.Properties="RTID(raptor@DinosaurProps)",this.DinosaurBasedOn="raptor"})),t("dinosaurs",function(){function t(){}return t.loadDinosaur=function(){var t=a(s().mark((function t(n){var e,r;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!N[n]){t.next=2;break}return t.abrupt("return",N[n]);case 2:return e=this.getDinosaurFeature(n).RES,r=new Promise((function(t,r){l.load("dinosaurs/"+e+"DINOSAUR",(function(e,o){o?(N[n]=o,t(o)):r(e)}))})),t.next=6,r;case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t,this)})));return function(n){return t.apply(this,arguments)}}(),t.createDinosaurByDinoType=function(){var t=a(s().mark((function t(n,e,r){var o,a,i,u,c;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===r&&(r=!1),(o=g.getObjects(e,y.DinosaurTypes,"DinosaurType")[0])||(o=g.getObjects(e,y.CurrentLevel,"DinosaurType")[0]),!o){t.next=11;break}return a=o.objdata,i=g.getObjectsByRTID(a.Properties,"DinosaurProperties")[0].objdata,u=F[a.DinosaurBasedOn],t.next=9,this.createDinosaur(n,u,r,i);case 9:return c=t.sent,t.abrupt("return",c);case 11:return t.next=13,this.createDinosaur(n,F.raptor,r);case 13:return t.abrupt("return",t.sent);case 14:case"end":return t.stop()}}),t,this)})));return function(n,e,r){return t.apply(this,arguments)}}(),t.createDinosaur=function(){var t=a(s().mark((function t(n,e,r,o){var a,i,u;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===r&&(r=!1),void 0===o&&(o=null),t.next=4,this.getDinosaur(e,!1,o);case 4:return a=t.sent,n=isNaN(n)?Math.floor(5*Math.random()):n,i=P.getLane(n),a.node.parent=i.dinoLayer,a.worldPosition=new D(P.zombieSpawnX+i.zombieSpawnOffset,i.floorY),i.zombieSpawnOffset+=P.SquareWidth,r&&(u=P.getSquareWorldPosition(0,4).x,a.reversed=!0,a.worldPositionX=2*u-a.worldPositionX),a.judgeInLnC(),a.correctDepth(1e3),a.onLaneSpawnSettled(i),t.abrupt("return",a);case 15:case"end":return t.stop()}}),t,this)})));return function(n,e,r,o){return t.apply(this,arguments)}}(),t.getDinosaur=function(){var t=a(s().mark((function t(n,e,r){var o,a,i,u,c,p,f;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===e&&(e=!1),void 0===r&&(r=null),o=e?d:v.instantiatePooly,t.next=5,this.loadDinosaur(n);case 5:if(a=t.sent){t.next=10;break}return t.next=9,this.loadDinosaur(F.raptor);case 9:a=t.sent;case 10:return i=n+0,u=o(a),(c=u.getComponent(h)).ID=i,c.OID=n,this.getDinosaurFeature(n),p=r||this.getDinosaurProps(i),f=r||this.getDinosaurProps(n),this.getDinosaurFeature(i),c.setObjdata(p,f),t.abrupt("return",c);case 23:case"end":return t.stop()}}),t,this)})));return function(n,e,r){return t.apply(this,arguments)}}(),t.getDinosaurProps=function(t){var n;return null==(n=g.getObjectsByRTID(this.getDinosaurFeature(t).PROPS,"DinosaurProperties")[0])?void 0:n.objdata},t.getDinosaurFeature=function(t){return this.component.DinoFeatures[t]},t.unloadDinos=function(){for(var t=0;t<F.amount;t++)N[t]&&p.releaseAsset(N[t]),N[t]=void 0},t}()));k.component=void 0;t("Dinosaurs",(m=R("Dinosaurs"),w=j(c),m((x=n((S=function(t){function n(){for(var n,e=arguments.length,a=new Array(e),s=0;s<e;s++)a[s]=arguments[s];return n=t.call.apply(t,[this].concat(a))||this,r(n,"featureJson",x,o(n)),n.DinoFeatures=[],n}return e(n,t),n.prototype.onLoad=function(){k.component=this,this.DinoFeatures=this.featureJson.json.DINOSAURS},n}(f)).prototype,"featureJson",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=S))||O));i._RF.pop()}}}));

System.register("chunks:///_virtual/DinoZombossMechZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZombossMechZombie.ts","./SoundRescourses.ts","./levelController.ts","./NodePools.ts","./ArrayGet.ts","./Square.ts","./Jalapeno.ts","./GroundFire.ts","./ParticleSelfdestroy.ts","./CharacterManager.ts"],(function(o){var t,e,n,r,i,s,a,u,h,l,d,c,S,p,b,y,m,g,f,P,w,D,_,L,v,A,F,R,M;return{setters:[function(o){t=o.inheritsLoose,e=o.applyDecoratedDescriptor,n=o.initializerDefineProperty,r=o.assertThisInitialized,i=o.createClass},function(o){s=o.cclegacy,a=o._decorator,u=o.AudioClip,h=o.Prefab,l=o.Node,d=o.Vec2,c=o.Vec3,S=o.tween,p=o.HALF_PI},function(o){b=o.ZombossStage,y=o.ZombossMechZombie,m=o.ZombossMechProps},function(o){g=o.sounds},function(o){f=o.LevelPlay},function(o){P=o.instantiatePooly},function(o){w=o.ValueRange,D=o.ArrayGet},function(o){_=o.Square},function(o){L=o.jalapeno},function(o){v=o.GroundFireColorEnum,A=o.GroundFireSpreadStyleEnum},function(o){F=o.ParticleSelfdestroy},function(o){R=o.Rectangle,M=o.ZombieDamageType}],execute:function(){var C,Z,k,I,U,x,z,O,T,j,E,q,B,V,H,G,W,Y,J,N,X,K,Q,$,oo,to,eo,no,ro,io,so,ao,uo,ho,lo,co,So,po,bo,yo,mo,go,fo,Po;s._RF.push({},"63887Qxlo1JOJ+qM+vTjvgF","DinoZombossMechZombie",void 0);var wo=a.ccclass,Do=a.property,_o=(o("DinoZombossStage",wo("DinoZombossStage")(C=function(o){function e(){for(var t,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(t=o.call.apply(o,[this].concat(n))||this).MissileCount=new w(2,2),t}return t(e,o),e}(b))||C),function(o){function e(){for(var t,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(t=o.call.apply(o,[this].concat(n))||this).ZombossStages=[],t}return t(e,o),e}(m));o("DinoZombossMechZombie",(Z=wo("DinoZombossMechZombie"),k=Do([u]),I=Do([u]),U=Do([u]),x=Do([u]),z=Do([u]),O=Do([u]),T=Do([u]),j=Do(u),E=Do([u]),q=Do([u]),B=Do([u]),V=Do([u]),H=Do([u]),G=Do([u]),W=Do(h),Y=Do(h),J=Do(h),N=Do(h),X=Do(l),K=Do(l),Z((oo=e(($=function(o){function e(){for(var t,e=arguments.length,i=new Array(e),s=0;s<e;s++)i[s]=arguments[s];return(t=o.call.apply(o,[this].concat(i))||this)._objdataOwn=new _o,t._objdataOwnOrg=new _o,t.FSCD=0,n(t,"introSounds",oo,r(t)),n(t,"roarSounds",to,r(t)),n(t,"shootRoarSounds",eo,r(t)),n(t,"shootStartSounds",no,r(t)),n(t,"deathRoarSounds",ro,r(t)),n(t,"deathExplodeSounds",io,r(t)),n(t,"magnetStartSounds",so,r(t)),n(t,"magnetLoopSound",ao,r(t)),n(t,"magnetEndSounds",uo,r(t)),n(t,"rushRoarSounds",ho,r(t)),n(t,"rushReadySounds",lo,r(t)),n(t,"rushSounds",co,r(t)),n(t,"rushLaserSounds",So,r(t)),n(t,"shootSounds",po,r(t)),t.willLandPos=new d(6,1),t.jumpTargetPoses=[new d(6,1),new d(6,2),new d(6,3),new d(6,4)],t.walkEasing="quadInOut",t.WalksLeftOrRight=!1,t.walksWhenRushing=!1,n(t,"fireSquarePar",bo,r(t)),n(t,"rushShootPFB",yo,r(t)),n(t,"rushLaserPFB",mo,r(t)),n(t,"rushFloorPFB",go,r(t)),t.rushShootPSD_U=void 0,t.rushShootPSD_D=void 0,t.rushLaserPSD_U=void 0,t.rushLaserPSD_D=void 0,t.rushFloorPSD_U=void 0,t.rushFloorPSD_D=void 0,n(t,"eyePoint_L",fo,r(t)),n(t,"eyePoint_R",Po,r(t)),t._rushColumn=0,t.rushInteruptDMG=1e3,t.currentMechStages=[],t}t(e,o);var s=e.prototype;return s.specialZombossOnLoad=function(){this.magnetLoopSound.loadMode=u.AudioType.DOM_AUDIO},s.getMissileCount=function(){var o=this.currentMechStages[this.currentStage].MissileCount;if(o){var t=w.getRandomIntegerFromRange(o);if(t)return t}return 2},s.killInRange=function(){var o=this,t=this.scale,e=Math.abs(t),n=this.bodyRecHiddenCD>0?new R:R.createRectangleCenter(new d(this.shadeSocket.worldPosition.x+this.HitRect.x*t,this._worldPositionY+this.HitRect.y*e+this.height_depth),this.HitRect.w*e,this.HitRect.h*e);[this.inLane,this.inLane.UpperLane].forEach((function(t){o.hypnotized||t.plantPool().forEach((function(t){n.judgeCrossRec(t.bodyRec)&&(t.kill(),t.dead||o.rushInterupt())})),(o.hypnotized?t.zombiePool():t.hypnoZombiePool()).forEach((function(t){t!=o&&-1==o.basicWhiteList.indexOf(t.ID)&&n.judgeCrossRec(t.bodyRec)&&t.playDie(!1,null,!0,M.physicle,!0,!0,!0)}))}))},s.specialZombossUpdateForce=function(o,t,e,n){this.moveTween&&(this.FSCD-=o,this.FSCD<=0&&(this.FSCD=1,g.playArray(this.worldZombossMechStepSounds,1,.1),f.shakeScreen())),this.rushShootPSD_U&&(this.rushShootPSD_U.node.worldPosition=this.eyePoint_L.worldPosition.toVec2().toVec3(),this.rushShootPSD_U.node.scale=new c(.6*Math.sign(this.scale),.6,1)),this.rushShootPSD_D&&(this.rushShootPSD_D.node.worldPosition=this.eyePoint_R.worldPosition.toVec2().toVec3(),this.rushShootPSD_D.node.scale=new c(.6*Math.sign(this.scale),.6,1)),(this.ZombossIdling||this.mechStunningCD>0||!this.isAlive())&&this.killLaser()},s.specialZombossUpdate=function(o,t,e){this.mechStunningCD>0&&g.playOneShot(this.magnetLoopSound,1,NaN,.75)},s.jumpStart=function(o){void 0===o&&(o=this.getJumpTarget()),this.jump(o)},s.specialZombieSetLaneChangeParent=function(o,t){var e=t;this.node.setParent(e.prjLayer,!0),this.node.setSiblingIndex(0)},s.specialZombossMechAnimationListener=function(o){switch(o.name){case"intro":g.playArray(this.introSounds,1,.1);break;case"roar":g.playArray(this.roarSounds,1,.1),Math.random()>.5&&g.playArray(this.worldZombossSpawnSaySounds,1,.1);break;case"step":f.shakeScreen(),g.playArray(this.worldZombossMechStepSounds,1,.1);break;case"summon":var t=5;t=this.reversed?8-t:t,this.columnSummon(t);break;case"shootStartSound":g.playArray(this.shootRoarSounds,1,.1),g.playArray(this.shootStartSounds,1,.1),Math.random()>.5&&g.playArray(this.worldZombossLeapSaySounds,1,.1);break;case"shootStart":g.playArray(this.shootSounds,1,.1);break;case"stunStartSound":g.playArray(this.magnetStartSounds,1,.1);break;case"stunEndSound":g.playArray(this.magnetEndSounds,1,.1),Math.random()>.5&&g.playArray(this.worldZombossAngrySaySounds,1,.1);break;case"eyePar":var e=P(this.rushShootPFB);e.parent=this.node.parent,e.setSiblingIndex(0),this.rushShootPSD_U=e.getComponent(F);var n=P(this.rushShootPFB);n.parent=this.node.parent,this.rushShootPSD_D=n.getComponent(F);break;case"rushReady":g.playArray(this.rushRoarSounds,1,.1),g.playArray(this.rushReadySounds,1,.1),Math.random()>.5&&g.playArray(this.worldZombossLeapSaySounds,1,.1);break;case"rush":g.playArray(this.rushSounds,1,.1),g.playArray(this.rushLaserSounds,1,.1),Math.random()>.5&&g.playArray(this.worldZombossRushSaySounds,1,.1),this.rushFire();break;case"deathRoarSound":g.playArray(this.deathRoarSounds,1,.1);break;case"deathStartSound":g.playArray(this.deathExplodeSounds,1,.1)}},s.setStun=function(o){},s.getIdleC=function(){return this.reversed?2:6},s.specialZombossMechOnEnable=function(){this.killLaser(),this.worldPositionX=_.getSquareWorldPosition(0,this.reversed?1:7).x},s.onReversedSet=function(o){this.worldPositionX=_.getSquareWorldPosition(0,o?1:7).x},s.walkU=function(){if(this.isAlive()){var o=this;this.moveTween=S(o).by(140/30/this.lockedTimeScale(),{worldPositionY:_.SquareHeight},{easing:"quadInOut"}).call((function(){o.moveTween=null})).start()}},s.walkD=function(){if(this.isAlive()){var o=this;this.moveTween=S(o).by(140/30/this.lockedTimeScale(),{worldPositionY:-_.SquareHeight},{easing:"quadInOut"}).call((function(){o.moveTween=null})).start()}},s.killLaser=function(){[this.rushShootPSD_U,this.rushShootPSD_D,this.rushLaserPSD_U,this.rushLaserPSD_D,this.rushFloorPSD_U,this.rushFloorPSD_D].forEach((function(o){o&&(o.db.playAnimation("Die",1),o.willBeKilled=!0)})),this.rushShootPSD_U=null,this.rushShootPSD_D=null,this.rushLaserPSD_U=null,this.rushLaserPSD_D=null,this.rushFloorPSD_U=null,this.rushFloorPSD_D=null},s.rushFire=function(){var o=this,t=P(this.rushFloorPFB);t.parent=this.node.parent,t.setSiblingIndex(0),this.rushFloorPSD_U=t.getComponent(F);var e=P(this.rushLaserPFB);e.parent=this.node.parent,e.setSiblingIndex(0),this.rushLaserPSD_U=e.getComponent(F);var n=P(this.rushLaserPFB);n.parent=this.node.parent,this.rushShootPSD_D&&n.setSiblingIndex(this.rushShootPSD_D.node.getSiblingIndex()),this.rushLaserPSD_D=n.getComponent(F);var r=P(this.rushFloorPFB);r.parent=this.node.parent,this.rushFloorPSD_D=r.getComponent(F),this._rushColumn=this.cIndex,this.rushing=!0,this.rushDMGcount=0,this.rushTween=S(this).to(3,{rushColumn:this.reversed?8:0}).call((function(){o.killLaser(),o.body.playAnimation("RushEnd",1/0),g.playArray(o.rushReadySounds,1,.1),Math.random()>.5&&g.playArray(o.worldZombossStabSaySounds,1,.1),o.rushing=!1,o.willJump=!0,o.audioSource.stop(),o.rushTween=null})).start()},s.jump=function(o){var t;void 0===o&&(o=D.getRandom(this.jumpTargetPoses)),"Idle"!=this.body.db.armature().animation.lastAnimationName&&this.body.playAnimation("Idle");var e=o.clone();this.reversed&&(e.x=8-e.x);var n=_.getLnC(e.y,e.x),r=this;null==(t=this.moveTween)||t.stop(),this.moveTween=S(r).to(3,{worldPositionX:n.node.worldPosition.x,worldPositionY:n.node.worldPosition.y},{easing:"quadInOut"}).call((function(){r.moveTween=null})).start()},s.rush=function(){this.rushDMGcount=0,this.body.playAnimation("RushStart",1/0),Math.random()>.5&&g.playArray(this.worldZombossAngrySaySounds,1,.1),this.willRush=!1},s.rushAction=function(){this.ZombossIdling=!1,this.rush()},s.summonAction=function(){this.body.playAnimation("Summon",1/0),this.ZombossIdling=!1},i(e,[{key:"objdataOwn",get:function(){return this._objdataOwn}},{key:"objdataOwnOrg",get:function(){return this._objdataOwnOrg}},{key:"rushColumn",get:function(){return this._rushColumn},set:function(o){var t=this,e=Math.floor(this._rushColumn),n=Math.floor(o),r=Math.min(e,n),i=Math.max(e,n);this.reversed&&(r++,i++);for(var s=r;s<i;s++){[_.getLnC(this.lIndex,s),_.getLnC(this.lIndex-1,s)].forEach((function(o){if(o.isInLawn()){L.burnFromLnC(o,3600,!1,4,10,v.yellow,A.split,1,0,t.basicWhiteList,2);var e=P(t.fireSquarePar);e.parent=o.inLane.prjLayer,e.worldPosition=o.node.worldPosition,o.crackleCountdown=4}}))}var a=_.getSquareWorldPosition(0,o).x,u=this.inLane.UpperLane.floorY,h=this.inLane.floorY,l=this.eyePoint_L.worldPosition.toVec2(),S=this.eyePoint_R.worldPosition.toVec2(),b=new d(a,u).subtract(l),y=new d(a,h).subtract(S);this.rushLaserPSD_U&&(this.rushLaserPSD_U.node.worldPosition=l.toVec3(),this.rushLaserPSD_U.node.worldScale=new c(b.length()/200,1,1),this.rushLaserPSD_U.node.angle=90*Math.atan2(b.y,b.x)/p),this.rushLaserPSD_D&&(this.rushLaserPSD_D.node.worldPosition=S.toVec3(),this.rushLaserPSD_D.node.worldScale=new c(y.length()/200,1,1),this.rushLaserPSD_D.node.angle=90*Math.atan2(y.y,y.x)/p),this.rushFloorPSD_U&&(this.rushFloorPSD_U.node.worldPosition=new d(a,u).toVec3(),this.rushFloorPSD_U.node.scale=new c(.6*Math.sign(this.scale),.6,1)),this.rushFloorPSD_D&&(this.rushFloorPSD_D.node.worldPosition=new d(a,h).toVec3(),this.rushFloorPSD_D.node.scale=new c(.6*Math.sign(this.scale),.6,1)),this._rushColumn=o}}]),e}(y)).prototype,"introSounds",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),to=e($.prototype,"roarSounds",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),eo=e($.prototype,"shootRoarSounds",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),no=e($.prototype,"shootStartSounds",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ro=e($.prototype,"deathRoarSounds",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),io=e($.prototype,"deathExplodeSounds",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),so=e($.prototype,"magnetStartSounds",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ao=e($.prototype,"magnetLoopSound",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),uo=e($.prototype,"magnetEndSounds",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ho=e($.prototype,"rushRoarSounds",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),lo=e($.prototype,"rushReadySounds",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),co=e($.prototype,"rushSounds",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),So=e($.prototype,"rushLaserSounds",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),po=e($.prototype,"shootSounds",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),bo=e($.prototype,"fireSquarePar",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yo=e($.prototype,"rushShootPFB",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),mo=e($.prototype,"rushLaserPFB",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),go=e($.prototype,"rushFloorPFB",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fo=e($.prototype,"eyePoint_L",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Po=e($.prototype,"eyePoint_R",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=$))||Q));s._RF.pop()}}}));

System.register("chunks:///_virtual/DoomShroom.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CherryBomb.ts","./NodePools.ts","./levelController.ts","./CharacterManager.ts","./Square.ts","./SoundRescourses.ts"],(function(e){var o,n,t,i,r,a,l,c,s,u,h,L,p,d,m,f,b,P,w;return{setters:[function(e){o=e.applyDecoratedDescriptor,n=e.inheritsLoose,t=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,l=e.Color,c=e.Prefab,s=e.AudioClip,u=e.Vec3},function(e){h=e.CherryBombPlant,L=e.CherryBombProps},function(e){p=e.NodePools},function(e){d=e.LevelPlay},function(e){m=e.Rectangle,f=e.ZombieDamageDetails,b=e.ZombieDamageType},function(e){P=e.Square},function(e){w=e.sounds}],execute:function(){var g,y,C,S,D,U,v,z,R,j,q;r._RF.push({},"c950ccw81lBlqi8LDZMzMjh","DoomShroom",void 0);var _=a.ccclass,k=a.property,E=function(e){function o(){for(var o,n=arguments.length,t=new Array(n),i=0;i<n;i++)t[i]=arguments[i];return(o=e.call.apply(e,[this].concat(t))||this).TileCrackleDuration=180,o}return n(o,e),o}(L);e("DoomShroomPlant",(g=_("DoomShroomPlant"),y=k(l),C=k(c),S=k(c),D=k(s),g((z=o((v=function(e){function o(){for(var o,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(o=e.call.apply(e,[this].concat(r))||this)._objdataOwn=new E,t(o,"doomColor",z,i(o)),t(o,"doomParticle",R,i(o)),t(o,"doomParticleUp",j,i(o)),t(o,"doomSound",q,i(o)),o}return n(o,e),o.prototype.explode=function(){var e=p.instantiatePooly(this.doomParticle);e.parent=this.inLane.prjLayer,e.worldPosition=new u(this.worldPositionX,this.worldPositionY,0);var o=p.instantiatePooly(this.doomParticleUp),n=P.getLane(4);o.parent=n.prjLayer,o.worldPosition=new u(this.worldPositionX,n.floorY,0),d.shakeScreen(3),w.playOneShot(this.doomSound,1,.1),d.setScreenFlashLeftColor(this.doomColor,3);var t=this.inLane.zombiePool().concat(this.inLane.UpperLane.UpperLane.UpperLane.zombiePool(),this.inLane.UpperLane.UpperLane.zombiePool(),this.inLane.UpperLane.zombiePool(),this.inLane.LowerLane.zombiePool(),this.inLane.LowerLane.LowerLane.zombiePool(),this.inLane.LowerLane.LowerLane.LowerLane.zombiePool()),i=this.inLane.tombPool().concat(this.inLane.UpperLane.UpperLane.UpperLane.tombPool(),this.inLane.UpperLane.UpperLane.tombPool(),this.inLane.UpperLane.tombPool(),this.inLane.LowerLane.tombPool(),this.inLane.LowerLane.LowerLane.tombPool(),this.inLane.LowerLane.LowerLane.LowerLane.tombPool()),r=[m.createRectangleNodeCenter(this.inLnC.node,7*P.SquareWidth,3*P.SquareHeight),m.createRectangleNodeCenter(this.inLnC.node,3*P.SquareWidth,7*P.SquareHeight),m.createRectangleNodeCenter(this.inLnC.node,5*P.SquareWidth,5*P.SquareHeight)],a=[],l=[];r.forEach((function(e){t.forEach((function(o){-1==a.indexOf(o)&&e.judgeCrossRec(o.bodyRecReal)&&a.push(o)})),i.forEach((function(o){-1==l.indexOf(o)&&e.judgeCrossRec(o.bodyRec)&&l.push(o)}))}));var c=this._objdataOwn.Damage;this._dmgScale&&(c*=this._dmgScale);var s=new f(c,!1,!1,!1,null,b.ray,!0,!0);a.forEach((function(e){e.dealDamage(s)})),l.forEach((function(e){e.dealDamage(s)})),this.inLnC.getAllPlants().forEach((function(e){e.kill()})),this.die(),this.inLnC.crackleCountdown=this._objdataOwn.TileCrackleDuration},o}(h)).prototype,"doomColor",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new l(255,255,255,255)}}),R=o(v.prototype,"doomParticle",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=o(v.prototype,"doomParticleUp",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=o(v.prototype,"doomSound",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=v))||U));r._RF.pop()}}}));

System.register("chunks:///_virtual/Dragonbruit.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./CharacterManager.ts","./Character.ts","./Square.ts","./Zombie.ts","./ArrayGet.ts","./commonShot.ts","./Plants.ts","./SoundRescourses.ts","./Projectiles.ts"],(function(n){var t,o,e,a,i,r,s,u,c,l,h,d,b,p,y,f,g,S,m,w,P,R,v,L,C;return{setters:[function(n){t=n.applyDecoratedDescriptor,o=n.inheritsLoose,e=n.initializerDefineProperty,a=n.assertThisInitialized,i=n.asyncToGenerator,r=n.regeneratorRuntime},function(n){s=n.cclegacy,u=n._decorator,c=n.AudioClip,l=n.Node,h=n.Size},function(n){d=n.Plant,b=n.PlantProps,p=n.PlantType},function(n){y=n.ZombiePool,f=n.TombPool,g=n.Rectangle},function(n){S=n.CharacterType},function(n){m=n.Square},function(n){w=n.ZombiePoison},function(n){P=n.ArrayGet},function(n){R=n.SplashDamage},function(n){v=n.PlantEnum},function(n){L=n.sounds},function(n){C=n.ProjectileShootingFunctions}],execute:function(){var j,A,x,_,D,O,z,E,T,k,F,I,X,B,M,N,q,U,G,W,Z,H,K,V;s._RF.push({},"0b3b6C/ecFEMpYuW0VuFKGA","Dragonbruit",void 0);var Y=u.ccclass,J=u.property,Q=(j=Y("dragonbruitSound"),A=J([c]),x=J([c]),_=J([c]),D=J([c]),O=J([c]),z=J([c]),E=J([c]),j((F=t((k=function(){function n(){e(this,"chewSounds",F,this),e(this,"shootSounds",I,this),e(this,"foodShootSounds",X,this),e(this,"foodSounds",B,this),e(this,"deathSounds",M,this),e(this,"deadShootSounds",N,this),e(this,"dropSounds",q,this)}var t=n.prototype;return t.playChewSound=function(){L.playArray(this.chewSounds,1,.1)},t.playShootSound=function(){L.playArray(this.shootSounds,1,.1)},t.playFoodShootSound=function(){L.playArray(this.foodShootSounds,1,.1)},t.playFoodSound=function(){L.playArray(this.foodSounds,1,.1)},t.playDeathSound=function(){L.playArray(this.deathSounds,1,.1)},t.playDeadShootSound=function(){L.playArray(this.deadShootSounds,1,.1)},t.playDropSound=function(){L.playArray(this.dropSounds,1,.1)},n}()).prototype,"chewSounds",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),I=t(k.prototype,"shootSounds",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),X=t(k.prototype,"foodShootSounds",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B=t(k.prototype,"foodSounds",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),M=t(k.prototype,"deathSounds",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),N=t(k.prototype,"deadShootSounds",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),q=t(k.prototype,"dropSounds",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),T=k))||T),$=function(n){function t(){for(var t,o=arguments.length,e=new Array(o),a=0;a<o;a++)e[a]=arguments[a];return(t=n.call.apply(n,[this].concat(e))||this).ThrowInterval=7,t.PoisonDPS=40,t.PoisonDuration=3,t.CabbageType="dragonfruit",t.CabbageTypePlantfood="dragonfruit_pf",t}return o(t,n),t}(b);n("DragonbruitPlant",(U=Y("Dragonbruit"),G=J(l),W=J(Q),U((K=t((H=function(n){function t(){for(var t,o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return(t=n.call.apply(n,[this].concat(i))||this)._objdataOwn=new $,t.busy=0,t.ready=!1,t.readying=!0,e(t,"cabbageSpawnPoint",K,a(t)),t.shooting=!1,e(t,"soundRes",V,a(t)),t.dropping=!1,t.detecter=null,t}o(t,n);var s=t.prototype;return s._shoot=function(){var n=i(r().mark((function n(t,o,e){var a,i,s;return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,C.lobOneCabbageOnZombie(o,this.worldPosition,this.cabbageSpawnPoint.getWorldPosition().y-this.inLnC.plantPoint.worldPosition.y,this.inLane.prjLayer,t,.4444,S.zombie,e);case 2:return a=n.sent,this._dmgScale&&a.setDamage(a.damage*this._dmgScale),this.ShadowPowered&&(i=this._objdataOwn.PoisonDPS,this._dmgScale&&(i*=this._dmgScale),s=this._objdataOwn.PoisonDuration,a.setPoison(i,s),a.setSplashDamages([new R(50,new h(2,1),0,0,0,new w(i,s),0,0)])),this.shooting=!1,n.abrupt("return",a);case 7:case"end":return n.stop()}}),n,this)})));return function(t,o,e){return n.apply(this,arguments)}}(),s._shootOnNode=function(){var n=i(r().mark((function n(t,o,e){var a;return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,C.lobOneCabbageOnNode(o,this.worldPosition,this.cabbageSpawnPoint.getWorldPosition().y-this.inLnC.plantPoint.worldPosition.y,this.inLane.prjLayer,t,.4444,S.zombie,e);case 2:return a=n.sent,this.shooting=!1,this.ShadowPowered&&(a.setPoison(40,3),a.setSplashDamages([new R(50,new h(2,1),0,0,0,new w(40,3),0,0)])),n.abrupt("return",a);case 6:case"end":return n.stop()}}),n,this)})));return function(t,o,e){return n.apply(this,arguments)}}(),s.specialPlantFood=function(n){this.ready=!1,this.readying=!1,this.busy=1/0,this.soundRes.playFoodSound();var t=this.anmControl;t.playAnimation("Food",1),t.IdleAnim="Idle"},s.specialPlantFoodEnd=function(){this.busy=0},s.shootOnTarget=function(){var n,t,o,e=this,a=null,i=1/0;null==(n=this.inLane)||n.zombiePool().concat().forEach((function(n){n.bodyRec.prjX().x<i&&n.bodyRec.judgeCrossRec(e.detecter)&&(a=n,i=n.bodyRec.prjX().x)}));var r=null,s=1/0;null==(t=this.inLane)||null==(t=t.UpperLane)||t.zombiePool().concat().forEach((function(n){n.bodyRec.prjX().x<s&&n.bodyRec.judgeCrossRec(e.detecter)&&(r=n,s=n.bodyRec.prjX().x)}));var u=null,c=1/0;null==(o=this.inLane)||null==(o=o.LowerLane)||o.zombiePool().concat().forEach((function(n){n.bodyRec.prjX().x<c&&n.bodyRec.judgeCrossRec(e.detecter)&&(u=n,c=n.bodyRec.prjX().x)})),[u,a,r].forEach((function(n){n&&e._shoot(n,e._objdataOwn.CabbageType,!1)}));var l=null;if(!r){var h,d=1/0;null==(h=this.inLane)||null==(h=h.UpperLane)||h.tombPool().concat().forEach((function(n){n.bodyRec.prjX().x<d&&n.bodyRec.judgeCrossRec(e.detecter)&&(l=n,d=n.bodyRec.prjX().x)}))}var b=null;if(!a){var p,y=1/0;null==(p=this.inLane)||p.tombPool().concat().forEach((function(n){n.bodyRec.prjX().x<y&&n.bodyRec.judgeCrossRec(e.detecter)&&(b=n,y=n.bodyRec.prjX().x)}))}var f=null;if(!u){var g,S=1/0;null==(g=this.inLane)||null==(g=g.LowerLane)||g.tombPool().concat().forEach((function(n){n.bodyRec.prjX().x<S&&n.bodyRec.judgeCrossRec(e.detecter)&&(f=n,S=n.bodyRec.prjX().x)}))}[f,b,l].forEach((function(n){n&&e._shootOnNode(n.node,e._objdataOwn.CabbageType,!1)}))},s.shootOnAll=function(){var n=this;y.pool().concat().forEach((function(t){n._shoot(t,n._objdataOwn.CabbageTypePlantfood,!0)})),f.pool().concat().forEach((function(t){n._shootOnNode(t.node,n._objdataOwn.CabbageTypePlantfood,!0)}))},s.waterable=function(){return!(this.shooting||this.readying||this.ready||this.dropping)},s.babyAnimationListner=function(n){},s.spawnBabies=function(){var n=i(r().mark((function n(){var t,o,e,a,i,s,u,c;return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((t=[]).length<3)for(o=P.randomize(m.getAllLnC()),e=0;t.length<3&&e<o.length;e++)a=o[e],-1==t.indexOf(a)&&a.putPlantAvailable(!0,v.BabyDragonbruit)&&t.push(a);i=0,s=t;case 3:if(!(i<s.length)){n.next=14;break}if(!(u=s[i]).putPlantAvailable(!0,v.BabyDragonbruit)){n.next=11;break}return n.next=8,u.SpawnPlant(v.BabyDragonbruit,!0);case 8:(c=n.sent)&&(u.pushPlant(c),c.plantType=p.plant,c.anmControl.playAnimation("Spawn",1)),u.selection();case 11:i++,n.next=3;break;case 14:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),s.animationListener=function(n){switch(n.name){case"Shoot":this.anmControl.IdleAnim="Idle",this.shootOnTarget(),this.shooting=!1;break;case"getReady":this.ready=!0;break;case"foodShoot":this.shootOnAll(),this.soundRes.playFoodShootSound();break;case"foodEnd":this.foodEnd();break;case"chew":this.soundRes.playChewSound();break;case"deadShoot":this.spawnBabies();break;case"boom":this.soundRes.playDeadShootSound()}this.babyAnimationListner(n)},s.babyOnEnable=function(){},s.specialPlantOnEnable=function(){this.shooting=!1,this.ready=!1,this.readying=!1,this.busy=0,this.anmControl.IdleAnim="Idle",this.babyOnEnable()},s.playReady=function(){this.readying=!0;var n=Math.max(.1,this._objdataOwn.ThrowInterval);this._cdScale>0&&(n*=this._cdScale),this.busy=Math.max(.1,n-4.5);var t=this.anmControl;t.playAnimation("Ready",1,4.5/n*.1,n>4.5?1:4.5/n),t.IdleAnim="Idle_Ready"},s.setDetecters=function(){this.detecter=g.createRectangleNodeSide(this.inLnC.node,m.SquareWidth*(9-this.inLnC.cIndex),3*m.SquareHeight)},s.detectEnemies=function(){for(var n=this.inLane.UpperLane.zombiePool(),t=this.inLane.zombiePool(),o=this.inLane.LowerLane.zombiePool(),e=n.concat(t,o),a=0;a<e.length;a++){var i;if(null!=(i=this.detecter)&&i.judgeCrossRec(e[a].bodyRec))return!0}for(var r=this.inLane.UpperLane.tombPool(),s=this.inLane.tombPool(),u=this.inLane.LowerLane.tombPool(),c=r.concat(s,u),l=0;l<c.length;l++){var h;if(null!=(h=this.detecter)&&h.judgeCrossRec(c[l].bodyRec))return!0}return!1},s.shootAnimation=function(){this.soundRes.playShootSound(),this.anmControl.playAnimation("Shoot",1,.1,Math.max(1,1/this.busy)),this.ready=!1,this.readying=!1,this.shooting=!0},s.specialPlantOnSquareChange=function(n,t){this.setDetecters()},s.specialPlantUpdate=function(n,t,o){this.busy>0&&!this.readying&&(this.busy-=n),this.busy<=0&&(this.busy=0,this.playReady()),this.ready&&o>0&&this.detectEnemies()&&this.shootAnimation()},t}(d)).prototype,"cabbageSpawnPoint",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=t(H.prototype,"soundRes",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Q}}),Z=H))||Z));s._RF.pop()}}}));

System.register("chunks:///_virtual/DragonbruitBaby.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Dragonbruit.ts","./CharacterManager.ts","./Square.ts","./Plants.ts"],(function(e){var t,n,r,o,a,i,s,c,u,h;return{setters:[function(e){t=e.inheritsLoose,n=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){o=e.cclegacy,a=e._decorator,i=e.Vec2},function(e){s=e.DragonbruitPlant},function(e){c=e.Rectangle},function(e){u=e.Square},function(e){h=e.PlantEnum}],execute:function(){var l;o._RF.push({},"fc55cjG2QlDlqEHOc4y+Mqz","DragonbruitBaby",void 0);var d=a.ccclass;a.property,e("DragonbruitBabyPlant",d("DragonbruitBaby")(l=function(e){function o(){return e.apply(this,arguments)||this}t(o,e);var a=o.prototype;return a.babyAnimationListner=function(e){if("busy=0"==e.name)this.busy=0,this.dropping=!1;else if("drop"==e.name){var t;this.soundRes.playDropSound(),this.soundRes.playFoodSound();var n=c.createRectangleNodeCenter(this.inLnC.node,u.SquareWidth,u.SquareHeight);null==(t=this.inLane)||t.zombiePool().forEach((function(e){e.knockBackable&&e.bodyRec.judgeCrossRec(n)&&e.knockBackBy(new i(1,0))})),this.eaterDetectable=!0,this.smasherDetectable=!0}else"Grow"==e.name&&this.grow()},a.grow=function(){var e=n(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.inLnC.putPlantAvailable(!1,h.BabyDragonbruit)){e.next=5;break}return e.next=3,this.inLnC.SpawnPlant(h.Dragonbruit);case 3:e.sent.endangered=this.endangered;case 5:this.die(!0,!1),this.node.destroy();case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),a.shootOnTarget=function(){var e,t=this,n=null,r=1/0;if(null==(e=this.inLane)||e.zombiePool().concat().forEach((function(e){e.bodyRec.prjX().x<r&&e.bodyRec.judgeCrossRec(t.detecter)&&(n=e,r=e.bodyRec.prjX().x)})),n)this._shoot(n,this._objdataOwn.CabbageType,!1);else{var o=null,a=1/0;this.inLane.tombPool().concat().forEach((function(e){a>e.bodyRec.prjX().x&&e.bodyRec.judgeCrossRec(t.detecter)&&(o=e,a=e.bodyRec.prjX().x)})),o&&this._shootOnNode(o.node,this._objdataOwn.CabbageType,!1)}},a.detectEnemies=function(){for(var e=this.inLane.zombiePool(),t=0;t<e.length;t++){var n;if(null!=(n=this.detecter)&&n.judgeCrossRec(e[t].bodyRec))return!0}for(var r=this.inLane.tombPool(),o=0;o<r.length;o++){var a;if(null!=(a=this.detecter)&&a.judgeCrossRec(r[o].bodyRec))return!0}return!1},a.setDetecters=function(){this.detecter=c.createRectangleNodeSide(this.inLnC.node,u.SquareWidth*(9-this.inLnC.cIndex),u.SquareHeight)},a.babyOnEnable=function(){this.anmControl.playAnimation("Spawn",1),this.busy=1/0,this.eaterDetectable=!1,this.smasherDetectable=!1,this.dropping=!0},o}(s))||l);o._RF.pop()}}}));

System.register("chunks:///_virtual/DragonImpZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ImpZombie.ts","./CharacterManager.ts"],(function(t){var e,i,n,r,a;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,n=t._decorator},function(t){r=t.ImpZombie},function(t){a=t.ZombieDamageType}],execute:function(){var o;i._RF.push({},"d3df8Ebk+BJSLgRxqSCU4Mf","DragonImpZombie",void 0);var c=n.ccclass;n.property,t("DragonImpZombie",c("DragonImpZombie")(o=function(t){function i(){return t.apply(this,arguments)||this}e(i,t);var n=i.prototype;return n.extraDamageScale=function(t){return t.damageType==a.fire?0:1},n.playDirtSpawn=function(t){this.playDirtSpawnParticle(),this.isWalking=!1,this.switching=!0,this.body.playAnimation("Spawn",1)},i}(r))||o);i._RF.pop()}}}));

System.register("chunks:///_virtual/dropping.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CharacterManager.ts","./Character.ts","./Square.ts","./Mouse.ts","./levelController.ts","./UI.ts","./KeyListener.ts","./SunCount.ts"],(function(i){var t,e,n,o,a,s,l,r,c,h,d,u,p,f,y,g,w,m,v,C,b,S;return{setters:[function(i){t=i.applyDecoratedDescriptor,e=i.inheritsLoose,n=i.initializerDefineProperty,o=i.assertThisInitialized,a=i.createClass},function(i){s=i.cclegacy,l=i._decorator,r=i.CCFloat,c=i.Vec2,h=i.KeyCode,d=i.tween,u=i.input,p=i.Input,f=i.UITransform},function(i){y=i.Rectangle},function(i){g=i.Character},function(i){w=i.Square},function(i){m=i.Mouse},function(i){v=i.LevelPlay},function(i){C=i.UIInGame},function(i){b=i.KeyListener},function(i){S=i.SunCount}],execute:function(){var L,I,x,D,P,V,T,U,O;s._RF.push({},"7a0e0GwYE1IcZ6i5htuJ5IJ","dropping",void 0);var F=l.ccclass,R=l.property;i("dropping",(L=F("dropping"),I=R(Boolean),x=R(Number),D=R(r),L((T=t((V=function(i){function t(){for(var t,e=arguments.length,a=new Array(e),s=0;s<e;s++)a[s]=arguments[s];return(t=i.call.apply(i,[this].concat(a))||this).collected=!1,t.linearVelocity=new c(0,0),t.bodyLinearVelocity=0,t.gravity=0,t.ui=void 0,n(t,"willFade",T,o(t)),n(t,"existTime",U,o(t)),t.fadingCountdown=0,t.fadingStarted=!1,n(t,"dpScale",O,o(t)),t.mouseListen=!0,t}e(t,i);var s=t.prototype;return s.onKeyDown=function(i){var t=b.KeyBinds;(null==i?void 0:i.keyCode)==h[t.Game_CollectAll]&&this.goToUI(this.ui)},s.specialOnGroundHit=function(){},s.onGroundHit=function(){this.linearVelocity=new c(0,0),this.bodyLinearVelocity=0,this.gravity=0,this.specialOnGroundHit(),this.fadingOn()},s.move=function(i){if(!this.collected){var t=.5*i*60,e=.55*i*60,n=this.worldPosition,o=this.height,a=this.linearVelocity;this.worldPosition=new c(n.x+a.x*t,n.y+a.y*t),this.height=Math.max(0,o+this.bodyLinearVelocity*t),this.bodyLinearVelocity-=this.gravity*e,this.height<=0&&o>0&&this.onGroundHit(),w.lawnRec.judgeInRecNode(this.node)||((this.linearVelocity.x<0&&this.node.worldPosition.x<w.lawnRec.prjX().x||this.linearVelocity.x>0&&this.node.worldPosition.x>w.lawnRec.prjX().y)&&(this.linearVelocity.x*=-1),(this.linearVelocity.y<0&&this.node.worldPosition.y<w.lawnRec.prjY().x||this.linearVelocity.y>0&&this.node.worldPosition.y>w.lawnRec.prjY().y)&&(this.linearVelocity.y*=-1))}},s.fadingOn=function(){!this.fadingStarted&&this.willFade&&(this.fadingCountdown=this.existTime,this.fadingStarted=!0)},s.specialGoToUI=function(i){},s.specialUICall=function(i){},s.collect=function(){this.goToUI(this.ui)},s.specialCollectable=function(){return!0},s.collectable=function(){return!this.collected&&this.specialCollectable()},s.goToUI=function(i){var t=this;if(this.collectable()){this.collected=!0,this.specialGoToUI(i),this.linearVelocity=new c(0,0),this.bodyLinearVelocity=0,this.gravity=0;var e;if(i)null!=C&&null!=(e=C.component)&&e.uiHidden?(this.shrinkAway(),this.specialUICall(i)):d(this).to(1,{height:0,worldPositionX:i.worldPosition.x,worldPositionY:i.worldPosition.y},{easing:"quadOut"}).call((function(){t.shrink(.2),t.specialUICall(i)})).start();else this.shrinkAway(.35)}},s.fade=function(){this.fadingStarted=!1,this.fadeAway(),this.collected=!0,this.onFadeAwayStart()},s.shrink=function(i){void 0===i&&(i=.5),this.fadingStarted=!1,this.shrinkAway(i),this.collected=!0,this.onFadeAwayStart()},s.onFadeAwayStart=function(){},s.characterOnLoad=function(){var i;this.ui=null==(i=S.component)?void 0:i.node,u.on(p.EventType.KEY_DOWN,this.onKeyDown,this),u.on(p.EventType.KEY_UP,this.onKeyDown,this),this.specialDroppingOnLoad()},s.specialDroppingOnLoad=function(){},s.characterOnEnable=function(){this.fadingStarted=this.willFade,this.fadingCountdown=this.existTime,this.collected=!1,this.mouseListen=!0,this.specialDroppingOnEnable()},s.specialDroppingOnEnable=function(){},s.specialDroppingUpdate=function(i,t){},s.specialDroppingFadable=function(){return!0},s.characterUpdate=function(i){this.move(i);var t,e,n=y.createRectangleNodeCenter(this.node,this.node.getComponent(f).width*this.originalScale*this.dpScale,this.node.getComponent(f).width*this.originalScale*this.dpScale);this.collected||((null==(t=v.component)||!t.gaming||null!=(e=v.component)&&e.rhythmGameProps)&&this.mouseListen&&this.collect(),this.fadingStarted&&(this.height<=0&&this.fadingCountdown>=0&&this.specialDroppingFadable()&&(this.fadingCountdown-=i),this.fadingCountdown<=0&&this.fade()),-1!=v.AutoCollectList.indexOf(this.DroppingType)&&this.collect(),this.mouseListen&&(n.judgeInRecP(m.position)||n.judgeCrossLine(m.moveLine))&&this.collect());this.specialDroppingUpdate(i,n)},a(t,[{key:"DroppingType",get:function(){return""}}]),t}(g)).prototype,"willFade",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),U=t(V.prototype,"existTime",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 7}}),O=t(V.prototype,"dpScale",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.33}}),P=V))||P));s._RF.pop()}}}));

System.register("chunks:///_virtual/droppingInZen.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CoinCount.ts","./CharacterManager.ts","./NodePools.ts","./Mouse.ts","./KeyListener.ts","./SoundRescourses.ts"],(function(i){var t,n,e,o,s,a,r,l,c,h,d,u,p,f,g,y,w,b,v,_,C,S,m,A;return{setters:[function(i){t=i.applyDecoratedDescriptor,n=i.inheritsLoose,e=i.initializerDefineProperty,o=i.assertThisInitialized,s=i.createClass},function(i){a=i.cclegacy,r=i._decorator,l=i.AudioClip,c=i.CCFloat,h=i.Vec2,d=i.input,u=i.Input,p=i.KeyCode,f=i.tween,g=i.Color,y=i.Vec3,w=i.UITransform,b=i.Component},function(i){v=i.CoinCount},function(i){_=i.Rectangle},function(i){C=i.NodePools},function(i){S=i.Mouse},function(i){m=i.KeyListener},function(i){A=i.sounds}],execute:function(){var D,F,L,I,k,T,V,P,U,E,O,Y,x;a._RF.push({},"4cd6aNp+vpP/ZVl8GQDp8g+","droppingInZen",void 0);var K=r.ccclass,G=r.property;i("droppingInZen",(D=K("droppingInZen"),F=G([l]),L=G(Boolean),I=G(Number),k=G(c),T=G(c),D((U=t((P=function(i){function t(){for(var t,n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return(t=i.call.apply(i,[this].concat(s))||this)._scale=1,t._positionX=0,t._positionY=0,t._height=0,t.ui=void 0,t.collected=!1,e(t,"initSounds",U,o(t)),t.linearVelocity=new h(0,0),t.bodyLinearVelocity=0,t.gravity=0,e(t,"willFade",E,o(t)),e(t,"existTime",O,o(t)),t.fadingCountdown=0,t.fadingStarted=!1,t.fadingAway=!1,t.db=null,e(t,"originalScale",Y,o(t)),e(t,"dpScale",x,o(t)),t.mouseListen=!0,t}n(t,i);var a=t.prototype;return a.specialDroppingOnLoad=function(){},a.onLoad=function(){var i;this.ui=null==(i=v.component)?void 0:i.node,d.on(u.EventType.KEY_DOWN,this.onKeyDown,this),d.on(u.EventType.KEY_UP,this.onKeyDown,this),this.specialDroppingOnLoad()},a.onKeyDown=function(i){var t=m.KeyBinds;(null==i?void 0:i.keyCode)==p[t.Game_CollectAll]&&this.goToUI(this.ui)},a.onEnable=function(){this.scale=1,this.fadingAway=!1,this.fadingStarted=this.willFade,this.fadingCountdown=this.existTime,this.collected=!1,this.mouseListen=!0,this.specialDroppingOnEnable(),A.playArray(this.initSounds,1,.2)},a.move=function(i){if(!this.collected){var t=60*i,n=60*i,e=this.position,o=this.height,s=this.linearVelocity;this.position=new h(e.x+s.x*t,e.y+s.y*t),this.height=Math.max(0,o+this.bodyLinearVelocity*t),o>0&&this.height<=0&&this.onGroundHit(),this.bodyLinearVelocity-=this.gravity*n}},a.specialOnGroundHit=function(){},a.onGroundHit=function(){this.linearVelocity=new h(0,0),this.bodyLinearVelocity=0,this.gravity=0,this.specialOnGroundHit(),this.fadingOn()},a.specialCollectable=function(){return!0},a.collectable=function(){return!this.collected&&this.specialCollectable()},a.specialGoToUI=function(i){},a.specialUICall=function(i){},a.goToUI=function(i){var t=this;this.collectable()&&(this.collected=!0,this.specialGoToUI(i),this.linearVelocity=new h(0,0),this.bodyLinearVelocity=0,this.gravity=0,this.node.setParent(this.ui.parent,!0),i?f(this.node).to(1,{position:this.ui.position},{easing:"quadOut"}).call((function(){t.shrink(.2),t.specialUICall(i)})).start():this.shrinkAway(.35))},a.fadingOn=function(){!this.fadingStarted&&this.willFade&&(this.fadingCountdown=this.existTime,this.fadingStarted=!0)},a.onFadeAwayStart=function(){},a.fade=function(){this.fadingStarted=!1,this.fadeAway(),this.collected=!0,this.onFadeAwayStart()},a.shrink=function(i){void 0===i&&(i=.5),this.fadingStarted=!1,this.shrinkAway(i),this.collected=!0,this.onFadeAwayStart()},a.onFadeEnd=function(){C.destroyPooly(this.node)},a.fadeAway=function(){var i=this;this.fadingAway||(this.fadingAway=!0,f(this.db?this.db.color:new g).to(.5,{a:0}).call((function(){i.onFadeEnd()})).start())},a.shrinkAway=function(i){var t=this;void 0===i&&(i=.5),this.fadingAway||(this.fadingAway=!0,f(this.node).to(i,{worldScale:new y(.01,.01,.01)},{easing:"quadIn"}).call((function(){t.onFadeEnd()})).start())},a.specialDroppingFadable=function(){return!0},a.collect=function(){this.goToUI(this.ui)},a.specialDroppingOnEnable=function(){},a.specialDroppingUpdate=function(i,t){},a.update=function(i){this.move(i);var t=_.createRectangleNodeCenter(this.node,this.node.getComponent(w).width*this.originalScale*this.dpScale,this.node.getComponent(w).width*this.originalScale*this.dpScale);this.collected||(this.fadingStarted&&(this.height<=0&&this.fadingCountdown>=0&&this.specialDroppingFadable()&&(this.fadingCountdown-=i),this.fadingCountdown<=0&&this.fade()),this.mouseListen&&(t.judgeInRecP(S.position)||t.judgeCrossLine(S.moveLine))&&this.collect());this.specialDroppingUpdate(i,t)},s(t,[{key:"_scaleForDP",get:function(){return this._scale*this.originalScale*1.5}},{key:"scale",get:function(){return this._scale},set:function(i){this._scale=i;var t=this._scaleForDP;this.node.scale=new y(t,Math.abs(t),1)}},{key:"positionX",get:function(){return this._positionX},set:function(i){this._positionX=i,this.node.position=new y(i,this._positionY+this._height,0)}},{key:"height",get:function(){return this._height},set:function(i){this._height=i;var t=i;this.node.position=new y(this._positionX,this._positionY+t,0)}},{key:"positionY",get:function(){return this._positionY},set:function(i){this._positionY=i,this.node.position=new y(this._positionX,i+this._height,0)}},{key:"position",get:function(){return new h(this._positionX,this._positionY)},set:function(i){this.positionX=i.x,this.positionY=i.y}}]),t}(b)).prototype,"initSounds",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),E=t(P.prototype,"willFade",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),O=t(P.prototype,"existTime",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 7}}),Y=t(P.prototype,"originalScale",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),x=t(P.prototype,"dpScale",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.33}}),V=P))||V));a._RF.pop()}}}));

System.register("chunks:///_virtual/Droppings.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var n,i,r,t,o,l,u,a,p;return{setters:[function(e){n=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,t=e.assertThisInitialized},function(e){o=e.cclegacy,l=e._decorator,u=e.Prefab,a=e.find,p=e.Component}],execute:function(){var c,s,d,b,f,m,g,y,S,h,v,z,P,T,w,D,L,k,B,G,F,U,C,M,_,x,I,R,O;o._RF.push({},"bd3806Rl7pDnKBi2ulhB2Lf","Droppings",void 0);var j=l.ccclass,A=l.property,H=e("droppings",function(){function e(){}return e.registerSun=function(e){-1==this.controller.sunPool.indexOf(e)&&this.controller.sunPool.push(e)},e.deleteSun=function(e){var n=this.controller.sunPool.indexOf(e);-1!=n&&this.controller.sunPool.splice(n,1)},e}());H.controller=null,H.SunTiny=void 0,H.SunSmall=void 0,H.SunMid=void 0,H.SunLarge=void 0,H.SunBomb=void 0,H.CoinSilver=void 0,H.CoinGold=void 0,H.Gem=void 0,H.Sprout=void 0,H.plantFood=void 0,H.PlantSeedPacket=void 0,H.UpgradeTrophy=void 0,H.layer=void 0;e("Droppings",(c=j("Droppings"),s=A(u),d=A(u),b=A(u),f=A(u),m=A(u),g=A(u),y=A(u),S=A(u),h=A(u),v=A(u),z=A(u),P=A(u),T=A(u),c((L=n((D=function(e){function n(){for(var n,i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return n=e.call.apply(e,[this].concat(o))||this,r(n,"sunTiny",L,t(n)),r(n,"sunSmall",k,t(n)),r(n,"sunMid",B,t(n)),r(n,"sunLarge",G,t(n)),r(n,"sunBomb",F,t(n)),r(n,"coinSilver",U,t(n)),r(n,"coinGold",C,t(n)),r(n,"gem",M,t(n)),r(n,"sprout",_,t(n)),r(n,"plantFood",x,t(n)),r(n,"plantSeedPacketTemplate",I,t(n)),r(n,"zombieSeedPacketTemplate",R,t(n)),r(n,"UpgradeTrophy",O,t(n)),n.sunPool=[],n}i(n,e);var o=n.prototype;return o.onLoad=function(){H.controller=this,H.SunTiny=this.sunTiny,H.SunSmall=this.sunSmall,H.SunMid=this.sunMid,H.SunLarge=this.sunLarge,H.SunBomb=this.sunBomb,H.Gem=this.gem,H.Sprout=this.sprout,H.CoinGold=this.coinGold,H.CoinSilver=this.coinSilver,H.plantFood=this.plantFood,H.PlantSeedPacket=this.plantSeedPacketTemplate,H.UpgradeTrophy=this.UpgradeTrophy,H.layer=a("Canvas/UIInGameUpper/Dropping")},o.update=function(e){},n}(p)).prototype,"sunTiny",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=n(D.prototype,"sunSmall",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=n(D.prototype,"sunMid",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=n(D.prototype,"sunLarge",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=n(D.prototype,"sunBomb",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=n(D.prototype,"coinSilver",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=n(D.prototype,"coinGold",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=n(D.prototype,"gem",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=n(D.prototype,"sprout",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=n(D.prototype,"plantFood",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=n(D.prototype,"plantSeedPacketTemplate",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=n(D.prototype,"zombieSeedPacketTemplate",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=n(D.prototype,"UpgradeTrophy",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=D))||w));o._RF.pop()}}}));

System.register("chunks:///_virtual/duskLobbed.ts",["./rollupPluginModLoBabelHelpers.js","cc","./commonShot.ts"],(function(t){var o,n,a,e;return{setters:[function(t){o=t.inheritsLoose},function(t){n=t.cclegacy,a=t._decorator},function(t){e=t.commonShot}],execute:function(){var i;n._RF.push({},"1c6f4JqkKVIALGdNWLsSfKs","duskLobbed",void 0);var s=a.ccclass;a.property,t("duskLobbed",s("duskLobbed")(i=function(t){function n(){for(var o,n=arguments.length,a=new Array(n),e=0;e<n;e++)a[e]=arguments[e];return(o=t.call.apply(t,[this].concat(a))||this).hitDamage=[],o}o(n,t);var a=n.prototype;return a.dealSplashDamage=function(t,o){},a.characterOnEnable=function(){this.initialize(),this.hitDamage=[]},a.onParticleSpawned=function(t){t.node.worldPosition=this.worldPosition.toVec3();var o=t;o&&(o.wpX=this.worldPositionX,o.splashDamage=this.splashDamages.concat(),o.hitDamage=this.hitDamage.concat(),o.inLane=this.inLane)},n}(e))||i);n._RF.pop()}}}));

System.register("chunks:///_virtual/DuskLobber.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./SoundRescourses.ts","./CharacterManager.ts","./Square.ts","./Character.ts","./commonShot.ts","./ArrayGet.ts","./Projectiles.ts"],(function(n){var o,t,e,i,r,a,s,l,u,b,c,d,h,f,p,y,L,w,g,P,m,C,v;return{setters:[function(n){o=n.applyDecoratedDescriptor,t=n.inheritsLoose,e=n.initializerDefineProperty,i=n.assertThisInitialized,r=n.createClass,a=n.asyncToGenerator,s=n.regeneratorRuntime},function(n){l=n.cclegacy,u=n._decorator,b=n.AudioClip,c=n.Node,d=n.Size,h=n.Vec2},function(n){f=n.Plant,p=n.PlantProps},function(n){y=n.sounds},function(n){L=n.Rectangle,w=n.ZombiePool},function(n){g=n.Square},function(n){P=n.CharacterType},function(n){m=n.SplashDamage},function(n){C=n.ArrayGet},function(n){v=n.ProjectileShootingFunctions}],execute:function(){var _,O,S,R,j,A,z,k,D,T,F,x,N,I,M,q,E,G,U,X;l._RF.push({},"a264eGN1S9HG4b50iz5p2L8","DuskLobber",void 0);var Y=u.ccclass,Z=u.property,H=function(n){function o(){for(var o,t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return(o=n.call.apply(n,[this].concat(e))||this).ThrowInterval=2.85,o.ThrowIntervalAdditional=.15,o.PlantfoodProjectilesToFire=4,o.CabbageType="dusklobber",o.CabbageTypePlantfood="dusklobber_pf",o}return t(o,n),o}(p),B=(_=Y("DuskLobberSound"),O=Z([b]),S=Z([b]),R=Z([b]),j=Z([b]),A=Z([b]),_((D=o((k=function(){function n(){e(this,"food",D,this),e(this,"reload",T,this),e(this,"lob",F,this),e(this,"lobFood",x,this),e(this,"lobSay",N,this)}var o=n.prototype;return o.playFood=function(){y.playArray(this.food,1,.1)},o.playReload=function(){y.playArray(this.reload,1,NaN,.5)},o.playLob=function(){y.playArray(this.lob,1,NaN,.5)},o.playLobFood=function(){y.playArray(this.lobFood,1,.1)},o.playLobSay=function(){y.playArray(this.lobSay,1,NaN,.5)},n}()).prototype,"food",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),T=o(k.prototype,"reload",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=o(k.prototype,"lob",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),x=o(k.prototype,"lobFood",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),N=o(k.prototype,"lobSay",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=k))||z);n("DuskLobberPlant",(I=Y("DuskLobberPlant"),M=Z(B),q=Z(c),I((U=o((G=function(n){function o(){for(var o,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return o=n.call.apply(n,[this].concat(r))||this,e(o,"soundRes",U,i(o)),o._objdataOwn=new H,o.detector=new L,e(o,"lobPoint",X,i(o)),o._lobbing=!1,o.lobCD=0,o}t(o,n);var l=o.prototype;return l.onObjdataSet=function(n,o){},l.specialPlantOnSquareChange=function(n,o){this.detector=L.createRectangleNodeSide(this.inLnC.node,g.SquareWidth*(9-this.cIndex),3*g.SquareHeight)},l.specialPlantFood=function(n){this.anmControl.playAnimation("Food",1)},l._lobAtZombie=function(){var n=a(s().mark((function n(o,t,e){var i,r;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return void 0===e&&(e=!1),i=e?this.objdataOwn.CabbageTypePlantfood:this.objdataOwn.CabbageType,n.next=4,v.lobOneCabbageOnZombie(i,new h(this.lobPoint.worldPosition.x,this.worldPositionY),this.lobPoint.worldPosition.y-this.worldPositionY,t,o,e?2:.6666,e?P.default:P.zombie,!1,60,!0);case 4:r=n.sent,this.dealLobbed(r,e);case 6:case"end":return n.stop()}}),n,this)})));return function(o,t,e){return n.apply(this,arguments)}}(),l._lobAtNode=function(){var n=a(s().mark((function n(o,t,e){var i,r;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return void 0===e&&(e=!1),i=e?this.objdataOwn.CabbageTypePlantfood:this.objdataOwn.CabbageType,n.next=4,v.lobOneCabbageOnNode(i,new h(this.lobPoint.worldPosition.x,this.worldPositionY),this.lobPoint.worldPosition.y-this.worldPositionY,t,o,e?2:.6666,e?P.default:P.zombie,!1,60);case 4:r=n.sent,this.dealLobbed(r,e);case 6:case"end":return n.stop()}}),n,this)})));return function(o,t,e){return n.apply(this,arguments)}}(),l.dealLobbed=function(n,o){o&&(n.hitDamage=[new m(210,new d(3,3))])},l.LnCCanbeLobbedOn=function(n){return n.isInLawn()&&n.isSolidOrDeck()},l.getFoodTargetLnCs=function(){for(var n=this,o=[],t=[],e=g.getAllLnC().filter((function(o){return n.LnCCanbeLobbedOn(o)})),i=Math.min(this.objdataOwn.PlantfoodProjectilesToFire,45,e.length),r=w.pool().filter((function(o){var t;return n.LnCCanbeLobbedOn(o.inLnC)&&(null==(t=o.inLnC)?void 0:t.isInLawn())})).sort((function(n,o){return Math.random()-.5}));o.length<i;){var a=r.shift();if(a){if(-1!=o.indexOf(a.inLnC))continue;o.push(a.inLnC),t.push(a.inLnC)}else{var s=C.randomize(t),l=!1;if(s.length>0)for(var u=0;u<s.length&&o.length<i;u++){var b=s[u],c=C.randomize(b.get3x3().filter((function(t){return-1==o.indexOf(t)&&n.LnCCanbeLobbedOn(t)})));c.length>0&&(l=!0,o.push(c[0]))}l||o.push(C.getRandom(e.filter((function(n){return-1==o.indexOf(n)}))))}}return o},l._lobInLane=function(n){var o,t=this;if(n){var e=null==n||null==(o=n.zombiePool())||null==(o=o.sort((function(n,o){return n.worldPositionX-o.worldPositionX})))?void 0:o.find((function(n){return t.detector.judgeCrossRec(n.bodyRec)}));if(e)this._lobAtZombie(e,n.prjLayer);else{var i,r=null==n||null==(i=n.tombPool())||null==(i=i.sort((function(n,o){return n.worldPositionX-o.worldPositionX})))?void 0:i.find((function(n){return t.detector.judgeCrossRec(n.bodyRec)}));r&&this._lobAtNode(r.node,n.prjLayer)}}},l.animationOnComplete=function(){this._lobbing=!1},l.detectEnemy=function(){var n=this;if(!this.inLane)return!1;var o=this.inLane.zombiePool(),t=this.inLane.tombPool();return this.ShadowPowered&&(o=o.concat(this.inLane.UpperLane.zombiePool(),this.inLane.LowerLane.zombiePool()),t=t.concat(this.inLane.UpperLane.tombPool(),this.inLane.LowerLane.tombPool())),!(!o.find((function(o){return n.detector.judgeCrossRec(o.bodyRec)}))&&!t.find((function(o){return n.detector.judgeCrossRec(o.bodyRec)})))},l.waterable=function(){return!this._lobbing},l.startLobbing=function(){this._lobbing=!0;var n=this._objdataOwn.ThrowInterval+Math.random()*this._objdataOwn.ThrowIntervalAdditional;this._cdScale&&(n*=this._cdScale),this.lobCD=n,this.anmControl.playAnimation("Lob",1,.1,Math.max(1,.6667/n))},l.specialPlantUpdate=function(n,o,t){this.fooding||(this.lobCD>0&&(this.lobCD-=n),this.lobCD<=0&&(this.lobCD=0,t>0&&this.detectEnemy()&&this.startLobbing()))},l.animationListener=function(n){var o=this;switch(n.name){case"foodEnd":this.foodEnd();break;case"reload":this.soundRes.playReload();break;case"food_sound":this.soundRes.playFood();break;case"food_lob_sound":this.soundRes.playLobFood();break;case"lob_sound":this.soundRes.playLob(),this.soundRes.playLobSay();break;case"food_lob":this.getFoodTargetLnCs().forEach((function(n){o._lobAtNode(n.plantPoint,o.inLane.prjLayer,!0)}));break;case"lob":this._lobbing=!1,this._lobInLane(this.inLane),this.ShadowPowered&&(this._lobInLane(this.inLane.UpperLane),this._lobInLane(this.inLane.LowerLane))}},r(o,[{key:"objdataOwn",get:function(){return this._objdataOwn}}]),o}(f)).prototype,"soundRes",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new B}}),X=o(G.prototype,"lobPoint",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=G))||E));l._RF.pop()}}}));

System.register("chunks:///_virtual/duskSplat.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ParticleSelfdestroy.ts","./SoundRescourses.ts","./CharacterManager.ts","./Square.ts"],(function(e){var a,t,n,i,o,r,s,u,l,c,p,h,f,d;return{setters:[function(e){a=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){o=e.cclegacy,r=e._decorator,s=e.AudioClip,u=e.Vec2},function(e){l=e.ParticleSelfdestroy},function(e){c=e.sounds},function(e){p=e.Rectangle,h=e.ZombieDamageDetails,f=e.ZombieDamageType},function(e){d=e.Square}],execute:function(){var m,g,D,S,b,y,L;o._RF.push({},"8b73aWW0gpEELeJaxM7E6iw","duskSplat",void 0);var P=r.ccclass,v=r.property;e("duskSplat",(m=P("duskSplat"),g=v([s]),D=v([s]),m((y=a((b=function(e){function a(){for(var a,t=arguments.length,o=new Array(t),r=0;r<t;r++)o[r]=arguments[r];return(a=e.call.apply(e,[this].concat(o))||this).wpX=0,a.inLane=void 0,a.hitDamage=[],a.splashDamage=[],n(a,"explSounds",y,i(a)),n(a,"rainSounds",L,i(a)),a}t(a,e);var o=a.prototype;return o.dealSplashDamage=function(e){var a=p.createRectangleCenter(new u(this.wpX,this.inLane.midY),3*d.SquareWidth,3*d.SquareHeight),t=new h(e.splashDamage,!0,!0,!0,null,f.physicle);this.inLane.zombiePool().concat(this.inLane.UpperLane.zombiePool(),this.inLane.LowerLane.zombiePool()).filter((function(e){return a.judgeCrossRec(e.bodyRecReal)})).forEach((function(a){e.chillDuration>0&&a.setChill(e.chillDuration),e.freezeDuration>0&&a.setFreeze(e.freezeDuration),e.stunDuration>0&&a.setStun(e.stunDuration),e.butterDuration>0&&a.setButter(e.butterDuration),e.poison.isValid()&&a.setPoison(e.poison.DPS,e.poison.duration,e.poison.infective),a.dealDamage(t)})),this.inLane.tombPool().concat(this.inLane.UpperLane.tombPool(),this.inLane.LowerLane.tombPool()).filter((function(e){return a.judgeCrossRec(e.bodyRec)})).forEach((function(e){e.dealDamage(t)}))},o.animationListener=function(e){var a=this;switch(e.name){case"hit":this.hitDamage.forEach((function(e){a.dealSplashDamage(e)})),c.playArray(this.explSounds,1,NaN,.4);break;case"attack":this.splashDamage.forEach((function(e){a.dealSplashDamage(e)})),c.playArray(this.rainSounds,1,NaN,.4)}},a}(l)).prototype,"explSounds",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=a(b.prototype,"rainSounds",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),S=b))||S));o._RF.pop()}}}));

System.register("chunks:///_virtual/EgyptBasicZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts"],(function(t){var n,i,e,o,a,r;return{setters:[function(t){n=t.inheritsLoose,i=t.createClass},function(t){e=t.cclegacy,o=t._decorator},function(t){a=t.Zombie,r=t.ZombieProps}],execute:function(){var c;e._RF.push({},"b75b3+5HdJH/69NPKFUPd/A","EgyptBasicZombie",void 0);var s=o.ccclass,u=(o.property,function(t){function i(){return t.apply(this,arguments)||this}return n(i,t),i}(r));t("EgyptBasicZombieZombie",s("EgyptBasicZombie")(c=function(t){function e(){for(var n,i=arguments.length,e=new Array(i),o=0;o<i;o++)e[o]=arguments[o];return(n=t.call.apply(t,[this].concat(e))||this)._objdataOwn=new u,n._objdataOwnOrg=new u,n}n(e,t);var o=e.prototype;return o.onObjdataSet=function(t){},o.onSpawnedByEgyptGargantuar=function(t){this.switching=!0,this.isWalking=!1,this.body.playAnimation("Spawn",1)},o.specialAnimationListener=function(t){t.name},i(e,[{key:"objdataOwn",get:function(){return this._objdataOwn}},{key:"objdataOwnOrg",get:function(){return this._objdataOwnOrg}}]),e}(a))||c);e._RF.pop()}}}));

System.register("chunks:///_virtual/EgyptCamelTouchZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EgyptCamelZombie.ts","./levelController.ts","./Zombies.ts","./SoundRescourses.ts","./UI.ts"],(function(e){var t,i,n,a,o,l,s,c,r,u,m,p,h,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized,o=e.createClass},function(e){l=e.cclegacy,s=e._decorator,c=e.AudioClip,r=e.dragonBones},function(e){u=e.EgyptCamelZombie},function(e){m=e.LevelPlay},function(e){p=e.ZombieEnum},function(e){h=e.sounds},function(e){f=e.UIInGame}],execute:function(){var d,y,T,C,g,v,S,b,D;l._RF.push({},"07a454uI/xLcLiBYDx7lNF2","EgyptCamelTouchZombie",void 0);var k=s.ccclass,I=s.property;e("EgyptCamelTouchZombie",(d=k("EgyptCamelTouchZombie"),y=I(c),T=I(c),C=I(r.ArmatureDisplay),d((S=t((v=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return(t=e.call.apply(e,[this].concat(o))||this).camelTouchType=NaN,t.presetCamelIDs=[],t._flipped=!1,n(t,"flipSound",S,a(t)),n(t,"matchSound",b,a(t)),t.additionPartnerID=p.camel_segment_touch,n(t,"plankDB",D,a(t)),t.plankArmature=void 0,t.iconSlot=void 0,t.posSlot=void 0,t.teamXMin=0,t.teamXMax=0,t}i(t,e);var l=t.prototype;return l.setCamelSlot=function(e){var t;this.camelTouchType=e,null==(t=this.iconSlot)||t._setDisplayIndex(e)},l.specialCamelOnEnable=function(){var e;isNaN(this.camelTouchType)&&(this.camelTouchType=Math.floor(m.component.maxCamelTouchType*Math.random())),this._flipped=!1,this.plankArmature.animation.play("IdleBack"),this.setCamelSlot(this.camelTouchType),null==(e=this.posSlot)||e._setDisplayIndex(this.defaultShowSlot/3)},l.onZombiesGot=function(e,t){var i;if(e==p.camel_segment_touch)if(null!=t&&null!=(i=t.PresetCamelTouchID)&&i.length){var n=t.PresetCamelTouchID;this.presetCamelIDs=n,this.teamAmount=n.length}else this.teamAmount=0;this.defaultShowSlot=0},l.spawnTeamMemberCount=function(){var e;return null!=(e=this.presetCamelIDs)&&e.length?this.presetCamelIDs.length:this.teamAmount},l.specialOnMouseClicked=function(){return!this.flipped&&!f.component.MouseListenOffThisTick&&f.component.matchedCamelTouch.length<=0&&f.component.mainCamelTouch!=this&&(f.component.MouseListenOffThisTick=!0,f.component.judgeMatchedCamelTouch(this),this.flipped=!0,!0)},l.teamMemberOnSpawned=function(e,t){var i=e;t<this.presetCamelIDs.length&&i.setCamelSlot(this.presetCamelIDs[t])},l.flipToFace=function(){this.plankArmature.animation.play("FlipFace"),h.playOneShot(this.flipSound,1,.1)},l.flipToBack=function(){this.plankArmature.animation.play("FlipBack")},l.match=function(){this.plankArmature.animation.play("Match"),h.playOneShot(this.matchSound,1,.1)},l.camelOnDamaged=function(e,t,i){},l.specialCamelOnLoad=function(){var e,t;this.plankArmature=this.plankDB.armature(),this.iconSlot=null==(e=this.plankArmature)?void 0:e.getSlot("icon"),this.posSlot=null==(t=this.plankArmature)?void 0:t.getSlot("type")},l.camelTouchCanWalk=function(e){var t=this;if(0!=e)return!0;var i=this.bodyRec.prjX().x,n=this.team[this.team.length-1].bodyRec.prjX().y;this.team.forEach((function(e){var t=e;t.teamXMin=i,t.teamXMax=n}));var a=!0;return this.inLane.zombiePool().forEach((function(e){if(a&&e.ID==t.ID){var n=e;n.team!=t.team&&i>n.teamXMin&&i<=n.teamXMax&&(a=!1)}})),a},l.onPutDirectly=function(e){},l.specialCamelDieForced=function(){this.camelTouchType=NaN,f.component.mainCamelTouch==this&&(f.component.mainCamelTouch=null)},o(t,[{key:"flipped",get:function(){return this._flipped},set:function(e){this._flipped&&!e?this.flipToBack():e&&!this._flipped&&this.flipToFace(),this._flipped=e}}]),t}(u)).prototype,"flipSound",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=t(v.prototype,"matchSound",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=t(v.prototype,"plankDB",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=v))||g));l._RF.pop()}}}));

System.register("chunks:///_virtual/EgyptCamelZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./CharacterManager.ts","./Zombies.ts","./ArrayGet.ts"],(function(e){var t,n,i,a,o,s,r,h,l,u,c,m,d,p,f;return{setters:[function(e){t=e.inheritsLoose,n=e.createClass,i=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){o=e.cclegacy,s=e._decorator,r=e.dragonBones,h=e.Vec3},function(e){l=e.Zombie,u=e.ZombieProps},function(e){c=e.ZombieDamageDetails,m=e.ZombieDamageType},function(e){d=e.zombies,p=e.ZombieEnum},function(e){f=e.ArrayGet}],execute:function(){var g;o._RF.push({},"903d7QmPIBIXqjTmEkaYa1s","EgyptCamelZombie",void 0);var b=s.ccclass,w=(s.property,function(e){function n(){for(var t,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(t=e.call.apply(e,[this].concat(i))||this).ZombieInside="mummy",t.TeamMemberCount=[0],t.ProtectsInside=!1,t}return t(n,e),n}(u));e("EgyptCamelZombie",b("EgyptCamelZombie")(g=function(e){function o(){for(var t,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(t=e.call.apply(e,[this].concat(i))||this).teamAmount=0,t.team=[],t._objdataOwnOrg=new w,t._objdataOwn=new w,t.innerZombieEnum=p.mummy,t.defaultShowSlot=0,t.plankSlot=void 0,t.innerZombie=void 0,t.innerHealth=void 0,t.additionPartnerID=p.camel_segment,t.idling=!1,t.busy=0,t}t(o,e);var s=o.prototype;return s.onZombiesGot=function(e,t){this.defaultShowSlot=0},s.onObjdataSet=function(e){this.innerZombieEnum=d.getZombieEnumByCodename(this.objdataOwnOrg.ZombieInside),this.teamAmount=f.getRandom(this.objdataOwnOrg.TeamMemberCount)},s.readSlot=function(){this.plankSlot||(this.plankSlot=this.body.db.armature().getSlot("PLANK"))},s.playAsh=function(e,t){if(void 0===e&&(e=!1),void 0===t&&(t=0),this.innerZombie){var n=this.spawnZombie();if(!n)return;return n.playAsh(e,t)}this.onDamaged(-1,-1,new c),this.judgeDeath(0)},s.spawnMemberAlmanac=function(){var e=i(a().mark((function e(t,n){var i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.getZombieCompByID(this.additionPartnerID);case 2:(i=e.sent).node.parent=t,i.almanac(t),i.teamAmount=0,i.defaultShowSlot=n==this.teamAmount?6:3,i.onDamaged(i.toughness,i.toughness,new c),i.node.setSiblingIndex(0),i.node.scale=this.node.scale,i.node.position=this.node.position.clone().add(new h(60*(n-1),0,0));case 11:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),s.specialAlmanac=function(e){this.readSlot();for(var t=2;t<=this.spawnTeamMemberCount();t++)this.spawnMemberAlmanac(e,t)},s.onDamaged=function(e,t,n){this.camelOnDamaged(e,t,n)},s.walkSpeedScaleEnteringLawn=function(){return 4},s.specialCamelOnLoad=function(){},s.specialZombieOnLoad=function(){this.plankSlot=this.body.db.armature().getSlot("PLANK"),this.specialCamelOnLoad()},s.camelOnDamaged=function(e,t,n){var i,a,o;t<this.toughness/2?null==(i=this.plankSlot)||i._setDisplayIndex(this.defaultShowSlot+2):t<this.toughness?null==(a=this.plankSlot)||a._setDisplayIndex(this.defaultShowSlot+1):null==(o=this.plankSlot)||o._setDisplayIndex(this.defaultShowSlot)},s.teamMemberOnSpawned=function(e,t){},s.spawnTeamMemberCount=function(){return this.teamAmount},s.spawnTeam=function(){var e=i(a().mark((function e(){var t,n,i,o=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[],n=2;case 2:if(!(n<=this.spawnTeamMemberCount())){e.next=19;break}return e.next=5,d.getZombieCompByID(this.additionPartnerID);case 5:(i=e.sent).teamAmount=0,i.defaultShowSlot=n==this.teamAmount?6:3,i.node.parent=this.node.parent,i.onDamaged(i.toughness,i.toughness,new c),i.worldPosition=this.worldPosition.add2f(60*(n-1),0),i.hypnotized=this.hypnotized,i.reversed=this.reversed,this.team.push(i),this.teamMemberOnSpawned(i,n-1),t.push(i);case 16:n++,e.next=2;break;case 19:return this.scheduleOnce((function(){o.team.forEach((function(e){e.team=o.team.concat(),e.setRandomSpeed(0)}))}),0),e.abrupt("return",t);case 21:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.onChill=function(e){this.dead||this.team.forEach((function(t){t.chill=e}))},s.onFrozen=function(e){this.dead||this.team.forEach((function(t){t.freeze=e}))},s.spawnZombie=function(){var e=this.innerZombie;return e?(this.innerZombie=null,e.havePlantfood=this.havePlantfood,this.havePlantfood=!1,e.CarriedSporeShroom=this.CarriedSporeShroom,this.CarriedSporeShroom=!1,e.node.parent=this.node.parent,e.worldPosition=this.worldPosition,e.judgeInLnC(),e.node.setSiblingIndex(0),e.height_depth=this.height_depth,e.shrink(this.ShrinkProps,0),e.playIdle(),e.switching=!0,e.body.getComponent(r.ArmatureDisplay).once(r.EventObject.LOOP_COMPLETE,(function(){e.switchingFalse()}),e),e.reversed=this.reversed,e.hypnotized=this.hypnotized,e):null},s.damageExtend=function(){return!this.objdataOwn.ProtectsInside},s.ignorePlants=function(){var e=this;return this.team.some((function(t){return t!=e&&t.isEating}))},s.dealDamage=function(e){if(this.invincible)return this.health;if(e.armorProtection){var t=this.totalHealth()-e.damage*this.damageScale(e);if(t<=0){var n=this.spawnZombie();if(!n)return 0;this.damageExtend()&&n.dealDamage(e.replaceDamage(-t+(n.toughness-this.innerHealth))),n.isAlive()?n.copyBuff(this):n.clearBuff(),this.playDie()}return this.defaultDealDamage(e)}if(e.damage>=this.innerHealth&&!this.damageExtend()){var i=this.spawnZombie();return i?(i.dealDamage(e.replaceDamage(i.health-this.innerHealth)),i.isAlive()?i.copyBuff(this):i.clearBuff(),this.playDie(),0):0}if(this.innerHealth-=e.damage*this.damageScale(e),this.innerHealth<=0){var a=this.spawnZombie();if(!a)return 0;a.dealDamage(e.replaceDamage(a.totalToughness())),a.isAlive()?a.copyBuff(this):a.clearBuff(),this.playDie()}return this.defaultDealDamage(e)},s.additionalZombies=function(){var e=i(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.spawnTeam();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.specialZombieOnEnable=function(){this.idling=!1,this.busy=3*Math.random(),this.onDamaged(this.toughness,this.toughness,new c),this.readInner(),this.team=[],this.team.push(this),this.teamMemberOnSpawned(this,0),this.specialCamelOnEnable()},s.readInner=function(){var e=i(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.getZombieCompByID(this.innerZombieEnum);case 2:this.innerZombie=e.sent,this.innerHealth=this.innerZombie.toughness;case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.specialCamelOnEnable=function(){},s.onDirtSpawned=function(e){var t=this;0==e&&this.team.concat().forEach((function(e,n){e!=t&&e.isAlive()&&e.playDirtSpawn(.1*n)}))},s.allowWalk=function(){return!this.idling},s.camelTouchCanWalk=function(e){return!0},s.specialZombieUpdate=function(e,t,n){var i=this;if(this.specialCamelUpdate(e),this.team.concat().forEach((function(e){if(!e.isAlive()||e.hypnotized!=i.hypnotized){var t=i.team.indexOf(e);-1!=t&&i.team.splice(t,1)}})),e>0)if(this.busy<=0&&!this.isEating){var a=this.team.indexOf(this),o=!0;a+1<this.team.length&&this.team[a+1].shadeSocket.worldPosition.x-80*(this.reversed?-1:1)>this.shadeSocket.worldPosition.x&&(o=this.reversed),a>=1&&this.team[a-1].shadeSocket.worldPosition.x+50*(this.reversed?-1:1)>this.shadeSocket.worldPosition.x&&(o=this.reversed),o&&this.camelTouchCanWalk(a)?(this.playWalk(.3),this.busy=.7,this.idling=!1):(this.idling||this.playIdle(.3),this.busy=1,this.idling=!0)}else this.busy-=e},s.specialCamelUpdate=function(e){},s.playSpecialZombieDieForced=function(){this.specialCamelDieForced()},s.specialCamelDieForced=function(){},s.playSpecialZombieDie=function(e){if(this.innerZombie){var t=this.spawnZombie();if(!t)return;t.playDie(!1,e,!0,m.physicle,!0,!0,!1)}this.onDamaged(-1,-1,new c),this.judgeDeath(0)},n(o,[{key:"objdataOwnOrg",get:function(){return this._objdataOwnOrg}},{key:"objdataOwn",get:function(){return this._objdataOwn}}]),o}(l))||g);o._RF.pop()}}}));

System.register("chunks:///_virtual/EgyptExplorerZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./CharacterManager.ts","./Zombies.ts","./JSONs.ts"],(function(t){var e,i,n,o,a,c,r,s,h,l;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){n=t.cclegacy,o=t._decorator},function(t){a=t.ZombieProps,c=t.Zombie},function(t){r=t.ZombieDamageDetails,s=t.ZombieDamageType},function(t){h=t.ZombieEnum},function(t){l=t.PvZ2Object}],execute:function(){var u;n._RF.push({},"b2f1aUCacBJN7aRLMnfdbLh","EgyptExplorerZombie",void 0);var d=o.ccclass,g=(o.property,t("EgyptExplorerProps",function(t){function i(){for(var e,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this).FireDPS=1e3,e.HitRectWithFire="RTID(ExplorerWithFireHitRect@RectangleProps)",e.AttackRectWithFire="RTID(ExplorerWithFireAttackRect@RectangleProps)",e}return e(i,t),i}(a)));t("EgyptExplorerZombie",d("EgyptExplorerZombie")(u=function(t){function n(){for(var e,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this)._objdataOwn=new g,e._objdataOwnOrg=new g,e.fireSlots=[],e.IgnitedHitRect={x:0,y:0,w:0,h:0},e.IgnitedAttackRect={x:0,y:0,w:0,h:0},e.ignited=void 0,e}e(n,t);var o=n.prototype;return o.judgePlantCanBeBurnt=function(t){return!t.dead&&t.eaterDetectable&&!t.short_},o.specialZombieOnLoad=function(){var t=this;this.fireSlots=[],this.body.db.armature().getSlots().forEach((function(e){e.name.includes("FIRE")&&t.fireSlots.push(e)}))},o.specialTorchZombieOnLoad=function(){},o.TNTRopeIgniter=function(){return!!this.ignited&&(this.ignite(!1),!0)},o.burnsThoughSwitching=function(){return!1},o.detectPlantWithTorch=function(t){var e=this,i=!1,n=this.objdataOwn.FireDPS,o=this.plantDetectorRec,a=new r(n*t,!0,!1,!1,null,s.fire);t>0&&(this.burnsThoughSwitching()||this.detectPlantOn())&&!this.ignorePlants()&&(this.inLane.tombPool(this.hypnotized?0:1).concat().forEach((function(t){o.judgeCrossRec(t.bodyRec)&&(i=!0,t.dealDamage(a))})),this.hypnotized?this.inLane.zombiePool().concat().forEach((function(c){o.judgeCrossRec(c.bodyRec)&&(i=!0,c.ID!=h.future_infinut_shield&&c.ID!=h.modern_moonflower_shield||(n=e.dps),c.eatByZombie(a.replaceDamage(n*t),e))})):(this.inLane.plantPool().concat().forEach((function(t){e.judgePlantCanBeBurnt(t)&&o.judgeCrossRec(t.bodyRec)&&t.burn()})),this.inLane.hypnoZombiePool().concat().forEach((function(c){o.judgeCrossRec(c.bodyRec)&&(i=!0,c.ID!=h.future_infinut_shield&&c.ID!=h.modern_moonflower_shield||(n=e.dps),c.eatByZombie(a.replaceDamage(n*t),e))})))),this.switching||(i?this.playEat(t):this.isWalking||this.playWalk())},o.detectPlant=function(t){this.inLane?this.ignited?this.detectPlantWithTorch(t):this.defaultDetectPlant(t):this.playWalk()},o.onDamaged=function(t,e,i){i.damageType==s.fire&&this.ignite()},o.setIgniteRectBoxes=function(){var t,e,i=null==(t=l.getObjectsByRTID(this.objdataOwnOrg.HitRectWithFire,"RectangleProps")[0])||null==(t=t.objdata)?void 0:t.Values;i&&(this.IgnitedHitRect=i);var n=null==(e=l.getObjectsByRTID(this.objdataOwnOrg.AttackRectWithFire,"RectangleProps")[0])||null==(e=e.objdata)?void 0:e.Values;n&&(this.IgnitedAttackRect=n)},o.onObjdataSet=function(t){this.setIgniteRectBoxes()},o.onDamagedButArmor=function(t){t.damageType==s.fire&&this.ignite()},o.ignite=function(t){void 0===t&&(t=!0);var e=t?0:-1,i=this.ignited;this.ignited=t,t&&this.specialTorchZombieOnIgnited(),this.fireSlots.forEach((function(t){t._setDisplayIndex(e)})),this.onIgniteSet(i,t)},o.onIgniteSet=function(t,e){},o.specialTorchZombieOnIgnited=function(){},o.specialZombieOnEnable=function(){this.ignite()},o.playSpecialZombieDieForced=function(){this.ignite(!1)},o.onChill=function(t){this.ignite(!1)},o.specialZombieUpdateForced=function(t,e,i,n){this.ignited&&this.fireSlots.forEach((function(t,i){if(t.childArmature){var n=t.childArmature.animation,o=n.lastAnimationState.currentTime;n.timeScale=0,n.gotoAndPlayByTime(n.lastAnimationState.name,o+e,1/0)}}))},o.playTorchIdleSound=function(t){},o.specialZombieUpdate=function(t,e,i){(this.isWalking||this.isEating)&&t>0&&this.ignited&&this.playTorchIdleSound(t)},i(n,[{key:"objdataOwn",get:function(){return this._objdataOwn}},{key:"objdataOwnOrg",get:function(){return this._objdataOwnOrg}},{key:"HitRect",get:function(){return this.ignited?this.IgnitedHitRect:this.DefaultHitRect}},{key:"AttackRect",get:function(){return this.ignited?this.IgnitedAttackRect:this.DefaultAttackRect}}]),n}(c))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/EgyptGargantuarZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GargantuarZombie.ts","./Zombies.ts","./ArrayGet.ts","./SoundRescourses.ts","./NodePools.ts"],(function(t){var a,n,e,r,o,i,s,u,c,h,p,l,d,y,g,m,f,b;return{setters:[function(t){a=t.applyDecoratedDescriptor,n=t.inheritsLoose,e=t.initializerDefineProperty,r=t.assertThisInitialized,o=t.createClass,i=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){u=t.cclegacy,c=t._decorator,h=t.Prefab,p=t.Vec3},function(t){l=t.GargantuarZombie,d=t.GargantuarProps},function(t){y=t.ZombieEnum,g=t.zombies},function(t){m=t.ArrayGet},function(t){f=t.sounds},function(t){b=t.NodePools}],execute:function(){var w,P,O,_,v;u._RF.push({},"2be45+TaeFJzZEWyDltsHWd","EgyptGargantuarZombie",void 0);var G=c.ccclass,E=c.property,Z=function(t){function a(){for(var a,n=arguments.length,e=new Array(n),r=0;r<n;r++)e[r]=arguments[r];return(a=t.call.apply(t,[this].concat(e))||this).ChanceToPharaoh=.75,a.PharaohTypes=["mummy"],a}return n(a,t),a}(d);t("EgyptGargantuarZombie",(w=G("EgyptGargantuarZombie"),P=E(h),w((v=a((_=function(t){function a(){for(var a,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return a=t.call.apply(t,[this].concat(o))||this,e(a,"pharaohBreakParticle",v,r(a)),a._objdataOwn=new Z,a._objdataOwnOrg=new Z,a.impEnum=y.egypt_imp,a}n(a,t);var u=a.prototype;return u.specialGargantuarOnEnable=function(){this.body.db.armature().getSlots().forEach((function(t){t.name.includes("PHARAOH")&&t._setDisplayIndex(0)}))},u.pharaoh=function(){var t=i(s().mark((function t(){var a,n;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.getZombieCompByID(g.getZombieEnumByCodename(m.getRandom(this.objdataOwnOrg.PharaohTypes)));case 2:(a=t.sent).node.parent=this.node.parent,(n=b.instantiatePooly(this.pharaohBreakParticle)).parent=this.inLane.prjLayer,n.worldPosition=new p(this.worldPositionX,this.worldPositionY,0),f.playTombBreak(),this.body.db.armature().getSlots().forEach((function(t){t.name.includes("PHARAOH")&&t._setDisplayIndex(-1)})),a.onSpawnedByEgyptGargantuar(this),a.hypnotized=this._usedToBeHypnotized,a.reversed=!this.reversed,a.worldPosition=this._worldPosition,a.shrink(this.ShrinkProps,0);case 14:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),u.specialGargantuarAnimationListener=function(t){"pharaoh"==t.name&&this.isInLawn()&&Math.random()<this._objdataOwn.ChanceToPharaoh&&this.pharaoh()},o(a,[{key:"objdataOwn",get:function(){return this._objdataOwn}},{key:"objdataOwnOrg",get:function(){return this._objdataOwnOrg}}]),a}(l)).prototype,"pharaohBreakParticle",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=_))||O));u._RF.pop()}}}));

System.register("chunks:///_virtual/EgyptPharaohZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EgyptCamelZombie.ts","./SoundRescourses.ts"],(function(t){var e,r,n,u,o,a,s;return{setters:[function(t){e=t.inheritsLoose,r=t.asyncToGenerator,n=t.regeneratorRuntime},function(t){u=t.cclegacy,o=t._decorator},function(t){a=t.EgyptCamelZombie},function(t){s=t.sounds}],execute:function(){var i;u._RF.push({},"d54e7UpaztKypU+27g30c8H","EgyptPharaohZombie",void 0);var c=o.ccclass;o.property,t("EgyptPharaohZombie",c("EgyptPharaohZombie")(i=function(t){function u(){return t.apply(this,arguments)||this}e(u,t);var o=u.prototype;return o.onDamaged=function(t,e,r){var n,u,o,a;e<=0?null==(n=this.body.db.armature().getSlot("armor"))||n._setDisplayIndex(-1):e<this.toughness/3?null==(u=this.body.db.armature().getSlot("armor"))||u._setDisplayIndex(2):e<2*this.toughness/3?null==(o=this.body.db.armature().getSlot("armor"))||o._setDisplayIndex(1):null==(a=this.body.db.armature().getSlot("armor"))||a._setDisplayIndex(0)},o.specialAlmanac=function(t){},o.setButter=function(t,e){return!!this.damageExtend()&&(e&&this.butterStun<=0&&t>0&&s.playButterOn(),this.butterStun=this.butterStun>t?this.butterStun:t,this.butterStun>0&&(this.onButtered(this.butterStun),this._onStunned(this.butterStun)),!0)},o.additionalZombies=function(){var t=r(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",[]);case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),o.spawnTeam=function(){var t=r(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",[]);case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),o.specialZombieUpdate=function(t,e,r){},u}(a))||i);u._RF.pop()}}}));

System.register("chunks:///_virtual/EgyptRaZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./Droppings.ts","./Sunflower.ts","./SoundRescourses.ts"],(function(o){var n,i,t,r,e,s,a,b,l,u,c,h,f,d,p,A,w;return{setters:[function(o){n=o.inheritsLoose,i=o.applyDecoratedDescriptor,t=o.initializerDefineProperty,r=o.assertThisInitialized,e=o.createClass},function(o){s=o.cclegacy,a=o._decorator,b=o.Node,l=o.AudioClip,u=o.Vec2,c=o.TWO_PI,h=o.tween},function(o){f=o.ZombieProps,d=o.Zombie},function(o){p=o.droppings},function(o){A=o.sunflower},function(o){w=o.sounds}],execute:function(){var y,g,S,E,m,v,V,R,M;s._RF.push({},"a86047FcJdMKYD0NmnuSYGN","EgyptRaZombie",void 0);var O=a.ccclass,P=a.property,Z=o("EgyptRaProps",function(o){function i(){for(var n,i=arguments.length,t=new Array(i),r=0;r<i;r++)t[r]=arguments[r];return(n=o.call.apply(o,[this].concat(t))||this).MaxAbsorbValue=250,n}return n(i,o),i}(f));o("EgyptRaZombie",(y=O("EgyptRaZombie"),g=P(b),S=P([l]),E=P([l]),y((V=i((v=function(o){function i(){for(var n,i=arguments.length,e=new Array(i),s=0;s<i;s++)e[s]=arguments[s];return(n=o.call.apply(o,[this].concat(e))||this)._objdataOwn=new Z,n.absorbing=!1,t(n,"absorber",V,r(n)),t(n,"absorbSounds",R,r(n)),t(n,"absorbBG",M,r(n)),n.sunMode="Red",n.absorbedValue=[],n.willAbsorbSun=[],n}n(i,o);var s=i.prototype;return s.throwAll=function(){var o=this;this.willAbsorbSun.forEach((function(o){o.switchMode("Normal"),o.absorber=null}));var n=0;this.absorbedValue.length>=2&&(n=-c/6),this.absorbedValue.forEach((function(i){A.produceSun(i,o.worldPosition,o.zombieHeight/2,!1).forEach((function(i){i.linearVelocity=new u(10*Math.sin(n),0),i.bodyLinearVelocity=10*Math.cos(n),i.gravity=0,o.absorbedValue.length>=2&&(n+=c/3/(o.absorbedValue.length-1)),h(i).to(.6,{bodyLinearVelocity:0}).start(),h(i).to(.6,{linearVelocity:new u(0,0)}).start()}))})),this.willAbsorbSun.forEach((function(o){o.switchMode("Normal"),o.absorber=null})),this.willAbsorbSun=[],this.absorbedValue=[]},s.playSpecialZombieDieForced=function(){this.throwAll()},s.specialAnimationListener=function(o){this.specialRaAnimationListener(o)},s.specialRaAnimationListener=function(o){},s.absorbStart=function(){this.switching||(this.willAbsorbSun=[],this.isWalking=!1,this.switching=!0,this.absorbing=!0,this.correctShadeWP(.2),this.body.playAnimation("AbsorbStart",1/0,.2),w.playArray(this.absorbBG,1,.1),w.playArray(this.absorbSounds,1,.1),this.onAbsorbStart())},s.onAbsorbStart=function(){},s.absorbEnd=function(){this.absorbing&&(this.absorbing=!1,this.body.playAnimation("AbsorbEnd",1/0),this.willAbsorbSun.forEach((function(o){o.absorber=null})),this.onAbsorbEnd())},s.onAbsorbEnd=function(){},s.specialZombieOnEnable=function(){this.willAbsorbSun=[],this.absorbedValue=[],this.absorbing=!1,this.specialRaOnEnable()},s.specialRaOnEnable=function(){},s.baseAbsorbs=function(){return!this.hypnotized},s.judgeAbsorb=function(o,n){var i=this,t=1e3,r=!1;return p.controller.sunPool.concat().forEach((function(o){o.absorber&&o.absorber!=i||(r=!0),r&&t>o.value&&(t=o.value)})),r&&o+t<=this.objdataOwn.MaxAbsorbValue&&p.controller.sunPool.length>0||this.willAbsorbSun.length>0},s.whetherAbsorbThisSun=function(o,n){return n+o.value<=this.objdataOwn.MaxAbsorbValue},s.specialZombieUpdate=function(o,n,i){var t=this;if(this.hypnotized&&this.throwAll(),this.enteredLawn&&i>0&&this.baseAbsorbs()){var r,e=0;if(isFinite(this.objdataOwn.MaxAbsorbValue)&&(this.absorbedValue.forEach((function(o){e+=o})),this.willAbsorbSun.forEach((function(o){e+=o.value}))),this.judgeAbsorb(e,i)?this.absorbStart():this.absorbEnd(),this.absorbing)null==(r=p.controller)||r.sunPool.concat().forEach((function(o){!o.absorber&&t.whetherAbsorbThisSun(o,e)&&-1==t.willAbsorbSun.indexOf(o)&&(t.willAbsorbSun.push(o),e+=o.value,o.absorber=t)})),this.willAbsorbSun.concat().forEach((function(o){var n=t.willAbsorbSun.indexOf(o);o.collected&&-1!=n?t.willAbsorbSun.splice(n,1):o.switchMode(t.sunMode)}))}else this.absorbEnd();this.specialRaUpdate(o,n,i)},s.onSunArrives=function(o){var n=this.willAbsorbSun.indexOf(o);-1!=n&&this.willAbsorbSun.splice(n,1)},s.specialRaUpdate=function(o,n,i){},e(i,[{key:"objdataOwn",get:function(){return this._objdataOwn}}]),i}(d)).prototype,"absorber",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=i(v.prototype,"absorbSounds",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),M=i(v.prototype,"absorbBG",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),m=v))||m));s._RF.pop()}}}));

System.register("chunks:///_virtual/EgyptSandStormParticle.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ParticleSelfdestroy.ts","./NodePools.ts","./SoundRescourses.ts","./ArrayGet.ts"],(function(e){var t,n,i,o,r,a,l,s,d,u,c,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,l=e.AudioClip,s=e.Prefab},function(e){d=e.ParticleSelfdestroy},function(e){u=e.instantiatePooly},function(e){c=e.sounds},function(e){p=e.ArrayGet}],execute:function(){var h,S,f,y,b,g,m,P,D,v,w,T,A;r._RF.push({},"5dcd14Ew+VGl46/gjHvvHhB","EgyptSandStormParticle",void 0);var O=a.ccclass,z=a.property;e("EgyptSandStormParticle",(h=O("EgyptSandStormParticle"),S=z([l]),f=z([l]),y=z([l]),b=z([l]),g=z(s),h((D=t((P=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,i(t,"endSounds",D,o(t)),i(t,"startSounds",v,o(t)),i(t,"startOffSounds",w,o(t)),i(t,"loopSounds",T,o(t)),t.loopSound=void 0,i(t,"parThere",A,o(t)),t.particleSDThere=void 0,t.ended=!1,t}n(t,e);var r=t.prototype;return r.end=function(){var e;this.ended=!0,this.db.playAnimation("Die",1/0),null==(e=this.particleSDThere)||null==(e=e.db)||e.playAnimation("Die",1/0),this.particleSDThere=null,c.playOneShot(p.getRandom(this.endSounds))},r.onSettled=function(){var e=u(this.parThere);e.parent=this.node.parent,e.scale=this.node.scale,e.worldPosition=this.node.worldPosition,e.setSiblingIndex(0),this.particleSDThere=e.getComponent(d),this.particleSDThere.db.playAnimation("Idle",1/0)},r.specialOnEnable=function(){this.particleSDThere=null,this.ended=!1,this.db.playAnimation("Idle",1/0),this.loopSound=p.getRandom(this.loopSounds),c.playOneShot(p.getRandom(this.startSounds)),c.playOneShot(p.getRandom(this.startOffSounds))},r.update=function(e){this.particleSDThere&&(this.particleSDThere.node.worldPosition=this.node.worldPosition,this.particleSDThere.node.worldScale=this.node.worldScale),this.ended||c.playOneShot(this.loopSound)},t}(d)).prototype,"endSounds",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=t(P.prototype,"startSounds",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),w=t(P.prototype,"startOffSounds",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),T=t(P.prototype,"loopSounds",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=t(P.prototype,"parThere",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=P))||m));r._RF.pop()}}}));

System.register("chunks:///_virtual/EgyptTombRaiserZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./Square.ts","./LnC.ts","./Character.ts","./SoundRescourses.ts","./Projectiles.ts"],(function(t){var n,e,i,o,r,a,s,h,u,c,l,p,d,w,m,b,f,y,T,g,C;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized,r=t.createClass,a=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){h=t.cclegacy,u=t._decorator,c=t.AudioClip,l=t.Node,p=t.CCInteger,d=t.dragonBones,w=t.Vec2},function(t){m=t.Zombie,b=t.ZombieProps},function(t){f=t.Square},function(t){y=t.LnC},function(t){T=t.CharacterType},function(t){g=t.sounds},function(t){C=t.ProjectileShootingFunctions}],execute:function(){var v,L,O,P,j,x,S,A,B,z,I;h._RF.push({},"b4e80QiamVIgZWmcAophNZ9","EgyptTombRaiserZombie",void 0);var E=u.ccclass,Z=u.property,k=function(t){function n(){for(var n,e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return(n=t.call.apply(t,[this].concat(i))||this).ThrowTimePerGroup=2,n.TimeBetweenGroups=6,n.TimeBetweenGroupsAdditional=1,n.BoneType="tombraiser_bone",n}return e(n,t),n}(b);t("EgyptTombRaiserZombie",(v=E("EgyptTombRaiserZombie"),L=Z(c),O=Z(c),P=Z(l),j=Z(p),v((A=n((S=function(t){function n(){for(var n,e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return n=t.call.apply(t,[this].concat(r))||this,i(n,"pukeSound",A,o(n)),i(n,"throwSound",B,o(n)),n._objdataOwn=new k,i(n,"throwPoint",z,o(n)),i(n,"maxThrowTime",I,o(n)),n.throwCD=6,n}e(n,t);var h=n.prototype;return h.onObjdataSet=function(t){this.throwCD=this.objdataOwn.TimeBetweenGroups+Math.random()*this.objdataOwn.TimeBetweenGroupsAdditional},h._throw=function(){var t=a(s().mark((function t(){var n,e,i,o,r,a,h,u;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(g.playOneShot(this.throwSound,1,.1),n=null,e=Math.max(this.inLnC.cIndex-2,1),i=0;i<40&&!n;i++)(o=f.getRandomLnC(0,4,e,this.inLnC.cIndex+1)).tombable()&&(n=o);return r=this._usedToBeHypnotized,a=this.reversed,h=this.scale,n||(n=f.getRandomLnC(0,4,e,this.inLnC.cIndex+1)),t.next=10,C.lobOneCabbageOnNode(this.objdataOwn.BoneType,new w(this.throwPoint.worldPosition.x,this.worldPositionY),this.throwPoint.worldPosition.y-this.worldPositionY,this.inLane.prjLayer,n.plantPoint,.2222,this.hypnotized?T.zombie:T.plant,!0,80);case 10:(u=t.sent)&&(u.scale=h,u.hypnotized=r,u.reversed=a,u.detectEnemyOn=!1);case 12:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),h.specialAnimationListener=function(t){!this.hypnotized&&"throw"==t.name&&this.isAlive()&&this._throw(),"puke"==t.name&&this.isAlive()&&g.playOneShot(this.pukeSound,1,.1)},h.specialZombieOnEnable=function(){this.throwCD=this.objdataOwn.TimeBetweenGroups+Math.random()*this.objdataOwn.TimeBetweenGroupsAdditional},h.throwBoneAnimation=function(){var t=this;this.correctShadeWP(.1),this.throwCD=this.objdataOwn.TimeBetweenGroups+Math.random()*this.objdataOwn.TimeBetweenGroupsAdditional,this.switching=!0,this.isWalking=!1,this.body.playAnimation("Throw",this.maxThrowTime,.1),this.db.on(d.EventObject.COMPLETE,(function(){t.isAlive()&&t.playWalk(),t.switching=!1}),this)},h.areaThrowable=function(){var t=this,n=!1;return[0,1,2,3,4].forEach((function(e){[t.inLnC.cIndex-2,t.inLnC.cIndex-1,t.inLnC.cIndex,t.inLnC.cIndex+1].forEach((function(t){n||t<=0||t>8||(n=f.getSquare(e,t).getComponent(y).tombable())}))})),n},h.specialZombieUpdate=function(t,n,e){var i;!this.hypnotized&&this.isInLawn()&&this.isWalking&&(null==(i=this.inLnC)?void 0:i.cIndex)>2&&this.areaThrowable()&&(this.throwCD>0&&(this.throwCD-=t),this.throwCD<=0&&this.throwBoneAnimation())},r(n,[{key:"objdataOwn",get:function(){return this._objdataOwn}}]),n}(m)).prototype,"pukeSound",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=n(S.prototype,"throwSound",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=n(S.prototype,"throwPoint",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=n(S.prototype,"maxThrowTime",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),x=S))||x));h._RF.pop()}}}));

System.register("chunks:///_virtual/EgyptZombossMechZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZombossMechZombie.ts","./ArrayGet.ts","./levelController.ts"],(function(o){var e,n,t,i,r,s,a,l,u,c;return{setters:[function(o){e=o.applyDecoratedDescriptor,n=o.inheritsLoose,t=o.initializerDefineProperty,i=o.assertThisInitialized},function(o){r=o.cclegacy,s=o._decorator,a=o.AudioClip},function(o){l=o.ZombossMechZombie},function(o){u=o.ArrayGet},function(o){c=o.LevelPlay}],execute:function(){var p,h,b,m,d,y,S,f,Z;r._RF.push({},"8c98c4PoY9Ofr3nxX6osbLK","EgyptZombossMechZombie",void 0);var g=s.ccclass,L=s.property;o("EgyptZombossMechZombie",(p=g("EgyptZombossMechZombie"),h=L(a),b=L(a),m=L(a),p((S=e((y=function(o){function e(){for(var e,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return e=o.call.apply(o,[this].concat(r))||this,t(e,"introSound",S,i(e)),t(e,"introStormSound",f,i(e)),t(e,"introLandSound",Z,i(e)),e}return n(e,o),e.prototype.specialZombossMechAnimationListener=function(o){"spawnLandSound"==o.name?(this.playOneShot(this.introLandSound,1,!0),c.shakeScreen(),this.playOneShot(u.getRandom(this.worldZombossSpawnSaySounds),1,!0)):"introSound"==o.name&&(this.playOneShot(this.introSound,1,!0),this.playOneShot(this.introStormSound,1,!0))},e}(l)).prototype,"introSound",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=e(y.prototype,"introStormSound",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=e(y.prototype,"introLandSound",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=y))||d));r._RF.pop()}}}));

System.register("chunks:///_virtual/egyptZombossMissile.ts",["./rollupPluginModLoBabelHelpers.js","cc","./zombossMissile.ts","./ArrayGet.ts","./Character.ts","./Projectiles.ts"],(function(e){var t,n,s,o,r,i,a,c,u,l,p,h;return{setters:[function(e){t=e.inheritsLoose,n=e.createClass,s=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){r=e.cclegacy,i=e._decorator},function(e){a=e.ZombossMissileProps,c=e.zombossMissile},function(e){u=e.ValueRange,l=e.ArrayGet},function(e){p=e.CharacterType},function(e){h=e.ProjectileShootingFunctions}],execute:function(){var f;r._RF.push({},"14caai/dpxF25qY4mZeEWCD","egyptZombossMissile",void 0);var b=i.ccclass,y=(i.property,e("EgyptZombossMissileProps",function(e){function n(){for(var t,n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(t=e.call.apply(e,[this].concat(s))||this).BoneCount=new u(2,2),t}return t(n,e),n}(a)));e("egyptZombossMissile",b("egyptZombossMissile")(f=function(e){function r(){for(var t,n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(t=e.call.apply(e,[this].concat(s))||this)._objdata=new y,t}return t(r,e),r.prototype.specialMissileOnPop=function(){var e=s(o().mark((function e(){var t,n,s,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=u.getRandomIntegerFromRange(this.objdataOwn.BoneCount),n=this.inLnC.get3x3();case 2:if(!(t>0&&n.length)){e.next=13;break}if(!(s=l.getRandom(n)).isInLawn()||s==this.inLnC||!s.tombable(!0)){e.next=10;break}return t--,e.next=8,h.lobOneCabbageOnNode("tombraiser_bone",this.worldPosition,1,this.inLane.prjLayer,s.plantPoint,.2222,p.default,!1,80);case 8:(r=e.sent)&&(r.hypnotized=this.hypnotized,r.reversed=this.reversed);case 10:n.splice(n.indexOf(s),1),e.next=2;break;case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n(r,[{key:"objdataOwn",get:function(){return this._objdata}}]),r}(c))||f);r._RF.pop()}}}));

System.register("chunks:///_virtual/EightiesArcadeCabinet.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Tomb.ts","./SoundRescourses.ts","./FrontYard.ts","./NodePools.ts","./ArrayGet.ts","./LnC.ts","./ParticleSelfdestroy.ts","./Particles.ts","./levelController.ts"],(function(t){var i,e,n,s,o,a,r,l,u,p,m,c,h,d,f,b;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,s=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,r=t.AudioClip},function(t){l=t.Tomb},function(t){u=t.sounds},function(t){p=t.JamStyle},function(t){m=t.instantiatePooly},function(t){c=t.ArrayGet},function(t){h=t.LnCSpawnZombieStyleEnum},function(t){d=t.ParticleSelfdestroy},function(t){f=t.particle},function(t){b=t.LevelPlay}],execute:function(){var y,g,C,P,D,v,S;o._RF.push({},"51575twVtdLO6zn/GsiuQkG","EightiesArcadeCabinet",void 0);var _=a.ccclass,L=a.property;t("EightiesArcadeCabinet",(y=_("EightiesArcadeCabinet"),g=L([r]),C=L([r]),y((v=i((D=function(t){function i(){for(var i,e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];return i=t.call.apply(t,[this].concat(o))||this,n(i,"destructSounds",v,s(i)),i.lightSlot=void 0,n(i,"spawnSounds",S,s(i)),i.summonCD=11,i.empPar=void 0,i.empCD=0,i}e(i,t);var o=i.prototype;return o.playDestructionSound=function(){u.playArray(this.destructSounds,1,.2)},o.specialTombOnLoad=function(){this.lightSlot=this.body.armature().getSlot("LIGHT")},o.specialTombOnEnable=function(){this.summonCD=2*Math.random()+1,this.empCD=0},o.specialTombDie=function(t,i){var e;this.empCD=0,null==(e=this.empPar)||null==(e=e.db)||e.playAnimation("Die",1/0),this.empPar=null},o.specialTombOnLaneChange=function(t,i){this.empPar&&this.empPar.node.setParent(null==i?void 0:i.prjLayer,!0)},o.specialTombUpdate=function(t){var i,e,n,s;if(null!=(i=b.component)&&i.gameWon)this.die();else{var o=this.empCD<=0&&(-1!=b.LevelJamList.indexOf(p.jam_8bit)||(null==(e=this.spawnedZomboss)?void 0:e.zombieJam())==p.jam_8bit);if(this.empCD>0){var a;if(u.playEmpSpark(),this.empCD-=t,this.empPar)this.empPar.node.worldPosition=this.worldPosition.toVec3();if(this.empCD<=0)null==(a=this.empPar)||null==(a=a.db)||a.playAnimation("Die",1/0),this.empPar=null}var r=this.mainSlots.find((function(){return!0}));null==(n=this.lightSlot)||n._setDisplayIndex(o?null==r?void 0:r.displayIndex:-1),o&&null!=(s=this.inLnC)&&s.isInLawn()&&(this.summonCD-=t,this.summonCD<=0&&(this.summonCD=2*Math.random()+10,u.playArray(this.spawnSounds,1,.3),this.inLnC.SpawnZombieByZombieType(c.getRandom(["eighties_8bit","eighties_8bit","eighties_8bit","eighties_8bit","eighties_8bit","eighties_8bit","eighties_8bit_armor1","eighties_8bit_armor1","eighties_8bit_armor1","eighties_8bit_armor2"]),h.directPut,!0,.5-.2*this.scale,0,{},!1,this.scale<0,this.hypnotized)))}},o.empStun=function(t){if(t>this.empCD&&(this.empCD=t),this.empCD>0&&!this.empPar){var i=m(f.empEffect());i.parent=this.inLane.prjLayer,i.worldPosition=this.worldPosition.toVec3();var e=i.getComponent(d);this.empPar=e}},i}(l)).prototype,"destructSounds",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),S=i(D.prototype,"spawnSounds",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),P=D))||P));o._RF.pop()}}}));

System.register("chunks:///_virtual/EightiesArcadeZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./Square.ts","./Tombs.ts","./SoundRescourses.ts","./levelController.ts","./CharacterManager.ts"],(function(e){var t,i,n,a,r,s,o,c,u,h,d,l,b,p,f,w,S;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized,r=e.createClass},function(e){s=e.cclegacy,o=e._decorator,c=e.AudioClip,u=e.Vec2},function(e){h=e.Zombie,d=e.ZombieProps},function(e){l=e.Square},function(e){b=e.TombEnum},function(e){p=e.sounds},function(e){f=e.LevelPlay},function(e){w=e.Rectangle,S=e.TombPool}],execute:function(){var g,m,y,v,A,P,R,C,I;s._RF.push({},"133c4LVj4VPvLr55jzgJPb5","EightiesArcadeZombie",void 0);var L=o.ccclass,x=o.property,D=function(e){function t(){for(var t,i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).NumberOfArcadeCabinetsToSpawnWith=1,t}return i(t,e),t}(d);e("EightiesArcadeZombie",(g=L("EightiesArcadeZombie"),m=x([c]),y=x([c]),v=x([c]),g((R=t((P=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return(t=e.call.apply(e,[this].concat(r))||this)._objdataOwn=new D,n(t,"pushSounds",R,a(t)),n(t,"pushChargeSounds",C,a(t)),n(t,"pushSaySounds",I,a(t)),t.icecubeDetector=new w,t}i(t,e);var s=t.prototype;return s.icecubeToPush=function(){var e=this;return this.inLane.tombPool(2).find((function(t){return t.ID==b.eighties_arcade_cabinet&&(e.reversed?t.canBePushedRight():t.canBePushedLeft())&&e.icecubeDetector.judgeCrossRec(t.bodyRec)}))},s.shouldSpeedScale=function(){return this.defaultShouldSpeedScale()*(this.displayed||this.enteredLawn?1:2)},s.onDirtSpawned=function(e){if(this.objdataOwn.NumberOfArcadeCabinetsToSpawnWith>0){var t=this.inLane,i=this.cIndexReal+(this.reversed?1:-1),n=t.tombPool(2).find((function(e){return e.cIndexReal==i&&e.ID==b.eighties_arcade_cabinet}));if(!n){var a=S.pool().find((function(e){return e.cIndexReal==i&&e.lIndexReal==t.LaneIndex}));a&&a.die(),l.getLnC(t.LaneIndex,i).getAllPlants().forEach((function(e){e.die()})),n=this.spawnAnCabinet(t,i)}}},s.specialAnimationListener=function(e){switch(e.name){case"pushSound":p.playArray(this.pushSaySounds,1,.5);break;case"push":if(this.isAlive()&&this.ShrinkProps.length<=0){var t=this.icecubeToPush();t&&(this.reversed?t.pushRight():t.pushLeft(),p.playArray(this.pushSounds,1,.2),p.playArray(this.pushChargeSounds,1,.2))}}},s.setIceCubeDetectorRec=function(){f.gameStarted&&this.bodyRecHiddenCD<=0&&this.isAlive()?this.icecubeDetector=w.createRectangleCenter(new u(this.shadeSocket.worldPosition.x+(this.AttackRect.x-40)*(this.reversed?-1:1),this._worldPosition.y+this.height_depth+this.AttackRect.y),this.AttackRect.w,this.AttackRect.h):this.icecubeDetector=w.createRectangleCenter(new u(1e4,1e4),1,1)},s.specialZombieUpdateBeforePlantDetect=function(e,t,i){this.setIceCubeDetectorRec(),this.icecubeToPush()&&this.isWalking&&this.ShrinkProps.length<=0&&(this.switching=!0,this.isWalking=!1,this.correctShadeWP(.5),this.body.playAnimation("Push",1/0,.5))},s.spawnAnCabinet=function(e,t){var i=l.placeTomb(e.LaneIndex,t,b.eighties_arcade_cabinet,!1,!1,!1,!1);return i&&(i.scale=this.reversed?-1:1,i.hypnotized=this.hypnotized,i.spawnedZomboss=this.spawnedZomboss),i},s.onLaneSpawnSettled=function(e,t){var i=this;if(t&&e.isInLawn()){var n=this.cIndexReal;if(this.reversed){this.worldPositionX-=l.SquareWidth*this.objdataOwn.NumberOfArcadeCabinetsToSpawnWith;for(var a=this.cIndexReal,r=function(t){var n=e.tombPool(2).find((function(e){return e.cIndexReal==t}));n||(n=i.spawnAnCabinet(e,t))},s=n;s>a&&n-s<this.objdataOwn.NumberOfArcadeCabinetsToSpawnWith;s--)r(s)}else{this.worldPositionX+=l.SquareWidth*this.objdataOwn.NumberOfArcadeCabinetsToSpawnWith;for(var o=this.cIndexReal,c=function(t){var n=e.tombPool(2).find((function(e){return e.cIndexReal==t}));n||(n=i.spawnAnCabinet(e,t))},u=n;u<o&&u-n<this.objdataOwn.NumberOfArcadeCabinetsToSpawnWith;u++)c(u)}}},r(t,[{key:"objdataOwn",get:function(){return this._objdataOwn}}]),t}(h)).prototype,"pushSounds",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C=t(P.prototype,"pushChargeSounds",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),I=t(P.prototype,"pushSaySounds",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=P))||A));s._RF.pop()}}}));

System.register("chunks:///_virtual/EightiesBoomBoxZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./SoundRescourses.ts","./NodePools.ts","./CharacterManager.ts","./Square.ts","./FrontYard.ts"],(function(o){var t,i,n,e,r,a,s,l,c,u,b,h,m,d,p,f;return{setters:[function(o){t=o.applyDecoratedDescriptor,i=o.inheritsLoose,n=o.initializerDefineProperty,e=o.assertThisInitialized,r=o.createClass},function(o){a=o.cclegacy,s=o._decorator,l=o.AudioClip,c=o.Prefab},function(o){u=o.Zombie,b=o.ZombieProps},function(o){h=o.sounds},function(o){m=o.instantiatePooly},function(o){d=o.PlantPool},function(o){p=o.Square},function(o){f=o.FrontYard}],execute:function(){var w,P,g,y,v,D,B,x,O;a._RF.push({},"9b086wYgAlPDY9H51s7c/QD","EightiesBoomBoxZombie",void 0);var S=s.ccclass,C=s.property,j=function(o){function t(){for(var t,i=arguments.length,n=new Array(i),e=0;e<i;e++)n[e]=arguments[e];return(t=o.call.apply(o,[this].concat(n))||this).BoomBoxColumn=5,t.BoomBoxDuration=8,t.PlantFreezeRadius=15,t}return i(t,o),t}(b);o("EightiesBoomBoxZombieZombie",(w=S("EightiesBoomBoxZombie"),P=C([l]),g=C([l]),y=C(c),w((B=t((D=function(o){function t(){for(var t,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return(t=o.call.apply(o,[this].concat(r))||this)._objdataOwn=new j,t._objdataOwnOrg=new j,n(t,"powerUpSounds",B,e(t)),n(t,"powerDownSounds",x,e(t)),t.boomed=!1,t.boomCD=0,n(t,"lovePar",O,e(t)),t.lovePs=[],t.singing=!1,t}i(t,o);var a=t.prototype;return a.onObjdataSet=function(o){},a.specialAnimationListener=function(o){switch(o.name){case"ballad":if(h.playArray(this.powerUpSounds,1,.5),!this.isAlive())return;this.heartOnPlants(),this.singing=!0,this.boomCD=this.objdataOwn.BoomBoxDuration}},a.specialZombieOnEnable=function(){this.boomed=!1},a.boomStart=function(){this.isWalking=!1,this.switching=!0,this.correctShadeWP(.1),this.body.playAnimation("SingStart",1/0,.1),this.boomCD=1/0,this.boomed=!0},a.killAllHearts=function(){this.lovePs=[]},a.heartOnPlants=function(){var o=this;d.pool().filter((function(t){return!t.objdataOwn.ImmuneToBoomBox&&t.worldPosition.subtract(o.worldPosition).length()<o.objdataOwn.PlantFreezeRadius*p.SquareWidth})).forEach((function(t){if(!t.boomboxPar){var i=m(o.lovePar);i.parent=t.inLane.prjLayer,i.worldPosition=t.worldPosition.toVec3(),t.boomboxPar=i}t.boomboxCD=.5,o.lovePs.push(t)}))},a.readHearts=function(){var o=this;f.component&&(f.component.boomboxCD=.5),this.lovePs.concat().forEach((function(t){if(t&&!t.isAlive()||t.invincible){t.boomboxCD=0;var i=o.lovePs.indexOf(t);-1!=i&&o.lovePs.splice(i,1)}else t.boomboxCD=.5}))},a.playSpecialZombieDieForced=function(){this.boomEnd()},a.boomEnd=function(){this.boomCD=0,this.killAllHearts()},a.specialZombieUpdate=function(o,t,i){!this.boomed&&!this.hypnotized&&(this.cIndex-(this.reversed?8-this.objdataOwn.BoomBoxColumn:this.objdataOwn.BoomBoxColumn))*(this.reversed?-1:1)<=0&&this.boomStart(),isFinite(this.boomCD)&&this.boomCD>0&&(this.readHearts(),this.boomCD-=o,(this.boomCD<=0||i<=0||this.hypnotized)&&(this.boomEnd(),h.playArray(this.powerDownSounds,1,.5),this.body.playAnimation("SingEnd",1/0)))},r(t,[{key:"objdataOwn",get:function(){return this._objdataOwn}},{key:"objdataOwnOrg",get:function(){return this._objdataOwnOrg}}]),t}(u)).prototype,"powerUpSounds",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),x=t(D.prototype,"powerDownSounds",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=t(D.prototype,"lovePar",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=D))||v));a._RF.pop()}}}));

System.register("chunks:///_virtual/EightiesBreakDancerZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./SoundRescourses.ts","./FrontYard.ts","./CharacterManager.ts","./Square.ts","./levelController.ts"],(function(t){var e,i,n,a,o,r,s,c,l,u,h,d,b,p,y,m;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,a=t.assertThisInitialized,o=t.createClass},function(t){r=t.cclegacy,s=t._decorator,c=t.AudioClip,l=t.Vec2},function(t){u=t.Zombie,h=t.ZombieProps},function(t){d=t.sounds},function(t){b=t.JamStyle},function(t){p=t.Rectangle},function(t){y=t.Square},function(t){m=t.LevelPlay}],execute:function(){var S,k,g,f,w,j,_,O,Z,v,A,L,D;r._RF.push({},"bf37d7NgLJFSIZYgtkPZAuG","EightiesBreakDancerZombie",void 0);var z=s.ccclass,C=s.property,P=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];return(e=t.call.apply(t,[this].concat(n))||this).JamWalkSpeedMult=1.5,e.KickDistance=1.5625,e.KickingTime=.5,e}return i(e,t),e}(h);t("EightiesBreakDancerZombieZombie",(S=z("EightiesBreakDancerZombie"),k=C([c]),g=C([c]),f=C([c]),w=C([c]),j=C([c]),S((Z=e((O=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))||this)._objdataOwn=new P,e._objdataOwnOrg=new P,e._dancing=!1,n(e,"jamSaySounds",Z,a(e)),n(e,"rotateStartSaySounds",v,a(e)),n(e,"rotateStartSounds",A,a(e)),n(e,"rotateEndSaySounds",L,a(e)),n(e,"jamStepSounds",D,a(e)),e.kickCountdown=0,e}i(e,t);var r=e.prototype;return r.onObjdataSet=function(t){},r.walkSpeedScaleExtra=function(){return this.dancing?this.objdataOwn.JamWalkSpeedMult:1},r.specialZombieOnEnable=function(){this.dancing=!1,this.kickCountdown=0},r.zombieKickable=function(t,e){return t!=this&&(t.OID!=this.OID||!t.switching)&&!t.leapHeightTween&&t.cIndex>=0&&t.knockBackable&&t.specialZombieKnockbackable()&&t.leapable&&t.specialZombieLeapable()&&e.judgeCrossRec(t.bodyRec)},r.playSpecialZombieDie=function(t){this.switching&&this.judgeDeath()},r.specialZombieUpdateForced=function(t,e,i){var n;this.isAlive()&&(this.dancing=-1!=m.LevelJamList.indexOf(b[this.objdataOwn.JamStyle])||(null==(n=this.spawnedZomboss)?void 0:n.zombieJam())==b[this.objdataOwn.JamStyle])},r.specialZombieUpdateBeforePlantDetect=function(t,e,i){var n=this;if(t>0&&!this.switching&&this.enteredLawn&&this.dancing&&this.inLane){var a=p.createRectangleCenter(new l(this.worldPositionX,this.inLane.floorY),y.SquareWidth,y.SquareHeight);(this.hypnotized?this.inLane.hypnoZombiePool():this.inLane.zombiePool()).some((function(t){return n.zombieKickable(t,a)}))&&(this.isWalking=!1,this.correctShadeWP(.1),this.switching=!0,this.kickCountdown=1/0,this.body.playAnimation("RotateStart",1/0,.1))}this.switching&&this.kickCountdown>0&&(this.kickCountdown-=t,this.kickCountdown<=0&&(this.kickCountdown=1/0,this.body.playAnimation("RotateEnd",1/0)))},r.specialAnimationListener=function(t){switch(t.name){case"jam_say":Math.random()<.5&&d.playArray(this.jamSaySounds,.4);break;case"jam_step":d.playArray(this.jamStepSounds,.5);break;case"rotate_start_say":d.playArray(this.rotateStartSaySounds,1);break;case"rotate_start_sound":d.playArray(this.rotateStartSounds,1,.2);break;case"rotate_end_say":d.playArray(this.rotateEndSaySounds,1);break;case"rotateStart":this.body.playAnimation("RotateLoop",1/0),this.kickCountdown=this.objdataOwn.KickingTime,this.kick()}},r.kick=function(){var t=this,e=p.createRectangleCenter(new l(this.worldPositionX,this.inLane.midY),1.5*y.SquareWidth,y.SquareHeight);(this.hypnotized?this.inLane.hypnoZombiePool():this.inLane.zombiePool()).forEach((function(i){t.zombieKickable(i,e)&&i.leapBy(new l(t.objdataOwn.KickDistance*(t.reversed?1:-1),0),!0,.5,40,!0)}))},o(e,[{key:"objdataOwn",get:function(){return this._objdataOwn}},{key:"objdataOwnOrg",get:function(){return this._objdataOwnOrg}},{key:"dancing",get:function(){return this._dancing},set:function(t){t!=this._dancing&&(this.body.IdleAnm=t?"Idle_Dancing":"Idle",this.body.WalkAnm=t?"Walk_Dancing":"Walk",this.isWalking?(this.correctShadeWP(),this.replayAnimation()):this.isIdling&&this.replayAnimation()),this._dancing=t}}]),e}(u)).prototype,"jamSaySounds",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=e(O.prototype,"rotateStartSaySounds",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=e(O.prototype,"rotateStartSounds",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=e(O.prototype,"rotateEndSaySounds",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=e(O.prototype,"jamStepSounds",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=O))||_));r._RF.pop()}}}));

System.register("chunks:///_virtual/EightiesGargantuarZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GargantuarZombie.ts","./FrontYard.ts","./SoundRescourses.ts","./Character.ts","./Zombies.ts","./levelController.ts","./Projectiles.ts"],(function(t){var a,i,r,n,e,s,o,u,h,l,c,m,g,y,b,p,d,S;return{setters:[function(t){a=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,n=t.assertThisInitialized,e=t.createClass},function(t){s=t.cclegacy,o=t._decorator,u=t.AudioClip,h=t.Node,l=t.Vec2},function(t){c=t.GargantuarZombie,m=t.GargantuarProps},function(t){g=t.JamStyle},function(t){y=t.sounds},function(t){b=t.CharacterType},function(t){p=t.ZombieEnum},function(t){d=t.LevelPlay},function(t){S=t.ProjectileShootingFunctions}],execute:function(){var f,w,A,v,j,D,C,O,P;s._RF.push({},"5122dhHcfJCc7W+TQ4wytgo","EightiesGargantuarZombie",void 0);var L=o.ccclass,G=o.property,J=function(t){function a(){for(var a,i=arguments.length,r=new Array(i),n=0;n<i;n++)r[n]=arguments[n];return(a=t.call.apply(t,[this].concat(r))||this).ArbitrarySmashDelay=4,a.ArbitrarySmashDelayAdditional=1.5,a.WaveType="eighties_gargantuar_wave",a}return i(a,t),a}(m);t("EightiesGargantuarZombie",(f=L("EightiesGargantuarZombie"),w=G([u]),A=G([u]),v=G(h),f((C=a((D=function(t){function a(){for(var a,i=arguments.length,e=new Array(i),s=0;s<i;s++)e[s]=arguments[s];return(a=t.call.apply(t,[this].concat(e))||this)._objdataOwn=new J,a.ArbitrarySmashCD=0,a.impEnum=p.eighties_imp,r(a,"guitarSwingSounds",C,n(a)),r(a,"guitarSmashSounds",O,n(a)),r(a,"prjPoint",P,n(a)),a}i(a,t);var s=a.prototype;return s.onObjdataSet=function(t){this.getArbitrarySmashCD()},s.specialGargantuarOnEnable=function(){this.getArbitrarySmashCD()},s.getArbitrarySmashCD=function(){this.ArbitrarySmashCD=this.objdataOwn.ArbitrarySmashDelay+this.objdataOwn.ArbitrarySmashDelayAdditional*Math.random()},s.specialGargantuarUpdate=function(t,a,i){this.enteredLawn&&this.isInJam&&this.isWalking&&(this.ArbitrarySmashCD-=a,this.ArbitrarySmashCD<=0&&i>0&&(this.getArbitrarySmashCD(),this.playSmashAnm()))},s.specialGargantuarAnimationListener=function(t){"guitar"==t.name&&this.enteredLawn&&this.isInJam&&y.playArray(this.guitarSwingSounds,1,NaN,.3)},s.onSmashing=function(t){this.getArbitrarySmashCD(),this.enteredLawn&&this.isInJam&&(y.playArray(this.guitarSmashSounds,1,NaN,.3),S.shootOnePea(this.objdataOwn.WaveType,new l(this.prjPoint.worldPosition.x,this.worldPositionY),2,this.inLane.prjLayer,new l(-5.5*(this.reversed?-1:1),0),this.hypnotized?b.zombie:b.plant))},e(a,[{key:"objdataOwn",get:function(){return this._objdataOwn}},{key:"isInJam",get:function(){var t;return-1!=d.LevelJamList.indexOf(g[this.objdataOwn.JamStyle])||(null==(t=this.spawnedZomboss)?void 0:t.zombieJam())==g[this.objdataOwn.JamStyle]}}]),a}(c)).prototype,"guitarSwingSounds",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=a(D.prototype,"guitarSmashSounds",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),P=a(D.prototype,"prjPoint",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=D))||j));s._RF.pop()}}}));

System.register("chunks:///_virtual/EightiesGlitterZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./CharacterManager.ts","./SoundRescourses.ts","./FrontYard.ts","./Character.ts","./NodePools.ts","./Square.ts","./Zombies.ts","./levelController.ts"],(function(t){var e,i,a,n,o,r,s,l,h,c,d,u,g,b,p,f,m,w,y,P,v,S;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,a=t.initializerDefineProperty,n=t.assertThisInitialized,o=t.createClass},function(t){r=t.cclegacy,s=t._decorator,l=t.Prefab,h=t.AudioClip,c=t.Vec3,d=t.Vec2},function(t){u=t.Zombie,g=t.ZombieProps},function(t){b=t.ZombieDamageDetails,p=t.Rectangle},function(t){f=t.sounds},function(t){m=t.JamStyle},function(t){w=t.Character},function(t){y=t.instantiatePooly},function(t){P=t.Square},function(t){v=t.zombies},function(t){S=t.LevelPlay}],execute:function(){var Z,D,O,L,j,k,C,_,R;r._RF.push({},"f4da3vvEFhF9bFRMgPR53D8","EightiesGlitterZombie",void 0);var W=s.ccclass,z=s.property,E=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),n=0;n<i;n++)a[n]=arguments[n];return(e=t.call.apply(t,[this].concat(a))||this).RainbowTrailLength=3.125,e.WheelLeapDistanceToZombie=1,e.WheelDamageToZombie=200,e.JamWalkSpeedMult=1,e}return i(e,t),e}(g);t("EightiesGlitterZombieZombie",(Z=W("EightiesGlitterZombie"),D=z(l),O=z(l),L=z(h),Z((C=e((k=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))||this)._objdataOwn=new E,e._objdataOwnOrg=new E,a(e,"plantHitPar",C,n(e)),a(e,"glitterPar",_,n(e)),e.glitterCharacter=void 0,a(e,"glitterSound",R,n(e)),e}i(e,t);var r=e.prototype;return r.onObjdataSet=function(t){},r.walkSpeedScaleExtra=function(){return this.dancing?this.objdataOwn.JamWalkSpeedMult:1},r.specialZombieOnEnable=function(){this.dancing=!1},r.whenPlantDetected=function(t,e,i){this.dancing?(null==t||t.kill(),t&&(t.isAlive()?this.defaultWhenPlantDetected(t,e,i):this.spawnHitPar())):this.defaultWhenPlantDetected(t,e,i)},r.spawnHitPar=function(){var t=y(this.plantHitPar);t.parent=this.inLane.prjLayer,t.worldPosition=this.worldPosition.toVec3(),t.scale=new c(.7*this.scale,.7,1)},r.whenZombieDetected=function(t,e,i){if(this.dancing&&t.leapable&&t.knockBackable){if(t.knockBackTween)return;this.spawnHitPar();var a=new b(this.objdataOwn.WheelDamageToZombie);t.dealDamage(a),t.leapBy(new d((this.reversed?1:-1)*this.objdataOwn.WheelLeapDistanceToZombie,0),!0,1,50,!0,!1)}else this.defaultWhenZombieDetected(t,e,i)},r.playSpecialZombieDieForced=function(){this.dancing=!1},r.specialZombieUpdate=function(t,e,i){var a,n=this;if(this.dancing=(-1!=S.LevelJamList.indexOf(m[this.objdataOwn.JamStyle])||(null==(a=this.spawnedZomboss)?void 0:a.zombieJam())==m[this.objdataOwn.JamStyle])&&this.isAlive(),this.dancing){var o;f.playOneShot(this.glitterSound,1,NaN,.66667);var r=p.createRectangleSide(new d(this.shadeSocket.worldPosition.x+this.scale*P.SquareWidth/2,this.inLane.midY),P.SquareWidth*this.objdataOwn.RainbowTrailLength*this.scale,P.SquareHeight);null==(o=this.hypnotized?this.inLane.hypnoZombiePool():this.inLane.zombiePool())||o.forEach((function(t){t.ID!=n.ID&&-1==v.zombossList().indexOf(t.ID)&&r.judgeCrossRec(t.bodyRec)&&t.setGlittering(.3)}))}if(this.glitterCharacter){var s=this.glitterCharacter;s.worldPosition=new d(this.worldPosition.x,this.worldPositionY),s.scale=this.scale,s.height_depth=this.height_depth,s.node.setParent(this.inLane.glitterLayer,!0)}},o(e,[{key:"objdataOwn",get:function(){return this._objdataOwn}},{key:"objdataOwnOrg",get:function(){return this._objdataOwnOrg}},{key:"dancing",get:function(){return!!this.glitterCharacter},set:function(t){if(t!=this.dancing)if(t){var e=y(this.glitterPar);e.parent=this.inLane.glitterLayer;var i=e.getComponent(w);i.worldPosition=new d(this.shadeSocket.worldPosition.x,this.worldPositionY),i.scale=this.scale,i.height_depth=this.height_depth,this.glitterCharacter=i,i.db.playAnimation("Start",1/0)}else this.glitterCharacter&&(this.glitterCharacter.db.playAnimation("Fade",1/0),this.glitterCharacter=null)}}]),e}(u)).prototype,"plantHitPar",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=e(k.prototype,"glitterPar",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=e(k.prototype,"glitterSound",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=k))||j));r._RF.pop()}}}));

System.register("chunks:///_virtual/EightiesMCZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./CharacterManager.ts","./SoundRescourses.ts","./FrontYard.ts","./Square.ts","./levelController.ts"],(function(e){var n,t,a,i,o,r,s,c,l,u,d,h,b,p,m,f,g;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,a=e.initializerDefineProperty,i=e.assertThisInitialized,o=e.createClass},function(e){r=e.cclegacy,s=e._decorator,c=e.AudioClip,l=e.Vec2},function(e){u=e.Zombie,d=e.ZombieProps},function(e){h=e.Rectangle,b=e.ZombieDamageDetails},function(e){p=e.sounds},function(e){m=e.JamStyle},function(e){f=e.Square},function(e){g=e.LevelPlay}],execute:function(){var y,L,S,w,R,P,k,C,j,E,D,A,O,v,Z;r._RF.push({},"738e4JihYFKaaNv+MlUJNoR","EightiesMCZombie",void 0);var z=s.ccclass,W=s.property,_=function(e){function n(){for(var n,t=arguments.length,a=new Array(t),i=0;i<t;i++)a[i]=arguments[i];return(n=e.call.apply(e,[this].concat(a))||this).JamAttackDamage=2001,n.JamWalkSpeedMult=1,n}return t(n,e),n}(d);e("EightiesMCZombieZombie",(y=z("EightiesMCZombie"),L=W([c]),S=W([c]),w=W([c]),R=W([c]),P=W([c]),k=W([c]),y((E=n((j=function(e){function n(){for(var n,t=arguments.length,o=new Array(t),r=0;r<t;r++)o[r]=arguments[r];return(n=e.call.apply(e,[this].concat(o))||this)._objdataOwn=new _,n._objdataOwnOrg=new _,n._dancing=!1,a(n,"walkSaySounds",E,i(n)),a(n,"jamSaySounds",D,i(n)),a(n,"eatSaySounds",A,i(n)),a(n,"rapSounds",O,i(n)),a(n,"attackStartSounds",v,i(n)),a(n,"attackEndSounds",Z,i(n)),n}t(n,e);var r=n.prototype;return r.onObjdataSet=function(e){},r.walkSpeedScaleExtra=function(){return this.dancing?this.objdataOwn.JamWalkSpeedMult:1},r.specialZombieOnEnable=function(){this.dancing=!1},r.playAttack=function(){this.correctShadeWP(.1),this.switching=!0,this.isWalking=!1,this.body.playAnimation("Attack",1/0,.1)},r.plantCanbeHit=function(e){return e.eaterDetectable&&e.eatDamagable&&e.damagable&&!e.invincible&&!e.short_},r.detectJamEnemies=function(e){var n=this;if(!(this.switching||e<=0)&&this.inLane&&this.enteredLawn){var t,a,i,o,r,s,c,u,d,b,p=h.createRectangleCenter(new l(this.worldPosition.x,this.inLane.midY),3.125*f.SquareWidth,f.SquareHeight),m=h.createRectangleCenter(new l(this.worldPosition.x,this.inLane.midY),2*f.SquareWidth,3*f.SquareHeight);if(this.hypnotized)null!=(t=this.inLane.tombPool(0))&&t.some((function(e){return e&&p.judgeCrossRec(e.bodyRec)}))||null!=(a=this.inLane.UpperLane.tombPool(0))&&a.concat(this.inLane.LowerLane.tombPool(0)).some((function(e){return e&&m.judgeCrossRec(e.bodyRec)}))||null!=(i=this.inLane.zombiePool())&&i.some((function(e){return p.judgeCrossRec(e.bodyRec)}))||null!=(o=this.inLane.UpperLane.zombiePool())&&o.concat(this.inLane.LowerLane.zombiePool()).some((function(e){return m.judgeCrossRec(e.bodyRec)}))?this.playAttack():this.playWalk();else null!=(r=this.inLane.tombPool(1))&&r.some((function(e){return e&&p.judgeCrossRec(e.bodyRec)}))||null!=(s=this.inLane.UpperLane.tombPool(1))&&s.concat(this.inLane.LowerLane.tombPool(1)).some((function(e){return e&&m.judgeCrossRec(e.bodyRec)}))||null!=(c=this.inLane.plantPool())&&c.some((function(e){return n.plantCanbeHit(e)&&p.judgeCrossRec(e.bodyRec)}))||null!=(u=this.inLane.UpperLane.plantPool())&&u.concat(this.inLane.LowerLane.plantPool()).some((function(e){return n.plantCanbeHit(e)&&m.judgeCrossRec(e.bodyRec)}))||null!=(d=this.inLane.hypnoZombiePool())&&d.some((function(e){return p.judgeCrossRec(e.bodyRec)}))||null!=(b=this.inLane.UpperLane.hypnoZombiePool())&&b.concat(this.inLane.LowerLane.hypnoZombiePool()).some((function(e){return m.judgeCrossRec(e.bodyRec)}))?this.playAttack():this.playWalk()}},r.attack=function(){var e,n,t,a,i,o,r,s,c,u,d=this,p=h.createRectangleCenter(new l(this.worldPosition.x,this.inLane.midY),3.125*f.SquareWidth,f.SquareHeight),m=h.createRectangleCenter(new l(this.worldPosition.x,this.inLane.midY),2*f.SquareWidth,3*f.SquareHeight),g=new b(this.objdataOwn.JamAttackDamage),y=[];this.hypnotized?(null==(e=this.inLane.tombPool(0))||e.forEach((function(e){e&&p.judgeCrossRec(e.bodyRec)&&e.dealDamage(g)})),null==(n=this.inLane.UpperLane.tombPool(0))||n.concat(this.inLane.LowerLane.tombPool(0)).forEach((function(e){e&&m.judgeCrossRec(e.bodyRec)&&e.dealDamage(g)})),null==(t=this.inLane.zombiePool())||t.forEach((function(e){-1==y.indexOf(e)&&p.judgeCrossRec(e.bodyRec)&&y.push(e)})),null==(a=this.inLane.UpperLane.zombiePool())||a.concat(this.inLane.LowerLane.zombiePool()).forEach((function(e){-1==y.indexOf(e)&&m.judgeCrossRec(e.bodyRec)&&y.push(e)}))):(null==(i=this.inLane.tombPool(1))||i.forEach((function(e){e&&p.judgeCrossRec(e.bodyRec)&&e.dealDamage(g)})),null==(o=this.inLane.UpperLane.tombPool(1))||o.concat(this.inLane.LowerLane.tombPool(1)).forEach((function(e){e&&m.judgeCrossRec(e.bodyRec)&&e.dealDamage(g)})),null==(r=this.inLane.plantPool())||r.forEach((function(e){d.plantCanbeHit(e)&&p.judgeCrossRec(e.bodyRec)&&e.dealDamage(g.damage)})),null==(s=this.inLane.UpperLane.plantPool())||s.concat(this.inLane.LowerLane.plantPool()).forEach((function(e){d.plantCanbeHit(e)&&m.judgeCrossRec(e.bodyRec)&&e.dealDamage(g.damage)})),null==(c=this.inLane.hypnoZombiePool())||c.forEach((function(e){-1==y.indexOf(e)&&p.judgeCrossRec(e.bodyRec)&&y.push(e)})),null==(u=this.inLane.UpperLane.hypnoZombiePool())||u.concat(this.inLane.LowerLane.hypnoZombiePool()).forEach((function(e){-1==y.indexOf(e)&&m.judgeCrossRec(e.bodyRec)&&y.push(e)})));y.forEach((function(e){e.dealDamage(g)}))},r.playSpecialZombieDie=function(e){this.switching&&this.judgeDeath()},r.detectPlant=function(e){this.dancing?this.detectJamEnemies(e):this.defaultDetectPlant(e)},r.specialZombieUpdateForced=function(e,n,t){var a;this.isAlive()&&(this.dancing=-1!=g.LevelJamList.indexOf(m[this.objdataOwn.JamStyle])||(null==(a=this.spawnedZomboss)?void 0:a.zombieJam())==m[this.objdataOwn.JamStyle])},r.specialAnimationListener=function(e){switch(e.name){case"eatSay":p.playArray(this.eatSaySounds,1);break;case"rap":p.playArray(this.rapSounds,.4,NaN,.8);break;case"attackStart":p.playArray(this.attackStartSounds,1,.2);break;case"attackEnd":p.playArray(this.attackEndSounds,1,.2);break;case"attack":this.attack()}},o(n,[{key:"objdataOwn",get:function(){return this._objdataOwn}},{key:"objdataOwnOrg",get:function(){return this._objdataOwnOrg}},{key:"dancing",get:function(){return this._dancing},set:function(e){e!=this._dancing&&(this.body.IdleAnm=e?"Idle_Dancing":"Idle",this.body.WalkAnm=e?"Walk_Dancing":"Walk",this.isWalking?(this.correctShadeWP(),this.replayAnimation()):this.isIdling&&this.replayAnimation(),this.groanSound=e?this.jamSaySounds:this.walkSaySounds),this._dancing=e}}]),n}(u)).prototype,"walkSaySounds",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=n(j.prototype,"jamSaySounds",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=n(j.prototype,"eatSaySounds",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=n(j.prototype,"rapSounds",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=n(j.prototype,"attackStartSounds",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Z=n(j.prototype,"attackEndSounds",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C=j))||C));r._RF.pop()}}}));

System.register("chunks:///_virtual/EightiesPunkZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./SoundRescourses.ts","./FrontYard.ts","./levelController.ts"],(function(n){var t,e,i,a,o,r,s,l,u,c,h,d,p,b;return{setters:[function(n){t=n.applyDecoratedDescriptor,e=n.inheritsLoose,i=n.initializerDefineProperty,a=n.assertThisInitialized,o=n.createClass},function(n){r=n.cclegacy,s=n._decorator,l=n.AudioClip,u=n.Vec2},function(n){c=n.Zombie,h=n.ZombieProps},function(n){d=n.sounds},function(n){p=n.JamStyle},function(n){b=n.LevelPlay}],execute:function(){var f,g,m,y,w,k,v;r._RF.push({},"68200HK7XRPhZjmh6fJq+uk","EightiesPunkZombie",void 0);var S=s.ccclass,j=s.property,O=function(n){function t(){for(var t,e=arguments.length,i=new Array(e),a=0;a<e;a++)i[a]=arguments[a];return(t=n.call.apply(n,[this].concat(i))||this).PushCooldown=2,t.PushDamageToZombies=200,t.JamWalkSpeedMult=1,t}return e(t,n),t}(h);n("EightiesPunkZombieZombie",(f=S("EightiesPunkZombie"),g=j([l]),m=j([l]),f((k=t((w=function(n){function t(){for(var t,e=arguments.length,o=new Array(e),r=0;r<e;r++)o[r]=arguments[r];return(t=n.call.apply(n,[this].concat(o))||this)._objdataOwn=new O,t._objdataOwnOrg=new O,t._dancing=!1,t.pushCD=0,i(t,"jamGroanSounds",k,a(t)),i(t,"kickSounds",v,a(t)),t}e(t,n);var r=t.prototype;return r.onObjdataSet=function(n){},r.specialZombieOnEnable=function(){this.dancing=!1},r.walkSpeedScaleExtra=function(){return this.dancing?this.objdataOwn.JamWalkSpeedMult:1},r.whenPlantDetected=function(n,t,e){var i;if(!this.dancing||this.pushCD>0||null!=(i=n.plantInLnC)&&null!=(i=i.getAllPlants())&&i.some((function(n){return n.objdataOwn.CannotBePushedByFootballMech}))||n.invincible)this.defaultWhenPlantDetected(n,t,e);else{this.pushCD=this.objdataOwn.PushCooldown;for(var a=n.plantInLnC,o=0,r=!1;null!=(s=a)&&s.isInLawn();){var s;if((a=this.reversed?a.righter:a.lefter).putPlantAvailable(!0,n.ID,!0)){n.leapTo(a,.5,o,!0,!1),r=!0;break}o=100}r||n.throwAway(!this.reversed,this)}},r.specialZombieUpdateForced=function(n,t,e){var i;this.isAlive()&&(this.pushCD>0&&(this.pushCD-=n),this.dancing=-1!=b.LevelJamList.indexOf(p[this.objdataOwn.JamStyle])||(null==(i=this.spawnedZomboss)?void 0:i.zombieJam())==p[this.objdataOwn.JamStyle])},r.getMagnetedObject=function(){var n=this.dropHead(null);if(this.playDie(),n){n.MagnetShroomConsumingSpeed=5;var t=n;t.linearVelocity&&(t.linearVelocity=new u(0,0)),t.bodyLinearVelocity&&(t.bodyLinearVelocity=0)}return n},r.specialAnimationListener=function(n){switch(n.name){case"kick":d.playArray(this.kickSounds,1)}},o(t,[{key:"objdataOwn",get:function(){return this._objdataOwn}},{key:"objdataOwnOrg",get:function(){return this._objdataOwnOrg}},{key:"dancing",get:function(){return this._dancing},set:function(n){n!=this._dancing&&(this.body.IdleAnm=n?"Idle_Dancing":"Idle",this.body.WalkAnm=n?"Walk_Dancing":"Walk",this.isWalking?(this.correctShadeWP(),this.replayAnimation()):this.isIdling&&this.replayAnimation(),this.groanSound=n?this.jamGroanSounds:[]),this._dancing=n}}]),t}(c)).prototype,"jamGroanSounds",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=t(w.prototype,"kickSounds",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y=w))||y));r._RF.pop()}}}));

System.register("chunks:///_virtual/EightiesSpeaker.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Tomb.ts","./CharacterManager.ts","./Square.ts","./SoundRescourses.ts","./Character.ts","./Zombie.ts","./Projectiles.ts"],(function(e){var i,t,n,a,o,r,s,l,h,c,u,p,d,g,f,b,y,m;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized,o=e.createClass},function(e){r=e.cclegacy,s=e._decorator,l=e.Prefab,h=e.AudioClip,c=e.Vec2},function(e){u=e.Tomb},function(e){p=e.Rectangle,d=e.ZombieDamageDetails},function(e){g=e.Square},function(e){f=e.sounds},function(e){b=e.CharacterType},function(e){y=e.ZombieSort},function(e){m=e.ProjectileShootingFunctions}],execute:function(){var w,S,P,v,C,L,k,R,z,j,I;r._RF.push({},"852293cbPRLWYr56BIu2RFP","EightiesSpeaker",void 0);var _=s.ccclass,A=s.property;e("EightiesSpeaker",(w=_("EightiesSpeaker"),S=A(l),P=A([h]),v=A([h]),C=A([h]),w((R=i((k=function(e){function i(){for(var i,t=arguments.length,o=new Array(t),r=0;r<t;r++)o[r]=arguments[r];return(i=e.call.apply(e,[this].concat(o))||this).Idling=!1,i.willCharge=!1,n(i,"wavePrj",R,a(i)),n(i,"smashSounds",z,a(i)),n(i,"waveSounds",j,a(i)),n(i,"hitSounds",I,a(i)),i}t(i,e);var r=i.prototype;return r.playBreakSound=function(){},r.playBreakPar=function(e){},r.playSpawnParticle=function(){},r.specialTombOnEnable=function(){this.Idling=!1,this.willCharge=!1},r._smash=function(){var e=this;this.inLnC.getAllPlants().forEach((function(i){i.kill(),!i.isAlive()&&i.node.active&&(i.node.setParent(e.node.parent,!0),i.node.setSiblingIndex(0))}));var i=this.inLnC.rec;(this.hypnotized?this.inLane.zombiePool():this.inLane.hypnoZombiePool()).filter((function(e){return(null==e?void 0:e.ZombieSort)!=y.Zomboss&&i.judgeCrossRec(e.bodyRecReal)})).forEach((function(e){e.playDie()})),this.inLnC.getAllPlants().length>0&&this.die()},r.playCharging=function(){this.Idling?(this.Idling=!1,this.db.playAnimation("Charge",1/0)):this.willCharge=!0},r.specialTombUpdate=function(e){},r.playHit=function(e){this.Idling&&(this.Idling=!1,this.db.playAnimation(e?"Hit_Fake":"Hit"))},r.animationListener=function(e){switch(e.name){case"switchingFalse":this.Idling=!0,this.willCharge&&(this.willCharge=!1,this.playCharging());break;case"lit":this.hurting=60;break;case"smash":f.playArray(this.smashSounds,1,.1,.1,!0),this._smash();break;case"wave":f.playArray(this.waveSounds,1,.1),m.shootOnePea("eighties_speaker_wave",this.worldPosition,10,this.inLane.prjLayer,new c(-14*Math.sign(this.scale),0),this.hypnotized?b.zombie:b.plant);break;case"hit":f.playArray(this.hitSounds,.3,.1,1,!0),this._hit()}},r._hit=function(){var e=this,i=p.createRectangleSide(new c(this.worldPositionX,this.inLane.midY),2*-g.SquareWidth*this.scale,g.SquareHeight),t=new d(10);(this.hypnotized?this.inLane.zombiePool():this.inLane.hypnoZombiePool()).filter((function(e){return i.judgeCrossRec(e.bodyRec)})).forEach((function(e){e.dealDamage(t)})),this.inLane.tombPool(2).filter((function(t){return t.hypnotized!=e.hypnotized&&i.judgeCrossRec(t.bodyRec)})).forEach((function(e){e.dealDamage(t)})),this.hypnotized||this.inLane.plantPool().filter((function(e){return i.judgeCrossRec(e.bodyRec)})).forEach((function(e){!e.objdataOwn.ImmuneToSpeakerHit&&e.eaterDetectable&&e.dealDamage(t.damage)}))},o(i,[{key:"spawnLight",get:function(){return null}}]),i}(u)).prototype,"wavePrj",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=i(k.prototype,"smashSounds",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j=i(k.prototype,"waveSounds",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),I=i(k.prototype,"hitSounds",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=k))||L));r._RF.pop()}}}));

System.register("chunks:///_virtual/eightiesZombossBandMember.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Character.ts","./SoundRescourses.ts","./NodePools.ts"],(function(t){var e,o,i,n,s,a,r,l,c,u,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){s=t.cclegacy,a=t._decorator,r=t.AudioClip,l=t.dragonBones},function(t){c=t.Character},function(t){u=t.sounds},function(t){d=t.NodePools}],execute:function(){var h,p,f,b,S,y,m,B,P;s._RF.push({},"bcb27fNZkxLSYTNtmLG4w5K","eightiesZombossBandMember",void 0);var _=a.ccclass,g=a.property;t("eightiesZombossBandMember",(h=_("eightiesZombossBandMember"),p=g([r]),f=g([r]),b=g([r]),h((m=e((y=function(t){function e(){for(var e,o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))||this).BP1_Slots=[],e.BP2_Slots=[],e.BP3_Slots=[],e.BP4_Slots=[],e.BP5_Slots=[],e.zomboss=void 0,e.dead=!1,i(e,"fireSounds",m,n(e)),i(e,"explSounds",B,n(e)),i(e,"deathStartSounds",P,n(e)),e}o(e,t);var s=e.prototype;return s.characterOnLoad=function(){var t=this;this.db.on(l.EventObject.FRAME_EVENT,(function(e){t.animationListener(e)}),this),this.db.on(l.EventObject.SOUND_EVENT,(function(e){t.animationListener(e)}),this),this.db.armature().getSlots().forEach((function(e){var o=function(t){return e.name.includes(t)};o("BP1")?t.BP1_Slots.push(e):o("BP2")?t.BP2_Slots.push(e):o("BP3")?t.BP3_Slots.push(e):o("BP4")?t.BP4_Slots.push(e):o("BP5")&&t.BP5_Slots.push(e)}))},s.setStage=function(t){this.BP1_Slots.forEach((function(e){e._setDisplayIndex(t>=1?0:-1)})),this.BP2_Slots.forEach((function(e){e._setDisplayIndex(t>=2?0:-1)})),this.BP3_Slots.forEach((function(e){e._setDisplayIndex(t>=3?0:-1)})),this.BP4_Slots.forEach((function(e){e._setDisplayIndex(t>=4?0:-1)})),this.BP5_Slots.forEach((function(e){e._setDisplayIndex(t>=5?0:-1)})),console.log(t)},s.characterOnEnable=function(){this.dead=!1,this.setStage(0),this.zomboss=null,this.db.playAnimation("Start",1/0)},s.playDie=function(){this.dead||(this.dead=!0,u.playZombieLimbPop(),this.db.playAnimation("DeathStart",1/0))},s.animationListener=function(t){switch(t.name){case"expl":u.playArray(this.explSounds,1,.1);break;case"fire":u.playArray(this.fireSounds,1,.1);break;case"die":d.destroyPooly(this.node);break;case"fall":u.playZombieLie();break;case"deathStartSound":u.playArray(this.deathStartSounds,1,.1);break;case"judgeFade":this.zomboss||this.db.playAnimation("Fade",1/0)}},e}(c)).prototype,"fireSounds",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B=e(y.prototype,"explSounds",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),P=e(y.prototype,"deathStartSounds",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),S=y))||S));s._RF.pop()}}}));

System.register("chunks:///_virtual/EightiesZombossMechZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZombossMechZombie.ts","./Square.ts","./FrontYard.ts","./NodePools.ts","./SoundRescourses.ts","./Tombs.ts","./CharacterManager.ts","./eightiesZombossBandMember.ts","./ArrayGet.ts"],(function(e){var n,t,o,i,s,r,a,c,u,m,l,h,b,d,p,f,g,y,S,w,k,C;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized,s=e.createClass,r=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){c=e.cclegacy,u=e._decorator,m=e.Prefab,l=e.AudioClip},function(e){h=e.ZombossMechZombie,b=e.ZombossMechProps},function(e){d=e.Square},function(e){p=e.JamStyle,f=e.FrontYard},function(e){g=e.instantiatePooly},function(e){y=e.sounds},function(e){S=e.TombEnum},function(e){w=e.TombPool},function(e){k=e.eightiesZombossBandMember},function(e){C=e.ArrayGet}],execute:function(){var L,Z,v,M,P,A,D,I,_,j,B,E,z,F,O,x,U,J,R,T,N;c._RF.push({},"a4ced2y82RN2Z86Hyl80qgA","EightiesZombossMechZombie",void 0);var q=u.ccclass,G=u.property,Y=function(e){function n(){for(var n,t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];return(n=e.call.apply(e,[this].concat(o))||this).ZombossStages=[],n}return t(n,e),n}(b);e("EightiesZombossMechZombie",(L=q("EightiesZombossMechZombie"),Z=G(m),v=G(m),M=G(m),P=G(m),A=G([l]),D=G([l]),I=G([l]),_=G([l]),j=G([l]),L((z=n((E=function(e){function n(){for(var n,t=arguments.length,s=new Array(t),r=0;r<t;r++)s[r]=arguments[r];return(n=e.call.apply(e,[this].concat(s))||this)._objdataOwn=new Y,n._objdataOwnOrg=new Y,o(n,"memberUpPFB",z,i(n)),n.memberU=void 0,o(n,"memberMidPFB",F,i(n)),n.memberM=void 0,o(n,"memberDownPFB",O,i(n)),n.memberD=void 0,o(n,"cosChangingPar",x,i(n)),o(n,"jumpSounds",U,i(n)),o(n,"micDropSounds",J,i(n)),o(n,"moonwalkSounds",R,i(n)),o(n,"shakeSounds",T,i(n)),o(n,"sparkSounds",N,i(n)),n.shootCountDownSec=2,n.currentMechStages=[],n.currentJam=p.jam_clear,n}t(n,e);var c=n.prototype;return c.specialZombossOnLoad=function(){},c.knockBackBy=function(e,n,t,o,i,s){return this.worldPosition},c.knockBackTo=function(e,n,t,o,i){return this.worldPosition},c.walkD=function(){},c.walkR=function(){},c.walkU=function(){},c.walkL=function(){},c.jump=function(e){},c.deathJump=function(){w.pool(2).concat().forEach((function(e){e.die()})),this.explodeAction()},c.stunRollBack=function(e){},c.moveFromLaneToLane=function(e,n){var t=this;this.isAlive()&&d.getAllLane().forEach((function(e){e.addZombie(t)}))},c.getIdleC=function(){return this.cIndex},c.specialZombieSetLaneChangeParent=function(e,n){n&&(this.node.setParent(n.glitterLayer),this.node.setSiblingIndex(0))},c.windLane=function(){var e=this;C.randomize(d.getAllLane()).find((function(n){var t=d.getLnC(n.LaneIndex,e.getNearSpeakerCol());if(null!=t&&t.isInLawn()){var o;if((null==(o=t.tombStone)?void 0:o.ID)==S.speaker)return t.tombStone.playCharging(),!0;var i=e.blockOnLnC(t);if(i)return i.playCharging(),!0}return!1}))},c.setLnCsOccupied=function(){for(var e=this,n=function(n){(e.reversed?[0,1,2]:[6,7,8]).forEach((function(e){d.getLnC(n,e).setOccupied(.1)}))},t=0;t<5;t++)n(t)},c.killInRange=function(){},c.changeMusic=function(){},c.specialZombossUpdateForce=function(e,n,t,o){var i=this;if(this.isAlive()){var s=this.eightiesZombossIdleLnC();this.worldPositionX=s.x,this.worldPositionY=s.y,this.judgeInLnC(),this.memberU||(this.memberU=g(this.memberUpPFB).getComponent(k),this.memberU.node.parent=d.getLane(0).tombLayer,this.memberU.node.setSiblingIndex(0),this.memberU.zomboss=this),this.memberD||(this.memberD=g(this.memberDownPFB).getComponent(k),this.memberD.node.parent=d.getLane(3).prjLayer,this.memberD.node.setSiblingIndex(0),this.memberD.zomboss=this),this.memberM||(this.memberM=g(this.memberMidPFB).getComponent(k),this.memberM.node.parent=d.eightiesZombossStageLayer,this.memberM.node.setSiblingIndex(0),this.memberM.zomboss=this),this.members.forEach((function(e){e&&(e.worldPosition=i.worldPosition,e.scale=i.scale)}))}},c.specialZombossUpdate=function(e,n,t){(this.shooting||this.aiming)&&(this.shootCountDownSec-=e,this.shootCountDownSec<=0&&this.dropMissile())},c.membersDie=function(){this.members.forEach((function(e){e.playDie()}))},c.membersFade=function(){this.members.forEach((function(e){e.zomboss=null})),this.memberD=null,this.memberM=null,this.memberU=null},c.getMissileCount=function(){return 1},c.eightiesZombossIdleLnC=function(){var e=7.6;return this.reversed&&(e=8-e),d.getSquareWorldPosition(1.667,e)},c.shouldDepth=function(){return 0},c.specialZombossLockedTimeScale=function(){return 1},c.LnCCanBeShootOn=function(e){return e.tombable(!0,!1)&&e.cIndex>0&&e.cIndex<8},c.specialZombossDieForce=function(){this.membersDie()},c.specialZombossOnDisable=function(){this.membersDie(),this.membersFade()},c.specialZombossMechOnEnable=function(){this.memberD=null,this.memberM=null,this.memberU=null},c.jumpStart=function(e){},c.playCosChangePar=function(){var e=g(this.cosChangingPar);e.parent=this.node.parent,e.worldPosition=this.worldPosition.toVec3(),y.playArray(this.sparkSounds,1,.1)},c.specialZombossMechAnimationListener=function(e){switch(e.name){case"escape_trigger":this.playCosChangePar();break;case"say_angry":y.playArray(this.worldZombossAngrySaySounds,1,.1);break;case"say_rush":y.playArray(this.worldZombossRushSaySounds,1,.1);break;case"say_shoot":y.playArray(this.worldZombossShootSaySounds,1,.1);break;case"say_jump":y.playArray(this.worldZombossLeapSaySounds,1,.1);break;case"say_intro":y.playArray(this.worldZombossSpawnSaySounds,1,.1);break;case"jump":y.playArray(this.jumpSounds,1,.1);break;case"moonwalk":y.playArray(this.moonwalkSounds,1,.1);break;case"mic_drop":y.playArray(this.micDropSounds,1,.1);break;case"Idle":this.switchJam()}},c.playShootAnimation=function(){this.shootCountDownSec=2},c.playStunAnimation=function(e){},c.specialZombossMechBeforeChangeStageStun=function(){this.shootInterupt(),this.shooting=!1,this.aiming=!1,this.ZombossIdling=!0,y.playArray(this.shakeSounds,1,.1)},c.specialZombossMechStunEnd=function(){this.ZombossIdling=!0},c.rushAction=function(){this.windLane()},c.getBlockableLnCFromLane=function(e){return(this.reversed?e.laneLnCs.concat():e.laneLnCs.concat().reverse()).find((function(e,n){return 0!=n&&1!=n&&2!=n&&8!=n&&!e.tombStone}))},c.zombieJam=function(){return this.currentJam},c.getNearSpeakerCol=function(){return this.reversed?2:6},c.switchJam=function(){var e,n=this,t=p[null==(e=this.currentMechStages[this.currentStage])?void 0:e.JamStyle];isNaN(t)&&(t=p.jam_clear),this.isBoss&&f.setJamEffect(t),this.currentJam=t,this.body.playAnimation(this.getIdleAnmName()),d.getAllLane().forEach((function(e){var t,o=d.getLnC(e.LaneIndex,n.getNearSpeakerCol());null==(t=o.tombStone)||t.die(),n.blockOnLnC(o)}))},c.getIdleAnmName=function(){switch(this.currentJam){case p.jam_pop:return"Idle_Pop";case p.jam_rap:return"Idle_Rap";case p.jam_8bit:return"Idle_8bit";case p.jam_metal:return"Idle_Metal";default:return"Idle_Punk"}},c.stunEnd=function(){this.defaultZombossStunEnd(),this.isAlive()?(this.switchJam(),this.playCosChangePar()):this.explodeAction(),this.ZombossIdling=!0},c.dropMissile=function(){var e=r(a().mark((function e(){var n=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.targetLocators.forEach((function(e){n.blockOnLnC(e.inLnC),e.db.playAnimation("Die",1)})),this.targetLocators=[],this.aiming=!1,this.shooting=!1,this.ZombossIdling=!0;case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),c.blockOnLnC=function(e){var n=e.SpawnTomb(S.speaker,!1,!1,!0,!0,!1);if(n)return n.hypnotized=this.hypnotized,n.scale=this.scale,n.setInLnC(n.tombInLnC),n},c.detectRushEnemies=function(){return!0},c.summonAction=function(){this.columnSummon(this.cIndex-2*Math.sign(this.scale))},s(n,[{key:"objdataOwn",get:function(){return this._objdataOwn}},{key:"objdataOwnOrg",get:function(){return this._objdataOwnOrg}},{key:"ShootTargetCMax",get:function(){return 6}},{key:"members",get:function(){var e=[];return this.memberU&&e.push(this.memberU),this.memberM&&e.push(this.memberM),this.memberD&&e.push(this.memberD),e}},{key:"bpStage",set:function(e){this.members.forEach((function(n){n.setStage(e)})),this._bpStage=e}}]),n}(h)).prototype,"memberUpPFB",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=n(E.prototype,"memberMidPFB",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=n(E.prototype,"memberDownPFB",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=n(E.prototype,"cosChangingPar",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=n(E.prototype,"jumpSounds",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),J=n(E.prototype,"micDropSounds",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=n(E.prototype,"moonwalkSounds",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),T=n(E.prototype,"shakeSounds",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),N=n(E.prototype,"sparkSounds",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B=E))||B));c._RF.pop()}}}));

System.register("chunks:///_virtual/ElectricBlueberry.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./SoundRescourses.ts","./CharacterManager.ts","./Zombie.ts","./NodePools.ts","./electricblueberryCloud.ts"],(function(t){var e,a,o,i,n,l,r,s,u,c,d,h,p,b,m,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,a=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized,n=t.createClass},function(t){l=t.cclegacy,r=t._decorator,s=t.AudioClip,u=t.Prefab},function(t){c=t.Plant,d=t.PlantProps},function(t){h=t.sounds},function(t){p=t.ZombiePool},function(t){b=t.ZombieSort},function(t){m=t.instantiatePooly},function(t){g=t.electricblueberryCloud}],execute:function(){var y,f,w,C,k,A,O,N,S,j,R,D,P,I,B,_,v,T,L,Z,z,E,F,W,M,G,H,J;l._RF.push({},"4083dCPrDNPBJoKMls6jV35","ElectricBlueberry",void 0);var x=r.ccclass,K=r.property,U=function(t){function e(){for(var e,a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))||this).PlantFoodCloudSpeed=10,e.PlantFoodLightningBoltDamage=5e3,e.PlantFoodLightningTargets=3,e.NormalCloudSpeed=10,e.NormalLightningBoltDamage=5e3,e.NormalLightningTargets=1,e.WeightTargetNormalZombie=55,e.WeightTargetGargantuarZombie=5,e.WeightTargetOtherZombie=40,e.RedAttackStunDuration=1,e.AttackCooldownStart=10,e.AttackCooldownStartAdditional=0,e.AttackCooldownBetween=12,e.AttackCooldownBetweenAdditional=0,e}return a(e,t),e}(d),V=(y=x("ElectricBlueberrySound"),f=K(s),w=K(s),C=K(s),k=K(s),A=K(s),O=K(s),N=K([s]),S=K([s]),j=K([s]),y((P=e((D=function(){function t(){o(this,"breathIn",P,this),o(this,"breathOut",I,this),o(this,"attack",B,this),o(this,"foodAttack",_,this),o(this,"glow",v,this),o(this,"jump",T,this),o(this,"ele",L,this),o(this,"eleSay",Z,this),o(this,"spark",z,this)}var e=t.prototype;return e.playBreathIn=function(){h.playOneShot(this.breathIn,1,NaN,.4)},e.playBreathOut=function(){h.playOneShot(this.breathOut,1,NaN,.4)},e.playAttack=function(){h.playOneShot(this.attack,1,NaN,.3)},e.playFoodAttack=function(){h.playOneShot(this.foodAttack,1,NaN,.3)},e.playGlow=function(){h.playOneShot(this.glow,1,NaN,.3)},e.playJump=function(){h.playOneShot(this.jump,1,NaN,.3)},e.playEle=function(){h.playArray(this.ele,1,NaN),h.playArray(this.eleSay,1,NaN)},e.playSpark=function(){h.playArray(this.spark,1,NaN)},t}()).prototype,"breathIn",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=e(D.prototype,"breathOut",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=e(D.prototype,"attack",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=e(D.prototype,"foodAttack",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=e(D.prototype,"glow",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=e(D.prototype,"jump",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=e(D.prototype,"ele",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Z=e(D.prototype,"eleSay",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=e(D.prototype,"spark",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=D))||R);t("ElectricBlueberryPlant",(E=x("ElectricBlueberryPlant"),F=K(V),W=K(u),E((H=e((G=function(t){function e(){for(var e,a=arguments.length,n=new Array(a),l=0;l<a;l++)n[l]=arguments[l];return e=t.call.apply(t,[this].concat(n))||this,o(e,"soundRes",H,i(e)),e._objdataOwn=new U,e._cloudRestTime=12,e._cloudCD=1,e._stage=NaN,e.clouding=!1,o(e,"cloud",J,i(e)),e}a(e,t);var l=e.prototype;return l.setCloudCD=function(t){void 0===t&&(t=!1),this._cloudCD=0;var e=this.objdataOwn.AttackCooldownBetween+Math.random()*this.objdataOwn.AttackCooldownBetweenAdditional;t&&(e=this.objdataOwn.AttackCooldownStart+Math.random()*this.objdataOwn.AttackCooldownStartAdditional),e*=this._cdScale,this._cloudRestTime=Math.max(e,.01),this.cloudCD=e},l.playAttack=function(){this.setCloudCD(),this.clouding=!0,this.anmControl.playAnimation("Attack",1)},l.specialPlantFood=function(t){this.setCloudCD(),this.clouding=!0,this.anmControl.playAnimation("Food",1)},l.createCloud=function(t){void 0===t&&(t=!1);var e=m(this.cloud);e.parent=this.inLane.prjLayer;var a=e.getComponent(g);a&&(a.HighRed=this.highRedCD>0,a.RedAttackStunDuration=this.objdataOwn.RedAttackStunDuration,a.worldPosition=this.worldPosition,a.WeightTargetGargantuarZombie=this.objdataOwn.WeightTargetGargantuarZombie,a.WeightTargetNormalZombie=this.objdataOwn.WeightTargetNormalZombie,a.WeightTargetOtherZombie=this.objdataOwn.WeightTargetOtherZombie,a.Speed=t?this.objdataOwn.PlantFoodCloudSpeed:this.objdataOwn.NormalCloudSpeed,a.damage=this._dmgScale*(t?this.objdataOwn.PlantFoodLightningBoltDamage:this.objdataOwn.NormalLightningBoltDamage),a.leftTime=t?this.objdataOwn.PlantFoodLightningTargets:this.objdataOwn.NormalLightningTargets)},l.animationOnComplete=function(){this.clouding=!1},l.waterable=function(){return 2==this._stage&&!this.clouding},l.animationListener=function(t){switch(t.name){case"breathIn":this.soundRes.playBreathIn();break;case"breathOut":this.soundRes.playBreathOut();break;case"ele":this.soundRes.playEle();break;case"spark":this.soundRes.playSpark();break;case"jump":this.soundRes.playJump();break;case"attackSound":this.soundRes.playAttack();break;case"foodSound":this.soundRes.playFoodAttack();break;case"foodEnd":this.foodEnd();break;case"cloud":this.judgeHaveEnemy()?this.createCloud():this.cloudCD=5/8*this._cloudRestTime;break;case"foodCloud":this.createCloud(!0)}},l.judgeHaveEnemy=function(){return p.pool().some((function(t){var e=t.ZombieSort;return t.isRealZombie&&t.enteredLawn&&!t.BlueBerryCloud&&(e==b.Other||e==b.Normal||e==b.Gargantuar)}))},l.specialPlantUpdate=function(t,e,a){this.clouding||(this.cloudCD>0?this.cloudCD-=t:a>0&&this.judgeHaveEnemy()&&this.playAttack())},l.specialPlantOnEnable=function(){this.clouding=!1,this.setCloudCD(!0)},n(e,[{key:"objdataOwn",get:function(){return this._objdataOwn}},{key:"cloudCD",get:function(){return this._cloudCD},set:function(t){var e=3-Math.floor(t/this._cloudRestTime*4);if(e<0&&(e=0),e>3&&(e=3),this._stage!=e){switch(e){case 0:this.anmControl.IdleAnim="Idle00",this.anmControl.RandomAnim=["Idle01"];break;case 1:this.anmControl.IdleAnim="Idle10",this.anmControl.RandomAnim=["Idle11","Idle12","Idle13"];break;case 2:this.anmControl.IdleAnim="Idle20",this.anmControl.RandomAnim=["Idle21","Idle22"];break;default:this.anmControl.IdleAnim="Idle30",this.anmControl.RandomAnim=["Idle31","Idle32"]}this.clouding||this.anmControl.playIdle(),this.soundRes.playGlow()}this._stage=e,this._cloudCD=t}}]),e}(c)).prototype,"soundRes",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new V}}),J=e(G.prototype,"cloud",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=G))||M));l._RF.pop()}}}));

System.register("chunks:///_virtual/electricblueberryCloud.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Character.ts","./Zombie.ts","./CharacterManager.ts","./Square.ts","./SoundRescourses.ts","./ParticleSelfdestroy.ts","./levelController.ts"],(function(t){var e,i,r,n,o,a,s,h,l,c,u,g,d,m,b,f,p,y;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,n=t.assertThisInitialized,o=t.createClass},function(t){a=t.cclegacy,s=t._decorator,h=t.AudioClip,l=t.dragonBones},function(t){c=t.Character},function(t){u=t.ZombieSort},function(t){g=t.ZombieDamageDetails,d=t.ZombieDamageType,m=t.ZombiePool},function(t){b=t.Square},function(t){f=t.sounds},function(t){p=t.ParticleSelfdestroy},function(t){y=t.LevelPlay}],execute:function(){var S,Z,v,T,P;a._RF.push({},"10d96BT90pMDqzrJXmm3hKY","electricblueberryCloud",void 0);var w=s.ccclass,D=s.property;t("electricblueberryCloud",(S=w("electricblueberryCloud"),Z=D([h]),S((P=e((T=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))||this).PSD=void 0,e.damage=5e3,e.leftTime=0,r(e,"hitSounds",P,n(e)),e.switching=!1,e.Speed=10,e.WeightTargetNormalZombie=55,e.WeightTargetGargantuarZombie=5,e.WeightTargetOtherZombie=45,e.targetZombie=void 0,e.RedAttackStunDuration=1,e}i(e,t);var a=e.prototype;return a.characterOnLaneChange=function(t,e){e&&this.node.setParent(e.prjLayer,!0)},a.damageToTarget=function(){var t=new g(this.damage,!0,!1,!0,null,d.electricity),e=this.HighRed;t.shockRGB=e?1:0,this.targetZombie&&(f.playArray(this.hitSounds,1,NaN,.3),this.db.playAnimation("Attack",1),this.switching=!0,e&&(this.targetZombie.setStun(this.RedAttackStunDuration),t.shockRGB=1),this.targetZombie.dealDamage(t),this.targetZombie.isAlive()||(this.targetZombie=null))},a.dbListener=function(t){switch(t.name){case"locate":if(!y.gaming)return;this.switching=!1,this.targetZombie||(this.leftTime<=0?this.die():(this.targetZombie=this.getTargetZombie(),this.targetZombie&&(this.targetZombie.BlueBerryCloud=this,this.leftTime--)))}},a.characterUpdate=function(t){if(this.targetZombie&&!this.switching){if(!this.targetZombie.isAlive())return this.targetZombie=null,void this.leftTime++;var e=this.targetZombie.worldPosition.subtract(this.worldPosition),i=b.SquareWidth*this.Speed*t;e.length()<i&&(this.damageToTarget(),i=e.length());var r=e.normalize().multiplyScalar(i);this.worldPositionX+=r.x,this.worldPositionY+=r.y}},a.getTargetZombie=function(){for(var t,e=[{Sort:u.Normal,Weight:this.WeightTargetNormalZombie},{Sort:u.Gargantuar,Weight:this.WeightTargetGargantuarZombie},{Sort:u.Other,Weight:this.WeightTargetOtherZombie}],i=m.pool().sort((function(t,e){return t.worldPositionX-e.worldPositionX})),r=function(){var t=0,r=[];e.forEach((function(e){t+=e.Weight,r.push(t)}));var n=t*Math.random(),o=r.findIndex((function(t){return n<=t})),a=e[o];if(a){var s=i.find((function(t){return t.isRealZombie&&t.enteredLawn&&!t.BlueBerryCloud&&t.ZombieSort==a.Sort}));if(s)return{v:s};e.splice(o,1)}};e.length>0;)if(t=r())return t.v;return null},a.die=function(){this.db.playAnimation("Death",1/0),this.switching=!0},a.characterOnEnable=function(){this.db.playAnimation("Spawn",1),this.switching=!0},a.characterOnLoad=function(){var t;this.PSD=this.getComponent(p),null==(t=this.db)||t.on(l.EventObject.FRAME_EVENT,this.dbListener,this)},o(e,[{key:"HighRed",get:function(){return this.PSD&&this.PSD.HighRed>0},set:function(t){this.PSD&&(this.PSD.HighRed=t?1:0)}}]),e}(c)).prototype,"hitSounds",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=T))||v));a._RF.pop()}}}));

System.register("chunks:///_virtual/ElectricCurrant.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./CharacterManager.ts","./Square.ts","./NodePools.ts","./SoundRescourses.ts"],(function(t){var n,i,e,a,o,r,s,l,c,d,h,u,f,p,y,m,b,g;return{setters:[function(t){n=t.applyDecoratedDescriptor,i=t.inheritsLoose,e=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){o=t.cclegacy,r=t._decorator,s=t.AudioClip,l=t.Prefab,c=t.Vec3,d=t.Vec2},function(t){h=t.Plant,u=t.PlantProps},function(t){f=t.PlantPool,p=t.ZombieDamageDetails,y=t.ZombieDamageType},function(t){m=t.Square},function(t){b=t.instantiatePooly},function(t){g=t.sounds}],execute:function(){var S,C,w,P,I,D,L,v,x,R,A,E,k,_,z,F,O,j,T,Z,B,N,V,M,q,H,X,G,J,U,Y,K;o._RF.push({},"7ef1aVTwm5BXJaVbgvRz9tD","ElectricCurrant",void 0);var Q=r.ccclass,W=r.property,$=(S=Q("electriccurrantSound"),C=W([s]),w=W([s]),P=W([s]),I=W([s]),D=W([s]),L=W([s]),v=W([s]),x=W([s]),R=W(s),S((k=n((E=function(){function t(){e(this,"attackStartSay",k,this),e(this,"death",_,this),e(this,"foodEnd",z,this),e(this,"foodStartSay",F,this),e(this,"shoot",O,this),e(this,"spark",j,this),e(this,"sparkSay",T,this),e(this,"shootStart",Z,this),e(this,"loop",B,this)}var n=t.prototype;return n.playAttackStartSay=function(){g.playArray(this.attackStartSay,.5,.1)},n.playDeath=function(){g.playArray(this.death,1,.1)},n.playFoodEnd=function(){g.playArray(this.foodEnd,1,.1)},n.playFoodStartSay=function(){g.playArray(this.foodStartSay,1,.1)},n.playShoot=function(){g.playArray(this.shoot,.5,.1)},n.playSpark=function(){g.playArray(this.spark,.5,.1)},n.playSparkSay=function(){g.playArray(this.sparkSay,.5,.1)},n.playShootStart=function(){g.playArray(this.shootStart,.5,.1)},n.playLoop=function(){g.playOneShot(this.loop,.4,NaN,.66667,!1,!0)},t}()).prototype,"attackStartSay",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=n(E.prototype,"death",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=n(E.prototype,"foodEnd",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=n(E.prototype,"foodStartSay",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=n(E.prototype,"shoot",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j=n(E.prototype,"spark",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),T=n(E.prototype,"sparkSay",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Z=n(E.prototype,"shootStart",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B=n(E.prototype,"loop",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=E))||A),tt=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),a=0;a<i;a++)e[a]=arguments[a];return(n=t.call.apply(t,[this].concat(e))||this).Damage=12,n.DamagePlantfood=20,n.PlantfoodDuration=5,n.DirectDamageInterval=.25,n}return i(n,t),n}(u);t("ElectricCurrantPlant",(N=Q("ElectricCurrantPlant"),V=W($),M=W(l),q=W(l),H=W(l),N((J=n((G=function(t){function n(){for(var n,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return(n=t.call.apply(t,[this].concat(o))||this)._objdataOwn=new tt,e(n,"soundRes",J,a(n)),e(n,"linePar",U,a(n)),e(n,"centerPar",Y,a(n)),e(n,"hitPar",K,a(n)),n.fooded=!1,n.foodCD=0,n.switching=!1,n.isDown=!1,n.damageCD=0,n}i(n,t);var o=n.prototype;return o.waterable=function(){return!this.fooded&&!this.isDown},o.onCallingElectricCurrant=function(){},o.specialPlantFoodEnd=function(){this.soundRes.playFoodEnd()},o.animationOnComplete=function(){this.switching=!1},o.animationListener=function(t){"shootStart"==t.name?this.soundRes.playShootStart():"shoot"==t.name?this.soundRes.playShoot():"spark"==t.name?this.soundRes.playSpark():"sparkSay"==t.name?this.soundRes.playSparkSay():"death"==t.name?(this.soundRes.playDeath(),this.bounceZombies()):"foodStartSay"==t.name?this.soundRes.playFoodStartSay():"attackStartSay"==t.name&&this.soundRes.playAttackStartSay()},o.down=function(){this.switching=!0,this.isDown=!0,this.anmControl.playAnimation("AttackStart",1),this.anmControl.IdleAnim="AttackLoop",this.anmControl.RandomAnim=[]},o.up=function(){this.switching=!0,this.isDown=!1,this.anmControl.playAnimation("AttackEnd",1),this.anmControl.IdleAnim="Idle",this.anmControl.RandomAnim=["Rand1","Rand2"]},o.detectFriends=function(){var t,n,i,e,a=this,o=1/0,r=1/0,s=1/0,l=1/0,c=!1;f.pool().forEach((function(d){if(d.objdataOwn.CallsElectricCurrant&&d!=a&&!d.dead&&!d.sheepend)if(a.lIndex==d.inLnC.lIndex){if(a.cIndex<d.inLnC.cIndex){var h=d.inLnC.cIndex-a.cIndex;h<l&&(i=d,l=h)}else if(a.cIndex>d.inLnC.cIndex){var u=a.cIndex-d.inLnC.cIndex;u<s&&(n=d,s=u)}c=!0}else if(a.cIndex==d.inLnC.cIndex)if(a.lIndex<d.inLnC.lIndex){var f=d.inLnC.lIndex-a.lIndex;f<r&&(e=d,r=f)}else if(a.lIndex>d.inLnC.lIndex){var p=a.lIndex-d.inLnC.lIndex;p<o&&(t=d,o=p)}}));var d,h=Number(this.fooded?this._objdataOwn.DamagePlantfood:this._objdataOwn.Damage);this._dmgScale&&(h*=this._dmgScale);for(var u=1;isFinite(o)&&u<o;u++){var p;null==(p=m.getLnC(this.lIndex-u,this.cIndex))||p.setElectricLine(2,2,h,this.fooded,this.linePar)}for(var y=1;isFinite(r)&&y<r;y++){var b;null==(b=m.getLnC(this.lIndex+y,this.cIndex))||b.setElectricLine(2,2,h,this.fooded,this.linePar)}for(var g=1;isFinite(s)&&g<s;g++){var S;null==(S=m.getLnC(this.lIndex,this.cIndex-g))||S.setElectricLine(1,2,h,this.fooded,this.linePar)}for(var C=1;isFinite(l)&&C<l;C++){var w;null==(w=m.getLnC(this.lIndex,this.cIndex+C))||w.setElectricLine(1,2,h,this.fooded,this.linePar)}([t,e,n,i].forEach((function(t){var n;t&&(null==(n=t.inLnC)||n.setElectricLine(0,2,h,a.fooded,a.centerPar),t.onCallingElectricCurrant(),c=!0)})),c)&&(this.soundRes.playLoop(),null==(d=this.inLnC)||d.setElectricLine(0,2,h,this.fooded,this.centerPar))},o.specialPlantOnLoad=function(){m.component.electricLineHitPar=this.hitPar},o.specialPlantOnEnable=function(){this.isDown=!1,this.switching=!1,this.anmControl.IdleAnim="Idle",this.anmControl.RandomAnim=["Rand1","Rand2"],this.anmControl.playIdle()},o._foodedToTrue=function(){this.isDown=!1,this.switching=!1,this.anmControl.IdleAnim="Idle_Food",this.anmControl.RandomAnim=[],this.fooded=!0,this.foodable=!1,this.anmControl.playAnimation("Food",1)},o.specialPlantFood=function(){this._foodedToTrue(),this.foodCD=this._objdataOwn.PlantfoodDuration},o.specialFightAloneStrengthen=function(t){this._foodedToTrue()},o.detectZombies=function(){var t,n=this,i=!1;return null==(t=this.inLane)||null==(t=t.zombiePool())||t.forEach((function(t){i||n.inLnC.rec.judgeCrossRec(t.bodyRec)&&(i=!0)})),i},o.damageOnZombies=function(){var t,n=this,i=Number(this.fooded?this._objdataOwn.DamagePlantfood:this._objdataOwn.Damage);this._dmgScale&&(i*=this._dmgScale);var e=new p(i,!0,!0,!0,null,y.electricity);e.shockRGB=1,null==(t=this.inLane)||null==(t=t.zombiePool())||t.forEach((function(t){if(n.inLnC.rec.judgeCrossRec(t.bodyRec)){t.dealDamage(e);var i=b(n.hitPar);i.parent=n.inLane.prjLayer,i.worldPosition=new c(t.worldPositionX,t.worldPositionY+30,10)}})),this.damageCD=this._objdataOwn.DirectDamageInterval*this._cdScale},o.bounceZombies=function(){var t=this;this.inLane.zombiePool().forEach((function(n){if(n.bodyRec.judgeCrossRec(t.inLnC.rec)){var i=-1,e=1;t.lIndex>=4&&(e=0),t.lIndex<=0&&(i=0),n.knockBackBy(new d(.75,Math.random()<.5?i:e),!0,.4,!1)}}))},o.specialPlantUpdateForce=function(t,n,i){if(this.isAlive()&&i>0&&this.detectFriends(),this.fooding&&(this.foodCD>0&&(this.foodCD-=t),this.foodCD<=0&&this.foodEnd()),!this.switching&&!this.fooding&&!this.dead){var e=this.detectZombies();e&&(this.fooded||this.isDown)&&(this.damageCD>0?this.damageCD-=t:this.damageOnZombies()),this.fooded||(this.isDown&&!e?this.up():!this.isDown&&e&&this.down())}},n}(h)).prototype,"soundRes",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new $}}),U=n(G.prototype,"linePar",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=n(G.prototype,"centerPar",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=n(G.prototype,"hitPar",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=G))||X));o._RF.pop()}}}));

System.register("chunks:///_virtual/electricPea.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NodePools.ts","./ArrayGet.ts","./ParticleSelfdestroy.ts","./cactusThorn.ts","./CharacterManager.ts","./Square.ts","./electricPeaPointer.ts"],(function(e){var t,o,n,i,a,r,l,s,c,h,d,u,P,g,p,f,w,v,C,y,m,D;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized,a=e.createClass},function(e){r=e.cclegacy,l=e._decorator,s=e.Prefab,c=e.Vec3,h=e.Vec2,d=e.HALF_PI},function(e){u=e.NodePools,P=e.instantiatePooly},function(e){g=e.ArrayGet},function(e){p=e.ParticleSelfdestroy},function(e){f=e.cactusThorn,w=e.CactusThornProps},function(e){v=e.Rectangle,C=e.ZombieDamageDetails,y=e.ZombieDamageType},function(e){m=e.Square},function(e){D=e.electricPeaPointer}],execute:function(){var b,S,L,x,R,_,j;r._RF.push({},"5747f2zKqhFKKw9UDDpUcpo","electricPea",void 0);var H=l.ccclass,T=l.property,E=function(e){function t(){for(var t,o=arguments.length,n=new Array(o),i=0;i<o;i++)n[i]=arguments[i];return(t=e.call.apply(e,[this].concat(n))||this).ElectricInterval=.5,t.ElectricDamage=20,t.ElectricTargetCount=2,t}return o(t,e),t}(w);e("electricPea",(b=H("electricPea"),S=T(s),L=T(s),b((_=t((R=function(e){function t(){for(var t,o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return t=e.call.apply(e,[this].concat(a))||this,n(t,"footPar",_,i(t)),t.footPSD=void 0,n(t,"curvePar",j,i(t)),t._objdata=new E,t.eleCurveInterval=.5,t.eleCurveCD=0,t.eleCurveMaxTarget=2,t}o(t,e);var r=t.prototype;return r.characterOnEnable=function(){this.initialize(),this.maxPierceAmount=1/0,this.dealtTargetAmount=0,this.contactingEnemies=[],this.footPSD=null,this.eleCurveCD=.5},r.specialOnObjdataSet=function(e){this.maxPierceAmount=1/0,this.eleCurveInterval=this.eleCurveCD=this.objdataOwn.ElectricInterval,this.eleCurveMaxTarget=this.objdataOwn.ElectricTargetCount},r.spawnFootParticle=function(){var e=u.instantiatePooly(this.footPar);e.parent=this.node.parent,e.worldPosition=new c(this._worldPositionX,this._worldPositionY),e.setSiblingIndex(0),this.footPSD=e.getComponent(p),this.footPSD.HighRed=this.HighRed,this.footPSD.db.playAnimation("Idle",1/0)},r.characterOnDisable=function(){var e;null==(e=this.footPSD)||null==(e=e.db)||e.playAnimation("Die",1),this.footPSD=null},r.specialOnLaneChange=function(e,t){var o,n;null==(o=this.footPSD)||null==(o=o.node)||o.setParent(t.prjLayer),null==(n=this.footPSD)||null==(n=n.node)||n.setSiblingIndex(0)},r.detectCurveEnemies=function(){var e=this,t=v.createRectangleCenter(new h(this._worldPositionX,m.getLnC(this.lIndex,0).node.worldPosition.y),2*m.SquareWidth,2*m.SquareHeight),o=new C(this.objdataOwn.ElectricDamage,!0,!1,!1,null,y.electricity),n=0;g.randomize(this.inLane.UpperLane.zombiePool().concat(this.inLane.LowerLane.zombiePool(),this.inLane.zombiePool())).forEach((function(i){if(n<e.eleCurveMaxTarget&&t.judgeCrossRec(i.bodyRec)){n++;var a=P(e.curvePar);a.parent=i.inLane.prjLayer,a.worldPosition=new c(e._worldPositionX,e._worldPositionY+e._height,10);var r=new c(i.shadeSocket.worldPosition.x,i._worldPositionY+e.height,10),l=P(g.getRandom(e.PopParticle));l.parent=i.inLane.prjLayer,l.worldPosition=new c(r.x,r.y,10),l.getComponent(p).HighRed=e.HighRed;var s=r.clone().add(e.node.worldPosition.clone().negative());a.worldScale=new c(s.length()/160,e.node.worldScale.x,1),a.angle=90*Math.atan2(s.y,s.x)/d;var u=a.getComponent(D);u.toPos=new h(r.x,r.y),u.fromCharacter=e,u.HighRed=e.HighRed,o.shockRGB=e.HighRed>0?1:0,i.dealDamage(o),i.setStun(e.stun)}})),n<this.eleCurveMaxTarget&&this.inLane.UpperLane.tombPool().concat(this.inLane.LowerLane.tombPool(),this.inLane.tombPool()).forEach((function(i){if(n<e.eleCurveMaxTarget&&t.judgeCrossRec(i.bodyRec)){n++;var a=P(e.curvePar);a.parent=i.inLane.prjLayer,a.worldPosition=new c(e._worldPositionX,e._worldPositionY+e._height,10);var r=new c(i.shadeSocket.worldPosition.x,i._worldPositionY+e.height,10),l=P(g.getRandom(e.PopParticle));l.parent=i.inLane.prjLayer,l.worldPosition=new c(r.x,r.y,10),a.getComponent(p).HighRed=e.HighRed;var s=r.clone().add(e.node.worldPosition.clone().negative());a.worldScale=new c(s.length()/160,e.node.worldScale.x,1),a.angle=90*Math.atan2(s.y,s.x)/d;var u=a.getComponent(D);u.toPos=new h(r.x,r.y),u.fromCharacter=e,u.HighRed=e.HighRed,i.dealDamage(o)}})),n&&(this.playPopSound(),this.eleCurveCD=this.eleCurveInterval)},r.specialUpdate=function(e){this.footPSD||this.spawnFootParticle(),this.footPSD.node.worldPosition=new c(this._worldPositionX,this._worldPositionY),this.footPSD.node.scale=new c(this.node.scale.x,this.height/75),this.eleCurveCD>0?this.eleCurveCD-=e:this.detectCurveEnemies()},a(t,[{key:"objdataOwn",get:function(){return this._objdata}}]),t}(f)).prototype,"footPar",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=t(R.prototype,"curvePar",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=R))||x));r._RF.pop()}}}));

System.register("chunks:///_virtual/electricPeaMega.ts",["./rollupPluginModLoBabelHelpers.js","cc","./commonShot.ts","./NodePools.ts","./Character.ts","./ParticleSelfdestroy.ts","./Projectiles.ts"],(function(t){var e,o,n,i,r,a,s,l,c,h,u,d,f,P,p,g,y,S;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,n=t.initializerDefineProperty,i=t.assertThisInitialized,r=t.createClass,a=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){l=t.cclegacy,c=t._decorator,h=t.Prefab,u=t.Vec3,d=t.Vec2},function(t){f=t.commonShot},function(t){P=t.NodePools},function(t){p=t.CharacterType},function(t){g=t.ParticleSelfdestroy},function(t){y=t.ProjectileProps,S=t.ProjectileShootingFunctions}],execute:function(){var w,b,m,D,v;l._RF.push({},"e35cb1gTrZJSLgx8nCxeiNV","electricPeaMega",void 0);var C=c.ccclass,_=c.property,j=function(t){function e(){for(var e,o=arguments.length,n=new Array(o),i=0;i<o;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))||this).ChildPeaType="electricpea_small",e.ChildCount=6,e}return o(e,t),e}(y);t("electricPeaMega",(w=C("electricPeaMega"),b=_(h),w((v=e((D=function(t){function e(){for(var e,o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))||this)._objdata=new j,n(e,"footPar",v,i(e)),e.footPSD=void 0,e}o(e,t);var l=e.prototype;return l.specialOnLaneChange=function(t,e){var o,n;null==(o=this.footPSD)||null==(o=o.node)||o.setParent(e.prjLayer),null==(n=this.footPSD)||null==(n=n.node)||n.setSiblingIndex(0)},l.characterOnDisable=function(){var t;null==(t=this.footPSD)||null==(t=t.db)||t.playAnimation("Die",1),this.footPSD=null},l.onPop=function(){var t=a(s().mark((function t(){var e,o,n,i,r,a;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=this.HighRed,o=this.stun,n=0;case 3:if(!(n<this.objdataOwn.ChildCount)){t.next=13;break}return i=new d(Math.random()-.5,Math.random()-.5).normalize(),r=this.worldPosition.clone().add(i.clone().multiplyScalar(20)),t.next=8,S.shootOnePea(this.objdataOwn.ChildPeaType,r,this.height+1,this.node.parent,i.clone().multiplyScalar(8),p.zombie);case 8:a=t.sent,e>0&&(a.HighRed=e,a.setStun(o));case 10:n++,t.next=3;break;case 13:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),l.spawnFootParticle=function(){var t=P.instantiatePooly(this.footPar);t.parent=this.node.parent,t.worldPosition=new u(this._worldPositionX,this._worldPositionY),t.setSiblingIndex(0),this.footPSD=t.getComponent(g),this.footPSD.HighRed=this.HighRed,this.footPSD.db.playAnimation("Idle",1/0)},l.specialUpdate=function(t){this.footPSD||this.spawnFootParticle(),this.footPSD&&(this.footPSD.node.worldPosition=new u(this._worldPositionX,this._worldPositionY),this.footPSD.node.scale=new u(2*this.node.scale.x,this.height/75))},r(e,[{key:"objdataOwn",get:function(){return this._objdata}}]),e}(f)).prototype,"footPar",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=D))||m));l._RF.pop()}}}));

System.register("chunks:///_virtual/electricPeaPointer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ParticleSelfdestroy.ts"],(function(t){var e,r,o,i,n,a,c;return{setters:[function(t){e=t.inheritsLoose},function(t){r=t.cclegacy,o=t._decorator,i=t.Vec3,n=t.Vec2,a=t.HALF_PI},function(t){c=t.ParticleSelfdestroy}],execute:function(){var s;r._RF.push({},"92ebd75LA1F45Mybv+CV6zb","electricPeaPointer",void 0);var l=o.ccclass;o.property,t("electricPeaPointer",l("electricPeaPointer")(s=function(t){function r(){for(var e,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))||this).toPos=null,e.fromCharacter=null,e}e(r,t);var o=r.prototype;return o.specialOnEnable=function(){this.toPos=null,this.fromCharacter=null,this.node.scale=new i(0,this.node.scale.y,1)},o.specialUpdate=function(t){if(this.fromCharacter&&this.toPos){if(!this.fromCharacter.enabled)return this.fromCharacter=null,void(this.toPos=null);var e=this.toPos.clone().add(new n(this.fromCharacter._worldPositionX,this.fromCharacter._worldPositionY+this.fromCharacter._height).negative());this.node.worldPosition=new i(this.fromCharacter._worldPositionX,this.fromCharacter._worldPositionY+this.fromCharacter._height),this.node.scale=new i(e.length()/160,this.fromCharacter.node.worldScale.x,1),this.node.angle=90*Math.atan2(e.y,e.x)/a}},r}(c))||s);r._RF.pop()}}}));

System.register("chunks:///_virtual/ElectricPeashooter.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Peashooter.ts","./CharacterManager.ts","./ArrayGet.ts","./SoundRescourses.ts"],(function(o){var t,n,e,r,a,i,s,l,u,c,d,h,p,f;return{setters:[function(o){t=o.applyDecoratedDescriptor,n=o.inheritsLoose,e=o.initializerDefineProperty,r=o.assertThisInitialized},function(o){a=o.cclegacy,i=o._decorator,s=o.AudioClip,l=o.Vec2},function(o){u=o.peashooterSound,c=o.PeashooterPlant},function(o){d=o.ZombiePool,h=o.TombPool},function(o){p=o.ArrayGet},function(o){f=o.sounds}],execute:function(){var y,S,m,P,b,R,v,w,g,_,z,E,A,j;a._RF.push({},"f618dsR+RhGcLz5X0e8qG7Z","ElectricPeashooter",void 0);var F=i.ccclass,L=i.property,x=(y=F("electricPeashooterSound"),S=L([s]),m=L([s]),P=L(s),y((v=t((R=function(o){function t(){for(var t,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return t=o.call.apply(o,[this].concat(a))||this,e(t,"foodShootSounds",v,r(t)),e(t,"shootStartSounds",w,r(t)),e(t,"randomSound",g,r(t)),t}n(t,o);var a=t.prototype;return a.playFoodShoot=function(){f.playArray(this.foodShootSounds,1,.1)},a.playShootStart=function(){f.playOneShot(p.getRandom(this.shootStartSounds),.5,.2)},a.playRandom=function(){f.playOneShot(this.randomSound,1,.5)},t}(u)).prototype,"foodShootSounds",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),w=t(R.prototype,"shootStartSounds",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),g=t(R.prototype,"randomSound",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=R))||b);o("ElectricPeashooter",(_=F("ElectricPeashooter"),z=L(x),_((j=t((A=function(o){function t(){for(var t,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(t=o.call.apply(o,[this].concat(a))||this).minShootInterval=2.4,e(t,"soundRes",j,r(t)),t}n(t,o);var a=t.prototype;return a.animationListener=function(o){var t=this;if("shootStart"==o.name)this.soundRes.playShootStart();else if("Shoot"==o.name)this.soundRes.playShootSound(),this._shoot(!1,!1,this._objdataOwn.PeaType,3,new l(1,0));else if("foodShoot"==o.name){this.soundRes.playFoodShoot();for(var n=function(){var o=null,n=1/0;d.pool().length&&p.getRandom(d.pool()).inLane.zombiePool().forEach((function(e){var r=e.bodyRec.prjX();r.y>t._worldPositionX&&r.x<n&&(o=e,n=r.x)}));!o&&h.pool().length&&p.getRandom(h.pool()).inLane.tombPool().forEach((function(e){var r=e.bodyRec.prjX();r.y>t._worldPositionX&&r.x<n&&(o=e,n=r.x)}));var e=new l(1,0);e=o?o.worldPosition.clone().add(t.worldPosition.clone().negative()):new l(1,Math.random()-.5),t._shoot(!1,!1,t._objdataOwn.PeaTypePlantfood,11,e)},e=0;e<this._objdataOwn.PlantfoodPeaCount;e++)n()}else"foodEnd"==o.name?this.foodEnd():"rand"==o.name&&this.soundRes.playRandom()},a.specialPlantFood=function(o){this.anmControl.playAnimation("Food",1)},t}(c)).prototype,"soundRes",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new x}}),E=A))||E));a._RF.pop()}}}));

System.register("chunks:///_virtual/ElectronAPI.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var n,t,r,i;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy,r=e._decorator,i=e.Component}],execute:function(){var o;t._RF.push({},"36a7d3zGF5EObC1EAYiqHKr","ElectronAPI",void 0);var l=r.ccclass,c=(r.property,window.electron);e("default",l("ElectronAPI")(o=function(e){function t(){return e.apply(this,arguments)||this}return n(t,e),t.center=function(){null==c||c.ipcRenderer.send("e_center")},t.fullScreen=function(){null==c||c.ipcRenderer.send("e_fullScreen")},t.window=function(){null==c||c.ipcRenderer.send("e_window"),this.setSize(1024,640)},t.openURL=function(e){null==c||c.ipcRenderer.send("e_openURL",e)},t.openDevTools=function(){null==c||c.ipcRenderer.send("e_openDevTools")},t.closeDevTools=function(){null==c||c.ipcRenderer.send("e_closeDevTools")},t.setSize=function(e,n){null==c||c.ipcRenderer.send("e_setSize",e.toString(),n.toString())},t.setResolution=function(e,n){null==c||c.ipcRenderer.send("e_setResolution",e.toString(),n.toString())},t.isFullScreen=function(){return!!c&&c.ipcRenderer.sendSync("e_isFullScreen")},t.setScreenResolution=function(e,n){1==this.isFullScreen()?this.setResolution(e,n):this.setSize(e,n)},t.nircmdUD=function(e){null==c||c.ipcRenderer.send("e_nircmdUD",e)},t.getMassage=function(){return null==c?void 0:c.ipcRenderer.sendSync("e_getMassage")},t.getAllResolutions=function(){return null==c?void 0:c.ipcRenderer.sendSync("e_getAllResolutions")},t.getCurrentResolution=function(){return null==c?void 0:c.ipcRenderer.sendSync("e_getCurrentResolution")},t.quit=function(){null==c||c.ipcRenderer.send("e_quit")},t}(i))||o);t._RF.pop()}}}));

System.register("chunks:///_virtual/EMPeach.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CherryBomb.ts","./NodePools.ts","./SoundRescourses.ts","./CharacterManager.ts","./Square.ts","./levelController.ts"],(function(e){var n,t,o,i,r,a,u,c,l,s,h,p,d,f,b,y;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,u=e.Prefab,c=e.AudioClip,l=e.Vec3},function(e){s=e.CherryBombPlant,h=e.CherryBombProps},function(e){p=e.instantiatePooly},function(e){d=e.sounds},function(e){f=e.Rectangle},function(e){b=e.Square},function(e){y=e.LevelPlay}],execute:function(){var P,L,S,g,m,x,w,C,R;r._RF.push({},"60db15rnXpPF4d6TICzp7/t","EMPeach",void 0);var v=a.ccclass,E=a.property,O=1,j=function(e){function n(){for(var n,t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];return(n=e.call.apply(e,[this].concat(o))||this).StunDuration=10,n}return t(n,e),n}(h);e("EMPeachPlant",(P=v("EMPeachPlant"),L=E(u),S=E(c),g=E(c),P((w=n((x=function(e){function n(){for(var n,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return(n=e.call.apply(e,[this].concat(r))||this)._objdataOwn=new j,o(n,"explParPrefab",w,i(n)),o(n,"explSound",C,i(n)),o(n,"explReadySound",R,i(n)),n}t(n,e);var r=n.prototype;return r.specialCherryBombOnEnable=function(){O%4==0&&d.playOneShot(this.explReadySound,1,.1),O++},r.explode=function(){var e,n=this;if(null!=(e=this.inLnC)&&e.isInLawn()){var t=f.createRectangleNodeCenter(this.inLnC.node,3*b.SquareWidth,5*b.SquareHeight),o=f.createRectangleNodeCenter(this.inLnC.node,5*b.SquareWidth,3*b.SquareHeight),i=[],r=[];[this.inLane,this.inLane.UpperLane,this.inLane.LowerLane].forEach((function(e){e.zombiePool().forEach((function(e){-1==i.indexOf(e)&&o.judgeCrossRec(e.bodyRec)&&i.push(e)})),e.tombPool().forEach((function(e){-1==r.indexOf(e)&&o.judgeCrossRec(e.bodyRec)&&r.push(e)}))})),[this.inLane.UpperLane.UpperLane,this.inLane.LowerLane.LowerLane].forEach((function(e){e.zombiePool().forEach((function(e){-1==i.indexOf(e)&&t.judgeCrossRec(e.bodyRec)&&i.push(e)})),e.tombPool().forEach((function(e){-1==r.indexOf(e)&&t.judgeCrossRec(e.bodyRec)&&r.push(e)}))})),i.forEach((function(e){e.empStun(n._objdataOwn.StunDuration)})),r.forEach((function(e){e.empStun(n._objdataOwn.StunDuration)})),d.playOneShot(this.explSound,1,.1),y.shakeScreen();var a=p(this.explParPrefab);a.parent=b.getLane(Math.min(4,this.inLane.LaneIndex+2)).prjLayer,a.worldPosition=new l(this.worldPositionX,this.worldPositionY,10)}},r.animationListener=function(e){"explode"==e.name&&(this.explode(),this.deathAnm="Death",this.die(!0,!0,!1))},n}(s)).prototype,"explParPrefab",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=n(x.prototype,"explSound",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=n(x.prototype,"explReadySound",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=x))||m));r._RF.pop()}}}));

System.register("chunks:///_virtual/endangeredTile.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Tile.ts","./GridItem.ts","./Tiles.ts"],(function(e){var n,t,r,i,o,c;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy,r=e._decorator},function(e){i=e.Tile},function(e){o=e.GridItemEnum},function(e){c=e.TileEnum}],execute:function(){var l;t._RF.push({},"28b79pbpbVObLedmHkyXnTa","endangeredTile",void 0);var a=r.ccclass;r.property,e("endangeredTile",a("endangeredTile")(l=function(e){function t(){for(var n,t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return(n=e.call.apply(e,[this].concat(r))||this).tileID=c.endangered,n}return n(t,e),t.prototype.onLnCChange=function(e,n){var t;null==(t=this.gridItemCP)||t.setGridItemType([o.protect_plant])},t}(i))||l);t._RF.pop()}}}));

System.register("chunks:///_virtual/EndlessZoneEntrance.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PlayerProperties.ts","./MultiLanguage.ts","./KeyListener.ts","./ButtonWithSounds.ts","./SoundRescourses.ts","./WorldMap.ts"],(function(e){var n,t,r,i,a,l,o,s,u,c,p,d,g,b,f,h,y,m,v,L,D;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized,a=e.createClass},function(e){l=e.cclegacy,o=e._decorator,s=e.Enum,u=e.dragonBones,c=e.Node,p=e.Label,d=e.AudioClip,g=e.Component},function(e){b=e.WorldMapSceneDisplayEnum,f=e.AllPlayerProperties,h=e.LevelProgress},function(e){y=e.MultiLanguage},function(e){m=e.KeyListener},function(e){v=e.ButtonWithSounds},function(e){L=e.sounds},function(e){D=e.WorldMap}],execute:function(){var E,B,k,M,N,P,w,I,S,z,A,C,Z,_,G,W,K,R,T;l._RF.push({},"992c6fTKlBKvZA/ag/FgwVe","EndlessZoneEntrance",void 0);var U=o.ccclass,F=o.property;s(b);e("EndlessZoneEntrance",(E=U("EndlessZoneEntrance"),B=F([String]),k=F(u.ArmatureDisplay),M=F(c),N=F(p),P=F(p),w=F({type:b}),I=F(Boolean),S=F(d),E((C=n((A=function(e){function n(){for(var n,t=arguments.length,a=new Array(t),l=0;l<t;l++)a[l]=arguments[l];return n=e.call.apply(e,[this].concat(a))||this,r(n,"levelsID",C,i(n)),r(n,"islandDB",Z,i(n)),r(n,"EntranceButton",_,i(n)),r(n,"LevelNumberLabel",G,i(n)),r(n,"LevelNameLabel",W,i(n)),r(n,"endlessData",K,i(n)),r(n,"isMiniGame",R,i(n)),n.data=null,r(n,"unlockSound",T,i(n)),n.unlocked=!1,n}t(n,e);var l=n.prototype;return l.onLoad=function(){var e=this;this.EntranceButton.on(c.EventType.TOUCH_END,(function(){var n;e.enterable&&e.unlocked&&(m.goToLevel(e.levelsID),null==(n=e.EntranceButton.getComponent(v))||n.playUnpress())}))},l.getLevelName=function(e){var n=this.isMiniGame?"EndlessZoneMiniGameName":"EndlessZoneName",t=function(e){return y.getString(y.getWorldMapLyrics(e)[n])};switch(e){case b.egypt:return t("Egypt");case b.pirate:return t("Pirate");case b.cowboy:return t("Cowboy");case b.future:return t("Future");case b.dark:return t("Dark");case b.beach:return t("Beach");case b.iceage:return t("Iceage");case b.lostcity:return t("Lostcity");case b.eighties:return t("Eighties");case b.dino:return t("Dino");case b.modern:return t("Modern");case b.kongfu:return t("Kongfu");default:return""}},l.start=function(){var e=f[this.isMiniGame?"getDangerRoomMiniGameProperty":"getDangerRoomProperty"](this.endlessData);this.data=e,this.judgeUnlock(),this.enterable&&this.unlocked?(this.LevelNameLabel.string=this.getLevelName(this.endlessData),this.LevelNumberLabel.string=e.level.toString()):(this.LevelNameLabel.string="",this.LevelNumberLabel.string="")},l.judgeUnlock=function(){var e=this,n=this.levelsID.some((function(e){return f.getLevelProgressByID(e).progress==h.unlocked_neverPlayed})),t=this.levelsID.some((function(e){return f.getLevelProgressByID(e).progress>0}));if(t&&this.scheduleOnce((function(){e.levelsID.forEach((function(e){f.getLevelProgressByID(e).progress=h.finished}))}),4),this.islandDB.playAnimation(t?"Idle":"Idle_Locked",1/0),this.unlocked=t,n){var r,i=null==(r=this.node)||null==(r=r.parent)||null==(r=r.parent)?void 0:r.getComponent(D);i&&(i.mapX=-this.node.position.x*this.node.parent.scale.x),this.islandDB.playAnimation("Unlock",1/0),L.playOneShot(this.unlockSound,1,.1)}},a(n,[{key:"enterable",get:function(){return!0}}]),n}(g)).prototype,"levelsID",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Z=n(A.prototype,"islandDB",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=n(A.prototype,"EntranceButton",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=n(A.prototype,"LevelNumberLabel",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=n(A.prototype,"LevelNameLabel",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=n(A.prototype,"endlessData",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),R=n(A.prototype,"isMiniGame",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),T=n(A.prototype,"unlockSound",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=A))||z));l._RF.pop()}}}));

System.register("chunks:///_virtual/Endurian.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./CharacterManager.ts","./SoundRescourses.ts","./levelController.ts"],(function(t){var a,n,i,s,e,o,r,h,l,c,u,m,d,f;return{setters:[function(t){a=t.inheritsLoose,n=t.applyDecoratedDescriptor,i=t.initializerDefineProperty,s=t.assertThisInitialized,e=t.createClass},function(t){o=t.cclegacy,r=t._decorator,h=t.AudioClip},function(t){l=t.PlantProps,c=t.Plant},function(t){u=t.ZombieDamageDetails,m=t.ZombieDamageType},function(t){d=t.sounds},function(t){f=t.LevelPlay}],execute:function(){var b,g,p,S,A,y,E,_,D,v,I,w;o._RF.push({},"1c412VntEBH6r15BPTZaJUB","Endurian",void 0);var k=r.ccclass,P=r.property,R=t("EndurianProps",function(t){function n(){for(var a,n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(a=t.call.apply(t,[this].concat(i))||this).ArmorToughness=6e3,a.StabInterval=.5,a.StabDamage=10,a.StabDamagePFExtra=5,a}return a(n,t),n}(l)),C=t("endurianSound",(b=k("endurianSound"),g=P(h),p=P([h]),b((y=n((A=function(){function t(){i(this,"food",y,this),i(this,"stab",E,this)}var a=t.prototype;return a.playFood=function(){d.playOneShot(this.food,1,.1)},a.playStab=function(){d.playArray(this.stab,1,.1)},t}()).prototype,"food",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=n(A.prototype,"stab",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),S=A))||S));t("EndurianPlant",(_=k("EndurianPlant"),D=P(C),_((w=n((I=function(t){function n(){for(var a,n=arguments.length,e=new Array(n),o=0;o<n;o++)e[o]=arguments[o];return(a=t.call.apply(t,[this].concat(e))||this)._armor0Slots=[],a._armor1Slots=[],a._armor2Slots=[],a._objdataOwn=new R,a.stabCD=0,a.armorHealth=0,i(a,"soundRes",w,s(a)),a.armorStage=3,a.stabbing=!1,a.hurtStage=0,a.stabStartAnm="AttackStart0",a.stabEndAnm="AttackEnd0",a.switching=!1,a}a(n,t);var o=n.prototype;return o.specialPlantOnLoad=function(){var t=this;this.anmControl.db.armature().getSlots().forEach((function(a){a.name.includes("ARMOR0")?t._armor0Slots.push(a):a.name.includes("ARMOR1")?t._armor1Slots.push(a):a.name.includes("ARMOR2")&&t._armor2Slots.push(a)}))},o.normalSmash=function(t){this.fooding||this.invincible||(this.armorHealth>0?(this.armorHealth=0,this.foodable=!0,this.setArmor()):this.die())},o.beghouledMatchNow=function(t){var a=t.filter((function(t){var a=t;return a.fooding||a.armorHealth>0}));return this.armorHealth<=0||a.length>=3},o.beghouledMatchSunCountExtra=function(t){var a=0;return t.forEach((function(t){t.armorHealth>0&&(a+=1)})),a},o.replantable=function(){return this.hurtStage>0},o.replant=function(){this.health=this.toughness,this.setAnimation()},o.animationOnComplete=function(){this.switching=!1},o.specialPlantOnEnable=function(){this.foodable=!0,this.hurtStage=1,this.switching=!1,this.stabbing=!1,this.setAnimation(),this.armorStage=3,this.setArmor(),this.armorHealth=0},o.animationListener=function(t){"foodEnd"==t.name?this.foodEnd():"armor"==t.name?(this.setArmor(0),this.armorHealth=this.armorToughness):"stab"==t.name&&this.soundRes.playStab()},o.waterable=function(){return 0==this.hurtStage&&0!=this.armorStage&&!this.stabbing&&!this.switching},o.specialPlantUpdateForce=function(t,a,n){this.stabbing&&!f.gaming&&this.isAlive()&&this.stabEnd()},o.specialPlantUpdate=function(t,a,n){var i=this;if(!this.fooding&&(this.stabCD-=t,this.stabCD<=0)){var s,e=!1;this.stabCD=this._objdataOwn.StabInterval*this._cdScale;var o=new u((this._objdataOwn.StabDamage+(this.armorStage<3?this._objdataOwn.StabDamagePFExtra:0))*this._dmgScale,!0,!0,!0,null,m.physicle);null==(s=this.inLane)||null==(s=s.zombiePool())||s.filter((function(t){var a;return null==(a=i.inLnC)||null==(a=a.rec)?void 0:a.judgeCrossRec(t.bodyRec)})).forEach((function(t){e=!0,t.dealDamage(o)})),this.switching||(n>0&&e?this.stabStart():this.stabEnd())}},o.specialPlantOnKilled=function(){this.setArmor()},o.setArmor=function(t){void 0===t&&(t=3);this.armorStage;switch(this.armorStage=t,t){case 0:this._armor0Slots.forEach((function(t){t._setDisplayIndex(0)})),this._armor1Slots.forEach((function(t){t._setDisplayIndex(-1)})),this._armor2Slots.forEach((function(t){t._setDisplayIndex(-1)}));break;case 1:this._armor1Slots.forEach((function(t){t._setDisplayIndex(0)})),this._armor0Slots.forEach((function(t){t._setDisplayIndex(-1)})),this._armor2Slots.forEach((function(t){t._setDisplayIndex(-1)}));break;case 2:this._armor2Slots.forEach((function(t){t._setDisplayIndex(0)})),this._armor0Slots.forEach((function(t){t._setDisplayIndex(-1)})),this._armor1Slots.forEach((function(t){t._setDisplayIndex(-1)}));break;default:this.armorStage=3,this._armor0Slots.forEach((function(t){t._setDisplayIndex(-1)})),this._armor1Slots.forEach((function(t){t._setDisplayIndex(-1)})),this._armor2Slots.forEach((function(t){t._setDisplayIndex(-1)}))}},o.dealNormalDamage=function(t,a){if(!this.invincible){var n=this.health+0;if(this.armorHealth>0){var i=this.armorHealth+0;this.armorHealth-=t,this.armorHealth!=this.armorToughness&&(this.foodable=!0);for(var s=0;s<=3;s++)i>=this.toughness/3*s&&this.armorHealth<=this.toughness/3*s&&this.setArmor(3-s)}else this.health-=t,t>0&&(this.hurting=this.defaultHurtLightStrength(0==a),this.onDamaged(t,n,this.health+0)),this.health<=0&&this.die();return this.health}},o.specialWallnutOnDamaged=function(t,a,n){},o.onDamaged=function(t,a,n){for(var i=1;i<=4;i++)if(n<=this.toughness/4*i){this.setAnimation(4-i);break}this.specialWallnutOnDamaged(t,a,n)},o.specialPlantFood=function(t){this.soundRes.playFood(),this.foodable=!1,this.setAnimation(0),this.anmControl.playAnimation("Food",1)},o.setAnimation=function(t){void 0===t&&(t=0),this.hurtStage=t;var a,n=this.anmControl;switch(t){case 1:this.stabStartAnm="AttackStart1",this.stabEndAnm="AttackEnd1",n.IdleAnim=this.stabbing?"AttackLoop1":"Idle10",n.RandomAnim=[],this.deathAnm="Death1";break;case 2:this.stabStartAnm="AttackStart2",this.stabEndAnm="AttackEnd2",n.IdleAnim=this.stabbing?"AttackLoop2":"Idle20",n.RandomAnim=[],this.deathAnm="Death2";break;case 3:this.stabStartAnm="AttackStart3",this.stabEndAnm="AttackEnd3",n.IdleAnim=this.stabbing?"AttackLoop3":"Idle30",n.RandomAnim=[],this.deathAnm="Death3";break;default:this.hurtStage=0,this.stabStartAnm="AttackStart0",this.stabEndAnm="AttackEnd0",n.IdleAnim=this.stabbing?"AttackLoop0":"Idle00",n.RandomAnim=this.stabbing?[]:["Idle01"],this.deathAnm="Death0"}this.dead||(this.switching||this.stabbing||n.playIdle(),this.replantable()&&(null==(a=this.plantInLnC)||a.readIndex()))},o.stabStart=function(){this.stabbing||(this.stabbing=!0,this.switching=!0,this.setAnimation(this.hurtStage),this.anmControl.playAnimation(this.stabStartAnm,1))},o.stabEnd=function(){this.stabbing&&(this.stabbing=!1,this.switching=!0,this.setAnimation(this.hurtStage),this.anmControl.playAnimation(this.stabEndAnm,1))},e(n,[{key:"armorToughness",get:function(){return this._objdataOwn.ArmorToughness}}]),n}(c)).prototype,"soundRes",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new C}}),v=I))||v));o._RF.pop()}}}));

System.register("chunks:///_virtual/EscapeRoot.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SniperPlant.ts","./Plant.ts","./ArrayGet.ts","./Square.ts","./Character.ts","./SoundRescourses.ts","./CharacterManager.ts","./Projectiles.ts","./levelController.ts"],(function(t){var n,e,i,a,o,r,s,l,h,u,c,p,d,f,m,g,w,y,S,b,C,P,A;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,a=t.assertThisInitialized,o=t.createClass,r=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){l=t.cclegacy,h=t._decorator,u=t.AudioClip,c=t.Prefab,p=t.CCInteger,d=t.Vec2},function(t){f=t.SniperPlant},function(t){m=t.PlantProps},function(t){g=t.ArrayGet},function(t){w=t.Square},function(t){y=t.CharacterType},function(t){S=t.sounds},function(t){b=t.Rectangle,C=t.ZombiePool},function(t){P=t.ProjectileShootingFunctions},function(t){A=t.LevelPlay}],execute:function(){var _,D,L,x,v,R,E,k,I,T,z,B,O,j,M,G,q,F,Q,U,W,H,N,K,V,Y,Z,J,X,$;l._RF.push({},"76f54fvGIdL1K9kBQYgehQ+","EscapeRoot",void 0);var tt=h.ccclass,nt=h.property,et=(_=tt("escaperootSound"),D=nt([u]),L=nt([u]),x=nt([u]),v=nt([u]),R=nt([u]),E=nt([u]),k=nt([u]),_((z=n((T=function(){function t(){i(this,"burrowSounds",z,this),i(this,"digEndSounds",B,this),i(this,"wrapSounds",O,this),i(this,"unwrapSounds",j,this),i(this,"unwrapQuickSounds",M,this),i(this,"spawnSounds",G,this),i(this,"locateSounds",q,this)}var n=t.prototype;return n.playBurrow=function(){S.playArray(this.burrowSounds,1,.1)},n.playDigEnd=function(){S.playArray(this.digEndSounds,1,.1)},n.playWrap=function(){S.playArray(this.wrapSounds,1,.1)},n.playUnwrap=function(){S.playArray(this.unwrapSounds,1,.1)},n.playUnwrapQuick=function(){S.playArray(this.unwrapQuickSounds,1,.1)},n.playSpawn=function(){S.playArray(this.spawnSounds,1,.1)},n.playLocate=function(){S.playArray(this.locateSounds,1,.1)},t}()).prototype,"burrowSounds",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B=n(T.prototype,"digEndSounds",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=n(T.prototype,"wrapSounds",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j=n(T.prototype,"unwrapSounds",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),M=n(T.prototype,"unwrapQuickSounds",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),G=n(T.prototype,"spawnSounds",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),q=n(T.prototype,"locateSounds",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),I=T))||I),it=function(t){function n(){for(var n,e=arguments.length,i=new Array(e),a=0;a<e;a++)i[a]=arguments[a];return(n=t.call.apply(t,[this].concat(i))||this).ChargeTime=10,n.Damage=1800,n.GrapeType="grapeshot",n}return e(n,t),n}(m);t("EscapeRootPlant",(F=tt("EscapeRootPlant"),Q=nt(et),U=nt(c),W=nt([u]),H=nt(u),N=nt(p),F((Y=n((V=function(t){function n(){for(var n,e=arguments.length,o=new Array(e),r=0;r<e;r++)o[r]=arguments[r];return n=t.call.apply(t,[this].concat(o))||this,i(n,"soundRes",Y,a(n)),n._objdataOwn=new it,n.switching=!1,n.readyStartAnm="Ready_Start",n.readyLoopAnm="Ready_Loop",n.digStartAnm="Dig_Start",n.digLoopAnm="Dig_Loop",n.idleAnm="Idle",n.randomAnm=["Random"],n._grown=!1,n.growingCD=10,n.PP_Slot=void 0,n.PM_Slot=void 0,n.CB_Slot=void 0,n.GS_Slot=void 0,n.shownSlot=void 0,n.showPlantType=0,i(n,"grapeExplParticle",Z,a(n)),i(n,"grapeExplSounds",J,a(n)),i(n,"cherryChargeSound",X,a(n)),n.detector=void 0,i(n,"foodThrowCount",$,a(n)),n.foodLeftCount=2,n.foodThrowCD=3,n}e(n,t);var l=n.prototype;return l.animationListener=function(t){var n;if("Explode"==t.name)this.explode(),null==(n=this.shownSlot)||null==(n=n.childArmature)||null==(n=n.animation)||n.play("Idle");else if("Show"==t.name)this.showExplosivePlant(Math.floor(4*Math.random()));else if("charge"==t.name){var e;null==(e=this.shownSlot)||null==(e=e.childArmature)||null==(e=e.animation)||e.play("Attack"),this.showPlantType>=2&&S.playOneShot(this.cherryChargeSound,1,.2)}else"unWrapSound"==t.name&&this.soundRes.playUnwrapQuick()},l.onObjdataSet=function(t,n){this.growingCD=n.ChargeTime*this._cdScale},l.specialSniperPlantOnEnable=function(){this.eaterDetectable=!0,this.smasherDetectable=!0,this.switching=!1,this.grown=!1,this.anmControl.playAnimation("Baby_Start",1,0,1),this.growingCD=this._objdataOwn.ChargeTime*this._cdScale,this.shownSlot=null,[this.GS_Slot,this.PP_Slot,this.PM_Slot,this.CB_Slot].forEach((function(t){null==t||t._setDisplayIndex(-1)})),this.soundRes.playSpawn()},l.animationOnComplete=function(){this.switching=!1},l.spawnChild=function(){var t=r(s().mark((function t(n,e){var i,a,o,r=this;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.forEach((function(t){t.leapTo(r.plantInLnC,0,0,!1,!1)})),t.next=3,e.SpawnPlant(this.ID,!0,!1,!0,!1);case 3:a=t.sent,this.deathAnm="Death_Silently",this.playSoundWhenCancel=!1,o=this.endangered,null==(i=A.component)||i.replaceEndangeredPlant(this,a),this.die(!0,!1,!1),this.node.setSiblingIndex(this.node.parent.children.length),a.grown=!0,a.endangered=o,a.anmControl.playAnimation("Dig_End",1,0,1),a.soundRes.playDigEnd(),a.switching=!0;case 15:case"end":return t.stop()}}),t,this)})));return function(n,e){return t.apply(this,arguments)}}(),l.specialSniperPlantTrigger=function(t){var n=this,e=t.putPlantAvailable(!1,this.ID),i=[];e&&(t.plantInSquare.length?t.plantInSquare.concat().forEach((function(t){e&&(t.leapDisable()||!n.plantInLnC.putPlantAvailable(!1,t.ID,!0)||t==n||t.endangered||n.sheepend&&t.objdataOwn.CannotBeSheepenedByWizard?e=!1:i.push(t))})):e=!1),e?this.spawnChild(i,t):this.locateCancel()},l.sniperPlantLocatable=function(){return!this.switching&&!this.fooding},l.specialSniperPlantLocateStart=function(){this.anmControl.IdleAnim=this.readyLoopAnm,this.anmControl.RandomAnim=[],this.anmControl.playAnimation(this.readyStartAnm,1,0,1),this.soundRes.playLocate()},l.specialSniperPlantLocateCancel=function(){this.anmControl.IdleAnim=this.idleAnm,this.anmControl.RandomAnim=this.randomAnm,this.anmControl.playIdle()},l.waterable=function(){return this.grown&&!this.switching&&!this.locatorNode},l.grow=function(){this.eaterDetectable=!1,this.smasherDetectable=!1,this.grown=!0,this.switching=!0,this.anmControl.playAnimation("Baby_End",1,0,1),this.soundRes.playUnwrap()},l.specialPlantUpdate=function(t,n,e){this.locatorNode||this.switching||this.grown||(this.growingCD-=t,this.growingCD<=0&&this.grow()),e>0&&this.grown&&!this.switching&&!this.fooding&&!this.sheepend&&this.detectEnemy()},l.specialSniperUpdateForce=function(t,n,e){var i=this;this.fooding&&(this.foodThrowCD-=t,this.foodThrowCD<=0&&(this.foodLeftCount<=0?this.foodEnd():this.throwOneChild().then((function(t){t&&(i.foodThrowCD=3,i.foodLeftCount--)}))))},l.specialPlantFoodEnd=function(){this.anmControl.playAnimation("Dig_End",1,0,1),this.anmControl.IdleAnim=this.idleAnm,this.anmControl.RandomAnim=this.randomAnm,this.soundRes.playDigEnd()},l.specialPlantOnLoad=function(){var t=this;this.anmControl.db.armature().getSlots().forEach((function(n){"PPM"==n.name?t.PP_Slot=n:"PM"==n.name?t.PM_Slot=n:"GS"==n.name?t.GS_Slot=n:"CB"==n.name&&(t.CB_Slot=n)}))},l.showExplosivePlant=function(t){var n,e;this.showPlantType=t;var i=this.PM_Slot;switch(t){case 1:i=this.PP_Slot;break;case 2:i=this.CB_Slot;break;case 3:i=this.GS_Slot}null==(n=i)||n._setDisplayIndex(0),this.shownSlot=i,null==(e=this.shownSlot)||null==(e=e.childArmature)||null==(e=e.animation)||e.play("Idle")},l.explode=function(){var t=this._objdataOwn.Damage*this._dmgScale;switch(this.showPlantType){case 1:this.inLnC.explodeSpudow3x3(t);break;case 2:this.inLnC.explodeCherry3x3(t,!0);break;case 3:this.inLnC.explodeCherry3x3(t,!1,this.grapeExplParticle,g.getRandom(this.grapeExplSounds)),this.grapeShoot();break;default:this.inLnC.explodeSqudow1x1(t)}},l.grapeShoot=function(){var t=r(s().mark((function t(){var n,e,i,a,o,r,l,h,u,c,p;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=this._objdataOwn.GrapeType,e=this.worldPosition,i=Math.max(1,this.height+21),a=this.inLane.prjLayer,o=0,r=[-1,0,1];case 5:if(!(o<r.length)){t.next=20;break}l=r[o],h=0,u=[-1,0,1];case 8:if(!(h<u.length)){t.next=17;break}if(c=u[h],0!=l||0!=c){t.next=12;break}return t.abrupt("continue",14);case 12:p=new d(l,c*w.SquareHeight/w.SquareWidth).multiplyScalar(15),P.shootOnePea(n,e,i,a,p,y.zombie);case 14:h++,t.next=8;break;case 17:o++,t.next=5;break;case 20:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),l.specialPlantOnSquareChange=function(t,n){this.detector=b.createRectangleNodeCenter(n.node,w.SquareWidth,w.SquareHeight),this.foodParent=this.plantInLnC.plantPoint},l.detectEnemy=function(){var t,n=this,e=!1;null==(t=this.inLane)||t.zombiePool().forEach((function(t){e||t.flying||!t.plantDetectorRecForPotatoMine.judgeCrossRec(n.bodyRec)&&!t.bodyRec.judgeCrossRec(n.detector)||(e=!0)})),e&&(this.switching=!0,this.die())},l.specialSniperFood=function(t){this.anmControl.playAnimation(this.digStartAnm,1,0,1),this.grown=!0,this.anmControl.IdleAnim=this.digLoopAnm,this.anmControl.RandomAnim=[],this.foodLeftCount=this.foodThrowCount,this.foodThrowCD=.5},l.throwOneChild=function(){var t=r(s().mark((function t(){var n,e,i,a,o,r;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=!1,e=this.plantInLnC,!C.inLawnPool().length){t.next=12;break}i=g.randomize(C.inLawnPool()),a=0;case 5:if(!(a<i.length)){t.next=12;break}if(i[a].flying||!i[a].inLnC.isInLawn()||!i[a].inLnC.putPlantAvailable(!1,this.ID)){t.next=9;break}return e=i[a].inLnC,t.abrupt("break",12);case 9:a++,t.next=5;break;case 12:return t.next=14,e.SpawnPlant(this.ID,!0,!1,!1);case 14:if(!(o=t.sent)){t.next=21;break}n=!0,o.deathAnm="Death_Dig_End",o.die(!0,!1,!1),t.next=28;break;case 21:if(e!=this.plantInLnC){t.next=28;break}return t.next=24,e.SpawnPlant(this.ID,!1,!1,!1);case 24:r=t.sent,n=!0,r.deathAnm="Death_Dig_End",r.die(!0,!1,!1);case 28:return t.abrupt("return",n);case 29:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),o(n,[{key:"grown",get:function(){return this._grown},set:function(t){this.readyStartAnm=t?"Ready_Start":"Baby_Ready_Start",this.readyLoopAnm=t?"Ready_Loop":"Baby_Ready_Loop",this.digStartAnm=t?"Dig_Start":"Baby_Dig_Start",this.idleAnm=t?"Idle":"Baby_Loop",this.randomAnm=t?["Random"]:[],this.anmControl.IdleAnim=this.idleAnm,this.anmControl.RandomAnim=this.randomAnm,this.deathAnm=t?"Death":"Baby_Death",this.eaterDetectable=!t,this.smasherDetectable=!t,this._grown=t}}]),n}(f)).prototype,"soundRes",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new et}}),Z=n(V.prototype,"grapeExplParticle",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=n(V.prototype,"grapeExplSounds",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),X=n(V.prototype,"cherryChargeSound",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=n(V.prototype,"foodThrowCount",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),K=V))||K));l._RF.pop()}}}));

System.register("chunks:///_virtual/ExplodeONut.ts",["./rollupPluginModLoBabelHelpers.js","cc","./WallNut.ts","./SoundRescourses.ts"],(function(t){var n,e,a,i,o,r,l,s,u,d;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,a=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){o=t.cclegacy,r=t._decorator,l=t.AudioClip},function(t){s=t.WallNutPlant,u=t.WallnutProps},function(t){d=t.sounds}],execute:function(){var h,c,p,m,f;o._RF.push({},"75559DG/TFO15Yqsd6uHojz","ExplodeONut",void 0);var g=r.ccclass,A=r.property,y=function(t){function n(){for(var n,e=arguments.length,a=new Array(e),i=0;i<e;i++)a[i]=arguments[i];return(n=t.call.apply(t,[this].concat(a))||this).Damage=1800,n.ArmorDamage=1800,n}return e(n,t),n}(u);t("ExplodeONutPlant",(h=g("ExplodeONutPlant"),c=A([l]),h((f=n((m=function(t){function n(){for(var n,e=arguments.length,o=new Array(e),r=0;r<e;r++)o[r]=arguments[r];return(n=t.call.apply(t,[this].concat(o))||this)._objdataOwn=new y,a(n,"explCountdownSounds",f,i(n)),n}e(n,t);var o=n.prototype;return o.onArmorDestroy=function(){var t=this._dmgScale*this._objdataOwn.ArmorDamage;this.inLnC.explodeCherry3x3(t,!1)},o.specialPlantOnKilled=function(){var t=this._dmgScale*this._objdataOwn.Damage;this.inLnC.explodeCherry3x3(t,!1)},o.setAnimation=function(t){if(void 0===t&&(t=0),this.hurtStage!=t){this.hurtStage=t;var n,e=this.anmControl;switch(t){case 1:e.IdleAnim="Rand21",e.RandomAnim=["Rand22"],this.deathAnm="";break;case 2:e.IdleAnim="Idle3",e.RandomAnim=["Rand31"],this.deathAnm="";break;case 3:e.IdleAnim="Idle4",e.RandomAnim=[],this.deathAnm="";break;default:e.IdleAnim="Idle1",e.RandomAnim=["Rand11"],this.deathAnm="",this.hurtStage=0}if(!this.dead)e.playIdle(),null==(n=this.plantInLnC)||n.readIndex()}},o.specialWallnutOnDamaged=function(t,n,e){if(3==this.hurtStage){var a=this.explCountdownSounds.length;if(a>0){for(var i=this.explCountdownSounds[0],o=0;o<a;o++)if(e<this.toughness/4*((o+1)/a)){i=this.explCountdownSounds[a-1-o];break}d.playOneShot(i,1,this.health/750+.1)}}},n}(s)).prototype,"explCountdownSounds",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),p=m))||p));o._RF.pop()}}}));

System.register("chunks:///_virtual/fanMadeLevelWindow.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MultiLanguage.ts","./KeyListener.ts","./levelController.ts","./UI.ts","./SettingWindow.ts"],(function(e){var t,n,o,l,i,a,r,s,c,u,f,p,v,d,g,L,h,m,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.initializerDefineProperty,o=e.inheritsLoose,l=e.assertThisInitialized},function(e){i=e.cclegacy,a=e._decorator,r=e.JsonAsset,s=e.Label,c=e.ScrollView,u=e.instantiate,f=e.Node,p=e.director,v=e.Vec2,d=e.Component},function(e){g=e.MultiLanguage},function(e){L=e.KeyListener},function(e){h=e.LevelPlay},function(e){m=e.setExitToMapScene},function(e){y=e.importLevel}],execute:function(){var b,T,S,w,N,C,M,B,J,j,D,W,z,E,I,O,P,_,k,x,F;i._RF.push({},"6db99jCIgJNl47QfJypaJ5m","fanMadeLevelWindow",void 0);var Y=a.ccclass,A=a.property,G=(b=Y("LevelJsonSort"),T=A(String),S=A([r]),b((C=t((N=function(){n(this,"title",C,this),n(this,"LevelJsons",M,this)}).prototype,"title",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),M=t(N.prototype,"LevelJsons",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),w=N))||w);e("fanmadeLevelsWindow",(B=Y("fanmadeLevelsWindow"),J=A(s),j=A(s),D=A([G]),W=A(s),z=A(c),B(((F=function(e){function t(){for(var t,o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return t=e.call.apply(e,[this].concat(i))||this,n(t,"title",O,l(t)),n(t,"localLevelToolTip",P,l(t)),n(t,"fanMadeLevelJsonsSorted",_,l(t)),n(t,"fanMadeLevelName0",k,l(t)),n(t,"contents",x,l(t)),t}o(t,e);var i=t.prototype;return i.pushLevels=function(){var e=this,t=this.fanMadeLevelName0.node.parent.parent,n=[];this.fanMadeLevelJsonsSorted.forEach((function(e,o){var l,i=t;if(0==o)n.push(t);else{var a=u(t);a.parent=t.parent,i=a,n.push(a)}null!=(l=i)&&null!=(l=l.getChildByName("Title"))&&l.getComponent(s)&&(i.getChildByName("Title").getComponent(s).string=e.title)})),this.fanMadeLevelJsonsSorted.forEach((function(t,o){var l=n[o].getChildByName("Level");t.LevelJsons.forEach((function(t,n){var o,i,a=t.json,r=l;0!=n&&((r=u(l)).parent=l.parent);var c=r.getChildByName("LevelName").getComponent(s),v=null==a||null==(o=a.objects[0])||null==(o=o.objdata)?void 0:o.Name,d=h.getLevelName(a.objects);c.string=null==v?void 0:v.concat();var g=c.node.parent.getChildByName("WrittenBy").getComponent(s);c.node.parent.getChildByName("LevelInGameName").getComponent(s).string=d||v;var y=null==a||null==(i=a.objects[0])||null==(i=i.objdata)?void 0:i.WritenBy;y||(y=""),g.string=y,r.on(f.EventType.TOUCH_END,(function(){h.levelData=t.json,h.thisLevelsID=[],h.nextLevelsID=[],m(p.getScene().name),L.darken((function(){h.thisLevelsID=[],L.goToGame([h.levelData.objects])}))}),e)}))}))},i.playLocalLevel=function(){null==y||y.click()},i.onLoad=function(){this.pushLevels()},i.scrollToBottom=function(){this.contents.scrollToBottom()},i.scrollToTop=function(){this.contents.scrollToTop()},i.onDisable=function(){t.ScrollY=this.contents.getScrollOffset().y},i.onEnable=function(){var e=this;this.scheduleOnce((function(){e.contents.scrollToOffset(new v(e.contents.getScrollOffset().x,t.ScrollY),.1)}),.1)},i.start=function(){this.title.string=g.getStringByPropsWithoutTricks("FanmadeWindow","Title"),this.localLevelToolTip.string=g.getString(g.lyrics.FanmadeWindow.PlayLocalLevel,!1)},t}(d)).ScrollY=0,O=t((I=F).prototype,"title",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=t(I.prototype,"localLevelToolTip",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=t(I.prototype,"fanMadeLevelJsonsSorted",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=t(I.prototype,"fanMadeLevelName0",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=t(I.prototype,"contents",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=I))||E));i._RF.pop()}}}));

System.register("chunks:///_virtual/FireGourd.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./SoundRescourses.ts","./ParticleSelfdestroy.ts","./CharacterManager.ts","./NodePools.ts","./Square.ts","./levelController.ts"],(function(t){var i,a,e,n,o,r,s,l,h,c,u,d,p,f,m,D,g,b,C,k,P,w,y;return{setters:[function(t){i=t.applyDecoratedDescriptor,a=t.inheritsLoose,e=t.initializerDefineProperty,n=t.assertThisInitialized,o=t.createClass},function(t){r=t.cclegacy,s=t._decorator,l=t.AudioClip,h=t.Prefab,c=t.Node,u=t.Color,d=t.Vec3,p=t.Vec2},function(t){f=t.Plant,m=t.PlantProps},function(t){D=t.sounds},function(t){g=t.ParticleSelfdestroy},function(t){b=t.ZombieDamageDetails,C=t.ZombieDamageType,k=t.Rectangle},function(t){P=t.instantiatePooly},function(t){w=t.Square},function(t){y=t.LevelPlay}],execute:function(){var S,A,F,R,j,v,L,O,E,_,z,I,T,M,B,V,W,q,G,x,N,U;r._RF.push({},"da4f159SehIrL2zVYPiFAFC","FireGourd",void 0);var Y=s.ccclass,Z=s.property,H=function(t){function i(){for(var i,a=arguments.length,e=new Array(a),n=0;n<a;n++)e[n]=arguments[n];return(i=t.call.apply(t,[this].concat(e))||this).AttackDPS=250,i.AttackDuration=3,i.AttackDistanceMin=1,i.AttackDistanceMax=5,i.DamageScaleToRacks=2,i.PlantfoodDPS=300,i.PlantfoodDuration=5,i.PlantfoodDistance=12,i.ReloadingTime=6,i.ChargingTime=14,i}return a(i,t),i}(m),K=(S=Y("FireGourdSound"),A=Z([l]),F=Z([l]),R=Z([l]),j=Z([l]),v=Z([l]),S((E=i((O=function(){function t(){e(this,"wake",E,this),e(this,"breathe",_,this),e(this,"attackStart",z,this),e(this,"attackLoop",I,this),e(this,"attackEnd",T,this)}var i=t.prototype;return i.playWake=function(){D.playArray(this.wake,1,.1)},i.playBreathe=function(){D.playArray(this.breathe,1,.1)},i.playAttackStart=function(){D.playArray(this.attackStart,1,.1)},i.playAttackLoop=function(){D.playArray(this.attackLoop,1,NaN,.666667)},i.playAttackEnd=function(){D.playArray(this.attackEnd,1,.1)},t}()).prototype,"wake",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=i(O.prototype,"breathe",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=i(O.prototype,"attackStart",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),I=i(O.prototype,"attackLoop",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),T=i(O.prototype,"attackEnd",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=O))||L);t("FireGourdPlant",(M=Y("FireGourdPlant"),B=Z(K),V=Z(h),W=Z(c),M((x=i((G=function(t){function i(){for(var i,a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return i=t.call.apply(t,[this].concat(o))||this,e(i,"soundRes",x,n(i)),i._objdataOwn=new H,e(i,"FirePFB",N,n(i)),i.FirePSD=void 0,i.attackDistance=1,i.firing=!1,i.shootCD=0,i.sleepCD=0,i.chargeCD=0,i.shooting=!1,e(i,"firePoint",U,n(i)),i}a(i,t);var r=i.prototype;return r.onObjdataSet=function(t,i){},r.specialPlantOnSheepend=function(){this.FirePSD&&this.shootEnd()},r.specialPlantUpdateForce=function(t,i,a){if(this.sleepCD>0){var e=200-122*this.getScheduler(this.sleepCD/8);this.baseColor=new u(e,e,e,255)}if(this.FirePSD){var n=this.FirePSD.node;n.setParent(this.inLane.prjLayer,!0),n.worldPosition=this.firePoint.worldPosition.toVec2().toVec3(),n.worldScale=new d(this.scale*this.attackDistance*w.SquareWidth/300,.5,1),y.gaming||this.shootEnd()}},r.specialPlantDie=function(t){this.killFire()},r.waterable=function(){return this.sleepCD<=0&&this.chargeCD>0&&!this.shooting},r.firingLoop=function(t){var i=new b(t*this._dmgScale*(this.fooding?this.objdataOwn.PlantfoodDPS:this.objdataOwn.AttackDPS),!0,!1,!1,null,C.fire);i.DamageScaleForArmorRack=this.objdataOwn.DamageScaleToRacks;var a=k.createRectangleSide(new p(this.firePoint.worldPosition.x,this.inLane.floorY),w.SquareWidth*this.attackDistance,w.SquareWidth);this.inLane.zombiePool().filter((function(t){return a.judgeCrossRec(t.bodyRecForShooter)})).forEach((function(t){t.dealDamage(i)})),this.inLane.tombPool().filter((function(t){return a.judgeCrossRec(t.bodyRec)})).forEach((function(t){t.dealDamage(i)}))},r.specialPlantUpdate=function(t,i,a){this.shooting?this.firing&&(this.soundRes.playAttackLoop(),this.shootCD-=i,this.firingLoop(i),this.shootCD<=0&&this.shootEnd()):this.sleepCD>0?(this.sleepCD-=t*this._cdScale,this.sleepCD<=0&&this.wake()):this.chargeCD>0&&(this.chargeCD-=t*this._cdScale,this.chargeCD<=0&&(this.chargeCD,this.anmControl.IdleAnim="Idle1",this.anmControl.RandomAnim=["Rand1"],this.anmControl.playIdle(0,1,!0)))},r.specialPlantFood=function(t){this.killFire(),this.wake(),this.shootAnimation(!0),this.baseColor=new u(255,255,255,255)},r.killFire=function(){this.FirePSD&&(this.FirePSD.willBeKilled=!0,this.FirePSD.db.playAnimation("Die",1/0),this.FirePSD=null)},r.shootAnimation=function(t){void 0===t&&(t=!1),this.shooting=!0,this.sleepCD=0,this.attackDistance=this.getShootingDistance(t),this.shootCD=t?this.objdataOwn.PlantfoodDuration:this.objdataOwn.AttackDuration,this.anmControl.playAnimation(t||this.chargeCD<=0?"Attack_Start1":"Attack_Start0",1/0),this.anmControl.IdleAnim="Rest",this.anmControl.RandomAnim=[]},r.shootEnd=function(){this.soundRes.playAttackEnd(),this.killFire(),this.firing=!1,this.shooting=!1,this.sleepCD=this.objdataOwn.ReloadingTime,this.chargeCD=this.objdataOwn.ChargingTime,this.clearScheduler(),this.anmControl.playAnimation("Attack_End",1),this.anmControl.IdleAnim="Rest",this.anmControl.RandomAnim=[],this.fooding&&this.foodEnd()},r.wake=function(){this.sleepCD=0,this.chargeCD=this.objdataOwn.ChargingTime,this.anmControl.playAnimation("Wake",1),this.anmControl.IdleAnim="Idle0",this.anmControl.RandomAnim=[],this.baseColor=new u(255,255,255,255)},r.getShootingDistance=function(t){if(void 0===t&&(t=!1),t)return this.objdataOwn.PlantfoodDistance;var i=1-Math.min(1,this.chargeCD/this.objdataOwn.ChargingTime);return this.objdataOwn.AttackDistanceMin+(this.objdataOwn.AttackDistanceMax-this.objdataOwn.AttackDistanceMin)*i+.2},r.specialPlantOnEnable=function(){this.killFire(),this.sleepCD=0,this.chargeCD=0,this.firing=!1,this.baseColor=new u(255,255,255,255),this.anmControl.IdleAnim="Idle1",this.anmControl.RandomAnim=["Rand1"],this.anmControl.playIdle()},r.specialPlantOnMouseDown=function(){if(this.sheepend)return!1;var t=this.sleepCD<=0&&!this.shooting;return t&&(this.shootAnimation(!1),this.arrowCountdown=0),t},r.animationListener=function(t){switch(t.name){case"breathe":this.soundRes.playBreathe();break;case"wake":this.soundRes.playWake();break;case"attackSound":this.killFire(),this.soundRes.playAttackStart();var i=P(this.FirePFB);i.parent=this.inLane.prjLayer,i.worldPosition=this.firePoint.worldPosition.toVec2().toVec3(),i.worldScale=new d(this.scale*this.attackDistance*w.SquareWidth/300,.5,1);var a=i.getComponent(g);this.FirePSD=a;break;case"attackLoop":this.firing=!0,this.anmControl.playAnimation("Attack_Loop",1/0)}},o(i,[{key:"objdataOwn",get:function(){return this._objdataOwn}}]),i}(f)).prototype,"soundRes",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new K}}),N=i(G.prototype,"FirePFB",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=i(G.prototype,"firePoint",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=G))||q));r._RF.pop()}}}));

System.register("chunks:///_virtual/FirePeashooter.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Peashooter.ts","./GroundFire.ts","./CharacterManager.ts","./Square.ts","./SoundRescourses.ts"],(function(o){var n,t,e,i,a,r,d,l,u,s,c,f,h,p,S,y,m,g;return{setters:[function(o){n=o.applyDecoratedDescriptor,t=o.inheritsLoose,e=o.initializerDefineProperty,i=o.assertThisInitialized},function(o){a=o.cclegacy,r=o._decorator,d=o.AudioClip,l=o.Vec2},function(o){u=o.peashooterSound,s=o.PeashooterPlant,c=o.PeashooterProps},function(o){f=o.GroundFireColorEnum,h=o.GroundFireSpreadStyleEnum},function(o){p=o.ZombieDamageDetails,S=o.ZombieDamageType,y=o.Rectangle},function(o){m=o.Square},function(o){g=o.sounds}],execute:function(){var P,b,w,F,C,v,L,R,D,E,z,_,j,A,q,x;a._RF.push({},"67fa4yb6mdHHpWZItQHTXzE","FirePeashooter",void 0);var H=r.ccclass,I=r.property,O=function(o){function n(){for(var n,t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return(n=o.call.apply(o,[this].concat(e))||this).PlantfoodDuration=5,n.PlantfoodDamageInterval=.25,n.PlantfoodDamagePerHit=80,n}return t(n,o),n}(c),M=(P=H("firePeashooterSound"),b=I([d]),w=I([d]),F=I(d),P((L=n((v=function(o){function n(){for(var n,t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return n=o.call.apply(o,[this].concat(a))||this,e(n,"foodStartSounds",L,i(n)),e(n,"foodEndSounds",R,i(n)),e(n,"foodLoopSound",D,i(n)),n}t(n,o);var a=n.prototype;return a.playFoodStartSound=function(){g.playArray(this.foodStartSounds,1.4,.1)},a.playFoodEndSound=function(){g.playArray(this.foodEndSounds,1,.1)},a.playFoodLoopSound=function(){g.playOneShot(this.foodLoopSound,1,NaN,.9)},n}(u)).prototype,"foodStartSounds",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=n(v.prototype,"foodEndSounds",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=n(v.prototype,"foodLoopSound",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=v))||C);o("FirePeashooterPlant",(E=H("FirePeashooterPlant"),z=I(M),_=I(d),E((q=n((A=function(o){function n(){for(var n,t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return n=o.call.apply(o,[this].concat(a))||this,e(n,"soundRes",q,i(n)),n._objdataOwn=new O,n.foodCountDown=0,n.foodStarted=!1,e(n,"foodShootSound",x,i(n)),n.foodFire=[],n}t(n,o);var a=n.prototype;return a.specialPlantOnEnable=function(){this.initialize(),this.soundRes.volumeScale=.3},a.specialPeashooterUpdate=function(o){var n=this;if(this.fooding&&this.foodStarted)if(this.foodCountDown>0){var t=this.foodCountDown+0;this.foodCountDown-=o;var e=this.foodCountDown+0,i=Math.max(this._objdataOwn.PlantfoodDamageInterval,1e-5),a=Math.floor(t/i)-Math.floor(e/i),r=this._objdataOwn.PlantfoodDamagePerHit;if(this._dmgScale&&(r*=this._dmgScale*a),this.soundRes.playFoodLoopSound(),r){var d=new p(r,!1,!1,!1,null,S.fire,!0,!0);this.inLane.zombiePool().forEach((function(o){var t=!1;if(n.foodFire.forEach((function(n){if(!t){var e=n.inLnC.rec;8==n.inLnC.cIndex&&(e=y.createRectangleSide(new l(n.inLnC.node.worldPosition.x-m.SquareWidth/2,n.inLnC.node.worldPosition.y),9*m.SquareWidth,m.SquareHeight)),e.judgeCrossRec(o.bodyRecReal)&&(t=!0)}})),!t){var e=n.inLnC.rec;8==n.inLnC.cIndex&&(e=y.createRectangleSide(new l(n.inLnC.node.worldPosition.x-m.SquareWidth/2,n.inLnC.node.worldPosition.y),9*m.SquareWidth,m.SquareHeight)),e.judgeCrossRec(o.bodyRecReal)&&(t=!0)}t&&o.dealDamage(d)})),this.foodFire.forEach((function(o){var n;null==(n=o.inLnC)||null==(n=n.tombStone)||n.dealDamage(d)}))}}else this.foodEnd()},a.specialPlantFoodEnd=function(){this.soundRes.playFoodEndSound(),this.anmControl.playIdle(),this.foodFire=[]},a.animationListenerAdd=function(o){if("playFooding"==o.name){var n;this.foodStarted=!0,this.anmControl.playAnimation("Food",1/0);var t=this._objdataOwn.PlantfoodDuration;this.foodFire=null==(n=this.inLnC.righter)?void 0:n.addLaneFire(t,10,f.yellow,h.right,18,9),this.foodCountDown=t}else"foodStartSound"==o.name&&this.soundRes.playFoodStartSound()},a.specialPlantFood=function(){this.anmControl.playAnimation("FoodStart",2),this.foodStarted=!1},a.detectEnemy=function(){var o,n=this,t=!1;return this.inLane.zombiePool().forEach((function(o){!t&&n.detector.judgeCrossRec(o.bodyRecForShooter)&&(t=!0)})),t||(this.inLane.tombPool().forEach((function(o){!t&&n.detector.judgeCrossRec(o.bodyRec)&&(t=!0)})),t||(null!=(o=this.inLane)&&o.iceTile&&(t=!0),t||this.inLane.iceTiles.forEach((function(o){!t&&o.node.worldPosition.x>n.node.worldPosition.x&&(t=!0)})),t))},n}(s)).prototype,"soundRes",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new M}}),x=n(A.prototype,"foodShootSound",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=A))||j));a._RF.pop()}}}));

System.register("chunks:///_virtual/FloawerPot.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LnC.ts","./FrontYard.ts","./SniperPlant.ts","./SoundRescourses.ts","./Plant.ts","./UI.ts","./KeyListener.ts","./PlayerProperties.ts","./MultiLanguage.ts"],(function(t){var n,i,e,o,a,l,s,r,h,d,c,p,u,m,P,f;return{setters:[function(t){n=t.applyDecoratedDescriptor,i=t.inheritsLoose,e=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,l=t._decorator,s=t.Node},function(t){r=t.TileType},function(t){h=t.FrontYard},function(t){d=t.SniperPlant},function(t){c=t.sounds},function(t){p=t.PlantProps},function(t){u=t.UIInGame},function(t){m=t.KeyListener},function(t){P=t.AllPlayerProperties},function(t){f=t.MultiLanguage}],execute:function(){var C,I,g,A,L;a._RF.push({},"9a1e3m5hj5FhKdZE8VBqGLq","FloawerPot",void 0);var v=l.ccclass,y=l.property,T=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),o=0;o<i;o++)e[o]=arguments[o];return(n=t.call.apply(t,[this].concat(e))||this).ToughnessPlantfooded=900,n.MoveToPosTime=2.5,n}return i(n,t),n}(p);t("FloawerPotPlant",(C=v("FloawerPotPlant"),I=y(s),C((L=n((A=function(t){function n(){for(var n,i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];return n=t.call.apply(t,[this].concat(a))||this,e(n,"plantPoint",L,o(n)),n.planted=!1,n._objdataOwn=new T,n.ironed=!1,n.idle="Idle",n.idlePlanted="Idle_Planted",n.plant="Plant",n.recover="Recover",n.random=[],n}i(n,t);var a=n.prototype;return a.onLeapStart=function(t,n){var i;null==(i=t.getAllPlants())||i.forEach((function(t){t.height_depth=0}))},a.teach=function(){if(this.ironed){this.defaultTeach(2);var t=f.getDirectQuote("[FLOAWERPOT_PLANTFOOD_TUTORIAL]");t&&(m.gameTipString(t,5),this.addArrow(1/0))}else this.defaultTeach(1)},a.getEaterDetectable=function(){var t,n=this,i=!0;return null==(t=this.plantInLnC)||t.getAllPlants().forEach((function(t){i&&t!=n&&t.eaterDetectable&&(i=!1)})),i},a.addPlant=function(){!this.planted&&this.plantInLnC.haveP()&&(this.planted=!0,this.foodable=!1,u.component.currentSniperPlant==this&&(u.component.tryChangingIndex(-1),this.locateCancel()),this.fooding||this.anmControl.playAnimation(this.plant),this.anmControl.IdleAnim=this.idlePlanted,this.anmControl.RandomAnim=[],this.ironed&&this.isTeacher&&(this.arrowCountdown=0))},a.unPlant=function(){this.planted&&!this.plantInLnC.haveP()&&(this.planted=!1,this.foodable=!this.ironed,this.fooding||this.anmControl.playAnimation(this.recover),this.anmControl.IdleAnim=this.idle,this.anmControl.RandomAnim=this.random,this.ironed&&this.isTeacher&&this.addArrow(1/0))},a.specialSniperPlantDie=function(t){void 0===t&&(t=!1),t||this.plantInLnC.readTileType(),this.plantInLnC.orgPlantPoint.worldPosition=this.plantInLnC.plantPoint.worldPosition,this.plantInLnC.correctPlantPoint()},a.specialSniperFood=function(t){this.foodable=!1,this.ironed=!0,this.anmControl.playAnimation("Food"),this.deathAnm="Death_Iron",this.idle="Idle_Iron",this.random=["Rand1_Iron"],this.recover="Recover_Iron",this.plant="Plant_Iron",this.idlePlanted="Idle_Planted_Iron",this.anmControl.IdleAnim=this.idle,this.anmControl.RandomAnim=this.random,this.toughness=this._objdataOwn.ToughnessPlantfooded,this.health=this.toughness;var n=P.getPlantProgressByID(this.ID);n.tutorialLevel<2&&(n.tutorialLevel=2,this.isTeacher=!0)},a.animationListener=function(t){"FoodEnd"==t.name&&this.foodEnd()},a.specialSniperPlantOnEnable=function(){this.planted=!1,this.random=this.anmControl.RandomAnim,this.idle=this.anmControl.IdleAnim},a.sniperPlantLocatable=function(){return this.ironed&&!this.planted},a.specialSniperPlantLocateStart=function(){this.anmControl.IdleAnim="Locating",this.anmControl.RandomAnim=[],this.anmControl.playIdle()},a.specialSniperPlantLocateCancel=function(){this.planted||(this.anmControl.IdleAnim=this.idle,this.anmControl.RandomAnim=this.random),this.anmControl.playIdle()},a.onLeapEnd=function(){this.planted||(this.anmControl.IdleAnim=this.idle,this.anmControl.RandomAnim=this.random),this.anmControl.playIdle()},a.specialSniperPlantTrigger=function(t){if(t.putPlantAvailable(!0,this.ID)){var n=this._objdataOwn.MoveToPosTime;this._cdScale&&(n*=this._cdScale),this.leapTo(t,n,0,!0,!1,"quadOut"),this.anmControl.IdleAnim="Moving",this.anmControl.RandomAnim=[],this.anmControl.playIdle()}else this.planted||(this.anmControl.IdleAnim=this.idle,this.anmControl.RandomAnim=this.random),this.anmControl.playIdle(),c.playSniperPlantCancelSound()},a.specialPlantUpdateForce=function(t,n,i){if(!this.dead&&this.plantInLnC){var e;!this.planted&&this.plantInLnC.haveP()?this.addPlant():this.planted&&!this.plantInLnC.haveP()&&this.unPlant(),this.eaterDetectable=this.getEaterDetectable(),null==(e=this.plantInLnC)||e.setPPWdPos(this.plantPoint.worldPosition.clone());var o=this.inLnC.getTileType();o==r.water?this.height_depth=20*-h.depth(this.worldPositionX,this.inLnC):o==r.sky?(this.height=-20,this.depth=0):this.height_depth=0}},n}(d)).prototype,"plantPoint",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=A))||g));a._RF.pop()}}}));

System.register("chunks:///_virtual/flowerLine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Character.ts","./CharacterManager.ts","./SoundRescourses.ts","./levelController.ts","./UI.ts"],(function(e){var n,t,i,o,r,a,s,l;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy,i=e._decorator},function(e){o=e.Character},function(e){r=e.FlowerLinePool},function(e){a=e.sounds},function(e){s=e.LevelPlay},function(e){l=e.UIInGame}],execute:function(){var c,d;t._RF.push({},"710dfN9ySNCvJZktd3JMKYw","flowerLine",void 0);var h=i.ccclass;i.property,e("flowerLine",h("flowerLine")(((d=function(e){function t(){for(var n,t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return(n=e.call.apply(e,[this].concat(i))||this).group=[],n.IdleAnmMode=0,n.dead=!1,n.tip="",n}n(t,e);var i=t.prototype;return i.characterUpdate=function(e){if(!this.dead){if(s.component.gameWon)return void this.celebrate();t.warningCD>0?this.warn():this.idle()}},i.die=function(e){var n=this;void 0===e&&(e=!0),this.dead||(this.dead=!0,e&&this.group.forEach((function(e){e!=n&&e.die(!1)})),a.playLevelTaskFail(),this.db.playAnimation("Die",1),console.log(this.tip),l.component.loseDarken(null,"",this.tip))},i.warn=function(e){var n=this;void 0===e&&(e=!0),1!=this.IdleAnmMode&&(this.IdleAnmMode=1,e&&this.group.forEach((function(e){e!=n&&e.warn(!1)})),this.db.playAnimation("Nervous",1))},i.idle=function(e){0!=this.IdleAnmMode&&(this.IdleAnmMode=0,t.warningCD<=0&&this.db.playAnimation("Idle",1))},i.celebrate=function(){2!=this.IdleAnmMode&&(this.IdleAnmMode=2,this.db.playAnimation("Grow",1),a.playLevelTaskComplete())},i.characterOnEnable=function(){r.pool.push(this),this.dead=!1,this.IdleAnmMode=1,this.idle()},i.characterLateUpdate=function(e){},t}(o)).warningCD=0,c=d))||c);t._RF.pop()}}}));

System.register("chunks:///_virtual/foodLinkTile.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Tile.ts","./Square.ts","./NodePools.ts","./Tiles.ts","./Cards.ts","./Plants.ts","./GridItem.ts"],(function(t){var i,e,n,o,a,s,r,l,h,u,f,c,d,p,m,T,g,v,b,y;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized,a=t.createClass},function(t){s=t.cclegacy,r=t._decorator,l=t.Prefab,h=t.Color,u=t.tween,f=t.Vec3},function(t){c=t.Tile},function(t){d=t.Square},function(t){p=t.instantiatePooly},function(t){m=t.tiles,T=t.TileEnum},function(t){g=t.Cards},function(t){v=t.PlantEnum,b=t.plants},function(t){y=t.GridItemEnum}],execute:function(){var L,P,w,k,I,S,_;s._RF.push({},"21d58/qMh5PO5QxcnK65/it","foodLinkTile",void 0);var C=r.ccclass,D=r.property,X=t("FoodLinkTileTypeEnum",function(t){return t[t.alpha=0]="alpha",t[t.beta=1]="beta",t[t.delta=2]="delta",t[t.gamma=3]="gamma",t[t.epsilon=4]="epsilon",t[t.amount=5]="amount",t}({})),Y=function(){function t(){this.fromTile=void 0,this.toTile=void 0,this.intervalX=d.SquareWidth/4,this.intervalY=d.SquareHeight/4,this.dotPar=void 0,this.fromX=0,this.toX=0,this._x=0,this.fromY=0,this.toY=0,this._y=0}return t.prototype.start=function(t,i,e,n){var o=this;void 0===n&&(n=16),this.dotPar=e,this.fromTile=t,this.toTile=i,this.fromX=t.node.worldPosition.x,this.fromY=t.node.worldPosition.y,this.toX=i.node.worldPosition.x,this.toY=i.node.worldPosition.y,this._x=this.fromX,this._y=this.fromY;var a=Math.abs(this.toX-this.fromX),s=Math.abs(this.toY-this.fromY);u(this).to(a/n/d.SquareWidth,{x:this.toX}).to(s/n/d.SquareHeight,{y:this.toY}).call((function(){var t;null!=(t=o.toTile)&&null!=(t=t.inLnC)&&t.isInLawn()&&(o.toTile.flash(),o.toTile.inLnC.getAllPlants().forEach((function(t){t.food()})))})).start()},a(t,[{key:"x",get:function(){return this._x},set:function(t){var i=this._x-this.fromX,e=t-this.fromX;this._x=t;for(var n=Math.floor(Math.abs(i/this.intervalX)),o=Math.floor(Math.abs(e/this.intervalX)),a=0;a<Math.abs(o-n);a++){var s=this.fromX+(n+a+1)*this.intervalX*(this.toX<this.fromX?-1:1),r=this.y,l=p(this.dotPar);l.parent=d.getLane(0).tileLayer,l.worldPosition=new f(s,r,10),l.setSiblingIndex(0)}}},{key:"y",get:function(){return this._y},set:function(t){var i=this._y-this.fromY,e=t-this.fromY;this._y=t;for(var n=Math.floor(Math.abs(i/this.intervalY)),o=Math.floor(Math.abs(e/this.intervalY)),a=0;a<Math.abs(o-n);a++){var s=this.fromY+(n+a+1)*this.intervalY*(this.toY<this.fromY?-1:1),r=this.x,l=p(this.dotPar);l.parent=d.getLane(0).tileLayer,l.worldPosition=new f(r,s,10),l.setSiblingIndex(0)}}}]),t}();t("foodLinkTile",(L=C("foodLinkTile"),P=D(l),w=D(l),L((S=i((I=function(t){function i(){for(var i,e=arguments.length,a=new Array(e),s=0;s<e;s++)a[s]=arguments[s];return(i=t.call.apply(t,[this].concat(a))||this).anm=void 0,i.foodLinkID=0,i.propagationDelay=0,i.locatingZomboss=void 0,n(i,"dotPar",S,o(i)),n(i,"flashLight",_,o(i)),i._lit=!1,i}e(i,t);var s=i.prototype;return s.specialTileUpdate=function(t){this.dead||(this.anm||(this.anm=this.db.armature().animation),this.anm.gotoAndPlayByTime(this.lit?"Idle_Lit":"Idle_Unlit",d.PowerTileAnmTimer,1/0))},s.specialTileOnLoad=function(){var t;this.anm=null==(t=this.db)||null==(t=t.armature())?void 0:t.animation},s.onFoodedByPlayer=function(){var t=this;this.scheduleOnce((function(){t.spreadFood()}),this.propagationDelay),this.locatingZomboss&&(this.locatingZomboss.foodLinkerShootInterupt(),this.locatingZomboss=null)},s.spreadFood=function(){var t=this;this.flash();var i=[];m.tilePool().forEach((function(e){if(e.tileID==T.foodLinker){var n=e;n.foodLinkID==t.foodLinkID&&n!=t&&-1==i.indexOf(n)&&i.push(n)}})),i.forEach((function(i){(new Y).start(t,i,t.dotPar)}))},s.judgeLit=function(t){if(t){var i=!1;i=!!t.getAllPlants()[0],this.lit=i}else this.lit=!1},s.onLnCCall=function(t){this.judgeLit(t)},s.onLnCChange=function(t,i){var e;this.judgeLit(i),null==(e=this.gridItemCP)||e.setGridItemType([y.powertile,this.GridType])},s.flash=function(){if(this.inLnC){var t=p(this.flashLight);t.parent=this.node.parent,t.worldPosition=this.node.worldPosition,t.worldScale=this.node.worldScale}},s.specialTileDie=function(){var t,i=0;switch(this.foodLinkID){case X.alpha:i=v.TileTurnipAlpha;break;case X.beta:i=v.TileTurnipBeta;break;case X.gamma:i=v.TileTurnipGamma;break;case X.delta:i=v.TileTurnipDelta;break;case X.epsilon:i=v.TileTurnipEpsilon}b.registerPlant(i,-1),null==(t=g.component)||null==(t=t.CFs)||t.forEach((function(t){i==t.ID&&(t.SUNCOST=t.SUNCOST)}))},s.specialTileOnEnable=function(){var t;this.lit=!1,this.locatingZomboss=null;var i=0;switch(this.foodLinkID){case X.alpha:i=v.TileTurnipAlpha;break;case X.beta:i=v.TileTurnipBeta;break;case X.gamma:i=v.TileTurnipGamma;break;case X.delta:i=v.TileTurnipDelta;break;case X.epsilon:i=v.TileTurnipEpsilon}b.registerPlant(i,1),null==(t=g.component)||null==(t=t.CFs)||t.forEach((function(t){i==t.ID&&(t.SUNCOST=t.SUNCOST)}))},a(i,[{key:"lit",get:function(){return this._lit},set:function(t){var i=this._lit;this._lit=t,i!=t&&this.flash()}},{key:"foodLightColor",get:function(){switch(this.foodLinkID){case X.alpha:return new h(31,255,0,255);case X.beta:return new h(255,0,0,255);case X.delta:return new h(255,235,0,255);case X.gamma:return new h(0,245,255,255);case X.epsilon:return new h(194,0,255,255);default:return new h(255,255,255,255)}}},{key:"GridType",get:function(){return y.powertile+this.foodLinkID+1}}]),i}(c)).prototype,"dotPar",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=i(I.prototype,"flashLight",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=I))||k));s._RF.pop()}}}));

System.register("chunks:///_virtual/FrontYard.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Tide.ts","./Square.ts","./stageEffect.ts","./lawn.ts","./SoundsController.ts","./CharacterManager.ts","./SoundManager.ts","./Zombies.ts","./MultiLanguage.ts","./GridItem.ts","./NodePools.ts","./ArrayGet.ts"],(function(t){var e,n,r,i,o,a,d,s,u,l,c,h,m,g,f,p,y,v,w,F,_,C,L,b,E,B,M,S;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,r=t.initializerDefineProperty,i=t.assertThisInitialized,o=t.createClass},function(t){a=t.cclegacy,d=t._decorator,s=t.Enum,u=t.JsonAsset,l=t.Prefab,c=t.resources,h=t.assetManager,m=t.instantiate,g=t.Vec3,f=t.Component},function(t){p=t.Tide},function(t){y=t.Square},function(t){v=t.StageEffect},function(t){w=t.lawn},function(t){F=t.MusicController},function(t){_=t.ZombiePool},function(t){C=t.SoundManager,L=t.WorldMusic},function(t){b=t.zombies},function(t){E=t.MultiLanguage},function(t){B=t.GridItem},function(t){M=t.instantiatePooly},function(t){S=t.ArrayGet}],execute:function(){var Y,A,R,I,N,D,P,Z,O,T,W,j,K,k,x,J;a._RF.push({},"02e9e6yW1pACZVbPL+GWHAz","FrontYard",void 0);var G=d.ccclass,q=d.property,z=function(){this.CODENAME="",this.BASIC_ZOMBIE=["tutorial"],this.FLAG_ZOMBIE=["tutorial_flag"],this.RALLY_ZOMBIE=["tutorial_flag_veteran"],this.BASIC_ZOMBIE_ARMOR1=["tutorial_armor1"],this.BASIC_ZOMBIE_ARMOR2=["tutorial_armor2"],this.BASIC_ZOMBIE_ARMOR3=["tutorial_armor3"],this.BASIC_ZOMBIE_ARMOR4=["tutorial_armor4"],this.GRAVESTONE="gravestone_tutorial",this.RAILCART="railcart_tutorial",this.WORLDNAME="Frontyard",this.MUSIC=L.Modern,this.RESNAME="Modern"},H=t("LawnStageEnum",function(t){return t[t.Modern=0]="Modern",t[t.ModernNight=1]="ModernNight",t[t.Egypt=2]="Egypt",t[t.EgyptNight=3]="EgyptNight",t[t.Pirate=4]="Pirate",t[t.Cowboy=5]="Cowboy",t[t.Kongfu=6]="Kongfu",t[t.KongfuMonk=7]="KongfuMonk",t[t.KongfuAbbot=8]="KongfuAbbot",t[t.KongfuBoss=9]="KongfuBoss",t[t.Future=10]="Future",t[t.Dark=11]="Dark",t[t.Beach=12]="Beach",t[t.Iceage=13]="Iceage",t[t.IceageUlt=14]="IceageUlt",t[t.LostCity=15]="LostCity",t[t.LostCityNight=16]="LostCityNight",t[t.Sky=17]="Sky",t[t.Eighties=18]="Eighties",t[t.Dino=19]="Dino",t[t.FrontYardCircus=20]="FrontYardCircus",t[t.FrontYardDark=21]="FrontYardDark",t[t.FrontYardBeach=22]="FrontYardBeach",t[t.FrontYardIceage=23]="FrontYardIceage",t[t.FrontYardLostcity=24]="FrontYardLostcity",t[t.FrontYardEighties=25]="FrontYardEighties",t[t.FrontYardDino=26]="FrontYardDino",t[t.FrontYardSummerNight=27]="FrontYardSummerNight",t[t.FrontYardLunar=28]="FrontYardLunar",t[t.FrontYardHalloween=29]="FrontYardHalloween",t[t.FrontYardFarm=30]="FrontYardFarm",t[t.FrontYardHeroes=31]="FrontYardHeroes",t[t.FrontYardPaddys=32]="FrontYardPaddys",t[t.FrontYardFalls=33]="FrontYardFalls",t[t.FrontYardValentines=34]="FrontYardValentines",t[t.Persuit=35]="Persuit",t[t.Arena=36]="Arena",t[t.Green=37]="Green",t[t.yardAmount=38]="yardAmount",t}({})),V=t("JamStyle",function(t){return t[t.jam_punk=0]="jam_punk",t[t.jam_pop=1]="jam_pop",t[t.jam_rap=2]="jam_rap",t[t.jam_8bit=3]="jam_8bit",t[t.jam_metal=4]="jam_metal",t[t.jam_ballad=5]="jam_ballad",t[t.jam_clear=6]="jam_clear",t}({}));s(H);t("FrontYard",(Y=G("FrontYard"),A=q(u),R=q(l),I=q(l),N=q(l),D=q(l),P=q(l),Y(((J=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,r(e,"frontyardFeatureJson",T,i(e)),r(e,"tide",W,i(e)),r(e,"tideKelp",j,i(e)),r(e,"tideKelpSign",K,i(e)),r(e,"bowlingLine",k,i(e)),r(e,"bowlingLineSign",x,i(e)),e.boomboxCD=0,e.baseJamEffect=V.jam_clear,e.currentJam=V.jam_clear,e.tide_=null,e.tideKelp_=null,e.tideKelpSign_=null,e}n(e,t),e.getWorldMapLyricsByLawn=function(t){return E.getWorldMapLyrics(this.getLawnFeature(t).WORLDNAME)},e.loadLawns=function(t,n,r){var i=this;if(n){t=[];for(var o=0;o<H.yardAmount;o++)t.push(o)}var a=t.length;a>0?t.forEach((function(t){var n=e.getLawnFeature(t);c.load("lawns/"+n.RESNAME+"LAWN",(function(t,e){a--,t||(i.lawnRes[n.RESNAME]=e,a<=0&&r())}))})):r()},e.unLoadLawns=function(){var t;null==(t=this.CurrentLawn)||null==(t=t.node)||t.destroy();for(var n=0;n<H.yardAmount;n++){var r=e.getLawnFeature(n),i=this.lawnRes[r.RESNAME];this.lawnRes[r.RESNAME]=null,i&&h.releaseAsset(i)}},e.levelPlayStart=function(){e.component.levelPlayStart()},e.haveTide=function(){return null!=e.component.tide_},e.haveTideKelp=function(){return null!=e.component.tideKelp_},e.tideX=function(){return e.component._tideX()},e.addTide=function(t){void 0===t&&(t=9),e.component._addTide(t)},e.addTideKelp=function(t){void 0===t&&(t=9),e.component._addTideKelp(t)},e.addBowlingLine=function(t,n){void 0===t&&(t=9),void 0===n&&(n=!0),e.component._addBowlingLine(t,n)},e.pushTide=function(t){var n;null==(n=e.component.tide_)||n.pushTide(t)},e.pullTide=function(t){var n;null==(n=e.component.tide_)||n.pullTide(t)},e.moveTide=function(t){var n;null==(n=e.component.tide_)||n.moveTide(t)},e.playLowTide=function(){var t;null==(t=e.component.tide_)||t.playLowTide()},e.depth=function(t,n){void 0===n&&(n=null);var r=e.component;return r.tide_?r.tide_.x>t?n?n.depth():0:Math.min(1.5,(t-r.tide_.x)/y.SquareWidth):n?n.depth():0},e.getTidePos=function(){return this.component.tide_?this.component.tide_.pos:NaN},e.getLawnFeature=function(t){return this.frontYardFeatures[t]?this.frontYardFeatures[t]:new z},e.getLawnRailCart=function(t){return this.frontYardFeatures[t]?B.getGridItemEnumByCodeName(this.frontYardFeatures[t].RAILCART):0},e.getLawnBasicZombie=function(t){return this.frontYardFeatures[t]?b.getZombieEnumByCodename(S.getRandom(this.frontYardFeatures[t].BASIC_ZOMBIE)):0},e.getLawnBasicZombieArmor1=function(t){return this.frontYardFeatures[t]?b.getZombieEnumByCodename(S.getRandom(this.frontYardFeatures[t].BASIC_ZOMBIE_ARMOR1)):0},e.getLawnBasicZombieArmor2=function(t){return this.frontYardFeatures[t]?b.getZombieEnumByCodename(S.getRandom(this.frontYardFeatures[t].BASIC_ZOMBIE_ARMOR2)):0},e.getLawnBasicZombieArmor3=function(t){return this.frontYardFeatures[t]?b.getZombieEnumByCodename(S.getRandom(this.frontYardFeatures[t].BASIC_ZOMBIE_ARMOR3)):0},e.getLawnBasicZombieArmor4=function(t){return this.frontYardFeatures[t]?b.getZombieEnumByCodename(S.getRandom(this.frontYardFeatures[t].BASIC_ZOMBIE_ARMOR4)):0},e.getLawnFlagZombie=function(t){return this.frontYardFeatures[t]?b.getZombieEnumByCodename(S.getRandom(this.frontYardFeatures[t].FLAG_ZOMBIE)):0},e.getLawnRallyZombie=function(t){return this.frontYardFeatures[t]?b.getZombieEnumByCodename(S.getRandom(this.frontYardFeatures[t].RALLY_ZOMBIE)):0},e.getFrontYardEnumByString=function(t){for(var e=0;e<this.frontYardFeatures.length;e++)if(this.frontYardFeatures[e].CODENAME==t)return e;return 0},e.getFrontYardEnumByRTID=function(t){var e=t.concat(),n=e.indexOf("RTID("),r=e.indexOf("@LevelModules)"),i="";return-1!=n&&(i=e.slice(n+5,r)),this.getFrontYardEnumByString(i)},e.changeFrontYard=function(t,e){var n;return void 0===e&&(e=!0),null==(n=this.component)?void 0:n.changeLawn(t,e)},e.removeTide=function(){var t;null==(t=this.component)||t.removeTide()};var a=e.prototype;return a.removeTide=function(){var t;this.tide_&&(this.tide_.x=y.getSquareWorldPosition(0,8,1).x,this.tide_.update(1),null==(t=this.tide_)||null==(t=t.node)||t.destroy(),this.tide_=null)},a.changeLawn=function(t,n){var r;void 0===n&&(n=!0),e.CurrentLawnID=t,null==(r=e.CurrentLawn)||null==(r=r.node)||r.destroy(),n&&this.removeTide();var i=null,o=e.getLawnFeature(t),a=e.lawnRes[o.RESNAME];(i=m(a)).parent=this.node.getChildByName("lawn"),i.setSiblingIndex(0);var d=i.getComponent(w);return e.CurrentLawn=d,d.ID=t,d.worldMusic=e.getLawnFeature(t).MUSIC,this.currentJam==V.jam_clear&&F.switchWorldMusic(d.worldMusic),this.scheduleOnce(y.setSquareType,0),d},e.getCurrentJam=function(){var t;return null==(t=this.component)?void 0:t.currentJam},e.setJamEffect=function(t,e){void 0===e&&(e=!0);var n=this.component;if(n){var r=n.node.getChildByName("stageEffect");if(t!=n.currentJam&&(n.currentJam=t,n.boomboxCD<=0||t==V.jam_ballad))switch(t){case V.jam_punk:F.switchWorldMusic(L.Punk,!0),r.children.forEach((function(t){t.getComponent(v).playEnd()})),r.getChildByName("punk").getComponent(v).playStart();break;case V.jam_pop:F.switchWorldMusic(L.Pop,!0),r.children.forEach((function(t){t.getComponent(v).playEnd()})),r.getChildByName("pop").getComponent(v).playStart();break;case V.jam_rap:F.switchWorldMusic(L.Rap,!0),r.children.forEach((function(t){t.getComponent(v).playEnd()})),r.getChildByName("rap").getComponent(v).playStart();break;case V.jam_8bit:F.switchWorldMusic(L.Eightbit,!0),r.children.forEach((function(t){t.getComponent(v).playEnd()})),r.getChildByName("eightBit").getComponent(v).playStart();break;case V.jam_metal:F.switchWorldMusic(L.Metal,!0),r.children.forEach((function(t){t.getComponent(v).playEnd()})),r.getChildByName("metal").getComponent(v).playStart();break;case V.jam_ballad:F.switchWorldMusic(L.Ballad,!0),r.children.forEach((function(t){t.getComponent(v).playEnd()}));break;default:C.component&&(C.component.currentWorldMusic=null),F.switchWorldMusic(this.CurrentLawn.worldMusic,!1),r.children.forEach((function(t){t.getComponent(v).playEnd()})),t=V.jam_clear}e&&(n.baseJamEffect=t)}},e.lanesWithDeepWater=function(){for(var t=[],e=0;e<=4;e++)y.getLane(e).haveDeepWater&&t.push(e);return t},e.lanesWithoutDeepWater=function(){for(var t=[],e=0;e<=4;e++)y.getLane(e).haveDeepWater||t.push(e);return t},a._tideX=function(){return this.tide_?this.tide_.x:1/0},a._addTide=function(t){return void 0===t&&(t=0),this.tide_||(this.tide_=m(this.tide).getComponent(p),this.tide_.node.parent=this.node.getChildByName("tide"),this.tide_.standardize(t)),this.tide_},a._addTideKelp=function(t){void 0===t&&(t=0);var e=M(this.tideKelp);e.parent=this.node.getChildByName("tideLine"),this.tideKelp_=e;var n=M(this.tideKelpSign);n.parent=this.node.getChildByName("tideSign"),this.tideKelpSign_=n;var r=y.SquareHeight/190,i=y.getSquareWorldPosition(2,t,0,.5);e.worldPosition=new g(i.x,i.y,0),n.worldPosition=new g(i.x,y.getSquareWorldPosition(0,0,0,1).y,0),e.worldScale=new g(r,r,r),n.worldScale=new g(.4*r,.4*r,.4*r)},a._addBowlingLine=function(t,e){void 0===t&&(t=0),void 0===e&&(e=!0);var n=M(this.bowlingLine);n.setSiblingIndex(0),n.parent=this.node.getChildByName("bowlingLine");var r=y.SquareHeight/190,i=y.getSquareWorldPosition(2,t,0,.5);if(n.worldPosition=new g(i.x,i.y,0),n.worldScale=new g(r,r,r),e){var o=M(this.bowlingLineSign);o.parent=this.node.getChildByName("bowlingSign"),o.worldPosition=new g(i.x,y.getSquareWorldPosition(0,0,0,1).y+10,0),o.worldScale=new g(.4*r,.4*r,.4*r)}},a.onLoad=function(){e.frontYardFeatures=this.frontyardFeatureJson.json.LAWNS,e.railLayer=this.node.getChildByName("rail"),e.sliderLayer=this.node.getChildByName("sliders"),e.sliderFloaterLayer=this.node.getChildByName("sliderFloaters"),e.cartLayer=this.node.getChildByName("cart"),e.component=this,e.CurrentLawnID=H.Modern,e.CurrentLawn=null},a.update=function(t){e.windy>0&&(_.pool().concat().forEach((function(t){t.flying&&t.blowAway()})),e.windy-=t),e.windy<0&&(e.windy=0),this.boomboxCD>0&&(e.setJamEffect(V.jam_ballad,!1),this.boomboxCD-=t,this.boomboxCD<=0&&(this.boomboxCD=0,e.setJamEffect(this.baseJamEffect,!1)))},e.setFrontYardFeatures=function(t){this.frontYardFeatures=t},a.start=function(){this.changeLawn(H.Modern)},a.levelPlayStart=function(){},o(e,null,[{key:"atNight",get:function(){return this.CurrentLawn&&this.CurrentLawn.atNight_}}]),e}(f)).sliderLayer=void 0,J.sliderFloaterLayer=void 0,J.lawnRes=new function(){this.Modern=void 0,this.Egypt=void 0,this.EgyptNight=void 0,this.Pirate=void 0,this.Cowboy=void 0,this.Kongfu=void 0,this.KongfuVeteran=void 0,this.Future=void 0,this.Dark=void 0,this.Beach=void 0,this.Iceage=void 0,this.IceageUlt=void 0,this.LostCity=void 0,this.LostCityNight=void 0,this.Sky=void 0,this.Eighties=void 0,this.Dino=void 0,this.FrontyardCircus=void 0,this.FrontyardDark=void 0,this.FrontyardBeach=void 0,this.FrontyardIceage=void 0,this.FrontyardLostCity=void 0,this.FrontyardEighties=void 0,this.FrontyardDino=void 0,this.FrontyardSummerNight=void 0,this.FrontyardLunar=void 0,this.FrontyardHalloween=void 0,this.FrontyardFarm=void 0,this.FrontyardHeroes=void 0,this.FrontyardPaddys=void 0,this.FrontyardFalls=void 0,this.Persuit=void 0,this.Arena=void 0,this.Green=void 0},J.component=void 0,J.windy=0,J.CurrentLawnID=void 0,J.CurrentLawn=void 0,J.railLayer=void 0,J.cartLayer=void 0,J.frontYardFeatures=[],T=e((O=J).prototype,"frontyardFeatureJson",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=e(O.prototype,"tide",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=e(O.prototype,"tideKelp",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=e(O.prototype,"tideKelpSign",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(O.prototype,"bowlingLine",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=e(O.prototype,"bowlingLineSign",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=O))||Z));a._RF.pop()}}}));

System.register("chunks:///_virtual/FumeShroom.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./CharacterManager.ts","./NodePools.ts","./Square.ts","./SoundRescourses.ts"],(function(t){var o,e,n,i,a,r,s,l,c,h,u,d,f,m,S,b,p,P;return{setters:[function(t){o=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,s=t.AudioClip,l=t.Prefab,c=t.Node,h=t.dragonBones,u=t.Vec3},function(t){d=t.Plant,f=t.PlantProps},function(t){m=t.ZombieDamageDetails,S=t.Rectangle},function(t){b=t.NodePools},function(t){p=t.Square},function(t){P=t.sounds}],execute:function(){var y,g,D,w,v,R,_,C,j,L,E,O,z,F,q,A,W,k,H,M;a._RF.push({},"55aa7VHxuJJmr3RtpmhWyai","FumeShroom",void 0);var N=r.ccclass,x=r.property,I=(y=N("fumeshroomSound"),g=x([s]),D=x(s),y((R=o((v=function(){function t(){n(this,"shootSounds",R,this),n(this,"foodSound",_,this)}var o=t.prototype;return o.playShootSound=function(){P.playArray(this.shootSounds)},o.playFoodSound=function(){P.playOneShot(this.foodSound)},t}()).prototype,"shootSounds",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=o(v.prototype,"foodSound",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=v))||w),T=function(t){function o(){for(var o,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return(o=t.call.apply(t,[this].concat(n))||this).Damage=40,o.ShootInterval=2.4,o.ShootIntervalAdditional=.2,o.PlantfoodDPS=700,o.PlantfoodKnockbackSPS=3,o.PlantfoodDuration=3,o.DetectDistance=4.5,o.ShootDistance=5.5,o}return e(o,t),o}(f);t("FumeShroomPlant",(C=N("FumeShroomPlant"),j=x(I),L=x(l),E=x(l),O=x(l),z=x(c),C((A=o((q=function(t){function o(){for(var o,e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return(o=t.call.apply(t,[this].concat(a))||this)._objdataOwn=new T,o.busy=0,o.shooting=!1,n(o,"soundRes",A,i(o)),o.oldTimeScale=1,o.foodShooting=!1,n(o,"shootParticle",W,i(o)),n(o,"foodParticle",k,i(o)),n(o,"hitParticle",H,i(o)),o.enemyDetector=null,o.shootDetector=null,o.foodDetector=null,n(o,"mouth",M,i(o)),o}e(o,t);var a=o.prototype;return a.specialPlantFood=function(){this.anmControl.playAnimation("Food",1),this.soundRes.playFoodSound()},a.specialPlantFoodEnd=function(){this.busy=0,this.foodShooting=!1},a.specialPlantOnSquareChange=function(t,o){this.setDetecter()},a.specialPlantOnEnable=function(){var t=this;this.busy=0,this.foodShooting=!1,this.anmControl.db.addEventListener(h.EventObject.COMPLETE,(function(){t.shooting=!1}),this)},a.animationListener=function(t){if("shoot"==t.name&&this._shoot(),"shootSound"==t.name&&this.soundRes.playShootSound(),"foodStart"==t.name){var o=Math.max(.1,this._objdataOwn.PlantfoodDuration);this.oldTimeScale=this.anmControl.db.timeScale,this.anmControl.db.timeScale=3/o,this.spawnParticle(this.foodParticle).getComponent(h.ArmatureDisplay).timeScale=3/o,this.foodShooting=!0}"foodEnd"==t.name&&(this.anmControl.db.timeScale=this.oldTimeScale,this.foodEnd())},a.spawnParticle=function(t){var o=b.instantiatePooly(t);return o.parent=this.inLane.prjLayer,o.setWorldPosition(this.mouth.getWorldPosition()),o},a.spawnHitParticle=function(t){var o=b.instantiatePooly(this.hitParticle);return o.parent=this.inLane.prjLayer,o.setWorldPosition(new u(t,this.mouth.worldPosition.y)),o},a._shoot=function(){var t=this;this.spawnParticle(this.shootParticle);var o=this._objdataOwn.Damage;this._dmgScale&&(o*=this._dmgScale);var e=new m(o,!0,!1,!1);this.inLane.zombiePool().forEach((function(o){t.shootDetector.judgeCrossRec(o.bodyRecReal)&&(o.dealDamage(e),t.spawnHitParticle(o.worldPositionX))})),this.inLane.tombPool().forEach((function(o){t.shootDetector.judgeCrossRec(o.bodyRec)&&(o.dealDamage(e),t.spawnHitParticle(o.worldPositionX))}))},a.setDetecter=function(){this.enemyDetector=S.createRectangleNodeSide(this.inLnC.node,p.SquareWidth*this._objdataOwn.DetectDistance,p.SquareHeight),this.shootDetector=S.createRectangleNodeSide(this.inLnC.node,p.SquareWidth*this._objdataOwn.ShootDistance,p.SquareHeight),this.foodDetector=S.createRectangleNodeSide(this.inLnC.node,20*p.SquareWidth,p.SquareHeight)},a.detectShootEnemy=function(){for(var t=this.inLane.zombiePool(),o=0;o<t.length;o++)if(this.enemyDetector.judgeCrossRec(t[o].bodyRecForShooter))return!0;for(var e=this.inLane.tombPool(),n=0;n<e.length;n++)if(this.enemyDetector.judgeCrossRec(e[n].bodyRec))return!0;return!1},a.shootAnimation=function(){this.shooting=!0,this.busy=this._objdataOwn.ShootInterval+this._objdataOwn.ShootIntervalAdditional*Math.random(),this._cdScale&&(this.busy*=this._cdScale),this.anmControl.playAnimation("Shoot",1,.1,Math.max(.8/this.busy,1))},a.waterable=function(){return!this.shooting},a.specialPlantUpdate=function(t,o,e){var n=this;if(this.busy>0&&(this.busy-=t),this.busy<=0&&e>0&&this.detectShootEnemy()&&!this.fooding&&this.shootAnimation(),this.foodShooting){var i=this._objdataOwn.PlantfoodDPS,a=p.getSquareWorldPosition(0,8,1).x;this._dmgScale&&(i*=this._dmgScale);var r=this.inLane.zombiePool(),s=new m(i*t,!0,!1,!1);r.forEach((function(o){n.foodDetector.judgeCrossRec(o.bodyRecReal)&&(o.dealDamage(s),o.knockBackable&&o.worldPositionX<a&&(o.worldPositionX+=n._objdataOwn.PlantfoodKnockbackSPS*t*p.SquareWidth))})),this.inLane.tombPool().forEach((function(t){n.foodDetector.judgeCrossRec(t.bodyRec)&&t.dealDamage(s)}))}},o}(d)).prototype,"soundRes",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new I}}),W=o(q.prototype,"shootParticle",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=o(q.prototype,"foodParticle",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=o(q.prototype,"hitParticle",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=o(q.prototype,"mouth",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=q))||F));a._RF.pop()}}}));

System.register("chunks:///_virtual/FutureGargantuarZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MechZombie.ts","./SoundRescourses.ts","./Zombies.ts","./GargantuarZombie.ts","./Square.ts","./CharacterManager.ts","./ParticleSelfdestroy.ts","./NodePools.ts"],(function(e){var t,i,o,n,a,s,r,h,l,u,c,d,y,p,S,m,b,P,w,f,g,D,_,L,v,R,E;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,o=e.initializerDefineProperty,n=e.assertThisInitialized,a=e.createClass,s=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){h=e.cclegacy,l=e._decorator,u=e.AudioClip,c=e.Node,d=e.Prefab,y=e.Vec2,p=e.Vec3,S=e.HALF_PI,m=e.TWO_PI},function(e){b=e.MechZombie,P=e.MechZombieProps},function(e){w=e.sounds},function(e){f=e.ZombieEnum},function(e){g=e.gargantuar},function(e){D=e.Square},function(e){_=e.Rectangle,L=e.ZombieDamageDetails,v=e.ZombieDamageType},function(e){R=e.ParticleSelfdestroy},function(e){E=e.instantiatePooly}],execute:function(){var j,A,I,C,x,z,O,M,T,k,Z,W,F,q,G,X,B,H,N,V,U,Y,K,J,Q,$,ee,te,ie,oe,ne,ae,se,re,he,le,ue,ce,de;h._RF.push({},"7bd7dTjMXtFsoi1KZtXV/4n","FutureGargantuarZombie",void 0);var ye=l.ccclass,pe=l.property,Se=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),n=0;n<i;n++)o[n]=arguments[n];return(t=e.call.apply(e,[this].concat(o))||this).EyeLaserDelayBetweenShots=12.5,t.EyeLaserMaxColumn=5,t.EyeLaserMinDistance=1.5,t.EyeLaserSweepLength=1.5,t.EyeLaserSweepTime=1,t.EyeLaserTotalDamage=1e3,t.SmashDamage=1500,t}return i(t,e),t}(P);e("FutureGargantuarZombie",(j=ye("FutureGargantuarZombie"),A=pe([u]),I=pe([u]),C=pe([u]),x=pe([u]),z=pe(u),O=pe(u),M=pe(u),T=pe(u),k=pe(u),Z=pe(u),W=pe(u),F=pe(u),q=pe(c),G=pe(c),X=pe(c),B=pe(d),H=pe(d),N=pe(d),j((Y=t((U=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return(t=e.call.apply(e,[this].concat(a))||this)._objdataOwn=new Se,o(t,"stepSounds",Y,n(t)),o(t,"stepRiseSounds",K,n(t)),o(t,"smashSounds",J,n(t)),o(t,"saySounds",Q,n(t)),o(t,"throwSound",$,n(t)),o(t,"throwPrepareSound",ee,n(t)),o(t,"riseSound",te,n(t)),o(t,"shootStartSound",ie,n(t)),o(t,"shootEndSound",oe,n(t)),o(t,"rayStartSound",ne,n(t)),o(t,"rayLoopSound",ae,n(t)),o(t,"rayEndSound",se,n(t)),t.sweepTo=new y(0,0),t.sweepFrom=new y(0,0),t.shootPos=new y(0,0),t._shooting=0,t._shootDuration=1,t.impEnum=f.future_imp,t._haveImp=!0,t._impSlots=[],t._haveDriver=!0,t._driverSlots=[],o(t,"impThrower",re,n(t)),o(t,"eyeL",he,n(t)),o(t,"eyeR",le,n(t)),o(t,"eyePar",ue,n(t)),o(t,"hitPar",ce,n(t)),o(t,"rayPar",de,n(t)),t.eyeL_PSD=void 0,t.eyeR_PSD=void 0,t.hit_PSD=void 0,t.ray_PSD=void 0,t.shootCountDown=0,t}i(t,e);var h=t.prototype;return h.alertNow=function(){return this.haveDriver},h._say=function(){w.playArray(this.saySounds,1,.5)},h.specialMechAnimationListener=function(e){if("step"==e.name)w.playArray(this.stepSounds,1,.1);else if("stepRise"==e.name)w.playArray(this.stepRiseSounds,1,.5);else if("throw"==e.name)w.playOneShot(this.throwSound,1,.1),this._throwImp();else if("throw_prepare"==e.name)w.playOneShot(this.throwPrepareSound,1,.5);else if("rise"==e.name)w.playOneShot(this.riseSound,1,.5);else if("smash"==e.name)w.playArray(this.smashSounds,1,.1),this._say(),this._smash();else if("shootStart"==e.name){this.body.playAnimation("ShootLoop",1/0);var t=D.getSquareWorldPosition(0,this.reversed?8-this.objdataOwn.EyeLaserMaxColumn:this.objdataOwn.EyeLaserMaxColumn).x,i=this.worldPositionX+(this.reversed?1:-1)*this.objdataOwn.EyeLaserMinDistance*D.SquareWidth,o=0,n=D.getSquareWorldPosition(0,0,0).x;this.reversed?(n+=9*D.SquareWidth,o=Math.max(t,i)):o=Math.min(t,i),this.sweepFrom=new y(n+Math.random()*(o-n),D.Square00WorldPosition().y-4*D.SquareHeight*Math.random());var a=m*Math.random();if(this.sweepTo=this.sweepFrom.clone().add(new y(Math.cos(a),Math.sin(a)).multiplyScalar(D.SquareHeight*this.objdataOwn.EyeLaserSweepLength)),this._shootDuration=this.objdataOwn.EyeLaserSweepTime,this.shooting=this._shootDuration,this.ray_PSD)this.ray_PSD.db.playAnimation("Idle",1/0);else{var s=E(this.rayPar);s.parent=this.inLane.prjLayer,s.worldPosition=this.eyeL.worldPosition,s.setSiblingIndex(0),this.ray_PSD=s.getComponent(R),this.ray_PSD.db.playAnimation("Idle",1/0),s.scale=new p(0,s.scale.y,10)}if(this.hit_PSD)this.ray_PSD.db.playAnimation("Idle",1/0);else{var r=E(this.hitPar);r.parent=this.inLane.prjLayer,r.worldPosition=new p(this.shootPos.x,this.shootPos.y),this.hit_PSD=r.getComponent(R),this.hit_PSD.db.playAnimation("Idle",1/0)}}},h.onWaveAdded=function(e){e.db.playAnimation("Idle_G")},h.onEmpStunStart=function(){this.shooting=0},h.specialZombieOnShrinked=function(e,t){this.haveImp=!1,this.haveDriver=!1},h.specialZombieOnLoad=function(){var e=this;this.db.armature().getSlots().forEach((function(t){t.name.includes("_IMP")?e._impSlots.push(t):t.name.includes("_DRIVER")&&e._driverSlots.push(t)}))},h._throwImp=function(){var e=s(r().mark((function e(t,i,o){var n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===t&&(t=this.lIndex),void 0===i&&(i=this.reversed?6:2),void 0===o&&(o=350),!this._haveImp){e.next=12;break}return this.haveImp=!1,e.next=7,g.throwOneImpToLnC(this.impEnum,this.inLane,new y(this.impThrower.worldPosition.x,this._worldPositionY),D.getLnC(t,i),this.impThrower.worldPosition.y-this._worldPositionY,o,1.5);case 7:return(n=e.sent).reversed=this.reversed,n.hypnotized=this._usedToBeHypnotized,n.onThrownByGargantuar(this),e.abrupt("return",n);case 12:return e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,this)})));return function(t,i,o){return e.apply(this,arguments)}}(),h.playEat=function(e){this.isWalking=!1},h.detectPlant=function(e){var t=this;if(this.detectPlantOn())if(this.inLane){if(!(e<=0))if(this.haveDriver){var i=!1;this.hypnotized?this.inLane.zombiePool().forEach((function(e){i||t.plantDetectorRec.judgeCrossRec(e.bodyRec)&&(i=!0)})):(this.inLane.plantPool().forEach((function(e){i||e.smasherDetectable&&t.plantDetectorRec.judgeCrossRec(e.bodyRec)&&(i=!0)})),this.inLane.hypnoZombiePool().forEach((function(e){i||t.plantDetectorRec.judgeCrossRec(e.bodyRec)&&(i=!0)}))),this.inLane.tombPool(this.hypnotized?0:1).forEach((function(e){i||t.plantDetectorRec.judgeCrossRec(e.bodyRec)&&(i=!0)})),i?(this.isWalking=!1,this.switching=!0,this.correctShadeWP(.1),this.body.playAnimation("Smash",1,.1)):this.playWalk()}else this.playIdle(0,0,!1)}else this.playWalk()},h.specialMechOnEnable=function(){this.shootCountDown=this.objdataOwn.EyeLaserDelayBetweenShots,this.haveImp=!0,this.haveDriver=!0},h.specialTriggerGameLose=function(){this.body.playAnimation("Smash",1/0)},h.canShoot=function(){return!(this.empCD>0)&&(!!this.switching||(this.reversed?!(this.cIndex>8-this.objdataOwn.EyeLaserMinDistance):!(this.cIndex<this.objdataOwn.EyeLaserMinDistance)))},h.clearAllPSD=function(){this.eyeL_PSD&&(this.eyeL_PSD.db.playAnimation("Die"),this.eyeL_PSD=null),this.eyeR_PSD&&(this.eyeR_PSD.db.playAnimation("Die"),this.eyeR_PSD=null),this.hit_PSD&&(this.hit_PSD.db.playAnimation("Die"),this.hit_PSD=null),this.ray_PSD&&(this.ray_PSD.db.playAnimation("Die"),this.ray_PSD=null)},h.playSpecialMechDieForced=function(){this.shooting=0,this.clearAllPSD()},h.specialZombieUpdateForced=function(e,t,i,o){this.shooting<=0&&this.clearAllPSD()},h.specialMechUpdate=function(e,t,i){if(!this.switching&&this.isInLawn()&&this.canShoot())if(this.shootCountDown>0)this.shootCountDown-=t;else if(i>0){if(this.shootCountDown=this.objdataOwn.EyeLaserDelayBetweenShots,this.switching=!0,this.isWalking=!1,this.shooting=1/0,this.correctShadeWP(.1),this.body.playAnimation("ShootStart",1/0,.1),this._say(),w.playOneShot(this.shootStartSound,2,.1),w.playOneShot(this.rayStartSound,2,.1),this.eyeL_PSD)this.eyeL_PSD.db.playAnimation("Start",1/0);else{var o=E(this.eyePar);o.parent=this.inLane.prjLayer,o.worldPosition=this.eyeL.worldPosition,this.eyeL_PSD=o.getComponent(R),this.eyeL_PSD.db.playAnimation("Start",1/0)}if(this.eyeR_PSD)this.eyeR_PSD.db.playAnimation("Start",1/0);else{var n=E(this.eyePar);n.parent=this.inLane.prjLayer,n.worldPosition=this.eyeR.worldPosition,this.eyeR_PSD=n.getComponent(R),this.eyeR_PSD.db.playAnimation("Start",1/0)}}if(this.eyeL_PSD&&(this.eyeL_PSD.node.setParent(this.inLane.prjLayer,!0),this.eyeL_PSD.node.worldPosition=this.eyeL.worldPosition),this.eyeR_PSD&&(this.eyeR_PSD.node.setParent(this.inLane.prjLayer,!0),this.eyeR_PSD.node.worldPosition=this.eyeR.worldPosition),e>0&&!this.switching&&this._haveImp&&this.health<this.toughness/2&&(!this.reversed&&this.inLnC.cIndex>2||this.reversed&&this.inLnC.cIndex<6)&&(this.isWalking=!1,this.switching=!0,this.body.playAnimation("Throw",1)),this.shooting>0){this.shooting-=e,w.playOneShot(this.rayLoopSound,1,NaN,.666);var a=_.createRectangleCenter(this.shootPos,30,30),s=D.judgeLIndex(this.shootPos.y),r=D.getLane(s),h=new L(this.objdataOwn.EyeLaserTotalDamage*e,!0,!1,!1,null,v.ray);if(null==r||r.plantPool().forEach((function(e){a.judgeCrossRec(e.bodyRec)&&e.dealDamage(h.damage,3)})),null==r||r.zombiePool().forEach((function(e){a.judgeCrossRec(e.bodyRec)&&e.dealDamage(h)})),null==r||r.hypnoZombiePool().forEach((function(e){a.judgeCrossRec(e.bodyRec)&&e.dealDamage(h)})),null==r||r.tombPool(2).forEach((function(e){a.judgeCrossRec(e.bodyRec)&&e.dealDamage(h)})),this.ray_PSD){this.ray_PSD.node.setParent(this.lIndex>s?this.inLane.prjLayer:r.prjLayer,!0),this.ray_PSD.node.worldPosition=this.eyeL.worldPosition;var l=new y(this.shootPos.x-this.eyeL.worldPosition.x,this.shootPos.y-this.eyeL.worldPosition.y),u=l.length(),c=90*Math.atan2(l.y,l.x)/S;this.ray_PSD.node.scale=new p(u/200,this.ray_PSD.node.scale.y,10),this.ray_PSD.node.angle=c}this.hit_PSD&&(this.hit_PSD.node.setParent(r.prjLayer,!0),this.hit_PSD.node.worldPosition=new p(this.shootPos.x,this.shootPos.y)),this.empCD>0&&(this.shooting=0),this.shooting<=0&&(this.body.playAnimation("ShootEnd",1/0),w.playOneShot(this.shootEndSound,2,.1),w.playOneShot(this.rayEndSound,2,.1),this.shootCountDown=this.objdataOwn.EyeLaserDelayBetweenShots)}},h.onSmashing=function(){},h._smash=function(){var e,t=this,i=null,o=null,n=null,a=_.createRectangleCenter(new y(this.shadeSocket.worldPosition.x+this.AttackRect.x*(this.reversed?-1:1),this._worldPosition.y+this._height+this.AttackRect.y),1.5*this.AttackRect.w,this.AttackRect.h);this.hypnotized||(i=this.inLane.plantPool().filter((function(e){return e.smasherDetectable&&e.bodyRec.judgeCrossRec(a)})).sort((function(e,i){var o=t.scale>0?e.bodyRec.prjX().y:e.bodyRec.prjX().x;return((t.scale>0?i.bodyRec.prjX().y:i.bodyRec.prjX().x)-o)*t.scale})).find((function(){return!0}))),o=this.getSingleZombieInRec(a),n=this.getSingleTombInRec(a);var s=null;o&&(s=new y(o.worldPositionX-this.worldPositionX,o.zombieHeight-this.zombieHeight).normalize().multiplyScalar(20));var r=new L(this.objdataOwn.SmashDamage,!0,!0,!0,s);o?o.dealDamage(r):i?null==(e=i)||e.smash(this,!0):n&&n.dealDamage(r),this.onSmashing()},a(t,[{key:"objdataOwn",get:function(){return this._objdataOwn}},{key:"shooting",get:function(){return this._shooting},set:function(e){var t=this.sweepFrom.clone().add(this.sweepFrom.clone().add(this.sweepTo.clone().negative()).multiplyScalar(e/(this._shootDuration+.01)));this.shootPos=t,this._shooting=e}},{key:"haveImp",get:function(){return this._haveImp},set:function(e){this._haveImp=e,this._impSlots.forEach((function(t){t._setDisplayIndex(e?0:-1)}))}},{key:"haveDriver",get:function(){return this._haveDriver},set:function(e){this._haveDriver=e,this.finalWaveVictoryCountdown=e?.1:0,this._driverSlots.forEach((function(t){t._setDisplayIndex(e?0:-1)}))}}]),t}(b)).prototype,"stepSounds",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),K=t(U.prototype,"stepRiseSounds",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),J=t(U.prototype,"smashSounds",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Q=t(U.prototype,"saySounds",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),$=t(U.prototype,"throwSound",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ee=t(U.prototype,"throwPrepareSound",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),te=t(U.prototype,"riseSound",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ie=t(U.prototype,"shootStartSound",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),oe=t(U.prototype,"shootEndSound",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ne=t(U.prototype,"rayStartSound",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ae=t(U.prototype,"rayLoopSound",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),se=t(U.prototype,"rayEndSound",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),re=t(U.prototype,"impThrower",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),he=t(U.prototype,"eyeL",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),le=t(U.prototype,"eyeR",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ue=t(U.prototype,"eyePar",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ce=t(U.prototype,"hitPar",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),de=t(U.prototype,"rayPar",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=U))||V));h._RF.pop()}}}));

System.register("chunks:///_virtual/FutureImpZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./SoundRescourses.ts","./ArrayGet.ts"],(function(t){var i,n,e,a,o,l,u,h,r,s,p,c,d;return{setters:[function(t){i=t.applyDecoratedDescriptor,n=t.inheritsLoose,e=t.initializerDefineProperty,a=t.assertThisInitialized,o=t.createClass},function(t){l=t.cclegacy,u=t._decorator,h=t.AudioClip,r=t.Vec2},function(t){s=t.Zombie,p=t.ZombieProps},function(t){c=t.sounds},function(t){d=t.ArrayGet}],execute:function(){var m,y,S,b,g,w,f,D,k,v,A,C,F,I,O,z,Z,W,j,L,T,B,E;l._RF.push({},"96cefTTA/tLI4qg9YkvQnSt","FutureImpZombie",void 0);var R=u.ccclass,_=u.property,x=function(t){function i(){for(var i,n=arguments.length,e=new Array(n),a=0;a<n;a++)e[a]=arguments[a];return(i=t.call.apply(t,[this].concat(e))||this).EMPStunTimeScale=1,i}return n(i,t),i}(p);t("FutureImpZombie",(m=R("FutureImpZombie"),y=_([h]),S=_([h]),b=_(h),g=_(h),w=_(h),f=_(h),D=_(h),k=_(h),v=_(h),A=_(h),m((I=i((F=function(t){function i(){for(var i,n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(i=t.call.apply(t,[this].concat(o))||this)._objdataOwn=new x,i.hopping=!1,i.walkIdleDuration=2.107,i.walkIdleCD=0,i.chewSoundWhenEat=!1,i.empCD=0,e(i,"eatSound",I,a(i)),e(i,"hopSound",O,a(i)),e(i,"deathFallSound",z,a(i)),e(i,"landSound",Z,a(i)),e(i,"expandSound",W,a(i)),e(i,"fallSound",j,a(i)),e(i,"activateSound",L,a(i)),e(i,"deactivateSound",T,a(i)),e(i,"mouthActivateSound",B,a(i)),e(i,"mouthDeactivateSound",E,a(i)),i}n(i,t);var l=i.prototype;return l.playSpecialZombieDie=function(t){this.judgeDeath(.2)},l.onThrownByBull=function(t){this.switching=!0,this.body.playAnimation("Fly",1/0),this.isWalking=!1},l.onThrownByGargantuar=function(t){this.switching=!0,this.body.playAnimation("Fly",1/0),this.isWalking=!1},l.onKickedByAllstar=function(t){this.switching=!0,this.body.playAnimation("Fly",1/0),this.isWalking=!1},l.playFallFromSky=function(t){this.height=600,this.switching=!0,this.isWalking=!1,this.body.playAnimation("Fall",1/0),this.flying=!0,this.height=600,this.dirtSpawning=!0,c.playOneShot(this.fallSound,1,1),this.leapBy(new r(0,0),!0,1,600,!0,!1,!1,!1),this.dirtSpawning=!1},l.playDirtSpawn=function(t){this.playFallFromSky(t)},l.onWalkStart=function(){this.hopping=!1,this.walkIdleCD=1/0},l.walkDisScale=function(t){return this.hopping?8:0},l.specialAnimationListener=function(t){"walkStart"==t.name?(this.hopping=!0,c.playOneShot(d.getRandom(this.hopSound),.7,.1)):"walkEnd"==t.name?(this.hopping=!1,this.walkIdleCD=1/0):"walkIdle"==t.name?(this.hopping=!1,this.walkIdleCD=this.walkIdleDuration,this.body.playAnimation("Idle",1/0)):"chew"==t.name?c.playOneShot(d.getRandom(this.eatSound),.7,.1):"deathFall"==t.name?c.playOneShot(this.deathFallSound,.7,.1):"expand"==t.name?c.playOneShot(this.expandSound,1,.1):"mouthHitDeactivate"==t.name?c.playOneShot(this.mouthDeactivateSound,1,.1):"mouthHitActivate"==t.name?c.playOneShot(this.mouthActivateSound,1,.1):"mouthHit"==t.name?c.playOneShot(d.getRandom([this.mouthActivateSound,this.mouthDeactivateSound]),1,.1):"mechStun"==t.name&&this.body.playAnimation("StunLoop",1/0)},l.chilibeanFart=function(){},l.specialZombieUpdate=function(t,i,n){this.empCD>0&&(this.empCD-=t,this.empCD<=0&&(this.body.playAnimation("StunEnd",1/0),c.playOneShot(this.activateSound,1,.1))),this.isWalking&&this.walkIdleCD>0&&(this.walkIdleCD-=t,this.walkIdleCD<=0&&(this.body.playAnimation("Walk",1/0),this.walkIdleCD=1/0))},l.empStun=function(t){void 0===t&&(t=10),t*=this.objdataOwn.EMPStunTimeScale,this.empCD<=0&&(this.isWalking=!1,this.switching=!0,this.body.playAnimation("StunStart",1/0,.2),c.playOneShot(this.deactivateSound,1,.1)),this.empCD=this.empCD<t?t:this.empCD},l.specialZombieOnEnable=function(){this.hopping=!1,this.empCD=0,this.walkIdleCD=1/0},l.specialZombieOnLanding=function(){this.isAlive()&&this.switching?(this.switching=!0,this.isWalking=!1,this.body.playAnimation("Land",1),c.playOneShot(this.landSound,.7,.1)):this.judgeDeath(0)},o(i,[{key:"objdataOwn",get:function(){return this._objdataOwn}}]),i}(s)).prototype,"eatSound",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=i(F.prototype,"hopSound",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=i(F.prototype,"deathFallSound",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=i(F.prototype,"landSound",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=i(F.prototype,"expandSound",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=i(F.prototype,"fallSound",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=i(F.prototype,"activateSound",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=i(F.prototype,"deactivateSound",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=i(F.prototype,"mouthActivateSound",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=i(F.prototype,"mouthDeactivateSound",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=F))||C));l._RF.pop()}}}));

System.register("chunks:///_virtual/FutureInfiNutShieldZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FutureProtectorShieldZombie.ts"],(function(t){var e,i,n,a,r;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){n=t.cclegacy,a=t._decorator},function(t){r=t.FutureProtectorShieldZombie}],execute:function(){var o;n._RF.push({},"0c89dloB/ZEOqdPgFvmbi+U","FutureInfiNutShieldZombie",void 0);var s=a.ccclass;a.property,t("FutureInfiNutShieldZombie",s("FutureInfiNutShieldZombie")(o=function(t){function n(){for(var e,i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];return(e=t.call.apply(t,[this].concat(n))||this).masterPlant=void 0,e._hurtStage=0,e}e(n,t);var a=n.prototype;return a.detectPlant=function(t){var e=this;this.inLane&&this.hypnotized&&this.inLane.zombiePool().forEach((function(t){t.tallNutBlock&&t.knockBackTween&&t.leapHeightTween&&e.bodyRec.judgeCrossRec(t.bodyRec)&&(t._onKnockBackEnd(),t.onLeapEnd(!0),t.height=0,t.onTallNutBlocked())}))},a.shieldDieForced=function(){var t;null==(t=this.masterPlant)||t.shieldOnDamaged(this,-1),this.masterPlant=null},a.readStage=function(t){for(var e=0,i=2;i>=0;i--)if(t>i/3*this.toughness){e=2-i;break}this.hurtStage!=e&&(this.hurtStage=e)},a.onDamaged=function(t,e,i){var n;this.readStage(e),null==(n=this.masterPlant)||n.shieldOnDamaged(this,e)},a.shieldOnEnable=function(){this.masterPlant=null},i(n,[{key:"hurtStage",get:function(){return this._hurtStage},set:function(t){switch(t){case 1:this.idleAnm="Idle1";break;case 2:this.idleAnm="Idle2";break;default:this.idleAnm="Idle",t=0}t!=this._hurtStage&&(this.body.playAnimation(this.idleAnm,1/0),this._hurtStage=t),this._hurtStage=t}}]),n}(r))||o);n._RF.pop()}}}));

System.register("chunks:///_virtual/FutureJetpackZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./CharacterManager.ts","./Plant.ts","./SoundRescourses.ts"],(function(t){var i,e,n,a,s,l,o,r,c,h,u;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){s=t.cclegacy,l=t._decorator,o=t.AudioClip},function(t){r=t.Zombie},function(t){c=t.ZombieDamageDetails},function(t){h=t.PlantType},function(t){u=t.sounds}],execute:function(){var p,y,d,b,m,f,g;s._RF.push({},"37be5lN91pBzp7ia+0w4ui3","FutureJetpackZombie",void 0);var k=l.ccclass,S=l.property;t("FutureJetpackZombie",(p=k("FutureJetpackZombie"),y=S([o]),d=S([o]),p((f=i((m=function(t){function i(){for(var i,e=arguments.length,s=new Array(e),l=0;l<e;l++)s[l]=arguments[l];return(i=t.call.apply(t,[this].concat(s))||this).rosen=!1,n(i,"bounceSound",f,a(i)),n(i,"steadySound",g,a(i)),i}e(i,t);var s=i.prototype;return s.specialAnimationListener=function(t){"walk"==t.name?(this.switching=!1,this.isAlive()&&this.playWalk()):"steady"==t.name?u.playArray(this.steadySound,1,.5):"bounce"==t.name&&u.playArray(this.bounceSound,1,.1)},s.walkTimeScale=function(t,i,e){return 1.5},s.lockedTimeScale=function(){return this.fallingInSky?.001:this.isWalking?1:NaN},s.playDirtSpawn=function(t){this.isWalking=!1,this.switching=!0,this.height=700*(1-Math.abs(this.scale)),this.body.playAnimation("Summon",1)},s.rise=function(){this.rosen||(this.switching=!0,this.rosen=!0,this.isWalking=!1,this.body.playAnimation("Rise",1),this.body.WalkAnm="Walk_High")},s.land=function(){this.rosen&&(this.switching=!0,this.isWalking=!1,this.body.playAnimation("Land",1),this.body.WalkAnm="Walk",this.rosen=!1)},s.detectPlant=function(t){var i;if(this.inLane){if(0!=t&&this.detectPlantOn()){var e=this.plantDetectorRec,n=null,a=null,s=null;if(this.ignorePlants()||(this.hypnotized||this.inLane.plantPool().forEach((function(t){t.eaterDetectable&&!t.short_&&e.judgeCrossRec(t.bodyRec)&&(n&&t.plantType!=h.vine&&t.plantType!=h.plant&&t.plantType!=h.lilyPad&&t.plantType!=h.pot||(!n||n&&!n.tall_)&&(n=t))})),a=this.getSingleZombieInRec(e),s=this.getSingleTombInRec(e)),null!=(i=n)&&i.tall_||a||s)if(this.rosen)this.land();else{var l=new c(this.dps*t,!0,!1,!1,null);a?(this.playEat(t),a.eatByZombie(l,this)):s?(this.playEat(t),s.dealDamage(l)):n&&(this.playEat(t),n.eat(l.damage,this))}else n?this.rosen||this.rise():this.rosen?this.land():this.playWalk()}}else this.playWalk()},s.specialZombieOnEnable=function(){this.rosen=!1,this.body.WalkAnm="Walk",this.replayAnimation()},i}(r)).prototype,"bounceSound",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),g=i(m.prototype,"steadySound",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),b=m))||b));s._RF.pop()}}}));

System.register("chunks:///_virtual/FutureMechConeZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MechZombie.ts","./SoundRescourses.ts"],(function(t){var e,n,o,s,i,a,r,u,l,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,s=t.assertThisInitialized,i=t.createClass},function(t){a=t.cclegacy,r=t._decorator,u=t.AudioClip},function(t){l=t.MechZombie},function(t){c=t.sounds}],execute:function(){var p,h,b,S,f,d,m,y,g,_,v,A,D,F,M;a._RF.push({},"19faf7nOJtA/oOIUU5b1ULA","FutureMechConeZombie",void 0);var w=r.ccclass,z=r.property;t("FutureMechConeZombie",(p=w("FutureMechConeZombie"),h=z([u]),b=z([u]),S=z([u]),f=z([u]),d=z([u]),m=z([u]),p((_=e((g=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))||this).bp1Slots=[],e.bp2Slots=[],e.bp3Slots=[],e.bp4Slots=[],e.bp5Slots=[],e.bp6Slots=[],e._hurtStage=0,o(e,"deathFallSounds",_,s(e)),o(e,"curveSounds",v,s(e)),o(e,"footStepsSounds",A,s(e)),o(e,"eatStartSounds",D,s(e)),o(e,"mouthOpenSounds",F,s(e)),o(e,"armBackSounds",M,s(e)),e}n(e,t);var a=e.prototype;return a.specialMechZombieOnLoad=function(){var t,e=this;this.bp1Slots=[],this.bp2Slots=[],this.bp3Slots=[],this.bp4Slots=[],this.bp5Slots=[],this.bp6Slots=[],null==(t=this.body.db.armature())||null==(t=t.getSlots())||t.forEach((function(t){t.name.includes("_bp1")?e.bp1Slots.push(t):t.name.includes("_bp2")?e.bp2Slots.push(t):t.name.includes("_bp3")?e.bp3Slots.push(t):t.name.includes("_bp4")?e.bp4Slots.push(t):t.name.includes("_bp5")?e.bp5Slots.push(t):t.name.includes("_bp6")&&e.bp6Slots.push(t)}))},a.specialMechOnEnable=function(){this.hurtStage=0},a.onDamaged=function(t,e,n){for(var o=6,s=0;s<7;s++)if(e>(7-s-1)/7*this.toughness){o=s;break}o!=this.hurtStage&&(this.hurtStage=o)},a.specialMechAnimationListener=function(t){"mouthOpen"==t.name?c.playArray(this.mouthOpenSounds,1,.1):"eatStart"==t.name?c.playArray(this.eatStartSounds,1,.1):"footStep"==t.name?c.playArray(this.footStepsSounds,1,.1):"curveSound"==t.name?c.playArray(this.curveSounds,3,NaN,.4):"deathFall"==t.name&&c.playArray(this.deathFallSounds,1,.1)},i(e,[{key:"hurtStage",get:function(){return this._hurtStage},set:function(t){switch(t){case 1:case 2:case 3:case 4:case 5:case 6:break;default:t=0}this.bp1Slots.forEach((function(e){e._setDisplayIndex(1==t?0:-1)})),this.bp2Slots.forEach((function(e){e._setDisplayIndex(2==t?0:-1)})),this.bp3Slots.forEach((function(e){e._setDisplayIndex(3==t?0:-1)})),this.bp4Slots.forEach((function(e){e._setDisplayIndex(4==t?0:-1)})),this.bp5Slots.forEach((function(e){e._setDisplayIndex(5==t?0:-1)})),this.bp6Slots.forEach((function(e){e._setDisplayIndex(6==t?0:-1)})),this._hurtStage=t}}]),e}(l)).prototype,"deathFallSounds",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=e(g.prototype,"curveSounds",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=e(g.prototype,"footStepsSounds",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=e(g.prototype,"eatStartSounds",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=e(g.prototype,"mouthOpenSounds",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),M=e(g.prototype,"armBackSounds",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y=g))||y));a._RF.pop()}}}));

System.register("chunks:///_virtual/FutureMechDiscoZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MechZombie.ts","./SoundRescourses.ts","./ArrayGet.ts","./CharacterManager.ts","./Square.ts","./Zombies.ts","./SoundsController.ts"],(function(t){var n,e,i,s,o,a,u,r,l,c,h,p,d,m,b,f,S,y,D,g;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,s=t.assertThisInitialized,o=t.asyncToGenerator,a=t.regeneratorRuntime,u=t.createClass},function(t){r=t.cclegacy,l=t._decorator,c=t.AudioClip},function(t){h=t.MechZombie,p=t.MechZombieProps},function(t){d=t.sounds},function(t){m=t.ArrayGet},function(t){b=t.ZombieDamageType,f=t.ZombieGroanSoundGroupEnum},function(t){S=t.Square},function(t){y=t.zombies,D=t.ZombieEnum},function(t){g=t.MusicController}],execute:function(){var _,w,C,E,v,I,k,Z,M,x,O,A,z,P,W,j,F;r._RF.push({},"3d801ZA4tZFC4XqxIZXa16M","FutureMechDiscoZombie",void 0);var L=l.ccclass,G=l.property,R=function(t){function n(){for(var n,e=arguments.length,i=new Array(e),s=0;s<e;s++)i[s]=arguments[s];return(n=t.call.apply(t,[this].concat(i))||this).SummonDuration=3,n.DanceCountdown=3,n.DanceDuration=3,n}return e(n,t),n}(p);t("FutureMechDiscoZombie",(_=L("FutureMechDiscoZombie"),w=G([c]),C=G([c]),E=G([c]),v=G(c),I=G(c),k=G(c),Z=G(c),_((O=n((x=function(t){function n(){for(var n,e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];return(n=t.call.apply(t,[this].concat(o))||this)._objdataOwn=new R,n.bp1Slots=[],n.bp2Slots=[],n.bp3Slots=[],n.bp4Slots=[],n.bp5Slots=[],n.bp6Slots=[],n._haveImp=!0,n._impSlots=[],n._hurtStage=0,n.danceCD=6,n.danceEndCD=1,i(n,"chewSounds",O,s(n)),i(n,"stepSounds",A,s(n)),i(n,"summonEndSounds",z,s(n)),i(n,"pullSound",P,s(n)),i(n,"summonSound",W,s(n)),n._summonedZombies=[],i(n,"musicClip",j,s(n)),i(n,"musicClipWeak",F,s(n)),n}e(n,t);var r=n.prototype;return r.specialMechZombieOnLoad=function(){var t,n=this;this.bp1Slots=[],this.bp2Slots=[],this.bp3Slots=[],this.bp4Slots=[],this.bp5Slots=[],this.bp6Slots=[],null==(t=this.body.db.armature())||null==(t=t.getSlots())||t.forEach((function(t){t.name.includes("_bp1")?n.bp1Slots.push(t):t.name.includes("_bp2")?n.bp2Slots.push(t):t.name.includes("_bp3")?n.bp3Slots.push(t):t.name.includes("_bp4")?n.bp4Slots.push(t):t.name.includes("_bp5")?n.bp5Slots.push(t):t.name.includes("_bp6")?n.bp6Slots.push(t):t.name.includes("_IMP")&&n._impSlots.push(t)}))},r.specialZombieOnShrinked=function(t,n){this.haveImp=!1},r.specialMechOnEnable=function(){this.haveImp=!0,this.hurtStage=0,this.danceEndCD=1/0,this.danceCD=this.objdataOwn.DanceCountdown,this._summonedZombies=[]},r.onDamaged=function(t,n,e){for(var i=6,s=0;s<7;s++)if(n>(7-s-1)/7*this.toughness){i=s;break}i!=this.hurtStage&&(this.hurtStage=i)},r.specialMechAnimationListener=function(t){"chew"==t.name?d.playOneShot(m.getRandom(this.chewSounds),1,.1):"step"==t.name?d.playOneShot(m.getRandom(this.stepSounds),1,.1):"pull"==t.name?d.playOneShot(this.pullSound,1,.1):"summonStart"==t.name&&(this.body.playAnimation("SummonLoop",1/0),d.playOneShot(this.summonSound,1,.1),this.danceEndCD=this.objdataOwn.SummonDuration,this._summonJetpacks())},r._summonJetpacks=function(){var t=this;if(this.inLane){var n={lane:this.lIndex,offset:1.2*-S.SquareWidth},e={lane:this.lIndex,offset:1.2*S.SquareWidth},i={lane:this.lIndex-1,offset:0},s={lane:this.lIndex+1,offset:0};this._summonedZombies=[],[n,e,i,s].forEach(o(a().mark((function n(e){var i;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(e.lane>=0&&e.lane<=4)){n.next=10;break}return n.next=3,y.spawnZombieFromLane(e.lane,D.future_jetpack_disco);case 3:(i=n.sent).hypnotized=t.hypnotized,i.reversed=t.reversed,i.worldPositionX=t.worldPositionX+e.offset,i.shrink(t.ShrinkProps,0),i.playDirtSpawn(0),t._summonedZombies.push(i);case 10:case"end":return n.stop()}}),n)}))))}},r.detectPlant=function(t){if(this.haveImp)this.defaultDetectPlant(t);else{if(this.switching)return;this.isWalking=!1,this.isEating=!1,this.playIdle(0,0,!1)}},r.playSpecialMechDie=function(t){isFinite(this.danceEndCD)&&this.killAllSummoned()},r.playMusic=function(){g.discoPlayed?d.playOneShot(this.musicClipWeak,1,1.5*this.musicClipWeak.getDuration()):(g.insertMusic(this.musicClip),g.discoPlayed=!0)},r.killAllSummoned=function(){this._summonedZombies.forEach((function(t){t.isAlive()&&t.playDie(!1,null,!0,b.physicle,!0,!0,!0)})),this._summonedZombies=[]},r.onEmpStunStart=function(){this.danceCD=this.objdataOwn.DanceDuration/2,isFinite(this.danceEndCD)&&this.killAllSummoned(),this.danceEndCD=1/0},r.specialMechUpdate=function(t,n,e){this.empCD<=0&&this.enteredLawn&&(!this.switching&&(this.isWalking||this.isIdling)&&this.cIndex<9?this.danceCD>0?this.danceCD-=t:(this.correctShadeWP(.1),this.isWalking=!1,this.switching=!0,this.isIdling=!1,this.body.playAnimation("SummonStart",1/0,.1),this.playMusic(),this.danceEndCD=1/0,this.danceCD=this.objdataOwn.DanceDuration):this.danceEndCD>0?this.danceEndCD-=t:(this.body.playAnimation("SummonEnd",1/0,.1),this._summonedZombies=[],d.playOneShot(m.getRandom(this.summonEndSounds),1,.1),this.danceCD=this.objdataOwn.DanceDuration,this.danceEndCD=1/0))},u(n,[{key:"objdataOwn",get:function(){return this._objdataOwn}},{key:"haveImp",get:function(){return this._haveImp},set:function(t){this._haveImp=t,this.finalWaveVictoryCountdown=t?.1:0,this.zombieGroanSoundGroup=t?f.imp:f.none,this._impSlots.forEach((function(n){n._setDisplayIndex(t?0:-1)}))}},{key:"hurtStage",get:function(){return this._hurtStage},set:function(t){switch(t){case 1:case 2:case 3:case 4:case 5:case 6:break;default:t=0}this.bp1Slots.forEach((function(n){n._setDisplayIndex(1==t?0:-1)})),this.bp2Slots.forEach((function(n){n._setDisplayIndex(2==t?0:-1)})),this.bp3Slots.forEach((function(n){n._setDisplayIndex(3==t?0:-1)})),this.bp4Slots.forEach((function(n){n._setDisplayIndex(4==t?0:-1)})),this.bp5Slots.forEach((function(n){n._setDisplayIndex(5==t?0:-1)})),this.bp6Slots.forEach((function(n){n._setDisplayIndex(6==t?0:-1)})),this._hurtStage=t}}]),n}(h)).prototype,"chewSounds",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=n(x.prototype,"stepSounds",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=n(x.prototype,"summonEndSounds",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),P=n(x.prototype,"pullSound",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=n(x.prototype,"summonSound",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=n(x.prototype,"musicClip",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=n(x.prototype,"musicClipWeak",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=x))||M));r._RF.pop()}}}));

System.register("chunks:///_virtual/FutureMechFootballZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MechZombie.ts","./CharacterManager.ts","./ArrayGet.ts","./SoundRescourses.ts","./Zombies.ts"],(function(e){var t,o,n,a,i,s,l,c,r,u,h,p,b,d,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized,i=e.createClass},function(e){s=e.cclegacy,l=e._decorator,c=e.AudioClip},function(e){r=e.MechZombie,u=e.MechZombieProps},function(e){h=e.ZombieDamageDetails,p=e.footballmech},function(e){b=e.ArrayGet},function(e){d=e.sounds},function(e){f=e.ZombieEnum}],execute:function(){var y,m,S,g,R,D,_,v,P,j,F;s._RF.push({},"fe1bcEG9ulHEr2IDVzU8cHN","FutureMechFootballZombie",void 0);var E=l.ccclass,w=l.property,L=function(e){function t(){for(var t,o=arguments.length,n=new Array(o),a=0;a<o;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).PushFailDamage=400,t}return o(t,e),t}(u);e("FutureMechFootballZombie",(y=E("FutureMechFootballZombie"),m=w(c),S=w(c),g=w([c]),R=w([c]),y((v=t((_=function(e){function t(){for(var t,o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return(t=e.call.apply(e,[this].concat(i))||this)._objdataOwn=new L,t.bp1Slots=[],t.bp2Slots=[],t.bp3Slots=[],t.bp4Slots=[],t.bp5Slots=[],t.bp6Slots=[],t._hurtStage=0,n(t,"deathFallSound",v,a(t)),n(t,"deactivateFallSound",P,a(t)),n(t,"stepSounds",j,a(t)),n(t,"pushSounds",F,a(t)),t}o(t,e);var s=t.prototype;return s.specialMechZombieOnLoad=function(){var e,t=this;this.bp1Slots=[],this.bp2Slots=[],this.bp3Slots=[],this.bp4Slots=[],this.bp5Slots=[],this.bp6Slots=[],null==(e=this.body.db.armature())||null==(e=e.getSlots())||e.forEach((function(e){e.name.includes("_bp1")?t.bp1Slots.push(e):e.name.includes("_bp2")?t.bp2Slots.push(e):e.name.includes("_bp3")?t.bp3Slots.push(e):e.name.includes("_bp4")?t.bp4Slots.push(e):e.name.includes("_bp5")?t.bp5Slots.push(e):e.name.includes("_bp6")&&t.bp6Slots.push(e)}))},s.specialMechOnEnable=function(){this.hurtStage=0},s.onDamaged=function(e,t,o){for(var n=6,a=0;a<7;a++)if(t>(7-a-1)/7*this.toughness){n=a;break}n!=this.hurtStage&&(this.hurtStage=n)},s.specialMechAnimationListener=function(e){"step"==e.name?d.playOneShot(b.getRandom(this.stepSounds),1,.2):"push"==e.name?(d.playOneShot(b.getRandom(this.pushSounds),1,.1),this._pushPlants()):"deactivateFall"==e.name?d.playOneShot(this.deactivateFallSound,1,.1):"deathSound"==e.name&&d.playOneShot(this.deathFallSound,1,.1)},s.detectPlant=function(e){var t=this;if(this.detectPlantOn())if(this.inLane){if(!(e<=0)){var o=!1;this.hypnotized?this.inLane.zombiePool().forEach((function(e){o||t.plantDetectorRec.judgeCrossRec(e.bodyRec)&&(o=!0)})):(this.inLane.plantPool().forEach((function(e){o||e.eaterDetectable&&!e.short_&&t.plantDetectorRec.judgeCrossRec(e.bodyRec)&&(o=!0)})),this.inLane.hypnoZombiePool().forEach((function(e){o||t.plantDetectorRec.judgeCrossRec(e.bodyRec)&&(o=!0)}))),this.inLane.tombPool(this.hypnotized?0:1).forEach((function(e){o||t.plantDetectorRec.judgeCrossRec(e.bodyRec)&&(o=!0)})),o?(this.isWalking=!1,this.switching=!0,this.correctShadeWP(.1),this.body.playAnimation("Push",1/0,.1)):this.playWalk()}}else this.playWalk()},s._pushPlants=function(){var e=this,t=null,o=null,n=null,a=new h(this.objdataOwn.PushFailDamage,!0,!0,!0);if(this.hypnotized){var i=1/0;this.inLane.zombiePool().forEach((function(t){var n=t.bodyRec.prjX().x;t.bodyRec.judgeCrossRec(e.plantDetectorRec)&&n<i&&(o=t,i=n)})),this.inLane.tombPool(0).forEach((function(t){var o=t.bodyRec.prjX().x;t.bodyRec.judgeCrossRec(e.plantDetectorRec)&&o<i&&(n=t,i=o)}))}else{this.inLane.plantPool().forEach((function(o){!o.short_&&o.eaterDetectable&&o.bodyRec.judgeCrossRec(e.plantDetectorRec)&&(!t||t.bodyRec.prjX().y<o.bodyRec.prjX().y)&&(t=o)}));var s=-1/0;this.inLane.hypnoZombiePool().forEach((function(t){var n=t.bodyRec.prjX().y;t.bodyRec.judgeCrossRec(e.plantDetectorRec)&&n>s&&(o=t,s=n)})),this.inLane.tombPool(1).forEach((function(t){var o=t.bodyRec.prjX().x;t.bodyRec.judgeCrossRec(e.plantDetectorRec)&&o>s&&(n=t,s=o)}))}if(o){var l=this.objdata.PushFailDamage;o.ID!=f.future_infinut_shield&&o.ID!=f.modern_moonflower_shield||(l=o.toughness/3),o.dealDamage(a.replaceDamage(l))}else t?this.reversed?p.pushPlantRight(t,this.objdataOwn.PushFailDamage):p.pushPlantLeft(t,this.objdataOwn.PushFailDamage):n&&n.dealDamage(a)},i(t,[{key:"objdataOwn",get:function(){return this._objdataOwn}},{key:"hurtStage",get:function(){return this._hurtStage},set:function(e){switch(e){case 1:case 2:case 3:case 4:case 5:case 6:break;default:e=0}this.bp1Slots.forEach((function(t){t._setDisplayIndex(1==e?0:-1)})),this.bp2Slots.forEach((function(t){t._setDisplayIndex(2==e?0:-1)})),this.bp3Slots.forEach((function(t){t._setDisplayIndex(3==e?0:-1)})),this.bp4Slots.forEach((function(t){t._setDisplayIndex(4==e?0:-1)})),this.bp5Slots.forEach((function(t){t._setDisplayIndex(5==e?0:-1)})),this.bp6Slots.forEach((function(t){t._setDisplayIndex(6==e?0:-1)})),this._hurtStage=e}}]),t}(r)).prototype,"deathFallSound",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=t(_.prototype,"deactivateFallSound",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=t(_.prototype,"stepSounds",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=t(_.prototype,"pushSounds",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=_))||D));s._RF.pop()}}}));

System.register("chunks:///_virtual/FutureProtectorShieldZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./SoundRescourses.ts","./ArrayGet.ts","./CharacterManager.ts"],(function(n){var t,e,i,o,s,a,r,u,l,c,h,d,p;return{setters:[function(n){t=n.applyDecoratedDescriptor,e=n.inheritsLoose,i=n.initializerDefineProperty,o=n.assertThisInitialized,s=n.createClass},function(n){a=n.cclegacy,r=n._decorator,u=n.AudioClip,l=n.Vec2},function(n){c=n.Zombie},function(n){h=n.sounds},function(n){d=n.ArrayGet},function(n){p=n.Rectangle}],execute:function(){var f,S,m,w,y,b,g;a._RF.push({},"d88a7MgmMpG14bO0whEAs2Y","FutureProtectorShieldZombie",void 0);var _=r.ccclass,D=r.property;n("FutureProtectorShieldZombie",(f=_("FutureProtectorShieldZombie"),S=D([u]),m=D(u),f((b=t((y=function(n){function t(){for(var t,e=arguments.length,s=new Array(e),a=0;a<e;a++)s[a]=arguments[a];return(t=n.call.apply(n,[this].concat(s))||this).isRealZombie=!1,i(t,"spawnSounds",b,o(t)),i(t,"loopSound",g,o(t)),t.idleAnm="Idle",t.master=void 0,t.potatoMineDisappear=!1,t.bindsToLane=!1,t.finalWaveVictoryCountdown=0,t._upSlots=[],t._upShown=!0,t.isBrainEater=!1,t._downSlots=[],t._downShown=!0,t.leapable=!1,t._pos=3,t}e(t,n);var a=t.prototype;return a.setChiliStun=function(n){return!1},a.setChill=function(n){return!1},a.setFreeze=function(n,t){return!1},a.chilibeanFart=function(){},a.correctDepth=function(n){},a.addArmor=function(n,t){return null},a.addZombieWave=function(n){},a.playDirtSpawn=function(n){},a.setButter=function(n,t){return!1},a.setPoison=function(n,t,e){},a.setPerfume=function(n){},a.setSunBeanParticleCD=function(n){},a.setStun=function(n){},a.triggerGameLose=function(){},a.playTeleportSpawn=function(){},a.playPopOut=function(){},a.detectPlant=function(n){},a.CanBeChompedByTyranno=function(){return!1},a.CanBeScaredByTyranno=function(){return!1},a.knockBackBy=function(n,t,e,i,o,s){return new l(this.worldPositionX,this.worldPositionY)},a.knockBackTo=function(n,t,e,i,o){return new l(this.worldPositionX,this.worldPositionY)},a.leapBy=function(n,t,e,i,o,s,a,r){},a.leapTo=function(n,t,e,i,o,s,a){},a.dealHurrikale=function(n){},a.onRoaredByTyranno=function(n){},a.commonShotPopOnTouch=function(n){return n.dealDamageToTarget(this,!1),n.splat(this),!1},a.specialZombieOnSquareChange=function(n,t){if(n){var e=n.zombieShields.indexOf(this);-1!=e&&n.zombieShields.splice(e,1)}null!=t&&t.isInLawn()&&this.isAlive()&&(-1==t.zombieShields.indexOf(this)&&t.zombieShields.push(this));this.specialShieldOnSquareChange(n,t)},a.specialShieldOnSquareChange=function(n,t){},a.lockedTimeScale=function(){return 1},a.specialZombieOnEnable=function(){this.isWalking=!1,this.master=null,this.body.playAnimation("Spawn",1/0),this.playOneShot(d.getRandom(this.spawnSounds),1,!0),this.upShown=!0,this.downShown=!0,this.idleAnm="Idle",this.shieldOnEnable()},a.shieldOnEnable=function(){},a.specialAnimationListener=function(n){"idle"==n.name&&this.body.playAnimation(this.idleAnm,1/0)},a.changeLaneTo=function(n,t,e){},a.onDamaged=function(n,t,e){this.master?this.master.shieldOnDamaged(this,t):t>0&&"Hit"!=this.body.currentAnimationName&&this.body.playAnimation("Hit")},a.onLaneSpawnSettled=function(n,t){this.worldPositionY=n.midY},a.playSpecialZombieDie=function(n){this.judgeDeath()},a.playSpecialZombieDieForced=function(){var n;null==(n=this.master)||n.shieldOnDamaged(this,-1),this.master=null,this.shieldDieForced(),this.specialZombieOnSquareChange(this.inLnC,null)},a.shieldDieForced=function(){},a.blowAway=function(n){},a.tossAway=function(){this.playDie()},a.playSandStorm=function(n,t){this.worldPositionX=n},a.willTrampleFlower=function(){return!1},a.playFall=function(){},a.specialZombieOnLoad=function(){var n,t=this;this._upSlots=[],this._downSlots=[],null==(n=this.body.db.armature())||null==(n=n.getSlots())||n.forEach((function(n){n.name.includes("U")?t._upSlots.push(n):n.name.includes("D")&&t._downSlots.push(n)}))},a.dropSea=function(){},a.specialZombieUpdate=function(n,t,e){this.loopSound&&h.playOneShot(this.loopSound,1,this.loopSound.getDuration()-.2)},s(t,[{key:"ImmuneToSporeShroom",get:function(){return!0}},{key:"randomSpeed",get:function(){return 0}},{key:"upShown",get:function(){return this._upShown},set:function(n){this._upSlots.forEach((function(t){t._setDisplayIndex(n?0:-1)})),this._upShown=n}},{key:"downShown",get:function(){return this._downShown},set:function(n){this._downSlots.forEach((function(t){t._setDisplayIndex(n?0:-1)})),this._downShown=n}},{key:"pos",get:function(){return this._pos},set:function(n){switch(n){case 0:this.upShown=!1,this.downShown=!1;break;case 1:this.upShown=!0,this.downShown=!1;break;case 2:this.upShown=!1,this.downShown=!0;break;default:n=3,this.upShown=!0,this.downShown=!0}this._pos=n}},{key:"plantDetectorRec",get:function(){return new p}}]),t}(c)).prototype,"spawnSounds",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),g=t(y.prototype,"loopSound",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=y))||w));a._RF.pop()}}}));

System.register("chunks:///_virtual/FutureProtectorZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MechZombie.ts","./SoundRescourses.ts","./ArrayGet.ts","./Square.ts","./Zombies.ts"],(function(t){var e,i,s,n,o,a,l,h,r,u,c,d,p,S,b,f,m;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,s=t.initializerDefineProperty,n=t.assertThisInitialized,o=t.createClass,a=t.asyncToGenerator,l=t.regeneratorRuntime},function(t){h=t.cclegacy,r=t._decorator,u=t.AudioClip},function(t){c=t.MechZombie,d=t.MechZombieProps},function(t){p=t.sounds},function(t){S=t.ArrayGet},function(t){b=t.Square},function(t){f=t.zombies,m=t.ZombieEnum}],execute:function(){var w,y,g,D,k,v,_,C,x,O,I,A,E;h._RF.push({},"fd28dWhY1tBca3P2QNvrbHq","FutureProtectorZombie",void 0);var Z=r.ccclass,L=r.property,P=function(t){function e(){for(var e,i=arguments.length,s=new Array(i),n=0;n<i;n++)s[n]=arguments[n];return(e=t.call.apply(t,[this].concat(s))||this).ShieldRecoverTime=5,e.ShieldKillStunTime=2,e}return i(e,t),e}(d);t("FutureProtectorZombie",(w=Z("FutureProtectorZombie"),y=L([u]),g=L(u),D=L(u),k=L(u),v=L(u),w((x=e((C=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))||this)._objdataOwn=new P,e.waiting=!1,s(e,"cutSounds",x,n(e)),s(e,"mouthOpenSound",O,n(e)),s(e,"mouthCloseSound",I,n(e)),s(e,"armBackSound",A,n(e)),s(e,"walkLoopSound",E,n(e)),e.mechDeathFadeInTime=0,e._hurtStage=0,e.shields=[],e.shieldDistance=.95,e.spawnShieldCD=0,e.shieldKillWalkCD=0,e.bp0Slots=[],e.bp1Slots=[],e.bp2Slots=[],e.bp3Slots=[],e.bp4Slots=[],e.bp5Slots=[],e.hatSlot=null,e}i(e,t);var h=e.prototype;return h.specialMechAnimationListener=function(t){"cut"==t.name?p.playOneShot(S.getRandom(this.cutSounds),1):"mouthOpen"==t.name?p.playOneShot(this.mouthOpenSound,1,.2):"mouthClose"==t.name?p.playOneShot(this.mouthCloseSound,1,.2):"armBack"==t.name&&p.playOneShot(this.armBackSound,1,.2)},h.playSpecialMechDieForced=function(){this.killAllShields()},h.specialZombieUpdateForced=function(t,e,i,s){this.hatSlot&&this.hatSlot._setDisplayIndex(this.shields[0]?1:0)},h.specialMechOnEnable=function(){this.shields=[],this.hurtStage=0,this.shieldKillWalkCD=0,this.spawnShieldCD=0},h.canHaveShield=function(){return!(this.leapHeightTween||this.knockBackTween||this.empCD>0||this.changeLaneTween||this.hypnotized)&&(!!this.isAlive()&&!!this.isInLawn())},h.killAllShields=function(){this.shields[0]&&(this.spawnShieldCD=this.objdataOwn.ShieldRecoverTime,this.shieldKillWalkCD=this.objdataOwn.ShieldKillStunTime,this.isAlive()&&!this.switching&&this.playIdle(),this.switching=!0),this.shields.forEach((function(t){t.playDie()})),this.shields=[]},h.shieldOnDamaged=function(t,e){if(e>0){var i="Hit"!=t.body.db.armature().animation.lastAnimationState.name;this.shields.forEach((function(t){t.health=e,i&&t.body.playAnimation("Hit",1/0)}))}else this.killAllShields()},h.spawnShields=function(){var t=a(l().mark((function t(){var e,i,s,n,o=this;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.shields[0]||this.waiting){t.next=34;break}return this.shieldKillWalkCD=this.objdataOwn.ShieldKillStunTime,this.switching=!0,this.spawnShieldCD,this.playIdle(),p.playOneShot(this.activateSound,1,.1),e=[],this.waiting=!0,t.next=10,f.spawnZombieFromLane(this.lIndex,m.future_protector_shield);case 10:if(i=t.sent,e.push(i),i.pos=0,!(this.lIndex>0)){t.next=21;break}return t.next=16,f.spawnZombieFromLane(this.lIndex-1,m.future_protector_shield);case 16:s=t.sent,e.push(s),s.pos=1,t.next=22;break;case 21:i.pos=1;case 22:if(!(this.lIndex<4)){t.next=30;break}return t.next=25,f.spawnZombieFromLane(this.lIndex+1,m.future_protector_shield);case 25:n=t.sent,e.push(n),n.pos=2,t.next=31;break;case 30:i.pos=2;case 31:this.waiting=!1,e.forEach((function(t){t.master=o,t.reversed=o.reversed,t.worldPositionX=o.worldPositionX+(o.reversed?1:-1)*o.shieldDistance*b.SquareWidth})),this.shields=e;case 34:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),h.onDamaged=function(t,e,i){for(var s=6,n=0;n<7;n++)if(e>(7-n-1)/7*this.toughness){s=n;break}s!=this.hurtStage&&(this.hurtStage=s)},h.specialMechZombieOnLoad=function(){var t=this;this.bp0Slots=[],this.bp1Slots=[],this.bp2Slots=[],this.bp3Slots=[],this.bp4Slots=[],this.bp5Slots=[],this.body.db.armature().getSlots().forEach((function(e){e.name.includes("_bp0")?t.bp0Slots.push(e):e.name.includes("_bp1")?t.bp1Slots.push(e):e.name.includes("_bp2")?t.bp2Slots.push(e):e.name.includes("_bp3")?t.bp3Slots.push(e):e.name.includes("_bp4")?t.bp4Slots.push(e):e.name.includes("_bp5")?t.bp5Slots.push(e):"hat"==e.name&&(t.hatSlot=e)}))},h.onEmpStunStart=function(){this.spawnShieldCD=0,this.shieldKillWalkCD=0},h.specialMechUpdate=function(t,e,i){var s=this;t>0&&this.empCD<=0&&(p.playOneShot(this.walkLoopSound,1,this.walkLoopSound.getDuration()-.2),this.shieldKillWalkCD>0&&(this.shieldKillWalkCD-=t,this.shieldKillWalkCD<=0&&(this.switching=!1,this.detectPlant(t)))),this.canHaveShield()&&!this.body.currentAnimationName.includes("Stun")?this.shields[0]?this.shields.forEach((function(t){t.worldPositionX=s.worldPositionX+(s.reversed?1:-1)*s.shieldDistance*b.SquareWidth,t.reversed!=s.reversed&&(t.reversed=s.reversed)})):this.spawnShieldCD>0?this.isWalking&&(this.spawnShieldCD-=t):t>0&&this.spawnShields():this.shields[0]&&this.killAllShields()},o(e,[{key:"objdataOwn",get:function(){return this._objdataOwn}},{key:"hurtStage",get:function(){return this._hurtStage},set:function(t){switch(t){case 1:case 2:case 3:case 4:case 5:case 6:break;default:t=0}this.bp0Slots.forEach((function(e){e._setDisplayIndex(t>0?0:-1)})),this.bp1Slots.forEach((function(e){e._setDisplayIndex(t>1?0:-1)})),this.bp2Slots.forEach((function(e){e._setDisplayIndex(t>2?0:-1)})),this.bp3Slots.forEach((function(e){e._setDisplayIndex(t>3?0:-1)})),this.bp4Slots.forEach((function(e){e._setDisplayIndex(t>4?0:-1)})),this.bp5Slots.forEach((function(e){e._setDisplayIndex(t>5?0:-1)})),this._hurtStage=t}}]),e}(c)).prototype,"cutSounds",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=e(C.prototype,"mouthOpenSound",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=e(C.prototype,"mouthCloseSound",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=e(C.prototype,"armBackSound",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=e(C.prototype,"walkLoopSound",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=C))||_));h._RF.pop()}}}));

System.register("chunks:///_virtual/FutureZombossMechZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZombossMechZombie.ts","./SoundRescourses.ts","./CowboyZombossMechZombie.ts","./foodLinkTile.ts","./Tiles.ts"],(function(o){var e,n,t,i,a,u,l,r,s,d,h,S,p;return{setters:[function(o){e=o.applyDecoratedDescriptor,n=o.inheritsLoose,t=o.initializerDefineProperty,i=o.assertThisInitialized},function(o){a=o.cclegacy,u=o._decorator,l=o.AudioClip},function(o){r=o.ZombossMechZombie},function(o){s=o.sounds},function(o){d=o.CowboyZombossFireProps},function(o){h=o.FoodLinkTileTypeEnum},function(o){S=o.tiles,p=o.TileEnum}],execute:function(){var c,b,m,y,f,O,g,B,k,L,w,z,C,F,M,Z,E,P,v,R,T,H,_,A,D,I,x,W,j,G,U,V,X,q,J,K,N,Q,Y,$,oo,eo,no,to,io,ao,uo,lo,ro,so,ho,So,po;a._RF.push({},"27b07oFkjFB0pL1BxX6DVhU","FutureZombossMechZombie",void 0);var co=u.ccclass,bo=u.property;o("FutureZombossMechZombie",(c=co("FutureZombossMechZombie"),b=bo(l),m=bo(l),y=bo(l),f=bo(l),O=bo(l),g=bo(l),B=bo(l),k=bo(l),L=bo(l),w=bo(l),z=bo(l),C=bo(l),F=bo(l),M=bo(l),Z=bo(l),E=bo(l),P=bo(l),v=bo(l),R=bo(l),T=bo([l]),H=bo(l),_=bo(l),A=bo(l),D=bo([d]),I=bo([d]),c((j=e((W=function(o){function e(){for(var e,n=arguments.length,a=new Array(n),u=0;u<n;u++)a[u]=arguments[u];return e=o.call.apply(o,[this].concat(a))||this,t(e,"stunStartSound",j,i(e)),t(e,"stunStartLandSound",G,i(e)),t(e,"stunEndSound",U,i(e)),t(e,"stunEndLandSound",V,i(e)),t(e,"mouthOpenBodyFallSound",X,i(e)),t(e,"mouthOpenBodyHitSound",q,i(e)),t(e,"mouthOpenSound",J,i(e)),t(e,"mouthCloseSound",K,i(e)),t(e,"mouthCloseBodyRiseSound",N,i(e)),t(e,"mouthCloseBodyCallSound",Q,i(e)),t(e,"riseOnSound",Y,i(e)),t(e,"riseOffSound",$,i(e)),t(e,"sparkSound",oo,i(e)),t(e,"shootStartSound",eo,i(e)),t(e,"shootBodyPushSound",no,i(e)),t(e,"shootBodyFallSound",to,i(e)),t(e,"eyeBackSound",io,i(e)),t(e,"shootMissilePushSound",ao,i(e)),t(e,"deathStartSound",uo,i(e)),t(e,"stepBackSounds",lo,i(e)),t(e,"introFlySound",ro,i(e)),t(e,"introSuckSound",so,i(e)),t(e,"introSuckHitSound",ho,i(e)),t(e,"MissileLocator",So,i(e)),t(e,"MissileLocator2",po,i(e)),e}n(e,o);var a=e.prototype;return a.specialZombossMechAnimationListener=function(o){"stunEndSound"==o.name?s.playOneShot(this.stunEndSound,1,.1):"stunEndLandSound"==o.name?s.playOneShot(this.stunEndLandSound,1,.1):"headAppear"==o.name?(s.playOneShot(this.introFlySound,1,.1),this.shadeAlphaScale=1):"introSuckSound"==o.name?s.playOneShot(this.introSuckSound,1,.1):"introSuckHitSound"==o.name?s.playOneShot(this.introSuckHitSound,1,.1):"mouthOpenBodyFallSound"==o.name?s.playOneShot(this.mouthOpenBodyFallSound,1,.1):"mouthOpenBodyHitSound"==o.name?s.playOneShot(this.mouthOpenBodyHitSound,1,.1):"mouthOpenSound"==o.name?s.playOneShot(this.mouthOpenSound,1,.1):"mouthCloseSound"==o.name?s.playOneShot(this.mouthCloseSound,1,.1):"mouthCloseBodyRiseSound"==o.name?s.playOneShot(this.mouthCloseBodyRiseSound,1,.1):"mouthCloseBodyCallSound"==o.name?s.playOneShot(this.mouthCloseBodyCallSound,1,.1):"stunStartSound"==o.name?s.playOneShot(this.stunStartSound,1,.1):"stunStartLandSound"==o.name?s.playOneShot(this.stunStartLandSound,1,.1):"riseOnSound"==o.name?s.playOneShot(this.riseOnSound,1,.1):"riseOffSound"==o.name?s.playOneShot(this.riseOffSound,1,.1):"sparkSound"==o.name?s.playOneShot(this.sparkSound,1,.1):"shootStartSound"==o.name?s.playOneShot(this.shootStartSound,1,.1):"shootBodyPushSound"==o.name?s.playOneShot(this.shootBodyPushSound,1,.1):"shootBodyFallSound"==o.name?s.playOneShot(this.shootBodyFallSound,1,.1):"eyeBackSound"==o.name?s.playOneShot(this.eyeBackSound,1,.1):"shootMissilePushSound"==o.name?s.playOneShot(this.shootMissilePushSound,1,.1):"deathStartSound"==o.name?s.playOneShot(this.deathStartSound,1,.1):"stepBackSound"==o.name&&s.playArray(this.stepBackSounds,1,.1)},a.specialZombossMechOnEnable=function(){this.shadeAlphaScale=0},a.foodLinkerShootInterupt=function(){this.shootInterupt(!1)},a.getShootTargetLnCs=function(){var o=this,e=1==this.mechToChoose?this.MissileLocator2:this.MissileLocator,n=e[this.currentStage]?e[this.currentStage]:new d,t=n.shootPlantEmptyRate,i=n.shootRailWeight/(n.shootRailWeight+n.shootPlantWeight);if(Math.random()>i)return this.defaultGetShootTargetLnCs(t);var a=[],u=0,l=[0,0,0,0,0];S.tilePool().forEach((function(o){o.tileID==p.foodLinker&&l[o.foodLinkID]++}));var r=0;if(l.forEach((function(o,e){o>r&&(u=e,r=o)})),r&&S.tilePool().forEach((function(e){if(!(a.length>=n.shootRailCount)&&e.tileID==p.foodLinker){var t,i=e;i.foodLinkID==u&&null!=(t=i.inLnC)&&t.isInLawn()&&-1==a.indexOf(i.inLnC)&&(a.push(i.inLnC),i.locatingZomboss=o)}})),a.length){var s="Shoot_alpha";switch(u){case h.beta:s="Shoot_beta";break;case h.gamma:s="Shoot_gamma";break;case h.delta:s="Shoot_delta";break;case h.epsilon:s="Shoot_epsilon"}return this.body.playAnimation(s,1),a}return this.defaultGetShootTargetLnCs(t)},e}(r)).prototype,"stunStartSound",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=e(W.prototype,"stunStartLandSound",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=e(W.prototype,"stunEndSound",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=e(W.prototype,"stunEndLandSound",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=e(W.prototype,"mouthOpenBodyFallSound",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=e(W.prototype,"mouthOpenBodyHitSound",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=e(W.prototype,"mouthOpenSound",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=e(W.prototype,"mouthCloseSound",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=e(W.prototype,"mouthCloseBodyRiseSound",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=e(W.prototype,"mouthCloseBodyCallSound",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=e(W.prototype,"riseOnSound",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=e(W.prototype,"riseOffSound",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),oo=e(W.prototype,"sparkSound",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),eo=e(W.prototype,"shootStartSound",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),no=e(W.prototype,"shootBodyPushSound",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),to=e(W.prototype,"shootBodyFallSound",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),io=e(W.prototype,"eyeBackSound",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ao=e(W.prototype,"shootMissilePushSound",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),uo=e(W.prototype,"deathStartSound",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),lo=e(W.prototype,"stepBackSounds",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ro=e(W.prototype,"introFlySound",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),so=e(W.prototype,"introSuckSound",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ho=e(W.prototype,"introSuckHitSound",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),So=e(W.prototype,"MissileLocator",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),po=e(W.prototype,"MissileLocator2",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),x=W))||x));a._RF.pop()}}}));

System.register("chunks:///_virtual/futureZombossMissile.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(s){var e,t,o,u;return{setters:[function(s){e=s.inheritsLoose},function(s){t=s.cclegacy,o=s._decorator,u=s.Component}],execute:function(){var r;t._RF.push({},"8bf81cuw3NGk5t9cFu6Yllv","futureZombossMissile",void 0);var i=o.ccclass;o.property,s("futureZombossMissile",i("futureZombossMissile")(r=function(s){function t(){return s.apply(this,arguments)||this}return e(t,s),t}(u))||r);t._RF.pop()}}}));

System.register("chunks:///_virtual/GargantuarZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./CharacterManager.ts","./Zombies.ts","./Square.ts","./SoundRescourses.ts"],(function(t){var e,n,i,a,r,o,s,h,u,c,l,p,m,d,f,g,y,w,b,S;return{setters:[function(t){e=t.inheritsLoose,n=t.applyDecoratedDescriptor,i=t.initializerDefineProperty,a=t.assertThisInitialized,r=t.createClass,o=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){h=t.cclegacy,u=t._decorator,c=t.AudioClip,l=t.Node,p=t.Vec2},function(t){m=t.ZombieProps,d=t.Zombie},function(t){f=t.Rectangle,g=t.ZombieDamageDetails},function(t){y=t.ZombieEnum,w=t.zombies},function(t){b=t.Square},function(t){S=t.sounds}],execute:function(){var v,I,P,R,T,A,D,_,C,x,L,z,k,G,O,W,Z,j,B,E,F,H,q;h._RF.push({},"c2c47hz+DBG6rPjf1JE6vJA","GargantuarZombie",void 0);var X=u.ccclass,M=u.property,N=t("gargantuar",function(){function t(){}return t.throwOneImpToLnC=function(){var t=o(s().mark((function t(e,n,i,a,r,o,h,u){var c;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===u&&(u=0),c=new p(b.getSquareWorldPosition(a.lIndex,a.cIndex).x,a.inLane.floorY).add(new p(u,0)),t.next=4,this.throwOneImpToWP(e,n,i,c,r,o,h);case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t,this)})));return function(e,n,i,a,r,o,s,h){return t.apply(this,arguments)}}(),t.throwOneImpByLnC=function(){var t=o(s().mark((function t(e,n,i,a,r,o,h){var u,c;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u=i.clone().add(new p(a.x*b.SquareWidth,a.y*b.SquareHeight)),c=b.getSquareWorldPosition(0,0,.5).x,u.x<c&&(u.x=c),t.next=5,this.throwOneImpToWP(e,n,i,u,r,o,h);case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t,this)})));return function(e,n,i,a,r,o,s){return t.apply(this,arguments)}}(),t.throwOneImpToWP=function(){var t=o(s().mark((function t(e,n,i,a,r,o,h){var u,c;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.getZombieCompByID(e);case 2:return(u=t.sent).node.parent=n.zombieLayer,u.worldPosition=i,c=a.clone(),u.flying=!0,u.height=r,u.leapTo(c,!0,h,o),t.abrupt("return",u);case 10:case"end":return t.stop()}}),t)})));return function(e,n,i,a,r,o,s){return t.apply(this,arguments)}}(),t}()),U=t("GargantuarProps",function(t){function n(){for(var e,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))||this).ZombieSort="Gargantuar",e.CannotChangeLaneByPowerToss=!0,e.CannotBeFlickedByPowerToss=!0,e.CannotBeDraggedByTangleKelp=!0,e.CannotBeTossedByCitron=!0,e.CannotBeSwallowedByChomper=!0,e.CannotCarryPlantfoodsInWaves=!0,e.LivesInDeepWater=!0,e.NormalDeathWhenMowed=!0,e.WalkSPS=.24,e.Toughness=3600,e.WavePointCost=1500,e.Weight=3e3,e.SmashDamage=1500,e.HitRect="RTID(GargantuarHitRect@RectangleProps)",e.AttackRect="RTID(GargantuarAttackRect@RectangleProps)",e}return e(n,t),n}(m));t("GargantuarZombie",(v=X("GargantuarZombie"),I=M([c]),P=M([c]),R=M([c]),T=M([c]),A=M([c]),D=M([c]),_=M([c]),C=M([c]),x=M([c]),L=M(l),v((G=n((k=function(t){function n(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r))||this,i(e,"stepSounds",G,a(e)),i(e,"deathPoleSounds",O,a(e)),i(e,"deathFallSounds",W,a(e)),i(e,"swingSounds",Z,a(e)),i(e,"smashSounds",j,a(e)),i(e,"afterSmashSaySounds",B,a(e)),i(e,"ImpThrowSaySounds",E,a(e)),i(e,"ImpThrowSounds",F,a(e)),i(e,"throwSounds",H,a(e)),e.isGargantuar=!0,e._objdataOwn=new U,i(e,"impThrower",q,a(e)),e.impEnum=y.tutorial_imp,e._haveImp=!0,e._impSlots=[],e}e(n,t);var h=n.prototype;return h.playEat=function(t){this.isWalking=!1},h.onWaveAdded=function(t){t.db.playAnimation("Idle_G")},h.onDamaged=function(t,e,n){this.gargantuarOnDamaged(t,e,n)},h.gargantuarOnDamaged=function(t,e,n){},h.specialZombieOnShrinked=function(t,e){this.haveImp=!1},h.detectPlant=function(t){var e=this;if(this.detectPlantOn())if(this.inLane){if(!(t<=0)){var n=!1;this.hypnotized?this.inLane.zombiePool().forEach((function(t){n||e.plantDetectorRec.judgeCrossRec(t.bodyRec)&&(n=!0)})):(this.inLane.plantPool().forEach((function(t){n||t.smasherDetectable&&e.plantDetectorRec.judgeCrossRec(t.bodyRec)&&(n=!0)})),this.inLane.hypnoZombiePool().forEach((function(t){n||e.plantDetectorRec.judgeCrossRec(t.bodyRec)&&(n=!0)}))),this.inLane.tombPool(this.hypnotized?0:1).forEach((function(t){n||e.plantDetectorRec.judgeCrossRec(t.bodyRec)&&(n=!0)})),n?this.playSmashAnm():this.playWalk()}}else this.playWalk()},h.playSmashAnm=function(){this.isWalking=!1,this.switching=!0,this.correctShadeWP(.1),this.body.playAnimation("Smash",1,.1)},h.playSpecialZombieDie=function(t){this.judgeDeath()},h.specialGargantuarOnLoad=function(){},h.specialZombieOnLoad=function(){var t=this;this.db.armature().getSlots().forEach((function(e){e.name.includes("_IMP")&&t._impSlots.push(e)})),this.specialGargantuarOnLoad()},h.specialGargantuarOnEnable=function(){},h.specialZombieOnEnable=function(){this.haveImp=!0,this.specialGargantuarOnEnable()},h.throwImp=function(){this._throwImp()},h.getHaveImp=function(){return this._haveImp},h.haveImpFalse=function(){this.haveImp=!1},h.impOnThrow=function(t){},h._throwImp=function(){var t=o(s().mark((function t(e,n,i){var a;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===e&&(e=this.lIndex),void 0===n&&(n=this.reversed?6:2),void 0===i&&(i=250),!this.getHaveImp()){t.next=12;break}return this.haveImpFalse(),t.next=7,N.throwOneImpToLnC(this.impEnum,this.inLane,new p(this.impThrower.worldPosition.x,this._worldPositionY),b.getLnC(e,n),this.impThrower.worldPosition.y-this._worldPositionY,i,1.5);case 7:(a=t.sent).onThrownByGargantuar(this),a.reversed=this.reversed,a.hypnotized=this.hypnotized,this.impOnThrow(a);case 12:case"end":return t.stop()}}),t,this)})));return function(e,n,i){return t.apply(this,arguments)}}(),h.specialAshPlayed=function(t){this._haveImp},h.specialTriggerGameLose=function(){this.body.playAnimation("Smash",1/0)},h.throwImpNow=function(){return this._haveImp&&this.health<this.toughness/2},h.specialGargantuarUpdate=function(t,e,n){},h.specialZombieUpdate=function(t,e,n){t>0&&!this.switching&&this.throwImpNow()&&(!this.reversed&&this.inLnC.cIndex>2||this.reversed&&this.inLnC.cIndex<6)&&(this.isWalking=!1,this.switching=!0,this.body.playAnimation("Throw",1),this.ImpThrowSaySounds.length&&S.playArray(this.ImpThrowSaySounds,1,.1)),this.specialGargantuarUpdate(t,e,n)},h.onSmashing=function(t){},h._smash=function(){var t=this,e=null,n=null,i=null,a=f.createRectangleCenter(new p(this.shadeSocket.worldPosition.x+this.AttackRect.x*(this.reversed?-1:1),this._worldPosition.y+this._height+this.AttackRect.y),1.5*this.AttackRect.w,this.AttackRect.h);this.hypnotized||(e=this.inLane.plantPool().filter((function(t){return t.smasherDetectable&&t.bodyRec.judgeCrossRec(a)})).sort((function(e,n){var i=t.scale>0?e.bodyRec.prjX().y:e.bodyRec.prjX().x;return((t.scale>0?n.bodyRec.prjX().y:n.bodyRec.prjX().x)-i)*t.scale})).find((function(){return!0}))),n=this.getSingleZombieInRec(a),i=this.getSingleTombInRec(a);var r=null;n&&(r=new p(n.worldPositionX-this.worldPositionX,n.zombieHeight-this.zombieHeight).normalize().multiplyScalar(20));var o=new g(this._objdataOwn.SmashDamage,!0,!0,!0,r);n?n.dealDamage(o):e?this.smashPlant(e):i&&i.dealDamage(o),this.onSmashing(a)},h.smashPlant=function(t){t.smash(this,!0)},h.specialGargantuarAnimationListener=function(t){},h.specialAnimationListener=function(t){"step"==t.name?S.playArray(this.stepSounds,1,.5):"deathPole"==t.name?S.playArray(this.deathPoleSounds,1,.5):"deathFall"==t.name?S.playArray(this.deathFallSounds,1,.4):"swing"==t.name?S.playArray(this.swingSounds,1,.4):"smash"==t.name?(S.playArray(this.smashSounds,1,.4),this._smash()):"afterSmash"==t.name?S.playArray(this.afterSmashSaySounds,1,.4):"switchingFalse"==t.name?(this.switching=!1,this.isAlive()&&this.detectPlant(.001)):"impThrow"==t.name&&(this.throwImp(),S.playArray(this.throwSounds,1,.4),S.playArray(this.ImpThrowSounds,1,.4)),this.specialGargantuarAnimationListener(t)},r(n,[{key:"objdataOwn",get:function(){return this._objdataOwn}},{key:"haveImp",get:function(){return this._haveImp},set:function(t){this._haveImp=t,this._impSlots.forEach((function(e){e._setDisplayIndex(t?0:-1)}))}}]),n}(d)).prototype,"stepSounds",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=n(k.prototype,"deathPoleSounds",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),W=n(k.prototype,"deathFallSounds",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Z=n(k.prototype,"swingSounds",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j=n(k.prototype,"smashSounds",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B=n(k.prototype,"afterSmashSaySounds",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),E=n(k.prototype,"ImpThrowSaySounds",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=n(k.prototype,"ImpThrowSounds",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),H=n(k.prototype,"throwSounds",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),q=n(k.prototype,"impThrower",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=k))||z));h._RF.pop()}}}));

System.register("chunks:///_virtual/Garlic.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./SoundRescourses.ts","./Particles.ts","./NodePools.ts"],(function(t){var n,o,i,e,a,r,s,u,l,h,d,c,f,p;return{setters:[function(t){n=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,e=t.assertThisInitialized,a=t.createClass},function(t){r=t.cclegacy,s=t._decorator,u=t.AudioClip,l=t.Prefab},function(t){h=t.Plant,d=t.PlantProps},function(t){c=t.sounds},function(t){f=t.particle},function(t){p=t.instantiatePooly}],execute:function(){var m,g,b,y,S,w,D,v,P,A,O,j,R,z,I,L,E,C,F,G;r._RF.push({},"53a0b7Ea+RDaayH4HAz4W4g","Garlic",void 0);var _=s.ccclass,k=s.property,H=function(t){function n(){for(var n,o=arguments.length,i=new Array(o),e=0;e<o;e++)i[e]=arguments[e];return(n=t.call.apply(t,[this].concat(i))||this).LaneChangeDuration=.6,n.ReceivesDamageWhenEaten=150,n.DisgustDuration=1.5,n.StunDuration=0,n.DisgustDurationPlantfood=1.5,n.StunDurationPlantfood=6,n}return o(n,t),n}(d),T=(m=_("GarlicSound"),g=k([u]),b=k([u]),m((w=n((S=function(){function t(){i(this,"foodStart",w,this),i(this,"foodShoot",D,this)}var n=t.prototype;return n.playFoodStart=function(){c.playArray(this.foodStart,1,.5)},n.playFoodShoot=function(){c.playArray(this.foodShoot,1,.5)},t}()).prototype,"foodStart",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=n(S.prototype,"foodShoot",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y=S))||y);t("GarlicPlant",(v=_("GarlicPlant"),P=k(T),A=k(l),O=k([u]),j=k([u]),R=k([u]),v((L=n((I=function(t){function n(){for(var n,o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return n=t.call.apply(t,[this].concat(a))||this,i(n,"soundRes",L,e(n)),n._objdataOwn=new H,i(n,"disgustPar",E,e(n)),i(n,"moveUpSounds",C,e(n)),i(n,"moveDownSounds",F,e(n)),i(n,"disgustSounds",G,e(n)),n.hurtStage=0,n}o(n,t);var r=n.prototype;return r.onObjdataSet=function(t,n){},r.waterable=function(){return 0==this.hurtStage},r.moveOneZombie=function(t){if(!t)return!1;if(!t.objdataOwn.ImmuneToGarlic&&!t.changeLaneTween){t.setChiliStun(this.fooding?this.objdataOwn.StunDurationPlantfood:this.objdataOwn.StunDuration),t.garlicLaneChange(this.fooding?this.objdataOwn.DisgustDurationPlantfood:this.objdataOwn.DisgustDuration,this.objdataOwn.LaneChangeDuration,this.disgustSounds,this.moveUpSounds,this.moveDownSounds);var n=p(this.disgustPar);return n.parent=t.inLane.prjLayer,n.worldPosition=t.worldPosition.toVec3().add3f(0,t.height_depth+t.zombieHeight,0),!0}return!1},r.specialPlantOnEaten=function(t,n,o,i){this.moveOneZombie(n)&&(n.isEating=!1,n.playEat(0,.5),n.objdataOwnOrg.DoesNotDamageHeavilyToGarlic||this.dealDamage(this.objdataOwn.ReceivesDamageWhenEaten,0))},r.shoot=function(){var t=this;this.inLane.zombiePool().forEach((function(n){var o;(null==(o=n.bodyRec)||null==(o=o.prjX())?void 0:o.y)>t.worldPositionX&&t.moveOneZombie(n)})),this.soundRes.playFoodShoot();var n=p(f.zombieFart());n.parent=this.inLane.prjLayer,n.worldPosition=this.worldPosition.toVec3().add3f(30,0,0),n.scale=this.node.scale},r.animationListener=function(t){switch(t.name){case"foodEnd":this.foodEnd();break;case"shoot":this.shoot()}},r.specialPlantOnEnable=function(){this.hurtStage=-1,this.setAnimation(0)},r.specialPlantFood=function(t){this.setAnimation(0),this.soundRes.playFoodStart(),this.anmControl.playAnimation("Food",1,0,1.2)},r.replantable=function(){return 0!=this.hurtStage},r.replant=function(){this.health=this.toughness,this.onDamaged(0,0,this.toughness)},r.setAnimation=function(t){if(void 0===t&&(t=0),this.hurtStage!=t){this.hurtStage=t;var n,o=this.anmControl;switch(t){case 1:o.IdleAnim="Idle10",o.RandomAnim=["Idle11"],this.deathAnm="Death1";break;case 2:o.IdleAnim="Idle20",o.RandomAnim=[],this.deathAnm="Death2";break;default:o.IdleAnim="Idle00",o.RandomAnim=["Idle01"],this.deathAnm="Death0",this.hurtStage=0}if(!this.dead)o.playIdle(),null==(n=this.plantInLnC)||n.readIndex()}},r.onDamaged=function(t,n,o){for(var i=1;i<=3;i++)if(o<=this.toughness/3*i){this.setAnimation(3-i);break}},a(n,[{key:"objdataOwn",get:function(){return this._objdataOwn}}]),n}(h)).prototype,"soundRes",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new T}}),E=n(I.prototype,"disgustPar",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=n(I.prototype,"moveUpSounds",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=n(I.prototype,"moveDownSounds",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),G=n(I.prototype,"disgustSounds",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=I))||z));r._RF.pop()}}}));

System.register("chunks:///_virtual/GatlingPea.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Peashooter.ts","./ArrayGet.ts","./Square.ts"],(function(t){var n,e,i,o,a,s,l,h,r,u,p,c;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,s=t._decorator,l=t.Node,h=t.Vec2},function(t){r=t.PeashooterPlant,u=t.PeashooterProps},function(t){p=t.ArrayGet},function(t){c=t.Square}],execute:function(){var d,g,y,f,S;a._RF.push({},"7c304jCsOFJf6EXcGQQEYBT","GatlingPea",void 0);var w=s.ccclass,b=s.property,P=function(t){function n(){for(var n,e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return(n=t.call.apply(t,[this].concat(i))||this).PeaTypesPlantfood=["pea","pea_flame_yellow","pea_flame_blue"],n}return e(n,t),n}(u);t("GatlingPeaPlant",(d=w("GatlingPeaPlant"),g=b(l),d((S=n((f=function(t){function n(){for(var n,e=arguments.length,a=new Array(e),s=0;s<e;s++)a[s]=arguments[s];return(n=t.call.apply(t,[this].concat(a))||this)._objdataOwn=new P,i(n,"peaSpawnpoint2",S,o(n)),n.gatlingSlots=[],n.gatlingTubeSlots=[],n}e(n,t);var a=n.prototype;return a.specialPeashooterOnEnable=function(){this.projectileSpeed=1},a.specialFightAloneStrengthen=function(t){t.Gunned&&this.upgrade()},a.specialPlantOnLoad=function(){var t=this;this.gatlingSlots=[],this.gatlingTubeSlots=[],this.anmControl.db.armature().getSlots().forEach((function(n){n.name.includes("_GUN")&&(n.name.includes("_GUNTUBE")&&t.gatlingTubeSlots.push(n),t.gatlingSlots.push(n))}))},a.onFoodLeftPeaCountDec=function(){var t=p.getRandom(this._objdataOwn.PeaTypesPlantfood);this._shoot(!0,!0,t),this.lIndex>0&&this._shoot(!0,!0,t,8,new h,this.peaSpawnpoint2).then((function(t){t.linearVelocity=new h(8,9),t.deceleration=new h(0,-Math.sign(t.linearVelocity.y)*Math.pow(t.linearVelocity.y,2)/(2*c.SquareHeight))})),this.lIndex<4&&this._shoot(!0,!0,t,8,new h,this.peaSpawnpoint2).then((function(t){t.linearVelocity=new h(8,-9),t.deceleration=new h(0,-Math.sign(t.linearVelocity.y)*Math.pow(t.linearVelocity.y,2)/(2*c.SquareHeight))}))},a.specialPlantFood=function(t){this.upgraded?(this.anmControl.playAnimation("Food",1/0),this.foodShooting(),this.gunTubeIgnite(!0),this.soundRes.playFood(),this.busy=1/0):(this.upgrade(),this.anmControl.playAnimation("FoodStart",2))},a.gunTubeIgnite=function(t){void 0===t&&(t=!0),this.upgraded&&this.gatlingTubeSlots.forEach((function(n){var e;null==(e=n.childArmature)||e.animation.play(t?"Shooting":"Idle",1/0)}))},a.specialPlantDie=function(t){this.gunTubeIgnite(!1)},a.specialPlantFoodEnd=function(){this.anmControl.playIdle(),this.gunTubeIgnite(!1),this.busy=0,this.soundRes.playFoodEnd()},a.animationListenerAdd=function(t){"Shoot"==t.name?this.soundRes.playShootSound(1.5):"ShootSide"==t.name?this.upgraded&&(this._shoot(!1,!1,this._objdataOwn.PeaType,8,new h(1,-1.2),this.peaSpawnpoint2),this._shoot(!1,!1,this._objdataOwn.PeaType,8,new h(1,-.5),this.peaSpawnpoint2),this._shoot(!1,!1,this._objdataOwn.PeaType,8,new h(1,.5),this.peaSpawnpoint2),this._shoot(!1,!1,this._objdataOwn.PeaType,8,new h(1,1.2),this.peaSpawnpoint2)):"ShootStart"==t.name?this.gunTubeIgnite(!0):"ShootEnd"==t.name?this.gunTubeIgnite(!1):"foodStart"==t.name&&(this.anmControl.playAnimation("Food",1/0),this.foodShooting(),this.gunTubeIgnite(!0),this.soundRes.playFood(),this.busy=1/0)},a.animationCompleteAdd=function(){this.gunTubeIgnite(!1)},a.upgrade=function(){this.upgraded=!0,this.soundRes.playUpgrade(),this.gatlingSlots.forEach((function(t){t.displayIndex=0}))},n}(r)).prototype,"peaSpawnpoint2",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=f))||y));a._RF.pop()}}}));

System.register("chunks:///_virtual/gem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./dropping.ts","./GemCount.ts","./SoundRescourses.ts","./CoinCollecterInGame.ts"],(function(n){var o,e,i,t,r,c,u,l,p,a,s,d;return{setters:[function(n){o=n.applyDecoratedDescriptor,e=n.inheritsLoose,i=n.initializerDefineProperty,t=n.assertThisInitialized,r=n.createClass},function(n){c=n.cclegacy,u=n._decorator,l=n.AudioClip},function(n){p=n.dropping},function(n){a=n.GemCount},function(n){s=n.sounds},function(n){d=n.CoinCollecterInGame}],execute:function(){var f,m,g,v,h;c._RF.push({},"9c82ddzQiBIoIrReCwl2WVY","gem",void 0);var y=u.ccclass,C=u.property;n("gem",(f=y("gem"),m=C(l),f((h=o((v=function(n){function o(){for(var o,e=arguments.length,r=new Array(e),c=0;c<e;c++)r[c]=arguments[c];return o=n.call.apply(n,[this].concat(r))||this,i(o,"dropSound",h,t(o)),o}e(o,n);var c=o.prototype;return c.specialOnGroundHit=function(){s.playOneShot(this.dropSound,1,0)},c.specialDroppingOnLoad=function(){var n,o;null!=(n=a.component)&&null!=(n=n.icon)&&n.active&&(this.ui=null==(o=a.component)?void 0:o.icon)},c.specialDroppingOnEnable=function(){var n,o;null!=(n=this.ui)&&n.active||(this.ui=null==(o=a.component)?void 0:o.icon)},c.specialGoToUI=function(n){var o;d.component.hidden=!1,null==(o=a.component)||o.addGemCount(1)},r(o,[{key:"DroppingType",get:function(){return"gem"}}]),o}(p)).prototype,"dropSound",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=v))||g));c._RF.pop()}}}));

System.register("chunks:///_virtual/GemCount.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CurrencyCount.ts","./PlayerProperties.ts","./SoundRescourses.ts"],(function(e){var t,n,o,r,u,i,c,l,s,a;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){u=e.cclegacy,i=e._decorator,c=e.AudioClip},function(e){l=e.CurrencyCount},function(e){s=e.AllPlayerProperties},function(e){a=e.sounds}],execute:function(){var p,f,h,d,m,y;u._RF.push({},"e255fGKX6hKqqtVL4jk61z+","GemCount",void 0);var C=i.ccclass,v=i.property;e("GemCount",(p=C("GemCount"),f=v(c),p(((y=function(e){function t(){for(var t,n=arguments.length,u=new Array(n),i=0;i<n;i++)u[i]=arguments[i];return t=e.call.apply(e,[this].concat(u))||this,o(t,"gemCollectSound",m,r(t)),t}n(t,e);var u=t.prototype;return u.start=function(){this.shownValue=isNaN(s.currentPlayer.gem)?0:s.currentPlayer.gem,this.value=this._shownValue},u.addGemCount=function(e){this.value+=e,a.playOneShot(this.gemCollectSound,1,.1)},u.decGemCount=function(e){this.value-=e},u.buyGem=function(){this.addGemCount(1)},u.onValueSet=function(e){s.currentPlayer.gem=e,s.savePP()},u.onLoad=function(){t.component=this},t}(l)).component=void 0,m=t((d=y).prototype,"gemCollectSound",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=d))||h));u._RF.pop()}}}));

System.register("chunks:///_virtual/gemInZen.ts",["./rollupPluginModLoBabelHelpers.js","cc","./droppingInZen.ts","./SoundRescourses.ts","./GemCount.ts"],(function(n){var e,o,i,t,r,u,l,c,a,p,s;return{setters:[function(n){e=n.applyDecoratedDescriptor,o=n.inheritsLoose,i=n.initializerDefineProperty,t=n.assertThisInitialized},function(n){r=n.cclegacy,u=n._decorator,l=n.CCInteger,c=n.AudioClip},function(n){a=n.droppingInZen},function(n){p=n.sounds},function(n){s=n.GemCount}],execute:function(){var d,f,v,g,m,h,y;r._RF.push({},"d9da5LuqF1KW7n3Osv37NGe","gemInZen",void 0);var I=u.ccclass,b=u.property;n("gemInZen",(d=I("gemInZen"),f=b(l),v=b(c),d((h=e((m=function(n){function e(){for(var e,o=arguments.length,r=new Array(o),u=0;u<o;u++)r[u]=arguments[u];return e=n.call.apply(n,[this].concat(r))||this,i(e,"value",h,t(e)),i(e,"dropSound",y,t(e)),e}o(e,n);var r=e.prototype;return r.specialOnGroundHit=function(){p.playOneShot(this.dropSound,1,0)},r.specialDroppingOnLoad=function(){var n,e;null!=(n=s.component)&&null!=(n=n.icon)&&n.active&&(this.ui=null==(e=s.component)?void 0:e.icon)},r.specialDroppingOnEnable=function(){var n,e;null!=(n=this.ui)&&n.active||(this.ui=null==(e=s.component)?void 0:e.icon)},r.specialGoToUI=function(n){var e;null==(e=s.component)||e.addGemCount(this.value)},e}(a)).prototype,"value",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),y=e(m.prototype,"dropSound",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=m))||g));r._RF.pop()}}}));

System.register("chunks:///_virtual/GhostPepper.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./SoundRescourses.ts","./CharacterManager.ts","./Square.ts","./ParticleSelfdestroy.ts","./NodePools.ts"],(function(t){var i,a,n,o,e,s,r,l,h,c,d,f,u,g,p,m,P,y,b,w,S;return{setters:[function(t){i=t.applyDecoratedDescriptor,a=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized,e=t.createClass},function(t){s=t.cclegacy,r=t._decorator,l=t.AudioClip,h=t.Prefab,c=t.Vec2,d=t.Vec3,f=t.Color},function(t){u=t.Plant,g=t.PlantProps},function(t){p=t.sounds},function(t){m=t.Rectangle,P=t.ZombieDamageDetails,y=t.ZombieDamageType},function(t){b=t.Square},function(t){w=t.ParticleSelfdestroy},function(t){S=t.instantiatePooly}],execute:function(){var A,D,C,k,L,R,E,v,z,I,N,j,O,x,F,U,_,G,M,q,X,H,T,W,Y,B,V,Z;s._RF.push({},"431ccWow5JGrb2umC3f6Q0G","GhostPepper",void 0);var J=r.ccclass,K=r.property,Q=function(t){function i(){for(var i,a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return(i=t.call.apply(t,[this].concat(n))||this).GhostDamage=30,i.GhostDamageCooldownTime=.5,i.PlantfoodDamageMult=3,i.PlantfoodDuration=3.5,i.ExplodeDamage=450,i.Lifetime=10,i}return a(i,t),i}(g),$=(A=J("GhostPepperSound"),D=K(l),C=K([l]),k=K([l]),L=K([l]),R=K([l]),E=K([l]),v=K([l]),z=K([l]),A((j=i((N=function(){function t(){n(this,"attackStart",j,this),n(this,"attackStartSay",O,this),n(this,"attackEndSay",x,this),n(this,"fade",F,this),n(this,"explode",U,this),n(this,"foodStartSay",_,this),n(this,"attackLP",G,this),n(this,"ghostLP",M,this)}var i=t.prototype;return i.playAttackStart=function(){p.playOneShot(this.attackStart,1,.1)},i.playAttackStartSay=function(){p.playArray(this.attackStartSay,1,.1)},i.playAttackEndSay=function(){p.playArray(this.attackEndSay,1,.1)},i.playFade=function(){p.playArray(this.fade,1,.1)},i.playExplode=function(){p.playArray(this.explode,1,.1)},i.playFoodStartSay=function(){p.playArray(this.foodStartSay,1,.1)},i.playAttackLP=function(){p.playArray(this.attackLP,1,NaN,.6)},i.playGhostLP=function(){p.playArray(this.ghostLP,1,NaN,.8)},t}()).prototype,"attackStart",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=i(N.prototype,"attackStartSay",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),x=i(N.prototype,"attackEndSay",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=i(N.prototype,"fade",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),U=i(N.prototype,"explode",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=i(N.prototype,"foodStartSay",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),G=i(N.prototype,"attackLP",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),M=i(N.prototype,"ghostLP",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),I=N))||I);t("GhostPepperPlant",(q=J("GhostPepperPlant"),X=K($),H=K(h),T=K(h),q((B=i((Y=function(t){function i(){for(var i,a=arguments.length,e=new Array(a),s=0;s<a;s++)e[s]=arguments[s];return i=t.call.apply(t,[this].concat(e))||this,n(i,"soundRes",B,o(i)),i._objdataOwn=new Q,i.switching=!1,i.ghosting=!1,i.foodCD=0,n(i,"ghostPar",V,o(i)),i.ghostPSDs=[],i.zombiesInRange=[],i.tombsInRange=[],n(i,"fogPar",Z,o(i)),i.fogParM=void 0,i.fogParU=void 0,i.fogParD=void 0,i.detector=new m,i.foodDetector=new m,i.dmgCD=0,i._lifeCD=NaN,i._stage=0,i.attackStartAnimation="AttackStart0",i.attackEndAnimation="AttackEnd0",i}a(i,t);var s=i.prototype;return s.onObjdataSet=function(t,i){},s.waterable=function(){return!this.switching&&!this.ghosting},s._explode=function(t){var i,a,n=this;this.soundRes.playAttackEndSay(),this.soundRes.playFade(),this.soundRes.playExplode(),this.shadeAlphaScale=0;var o=m.createRectangleNodeCenter(this.plantInLnC.node,3*b.SquareWidth,3*b.SquareHeight),e=[];null==(i=this.inLane)||i.zombiePool().concat(this.inLane.UpperLane.zombiePool(),this.inLane.LowerLane.zombiePool()).forEach((function(t){o.judgeCrossRec(t.bodyRecReal)&&-1==e.indexOf(t)&&e.push(t)}));var s=new P(t,!0,!0,!0,null,y.physicle,!0,!0);e.forEach((function(t){t.dealDamage(s.replaceDirection(new c(t.worldPositionX-n.node.worldPosition.x,t.zombieHeight+t.height).normalize().multiplyScalar(15)))})),null==(a=this.plantInLnC)||a.get3x3().forEach((function(t){var i;null==(i=t.tombStone)||i.dealDamage(s)}))},s.playDeathParticle=function(t){},s.followGhosts=function(){var t=this,i=[],a=this.zombiesInRange.concat(this.tombsInRange);this.ghostPSDs.forEach((function(t,n){n<a.length?i.push(t):t.willBeKilled=!0}));var n=Math.abs(this.scale)*(this.fooding?1.5:1)/2;a.forEach((function(a,o){var e=null;o<i.length?e=i[o]:(e=S(t.ghostPar).getComponent(w),i.push(e));e.node.parent!=a.node.parent&&e.node.setParent(a.node.parent,!0),e.node.worldPosition=new d(a.worldPositionX,a.worldPositionY,0),e.node.scale=new d(n,n,n)})),this.ghostPSDs=i},s.specialPlantUpdateForce=function(t,i,a){if(this.followGhosts(),this.stage>0&&this.isAlive()){var n=255-155*this.getScheduler(this.lifeCD/20);this.baseColor=new f(255,255,255,n)}else this.baseColor=new f(255,255,255,255)},s.specialPlantOnEnable=function(){this.eaterDetectable=!1,this.smasherDetectable=!1,this.ghosting=!1,this.switching=!1,this.lifeCD=NaN,this.shadeAlphaScale=1},s.animationOnComplete=function(){this.switching=!1},s.setBodyRec=function(t){this.bodyRec=new m},s.specialPlantOnSquareChange=function(t,i){null!=i&&i.isInLawn()&&this.node.setParent(i.inLane.prjLayer,!0),i&&(this.detector=m.createRectangleNodeCenter(i.node,4*b.SquareWidth,b.SquareHeight),this.foodDetector=m.createRectangleNodeCenter(i.node,5*b.SquareWidth,3*b.SquareHeight))},s.detectEnemies=function(){var t,i=this;if(null==(t=this.inLane)||!t.isInLawn())return this.scale=1,!1;var a=1,n=this.fooding?this.foodDetector:this.detector,o=this.inLane.zombiePool(),e=this.inLane.tombPool();this.fooding&&(o=o.concat(this.inLane.UpperLane.zombiePool(),this.inLane.LowerLane.zombiePool()),e=e.concat(this.inLane.UpperLane.tombPool(),this.inLane.LowerLane.tombPool()));var s=[];o.forEach((function(t){n.judgeCrossRec(t.bodyRec)&&-1==s.indexOf(t)&&(s.push(t),t.worldPositionX<i.worldPositionX&&(a=-1))})),this.zombiesInRange=s;var r=[];e.forEach((function(t){n.judgeCrossRec(t.bodyRec)&&-1==r.indexOf(t)&&(r.push(t),t.worldPositionX<i.worldPositionX&&(a=-1))})),this.tombsInRange=r;var l=r.length+s.length>0;return this.scale=a,l},s.dealdamageToEnemies=function(){var t=(this.fooding?this.objdataOwn.PlantfoodDamageMult:1)*this.objdataOwn.GhostDamage*this._dmgScale,i=new P(t);this.tombsInRange.forEach((function(t){t.dealDamage(i)})),this.zombiesInRange.forEach((function(t){t.dealDamage(i)}))},s.specialPlantFood=function(t){this.lifeCD=NaN,this.switching=!0,this.ghosting=!1,this.dmgCD=0,this.foodCD=this.objdataOwn.PlantfoodDuration,this.anmControl.playAnimation("FoodStart",1/0)},s.specialPlantFoodEnd=function(){this.switching=!0,this.ghosting=!1,this.anmControl.playAnimation("FoodEnd",1),this.soundRes.playAttackEndSay()},s.ghostStartAnm=function(){this.switching||(this.dmgCD=0,isNaN(this.lifeCD)&&(this.lifeCD=this.objdataOwn.Lifetime),this.switching=!0,this.ghosting=!1,this.anmControl.playAnimation(this.attackStartAnimation,1/0))},s.ghostEndAnm=function(){this.switching=!0,this.ghosting=!1,this.scale=1,this.anmControl.playAnimation(this.attackEndAnimation,1),this.soundRes.playAttackEndSay()},s.killAllFog=function(){[this.fogParD,this.fogParM,this.fogParU].forEach((function(t){var i;t&&(null==(i=t.db)||i.playAnimation("Fade"))})),this.fogParD=null,this.fogParU=null,this.fogParM=null},s.specialPlantOnUnsheepend=function(){this.lifeCD=NaN},s.specialPlantUpdate=function(t,i,a){var n=this.detectEnemies();if(this.ghosting&&t>0){if(this.dmgCD>0?this.dmgCD-=t:this.dmgCD<=0&&(this.dmgCD=this._cdScale*this.objdataOwn.GhostDamageCooldownTime,this.dealdamageToEnemies()),this.inLane){if(this.fooding&&this.lIndex>0){if(!this.fogParU){var o,e=S(this.fogPar);this.fogParU=e.getComponent(w),null==(o=this.fogParU.db)||o.playAnimation("Spawn",1)}this.fogParU.node.parent=this.inLane.UpperLane.prjLayer,this.fogParU.node.worldPosition=new d(this.worldPositionX,this.worldPositionY+b.SquareHeight,0)}else if(this.fogParU){var s;null==(s=this.fogParU.db)||s.playAnimation("Fade"),this.fogParU=null}if(this.fooding&&this.lIndex<4){if(!this.fogParD){var r,l=S(this.fogPar);this.fogParD=l.getComponent(w),null==(r=this.fogParD.db)||r.playAnimation("Spawn",1)}this.fogParD.node.parent=this.inLane.LowerLane.prjLayer,this.fogParD.node.worldPosition=new d(this.worldPositionX,this.worldPositionY-b.SquareHeight,0)}else if(this.fogParD){var h;null==(h=this.fogParD.db)||h.playAnimation("Fade"),this.fogParD=null}if(!this.fogParM){var c,f=S(this.fogPar);this.fogParM=f.getComponent(w),null==(c=this.fogParM.db)||c.playAnimation("Spawn",1)}this.fogParM&&(this.fogParM.node.parent=this.inLane.prjLayer,this.fogParM.node.worldPosition=new d(this.worldPositionX,this.worldPositionY,0))}this.soundRes.playAttackLP(),this.soundRes.playGhostLP(),n||this.fooding||this.ghostEndAnm(),this.fooding&&(this.foodCD-=t,this.foodCD<=0&&this.foodEnd())}else this.tombsInRange=[],this.zombiesInRange=[],this.switching||n&&t&&this.ghostStartAnm(),this.killAllFog();this.lifeCD-=t,this.lifeCD<=0&&this.die()},s.specialPlantDie=function(t){this.zombiesInRange=[],this.tombsInRange=[],this.killAllFog(),this.followGhosts()},s.animationListener=function(t){switch(t.name){case"ghost":this.ghosting=!0,this.soundRes.playAttackStart(),this.fooding?this.soundRes.playFoodStartSay():this.soundRes.playAttackStartSay();break;case"expl":this._explode(this._dmgScale*this.objdataOwn.ExplodeDamage);break;case"foodLP":this.anmControl.playAnimation("FoodLoop",1/0);break;case"attackLP":this.anmControl.playAnimation("AttackLoop",1/0)}},e(i,[{key:"objdataOwn",get:function(){return this._objdataOwn}},{key:"lifeCD",get:function(){return this._lifeCD},set:function(t){if(this._lifeCD=t,isNaN(t))this.stage=0;else{for(var i=this.objdataOwn.Lifetime,a=0,n=0;n<3;n++)if(t>i/3*(2-n)){a=n;break}this.stage=a}}},{key:"stage",get:function(){return this._stage},set:function(t){var i=this._stage+0;switch(t){case 1:this.anmControl.IdleAnim="Idle1",this.anmControl.RandomAnim=["Rand1"],this.attackStartAnimation="AttackStart1",this.attackEndAnimation="AttackEnd1";break;case 2:this.anmControl.IdleAnim="Idle2",this.anmControl.RandomAnim=["Rand2"],this.attackStartAnimation="AttackStart2",this.attackEndAnimation="AttackEnd2";break;default:t=0,this.anmControl.IdleAnim="Idle0",this.anmControl.RandomAnim=["Rand0"],this.attackStartAnimation="AttackStart0",this.attackEndAnimation="AttackEnd0"}!i&&t&&this.clearScheduler(),this._stage=t}}]),i}(u)).prototype,"soundRes",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new $}}),V=i(Y.prototype,"ghostPar",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=i(Y.prototype,"fogPar",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=Y))||W));s._RF.pop()}}}));

System.register("chunks:///_virtual/GlacierBlock.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Tomb.ts","./LnC.ts","./ArrayGet.ts","./Square.ts"],(function(e){var t,n,r,i,o,s,c,a;return{setters:[function(e){t=e.inheritsLoose,n=e.createClass},function(e){r=e.cclegacy,i=e._decorator},function(e){o=e.Tomb},function(e){s=e.LnCSpawnZombieStyleEnum},function(e){c=e.ArrayGet},function(e){a=e.Square}],execute:function(){var l;r._RF.push({},"eaea4JY5Z9BIq1zZ4V5HvfO","GlacierBlock",void 0);var u=i.ccclass;i.property,e("GlacierBlock",u("GlacierBlock")(l=function(e){function r(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this)._reversed=!1,t.zombieList=[],t}t(r,e);var i=r.prototype;return i.depthScale=function(){return 0},i.playSpawnParticle=function(){},i.specialTombOnLnCSet=function(e,t){if(t){var n=t.tombParent;this.scale<0&&(n=a.getLnC(t.lIndex,8-t.cIndex).tombParent),this.node.setParent(n,!0)}},i.specialTombDie=function(e,t){if(this.zombieList.length){var n=this.cIndex;this.reversed&&(n=8-n);var r=Math.floor(n/8*this.zombieList.length),i=this.zombieList[r].concat();if(i.length){var o=c.getRandom(i);null!=o&&o.length&&(null==t||t.SpawnZombieByZombieType(o,s.directPut,!0,.5,0,{},!1,this.reversed,this.hypnotized))}}},n(r,[{key:"reversed",get:function(){return this._reversed},set:function(e){this.scale=Math.abs(this.scale)*(e?-1:1),this._reversed=e}}]),r}(o))||l);r._RF.pop()}}}));

System.register("chunks:///_virtual/GlacierShroom.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./CharacterManager.ts","./levelController.ts","./Square.ts","./NodePools.ts","./SoundRescourses.ts","./KeyListener.ts","./SettingWindow.ts","./Particles.ts"],(function(e){var t,n,i,o,a,r,s,l,h,c,u,d,f,p,y,w,g,m,C,b,S,z,P,k,v,L,E,F,I,A,D;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,r=e._decorator,s=e.AudioClip,l=e.Prefab,h=e.Color,c=e.KeyCode,u=e.input,d=e.Input,f=e.Vec3,p=e.Label,y=e.tween,w=e.dragonBones},function(e){g=e.Plant,m=e.PlantProps},function(e){C=e.ZombieDamageDetails,b=e.ZombieDamageType,S=e.ZombiePool,z=e.TombPool,P=e.Rectangle},function(e){k=e.LevelPlay},function(e){v=e.Square},function(e){L=e.NodePools,E=e.instantiatePooly},function(e){F=e.sounds},function(e){I=e.KeyListener},function(e){A=e.SettingWindow},function(e){D=e.particle}],execute:function(){var R,_,T,x,O,K,B,W,j,N,q,U,G,H,M,Z,V,J,Q,Y,X,$,ee,te,ne,ie,oe,ae,re;a._RF.push({},"567d2qH5vZJW6Vx5t9S4QgI","GlacierShroom",void 0);var se=r.ccclass,le=r.property,he=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))||this).FreezeDuration=5,t.ChillDuration=5,t.ChillDurationAmbience=2,t.FreezeDamage=20,t.EatFreezeDuration=3,t.EatChillDuration=3,t.EatFreezeInterval=3.5,t.WakeTime=25,t}return n(t,e),t}(m),ce=(R=se("glaciershroomSound"),_=le([s]),T=le([s]),x=le([s]),O=le(s),K=le(s),B=le(s),R((N=t((j=function(){function e(){i(this,"freezeSound",N,this),i(this,"steadySound",q,this),i(this,"eatFreezeSound",U,this),i(this,"tornadoSound",G,this),i(this,"wakeSound",H,this),i(this,"wakeCoffeeSound",M,this)}var t=e.prototype;return t.playFreezeSound=function(){F.playArray(this.freezeSound,1,.1)},t.playSteadySound=function(){F.playArray(this.steadySound,1,.1)},t.playEatFreezeSound=function(){F.playArray(this.eatFreezeSound,1,.1)},t.playTornadoSound=function(){F.playOneShot(this.tornadoSound,1,.1)},t.playWakeSound=function(){F.playOneShot(this.wakeSound,1,.1),F.playOneShot(this.wakeCoffeeSound,1,.1)},e}()).prototype,"freezeSound",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),q=t(j.prototype,"steadySound",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),U=t(j.prototype,"eatFreezeSound",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),G=t(j.prototype,"tornadoSound",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(j.prototype,"wakeSound",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(j.prototype,"wakeCoffeeSound",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=j))||W);e("GlacierShroomPlant",(Z=se("GlacierShroomPlant"),V=le(ce),J=le(l),Q=le(l),Y=le(h),X=le(h),Z(((re=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))||this)._objdataOwn=new he,i(t,"soundRes",te,o(t)),t.lit=!1,t.eatFreezeCooldown=0,i(t,"splatParticle",ne,o(t)),t.key=void 0,t.litSlots=[],t.screenColorTween=void 0,t.awaken=!0,t.sleeping=0,t.switching=!1,i(t,"tileChillBuff",ie,o(t)),t.tileBuffParticles=[],i(t,"freezeColor1",oe,o(t)),i(t,"freezeColor2",ae,o(t)),t.detector=void 0,t.screenColor=new h(0,0,0,0),t}n(t,e);var a=t.prototype;return a.specialPlantFood=function(e){this.anmControl.playAnimation("Food",1),this.baseColor=new h(255,255,255,255)},a.specialPlantOnEnable=function(){this.screenColorTween=null,this.lit=!1,this.switching=!1,this.sleeping=0,this.awaken=!0,this.litSlots.forEach((function(e){e._setDisplayIndex(-1)})),this.anmControl.IdleAnim="Idle",this.anmControl.RandomAnim=["Rand1","Rand2"],this.baseColor=new h(255,255,255,255)},a.splat=function(e){void 0===e&&(e=!1);var t=L.instantiatePooly(this.splatParticle);t.parent=this.inLane.node,t.worldPosition=this.node.worldPosition.clone().add3f(0,e?40:0,0),e||t.setSiblingIndex(0)},a.specialPlantOnEaten=function(e,t,n,i){if(this.lit&&this.eatFreezeCooldown<=0){this.eatFreezeCooldown=this._objdataOwn.EatFreezeInterval;var o=this._objdataOwn.EatFreezeDuration,a=this._objdataOwn.EatChillDuration;this.detectInRangeEnemies().forEach((function(e){e.flying||e.setFreeze(o),e.setChill(a)})),this.splat(!0),this.soundRes.playEatFreezeSound()}},a.showKey=function(){return!isNaN(this.AttackKeyCode())&&this.Attackable()},a.AttackKeyCode=function(){var e=I.KeyBinds;return c[e.Game_IceShroom]},a.Attackable=function(){return!this.sheepend&&(this.sleeping<=0&&!this.switching&&!this.fooding)},a.keyColor=function(){return A.plantKeyTips&&k.gaming&&this.isAlive()&&this.showKey()?{scale:1,color:new h(245,255,0,255)}:{scale:1,color:new h(0,0,0,0)}},a.specialPlantOnLoad=function(){var e=this;u.on(d.EventType.KEY_DOWN,(function(n){k.gameStarted&&n.keyCode==e.AttackKeyCode()&&!t.keyListenCooldown&&(e.specialPlantOnMouseDown()&&(t.keyListenCooldown=!0))}),this);var n=this.AttackKeyCode();if(!isNaN(n)){var i=E(D.sniperKey());i.parent=this.node,i.position=new f(50,20,0),this.key=i.getComponent(p),this.key.string=I.KeyCodeToString(n),this.key.color=new h(255,255,255,0)}this.anmControl.db.armature().getSlots().forEach((function(t){t.name.includes("_LIT")&&e.litSlots.push(t)}))},a.animationListener=function(e){var t=this;switch(e.name){case"Freeze":v.getAllLane().forEach((function(e){e.tntPool().forEach((function(e){e.ignited=!1}))})),this.fooding&&(this.lit=!0,this.litSlots.forEach((function(e){e._setDisplayIndex(0)})),this.switching=!1,this.sleeping=0,this.awaken=!0,this.anmControl.IdleAnim="Idle",this.anmControl.RandomAnim=["Rand1","Rand2"],this.soundRes.playTornadoSound(),this.tileBuffParticles.forEach((function(e){e.armature().getSlots().forEach((function(e){e.name.includes("_snow")&&e._setDisplayIndex(t.lit?0:-1)}))}))),this.soundRes.playFreezeSound();var n=this._objdataOwn.FreezeDuration,i=this._objdataOwn.ChillDuration,o=this._objdataOwn.FreezeDamage;this._dmgScale&&(o*=this._dmgScale);var a=new C(o,!1,!1,!1,null,b.physicle,!0,!0);S.pool().concat().forEach((function(e){e.flying||e.setFreeze(n),e.setChill(i),e.dealDamage(a)})),z.pool().concat().forEach((function(e){e.dealDamage(a)}));var r=y(this.screenColor).to(1/60/this.anmControl.db.timeScale,{r:this.freezeColor2.r,g:this.freezeColor2.g,b:this.freezeColor2.b,a:this.freezeColor2.a}).to(1/4/this.anmControl.db.timeScale,{a:0}).call((function(){t.screenColorTween=null})).start();this.bodyTweens.push(r),this.screenColorTween=r;break;case"screenFlashStart":this.screenColor=new h(this.freezeColor1.r,this.freezeColor1.g,this.freezeColor1.b,0);var s=y(this.screenColor).to(.5/this.anmControl.db.timeScale,{a:this.freezeColor1.a}).start();this.bodyTweens.push(s),this.screenColorTween=s;break;case"foodEnd":this.foodEnd();break;case"sleepStart":this.switching=!1,this.awaken=!1;var l=this._objdataOwn.WakeTime;this._cdScale&&(l*=this._cdScale),this.sleeping=l,this.clearScheduler(),this.anmControl.IdleAnim="Sleep",this.anmControl.RandomAnim=[];break;case"steadySound":this.soundRes.playSteadySound();break;case"wakeSound":this.soundRes.playWakeSound();break;case"splat":this.splat();break;case"splatHigh":this.splat(!0)}},a.waterable=function(){return this.sleeping<=0&&!this.switching},a.specialPlantOnSquareChange=function(e,t){var n=this;this.detector=P.createRectangleNodeCenter(t.node,3*v.SquareWidth,3*v.SquareHeight),this.tileBuffParticles.forEach((function(e){e.playAnimation("Fade",1)})),this.tileBuffParticles=[],[this.inLane.UpperLane,this.inLane,this.inLane.LowerLane].forEach((function(e){if(e.LaneIndex>=0&&e.LaneIndex<=4){var t=L.instantiatePooly(n.tileChillBuff);t.parent=e.node;var i=t.getComponent(w.ArmatureDisplay);i.playAnimation("Spawn",1);var o=v.getSquareWorldPosition(e.LaneIndex,n.inLnC.cIndex);t.worldPosition=new f(o.x,o.y,4),t.setSiblingIndex(0),n.tileBuffParticles.push(i)}})),this.tileBuffParticles.forEach((function(e){e.armature().getSlots().forEach((function(e){e.name.includes("_snow")&&e._setDisplayIndex(n.lit?0:-1)}))}))},a.detectInRangeEnemies=function(){var e=this,t=[];return this.inLane.zombiePool().concat(this.inLane.UpperLane.zombiePool(),this.inLane.LowerLane.zombiePool()).forEach((function(n){var i;null!=(i=e.detector)&&i.judgeCrossRec(n.bodyRecReal)&&t.push(n)})),t},a.specialPlantUpdateForce=function(e,t,n){if(this.sleeping>0&&!this.fooding){var i=200-122*this.getScheduler(this.sleeping/8);this.baseColor=new h(i,i,i,255)}else this.baseColor=new h(255,255,255,255);if(this.key){var o=this.keyColor();if(this.key.color=o.color,this.key.node.scale=new f(o.scale,o.scale,1),this.db.node.parent==this.key.node.parent){var a=this.db.node.getSiblingIndex();this.key.node.getSiblingIndex()<a&&this.key.node.setSiblingIndex(a)}}},a.specialPlantLateUpdate=function(e){t.keyListenCooldown=!1,0!=this.screenColor.a&&k.gaming&&!this.sheepend&&this.screenColorTween&&k.screenFlashColors.push(this.screenColor)},a.specialPlantUpdate=function(e,t,n){var i,o=this;(this.eatFreezeCooldown>0&&(this.eatFreezeCooldown-=e),this.fooding||(this.sleeping>0&&(this.sleeping-=e),this.sleeping<0&&!this.awaken&&(this.awaken=!0,this.anmControl.playAnimation("Wake",1),this.soundRes.playWakeSound(),this.anmControl.IdleAnim="Idle",this.anmControl.RandomAnim=["Rand1","Rand2"],this.baseColor=new h(255,255,255,255)),this.litSlots.forEach((function(e){e._setDisplayIndex(o.lit?0:-1)}))),this.detectInRangeEnemies().forEach((function(e){e.setChill(2)})),this.lit)&&(null==(i=this.plantInLnC)||null==(i=i.get3x3())||i.forEach((function(e){var t;null==e||null==(t=e.getAllPlants())||t.forEach((function(e){e!=o&&e.family==o.family&&e.plantCDScaleSetter(.5,1)}))})));this.inLane.tntPool().concat(this.inLane.UpperLane.tntPool(),this.inLane.LowerLane.tntPool()).forEach((function(e){e.ignited&&o.detector.judgeInRecP(e.ropeSideWP)&&(e.ignited=!1)}))},a.specialPlantDie=function(e){this.baseColor=new h(255,255,255,255),this.tileBuffParticles.forEach((function(e){e.playAnimation("Fade",1)}))},a.teach=function(){this.sleeping<=0?(this.addArrow(1/0),this.defaultTeach(1)):this.arrowCountdown=0},a.specialPlantOnMouseDown=function(){return!this.sheepend&&(this.sleeping<=0&&!this.switching&&!this.fooding&&(this.anmControl.playAnimation("Freeze",1),this.switching=!0,this.arrowCountdown=0,!0))},t}(g)).keyListenCooldown=!1,te=t((ee=re).prototype,"soundRes",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new ce}}),ne=t(ee.prototype,"splatParticle",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ie=t(ee.prototype,"tileChillBuff",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),oe=t(ee.prototype,"freezeColor1",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new h(0,0,0,0)}}),ae=t(ee.prototype,"freezeColor2",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new h(0,0,0,0)}}),$=ee))||$));a._RF.pop()}}}));

System.register("chunks:///_virtual/GloomShroom.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./CharacterManager.ts","./Square.ts","./NodePools.ts","./SoundRescourses.ts"],(function(e){var o,t,n,i,a,r,s,c,l,h,d,u,p,f,g,b,P,w;return{setters:[function(e){o=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){a=e.cclegacy,r=e._decorator,s=e.AudioClip,c=e.Prefab,l=e.Vec2,h=e.dragonBones},function(e){d=e.Plant,u=e.PlantProps},function(e){p=e.Rectangle,f=e.ZombieDamageDetails,g=e.ZombieDamageType},function(e){b=e.Square},function(e){P=e.NodePools},function(e){w=e.sounds}],execute:function(){var S,y,m,R,k,L,C,D,v,j,B,z,q,H,_,E,A,T,x,O,U,F,M,I;a._RF.push({},"5105cpihGRCsI7JLSfvlvOf","GloomShroom",void 0);var W=r.ccclass,X=r.property,G=(S=W("gloomshroomSound"),y=X([s]),m=X([s]),R=X([s]),k=X(s),S((D=o((C=function(){function e(){n(this,"shootSounds",D,this),n(this,"shootSoundsAdd",v,this),n(this,"preShootSounds",j,this),n(this,"foodSound",B,this)}var o=e.prototype;return o.playShootSound=function(e){w.playArray(this.shootSounds,1,.1),e&&w.playArray(this.shootSoundsAdd,1,.1)},o.playPreShootSound=function(){w.playArray(this.preShootSounds,1,.1)},o.playFoodPushSound=function(){w.playOneShot(this.foodSound,1,.1)},e}()).prototype,"shootSounds",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=o(C.prototype,"shootSoundsAdd",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j=o(C.prototype,"preShootSounds",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B=o(C.prototype,"foodSound",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=C))||L),N=function(e){function o(){for(var o,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return(o=e.call.apply(e,[this].concat(n))||this).DPS=160,o.ShootInterval=1.5,o.DamageDuration=.5,o.DPSPlantfood=1543,o.PoisonDPS=60,o}return t(o,e),o}(u);e("GloomShroomPlant",(z=W("GloomShroomPlant"),q=X(G),H=X(c),_=X(c),E=X(c),A=X(c),z((O=o((x=function(e){function o(){for(var o,t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return(o=e.call.apply(e,[this].concat(a))||this)._objdataOwn=new N,n(o,"soundRes",O,i(o)),o.attackCD=0,o.bubbleCountDown=0,o.detector=p.createRectangleCenter(new l(0,0),0,0),o.attacking=!1,o.dragging=0,n(o,"shootParticleHere",U,i(o)),n(o,"shootParticleThere",F,i(o)),n(o,"foodParticleHere",M,i(o)),n(o,"foodParticleThere",I,i(o)),o}t(o,e);var a=o.prototype;return a.waterable=function(){return!this.attacking},a.specialPlantOnSquareChange=function(e,o){this.setDetector(e,o)},a.setDetector=function(e,o){this.detector=p.createRectangleNodeCenter(o.node,3*b.SquareWidth,3*b.SquareHeight)},a.specialPlantOnEnable=function(){this.attacking=!1,this.attackCD=0},a.specialPlantUpdateForce=function(e,o,t){var n=this;if(this.bubbleCountDown>0&&!this.sheepend){this.bubbleCountDown-=e,this.fooding&&this.push();var i=(this.fooding?this._objdataOwn.DPSPlantfood:this._objdataOwn.DPS)*e;this._dmgScale&&(i*=this._dmgScale),this.detectEnemies(i),this.ShadowPowered&&this.inLnC.get3x3().forEach((function(o){o!=n.inLnC&&o.setShadowBuff(20*e,!1)}))}this.dragging>0&&(this.dragging-=e,this.drag())},a.detectEnemies=function(e){var o=this;void 0===e&&(e=0);var t=!1,n=new f(e,!0,!1,!1,null,g.physicle);return this.inLane.zombiePool().concat(this.inLane.UpperLane.zombiePool(),this.inLane.LowerLane.zombiePool()).forEach((function(i){t&&e<=0||(e>0?i.bodyRecReal:i.bodyRec).judgeCrossRec(o.detector)&&(t=!0,e>0&&(i.dealDamage(n),o.ShadowPowered&&i.setPoison(o._objdataOwn.PoisonDPS*o._dmgScale,.1)))})),(!t||e>0)&&this.inLane.tombPool().concat(this.inLane.UpperLane.tombPool(),this.inLane.LowerLane.tombPool()).forEach((function(i){t&&e<=0||i.bodyRec.judgeCrossRec(o.detector)&&(t=!0,e>0&&i.dealDamage(n))})),t},a.specialPlantUpdate=function(e,o,t){if(!this.fooding&&(this.attackCD>0&&(this.attackCD-=e),this.attackCD<=0&&t>0&&this.detectEnemies())){var n=this._objdataOwn.ShootInterval;this.attackCD=n*this._cdScale,this.anmControl.playAnimation("Attack",1,.1,Math.max(1,1.7/n)),this.attacking=!0}},a.specialPlantFood=function(e){this.bubbleCountDown=0,this.dragging=0,this.attacking=!1,this.attackCD=0,this.anmControl.playAnimation("Food",1)},a.drag=function(){var e=this,o=p.createRectangleCenter(new l(this.inLnC.node.worldPosition.x,this.inLnC.node.worldPosition.y+2*b.SquareHeight),3*b.SquareWidth,b.SquareHeight),t=p.createRectangleCenter(new l(this.inLnC.node.worldPosition.x,this.inLnC.node.worldPosition.y-2*b.SquareHeight),3*b.SquareWidth,b.SquareHeight),n=p.createRectangleCenter(new l(this.inLnC.node.worldPosition.x,this.inLnC.node.worldPosition.y+b.SquareHeight),5*b.SquareWidth,b.SquareHeight),i=p.createRectangleCenter(new l(this.inLnC.node.worldPosition.x,this.inLnC.node.worldPosition.y-b.SquareHeight),5*b.SquareWidth,b.SquareHeight),a=p.createRectangleCenter(new l(this.inLnC.node.worldPosition.x,this.inLnC.node.worldPosition.y),5*b.SquareWidth,b.SquareHeight);this.inLane.UpperLane.UpperLane.zombiePool().forEach((function(e){!e.knockBackTween&&e.bodyRecReal.judgeCrossRec(o)&&e.knockBackBy(new l(0,1),!1,.4)})),this.inLane.LowerLane.LowerLane.zombiePool().forEach((function(e){!e.knockBackTween&&e.bodyRecReal.judgeCrossRec(t)&&e.knockBackBy(new l(0,-1),!1,.4)})),this.inLane.UpperLane.zombiePool().forEach((function(o){o.knockBackTween||!o.bodyRecReal.judgeCrossRec(n)||o.bodyRecReal.judgeCrossRec(e.detector)||o.knockBackBy(new l(o.bodyRecReal.prjX().y>e._worldPositionX?-1:1,0),!1,.4)})),this.inLane.zombiePool().forEach((function(o){o.knockBackTween||!o.bodyRecReal.judgeCrossRec(a)||o.bodyRecReal.judgeCrossRec(e.detector)||o.knockBackBy(new l(o.bodyRecReal.prjX().y>e._worldPositionX?-1:1,0),!1,.4)})),this.inLane.LowerLane.zombiePool().forEach((function(o){o.knockBackTween||!o.bodyRecReal.judgeCrossRec(i)||o.bodyRec.judgeCrossRec(e.detector)||o.knockBackBy(new l(o.bodyRecReal.prjX().y>e._worldPositionX?-1:1,0),!1,.4)}))},a.push=function(){var e=this;this.inLane.zombiePool().forEach((function(o){if(!o.knockBackTween&&o.bodyRecReal.judgeCrossRec(e.bodyRec)){var t=Math.round(Math.random())+Math.round(Math.random());(o.inLane.LaneIndex+t-1>4||o.inLane.LaneIndex+t-1<0)&&(t=2-t),o.knockBackBy(new l(1,t-1),!1,.4)}}))},a.animationListener=function(e){"foodEnd"==e.name?this.foodEnd():"ShootStart"==e.name?(this.soundRes.playShootSound(this.ShadowPowered),this.bubbleCountDown=this._objdataOwn.DamageDuration,this.attacking=!1,this.spawnParticle(!1)):"push"==e.name?(this.bubbleCountDown=3,this.spawnParticle(!0)):"shootSound"==e.name?this.soundRes.playPreShootSound():"drag"==e.name?(this.dragging=1,this.soundRes.playPreShootSound()):"foodSound"==e.name&&this.soundRes.playFoodPushSound()},a.spawnParticle=function(e){var o=this;void 0===e&&(e=!1);var t=P.instantiatePooly(e?this.foodParticleHere:this.shootParticleHere),n=P.instantiatePooly(e?this.foodParticleThere:this.shootParticleThere);t.parent=this.inLane.prjLayer,t.worldPosition=this.shadeSocket.worldPosition.clone(),n.parent=this.inLane.UpperLane.prjLayer,n.worldPosition=this.shadeSocket.worldPosition.clone(),[t.getComponent(h.ArmatureDisplay),n.getComponent(h.ArmatureDisplay)].forEach((function(e){e.playAnimation("Play"+(o.ShadowPowered?"Dark":""),1)}))},o}(d)).prototype,"soundRes",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new G}}),U=o(x.prototype,"shootParticleHere",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=o(x.prototype,"shootParticleThere",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=o(x.prototype,"foodParticleHere",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=o(x.prototype,"foodParticleThere",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=x))||T));a._RF.pop()}}}));

System.register("chunks:///_virtual/GloomVine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./CharacterManager.ts","./Square.ts","./NodePools.ts","./SoundRescourses.ts"],(function(t){var o,n,e,a,i,r,c,s,l,u,d,h,f,p,m,P,b;return{setters:[function(t){o=t.applyDecoratedDescriptor,n=t.inheritsLoose,e=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){i=t.cclegacy,r=t._decorator,c=t.AudioClip,s=t.Prefab,l=t.Vec2},function(t){u=t.Plant,d=t.PlantProps},function(t){h=t.Rectangle,f=t.ZombieDamageDetails,p=t.ZombieDamageType},function(t){m=t.Square},function(t){P=t.NodePools},function(t){b=t.sounds}],execute:function(){var g,S,y,L,w,k,v,D,C,R,z,A,_,j,E,O;i._RF.push({},"fa3ccoDNupO5rmnQnpQqZMp","GloomVine",void 0);var F=r.ccclass,q=r.property,U=(g=F("gloomvineSound"),S=q([c]),y=q(c),g((k=o((w=function(){function t(){e(this,"shootSounds",k,this),e(this,"foodSound",v,this)}var o=t.prototype;return o.playShootSound=function(){b.playArray(this.shootSounds)},o.playFoodSound=function(){b.playOneShot(this.foodSound)},t}()).prototype,"shootSounds",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=o(w.prototype,"foodSound",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=w))||L),I=function(t){function o(){for(var o,n=arguments.length,e=new Array(n),a=0;a<n;a++)e[a]=arguments[a];return(o=t.call.apply(t,[this].concat(e))||this).Damage=45,o.AttackInterval=2.7,o.AttackIntervalAdditional=.15,o.DPSPlantfood=1543,o}return n(o,t),o}(d);t("GloomVinePlant",(D=F("GloomVinePlant"),C=q(U),R=q(s),z=q(s),D((j=o((_=function(t){function o(){for(var o,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return o=t.call.apply(t,[this].concat(i))||this,e(o,"soundRes",j,a(o)),o.attackCD=0,o.detector=h.createRectangleCenter(new l(0,0),0,0),o._objdataOwn=new I,o.attacking=!1,o.foodStarted=!1,e(o,"shootParticle",E,a(o)),e(o,"foodParticle",O,a(o)),o}n(o,t);var i=o.prototype;return i.waterable=function(){return!this.attacking},i.specialPlantOnSquareChange=function(t,o){this.setDetector(t,o)},i.setDetector=function(t,o){this.detector=h.createRectangleNodeCenter(o.node,3*m.SquareWidth,3*m.SquareHeight)},i.specialPlantDie=function(t){var o;null==(o=this.inLnC)||o.addBuff("darkBuff",!1)},i.specialPlantOnEnable=function(){this.attacking=!1,this.attackCD=0},i.attack=function(t){var o=this;this._dmgScale&&(t*=this._dmgScale);var n=new f(t,!0,!1,!1,null,p.physicle,!0);this.inLane.zombiePool().concat(this.inLane.UpperLane.zombiePool(),this.inLane.LowerLane.zombiePool()).forEach((function(t){t.bodyRecReal.judgeCrossRec(o.detector)&&t.dealDamage(n)})),this.inLane.tombPool().concat(this.inLane.UpperLane.tombPool(),this.inLane.LowerLane.tombPool()).forEach((function(t){t.bodyRec.judgeCrossRec(o.detector)&&t.dealDamage(n)}))},i.detectEnemies=function(){var t=this,o=!1;if(this.inLane.zombiePool().concat(this.inLane.UpperLane.zombiePool(),this.inLane.LowerLane.zombiePool()).forEach((function(n){o||n.bodyRec.judgeCrossRec(t.detector)&&(o=!0)})),o||this.inLane.tombPool().concat(this.inLane.UpperLane.tombPool(),this.inLane.LowerLane.tombPool()).forEach((function(n){var e;o||null!=(e=n.bodyRec)&&e.judgeCrossRec(t.detector)&&(o=!0)})),o){var n=this._objdataOwn.AttackInterval+Math.random()*this._objdataOwn.AttackIntervalAdditional;this._cdScale&&(n*=this._cdScale),this.attackCD=n,this.anmControl.playAnimation("Attack",1,.1*n,Math.max(1,2.7/n)),this.attacking=!0,this.soundRes.playShootSound()}},i.specialPlantUpdateForce=function(t,o,n){var e;null==(e=this.inLnC)||e.setShadowBuff(20*o)},i.specialPlantUpdate=function(t,o,n){this.fooding?this.foodStarted&&this.attack(this._objdataOwn.DPSPlantfood*t):(this.attackCD>0&&(this.attackCD-=t),this.attackCD<=0&&n>0&&this.detectEnemies())},i.specialPlantFood=function(t){this.foodStarted=!1,this.soundRes.playFoodSound(),this.attacking=!1,this.attackCD=0,this.anmControl.playAnimation("Food",1)},i.animationListener=function(t){"foodEnd"==t.name?this.foodEnd():"attack"==t.name?(this.attack(this._objdataOwn.Damage),this.attacking=!1,this.spawnParticle(!1)):"foodStart"==t.name&&(this.foodStarted=!0,this.spawnParticle(!0))},i.spawnParticle=function(t){void 0===t&&(t=!1);var o=P.instantiatePooly(t?this.foodParticle:this.shootParticle);o.parent=this.inLnC.particleLowerPoint,o.worldPosition=this.node.worldPosition},o}(u)).prototype,"soundRes",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new U}}),E=o(_.prototype,"shootParticle",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=o(_.prototype,"foodParticle",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=_))||A));i._RF.pop()}}}));

System.register("chunks:///_virtual/GoldBloom.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./SoundRescourses.ts","./Sunflower.ts"],(function(e){var t,o,n,i,r,a,u,c,s,l,d,p,h,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized,r=e.createClass},function(e){a=e.cclegacy,u=e._decorator,c=e.AudioClip,s=e.Node,l=e.Vec2},function(e){d=e.Plant,p=e.PlantProps},function(e){h=e.sounds},function(e){f=e.sunflower}],execute:function(){var y,b,P,w,m,v,j,g,_,k,O,R,S,V;a._RF.push({},"e883fDx8v9DML+wBHapN57P","GoldBloom",void 0);var z=u.ccclass,A=u.property,B=function(e){function t(){for(var t,o=arguments.length,n=new Array(o),i=0;i<o;i++)n[i]=arguments[i];return(t=e.call.apply(e,[this].concat(n))||this).ProduceValue0=100,t.ProduceValue1=125,t.ProduceValue2=150,t}return o(t,e),t}(p),D=(y=z("GoldBloomSound"),b=A([c]),P=A([c]),y((v=t((m=function(){function e(){n(this,"jump",v,this),n(this,"produce",j,this)}var t=e.prototype;return t.playJump=function(){h.playArray(this.jump,1,.1)},t.playProduce=function(){h.playArray(this.produce,1,.1)},e}()).prototype,"jump",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j=t(m.prototype,"produce",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),w=m))||w);e("GoldBloomPlant",(g=z("GoldBloomPlant"),_=A(D),k=A(s),g((S=t((R=function(e){function t(){for(var t,o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,n(t,"soundRes",S,i(t)),t._objdataOwn=new B,n(t,"producePoint",V,i(t)),t}o(t,e);var a=t.prototype;return a.onObjdataSet=function(e,t){},a.specialPlantOnEnable=function(){this.foodable=!1,this.invincible=!0,this.eaterDetectable=!1,this.smasherDetectable=!1},a.specialPlantOnSquareChange=function(e,t){t&&this.node.setParent(t.inLane.prjLayer,!0),this.anmControl.playAnimation("Attack",1)},a._produce=function(e){var t=this.objdataOwn.ProduceValue0;switch(e){case 1:t=this.objdataOwn.ProduceValue1;break;case 2:t=this.objdataOwn.ProduceValue2}var o=new l(this.producePoint.worldPosition.x,this.worldPositionY),n=this.producePoint.worldPosition.y-this.worldPositionY,i=f.produceSun(t,o,n,!0),r=new l(o.x-this.shadeSocket.worldPosition.x,n-this.height).normalize();i.forEach((function(e){e.worldPosition=o;var t=r.clone().multiplyScalar(7+6*Math.random());e.linearVelocity=new l(t.x,0),e.bodyLinearVelocity=t.y}))},a.waterable=function(){return!1},a.animationListener=function(e){switch(e.name){case"produce0":this.soundRes.playProduce(),this._produce(0);break;case"produce1":this.soundRes.playProduce(),this._produce(1);break;case"produce2":this.soundRes.playProduce(),this._produce(2);break;case"jump":this.soundRes.playJump();break;case"die":this.die(!0,!0,!1,!1)}},r(t,[{key:"objdataOwn",get:function(){return this._objdataOwn}}]),t}(d)).prototype,"soundRes",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new D}}),V=t(R.prototype,"producePoint",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=R))||O));a._RF.pop()}}}));

System.register("chunks:///_virtual/GoldLeaf.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./SoundRescourses.ts","./Tiles.ts","./levelController.ts"],(function(e){var t,n,a,o,l,i,r,s,c,u,p,h,f,d,_;return{setters:[function(e){t=e.inheritsLoose,n=e.applyDecoratedDescriptor,a=e.initializerDefineProperty,o=e.assertThisInitialized,l=e.createClass},function(e){i=e.cclegacy,r=e._decorator,s=e.AudioClip,c=e.Color,u=e.tween},function(e){p=e.PlantProps,h=e.Plant},function(e){f=e.sounds},function(e){d=e.TileEnum},function(e){_=e.LevelPlay}],execute:function(){var y,b,C,w,m,k,v,L,g,P,S,T;i._RF.push({},"9b92fh40yVOc4LRTGBinsTN","GoldLeaf",void 0);var R=r.ccclass,A=r.property,O=e("GoldLeafProps",function(e){function n(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(t=e.call.apply(e,[this].concat(a))||this).SunCostIncrement=25,t}return t(n,e),n}(p)),G=(y=R("GoldLeafSound"),b=A(s),C=A(s),y((k=n((m=function(){function e(){a(this,"attack",k,this),a(this,"release",v,this)}var t=e.prototype;return t.playAttack=function(){f.playOneShot(this.attack,1,.1)},t.playRelease=function(){f.playOneShot(this.release,1,.1)},e}()).prototype,"attack",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=n(m.prototype,"release",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=m))||w);e("GoldLeafPlant",(L=R("GoldLeafPlant"),g=A(G),L((T=n((S=function(e){function n(){for(var t,n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return t=e.call.apply(e,[this].concat(l))||this,a(t,"soundRes",T,o(t)),t._objdataOwn=new O,t.__screenColorTween=void 0,t.__screenColor=new c(0,0,0,0),t}t(n,e);var i=n.prototype;return i.onObjdataSet=function(e,t){},i.specialPlantOnEnable=function(){this.anmControl.playAnimation("Attack",1),this.eaterDetectable=!1,this.smasherDetectable=!1},i.shouldMaterial=function(){},i.__trickyUpdate=function(e){this.__screenColor.a>0&&this.__screenColorTween&&_.screenFlashColors.push(this.__screenColor)},i.__trickyAttack=function(){var e=this;this.__screenColor=new c(255,255,0,0);var t=u(this.__screenColor).to(.5/this.anmControl.db.timeScale,{a:255}).call((function(){_.__golden=!0})).to(.01/this.anmControl.db.timeScale,{r:255,g:255,b:255,a:255}).to(.5/this.anmControl.db.timeScale,{a:0}).call((function(){e.__screenColorTween=null})).start();this.__screenColorTween=t,this.bodyTweens.push(t)},i.__trickyPlace=function(){this.anmControl.playIdle()},i.shouldSpeedScale=function(){return 1},i.specialPlantLateUpdate=function(e){this.__trickyUpdate(e)},i.place=function(){var e,t;(this.die(!0,!0,!1),null!=(e=this.plantInLnC)&&e.tileExistable(d.goldtile,!0))&&(null==(t=this.plantInLnC)||t.putTile(d.goldtile,{},!1))},i.animationListener=function(e){switch(e.name){case"release":this.soundRes.playRelease();break;case"attack":this.soundRes.playAttack();break;case"place":this.place()}},l(n,[{key:"objdataOwn",get:function(){return this._objdataOwn}}]),n}(h)).prototype,"soundRes",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new G}}),P=S))||P));i._RF.pop()}}}));

System.register("chunks:///_virtual/goldTile.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Tile.ts","./Sunflower.ts","./Tiles.ts","./GridItem.ts","./Plants.ts","./Cards.ts","./levelController.ts"],(function(t){var e,n,i,l,s,o,a,r,c,u,d,h;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass},function(t){i=t.cclegacy,l=t._decorator},function(t){s=t.Tile},function(t){o=t.sunflower},function(t){a=t.TileEnum},function(t){r=t.GridItemEnum},function(t){c=t.plants,u=t.PlantEnum},function(t){d=t.Cards},function(t){h=t.LevelPlay}],execute:function(){var p;i._RF.push({},"78e9elZzMJCMIEDMIzZNN1U","goldTile",void 0);var f=l.ccclass;l.property,t("goldTile",f("goldTile")(p=function(t){function i(){for(var e,n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return(e=t.call.apply(t,[this].concat(i))||this)._stage=0,e.produceCD=0,e}e(i,t);var l=i.prototype;return l.specialTileOnEnable=function(){this.stage=0,this.produceCD=0,c.registerPlant(u.GoldLeaf,1)},l.specialTileOnLoad=function(){this.tileID=a.goldtile},l._produce=function(){this.db.playAnimation("Produce",1),o.produceSun(50,this.inLnC.plantPoint.worldPosition.toVec2(),1,!0)},l.specialTileDie=function(){var t,e=u.GoldLeaf;c.registerPlant(e,-1),null==(t=d.component)||null==(t=t.CFs)||t.forEach((function(t){e==t.ID&&(t.SUNCOST=t.SUNCOST)}))},l.onLnCChange=function(t,e){var n;null==(n=this.gridItemCP)||n.setGridItemType([r.goldtile])},l.specialTileUpdate=function(t){var e;this.dead||(null!=(e=this.inLnC)&&e.getAllPlants().length?(this.stage=2,this.produceCD>0?h.gaming&&(this.produceCD-=t):this.produceCD<=0&&(this.produceCD=20,this._produce())):this.stage=Math.min(this.stage,1))},n(i,[{key:"stage",get:function(){return this._stage},set:function(t){switch(t){case 1:this.IdleAnmList=["Rand_Normal","Idle_Normal"];break;case 2:this.IdleAnmList=["Idle_Lit"];break;default:this.IdleAnmList=["Rand_Unlit","Idle_Unlit"],t=0}t!=this._stage&&this.playIdle(),this._stage=t}}]),i}(s))||p);i._RF.pop()}}}));

System.register("chunks:///_virtual/GrapeShot.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CherryBomb.ts","./ArrayGet.ts","./Square.ts","./Character.ts","./Projectiles.ts"],(function(e){var t,r,n,a,i,o,c,s,l,u,p,h,f,y,b,d,x;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized,i=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){c=e.cclegacy,s=e._decorator,l=e.Prefab,u=e.AudioClip,p=e.Vec2},function(e){h=e.CherryBombPlant,f=e.CherryBombProps},function(e){y=e.ArrayGet},function(e){b=e.Square},function(e){d=e.CharacterType},function(e){x=e.ProjectileShootingFunctions}],execute:function(){var g,S,P,m,v,w,_;c._RF.push({},"31eccpYildMeKc/D2SGDYxZ","GrapeShot",void 0);var C=s.ccclass,G=s.property,j=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).PeaType="grapeshot",t}return r(t,e),t}(f);e("GrapeShotPlant",(g=C("GrapeShotPlant"),S=G(l),P=G([u]),g((w=t((v=function(e){function t(){for(var t,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))||this)._objdataOwn=new j,n(t,"explParticle",w,a(t)),n(t,"explSounds",_,a(t)),t}r(t,e);var c=t.prototype;return c.explode=function(){var e=this._objdataOwn.Damage;this._dmgScale&&(e*=this._dmgScale),this.inLnC.explodeCherry3x3(e,!1,this.explParticle,y.getRandom(this.explSounds)),this.shoot()},c.shoot=function(){var e=i(o().mark((function e(){var t,r,n,a,i,c,s,l,u,h,f;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this._objdataOwn.PeaType,r=this.worldPosition,n=Math.max(1,this.height+21),a=this.inLane.prjLayer,i=0,c=[-1,0,1];case 5:if(!(i<c.length)){e.next=22;break}s=c[i],l=0,u=[-1,0,1];case 8:if(!(l<u.length)){e.next=19;break}if(h=u[l],0!=s||0!=h){e.next=12;break}return e.abrupt("continue",16);case 12:return f=new p(s,h*b.SquareHeight/b.SquareWidth).multiplyScalar(15),e.next=15,x.shootOnePea(t,r,n,a,f,d.zombie);case 15:e.sent;case 16:l++,e.next=8;break;case 19:i++,e.next=5;break;case 22:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t}(h)).prototype,"explParticle",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=t(v.prototype,"explSounds",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),m=v))||m));c._RF.pop()}}}));

System.register("chunks:///_virtual/grapeshotProjectile.ts",["./rollupPluginModLoBabelHelpers.js","cc","./commonShot.ts","./SoundRescourses.ts","./Zombie.ts","./CharacterManager.ts","./Square.ts","./Character.ts","./Projectiles.ts"],(function(t){var e,i,n,o,a,s,l,r,c,h,u,d,f,y,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized,a=t.createClass},function(t){s=t.cclegacy,l=t._decorator,r=t.AudioClip},function(t){c=t.commonShot},function(t){h=t.sounds},function(t){u=t.Zombie},function(t){d=t.ZombieDamageDetails},function(t){f=t.Square},function(t){y=t.CharacterType},function(t){p=t.ProjectileProps}],execute:function(){var m,g,b,C,L;s._RF.push({},"14409SOIL5Jn4q+YpsqIGKx","grapeshotProjectile",void 0);var v=l.ccclass,x=l.property,S=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this).MaxHitCount=5,e}return i(e,t),e}(p);t("grapeshotProjectile",(m=v("grapeshotProjectile"),g=x([r]),m((L=e((C=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))||this)._objdata=new S,e.detectedZombies=[],e.detectOffInThisLane=!1,e.maxHitCount=5,e._leftHitCount=5,n(e,"onLeftHitCountChangeSounds",L,o(e)),e}i(e,t);var s=e.prototype;return s.specialOnObjdataSet=function(t){this._leftHitCount=this.maxHitCount=this.objdataOwn.MaxHitCount},s.onLinearVelocitySet=function(t){var e="";e=t.x>0?"WalkR":t.x<0?"WalkL":t.y>0?"WalkU":"WalkD",this.db.playAnimation(e,1/0)},s.characterOnEnable=function(){this.initialize(),this.leftHitCount=this.maxHitCount,this.detectOffInThisLane=!1,this.detectedZombies=[]},s.turnVelocity=function(){if(0==this.linearVelocity.y){var t=1;t=this.lIndex<=0?-1:this.lIndex>=4?1:2*Math.round(Math.random())-1,this.linearVelocity.y=Math.abs(this.linearVelocity.x)*f.SquareHeight/f.SquareWidth*t}else this.linearVelocity.y*=-1,(this.lIndex<=0&&this.linearVelocity.y>0||this.lIndex>=4&&this.linearVelocity.y<0)&&(this.linearVelocity.y*=-1);this.leftHitCount--},s.splat=function(t){this.detectOffInThisLane=!0,this.turnVelocity()},s.detectEnemy=function(t){var e,i=this;if(this.inLane&&this.detectEnemyOn&&!this.detectOffInThisLane){null!=(e=this.targetLocked)&&null!=(e=e.getComponent(u))&&e.dead&&(this.targetLocked=null);var n=new d(this.damage*this.damageScale*(this.havePeaBuff?1.5:1),this.armorProtection,this.armorKnockSound,this.bodyKnockSound,null,this.damageType,!0,!0),o=this.bodyRec();if(this.enemyType==y.zombie||this.enemyType==y.plant){var a,s,l=null,r=1/0,c=-1/0,h=this.enemyType==y.zombie?null==(a=this.inLane)?void 0:a.zombiePool():null==(s=this.inLane)?void 0:s.hypnoZombiePool();if(null==h||h.forEach((function(t){var e;if(!(i.targetLocked&&(null==(e=l)?void 0:e.node)==i.targetLocked||-1!=i.detectedZombies.indexOf(t))){var n=i.JudgesZombieBodyRecForShooter?t.bodyRecForShooter:t.bodyRec,a=n.prjX();null!=n&&n.judgeCrossRec(o)&&(!l||i.linearVelocity.x>=0&&a.x<r||i.linearVelocity.x<0&&a.y>c)&&(l=t,r=a.x,c=a.y)}})),l&&l.commonShotPopOnTouch(this))this.dealDamageToTarget(l),this.detectOffInThisLane=!0,this.turnVelocity(),this.detectedZombies.push(l);else if(this.enemyType==y.zombie){var f,p=null;null==(f=this.inLane)||f.tombPool().forEach((function(t){t.bodyRec.judgeCrossRec(o)&&(!i.targetLocked||i.targetLocked&&t.node==i.targetLocked)&&(p=t)})),p&&(p.dealDamage(n),this.dealSplashDamage(null,p),this.detectOffInThisLane=!0,this.turnVelocity())}this.enemyType==y.plant&&this.detectPlant(t,o)}}},s.detectPlant=function(t,e){var i,n=this;null==(i=this.inLane)||i.plantPool().forEach((function(t){n.dead||t.eaterDetectable&&e.judgeCrossRec(t.realBodyRec)&&(!n.targetLocked||n.targetLocked&&t.node==n.targetLocked)&&n.dealDamageToPlant(t)&&(n.turnVelocity(),n.detectOffInThisLane=!0)}))},s.specialOnLaneChange=function(t,e){var i=this;(e.LaneIndex>4&&this.linearVelocity.y<0||e.LaneIndex<0&&this.linearVelocity.y>0)&&(this.linearVelocity.y*=-1,this.leftHitCount--),this.detectOffInThisLane=!1,this.specialGrapeOnLaneChange(t,e),this.detectedZombies=this.detectedZombies.filter((function(t){var n,o;return i.enemyType==y.zombie?-1!=(null==e||null==(n=e.zombiePool())?void 0:n.indexOf(t)):-1!=(null==e||null==(o=e.hypnoZombiePool())?void 0:o.indexOf(t))}))},s.specialGrapeOnLaneChange=function(t,e){},s.specialOnSquareChange=function(t,e){-1==e.cIndex&&this.linearVelocity.x<0&&this.enemyType==y.zombie&&(this.linearVelocity.x*=-1,this.leftHitCount--)},a(e,[{key:"objdataOwn",get:function(){return this._objdata}},{key:"leftHitCount",get:function(){return this._leftHitCount},set:function(t){if(t<=0)this.pop();else if(t<this._leftHitCount){var e=this.onLeftHitCountChangeSounds.length;if(e>0){for(var i=this.onLeftHitCountChangeSounds[0],n=0;n<e;n++)if(t<this.maxHitCount*((n+1)/e)){i=this.onLeftHitCountChangeSounds[e-n-1];break}h.playOneShot(i,.3,.1)}}this._leftHitCount=t}}]),e}(c)).prototype,"onLeftHitCountChangeSounds",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),b=C))||b));s._RF.pop()}}}));

System.register("chunks:///_virtual/GraveBuster.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./SoundRescourses.ts"],(function(n){var t,i,e,o,a,r,s,l,c,u;return{setters:[function(n){t=n.applyDecoratedDescriptor,i=n.inheritsLoose,e=n.initializerDefineProperty,o=n.assertThisInitialized},function(n){a=n.cclegacy,r=n._decorator,s=n.AudioClip},function(n){l=n.Plant,c=n.PlantProps},function(n){u=n.sounds}],execute:function(){var h,p,d,m,b;a._RF.push({},"031f9TWSP1Ie4Y6Gu8MduTD","GraveBuster",void 0);var f=r.ccclass,S=r.property,y=function(n){function t(){for(var t,i=arguments.length,e=new Array(i),o=0;o<i;o++)e[o]=arguments[o];return(t=n.call.apply(n,[this].concat(e))||this).BustTime=4,t}return i(t,n),t}(c);n("GraveBusterPlant",(h=f("GraveBusterPlant"),p=S(s),h((b=t((m=function(n){function t(){for(var t,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return(t=n.call.apply(n,[this].concat(a))||this)._objdataOwn=new y,e(t,"chompSound",b,o(t)),t}i(t,n);var a=t.prototype;return a.leapDisable=function(n){return!0},a.specialPlantOnEnable=function(){this.foodable=!1,this.anmControl.playAnimation("Spawn",1),this.deathAnm="",this._invincible=!1,u.playOneShot(this.chompSound,1,0)},a.specialPlantDie=function(n){this.inLnC.tombStone&&this.inLnC.tombStone.hidden&&(this.inLnC.tombStone.hidden=!1,this.inLnC.tombStone.body.playAnimation("Spawn",1))},a.animationListener=function(n){if("bust"==n.name){this.inLnC.tombStone&&(this.inLnC.tombStone.hidden=!0);var t=this._objdataOwn.BustTime;this._cdScale&&(t*=this._cdScale),t=Math.max(.1,t),this.anmControl.playAnimation("Busting",1,0,4/t)}else"finish"==n.name?(this.inLnC.tombStone&&this.inLnC.tombStone.die(!1),this.invincible=!0,this.smasherDetectable=!1,this.eaterDetectable=!1):"die"==n.name&&this.die()},t}(l)).prototype,"chompSound",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=m))||d));a._RF.pop()}}}));

System.register("chunks:///_virtual/GridIcecube.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Tomb.ts","./NodePools.ts","./Tombs.ts","./Square.ts"],(function(e){var n,i,t,o,c,l,a,r,s,u,d,h,b;return{setters:[function(e){n=e.applyDecoratedDescriptor,i=e.inheritsLoose,t=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){c=e.cclegacy,l=e._decorator,a=e.Prefab,r=e.dragonBones},function(e){s=e.Tomb},function(e){u=e.instantiatePooly,d=e.destroyPooly},function(e){h=e.TombEnum},function(e){b=e.Square}],execute:function(){var f,p,m,k,v;c._RF.push({},"72e5b1kHphELqhfdoEOBjiX","GridIcecube",void 0);var P=l.ccclass,B=l.property;e("GridIcecube",(f=P("GridIcecube"),p=B(a),f((v=n((k=function(e){function n(){for(var n,i=arguments.length,c=new Array(i),l=0;l<i;l++)c[l]=arguments[l];return n=e.call.apply(e,[this].concat(c))||this,t(n,"icebackPF",v,o(n)),n.icebackDB=void 0,n.icebackSlot=void 0,n}i(n,e);var c=n.prototype;return c.canBePushedLeft=function(){var e,n=this;if(!this.inLane)return!1;var i=this.cIndexReal,t=this.lIndexReal,o=b.getLane(t),c=i-1;if(this.moveTween)return!1;if(c<0)return!1;var l,a=null==o||null==(e=o.tombPool(2))?void 0:e.find((function(e){return e.cIndexReal==c}));if(a)return(a.ID==h.iceblock_plant||a.ID==h.iceblock_zombie)&&a.canBePushedLeft();if(c>=9)return!0;var r=b.getLnC(t,c);return!(!r.getAllPlants().every((function(e){return!e.invincible}))||r.slider||r.zombieShields.find((function(e){return e.hypnotized!=n.hypnotized}))||null!=(l=this.tombInLnC)&&null!=(l=l.getAllPlants())&&l.some((function(e){return e.objdataOwn.CannotBePushedByFootballMech})))},c.canBePushedRight=function(){var e,n=this;if(!this.inLane)return!1;var i=this.cIndexReal,t=this.lIndexReal,o=i+1,c=b.getLane(t);if(this.moveTween)return!1;if(o>8)return!1;var l,a=null==c||null==(e=c.tombPool(2))?void 0:e.find((function(e){return e.cIndexReal==o}));if(a)return(a.ID==h.iceblock_plant||a.ID==h.iceblock_zombie)&&a.canBePushedRight();if(o<=-1)return!0;var r=b.getLnC(t,o);return!(!r.getAllPlants().every((function(e){return!e.invincible}))||r.slider||r.zombieShields.find((function(e){return e.hypnotized!=n.hypnotized}))||null!=(l=this.tombInLnC)&&null!=(l=l.getAllPlants())&&l.some((function(e){return e.objdataOwn.CannotBePushedByFootballMech})))},c.specialTombOnEnable=function(){this.icebackDB=u(this.icebackPF).getComponent(r.ArmatureDisplay),this.icebackDB.node.parent=this.node.parent,this.icebackDB.node.worldPosition=this.node.worldPosition,this.icebackDB.node.setSiblingIndex(0),this.icebackSlot=this.icebackDB.armature().getSlot("MAIN"),[this.db,this.icebackDB].forEach((function(e){null==e||e.playAnimation("Spawn",1/0)}))},c.onLnCLeave=function(e){e.unsheepen()},c.specialTombOnDamaged=function(e,n,i){var t;null==(t=this.icebackSlot)||t._setDisplayIndex(this.stage)},c.specialTombOnRealPosChange=function(){var e;null!=(e=this.icebackDB)&&e.node&&(this.icebackDB.node.setWorldPosition(this.node.worldPosition),this.icebackDB.node.worldScale=this.node.worldScale,this.icebackDB.node.worldRotation=this.node.worldRotation)},c.specialTombOnLaneChange=function(e,n){var i,t;n&&this.node.setParent(n.icecubeLayer,!0),null==(i=this.icebackDB)||null==(i=i.node)||i.setParent(n.tombLayer,!0),null==(t=this.icebackDB)||null==(t=t.node)||t.setSiblingIndex(0)},c.specialTombOnLnCSet=function(e,n){if(!this.dead)if(n){var i;if(n.iceblock!=this)null==(i=n.iceblock)||i.die();n.getAllPlants().forEach((function(e){null==e||e.sheepen()}))}else this.die()},c.playSpawnParticle=function(){},c.specialTombDieLater=function(e,n){null==n||n.unsheepen(),this.icebackDB&&(d(this.icebackDB.node),this.icebackDB=null)},n}(s)).prototype,"icebackPF",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=k))||m));c._RF.pop()}}}));

System.register("chunks:///_virtual/GridItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./JSONs.ts"],(function(e){var r,t,a,o,i,n,l;return{setters:[function(e){r=e.inheritsLoose,t=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){o=e.cclegacy,i=e._decorator,n=e.Component},function(e){l=e.PvZ2ObjectContainer}],execute:function(){var _;o._RF.push({},"c8c9d9VWJRLqYWI9mIGXkGL","GridItem",void 0);var c=i.ccclass,u=(i.property,e("GridItemPool",function(){function e(){}return e.pool=function(){return this._pool.concat()},e.poolByID=function(e){var r=[];return this.pool().forEach((function(t){-1!=t.GridItemTypes.indexOf(e)&&r.push(t)})),r},e.registerGridItem=function(e){-1==this._pool.indexOf(e)&&this._pool.push(e)},e.deleteGridItem=function(e){var r=this._pool.indexOf(e);-1!=r&&this._pool.splice(r,1)},e}()));u._pool=[];var s=e("GridItemEnum",function(e){return e[e.none=0]="none",e[e.slider_up_modern=1]="slider_up_modern",e[e.slider_down_modern=2]="slider_down_modern",e[e.slider_up=3]="slider_up",e[e.slider_down=4]="slider_down",e[e.rail=5]="rail",e[e.rail_tutorial=6]="rail_tutorial",e[e.rail_egypt=7]="rail_egypt",e[e.rail_pirate=8]="rail_pirate",e[e.rail_cowboy=9]="rail_cowboy",e[e.rail_future=10]="rail_future",e[e.rail_dark=11]="rail_dark",e[e.rail_sky=12]="rail_sky",e[e.rail_kongfu=13]="rail_kongfu",e[e.railcart=14]="railcart",e[e.railcart_tutorial=15]="railcart_tutorial",e[e.railcart_egypt=16]="railcart_egypt",e[e.railcart_pirate=17]="railcart_pirate",e[e.railcart_cowboy=18]="railcart_cowboy",e[e.railcart_future=19]="railcart_future",e[e.railcart_dark=20]="railcart_dark",e[e.railcart_sky=21]="railcart_sky",e[e.railcart_kongfu=22]="railcart_kongfu",e[e.powertile=23]="powertile",e[e.powertile_alpha=24]="powertile_alpha",e[e.powertile_beta=25]="powertile_beta",e[e.powertile_delta=26]="powertile_delta",e[e.powertile_gamma=27]="powertile_gamma",e[e.powertile_epsilon=28]="powertile_epsilon",e[e.protect_plant=29]="protect_plant",e[e.gravestone=30]="gravestone",e[e.gravestone_tutorial=31]="gravestone_tutorial",e[e.gravestone_egypt=32]="gravestone_egypt",e[e.gravestone_pirate=33]="gravestone_pirate",e[e.gravestone_cowboy=34]="gravestone_cowboy",e[e.gravestone_future=35]="gravestone_future",e[e.gravestone_dark=36]="gravestone_dark",e[e.gravestone_dark_sun=37]="gravestone_dark_sun",e[e.gravestone_dark_pf=38]="gravestone_dark_pf",e[e.kongfu_rack_torch=39]="kongfu_rack_torch",e[e.kongfu_rack_blade=40]="kongfu_rack_blade",e[e.kongfu_rack_bomb=41]="kongfu_rack_bomb",e[e.kongfu_rack_flag=42]="kongfu_rack_flag",e[e.kongfu_rack_nunchaku=43]="kongfu_rack_nunchaku",e[e.kongfu_rack_hammer=44]="kongfu_rack_hammer",e[e.kongfu_rack_helmet=45]="kongfu_rack_helmet",e[e.kongfu_rack_fan=46]="kongfu_rack_fan",e[e.kongfu_TNT=47]="kongfu_TNT",e[e.surfboard=48]="surfboard",e[e.surfboard_veteran=49]="surfboard_veteran",e[e.gravestone_iceage=50]="gravestone_iceage",e[e.iceblock_plant=51]="iceblock_plant",e[e.iceblock_zombie=52]="iceblock_zombie",e[e.zomboss_iceage_glacier_block=53]="zomboss_iceage_glacier_block",e[e.planttarget_squid=54]="planttarget_squid",e[e.gravestone_lostcity=55]="gravestone_lostcity",e[e.backpack=56]="backpack",e[e.tent=57]="tent",e[e.eightiesarcadecabinet=58]="eightiesarcadecabinet",e[e.speaker=59]="speaker",e[e.tile_liquid=60]="tile_liquid",e[e.sap=61]="sap",e[e.butter=62]="butter",e[e.goopuddle=63]="goopuddle",e[e.moltenpool=64]="moltenpool",e[e.lava=65]="lava",e[e.lilypad=66]="lilypad",e[e.deepwater=67]="deepwater",e[e.shallowwater=68]="shallowwater",e[e.goldtile=69]="goldtile",e[e.taichitile=70]="taichitile",e[e.boulder_trap_falling_forward=71]="boulder_trap_falling_forward",e[e.boulder_trap_falling_backward=72]="boulder_trap_falling_backward",e[e.flame_spreader_trap=73]="flame_spreader_trap",e[e.thunder_trap=74]="thunder_trap",e[e.amount=75]="amount",e}({}));e("GridItemFeature",(function(){this.CODENAME=""})),e("GridItem",c("GridItem")(_=function(e){function o(){for(var r,t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return(r=e.call.apply(e,[this].concat(a))||this).GridItemTypes=[],r._component=void 0,r}r(o,e),o.getGridItemEnumByCodeName=function(e){var r=NaN;return l.GridItemFeatures.forEach((function(t,a){isNaN(r)&&t.CODENAME==e&&(r=a)})),isNaN(r)?s.none:r},o.getGridItemEnumByRTID=function(e){if(!e)return 0;var r=e.replace("RTID(","").replace("@GridItemTypes)","");return this.getGridItemEnumByCodeName(r)};var i=o.prototype;return i.zombieSpawn=function(){var e=t(a().mark((function e(r,t){var o,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null==(o=this._component)?void 0:o.spawnZombie(r,t);case 2:if(null==(i=e.sent)||!i.length){e.next=5;break}return e.abrupt("return",i);case 5:return e.abrupt("return",[]);case 6:case"end":return e.stop()}}),e,this)})));return function(r,t){return e.apply(this,arguments)}}(),i.setGridItemType=function(e){this.GridItemTypes=e},i.register=function(){u.registerGridItem(this)},i.delete=function(){u.deleteGridItem(this)},o}(n))||_);o._RF.pop()}}}));

System.register("chunks:///_virtual/GridOctopus.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Tomb.ts","./NodePools.ts","./SoundRescourses.ts"],(function(e){var n,i,t,o,r,a,s,u,l,c;return{setters:[function(e){n=e.applyDecoratedDescriptor,i=e.inheritsLoose,t=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,s=e.AudioClip},function(e){u=e.Tomb},function(e){l=e.NodePools},function(e){c=e.sounds}],execute:function(){var p,d,f,y,h,b,m,S,D,v,A;r._RF.push({},"6425aH/u2xA45PTOsIA/BF8","GridOctopus",void 0);var P=a.ccclass,g=a.property;e("GridOctopus",(p=P("GridOctopus"),d=g([s]),f=g([s]),y=g([s]),h=g([s]),p((S=n((m=function(e){function n(){for(var n,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return(n=e.call.apply(e,[this].concat(r))||this).playedDie=!1,t(n,"tieSounds",S,o(n)),t(n,"idleSounds",D,o(n)),t(n,"explSounds",v,o(n)),t(n,"dropSounds",A,o(n)),n}i(n,e);var r=n.prototype;return r.selfDestroy=function(){this.playedDie||(this.playedDie=!0,this.db.playAnimation("Die"))},r.specialTombDieLater=function(e,n){null==n||n.unsheepen(),null!=n&&n.isInLawn()&&this.node.setParent(n.vinePoint,!0),n&&n.unsheepen()},r.removeSelfFromLnCOnDisable=function(){},r.specialTombDie=function(e,n){},r.specialTombOnEnable=function(){this.playedDie=!1},r.playParticle=function(e){},r.playBreakSound=function(){},r.playDestructionSound=function(){},r.playSpawnParticle=function(){},r.specialTombOnLnCSet=function(e,n){var i;this.dead||(n?(n.octopus!=this&&(null==(i=n.octopus)||i.die()),n.getAllPlants().forEach((function(e){e.sheepen()}))):this.die())},r.onLnCLeave=function(e){e.unsheepen()},r.animationListener=function(e){"Idle"==e.name?this.db.playAnimation("Idle",1/0):"die"==e.name?l.destroyPooly(this.node):"tie"==e.name?c.playArray(this.tieSounds,1,.2):"idle"==e.name?Math.random()>.5&&c.playArray(this.idleSounds,1,NaN,1.5):"expl"==e.name?c.playArray(this.explSounds,1,NaN,.1):"drop"==e.name&&c.playArray(this.dropSounds,1,NaN,.1)},n}(u)).prototype,"tieSounds",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=n(m.prototype,"idleSounds",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=n(m.prototype,"explSounds",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=n(m.prototype,"dropSounds",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),b=m))||b));r._RF.pop()}}}));

System.register("chunks:///_virtual/Grimrose.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SoundRescourses.ts","./Plant.ts","./NodePools.ts","./shadeFloor.ts","./grimroseBeam.ts","./CharacterManager.ts"],(function(t){var i,n,a,e,o,s,r,l,c,u,h,d,f,p,m,b,P,g,w,y;return{setters:[function(t){i=t.applyDecoratedDescriptor,n=t.inheritsLoose,a=t.initializerDefineProperty,e=t.assertThisInitialized,o=t.createClass},function(t){s=t.cclegacy,r=t._decorator,l=t.AudioClip,c=t.Node,u=t.Prefab,h=t.Vec2,d=t.TWO_PI,f=t.Vec3},function(t){p=t.sounds},function(t){m=t.Plant,b=t.PlantProps},function(t){P=t.instantiatePooly},function(t){g=t.shadeFloor},function(t){w=t.grimroseBeam},function(t){y=t.ZombiePool}],execute:function(){var _,k,S,C,v,A,E,D,F,R,z,I,Z,x,O,j,L,M,V,G,K,N,T,X,B,W;s._RF.push({},"fd7d2I4gnRJOad5RT4ENFRS","Grimrose",void 0);var H=r.ccclass,J=r.property,U=function(t){function i(){for(var i,n=arguments.length,a=new Array(n),e=0;e<n;e++)a[e]=arguments[e];return(i=t.call.apply(t,[this].concat(a))||this).MaxKills=1,i.MaxKillsPowered=3,i.KillCountPlantfood=3,i.KillCountPerAttack=1,i.SlapDamage=600,i.ReloadInterval=10,i}return n(i,t),i}(b),q=(_=H("GrimroseSound"),k=J([l]),S=J([l]),C=J([l]),v=J([l]),_((D=i((E=function(){function t(){a(this,"reload",D,this),a(this,"attackStart",F,this),a(this,"attackEnd",R,this),a(this,"attackVoid",z,this)}var i=t.prototype;return i.playReload=function(){p.playArray(this.reload,1,.4)},i.playAttackStart=function(){p.playArray(this.attackStart,1,.4)},i.playAttackEnd=function(){p.playArray(this.attackEnd,1,.4)},i.playAttackVoid=function(){p.playArray(this.attackVoid,1,.4)},t}()).prototype,"reload",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=i(E.prototype,"attackStart",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=i(E.prototype,"attackEnd",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=i(E.prototype,"attackVoid",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=E))||A);t("GrimrosePlant",(I=H("GrimrosePlant"),Z=J(q),x=J(c),O=J(c),j=J(c),L=J(u),M=J(u),I((K=i((G=function(t){function i(){for(var i,n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return i=t.call.apply(t,[this].concat(o))||this,a(i,"soundRes",K,e(i)),i._objdataOwn=new U,i.attacking=!1,i.reloadCD=0,i._usedPinCount=0,i._leftPinCount=3,i.caughtZombies=[],i._pin0Slots=[],i._pin1Slots=[],i._pin2Slots=[],i._pin0FadeSlots=[],i._pin1FadeSlots=[],i._pin2FadeSlots=[],i.switching=!1,a(i,"par0Point",N,e(i)),a(i,"par1Point",T,e(i)),a(i,"par2Point",X,e(i)),a(i,"beamPar",B,e(i)),a(i,"fadePar",W,e(i)),i}n(i,t);var s=i.prototype;return s.onObjdataSet=function(t,i){this.reloadCD=this.objdataOwn.ReloadInterval*this._cdScale},s.specialPlantOnLoad=function(){var t,i=this;null==(t=this.db)||null==(t=t.armature())||null==(t=t.getSlots())||t.forEach((function(t){t.name.includes("_PIN0")?i._pin0Slots.push(t):t.name.includes("_PIN1")?i._pin1Slots.push(t):t.name.includes("_PIN2")?i._pin2Slots.push(t):t.name.includes("_PINF0")?i._pin0FadeSlots.push(t):t.name.includes("_PINF1")?i._pin1FadeSlots.push(t):t.name.includes("_PINF2")&&i._pin2FadeSlots.push(t)}))},s.specialPlantOnEnable=function(){this._usedPinCount=0,this.leftPinCount=1,this.attacking=!1,[this._pin0FadeSlots,this._pin1FadeSlots,this._pin2FadeSlots].forEach((function(t){t.forEach((function(t){t._setDisplayIndex(-1)}))})),this.eaterDetectable=!1,this.smasherDetectable=!1,this.readPinCount()},s.waterable=function(){return!this.attacking},s.onShadowPoweredChanged=function(){var t=this.getMaxPinCount();this.leftPinCount=Math.max(1,t-this._usedPinCount),this.readPinCount()},s.animationOnComplete=function(){this.attacking=!1,this.switching=!1,[this._pin0FadeSlots,this._pin1FadeSlots,this._pin2FadeSlots].forEach((function(t){t.forEach((function(t){t._setDisplayIndex(-1)}))})),this.leftPinCount<=0&&this.die()},s.readPinCount=function(){var t=this,i=this.leftPinCount;i>0?this._pin0Slots.forEach((function(i){i._setDisplayIndex(t.ShadowPowered?1:0)})):this._pin0Slots.forEach((function(t){t._setDisplayIndex(-1)})),i>1?this._pin1Slots.forEach((function(i){i._setDisplayIndex(t.ShadowPowered?1:0)})):this._pin1Slots.forEach((function(t){t._setDisplayIndex(-1)})),i>2?this._pin2Slots.forEach((function(i){i._setDisplayIndex(t.ShadowPowered?1:0)})):this._pin2Slots.forEach((function(t){t._setDisplayIndex(-1)}))},s.ZombieCanbeDragged=function(t){var i=t.DetectedGrimrose;return(!i||i==this)&&t.isRealZombie&&!t.flying&&t.enteredLawn},s.detectEnemies=function(){var t=this;return this.inLane.zombiePool().some((function(i){return t.ZombieCanbeDragged(i)}))},s.getEnemiesPF=function(){var t=this;return y.pool().sort((function(t,i){return t.worldPositionX-i.worldPositionX})).filter((function(i){return t.ZombieCanbeDragged(i)})).filter((function(i,n){return n<t.objdataOwn.KillCountPlantfood}))},s.getEnemies=function(){var t=this;return this.inLane.zombiePool().sort((function(t,i){return t.worldPositionX-i.worldPositionX})).filter((function(i){return t.ZombieCanbeDragged(i)})).filter((function(i,n){return n<t.objdataOwn.KillCountPerAttack}))},s.isAttackingAsAGrimrose=function(){return this.attacking},s.specialPlantFood=function(t){this.cancelAllPars(),this._usedPinCount=0,this.leftPinCount=this.getMaxPinCount(),this.attacking=!0,this.switching=!0,this.anmControl.playAnimation("FoodStart")},s.specialPlantUpdate=function(t,i,n){var a=this;this.caughtZombies.forEach((function(t){var i;if(null!=(i=t.zombie)&&i.isAlive()&&!t.zombie.flying&&t.zombie.DetectedGrimrose==a){var n,e=t.zombie.worldPosition;if(t.zombie.setStun(.1),null==(n=t.foot)||null==(n=n.node)||n.setWorldPosition(e.toVec3()),t.beam){t.beam.node.setWorldPosition(a.worldPosition.toVec3());var o=e.clone().subtract(a.worldPosition);t.beam.node.angle=360*new h(1,0).signAngle(o)/d,t.beam.node.scale=new f(o.length()/200,.5,1)}}else{var s,r;t.dead=!0,null==(s=t.foot)||s.parDie(),null==(r=t.beam)||r.parDie()}})),this.caughtZombies=this.caughtZombies.filter((function(t){return!t.dead||t.success})),this.caughtZombies.length>0&&this.caughtZombies.every((function(t){return t.success}))&&(this.fooding?(this.soundRes.playAttackEnd(),this.anmControl.playAnimation("FoodEnd",1),this.cancelAllPars(),this.foodEnd()):this.attackEnd(!0)),this.attacking&&!this.switching&&(this.caughtZombies.length||(this.fooding?(this.soundRes.playAttackVoid(),this.anmControl.playAnimation("FoodEnd",1),this.cancelAllPars(),this.foodEnd()):this.attackEnd(!1))),!this.attacking&&!this.switching&&!this.fooding&&this.leftPinCount>0&&this.detectEnemies()&&this.attackStart(),this.reloadCD-=t,this.reloadCD<=0&&!this.fooding&&!this.attacking&&this.ShadowPowered&&this.leftPinCount<this.objdataOwn.MaxKillsPowered&&(this.reloadCD=this.objdataOwn.ReloadInterval*this._cdScale,this.attacking=!0,this.switching=!0,this.anmControl.playAnimation("Reload",1))},s.attackStart=function(){this.switching=!0,this.anmControl.playAnimation("AttackStart",1/0);var t=[];switch(this.leftPinCount){case 3:t=this._pin2FadeSlots;break;case 2:t=this._pin1FadeSlots;break;case 1:t=this._pin0FadeSlots}t.forEach((function(t){t._setDisplayIndex(0)})),this.attacking=!0},s.specialPlantDie=function(t){this.cancelAllPars()},s.cancelAllPars=function(){this.caughtZombies.forEach((function(t){var i,n;null==(i=t.foot)||i.parDie(),null==(n=t.beam)||n.parDie(),t.zombie&&(t.zombie.DetectedGrimrose=null)})),this.caughtZombies=[]},s.getMaxPinCount=function(){return this.ShadowPowered?this.objdataOwn.MaxKillsPowered:this.objdataOwn.MaxKills},s.playPar=function(t){var i=null;switch(t){case 3:i=this.par2Point;break;case 2:i=this.par1Point;break;case 1:i=this.par0Point}if(i){var n=P(this.fadePar);n.parent=this.inLane.prjLayer,n.worldPosition=i.worldPosition,n.worldRotation=i.worldRotation,n.worldScale=i.worldScale}},s.beamToZombie=function(t){var i;if(t){t.DetectedGrimrose=this;var n=P(this.beamPar);n.parent=g.component.node,n.worldPosition=this.worldPosition.toVec3();var a=n.getComponent(w);a.dmg=this.objdataOwn.SlapDamage*this._dmgScale,null==(i=a.db)||i.playAnimation("Spawn",1/0);var e={zombie:t,success:!1,beam:a,foot:null,dead:!1};return a.cz=e,e}},s.attackEnd=function(t){this.switching||(this.switching=!0,this.attacking=!0,t?this.soundRes.playAttackEnd():this.soundRes.playAttackVoid(),this.anmControl.playAnimation("AttackEnd",1))},s.specialPlantFoodEnd=function(){this.attacking=!0,this.switching=!0},s.animationListener=function(t){var i=this;switch(t.name){case"reload":this.soundRes.playReload(),this.leftPinCount=Math.min(this.getMaxPinCount(),this.leftPinCount+1);break;case"consume":if(this.caughtZombies.some((function(t){return t.success}))){var n=this.leftPinCount;this.leftPinCount--;var a=[];switch(n){case 3:a=this._pin2FadeSlots;break;case 2:a=this._pin1FadeSlots;break;case 1:a=this._pin0FadeSlots}a.forEach((function(t){t._setDisplayIndex(-1)})),this.playPar(n)}this.caughtZombies=[];break;case"attackSound":this.soundRes.playAttackStart();break;case"attackLP":var e=this.getEnemies();(null==e?void 0:e.length)>0?(this.anmControl.playAnimation("AttackLoop",1/0),this.caughtZombies=e.map((function(t){return i.beamToZombie(t)})),this.switching=!1):(this.switching=!1,this.attackEnd(!1));break;case"foodLP":var o=this.getEnemiesPF();(null==o?void 0:o.length)>0?(this.attacking=!0,this.anmControl.playAnimation("FoodLoop",1/0),this.caughtZombies=o.map((function(t){return i.beamToZombie(t)})),this.switching=!1):(this.switching=!0,this.attacking=!0,this.soundRes.playAttackVoid(),this.anmControl.playAnimation("FoodEnd",1),this.foodEnd())}},o(i,[{key:"objdataOwn",get:function(){return this._objdataOwn}},{key:"leftPinCount",get:function(){return this._leftPinCount},set:function(t){this._leftPinCount=t,this.readPinCount()}},{key:"usedPinCount",get:function(){return this._usedPinCount}}]),i}(m)).prototype,"soundRes",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new q}}),N=i(G.prototype,"par0Point",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=i(G.prototype,"par1Point",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=i(G.prototype,"par2Point",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=i(G.prototype,"beamPar",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=i(G.prototype,"fadePar",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=G))||V));s._RF.pop()}}}));

System.register("chunks:///_virtual/grimroseBeam.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ParticleSelfdestroy.ts","./NodePools.ts","./grimroseFoot.ts"],(function(i){var e,t,o,a,n,r,s,l,c,d;return{setters:[function(i){e=i.applyDecoratedDescriptor,t=i.inheritsLoose,o=i.initializerDefineProperty,a=i.assertThisInitialized},function(i){n=i.cclegacy,r=i._decorator,s=i.Prefab},function(i){l=i.ParticleSelfdestroy},function(i){c=i.instantiatePooly},function(i){d=i.grimroseFoot}],execute:function(){var p,u,h,f,m;n._RF.push({},"87afa98nddAVYBVDjEogYbG","grimroseBeam",void 0);var y=r.ccclass,g=r.property;i("grimroseBeam",(p=y("grimroseBeam"),u=g(s),p((m=e((f=function(i){function e(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=i.call.apply(i,[this].concat(n))||this).dmg=200,e.cz=void 0,o(e,"footPar",m,a(e)),e.deadPlayed=!1,e}t(e,i);var n=e.prototype;return n.specialOnEnable=function(){this.deadPlayed=!1},n.specialUpdate=function(i){var e;null!=this&&null!=(e=this.cz)&&null!=(e=e.zombie)&&e.isAlive()||this.parDie()},n.parDie=function(){this.deadPlayed||(this.willBeKilled=!0,this.db.playAnimation("Die"),this.cz=null,this.deadPlayed=!0)},n.animationListener=function(i){switch(i.name){case"arrive":if(this.cz&&!this.cz.dead){this.db.playAnimation("Idle",1/0);var e=c(this.footPar);e.parent=this.node.parent,e.worldPosition=this.cz.zombie.worldPosition.toVec3();var t=e.getComponent(d);t.dmg=this.dmg,t.db.playAnimation("Spawn",1/0),this.cz.foot=t,t.cz=this.cz}else this.db.playAnimation("Die")}},e}(l)).prototype,"footPar",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=f))||h));n._RF.pop()}}}));

System.register("chunks:///_virtual/grimroseFoot.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ParticleSelfdestroy.ts","./CharacterManager.ts"],(function(e){var i,t,a,s,n,o;return{setters:[function(e){i=e.inheritsLoose},function(e){t=e.cclegacy,a=e._decorator},function(e){s=e.ParticleSelfdestroy},function(e){n=e.ZombieDamageDetails,o=e.ZombieDamageType}],execute:function(){var r;t._RF.push({},"cb925/neJRAD5/LydzWCIZp","grimroseFoot",void 0);var c=a.ccclass;a.property,e("grimroseFoot",c("grimroseFoot")(r=function(e){function t(){for(var i,t=arguments.length,a=new Array(t),s=0;s<t;s++)a[s]=arguments[s];return(i=e.call.apply(e,[this].concat(a))||this).dmg=200,i.cz=void 0,i.deadPlayed=!1,i}i(t,e);var a=t.prototype;return a.specialOnEnable=function(){this.deadPlayed=!1},a.specialUpdate=function(e){var i;null!=this&&null!=(i=this.cz)&&null!=(i=i.zombie)&&i.isAlive()||this.parDie()},a.parDie=function(){this.deadPlayed||(this.willBeKilled=!0,this.db.playAnimation("Die"),this.cz=null,this.deadPlayed=!0)},a.animationListener=function(e){switch(e.name){case"drag":if(this.cz&&!this.cz.dead)if(this.db.playAnimation("Idle",1/0),this.cz.zombie.objdataOwnOrg.CannotBeDraggedByTangleKelp){var i,t=new n(this.dmg,!0,!0,!0,null,o.physicle);this.cz.zombie.dealDamage(t),this.cz.zombie.DetectedGrimrose=null,this.cz.success=!0,null==(i=this.cz.beam)||i.parDie(),this.parDie()}else this.cz.zombie.GrimRoseDragged=!0,this.cz.zombie.setStun(5),this.cz.success=!0;else this.db.playAnimation("Die")}},t}(s))||r);t._RF.pop()}}}));

System.register("chunks:///_virtual/GroundFire.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ParticleSelfdestroy.ts","./NodePools.ts"],(function(e){var i,t,n,o,r,a,s;return{setters:[function(e){i=e.inheritsLoose,t=e.createClass},function(e){n=e.cclegacy,o=e._decorator,r=e.Vec3},function(e){a=e.ParticleSelfdestroy},function(e){s=e.destroyPooly}],execute:function(){var l;n._RF.push({},"4eea59rJcFBK7blXRdNZ8tG","GroundFire",void 0);var d=o.ccclass;o.property,e("GroundFireColorEnum",function(e){return e[e.yellow=0]="yellow",e[e.green=1]="green",e}({})),e("GroundFireSpreadStyleEnum",function(e){return e[e.split=0]="split",e[e.left=1]="left",e[e.right=2]="right",e[e.cross=3]="cross",e}({})),e("GroundFire",d("GroundFire")(l=function(e){function n(){for(var i,t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return(i=e.call.apply(e,[this].concat(n))||this).db=void 0,i._height=20,i.horizontal=!0,i.spawnDelay=0,i.duration=10,i.dead=!1,i.inLnC=void 0,i}i(n,e);var o=n.prototype;return o.specialOnLoad=function(){this.height=20},o.specialOnEnable=function(){this.dead=!1,this.db.playAnimation("Spawn",1),this.spawnDelay>0&&(this.db.timeScale=0)},o.die=function(){this.dead||(this.dead=!0,this.db.playAnimation("Fade"))},o.animationOnComplete=function(e){this.dead&&s(this.node)},o.specialUpdate=function(e){var i,t;(this.spawnDelay>0&&(this.spawnDelay-=e),this.spawnDelay<=0)&&(this.db.timeScale=1,null==(i=this.inLnC)||null==(i=i.iceTile)||i.die(),this.horizontal&&8==this.inLnC.cIndex&&(null==(t=this.inLnC)||null==(t=t.inLane)||null==(t=t.iceTile)||t.die()));this.duration>0&&this.spawnDelay<=0&&(this.duration-=e),this.duration<=0&&this.die(),this.specialGroundFireUpdate(e)},o.specialGroundFireUpdate=function(e){},o.updateAsJalapenoFire=function(e,i){},t(n,[{key:"height",get:function(){return this._height},set:function(e){this._height=e,this.node.worldScale=new r(.24,.24*e/20,.24)}}]),n}(a))||l);n._RF.pop()}}}));

System.register("chunks:///_virtual/GroundFiresManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CharacterManager.ts","./Square.ts"],(function(n){var e,i,a,o,t,l,r,d,s;return{setters:[function(n){e=n.inheritsLoose},function(n){i=n.cclegacy,a=n._decorator,o=n.Vec2,t=n.Component},function(n){l=n.Rectangle,r=n.ZombieDamageDetails,d=n.ZombieDamageType},function(n){s=n.Square}],execute:function(){var c,u;i._RF.push({},"8b17c4ftPhKSr6LGmdzBGzc","GroundFiresManager",void 0);var f=a.ccclass;a.property,n("GroundFiresManager",f("GroundFiresManager")(((u=function(n){function i(){for(var e,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return(e=n.call.apply(n,[this].concat(a))||this).jalapenoFires=[],e}e(i,n);var a=i.prototype;return a.onLoad=function(){i.component=this},a.registerJalapenoFire=function(n){-1==this.jalapenoFires.indexOf(n)&&this.jalapenoFires.push(n)},a.update=function(n){var e=this;this.jalapenoFires.concat().forEach((function(i){if(i.duration>0&&(i.duration-=n),i.groundFires.forEach((function(e){if(e.spawnDelay<=0&&!e.dead){var a,t,c,u=l.createRectangleNodeCenter(e.inLnC.node,s.SquareWidth,s.SquareHeight);if(e.horizontal&&0==e.inLnC.cIndex?u=l.createRectangleSide(new o(e.inLnC.node.worldPosition.x+s.SquareWidth/2,e.inLnC.node.worldPosition.y),9*-s.SquareWidth,s.SquareHeight):e.horizontal&&8==e.inLnC.cIndex&&(u=l.createRectangleSide(new o(e.inLnC.node.worldPosition.x-s.SquareWidth/2,e.inLnC.node.worldPosition.y),9*s.SquareWidth,s.SquareHeight)),i.plantsIncluded)e.inLnC.getAllPlants().forEach((function(e){!i.burnsFlying&&(e.flyingPlant||e.leapTween)||-1!=i.dealtPlants.indexOf(e)||(e.dealDamage((i.isDPS?n:1)*i.damage,3),!i.isDPS&&e.isAlive()&&i.dealtPlants.indexOf(e)&&i.dealtPlants.push(e))})),null==(c=e.inLnC)||null==(c=c.inLane)||null==(c=c.tntPool())||c.forEach((function(n){n.ignited&&u.judgeInRecP(n.ropeSideWP)&&(n.ignited=!0)}));var f=e.inLnC.inLane.zombiePool();2==i.hypnoIncluded?f=f.concat(e.inLnC.inLane.hypnoZombiePool()):1==i.hypnoIncluded&&(f=e.inLnC.inLane.hypnoZombiePool());var p,h=new r(i.damage*(i.isDPS?n:1),i.armorProtection,!1,!1,null,d.fire,!0,!0);if(f.concat().forEach((function(n){n.flying&&!i.burnsFlying||-1!=i.zombieWhiteList.indexOf(n.ID)||-1!=i.dealtZombies.indexOf(n)||!u.judgeCrossRec(n.bodyRecReal)||(n.dealDamage(h),!i.isDPS&&n.isAlive()&&i.dealtZombies.push(n))})),f.length,null==(a=e.inLnC)||null==(a=a.iceTile)||a.die(),e.inLnC&&(e.inLnC.iceblockPrepareLevel=0),e.horizontal&&8==e.inLnC.cIndex)null==(p=e.inLnC)||null==(p=p.inLane)||null==(p=p.iceTile)||p.die();var g=null==(t=e.inLnC)?void 0:t.tombStone;g&&(i.plantsIncluded&&g.hypnotized||!i.plantsIncluded&&!g.hypnotized)&&(!g.fly||i.burnsFlying)&&-1==i.dealtTombs.indexOf(g)&&(g.dealDamage(h),!i.isDPS&&null!=g&&g.isAlive()&&i.dealtTombs.push(g)),e.updateAsJalapenoFire(n,u)}})),i.isDPS||(i.dealtZombies.concat().forEach((function(n){if(!n.isAlive()){var e=i.dealtZombies.indexOf(n);i.dealtZombies.splice(e,1)}})),i.dealtTombs.concat().forEach((function(n){if(null==n||!n.isAlive()){var e=i.dealtTombs.indexOf(n);i.dealtTombs.splice(e,1)}})),i.dealtPlants.concat().forEach((function(n){if(null==n||!n.isAlive()){var e=i.dealtPlants.indexOf(n);i.dealtPlants.splice(e,1)}}))),i.duration<=0){var a=e.jalapenoFires.indexOf(i);e.jalapenoFires.splice(a,1)}}))},i}(t)).component=void 0,c=u))||c);i._RF.pop()}}}));

System.register("chunks:///_virtual/Guacodile.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Projectiles.ts","./CharacterManager.ts","./SoundRescourses.ts","./Square.ts","./Character.ts","./Plant.ts"],(function(t){var o,e,i,n,a,r,s,h,l,c,u,d,f,p,b,g,y,m,w;return{setters:[function(t){o=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized,a=t.createClass,r=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){h=t.cclegacy,l=t._decorator,c=t.AudioClip,u=t.Node,d=t.Vec2},function(t){f=t.ProjectileShootingFunctions},function(t){p=t.Rectangle},function(t){b=t.sounds},function(t){g=t.Square},function(t){y=t.CharacterType},function(t){m=t.Plant,w=t.PlantProps}],execute:function(){var P,S,v,C,R,_,D,j,L,k,A,O,F,z,T,x,q,I,E,M;h._RF.push({},"c80f2Uo5SZBgJCspe4vLA8I","Guacodile",void 0);var B=l.ccclass,G=l.property,H=function(t){function o(){for(var o,e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];return(o=t.call.apply(t,[this].concat(i))||this).ShootInterval=1.35,o.ShootIntervalAdditional=.15,o.PlantfoodTime=2,o.ChildrenBiteDamage=150,o.KnockbackDistance=2,o.PeaType="guacodile",o.PeaTypeChild="guacodile_child",o}return e(o,t),o}(w),X=(P=B("GuacodileSound"),S=G([c]),v=G([c]),C=G([c]),R=G([c]),P((j=o((D=function(){function t(){i(this,"shoot",j,this),i(this,"foodShoot",L,this),i(this,"foodCharge",k,this),i(this,"foodLand",A,this)}var o=t.prototype;return o.playShoot=function(){b.playArray(this.shoot,1,.1)},o.playFoodShoot=function(){b.playArray(this.foodShoot,1,.1)},o.playFoodCharge=function(){b.playArray(this.foodCharge,1,.2)},o.playFoodLand=function(){b.playArray(this.foodLand,1,.2)},t}()).prototype,"shoot",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=o(D.prototype,"foodShoot",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=o(D.prototype,"foodCharge",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=o(D.prototype,"foodLand",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=D))||_);t("GuacodilePlant",(O=B("GuacodilePlant"),F=G(X),z=G(u),T=G(u),O((I=o((q=function(t){function o(){for(var o,e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return o=t.call.apply(t,[this].concat(a))||this,i(o,"soundRes",I,n(o)),o._objdataOwn=new H,i(o,"peaSpawnPoint",E,n(o)),i(o,"guaSpawnPoint",M,n(o)),o.foodLeftTime=2,o.detector=null,o.shootCD=0,o.shooting=!1,o}e(o,t);var h=o.prototype;return h.onObjdataSet=function(t,o){},h.specialPlantOnEnable=function(){this.eaterDetectable=!0,this.smasherDetectable=!0},h._shoot=function(){var t=r(s().mark((function t(o,e,i,n){var a,r,h,l;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===o&&(o=this._objdataOwn.PeaType),void 0===e&&(e=this.peaSpawnPoint.worldPosition.x),void 0===i&&(i=Math.max(1,this.peaSpawnPoint.worldPosition.y-this._worldPositionY)),void 0===n&&(n=8),r=this._dmgScale,h=null==(a=this.inLnC)?void 0:a.havePeaBuff,t.next=9,f.shootOnePea(o,new d(e,this.worldPositionY),i,this.inLane.prjLayer,new d(n,0),y.zombie);case 9:return l=t.sent,h&&l.addPeaBuff(),r&&l.setDamage(l.damage*r),t.abrupt("return",l);case 13:case"end":return t.stop()}}),t,this)})));return function(o,e,i,n){return t.apply(this,arguments)}}(),h.playDeathParticle=function(t){},h.animationListener=function(t){switch(t.name){case"shootSound":this.soundRes.playShoot();break;case"foodShootSound":this.soundRes.playFoodShoot();break;case"foodCharge":this.soundRes.playFoodCharge();break;case"foodLand":this.soundRes.playFoodLand();break;case"Shoot":this._shoot(this._objdataOwn.PeaType);break;case"FoodShoot":this._rush(this.guaSpawnPoint.worldPosition.x)}},h.eat=function(t,o){this.kill()},h.specialPlantOnKilled=function(){var t=this;this._rush(this.worldPositionX,!0),this.scheduleOnce((function(){t.node.destroy()}),0)},h.burn=function(){this.kill()},h.onDamaged=function(t,o,e){t>0&&this.kill()},h.onCommonshotHit=function(t){return this.kill(),!0},h._rush=function(){var t=r(s().mark((function t(o,e){var i,n,a,r,h=this;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===o&&(o=this.worldPositionX),void 0===e&&(e=!1),this.eaterDetectable=!1,this.smasherDetectable=!1,n=p.createRectangleSide(new d(this.worldPositionX-g.SquareWidth/2,this.worldPositionY),2*g.SquareWidth,2*g.SquareHeight),null==(i=this.inLane)||i.zombiePool().forEach((function(t){t.leapable&&n.judgeCrossRec(t.bodyRecReal)&&t.leapTo(new d(Math.max(t.worldPositionX,h.worldPositionX+g.SquareWidth*h.objdataOwn.KnockbackDistance),t.worldPositionY),!0,.5,20,!0,!1,!0)})),a=this._dmgScale*this.objdataOwn.ChildrenBiteDamage,t.next=9,this._shoot(this._objdataOwn.PeaTypeChild,o,Math.min(0,this.height_depth),4.5);case 9:(r=t.sent)&&(r.damagePerHit=a,e?(r.db.playAnimation("Spawn"),r.switching=!0):r.db.playAnimation("Idle"));case 11:case"end":return t.stop()}}),t,this)})));return function(o,e){return t.apply(this,arguments)}}(),h.divingStart=function(){this.isAlive()&&this.shooting&&(this.shooting=!1,this.fooding||this.anmControl.playIdle())},h.specialPlantFood=function(t){this.anmControl.playAnimation("FoodLoop",this.objdataOwn.PlantfoodTime,0,1)},h.specialPlantUpdateForce=function(t,o,e){},h.specialPlantOnSquareChange=function(t,o){this.setDetecter(t,o)},h.setDetecter=function(t,o){this.detector=p.createRectangleNodeSide(o.node,g.SquareWidth*(9-o.cIndex),g.SquareHeight)},h.detectEnemy=function(){for(var t=this.inLane.zombiePool(),o=0;o<t.length;o++)if(this.detector.judgeCrossRec(t[o].bodyRecForShooter))return!0;for(var e=this.inLane.tombPool(),i=0;i<e.length;i++)if(this.detector.judgeCrossRec(e[i].bodyRec))return!0;return!1},h.detectRushEnemies=function(t,o,e){if(t)for(var i=this.inLane.zombiePool(),n=0;n<i.length;n++)if(this.bodyRec.judgeCrossRec(i[n].bodyRec))return void this.kill()},h.specialPlantUpdate=function(t,o,e){this.shootCD>0&&(this.shootCD-=t),this.shootCD<=0&&!this.dead&&!this.fooding&&this.depth<=0&&(this.shootCD=0,e>0&&this.detectEnemy()&&this.shootAnimation()),this.isAlive()&&!this.invincible&&this.detectRushEnemies(t,o,e)},h.animationOnComplete=function(){this.shooting=!1,this.fooding&&this.foodEnd()},h.shootAnimation=function(){var t=this._objdataOwn.ShootInterval+Math.random()*this._objdataOwn.ShootIntervalAdditional;t*=this._cdScale,this.shootCD=t,this.anmControl.playAnimation("Shoot",1,.1*this._cdScale,Math.max(1,1.3/t)),this.shooting=!0},h.waterable=function(){return!this.shooting},a(o,[{key:"objdataOwn",get:function(){return this._objdataOwn}}]),o}(m)).prototype,"soundRes",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new X}}),E=o(q.prototype,"peaSpawnPoint",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=o(q.prototype,"guaSpawnPoint",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=q))||x));h._RF.pop()}}}));

System.register("chunks:///_virtual/HeavenlyPeach.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./ParticleSelfdestroy.ts","./NodePools.ts","./SoundRescourses.ts"],(function(n){var i,t,a,e,o,l,r,s,c,u,h,d,f;return{setters:[function(n){i=n.applyDecoratedDescriptor,t=n.inheritsLoose,a=n.initializerDefineProperty,e=n.assertThisInitialized},function(n){o=n.cclegacy,l=n._decorator,r=n.AudioClip,s=n.Prefab},function(n){c=n.Plant,u=n.PlantProps},function(n){h=n.ParticleSelfdestroy},function(n){d=n.instantiatePooly},function(n){f=n.sounds}],execute:function(){var p,y,P,b,v,g,S,m,w,C,D,H,E,A,L,R,F,x,O,z,_,j;o._RF.push({},"784dcobiGZOmZaqrOZR0BKq","HeavenlyPeach",void 0);var I=l.ccclass,G=l.property,N=function(n){function i(){for(var i,t=arguments.length,a=new Array(t),e=0;e<t;e++)a[e]=arguments[e];return(i=n.call.apply(n,[this].concat(a))||this).PlantfoodDuration=10,i.HealthPerHeal=150,i.HealthPlantfoodHeal=450,i.HealInterval=10,i}return t(i,n),i}(u),Z=(p=I("heavenlypeachSound"),y=G([r]),P=G([r]),b=G([r]),p((S=i((g=function(){function n(){a(this,"foodStartSounds",S,this),a(this,"foodEndSounds",m,this),a(this,"foodRaySounds",w,this)}var i=n.prototype;return i.playFoodStart=function(){f.playArray(this.foodStartSounds,1,.1)},i.playFoodEnd=function(){f.playArray(this.foodEndSounds,1,.1)},i.playFoodRay=function(){f.playArray(this.foodRaySounds,1,.1)},n}()).prototype,"foodStartSounds",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),m=i(g.prototype,"foodEndSounds",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),w=i(g.prototype,"foodRaySounds",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=g))||v);n("HeavenlyPeachPlant",(C=I("HeavenlyPeachPlant"),D=G(Z),H=G(s),E=G(s),A=G(r),L=G([r]),C((x=i((F=function(n){function i(){for(var i,t=arguments.length,o=new Array(t),l=0;l<t;l++)o[l]=arguments[l];return i=n.call.apply(n,[this].concat(o))||this,a(i,"soundRes",x,e(i)),i._objdataOwn=new N,a(i,"invinciblePar",O,e(i)),i.invinciblePars=[],a(i,"healingPar",z,e(i)),a(i,"healingSound",_,e(i)),a(i,"healingDripSounds",j,e(i)),i.healCD=0,i.foodCD=0,i.playingHeal=!1,i}t(i,n);var o=i.prototype;return o.specialPlantOnEnable=function(){this.invinciblePars=[],this.healCD=0,this.playingHeal=!1},o.heal3x3=function(n){var i=this;void 0===n&&(n=this._objdataOwn.HealthPerHeal),this.inLnC.get3x3().forEach((function(t){if(null!=t&&t.isInLawn()){var a=t.getAllPlants(),e=!1;if(a.forEach((function(i){i.health<i.toughness&&(i.heal(n),e=!0),i.setCountDownInvincibleGolden(3)})),e){var o=d(i.healingPar);o.parent=t.inLane.prjLayer,o.worldPosition=t.plantPoint.worldPosition}}})),f.playOneShot(this.healingSound,.4,NaN),f.playArray(this.healingDripSounds,1,.1)},o.detect3x3=function(){var n=!1;return this.inLnC.get3x3().forEach((function(i){!n&&i.isInLawn()&&i.getAllPlants().forEach((function(i){n||i.health<i.toughness&&(n=!0)}))})),n},o.animationOnComplete=function(){this.playingHeal=!1},o.animationListener=function(n){"foodEnd"==n.name?this.foodEnd():"heal"==n.name?this.heal3x3():"foodStart"==n.name&&(this.heal3x3(3*this._objdataOwn.HealthPlantfoodHeal),this.soundRes.playFoodRay())},o.specialPlantFood=function(n){this.anmControl.playAnimation("FoodStart",1),this.foodCD=this._objdataOwn.PlantfoodDuration,this.soundRes.playFoodStart()},o.specialPlantUpdateForce=function(n,i,t){var a=this;this.invinciblePars.concat().forEach((function(n){(!a.fooding||n.inLnC.getAllPlants().length<=0)&&(n.psd.db.playAnimation("Die"),a.invinciblePars.splice(a.invinciblePars.indexOf(n),1))}))},o.specialPlantFoodEnd=function(){this.invinciblePars.concat().forEach((function(n){n.psd.db.playAnimation("Die")})),this.invinciblePars=[]},o.waterable=function(){return!this.playingHeal},o.specialPlantUpdate=function(n,i,t){var a=this;if(this.fooding)this.foodCD>0&&(this.foodCD-=n,this.inLnC.get3x3().forEach((function(n){var i=n.getAllPlants(),t=i.length>0,e=!1;if(a.invinciblePars.concat().forEach((function(i){e||i.inLnC==n&&(e=!0,t||(i.psd.db.playAnimation("Die"),a.invinciblePars.splice(a.invinciblePars.indexOf(i),1)))})),i.forEach((function(n){n.setCountDownInvincibleGolden(1)})),t&&!e){var o=d(a.invinciblePar);o.parent=n.inLane.prjLayer,o.worldPosition=n.plantPoint.worldPosition;var l=o.getComponent(h);l.db.playAnimation("Idle",1/0),a.invinciblePars.push({psd:l,inLnC:n})}})),this.foodCD<=0&&(this.anmControl.playAnimation("FoodEnd",1),this.soundRes.playFoodEnd()));else if(this.healCD>0&&(this.healCD-=n),this.healCD<=0&&this.detect3x3()){var e=this._objdataOwn.HealInterval*this._cdScale;this.anmControl.playAnimation("Heal",1,.1,Math.max(1,1/e)),this.playingHeal=!0,this.healCD=e}},i}(c)).prototype,"soundRes",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Z}}),O=i(F.prototype,"invinciblePar",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=i(F.prototype,"healingPar",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=i(F.prototype,"healingSound",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=i(F.prototype,"healingDripSounds",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=F))||R));o._RF.pop()}}}));

System.register("chunks:///_virtual/HomingThistle.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Peashooter.ts","./CharacterManager.ts","./SoundRescourses.ts","./Character.ts"],(function(o){var t,n,i,e,s,a,r,l,c,u,d,h,y,f;return{setters:[function(o){t=o.applyDecoratedDescriptor,n=o.inheritsLoose,i=o.initializerDefineProperty,e=o.assertThisInitialized},function(o){s=o.cclegacy,a=o._decorator,r=o.AudioClip,l=o.Vec2,c=o.TWO_PI},function(o){u=o.PeashooterPlant},function(o){d=o.TombPool,h=o.ZombiePool},function(o){y=o.sounds},function(o){f=o.CharacterType}],execute:function(){var p,m,g,b,S,P,v,w,T,_,z,A,E,H;s._RF.push({},"7bf93alJXlEGIcGkJdrzX2H","HomingThistle",void 0);var R=a.ccclass,F=a.property,V=o("homingThistleSound",(p=R("homingThistleSound"),m=F([r]),g=F([r]),b=F([r]),p((v=t((P=function(){function o(){i(this,"shootSound",v,this),i(this,"steadySound",w,this),i(this,"foodSound",T,this)}var t=o.prototype;return t.playShootSound=function(){y.playArray(this.shootSound,1,.1)},t.playSteadySound=function(){y.playArray(this.steadySound,1,.1)},t.playFoodSound=function(){y.playArray(this.foodSound,1,.1)},o}()).prototype,"shootSound",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),w=t(P.prototype,"steadySound",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),T=t(P.prototype,"foodSound",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),S=P))||S));o("HomingThistlePlant",(_=R("HomingThistle"),z=F(V),_((H=t((E=function(o){function t(){for(var t,n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return t=o.call.apply(o,[this].concat(s))||this,i(t,"soundResHomingThistle",H,e(t)),t.css=[],t}n(t,o);var s=t.prototype;return s.setDetecter=function(o,t){},s.specialPlantOnEnable=function(){this.initialize(),this.css=[]},s.specialPlantFoodEnd=function(){this.busy=0},s.specialPlantFood=function(){this.busy=1/0,this.anmControl.playAnimation("FoodStart",0),this.soundResHomingThistle.playFoodSound()},s.detectEnemy=function(){return!!d.leftest()||!!h.bodyRecLeftest()},s._shootPeaAnimation=function(){this.anmControl.playAnimation("Shoot",1,.1,Math.max(1.35/this.busy,1)),this.soundResHomingThistle.playSteadySound()},s.specialPlantUpdate=function(o,t,n){var i=this;this.busy>0&&(this.busy-=o),this.busy<=0&&!this.dead&&(this.busy=0,n>0&&this.detectEnemy()&&this.startShooting());var e=h.bodyRecLeftest(),s=d.leftest();e?this.css.concat().forEach((function(t){if(t.dead||t.enemyType!=f.zombie){var n=i.css.indexOf(t);-1!=n&&i.css.splice(n,1)}else if(t.targetLocked=null==e?void 0:e.node,e){var s=new l(e._worldPositionX-t._worldPositionX,e._worldPositionY-t._worldPositionY),a=t.linearVelocity.signAngle(s),r=Math.sign(a)*c*o*2;!r||a/r<=1?t.linearVelocity=s.clone().normalize().multiplyScalar(t.linearVelocity.length()):t.linearVelocity.rotate(r)}})):s?this.css.concat().forEach((function(t){if(t.dead||t.enemyType!=f.zombie){var n=i.css.indexOf(t);-1!=n&&i.css.splice(n,1)}else{t.targetLocked=null==s?void 0:s.node;var e=new l(s._worldPositionX-t._worldPositionX,s._worldPositionY-t._worldPositionY),a=t.linearVelocity.signAngle(e),r=Math.sign(a)*c*o*2;!r||a/r<=1?t.linearVelocity=e.clone().normalize().multiplyScalar(t.linearVelocity.length()):t.linearVelocity.rotate(r)}})):this.css.concat().forEach((function(t){if(t.dead||t.enemyType!=f.zombie){var n=i.css.indexOf(t);-1!=n&&i.css.splice(n,1)}else{var e=-c*o*2;t.linearVelocity.rotate(e)}}))},s.shotInitialize=function(o){this.css.push(o),o.JudgesZombieBodyRecForShooter=!1},s.animationListener=function(o){var t=this;if("Shoot"==o.name&&(this._shoot(),this.soundResHomingThistle.playShootSound()),"foodStart"==o.name){this.anmControl.playAnimation("Fooding",1/0);var n=0,i=this._objdataOwn.PlantfoodPeaCount;this.schedule((function(){t._shoot(!1,!1,t._objdataOwn.PeaTypePlantfood,8,new l(Math.cos(n*c/i),Math.sin(n*c/i))),++n>=i&&t.anmControl.playAnimation("FoodEnd",1)}),1/i,i,.01)}"foodEnd"==o.name&&this.foodEnd()},t}(u)).prototype,"soundResHomingThistle",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new V}}),A=E))||A));s._RF.pop()}}}));

System.register("chunks:///_virtual/HotDate.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SoundRescourses.ts","./SweetPotato.ts","./Jalapeno.ts","./GroundFire.ts"],(function(t){var e,n,a,i,o,r,l,u,s,c,p,d,h,m,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,a=t.initializerDefineProperty,i=t.assertThisInitialized,o=t.createClass},function(t){r=t.cclegacy,l=t._decorator,u=t.AudioClip},function(t){s=t.sounds},function(t){c=t.SweetPotatoSound,p=t.SweetPotatoPlant,d=t.SweetPotatoProps},function(t){h=t.jalapeno},function(t){m=t.GroundFireColorEnum,f=t.GroundFireSpreadStyleEnum}],execute:function(){var y,b,w,g,A,S,_,D,F,R,P,v,I,j,C,z,L,k;r._RF.push({},"4ff8e6IC4VOCL0QF0VLpz7c","HotDate",void 0);var O=l.ccclass,H=l.property,E=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))||this).FlameDamage=1e3,e.FlameDuration=5,e}return n(e,t),e}(d),G=(y=O("HotDateSound"),b=H([u]),w=H([u]),g=H([u]),A=H([u]),S=H([u]),y((F=e((D=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return e=t.call.apply(t,[this].concat(o))||this,a(e,"idle0_lp",F,i(e)),a(e,"idle1_lp",R,i(e)),a(e,"idle2_lp",P,i(e)),a(e,"idle3_lp",v,i(e)),a(e,"jump",I,i(e)),e}n(e,t);var o=e.prototype;return o.playIdleLoop=function(t){var e=this.idle0_lp;switch(t){case 1:e=this.idle1_lp;break;case 2:e=this.idle2_lp;break;case 3:e=this.idle3_lp}s.playArray(e,.3,NaN,.5,!0)},o.playJump=function(){s.playArray(this.jump,1,.1)},e}(c)).prototype,"idle0_lp",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=e(D.prototype,"idle1_lp",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),P=e(D.prototype,"idle2_lp",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=e(D.prototype,"idle3_lp",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),I=e(D.prototype,"jump",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=D))||_);t("HotDatePlant",(j=O("HotDatePlant"),C=H(G),j((k=e((L=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return e=t.call.apply(t,[this].concat(o))||this,a(e,"soundRes",k,i(e)),e._objdataOwn=new E,e}n(e,t);var r=e.prototype;return r.playFoodSounds=function(){},r.specialSweetPotatoUpdate=function(t,e,n){this.soundRes.playIdleLoop(this.hurtStage)},r.specialPlantOnKilled=function(){var t=this._dmgScale*this._objdataOwn.FlameDamage,e=this._objdataOwn.FlameDuration;h.burnFromLnC(this.inLnC,t,!1,e,15,m.yellow,f.split,18,9)},r.animationChanger=function(t,e){switch(e){case 1:this.soundRes.playDmgSay1(),t.IdleAnim="Idle1",t.RandomAnim=[],this.deathAnm="Death";break;case 2:this.soundRes.playDmgSay2(),t.IdleAnim="Idle2",t.RandomAnim=[],this.deathAnm="Death";break;case 3:this.soundRes.playDmgSay3(),t.IdleAnim="Idle3",t.RandomAnim=[],this.deathAnm="Death";break;default:t.IdleAnim="Idle0",t.RandomAnim=["Rand0"],this.deathAnm="Death",this.hurtStage=0}},r.specialPlantFoodEnd=function(){},r.specialSweetPotatoFood=function(t){this.soundRes.playFoodSay(),this.anmControl.playAnimation("Food",1/0,0,1)},r.animationListener=function(t){switch(t.name){case"refood":if(this.fooding){var e,n=null==(e=this.anmControl.db)||null==(e=e.armature())?void 0:e.animation;if(n){n.lastAnimationState;n.gotoAndPlayByFrame("Food",5,1)}}break;case"jump":this.soundRes.playJump()}},o(e,[{key:"objdataOwn",get:function(){return this._objdataOwn}}]),e}(p)).prototype,"soundRes",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new G}}),z=L))||z));r._RF.pop()}}}));

System.register("chunks:///_virtual/HotPotato.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./SoundRescourses.ts","./NodePools.ts"],(function(t){var n,o,i,e,a,r,s,l,u,c,h,p,d,f;return{setters:[function(t){n=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,e=t.assertThisInitialized,a=t.createClass},function(t){r=t.cclegacy,s=t._decorator,l=t.AudioClip,u=t.Prefab,c=t.tween},function(t){h=t.Plant,p=t.PlantProps},function(t){d=t.sounds},function(t){f=t.NodePools}],execute:function(){var P,b,y,g,m,w,L,v,C,_,O,S,F,k;r._RF.push({},"3a0deW2I1xGIIP5Q+37OEri","HotPotato",void 0);var H=s.ccclass,j=s.property,A=function(t){function n(){return t.apply(this,arguments)||this}return o(n,t),n}(p),z=(P=H("HotPotatoSound"),b=j([l]),P((m=n((g=function(){function t(){i(this,"attack",m,this)}return t.prototype.playAttack=function(){d.playArray(this.attack,1,.1)},t}()).prototype,"attack",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y=g))||y);t("HotPotatoPlant",(w=H("HotPotatoPlant"),L=j(z),v=j(u),C=j(u),w((S=n((O=function(t){function n(){for(var n,o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return n=t.call.apply(t,[this].concat(a))||this,i(n,"soundRes",S,e(n)),n._objdataOwn=new A,n.targetTombs=[],i(n,"vapourPF",F,e(n)),i(n,"paddlePF",k,e(n)),n}o(n,t);var r=n.prototype;return r.onObjdataSet=function(t,n){},r.specialPlantOnEnable=function(){this.foodable=!1,this.invincible=!0,this.height=60,this.targetTombs=[]},r.specialFloawerpotHeightScale=function(){return 0},r.specialPlantOnSquareChange=function(t,n){this.anmControl.playAnimation("Attack",1),this.soundRes.playAttack(),this.node.setParent(n.inLane.prjLayer,!0),this.die(!1,!0,!1,!1),this.height=this.objdataOwn.StartingHeight,n&&(n._hotpotato=this),t&&t._hotpotato==this&&(t._hotpotato=null)},r.specialPlantUpdateForce=function(t,n,o){var i;null!=(i=this.inLnC)&&i.tombStone&&-1==this.targetTombs.indexOf(this.inLnC.tombStone)&&this.targetTombs.push(this.inLnC.tombStone)},r.specialPlantOnDisable=function(){this.inLnC&&this.inLnC._hotpotato==this&&(this.inLnC._hotpotato=null)},r.animationListener=function(t){var n=this;switch(t.name){case"melt":var o;null==(o=this.targetTombs)||o.forEach((function(t){t.hotpotato&&t.onHotPotatoed(2.5)}));var i=f.instantiatePooly(this.vapourPF);i.parent=this.inLane.prjLayer,i.worldPosition=this.worldPosition.toVec3(),c(this).to(2.5,{height:0},{easing:"quadInOut"}).call((function(){n.inLnC&&(n.inLnC._hotpotato=null);var t=f.instantiatePooly(n.paddlePF);t.parent=n.inLane.tombLayer,t.setSiblingIndex(0),t.worldPosition=n.worldPosition.toVec3()})).start();break;case"die":this.node.destroy()}},a(n,[{key:"objdataOwn",get:function(){return this._objdataOwn}}]),n}(h)).prototype,"soundRes",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new z}}),F=n(O.prototype,"vapourPF",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=n(O.prototype,"paddlePF",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=O))||_));r._RF.pop()}}}));

System.register("chunks:///_virtual/Hurrikale.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./SoundRescourses.ts","./NodePools.ts","./ArrayGet.ts"],(function(e){var t,n,i,r,a,o,l,u,s,c,p,h,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,l=e.AudioClip,u=e.Prefab},function(e){s=e.Plant,c=e.PlantProps},function(e){p=e.sounds},function(e){h=e.instantiatePooly},function(e){f=e.ArrayGet}],execute:function(){var d,P,b,y,w,v,S,m,g,L,z;a._RF.push({},"ffcd79hUvxHrq4UyrOtMG98","Hurrikale",void 0);var D=o.ccclass,k=o.property,A=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).PushDuration=3,t}return n(t,e),t}(c);e("HurrikalePlant",(d=D("HurrikalePlant"),P=k(l),b=k(l),y=k(u),w=k(u),d((m=t((S=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(t=e.call.apply(e,[this].concat(a))||this)._objdataOwn=new A,i(t,"pushSound",m,r(t)),i(t,"prePushSound",g,r(t)),i(t,"upperParticle",L,r(t)),i(t,"lowerParticle",z,r(t)),t}n(t,e);var a=t.prototype;return a.specialPlantOnEnable=function(){this.anmControl.playAnimation("Attack",1),p.playOneShot(this.prePushSound,1,.1),this.invincible=!0,this.eaterDetectable=!1,this.smasherDetectable=!1,this.foodable=!1},a.animationListener=function(e){var t=this;if("die"==e.name)this.die(!0);else if("push"==e.name){var n;p.playOneShot(this.pushSound,.5,.1),null==(n=this.inLane)||n.setHurrikaleDuration(this._objdataOwn.PushDuration);var i=h(this.upperParticle),r=h(this.lowerParticle);i.parent=this.inLane.prjLayer,r.parent=this.inLane.zombieLayer,r.setSiblingIndex(0),[r,i].forEach((function(e){e.worldPosition=t.node.worldPosition,e.worldScale=t.node.worldScale}));var a=f.randomize(this.inLane.plantPool()),o=0;a.forEach((function(e,t){o>=4||e.blowStart()&&o++}))}},t}(s)).prototype,"pushSound",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=t(S.prototype,"prePushSound",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=t(S.prototype,"upperParticle",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(S.prototype,"lowerParticle",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=S))||v));a._RF.pop()}}}));

System.register("chunks:///_virtual/HypnoShroom.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./NodePools.ts","./LnC.ts","./SoundRescourses.ts"],(function(n){var o,t,e,i,a,r,s,l,u,p,d,h,c,y,f;return{setters:[function(n){o=n.applyDecoratedDescriptor,t=n.inheritsLoose,e=n.initializerDefineProperty,i=n.assertThisInitialized,a=n.asyncToGenerator,r=n.regeneratorRuntime,s=n.createForOfIteratorHelperLoose},function(n){l=n.cclegacy,u=n._decorator,p=n.AudioClip},function(n){d=n.Plant,h=n.PlantProps},function(n){c=n.NodePools},function(n){y=n.LnCSpawnZombieStyleEnum},function(n){f=n.sounds}],execute:function(){var m,S,b,g,w,v,P,H,R,O,z,G,T,C,A,D,F,_;l._RF.push({},"867779XQtNKJIQ2AeRH9uvv","HypnoShroom",void 0);var I=u.ccclass,L=u.property,Z=function(n){function o(){for(var o,t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return(o=n.call.apply(n,[this].concat(e))||this).HypnoedZombieDamageScale=.95,o}return t(o,n),o}(h),B=(m=I("hypnoshroomSound"),S=L(p),b=L(p),g=L(p),w=L(p),v=L(p),m((R=o((H=function(){function n(){e(this,"foodSound",R,this),e(this,"tranSound",O,this),e(this,"hypnoBGSound",z,this),e(this,"hyponoTurnSound",G,this),e(this,"transGargSound",T,this)}var o=n.prototype;return o.playFood=function(){f.playOneShot(this.foodSound,1,.1)},o.playTrans=function(){f.playOneShot(this.tranSound,1,.1)},o.playTransGarg=function(){f.playOneShot(this.transGargSound,1,.1)},o.playHypnoBG=function(){f.playOneShot(this.hypnoBGSound,1,.1)},o.playHyponoTurn=function(){f.playOneShot(this.hyponoTurnSound,1,.1)},n}()).prototype,"foodSound",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=o(H.prototype,"tranSound",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=o(H.prototype,"hypnoBGSound",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=o(H.prototype,"hyponoTurnSound",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=o(H.prototype,"transGargSound",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=H))||P);n("HypnoShroomPlant",(C=I("HypnoShroomPlant"),A=L(B),C((_=o((F=function(n){function o(){for(var o,t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return(o=n.call.apply(n,[this].concat(a))||this)._objdataOwn=new Z,e(o,"soundRes",_,i(o)),o.fooded=!1,o}t(o,n);var l=o.prototype;return l.spawnHypnotizedZombie=function(){var n=a(r().mark((function n(o,t){var e,i,a,l,u,p;return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=this._objdataOwn.HypnoedZombieDamageScale,n.next=3,null==(e=this.inLnC)?void 0:e.SpawnZombie(o,y.fromLane);case 3:for(a=n.sent,l=s(a);!(u=l()).done;)(p=u.value).hypnotized=!0,p.playPopOut(),p.worldPositionX=t,p.dealDamageScale.push(i);case 5:case"end":return n.stop()}}),n,this)})));return function(o,t){return n.apply(this,arguments)}}(),l.specialPlantOnEaten=function(n,o,t,e){if(e<=0){if(this.fooded){o.playDie(!0);var i=o.getGargantuarName();this.spawnHypnotizedZombie(i,o.worldPositionX),c.destroyPooly(o.node),this.soundRes.playTransGarg()}else o.hypnotized=!0,o.dealDamageScale.push(this._objdataOwn.HypnoedZombieDamageScale),this.soundRes.playTrans();this.soundRes.playHypnoBG(),this.soundRes.playHyponoTurn(),this.die(),this.node.destroy()}},l.specialPlantFood=function(n){this.soundRes.playFood(),this.anmControl.playAnimation("Food",1),this.fooded=!0,this.foodable=!1,this.anmControl.IdleAnim="Idle_Food",this.anmControl.RandomAnim=[]},l.waterable=function(){return!this.fooded},l.animationOnComplete=function(){this.fooding&&this.foodEnd()},l.specialPlantOnEnable=function(){this.fooded=!1,this.anmControl.IdleAnim="Idle",this.anmControl.RandomAnim=["Random"]},o}(d)).prototype,"soundRes",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new B}}),D=F))||D));l._RF.pop()}}}));

System.register("chunks:///_virtual/IceageDodoRiderZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./CharacterManager.ts","./SoundRescourses.ts","./Plants.ts"],(function(t){var e,n,i,a,o,s,r,l,u,c,h,p,y,d,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,a=t.assertThisInitialized,o=t.createClass},function(t){s=t.cclegacy,r=t._decorator,l=t.AudioClip},function(t){u=t.Zombie,c=t.ZombieProps},function(t){h=t.ZombieDamageDetails,p=t.ZombieDamageType,y=t.ZombieGroanSoundGroupEnum},function(t){d=t.sounds},function(t){f=t.plants}],execute:function(){var m,b,S,g,v,w,O,A,D,_,F,k,T,P,I,Z,E,z,C;s._RF.push({},"86cb7LiQt5N5qeAJaX6PYbP","IceageDodoRiderZombie",void 0);var R=r.ccclass,q=r.property,x=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))||this).PlantsToFlyOver=["spikeweed","spikerock","iceburg","wallnut","potatomine","lavaguava","endurian","cactus","primalwallnut","primalpotatomine","escaperoot","murkadamia","tombtangler","vamporcini"],e.SquaresToFlyOver=1,e.SquaresToFlyOverAdditional=1,e}return n(e,t),e}(c);t("IceageDodoRiderZombie",(m=R("IceageDodoRiderZombie"),b=q([l]),S=q([l]),g=q([l]),v=q([l]),w=q([l]),O=q([l]),A=q([l]),D=q([l]),m((k=e((F=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o))||this,i(e,"saySounds",k,a(e)),i(e,"sayExplSounds",T,a(e)),i(e,"sayFlyStartSounds",P,a(e)),i(e,"flapSounds",I,a(e)),i(e,"explSounds",Z,a(e)),i(e,"hitSounds",E,a(e)),i(e,"landSounds",z,a(e)),i(e,"flyStartSounds",C,a(e)),e._haveImp=!0,e._impSlots=[],e._objdataOwn=new x,e.squaresToFlyOverCount=0,e.chewSoundWhenEat=!1,e.PlantsToFlyOver=[],e._bp0Slots=[],e._bp1Slots=[],e}n(e,t);var s=e.prototype;return s.specialAnimationListener=function(t){"fly"==t.name?(this.flying=!0,d.playArray(this.flyStartSounds,1,.1),d.playArray(this.sayFlyStartSounds,1,.1)):"say"==t.name?d.playArray(this.saySounds,1,.3):"land"==t.name?d.playArray(this.landSounds,1,.3):"hit"==t.name?d.playArray(this.hitSounds,1,.1):"expl"==t.name&&(this.TotalRGB=0,d.playArray(this.explSounds,1,.3),d.playArray(this.sayExplSounds,1,.3),this.shadeAlphaScale=0)},s.onObjdataSet=function(t){var e,n=this;null==(e=this._objdataOwn.PlantsToFlyOver)||e.forEach((function(t){var e=f.getPlantEnumByCodename(t,!1);isNaN(e)||n.PlantsToFlyOver.push(e)}))},s.specialZombieOnEnable=function(){this.haveImp=!0,this.body.WalkAnm="Walk",this.replayAnimation(),this.body.DeathAnm="Death",this.shadeAlphaScale=1,this.onDamaged(this.toughness,this.toughness,new h)},s.detectFly=function(t){var e=this;if(t>0&&this.inLane){var n=this.inLane.laneLnCs.filter((function(t){return!!t.slider||(t.currentTileLiquid>0||(!t.isSolidOrDeck()||t.getAllPlants().some((function(t){return-1!=e.PlantsToFlyOver.indexOf(t.ID)}))))})),i=this.inLane.laneLnCs.filter((function(t){return!!t.zombieShields.some((function(t){return t.hypnotized!=e.hypnotized}))}));n.some((function(t){return e.plantDetectorRec.judgeCrossRec(t.rec)}))&&i.every((function(t){return!e.plantDetectorRec.judgeCrossRec(t.rec)}))?this.flyStart():this.flyEnd()}},s.specialZombieOnShrinked=function(t,e){this.haveImp=!1},s.specialZombieOnSquareChange=function(t,e){this.squaresToFlyOverCount--,this.squaresToFlyOverCount<=0&&this.flyEnd()},s.playSpecialZombieDie=function(t){this.judgeDeath(0)},s.onDamaged=function(t,e,n){var i=this;this._bp0Slots.forEach((function(t){t._setDisplayIndex(e<=2*i.toughness/3?0:-1)})),this._bp1Slots.forEach((function(t){t._setDisplayIndex(e<=i.toughness/3?0:-1)})),e<=0&&n.damageType==p.electricity&&this.haveImp&&(this.body.DeathAnm="Shock",this.TotalRGB=n.shockRGB,d.playZombieShock(!1))},s.specialZombieOnLoad=function(){var t=this;this.body.db.armature().getSlots().forEach((function(e){e.name.includes("_bp0")?t._bp0Slots.push(e):e.name.includes("_bp1")?t._bp1Slots.push(e):e.name.includes("_IMP")&&t._impSlots.push(e)}))},s.ignorePlants=function(){return this.flying},s.flyStart=function(){this.switching||this.flying||(this.squaresToFlyOverCount=this.objdataOwn.SquaresToFlyOver+1+Math.ceil(this.objdataOwn.SquaresToFlyOverAdditional*Math.random()),this.switching=!0,this.body.WalkAnm="FlyLoop",this.correctShadeWP(),this.isWalking=!1,this.body.playAnimation("FlyStart"))},s.flyEnd=function(){!this.switching&&this.flying&&(this.squaresToFlyOverCount=0,this.switching=!0,this.body.WalkAnm="Walk",this.correctShadeWP(),this.isWalking=!1,this.body.playAnimation("FlyEnd"))},s.walkTimeScale=function(t,e,n){return this.flying?1:this.defaultWalkTimeScale(t,e,n)},s.specialZombieUpdateBeforePlantDetect=function(t,e,n){this.flying&&this.isWalking&&d.playArray(this.flapSounds,1,.42),this.switching||this.detectFly(t)},o(e,[{key:"haveImp",get:function(){return this._haveImp},set:function(t){this._haveImp=t,this.zombieGroanSoundGroup=t?y.imp:y.none,this._impSlots.forEach((function(e){e._setDisplayIndex(t?0:-1)}))}},{key:"objdataOwn",get:function(){return this._objdataOwn}}]),e}(u)).prototype,"saySounds",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),T=e(F.prototype,"sayExplSounds",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),P=e(F.prototype,"sayFlyStartSounds",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),I=e(F.prototype,"flapSounds",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Z=e(F.prototype,"explSounds",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),E=e(F.prototype,"hitSounds",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=e(F.prototype,"landSounds",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C=e(F.prototype,"flyStartSounds",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=F))||_));s._RF.pop()}}}));

System.register("chunks:///_virtual/IceageGargantuarZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GargantuarZombie.ts","./Zombies.ts"],(function(t){var e,a,n,h,i,s,r;return{setters:[function(t){e=t.inheritsLoose,a=t.createClass},function(t){n=t.cclegacy,h=t._decorator},function(t){i=t.GargantuarZombie,s=t.GargantuarProps},function(t){r=t.ZombieEnum}],execute:function(){var o;n._RF.push({},"bc934PXMqhNkKGvkm01tYqv","IceageGargantuarZombie",void 0);var p=h.ccclass,m=(h.property,function(t){function a(){for(var e,a=arguments.length,n=new Array(a),h=0;h<a;h++)n[h]=arguments[h];return(e=t.call.apply(t,[this].concat(n))||this).HealthPercentThrowImp0=.8,e.HealthPercentThrowImp1=.6,e.HealthPercentThrowImp2=.4,e.ChanceToReverseImp=.5,e}return e(a,t),a}(s));t("IceageGargantuarZombie",p("IceageGargantuarZombie")(o=function(t){function n(){for(var e,a=arguments.length,n=new Array(a),h=0;h<a;h++)n[h]=arguments[h];return(e=t.call.apply(t,[this].concat(n))||this).impEnum=r.iceage_imp,e._objdataOwn=new m,e._haveImp0=!0,e._imp0Slots=[],e._haveImp1=!0,e._imp1Slots=[],e._haveImp2=!0,e._imp2Slots=[],e}e(n,t);var h=n.prototype;return h.specialGargantuarAnimationListener=function(t){"getImp"==t.name&&(this.haveImp0?this.haveImp0=!1:this.haveImp1?this.haveImp1=!1:this.haveImp2&&(this.haveImp2=!1))},h.specialZombieOnShrinked=function(t,e){this.haveImp0=this.haveImp1=this.haveImp2=!1},h.impOnThrow=function(t){Math.random()<this.objdataOwn.ChanceToReverseImp&&(t.reversed=!0)},h.specialGargantuarOnEnable=function(){this.haveImp0=!0,this.haveImp1=!0,this.haveImp2=!0},h.specialGargantuarOnLoad=function(){var t=this;this.db.armature().getSlots().forEach((function(e){e.name.includes("_IM0")?t._imp0Slots.push(e):e.name.includes("_IM1")?t._imp1Slots.push(e):e.name.includes("_IM2")&&t._imp2Slots.push(e)}))},h.haveImpFalse=function(){this.haveImp0||this.haveImp1||this.haveImp2||(this.haveImp=!1)},h.throwImpNow=function(){return this.haveImp0&&this.health<this.toughness*this.objdataOwn.HealthPercentThrowImp0||this.haveImp1&&this.health<this.toughness*this.objdataOwn.HealthPercentThrowImp1||this.haveImp2&&this.health<this.toughness*this.objdataOwn.HealthPercentThrowImp2},a(n,[{key:"objdataOwn",get:function(){return this._objdataOwn}},{key:"haveImp0",get:function(){return this._haveImp0},set:function(t){this._haveImp0=t,this._imp0Slots.forEach((function(e){e._setDisplayIndex(t?0:-1)}))}},{key:"haveImp1",get:function(){return this._haveImp1},set:function(t){this._haveImp1=t,this._imp1Slots.forEach((function(e){e._setDisplayIndex(t?0:-1)}))}},{key:"haveImp2",get:function(){return this._haveImp2},set:function(t){this._haveImp2=t,this._imp2Slots.forEach((function(e){e._setDisplayIndex(t?0:-1)}))}}]),n}(i))||o);n._RF.pop()}}}));

System.register("chunks:///_virtual/IceageHunterVeteranZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./Character.ts","./Square.ts","./SoundRescourses.ts","./Projectiles.ts"],(function(t){var n,e,o,i,r,a,s,l,c,h,u,d,b,p,w,f,y,P;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized,r=t.createClass,a=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){l=t.cclegacy,c=t._decorator,h=t.AudioClip,u=t.Node,d=t.Vec2},function(t){b=t.Zombie,p=t.ZombieProps},function(t){w=t.CharacterType},function(t){f=t.Square},function(t){y=t.sounds},function(t){P=t.ProjectileShootingFunctions}],execute:function(){var g,m,v,C,L,j,R,S,I,D,X;l._RF.push({},"393171sxfROdYQNzl3y/HH0","IceageHunterVeteranZombie",void 0);var z=c.ccclass,x=c.property,O=function(t){function n(){for(var n,e=arguments.length,o=new Array(e),i=0;i<e;i++)o[i]=arguments[i];return(n=t.call.apply(t,[this].concat(o))||this).LobInterval=3,n.LobIntervalAdditional=.5,n.SnowballType="hunter_snowball",n}return e(n,t),n}(p);t("IceageHunterVeteranZombie",(g=z("IceageHunterVeteranZombie"),m=x([h]),v=x([h]),C=x([h]),L=x(u),g((S=n((R=function(t){function n(){for(var n,e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return(n=t.call.apply(t,[this].concat(r))||this)._objdataOwn=new O,n.lobCD=4,o(n,"swingSounds",S,i(n)),o(n,"rollSounds",I,i(n)),o(n,"cluckSounds",D,i(n)),o(n,"snowSpawnPoint",X,i(n)),n}e(n,t);var l=n.prototype;return l.specialZombieOnEnable=function(){this.lobCD=0},l.plantCanbeDetected=function(t){return!t.objdataOwn.ImmuneToIceblock&&t.eaterDetectable&&!t.short_&&!t.invincible&&!t.objdataOwn.CannotBeDetectedByCatapult&&this.judgeCharacterIsInRange(t.worldPositionX)&&!this.plantDetectorRec.judgeCrossRec(t.bodyRec)},l.detectPlant=function(t){this.lobCD>0||this.defaultDetectPlant(t)},l._throw=function(){var t=a(s().mark((function t(){var n,e,o,i,r,a,l,c,h=this;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.isAlive()){t.next=2;break}return t.abrupt("return");case 2:if(n=null,e=null,this.reversed?(i=-1/0,this.hypnotized||this.inLane.plantPool().forEach((function(t){var e=t.bodyRec.prjX().y;e>i&&t.worldPositionX>h.worldPositionX&&h.plantCanbeDetected(t)&&(n=t.node,i=e)})),(this.hypnotized?this.inLane.zombiePool():this.inLane.hypnoZombiePool()).forEach((function(t){var o=t.bodyRec.prjX().x;o>i&&t.worldPositionX>h.worldPositionX&&(e=t,n=null,i=o)}))):(o=1/0,this.hypnotized||this.inLane.plantPool().forEach((function(t){var e=t.bodyRec.prjX().x;e<o&&t.worldPositionX<h.worldPositionX&&h.plantCanbeDetected(t)&&(n=t.node,o=e)})),(this.hypnotized?this.inLane.zombiePool():this.inLane.hypnoZombiePool()).forEach((function(t){var i=t.bodyRec.prjX().x;i<o&&t.worldPositionX<h.worldPositionX&&(e=t,n=null,o=i)}))),(!n||(this.reversed?-1:1)*(n.worldPosition.x-this.worldPositionX)>0)&&(n=this.reversed?this.inLane.toRight:this.inLane.toLeft),r=this.objdataOwn.SnowballType,a=45,l=.66666,c=this.hypnotized?w.zombie:w.plant,!e){t.next=15;break}return t.next=13,P.lobOneCabbageOnZombie(r,new d(this.snowSpawnPoint.worldPosition.x,this.worldPositionY),this.snowSpawnPoint.worldPosition.y-this.worldPositionY,this.inLane.prjLayer,e,l,c,!1,a);case 13:t.next=18;break;case 15:if(!n){t.next=18;break}return t.next=18,P.lobOneCabbageOnNode(r,new d(this.snowSpawnPoint.worldPosition.x,this.worldPositionY),this.snowSpawnPoint.worldPosition.y-this.worldPositionY,this.inLane.prjLayer,n,l,c,!1,a);case 18:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),l.specialAnimationListener=function(t){"throw"==t.name?this._throw():"throwSound"==t.name?(y.playArray(this.swingSounds,1,.2),y.playArray(this.cluckSounds,1,NaN)):"roll"==t.name?y.playArray(this.rollSounds,1,.5):"judgeSwitching"==t.name&&(this.lobCD>0?(this.switching=!1,this.isWalking=!1,this.isIdling=!1,this.playIdle()):this.switchingFalse())},l.playLob=function(){this.playIdle(),this.lobCD=Math.random()*this.objdataOwn.LobIntervalAdditional+this.objdataOwn.LobInterval,this.switching=!0,this.correctShadeWP(),this.body.playAnimation("Throw",1/0,.1)},l.judgeCharacterIsInRange=function(t){return this.reversed&&t>this.worldPositionX||!this.reversed&&t<this.worldPositionX},l.detectLobPlant=function(){var t=this;if(this.inLane&&!(!this.reversed&&this.worldPositionX>f.getSquareWorldPosition(0,8).x||this.reversed&&this.worldPositionX<f.getSquareWorldPosition(0,0).x)){var n=!1;this.hypnotized?this.inLane.zombiePool().forEach((function(e){n||t.judgeCharacterIsInRange(e.worldPositionX)&&!e.bodyRec.judgeCrossRec(t.bodyRec)&&(n=!0)})):(this.inLane.plantPool().forEach((function(e){n||t.plantCanbeDetected(e)&&(n=!0)})),this.inLane.hypnoZombiePool().forEach((function(e){n||t.judgeCharacterIsInRange(e.worldPositionX)&&!e.bodyRec.judgeCrossRec(t.bodyRec)&&(n=!0)}))),this.inLane.tombPool(this.hypnotized?0:1).forEach((function(e){n||t.judgeCharacterIsInRange(e.worldPositionX)&&!e.bodyRec.judgeCrossRec(t.bodyRec)&&(n=!0)})),n&&this.playLob()}},l.specialZombieUpdateBeforePlantDetect=function(t,n,e){this.lobCD>0&&!this.switching&&(this.lobCD-=t),this.lobCD<=0&&e>0&&(this.lobCD=0,this.isAlive()&&this.detectLobPlant())},r(n,[{key:"objdataOwn",get:function(){return this._objdataOwn}}]),n}(b)).prototype,"swingSounds",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),I=n(R.prototype,"rollSounds",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=n(R.prototype,"cluckSounds",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),X=n(R.prototype,"snowSpawnPoint",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=R))||j));l._RF.pop()}}}));

System.register("chunks:///_virtual/IceageHunterZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./CharacterManager.ts","./Square.ts","./SoundRescourses.ts","./Character.ts","./Projectiles.ts"],(function(e){var t,n,r,i,a,o,s,l,c,u,h,d,b,w,g,f,p,m,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized,a=e.createClass,o=e.asyncToGenerator,s=e.regeneratorRuntime},function(e){l=e.cclegacy,c=e._decorator,u=e.Node,h=e.AudioClip,d=e.Vec2},function(e){b=e.Zombie,w=e.ZombieProps},function(e){g=e.Rectangle},function(e){f=e.Square},function(e){p=e.sounds},function(e){m=e.CharacterType},function(e){y=e.ProjectileShootingFunctions}],execute:function(){var S,B,P,j,A,v,R,C,O,T,F;l._RF.push({},"6a25ct+7PNPmqgBF4SPbPYP","IceageHunterZombie",void 0);var k=c.ccclass,L=c.property,z=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).FarAttackRange=4,t.NearAttackRange=1,t.SnowballsPerBarrage=3,t.TimeBeforeFirst=7,t.TimeBeforeFirstAddtional=2,t.TimeBetweenBarrages=9,t.TimeBetweenBarragesAddtional=3,t.SnowballType="hunter_snowball",t}return n(t,e),t}(w);e("IceageHunterZombie",(S=k("IceageHunterZombie"),B=L(u),P=L([h]),j=L([h]),A=L([h]),S((C=t((R=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,r(t,"snowballPoint",C,i(t)),t._objdataOwn=new z,t.barrageCD=0,t.leftBarrageBalls=0,r(t,"swingSounds",O,i(t)),r(t,"rollSounds",T,i(t)),r(t,"cluckSounds",F,i(t)),t}n(t,e);var l=t.prototype;return l.onObjdataSet=function(e){this.leftBarrageBalls=this.objdataOwn.SnowballsPerBarrage,this.barrageCD=this.objdataOwn.TimeBeforeFirst+Math.random()*this.objdataOwn.TimeBeforeFirstAddtional},l.detectSnowballEnemies=function(){if(!this.isAlive()||this.leftBarrageBalls<=0||this.barrageCD>0||!this.inLane||!this.enteredLawn)return!1;var e=this.objdataOwn.NearAttackRange,t=this.objdataOwn.FarAttackRange,n=g.createRectangleSide(new d(this.snowballPoint.worldPosition.x+(this.reversed?1:-1)*e*f.SquareWidth,this.inLane.midY),(t-e)*(this.reversed?1:-1)*f.SquareWidth,f.SquareHeight),r=!1;this.hypnotized?r=this.inLane.zombiePool().some((function(e){return n.judgeCrossRec(e.bodyRecForShooter)})):(r=this.inLane.plantPool().some((function(e){return!e.short&&!e.sheepend&&n.judgeCrossRec(e.bodyRec)})))||(r=this.inLane.hypnoZombiePool().some((function(e){return n.judgeCrossRec(e.bodyRecForShooter)})));return r},l._throw=function(){var e=o(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isAlive()){e.next=2;break}return e.abrupt("return");case 2:return this.leftBarrageBalls--,this.leftBarrageBalls<=0&&(this.barrageCD=this.objdataOwn.TimeBetweenBarrages+Math.random()*this.objdataOwn.TimeBetweenBarragesAddtional),e.next=6,y.shootOnePea(this.objdataOwn.SnowballType,new d(this.snowballPoint.worldPosition.x,this.worldPositionY),this.snowballPoint.worldPosition.y-this.worldPositionY,this.inLane.prjLayer,new d(8*(this.reversed?1:-1)),this.hypnotized?m.zombie:m.plant);case 6:e.sent;case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),l.specialAnimationListener=function(e){"throw"==e.name?this._throw():"throwSound"==e.name?(p.playArray(this.swingSounds,1,.2),p.playArray(this.cluckSounds,1,NaN)):"roll"==e.name?p.playArray(this.rollSounds,1,.5):"judgeSwitching"==e.name&&(this.detectSnowballEnemies()?this.throwAnimation():this.switchingFalse())},l.throwAnimation=function(){this.switching=!0,this.isWalking=!1,this.body.playAnimation("Throw",1/0,.1)},l.specialZombieUpdate=function(e,t,n){this.switching||(this.barrageCD>0?this.barrageCD-=e:this.barrageCD<=0&&this.leftBarrageBalls<=0&&(this.leftBarrageBalls=this.objdataOwn.SnowballsPerBarrage),this.detectSnowballEnemies()&&this.throwAnimation())},a(t,[{key:"objdataOwn",get:function(){return this._objdataOwn}}]),t}(b)).prototype,"snowballPoint",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=t(R.prototype,"swingSounds",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),T=t(R.prototype,"rollSounds",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=t(R.prototype,"cluckSounds",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=R))||v));l._RF.pop()}}}));

System.register("chunks:///_virtual/IceageTroglobiteZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./Square.ts","./Tombs.ts","./LnC.ts","./SoundRescourses.ts","./levelController.ts","./CharacterManager.ts","./ArrayGet.ts"],(function(e){var t,n,i,r,o,s,a,c,u,h,l,p,d,b,f,w,y,m,g,S;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized,o=e.createClass,s=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){c=e.cclegacy,u=e._decorator,h=e.AudioClip,l=e.Vec2},function(e){p=e.Zombie,d=e.ZombieProps},function(e){b=e.Square},function(e){f=e.TombEnum},function(e){w=e.LnCSpawnZombieStyleEnum},function(e){y=e.sounds},function(e){m=e.LevelPlay},function(e){g=e.Rectangle},function(e){S=e.ArrayGet}],execute:function(){var k,v,I,x,P,R,C,T,A;c._RF.push({},"26c52GNXhFP3a4HqsWBCW2x","IceageTroglobiteZombie",void 0);var L=u.ccclass,O=u.property,W=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).ImpTypes=["iceage_imp"],t.NumberOfIceblocksToSpawnWith=3,t}return n(t,e),t}(d);e("IceageTroglobiteZombie",(k=L("IceageTroglobiteZombie"),v=O([h]),I=O([h]),x=O([h]),k((C=t((R=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(t=e.call.apply(e,[this].concat(o))||this)._objdataOwn=new W,i(t,"pushSounds",C,r(t)),i(t,"pushChargeSounds",T,r(t)),i(t,"pushSaySounds",A,r(t)),t.icecubeDetector=new g,t}n(t,e);var c=t.prototype;return c.icecubeToPush=function(){var e=this;return this.inLane.icecubePool().find((function(t){return(e.reversed?t.canBePushedRight():t.canBePushedLeft())&&e.icecubeDetector.judgeCrossRec(t.bodyRec)}))},c.shouldSpeedScale=function(){return this.defaultShouldSpeedScale()*(this.displayed||this.enteredLawn?1:2)},c.specialAnimationListener=function(e){switch(e.name){case"pushSound":y.playArray(this.pushSaySounds,1,.5);break;case"push":if(this.isAlive()&&this.ShrinkProps.length<=0){var t=this.icecubeToPush();t&&(this.reversed?t.pushRight():t.pushLeft(),y.playArray(this.pushSounds,1,.2),y.playArray(this.pushChargeSounds,1,.2))}}},c.setIceCubeDetectorRec=function(){m.gameStarted&&this.bodyRecHiddenCD<=0&&this.isAlive()?this.icecubeDetector=g.createRectangleCenter(new l(this.shadeSocket.worldPosition.x+(this.AttackRect.x-40)*(this.reversed?-1:1),this._worldPosition.y+this.height_depth+this.AttackRect.y),this.AttackRect.w,this.AttackRect.h):this.icecubeDetector=g.createRectangleCenter(new l(1e4,1e4),1,1)},c.specialZombieUpdateBeforePlantDetect=function(e,t,n){this.setIceCubeDetectorRec(),this.icecubeToPush()&&this.isWalking&&this.ShrinkProps.length<=0&&(this.switching=!0,this.isWalking=!1,this.correctShadeWP(),this.body.playAnimation("Push",1/0,.5))},c.spawnAnIcecube=function(){var e=s(a().mark((function e(t,n){var i,r=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=b.placeTomb(t.LaneIndex,n,f.iceblock_zombie,!1,!1,!1,!1))){e.next=6;break}return e.next=4,b.getLnC(t.LaneIndex,0).SpawnZombieByZombieType(S.getRandom(this.objdataOwn.ImpTypes),w.fromLane,!1,.5,0);case 4:e.sent.forEach((function(e){e.worldPositionX=i.worldPositionX,e.worldPositionY=i.worldPositionY,e.judgeInLnC(),e.iceblock=i,e.hypnotized=r.hypnotized,e.reversed=r.reversed}));case 6:return e.abrupt("return",i);case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),c.spawnIceCubes=function(){var e=s(a().mark((function e(t,n,i){var r,o,s,c,u,h,l=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.reversed){e.next=12;break}this.worldPositionX-=b.SquareWidth*this.objdataOwn.NumberOfIceblocksToSpawnWith,r=this.cIndexReal,o=a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.tombPool(2).find((function(e){return e.cIndexReal==t}))){e.next=5;break}return e.next=4,l.spawnAnIcecube(n,t);case 4:e.sent;case 5:case"end":return e.stop()}}),e)})),s=t;case 5:if(!(s>r&&t-s<this.objdataOwn.NumberOfIceblocksToSpawnWith)){e.next=10;break}return e.delegateYield(o(s),"t0",7);case 7:s--,e.next=5;break;case 10:e.next=21;break;case 12:this.worldPositionX+=b.SquareWidth*this.objdataOwn.NumberOfIceblocksToSpawnWith,c=this.cIndexReal,u=a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.tombPool(2).find((function(e){return e.cIndexReal==t}))){e.next=5;break}return e.next=4,l.spawnAnIcecube(n,t);case 4:e.sent;case 5:case"end":return e.stop()}}),e)})),h=t;case 16:if(!(h<c&&h-t<this.objdataOwn.NumberOfIceblocksToSpawnWith)){e.next=21;break}return e.delegateYield(u(h),"t1",18);case 18:h++,e.next=16;break;case 21:case"end":return e.stop()}}),e,this)})));return function(t,n,i){return e.apply(this,arguments)}}(),c.onLaneSpawnSettled=function(e,t){if(t&&e.isInLawn()){var n=this.cIndexReal;this.spawnIceCubes(n,e,t)}},o(t,[{key:"objdataOwn",get:function(){return this._objdataOwn}}]),t}(p)).prototype,"pushSounds",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),T=t(R.prototype,"pushChargeSounds",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=t(R.prototype,"pushSaySounds",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),P=R))||P));c._RF.pop()}}}));

System.register("chunks:///_virtual/IceageWeaselHorderZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./SoundRescourses.ts","./levelController.ts","./CowboyChickenFarmerZombie.ts","./Zombies.ts"],(function(e){var a,i,n,t,o,r,s,l,u,c,h,d,p,y;return{setters:[function(e){a=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,t=e.assertThisInitialized,o=e.createClass},function(e){r=e.cclegacy,s=e._decorator,l=e.AudioClip},function(e){u=e.Zombie,c=e.ZombieProps},function(e){h=e.sounds},function(e){d=e.LevelPlay},function(e){p=e.ChickenThrower},function(e){y=e.zombies}],execute:function(){var b,w,f,m,g,S,W,v,A,k,I,_,D,H,Z,j,x;r._RF.push({},"0fe92ie+d9EnKI3ZBmlixFH","IceageWeaselHorderZombie",void 0);var z=s.ccclass,E=s.property,O=function(e){function a(){for(var a,i=arguments.length,n=new Array(i),t=0;t<i;t++)n[t]=arguments[t];return(a=e.call.apply(e,[this].concat(n))||this).WeaselTypeName="iceage_weasel",a.WeaselingHealthPercentage=.8,a.WeaselingDuration=2,a.WeaselingDurationVariance=1,a.WeaselingInterval=.2,a.WeaselingIntervalVariance=.1,a}return i(a,e),a}(c);e("IceageWeaselHorderZombie",(b=z("IceageWeaselHorderZombie"),w=E([l]),f=E([l]),m=E([l]),g=E([l]),S=E([l]),W=E([l]),v=E([l]),b((I=a((k=function(e){function a(){for(var a,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return(a=e.call.apply(e,[this].concat(o))||this)._objdataOwn=new O,a._haveWeasel=!0,n(a,"weaselActionSounds",I,t(a)),n(a,"weaselEatSounds",_,t(a)),n(a,"weaselSurpriseSounds",D,t(a)),n(a,"rotateSounds",H,t(a)),n(a,"explodeSounds",Z,t(a)),n(a,"explodeSaySounds",j,t(a)),n(a,"walkSaySounds",x,t(a)),a.willThrowWeasels=!1,a}i(a,e);var r=a.prototype;return r.specialZombieOnShrinked=function(e,a){this.haveWeasel=!1},r.LiesImmediatelyWhenHeavyDamaged=function(){return!this.haveWeasel},r.throwWeasels=function(){var e=new p(y.getZombieEnumByCodename(this.objdataOwn.WeaselTypeName),this.objdataOwn.WeaselingDuration,this.objdataOwn.WeaselingDurationVariance,this.objdataOwn.WeaselingInterval,this.objdataOwn.WeaselingIntervalVariance,this.lIndex,this.worldPositionX);e.reversed=this.reversed,e.hypno=this._usedToBeHypnotized,d.component.chickenThrowers.push(e)},r.specialZombieOnEnable=function(){this.haveWeasel=!0,this.willThrowWeasels=!1},r.playSpecialZombieDie=function(e){this.haveWeasel&&this.judgeDeath()},r.specialAnimationListener=function(e){switch(e.name){case"walkSay":h.playArray(this.walkSaySounds,1,.2);break;case"rotate":h.playArray(this.rotateSounds,1);break;case"weaselEat":h.playArray(this.weaselEatSounds,1);break;case"expl":h.playArray(this.explodeSaySounds,1),h.playArray(this.explodeSounds,1,.1),h.playArray(this.weaselSurpriseSounds,1,.2);break;case"throw":h.playArray(this.weaselActionSounds),this.throwWeasels()}},r.onDamaged=function(e,a,i){this.haveWeasel&&a<=this.toughness*this.objdataOwn.WeaselingHealthPercentage&&this.shouldSpeedScale()>0&&(this.haveWeasel=!1,this.isWalking=!1,this.switching=!0,this.body.playAnimation("Explode",1/0),this.willThrowWeasels=!0)},o(a,[{key:"objdataOwn",get:function(){return this._objdataOwn}},{key:"haveWeasel",get:function(){return this._haveWeasel},set:function(e){this.body.IdleAnm=e?"Idle_Hidden":"Idle",this.body.EatAnm=e?"Eat_Hidden":"Eat",this.body.WalkAnm=e?"Walk_Hidden":"Walk",this.body.DeathAnm=e?"Death_Hidden":"Death",this.replayAnimation(),this._haveWeasel=e}}]),a}(u)).prototype,"weaselActionSounds",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=a(k.prototype,"weaselEatSounds",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=a(k.prototype,"weaselSurpriseSounds",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),H=a(k.prototype,"rotateSounds",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Z=a(k.prototype,"explodeSounds",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j=a(k.prototype,"explodeSaySounds",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),x=a(k.prototype,"walkSaySounds",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=k))||A));r._RF.pop()}}}));

System.register("chunks:///_virtual/IceageWeaselZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./SoundRescourses.ts"],(function(e){var i,t,n,o,a,r,c,s,u;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,r=e._decorator,c=e.AudioClip},function(e){s=e.Zombie},function(e){u=e.sounds}],execute:function(){var l,p,b,d,y,f,h;a._RF.push({},"0ca89YctcpDW7mHs1j09MxW","IceageWeaselZombie",void 0);var m=r.ccclass,S=r.property;e("IceageWeaselZombie",(l=m("IceageWeaselZombie"),p=S([c]),b=S([c]),l((f=i((y=function(e){function i(){for(var i,t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return i=e.call.apply(e,[this].concat(a))||this,n(i,"blopSounds",f,o(i)),n(i,"deathSaySounds",h,o(i)),i}t(i,e);var a=i.prototype;return a.playSpecialZombieDie=function(e){this.judgeDeath(0)},a.walkTimeScale=function(e,i,t){return t},a.specialAnimationListener=function(e){switch(e.name){case"blop":u.playArray(this.blopSounds,1,.2),u.playArray(this.deathSaySounds,1,.2)}},i}(s)).prototype,"blopSounds",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),h=i(y.prototype,"deathSaySounds",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),d=y))||d));a._RF.pop()}}}));

System.register("chunks:///_virtual/iceageZombossGlacierMiddle.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Character.ts","./Materials.ts","./NodePools.ts","./SoundRescourses.ts"],(function(t){var e,s,i,a,n,o,r,l,h,u,c,d,p,f,m,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,s=t.inheritsLoose,i=t.initializerDefineProperty,a=t.assertThisInitialized,n=t.createClass},function(t){o=t.cclegacy,r=t._decorator,l=t.AudioClip,h=t.Prefab,u=t.Material,c=t.Vec4},function(t){d=t.Character},function(t){p=t.materialRes},function(t){f=t.instantiatePooly,m=t.NodePools},function(t){g=t.sounds}],execute:function(){var b,_,S,v,y,P,M;o._RF.push({},"4263c49YeNDnpi5nKSwtsxU","iceageZombossGlacierMiddle",void 0);var E=r.ccclass,w=r.property;t("iceageZombossGlacierMiddle",(b=E("iceageZombossGlacierMiddle"),_=w([l]),S=w(h),b((P=e((y=function(t){function e(){for(var e,s=arguments.length,n=new Array(s),o=0;o<s;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this).bp1_Slots=[],e.bp2_Slots=[],e.bp3_Slots=[],e.bp4_Slots=[],e.bp5_Slots=[],e.toughness=1750,e._health=1750,e.material=void 0,e.hurting=0,i(e,"revealSounds",P,a(e)),i(e,"destructionParticle",M,a(e)),e.master=void 0,e}s(e,t);var o=e.prototype;return o.characterOnLoadForced=function(){var t=this;this.db.armature().getSlots().forEach((function(e){e.name.includes("BP5")?t.bp5_Slots.push(e):e.name.includes("BP4")?t.bp4_Slots.push(e):e.name.includes("BP3")?t.bp3_Slots.push(e):e.name.includes("BP2")?t.bp2_Slots.push(e):e.name.includes("BP1")&&t.bp1_Slots.push(e)}));var e=new u;e.initialize({effectAsset:p.addColorEffect,defines:{USE_TEXTURE:!0}}),this.material=e,this.db.customMaterial=e},o.setToughness=function(t){this.toughness=t,this.health=this.toughness},o.characterOnEnable=function(){this.health=this.toughness,this.db.playAnimation("Spawn")},o.dealdamage=function(t){t.damage<=0||(this.hurting=20,this.health-=t.damage,this.health<=0&&this.die())},o.characterUpdate=function(t){this.hurting>0&&(this.hurting-=60*t),this.shouldMaterial()},o.shouldMaterial=function(){var t=new c(0,0,0,1),e=0;this.hurting>0&&(t.x+=this.hurting/60,t.y+=this.hurting/60,t.z+=this.hurting/60,e+=this.hurting/20);var s=this.material.passes[0].getHandle("addColor");this.material.passes[0].setUniform(s,t);var i=this.material.passes[0].getHandle("chillColor");this.material.passes[0].setUniform(i,0);var a=this.material.passes[0].getHandle("saturation");this.material.passes[0].setUniform(a,e);var n=this.material.passes[0].getHandle("holo");this.material.passes[0].setUniform(n,0),this.db.customMaterial=this.material},o.die=function(t){var e;void 0===t&&(t=null),null==(e=this.master)||e.stunAction(6);var s=f(this.destructionParticle);t||(t=this.node.parent),s.parent=t,s.worldPosition=this.node.worldPosition,s.scale=this.node.scale,this.master&&(this.master.glacierM=null),this.master=null,g.playArray(this.revealSounds,1,.1),m.destroyPooly(this.node)},n(e,[{key:"health",get:function(){return this._health},set:function(t){var e=this;this.bp1_Slots.forEach((function(s){s._setDisplayIndex(t<e.toughness?0:-1)})),this.bp2_Slots.forEach((function(s){s._setDisplayIndex(t<4*e.toughness/5?0:-1)})),this.bp3_Slots.forEach((function(s){s._setDisplayIndex(t<3*e.toughness/5?0:-1)})),this.bp4_Slots.forEach((function(s){s._setDisplayIndex(t<2*e.toughness/5?0:-1)})),this.bp5_Slots.forEach((function(s){s._setDisplayIndex(t<1*e.toughness/5?0:-1)})),this._health=t}}]),e}(d)).prototype,"revealSounds",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),M=e(y.prototype,"destructionParticle",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=y))||v));o._RF.pop()}}}));

System.register("chunks:///_virtual/IceageZombossMechZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZombossMechZombie.ts","./Square.ts","./Character.ts","./FrontYard.ts","./NodePools.ts","./ArrayGet.ts","./iceageZombossGlacierMiddle.ts","./SoundRescourses.ts","./Tombs.ts","./GlacierBlock.ts"],(function(e){var n,i,o,t,a,r,s,l,u,c,d,h,b,m,p,g,f,S,y,w,L;return{setters:[function(e){n=e.applyDecoratedDescriptor,i=e.inheritsLoose,o=e.initializerDefineProperty,t=e.assertThisInitialized,a=e.createClass},function(e){r=e.cclegacy,s=e._decorator,l=e.Prefab,u=e.AudioClip,c=e.Vec3},function(e){d=e.ZombossMechZombie,h=e.ZombossMechProps},function(e){b=e.Square},function(e){m=e.Character},function(e){p=e.FrontYard},function(e){g=e.instantiatePooly},function(e){f=e.ArrayGet},function(e){S=e.iceageZombossGlacierMiddle},function(e){y=e.sounds},function(e){w=e.TombEnum},function(e){L=e.GlacierBlock}],execute:function(){var k,v,C,M,Z,A,P,R,z,O,_,D,E,I,U,B,j,x,G,T,F,N,H,q,W,Y,V,X,J,Q,K,$,ee,ne,ie,oe,te,ae,re,se,le;r._RF.push({},"747a1aL2+xLZqsGiMFQ/mS6","IceageZombossMechZombie",void 0);var ue=s.ccclass,ce=s.property,de=function(e){function n(){for(var n,i=arguments.length,o=new Array(i),t=0;t<i;t++)o[t]=arguments[t];return(n=e.call.apply(e,[this].concat(o))||this).GlacierToughness=1750,n.GlacierBlockZombieList=[[],["iceage","iceage_weasel","iceage_imp",""],["iceage","iceage_imp",""],["iceage","iceage_imp"],["iceage","iceage_hunter","iceage_armor3"],["iceage_armor3","iceage_hunter","iceage_dodo"],["iceage_armor3","iceage_hunter","iceage_dodo"],["iceage_armor3","iceage_hunter","iceage_dodo"]],n}return i(n,e),n}(h);e("IceageZombossMechZombie",(k=ue("IceageZombossMechZombie"),v=ce(l),C=ce(l),M=ce(l),Z=ce([u]),A=ce([u]),P=ce([u]),R=ce([u]),z=ce([u]),O=ce([u]),_=ce([u]),D=ce(u),E=ce([u]),I=ce([u]),U=ce([u]),B=ce([u]),j=ce([u]),x=ce([u]),G=ce([u]),T=ce(l),k((H=n((N=function(e){function n(){for(var n,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return(n=e.call.apply(e,[this].concat(a))||this)._objdataOwn=new de,n._objdataOwnOrg=new de,o(n,"glacierUp",H,t(n)),n.glacierU=void 0,o(n,"glacierMid",q,t(n)),n.glacierM=void 0,o(n,"glacierDown",W,t(n)),n.glacierD=void 0,o(n,"prjCreateSounds",Y,t(n)),o(n,"introSounds",V,t(n)),o(n,"introRoarSounds",X,t(n)),o(n,"shootBounceSounds",J,t(n)),o(n,"shootRoarSounds",Q,t(n)),o(n,"stunEndSounds",K,t(n)),o(n,"summonEndSaySounds",$,t(n)),o(n,"summonLoopSound",ee,t(n)),o(n,"summonStartHitSounds",ne,t(n)),o(n,"tubeSteelExtendSounds",ie,t(n)),o(n,"tubeSteelHitSounds",oe,t(n)),o(n,"tubeSteelReturnSounds",te,t(n)),o(n,"tubeSummonExtendSounds",ae,t(n)),o(n,"tubeSummonReturnSounds",re,t(n)),o(n,"windRoarSounds",se,t(n)),o(n,"glacierSpawnPar",le,t(n)),n}i(n,e);var r=n.prototype;return r.stunRollBack=function(e){this.glacierM&&(this.glacierM.master=null,this.glacierM.die(this.node.parent),this.glacierM=null)},r.specialZombossOnLoad=function(){this.summonLoopSound&&(this.summonLoopSound.loadMode=u.AudioType.DOM_AUDIO),this.worldZombossMechAimLoopSounds.loadMode=u.AudioType.DOM_AUDIO},r.knockBackBy=function(e,n,i,o,t,a){return this.worldPosition},r.knockBackTo=function(e,n,i,o,t){return this.worldPosition},r.walkD=function(){},r.walkR=function(){},r.walkU=function(){},r.walkL=function(){},r.jump=function(e){},r.deathJump=function(){this.explodeAction()},r.specialZombossDieForce=function(){this.stunRollBack(0)},r.moveFromLaneToLane=function(e,n){var i,o;if(this.isAlive()){for(var t=0;t<5;t++)b.getLane(t).deleteZombie(this);null==n||n.addZombie(this),null==n||null==(i=n.UpperLane)||i.addZombie(this),null==n||null==(o=n.LowerLane)||o.addZombie(this)}},r.getIdleC=function(){return this.cIndex},r.specialZombieSetLaneChangeParent=function(e,n){var i=null==n?void 0:n.LowerLane;null!=i&&i.plantUpperLayer?this.node.setParent(i.plantUpperLayer):null!=n&&n.plantUpperLayer&&this.node.setParent(n.plantUpperLayer)},r.windLane=function(e){var n=this,i=b.getLane(e);if(i)for(var o=0;o<=this.mechToChoose;o++){var t=i.chillWind(this.reversed,.02);t.PSD.node.position=t.PSD.node.position.add(new c(700*(this.reversed?1:-1),0,0)),(this.hypnotized?i.zombiePool():i.hypnoZombiePool()).forEach((function(e){e.setFreeze(6,!0),e.setChill(6),e.flying&&e.blowAway("quadIn",1,!1,!n.reversed)}))}},r.setLnCsOccupied=function(){for(var e=this,n=function(n){(e.reversed?[0,1,2]:[6,7,8]).forEach((function(e){b.getLnC(n,e).setOccupied(.1)}))},i=0;i<5;i++)n(i)},r.killInRange=function(){},r.specialZombossUpdateForce=function(e,n,i,o){var t=this;if(this.isAlive()){var a=this.iceageZombossIdleLnC();this.inLnC!=a&&(this.worldPositionX=a.node.worldPosition.x,this.worldPositionY=a.node.worldPosition.y,this.judgeInLnC()),this.glacierU||(this.glacierU=g(this.glacierUp).getComponent(m),this.glacierU.node.parent=b.getLane(0).tombLayer,this.glacierU.node.setSiblingIndex(0)),this.glacierD||(this.glacierD=g(this.glacierDown).getComponent(m),this.glacierD.node.parent=b.getLane(4).tombLayer,this.glacierD.node.setSiblingIndex(0)),[this.glacierU,this.glacierD,this.glacierM].forEach((function(e){e&&(e.worldPosition=t.worldPosition,e.scale=t.scale)}))}},r.specialZombossUpdate=function(e,n,i){},r.iceageZombossIdleLnC=function(){return b.getLnC(2,this.reversed?2:6)},r.shouldDepth=function(){return this.glacierM?0:p.depth(this._worldPositionX,this.inLnC)*this.depthScale},r.specialZombossOnDisable=function(){[this.glacierU,this.glacierM,this.glacierD].forEach((function(e){null==e||e.fadeAway()})),this.glacierU=null,this.glacierM=null,this.glacierD=null},r.specialZombossMechAnimationListener=function(e){switch(e.name){case"windBreathe":y.playArray(this.windRoarSounds,1,.1);break;case"wind01":this.windLane(0),this.windLane(1);break;case"wind12":this.windLane(1),this.windLane(2);break;case"wind23":this.windLane(2),this.windLane(3);break;case"wind34":this.windLane(3),this.windLane(4);break;case"summonReady":y.playArray(this.tubeSummonExtendSounds,1,.1);break;case"tubeExpand":y.playArray(this.tubeSteelExtendSounds,1,.1);break;case"summonStart":y.playArray(this.summonStartHitSounds,1,.1),y.playArray(this.tubeSteelHitSounds,1,.1),this.audioSource.clip=this.summonLoopSound,this.audioSource.loop=!0,this.audioSource.play();break;case"summonStop":this.audioSource.stop();break;case"summonEnd2":y.playArray(this.summonEndSaySounds,1,.1);break;case"steelReturn":y.playArray(this.tubeSteelReturnSounds,1,.1);break;case"tubeSummonReturn":y.playArray(this.tubeSummonReturnSounds,1,.1);break;case"stunEndSound":y.playArray(this.stunEndSounds,1,.1);break;case"glacierM":this.createGlacierM(),this.blocksExtend();break;case"introSound":y.playArray(this.introSounds,1,.1);break;case"introRoarSound":y.playArray(this.introRoarSounds,1,.1);break;case"shootStartSound":y.playArray(this.shootRoarSounds,1,.1);break;case"prjCreate":y.playArray(this.prjCreateSounds,1,.1);break;case"shootSound":y.playArray(this.shootBounceSounds,1,.1);break;default:e.name.includes("block")&&this.readBlockCommand(e.name.replace("block",""))}},r.dealDamage=function(e){return this.glacierM?(this.glacierM.dealdamage(e),this.health):this.defaultZombossDealdamage(e)},r.readBlockCommand=function(e){var n=+e[0],i=+e[1];isNaN(n)||isNaN(i)||this.blockOnPos(n,i)},r.specialZombieOnSquareChange=function(e,n){this.createGlacierM()},r.rushAction=function(){this.willRush=!1,this.ZombossIdling=!1,this.body.playAnimation(f.getRandom(["Wind01","Wind12","Wind23","Wind34"]))},r.createGlacierM=function(){if(!this.glacierM){var e=this.iceageZombossIdleLnC();this.glacierM=g(this.glacierMid).getComponent(S),this.glacierM.node.parent=b.getLane(1).tombLayer,this.glacierM.node.setSiblingIndex(0),this.glacierM.worldPosition=e.node.worldPosition.toVec2(),this.glacierM.master=this,this.glacierM.setToughness(this.objdataOwnOrg.GlacierToughness);var n=g(this.glacierSpawnPar);n.parent=this.node.parent,n.scale=this.node.scale,n.worldPosition=e.node.worldPosition}},r.jumpStart=function(e){},r.getBlockableLnCFromLane=function(e){return(this.reversed?e.laneLnCs.concat():e.laneLnCs.concat().reverse()).find((function(e,n){return 0!=n&&1!=n&&2!=n&&8!=n&&!e.tombStone}))},r.stunEnd=function(){this.defaultZombossStunEnd(),this.isAlive()||this.explodeAction()},r.blockOnPos=function(e,n){this.reversed&&(n=8-n);var i=b.getLnC(e,n);null!=i&&i.isInLawn()&&this.blockOnLnC(i)},r.blockOnLnC=function(e){var n,i;if(console.log(this.objdataOwn.GlacierBlockZombieList),!(e.occupied>0)){var o=!0;if(e.getAllPlants().forEach((function(e){var n;e.kill(),e.isAlive()?o=!1:null==(n=e.node)||n.destroy()})),o){var t=null==(n=e.SpawnTomb(w.glacier_block,!1,!1,!1,!0))?void 0:n.getComponent(L);t&&(t.reversed=this.reversed,t.hypnotized=this.hypnotized,t.zombieList=this.objdataOwn.GlacierBlockZombieList.concat(),t.setInLnC(t.tombInLnC)),(this.hypnotized?e.inLane.zombiePool():e.inLane.hypnoZombiePool()).forEach((function(n){n.bodyRecReal.judgeCrossRec(e.rec)&&(n.setFreeze(6,!0),n.setChill(6))})),(null==(i=e.tombStone)?void 0:i.ID)==w.glacier_block&&e.tombStone.heal(e.tombStone.toughness)}}},r.blocksExtend=function(){for(var e=0;e<5;e++){var n=b.getLane(e),i=this.getBlockableLnCFromLane(n);i&&this.blockOnLnC(i),this.mechToChoose>0&&this.windLane(e)}},r.detectRushEnemies=function(){return!0},r.summonAction=function(){if(this.isAlive()){for(var e=NaN,n=5;n>0;n--){for(var i=this.reversed?8-n:n,o=0;o<5;o++){var t=b.getLnC(o,i);if(t.tombable(!0,!1)&&t.occupied<=0){e=n;break}}if(!isNaN(e))break}console.log(e),isNaN(e)||(this.ZombossIdling=!1,this.body.playAnimation("Summon"+e.toString(),1/0),Math.random()<this.ChanceToLaugh&&this.playOneShot(f.getRandom(this.worldZombossShootSaySounds),1,!0),this.shooting=!0)}},a(n,[{key:"objdataOwn",get:function(){return this._objdataOwn}},{key:"objdataOwnOrg",get:function(){return this._objdataOwnOrg}}]),n}(d)).prototype,"glacierUp",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=n(N.prototype,"glacierMid",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=n(N.prototype,"glacierDown",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=n(N.prototype,"prjCreateSounds",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),V=n(N.prototype,"introSounds",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),X=n(N.prototype,"introRoarSounds",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),J=n(N.prototype,"shootBounceSounds",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Q=n(N.prototype,"shootRoarSounds",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),K=n(N.prototype,"stunEndSounds",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),$=n(N.prototype,"summonEndSaySounds",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ee=n(N.prototype,"summonLoopSound",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ne=n(N.prototype,"summonStartHitSounds",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ie=n(N.prototype,"tubeSteelExtendSounds",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),oe=n(N.prototype,"tubeSteelHitSounds",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),te=n(N.prototype,"tubeSteelReturnSounds",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ae=n(N.prototype,"tubeSummonExtendSounds",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),re=n(N.prototype,"tubeSummonReturnSounds",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),se=n(N.prototype,"windRoarSounds",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),le=n(N.prototype,"glacierSpawnPar",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=N))||F));r._RF.pop()}}}));

System.register("chunks:///_virtual/IcebergLettuce.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./CharacterManager.ts","./Square.ts","./levelController.ts","./SoundRescourses.ts"],(function(e){var t,o,n,r,i,l,a,s,c,u,d,h,f,p,g,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){i=e.cclegacy,l=e._decorator,a=e.AudioClip,s=e.Color,c=e.tween},function(e){u=e.Plant,d=e.PlantProps},function(e){h=e.Rectangle,f=e.ZombiePool},function(e){p=e.Square},function(e){g=e.LevelPlay},function(e){b=e.sounds}],execute:function(){var C,m,y,S,z,v,w,P,R,L,j;i._RF.push({},"c95deH5SAZNJKYtUXfY8hsa","IcebergLettuce",void 0);var E=l.ccclass,D=l.property,F=function(e){function t(){for(var t,o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))||this).FreezeDuration=10,t.ChillDuration=0,t}return o(t,e),t}(d);e("IcebergLettucePlant",(C=E("IcebergLettuce"),m=D(a),y=D(a),S=D(s),z=D(s),C((P=t((w=function(e){function t(){for(var t,o=arguments.length,i=new Array(o),l=0;l<o;l++)i[l]=arguments[l];return t=e.call.apply(e,[this].concat(i))||this,n(t,"foodSound",P,r(t)),n(t,"foodBlastSound",R,r(t)),t._objdataOwn=new F,n(t,"freezeColor1",L,r(t)),n(t,"freezeColor2",j,r(t)),t.detector=void 0,t.screenColor=new s(0,0,0,0),t.screenColorTween=void 0,t.triggerer=null,t}o(t,e);var i=t.prototype;return i.specialPlantOnEnable=function(){this.eatDamagable=!1,this.eaterDetectable=!1,this.smasherDetectable=!1,this.screenColorTween=null,this.triggerer=null},i.specialPlantFood=function(e){this.anmControl.playAnimation("Food",1,0,.8),b.playOneShot(this.foodSound,1,.1),this.screenColor=new s(this.freezeColor1.r,this.freezeColor1.g,this.freezeColor1.b,0);var t=c(this.screenColor).to(.5/this.anmControl.db.timeScale,{a:this.freezeColor1.a}).start();this.screenColorTween=t,this.bodyTweens.push(t)},i.freezeZombie=function(e){e.setFreeze(this._objdataOwn.FreezeDuration),e.setChill(this._objdataOwn.ChillDuration)},i.specialPlantOnSquareChange=function(e,t){this.detector=h.createRectangleNodeCenter(t.node,.5*p.SquareWidth,p.SquareHeight),this.shouldSpeedScale()>0&&this.detectEnemy()},i.specialPlantLateUpdate=function(e){this.screenColor.a>0&&this.screenColorTween&&g.screenFlashColors.push(this.screenColor)},i.animationListener=function(e){var t=this;if("explode"==e.name){var o,n=h.createRectangleNodeCenter(this.inLnC.node,p.SquareWidth,p.SquareHeight);this.inLane.tntPool().forEach((function(e){e.ignited&&n.judgeInRecP(e.ropeSideWP)&&(e.ignited=!1)}));var r=null==(o=this.inLane)?void 0:o.zombiePool().sort((function(e,t){var o,n,r=(null==(o=e.bodyRec)?void 0:o.prjX().x)-(null==(n=t.bodyRec)?void 0:n.prjX().x);return r||(r=-1),r})).filter((function(e){var t,o;return!e.flying&&e.setFreeze(-1)&&e.bodyRec.judgeCrossRec(n)&&(!i||(null==(t=i.bodyRec)?void 0:t.prjX().x)>(null==(o=e.bodyRec)?void 0:o.prjX().x))})),i=null==r?void 0:r.find((function(e){return e.shouldSpeedScale()*e.randomSpeed>0}));i||(i=null==r?void 0:r.find((function(e){return!0}))),i?this.freezeZombie(i):this.triggerer&&this.freezeZombie(this.triggerer)}if("foodExplode"==e.name){b.playOneShot(this.foodBlastSound,1,.1),f.pool().concat().forEach((function(e){e.flying||t.freezeZombie(e)})),p.getAllLane().forEach((function(e){e.tntPool().forEach((function(e){e.ignited=!1}))}));var l=c(this.screenColor).to(1/60/this.anmControl.db.timeScale,{r:this.freezeColor2.r,g:this.freezeColor2.g,b:this.freezeColor2.b,a:this.freezeColor2.a}).to(1/4/this.anmControl.db.timeScale,{a:0}).call((function(){t.screenColorTween=null})).start();this.bodyTweens.push(l),this.screenColorTween=l}"foodEnd"==e.name&&this.foodEnd()},i.detectEnemy=function(){var e,t=this,o=!1;null==(e=this.inLane)||e.zombiePool().forEach((function(e){o||e.shouldSpeedScale()*e.randomSpeed>0&&!e.flying&&e.bodyRec.judgeCrossRec(t.detector)&&(o=!0,t.triggerer=e)})),o||(o=this.inLane.tntPool().some((function(e){return e.ignited&&t.detector.judgeInRecP(e.ropeSideWP)}))),o&&this.die()},i.specialPlantUpdate=function(e,t,o){this.fooding||this.sheepend||this.detectEnemy()},t}(u)).prototype,"foodSound",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=t(w.prototype,"foodBlastSound",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=t(w.prototype,"freezeColor1",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new s(0,0,0,0)}}),j=t(w.prototype,"freezeColor2",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new s(0,0,0,0)}}),v=w))||v));i._RF.pop()}}}));

System.register("chunks:///_virtual/Icetile.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CharacterManager.ts","./NodePools.ts","./Square.ts"],(function(t){var e,n,i,o,s,l,a,r,h,c,d;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,i=t._decorator,o=t.UITransform,s=t.tween,l=t.Sprite,a=t.Color,r=t.Component},function(t){h=t.Icetiles},function(t){c=t.NodePools},function(t){d=t.Square}],execute:function(){var u;n._RF.push({},"9855dVIa2dFjLIZERgm5/ph","Icetile",void 0);var p=i.ccclass;i.property,t("Icetile",p("Icetile")(u=function(t){function n(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))||this).master=null,e.length=0,e.dead=!1,e.lane=void 0,e.lnc=void 0,e}e(n,t);var i=n.prototype;return i.onDisable=function(){this.getComponent(o).width=0,this.length=0},i.onEnable=function(){h.registerIce(this),this.dead=!1},i.die=function(){var t=this;this.dead||(this.dead=!0,s(this.node.getComponent(l).color).to(.5,{a:0}).call((function(){t.length=0,t.getComponent(o).width=0,t.node.getComponent(l).color=new a(255,255,255,255),c.destroyPooly(t.node)})).start(),this.master&&(this.master=null),this.lnc&&(this.lnc.inLane.deleteIceTile(this),this.lnc.iceTile=null,this.lnc.readIndex(),this.lnc=null),this.lane&&(this.lane.deleteIceTile(this),this.lane.iceTile=null,this.lane=null),h.deleteIce(this))},i.update=function(t){if(!this.dead&&this.master&&this.master.isAlive()){var e=(this.lane?2:1)*d.SquareWidth;this.length=Math.min(e,Math.max(this.node.worldPosition.x-this.master.node.worldPosition.x,this.length))}this.dead||(this.getComponent(l).color=new a(255,255,255,255));var n=164.5*this.length/d.SquareWidth;this.getComponent(o).width=n},n}(r))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/Iceweed.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Spikeweed.ts","./CharacterManager.ts","./SoundRescourses.ts","./Projectiles.ts","./Square.ts","./Character.ts"],(function(e){var t,a,n,i,o,s,r,l,c,u,d,h,p,f,w,S,y,b,m,g;return{setters:[function(e){t=e.applyDecoratedDescriptor,a=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized,o=e.createClass,s=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){l=e.cclegacy,c=e._decorator,u=e.AudioClip,d=e.Vec2},function(e){h=e.spikeweedSound,p=e.SpikeweedPlant,f=e.SpikeweedProps},function(e){w=e.spikeweed,S=e.ZombieDamageDetails},function(e){y=e.sounds},function(e){b=e.ProjectileShootingFunctions},function(e){m=e.Square},function(e){g=e.CharacterType}],execute:function(){var k,P,_,D,v,O,j,L,R,A,z,C,F,E;l._RF.push({},"950a0AX0d5KA5fHRPOReDEP","Iceweed",void 0);var I=c.ccclass,W=c.property,x=e("iceweedSound",(k=I("iceweedSound"),P=W([u]),_=W([u]),D=W([u]),k((j=t((O=function(e){function t(){for(var t,a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return t=e.call.apply(e,[this].concat(o))||this,n(t,"waterSound",j,i(t)),n(t,"sawStartSound",L,i(t)),n(t,"sawLPSound",R,i(t)),t}a(t,e);var o=t.prototype;return o.playAttack=function(){y.playArray(this.attackSound,.4,NaN,.4,!0)},o.playWater=function(){y.playArray(this.waterSound,1,.1)},o.playSawStart=function(){y.playArray(this.sawStartSound,1,.1)},o.playSawLP=function(){y.playArray(this.sawLPSound,1,NaN,.8)},t}(h)).prototype,"waterSound",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=t(O.prototype,"sawStartSound",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=t(O.prototype,"sawLPSound",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=O))||v)),M=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(t=e.call.apply(e,[this].concat(n))||this).Damage=10,t.DamagePowered=20,t.AttackInterval=.5,t.ChillDuration=3,t.FreezeDuration=0,t.PlantfoodMaxSpike=3,t.PlantfoodDamageReceiveMult=.2,t.PlantfoodDPS=200,t.PlantfoodDragSPS=6,t.SawType="iceweed_saw",t}return a(t,e),t}(f);e("IceweedPlant",(A=I("IceweedPlant"),z=W(x),A((E=t((F=function(e){function t(){for(var t,a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return t=e.call.apply(e,[this].concat(o))||this,n(t,"soundRes",E,i(t)),t.spikeLeft=3,t._objdataOwn=new M,t.playsIdleWhenFoodEnd=!1,t.spike1_slots=[],t.spike2_slots=[],t}a(t,e);var l=t.prototype;return l.damageScale=function(e,t){return this.spikeLeft>=2?this.objdataOwn.PlantfoodDamageReceiveMult:1},l.damageOnZombie=function(e,t){w.stabOnZombie(this,e,t),e.setChill(this.objdataOwn.ChillDuration),e.setFreeze(this.objdataOwn.FreezeDuration)},l.pullZombies=function(e){var t=this,a=this._objdataOwn.PlantfoodDPS*e;this._dmgScale&&(a*=this._dmgScale);var n=new S(a);this.inLane.zombiePool().forEach((function(e){e.flying||e.bodyRec.judgeCrossRec(t.detector)&&(e.setStun(.2),t.damageOnZombie(e,n.damage))}))},l.normalSmash=function(e){var t=this.damage;this._dmgScale&&(t*=this._dmgScale),w.stabOnZombie(null,e,t),this.fooding||this.invincible||this.setSpikeSlot(this.spikeLeft-1),e.setChill(this.objdataOwn.ChillDuration),e.setFreeze(this.objdataOwn.FreezeDuration)},l.specialSpikeweedOnEnable=function(){this.setSpikeSlot()},l.specialSpikeWeedAnimationListener=function(e){switch(e.name){case"water":this.soundRes.playWater();break;case"saw_start":this.soundRes.playSawStart();break;case"saw_loop":this.soundRes.playSawLP();break;case"foodEnd":this.soundRes.playFoodEnd(),this.foodEnd();break;case"shoot":this._shoot()}},l._shoot=function(){var e=s(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.shootOnePea(this.objdataOwn.SawType,this.worldPosition,0,this.inLane.prjLayer,new d(this.objdataOwn.PlantfoodDragSPS/60*m.SquareWidth,0),g.zombie);case 2:e.sent;case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),l.specialPlantFood=function(e){this.setSpikeSlot(this.objdataOwn.PlantfoodMaxSpike),this.anmControl.playAnimation("Food",1)},l.specialSpikeWeedOnLoad=function(){var e=this;this.anmControl.db.armature().getSlots().forEach((function(t){var a=t.name;a.endsWith("_S1")?e.spike1_slots.push(t):a.endsWith("_S2")&&e.spike2_slots.push(t)}))},l.setSpikeSlot=function(e){void 0===e&&(e=1),e=Math.ceil(e),this.spike1_slots.forEach((function(t){t._setDisplayIndex(e>=2?1:0)})),this.spike2_slots.forEach((function(t){t._setDisplayIndex(e>=3?1:0)})),this.spikeLeft=e,e<=0&&(this.spikeLeft=0,this.die())},o(t,[{key:"damage",get:function(){return this.spikeLeft>=2?this.objdataOwn.DamagePowered:this.objdataOwn.Damage}},{key:"objdataOwn",get:function(){return this._objdataOwn}}]),t}(p)).prototype,"soundRes",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new x}}),C=F))||C));l._RF.pop()}}}));

System.register("chunks:///_virtual/iceweedSaw.ts",["./rollupPluginModLoBabelHelpers.js","cc","./commonShot.ts","./Zombie.ts","./CharacterManager.ts","./Character.ts","./Projectiles.ts","./SoundRescourses.ts"],(function(e){var t,o,n,i,a,r,c,s,l,u,d,h,f,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized,a=e.createClass},function(e){r=e.cclegacy,c=e._decorator,s=e.AudioClip},function(e){l=e.commonShot},function(e){u=e.Zombie},function(e){d=e.ZombieDamageDetails},function(e){h=e.CharacterType},function(e){f=e.ProjectileProps},function(e){p=e.sounds}],execute:function(){var g,y,m,b,v;r._RF.push({},"421be0TzCFHMKTKO1Vynjmt","iceweedSaw",void 0);var S=c.ccclass,k=c.property,w=function(e){function t(){for(var t,o=arguments.length,n=new Array(o),i=0;i<o;i++)n[i]=arguments[i];return(t=e.call.apply(e,[this].concat(n))||this).DPS=200,t}return o(t,e),t}(f);e("iceweedSaw",(g=S("iceweedSaw"),y=k([s]),g((v=t((b=function(e){function t(){for(var t,o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))||this)._objdata=new w,n(t,"loopSounds",v,i(t)),t}o(t,e);var r=t.prototype;return r.detectEnemy=function(e){},r.hitFloor=function(e,t){},r.onMoving=function(e,t,o){var n,i,a=this;if(this.inLane){null!=(n=this.targetLocked)&&null!=(n=n.getComponent(u))&&n.dead&&(this.targetLocked=null),p.playArray(this.loopSounds,1,NaN,.8),this.height_depth=0;var r,c,s,l=new d(this.objdataOwn.DPS*this.damageScale*(this.havePeaBuff?1.5:1)*o,this.armorProtection,this.armorKnockSound,this.bodyKnockSound,null,this.damageType,!0,!0),f=this.bodyRec(),g=[];(this.enemyType==h.zombie?null==(r=this.inLane)?void 0:r.zombiePool():null==(c=this.inLane)?void 0:c.hypnoZombiePool()).forEach((function(e){e.knockBackable&&e.specialZombieKnockbackable()?(!a.targetLocked||a.targetLocked&&e.node==a.targetLocked)&&f.judgeCrossRec(e.bodyRec)&&g.push(e):!e.flying&&f.judgeCrossRec(e.bodyRec)&&(e.dealDamage(l),e.setChill(a.chill),e.setFreeze(a.freeze))}));var y=null==(s=this.inLnC)?void 0:s.isInLawn();if(g.length){var m=t.x-e.x;g.forEach((function(e){e.dealDamage(l),e.setChill(a.chill),e.setFreeze(a.freeze),e.setStun(.1),y&&(e.worldPositionX+=m)}))}var b=null;null==(i=this.inLane)||i.tombPool(this.enemyType==h.plant?1:0).forEach((function(e){f.judgeCrossRec(e.bodyRec)&&(!a.targetLocked||a.targetLocked&&e.node==a.targetLocked)&&(b=e)})),b&&(b.dealDamage(l),this.dealSplashDamage(null,b))}},a(t,[{key:"objdataOwn",get:function(){return this._objdata}}]),t}(l)).prototype,"loopSounds",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),m=b))||m));r._RF.pop()}}}));

System.register("chunks:///_virtual/Imitater.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./Plants.ts","./SoundRescourses.ts","./ArrayGet.ts","./levelController.ts"],(function(t){var n,i,e,a,r,l,s,o,u,h,c,p,d,m,I,f;return{setters:[function(t){n=t.applyDecoratedDescriptor,i=t.inheritsLoose,e=t.initializerDefineProperty,a=t.assertThisInitialized,r=t.asyncToGenerator,l=t.regeneratorRuntime},function(t){s=t.cclegacy,o=t._decorator,u=t.AudioClip,h=t.Color,c=t.tween},function(t){p=t.Plant},function(t){d=t.PlantEnum},function(t){m=t.sounds},function(t){I=t.ArrayGet},function(t){f=t.LevelPlay}],execute:function(){var v,y,P,b,S;s._RF.push({},"5b8e0YOZhdAJ4Rb0eBnr91b","Imitater",void 0);var C=o.ccclass,w=o.property;t("ImitaterPlant",(v=C("ImitaterPlant"),y=w(u),v((S=n((b=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),l=0;l<i;l++)r[l]=arguments[l];return(n=t.call.apply(t,[this].concat(r))||this).willImitateID=NaN,e(n,"imitateSound",S,a(n)),n.boosted=!1,n.played=!1,n}i(n,t);var s=n.prototype;return s.specialPlantOnEnable=function(){this.invincible=!0,this.played=!1,this.willImitateID=NaN,this.foodable=!1},s.shouldSpeedScale=function(){return 1},s.food=function(t){return this.boosted=!0,!0},s.specialPlantOnSquareChange=function(t,n){var i,e;this.played||(this.anmControl.playAnimation("Death",1),this.played=!0,isNaN(this.willImitateID)&&(this.die(!1,!1,!1),-1==(null==(i=this.plantInLnC)||null==(i=i.imitaterInSquare)?void 0:i.indexOf(this))&&(null==(e=this.plantInLnC)||null==(e=e.imitaterInSquare)||e.push(this))))},s.waterable=function(){return!1},s.getRandomPlantID=function(){for(var t=[],n=0;n<d.amount;n++)t.push(n);for(var i=I.randomize(t),e=0;e<i.length;e++){var a,r=i[e];if(-1==f.component.imitaterExcludePlantList.indexOf(r)&&null!=(a=this.plantInLnC)&&a.putPlantAvailable(!0,r)&&r!=this.ID)return r}return NaN},s.specialPlantOnDisable=function(){var t=this.plantInLnC.imitaterInSquare.indexOf(this);-1!=t&&this.plantInLnC.imitaterInSquare.splice(t,1)},s.transToPlant=function(){var t=r(l().mark((function t(){var n;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.plantInLnC.SpawnPlant(this.willImitateID,!0,!0,!1,!0);case 2:(n=t.sent)&&(this.boosted&&n.food(!0),n.anmControl.db.color=new h(255,255,255,0),c(n.anmControl.db.color).to(.5,{a:255}).start()),this.node.setSiblingIndex(this.node.parent.children.length);case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s.animationListener=function(t){if("showPlant"==t.name){this.die(!1,!1,!1),isNaN(this.willImitateID)&&(this.willImitateID=this.getRandomPlantID()),isNaN(this.willImitateID)||this.transToPlant();var n=this.plantInLnC.imitaterInSquare.indexOf(this);-1!=n&&this.plantInLnC.imitaterInSquare.splice(n,1)}else if("die"==t.name){this.die(),this.deathAnm="";var i=this.plantInLnC.imitaterInSquare.indexOf(this);-1!=i&&this.plantInLnC.imitaterInSquare.splice(i,1),this.node.destroy()}else"sound"==t.name&&m.playOneShot(this.imitateSound,1,.1)},n}(p)).prototype,"imitateSound",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=b))||P));s._RF.pop()}}}));

System.register("chunks:///_virtual/ImpZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts"],(function(i){var n,t,o,s;return{setters:[function(i){n=i.inheritsLoose},function(i){t=i.cclegacy,o=i._decorator},function(i){s=i.Zombie}],execute:function(){var a;t._RF.push({},"7c5a7mtHJ9G076mDgpxjpzb","ImpZombie",void 0);var e=o.ccclass;o.property,i("ImpZombie",e("ImpZombie")(a=function(i){function t(){return i.apply(this,arguments)||this}n(t,i);var o=t.prototype;return o.specialZombieOnEnable=function(){this.specialImpOnEnable()},o.specialImpOnEnable=function(){},o.specialZombieOnLoad=function(){this.specialImpOnLoad()},o.specialImpOnLoad=function(){},o.specialAnimationListener=function(i){this.specialImpAnimationListener(i)},o.specialImpAnimationListener=function(i){},o.onThrownByBull=function(i){this.switching=!0,this.body.playAnimation("Fly",1/0),this.isWalking=!1},o.onThrownByGargantuar=function(i){this.switching=!0,this.body.playAnimation("Fly",1/0),this.isWalking=!1},o.onKickedByAllstar=function(i){this.switching=!0,this.body.playAnimation("Fly",1/0),this.isWalking=!1},o.ImpPlayLandAnmNow=function(){return!0},o.specialZombieOnLanding=function(){this.isAlive()&&this.switching&&this.ImpPlayLandAnmNow()?(this.switching=!0,this.isWalking=!1,this.body.playAnimation("Land",1)):this.judgeDeath(0)},t}(s))||a);t._RF.pop()}}}));

System.register("chunks:///_virtual/InfiNut.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./SoundRescourses.ts","./ArrayGet.ts","./Zombies.ts","./Square.ts"],(function(t){var e,n,i,o,a,r,s,l,h,u,c,d,f,p,m,S,g;return{setters:[function(t){e=t.inheritsLoose,n=t.applyDecoratedDescriptor,i=t.initializerDefineProperty,o=t.assertThisInitialized,a=t.asyncToGenerator,r=t.regeneratorRuntime,s=t.createClass},function(t){l=t.cclegacy,h=t._decorator,u=t.AudioClip},function(t){c=t.PlantProps,d=t.Plant},function(t){f=t.sounds},function(t){p=t.ArrayGet},function(t){m=t.zombies,S=t.ZombieEnum},function(t){g=t.Square}],execute:function(){var y,v,b,A,C,D,w;l._RF.push({},"1f182wTA1BO5by4RJW9lE5N","InfiNut",void 0);var _=h.ccclass,I=h.property,P=t("InfiNutProps",function(t){function n(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))||this).DelayBeforeRegenFromDamage=15,e.DelayBeforeRecoverFromDeath=15,e}return e(n,t),n}(c));t("InfiNutPlant",(y=_("InfiNutPlant"),v=I(u),b=I([u]),y((D=n((C=function(t){function n(){for(var e,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))||this)._objdataOwn=new P,e.foodShields=[],i(e,"shieldSound",D,o(e)),e._hurtStage=0,e.recoverCD=0,i(e,"appearSounds",w,o(e)),e}e(n,t);var l=n.prototype;return l.onDamagedToHealthO=function(){this.hurtStage=3,this.anmControl.playAnimation("Fade",1),this.recoverCD=this._objdataOwn.DelayBeforeRecoverFromDeath*this._cdScale},l.shieldOnDamaged=function(t,e){var n;(e<t.toughness&&(this.foodable=!0),e<=0)?this.killAllShields():null==(n=this.foodShields)||n.forEach((function(t){t.health=e,t.readStage(e)}))},l.specialPlantDie=function(t){this.killAllShields()},l.spawnShields=function(){var t=this;this.killAllShields(),f.playOneShot(this.shieldSound,1,.1),this.foodable=!1,g.getAllLane().forEach(a(r().mark((function e(n){var i,o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.LaneIndex,e.next=3,m.spawnZombieFromLane(i,S.future_infinut_shield);case 3:(o=e.sent).canBeKilledByRule=!1,o.worldPositionX=t.worldPositionX,o.coloredWhenHypnotized=!1,o.hypnotized=!0,o.masterPlant=t,t.foodShields.push(o);case 10:case"end":return e.stop()}}),e)}))))},l.killAllShields=function(){this.foodShields.forEach((function(t){t.playDie()})),this.foodShields=[]},l.onDamaged=function(t,e,n){for(var i=0,o=2;o>=0;o--)if(n>o/3*this.toughness){i=2-o;break}this.hurtStage!=i&&(this.hurtStage=i),n<this.toughness&&(this.recoverCD=this._objdataOwn.DelayBeforeRegenFromDamage*this._cdScale)},l.specialPlantFood=function(t){this.hurtStage=0,this.anmControl.playAnimation("Food",1)},l.specialPlantFoodEnd=function(){this.anmControl.playIdle()},l.animationListener=function(t){"shield"==t.name?this.spawnShields():"foodEnd"==t.name&&this.foodEnd()},l.waterable=function(){return 0==this.hurtStage},l.replantable=function(){return 0!=this.hurtStage},l.replant=function(){this.recover()},l.recover=function(){this.health=this.toughness,this.anmControl.playAnimation("Recover",1),this.hurtStage=0},l.specialPlantOnEnable=function(){this._hurtStage=3,this.hurtStage=0,this.recoverCD=0},l.specialPlantUpdateForce=function(t,e,n){var i=this;this.health<this.toughness&&this.recoverCD>0&&(this.recoverCD-=t,this.recoverCD<=0&&this.recover()),this.foodShields.forEach((function(t){t.worldPositionX=i.worldPositionX}))},s(n,[{key:"hurtStage",get:function(){return this._hurtStage},set:function(t){var e,n=!1;switch(t){case 1:this.anmControl.IdleAnim="Idle1",this.anmControl.RandomAnim=[];break;case 2:this.anmControl.IdleAnim="Idle2",this.anmControl.RandomAnim=[];break;case 3:this.anmControl.IdleAnim="Idle_Faded",this.anmControl.RandomAnim=[],n=!0;break;default:this.anmControl.IdleAnim="Idle",this.anmControl.RandomAnim=["Random"],t=0}(this.eaterDetectable=!n,this.smasherDetectable=!n,t!=this._hurtStage)&&(0==t&&3==this._hurtStage?(f.playOneShot(p.getRandom(this.appearSounds),1,.1),this.anmControl.playAnimation("Appear",1)):0==t&&3!=this._hurtStage?this.anmControl.playAnimation("Recover",1):this.anmControl.playIdle(),this._hurtStage=t,null==(e=this.plantInLnC)||e.readIndex());this._hurtStage=t}}]),n}(d)).prototype,"shieldSound",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=n(C.prototype,"appearSounds",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=C))||A));l._RF.pop()}}}));

System.register("chunks:///_virtual/InfoWindow.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var o,t,i,e,r,c,l,a,s,f;return{setters:[function(n){o=n.applyDecoratedDescriptor,t=n.inheritsLoose,i=n.initializerDefineProperty,e=n.assertThisInitialized},function(n){r=n.cclegacy,c=n._decorator,l=n.RichText,a=n.JsonAsset,s=n.ScrollView,f=n.Component}],execute:function(){var u,p,h,b,d,y,g,w,j;r._RF.push({},"264e8wD7/5ECYfL1zW1QkK+","InfoWindow",void 0);var m=c.ccclass,v=c.property;n("InfoWindow",(u=m("InfoWindow"),p=v(l),h=v(a),b=v(s),u((g=o((y=function(n){function o(){for(var o,t=arguments.length,r=new Array(t),c=0;c<t;c++)r[c]=arguments[c];return o=n.call.apply(n,[this].concat(r))||this,i(o,"info",g,e(o)),i(o,"infojson",w,e(o)),i(o,"contents",j,e(o)),o}t(o,n);var r=o.prototype;return r.readObject=function(n){var o="";return n.GameInfo.forEach((function(n){o+="\t"+n+"\n"})),o+="\n\nFaQ: \n",n.FaQ.forEach((function(n){o+="<color=#ff0000>Q: "+n.Q+"</color>",o+="\n",o+="<color=#00a700>A:\n",n.A.forEach((function(n){o+="\t    "+n+"\n"})),o+="\n",o+="</color>"})),o+="\n",o+="<color=#ff0000>"+n.AboutSetting.Title+"\n</color>",n.AboutSetting.Elements.forEach((function(n){o+=n+"\n"})),o+=n.WritenBy},r.scrollToBottom=function(){this.contents.scrollToBottom()},r.scrollToTop=function(){this.contents.scrollToTop()},r.onLoad=function(){this.infojson.json;this.specialOnLoad()},r.specialOnLoad=function(){},r.start=function(){var n=this.infojson.json,o=this.readObject(n);this.info&&(this.info.string=o)},o}(f)).prototype,"info",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=o(y.prototype,"infojson",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=o(y.prototype,"contents",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=y))||d));r._RF.pop()}}}));

System.register("chunks:///_virtual/inGame.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombies.ts"],(function(e){var t,n,o,i,r,s,c,u;return{setters:[function(e){t=e.inheritsLoose,n=e.createClass},function(e){o=e.cclegacy,i=e._decorator,r=e.Enum,s=e.Component},function(e){c=e.ZombieEnum,u=e.zombies}],execute:function(){var a,m;o._RF.push({},"9e3748CYdtChpr6tMbGa862","inGame",void 0);var p=i.ccclass;i.property;r(c);e("inGame",p("inGame")(((m=function(e){function o(){return e.apply(this,arguments)||this}return t(o,e),o.prototype.onLoad=function(){o.component=this},n(o,[{key:"f1BlackList",get:function(){return u.zombossList().concat(c.future_infinut_shield,c.modern_moonflower_shield,c.future_protector_shield)}}]),o}(s)).component=void 0,a=m))||a);o._RF.pop()}}}));

System.register("chunks:///_virtual/IntensiveCarrot.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./SoundRescourses.ts"],(function(n){var t,e,a,i,r,s,o,l,u,c,p,h,d,w;return{setters:[function(n){t=n.applyDecoratedDescriptor,e=n.inheritsLoose,a=n.initializerDefineProperty,i=n.assertThisInitialized,r=n.createClass,s=n.asyncToGenerator,o=n.regeneratorRuntime},function(n){l=n.cclegacy,u=n._decorator,c=n.AudioClip,p=n.Color},function(n){h=n.Plant,d=n.PlantProps},function(n){w=n.sounds}],execute:function(){var f,P,v,S,g;l._RF.push({},"0cb47gGkq9IlY3hrSKPAds+","IntensiveCarrot",void 0);var y=u.ccclass,C=u.property,b=function(n){function t(){for(var t,e=arguments.length,a=new Array(e),i=0;i<e;i++)a[i]=arguments[i];return(t=n.call.apply(n,[this].concat(a))||this).HealthReturns=.5,t}return e(t,n),t}(d);n("IntensiveCarrotPlant",(f=y("IntensiveCarrotPlant"),P=C(c),f((g=t((S=function(n){function t(){for(var t,e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return(t=n.call.apply(n,[this].concat(r))||this)._objdataOwn=new b,t.plantToSpawn=NaN,t.spawnedPlant=void 0,a(t,"digSound",g,i(t)),t}e(t,n);var l=t.prototype;return l.onObjdataSet=function(n,t){},l.specialPlantOnDisable=function(){this.spawnedPlant&&this.spawnedPlant._intensiveCarrot==this&&(this.spawnedPlant._intensiveCarrot=null,this.spawnedPlant.pushTideListener())},l.readLastDeadPlantInLnC=function(n,t){this.plantToSpawn=t},l.shouldSpeedScale=function(){return 1},l.specialPlantOnSquareChange=function(n,t){w.playOneShot(this.digSound,1,.3),this.die(),isNaN(this.plantToSpawn)||this.spawnDeadPlant(t)},l.spawnDeadPlant=function(){var n=s(o().mark((function n(t){var e,a;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,null==t?void 0:t.SpawnPlant(this.plantToSpawn,!1,!0,!1,!0,!1);case 2:(e=n.sent)&&(this.plantToSpawn=NaN,e._intensiveCarrot=this,this.spawnedPlant=e,e.anmControl.db.color=new p(255,255,255,0),a=e.toughness,e.health=a*this.objdataOwn.HealthReturns,e.onDamaged(0,a,e.health));case 4:case"end":return n.stop()}}),n,this)})));return function(t){return n.apply(this,arguments)}}(),l.animationListener=function(n){switch(n.name){case"open":this.spawnedPlant&&this.spawnedPlant._intensiveCarrot==this&&(this.spawnedPlant._intensiveCarrot=null,this.spawnedPlant.pushTideListener())}},r(t,[{key:"objdataOwn",get:function(){return this._objdataOwn}}]),t}(h)).prototype,"digSound",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=S))||v));l._RF.pop()}}}));

System.register("chunks:///_virtual/JackOLantern.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./GroundFire.ts","./CharacterManager.ts","./Square.ts","./NodePools.ts","./ArrayGet.ts","./jackOLanternFoodFireParticle.ts","./SoundRescourses.ts"],(function(t){var n,o,i,e,r,a,s,h,c,l,u,d,f,g,p,m,y,S,C,b,E,D,P;return{setters:[function(t){n=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,e=t.assertThisInitialized,r=t.createClass},function(t){a=t.cclegacy,s=t._decorator,h=t.AudioClip,c=t.Prefab},function(t){l=t.Plant,u=t.PlantProps},function(t){d=t.GroundFireColorEnum,f=t.GroundFireSpreadStyleEnum},function(t){g=t.Rectangle,p=t.ZombiePool,m=t.TombPool,y=t.ZombieDamageDetails,S=t.ZombieDamageType},function(t){C=t.Square},function(t){b=t.instantiatePooly},function(t){E=t.ArrayGet},function(t){D=t.jackOLanternFoodFireParticle},function(t){P=t.sounds}],execute:function(){var w,L,A,R,v,F,O,_,j,z,T,k,I,x,q,G,X,J,M,Z,H,N,W,B;a._RF.push({},"0bb569MPntDr4CPceVEWXbi","JackOLantern",void 0);var U=s.ccclass,V=s.property,K=function(t){function n(){for(var n,o=arguments.length,i=new Array(o),e=0;e<o;e++)i[e]=arguments[e];return(n=t.call.apply(t,[this].concat(i))||this).DPS=300,n.DPSPlantfood=300,n.ShootDuration=4.3,n.RechargeTime=5,n.Distance=3,n.PlantfoodFireCount=9,n}return o(n,t),n}(u),Q=(w=U("jackOLanternSound"),L=V([h]),A=V([h]),R=V(h),v=V([h]),F=V([h]),O=V([h]),w((z=n((j=function(){function t(){i(this,"shootStartSay",z,this),i(this,"shootStart",T,this),i(this,"shootLoop",k,this),i(this,"shootEndSay",I,this),i(this,"shootEnd",x,this),i(this,"foodSay",q,this)}var n=t.prototype;return n.playShootStartSay=function(){P.playArray(this.shootStartSay,.5,1)},n.playShootStart=function(){P.playArray(this.shootStart,.5,1)},n.playShootLoop=function(){var t;P.playOneShot(this.shootLoop,.5,(null==(t=this.shootLoop)?void 0:t.getDuration())-.1)},n.playShootEndSay=function(){P.playArray(this.shootEndSay,.5,1)},n.playShootEnd=function(){P.playArray(this.shootEnd,.5,1)},n.playFoodSay=function(){P.playArray(this.foodSay,.5,1)},t}()).prototype,"shootStartSay",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),T=n(j.prototype,"shootStart",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=n(j.prototype,"shootLoop",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=n(j.prototype,"shootEndSay",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),x=n(j.prototype,"shootEnd",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),q=n(j.prototype,"foodSay",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=j))||_);t("JackOLanternPlant",(G=U("JackOLanternPlant"),X=V(c),J=V(c),M=V(Q),G((N=n((H=function(t){function n(){for(var n,o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return(n=t.call.apply(t,[this].concat(r))||this).fireAnimation=void 0,n._objdataOwn=new K,i(n,"groundFire",N,e(n)),i(n,"foodFire",W,e(n)),n.groundFireParticles=[],i(n,"soundRes",B,e(n)),n.fireThrowAmount=9,n.switching=!1,n.shooting=!1,n.rechargeDuration=5,n.rechargeCD=0,n.fireStage=0,n.shootDuration=4.3,n._shootEndCD=0,n.detectDistance=3,n.detector=new g,n.waterAnmFadeinTime=0,n}o(n,t);var a=n.prototype;return a.specialPlantOnLoad=function(){this.fireAnimation=this.anmControl.db.armature().getSlot("headfire").childArmature.animation},a.specialPlantOnEnable=function(){this.switching=!1,this.shooting=!1,this.groundFireParticles=[],this.rechargeCD=0,this.fireStage=0,this.shootEndCD=this.shootDuration,this.fireAnimation.play("0",1/0)},a.specialPlantDie=function(t){this.shootEnd(!1)},a.specialPlantFood=function(t){var n=this;this.shootEnd(!1),this.restEnd(!1),this.anmControl.playAnimation("Food",1),this.rechargeCD=0,this.soundRes.playFoodSay();var o=[];if(p.inLawnPool().forEach((function(t){o.length>=n.fireThrowAmount||t.inLnC.isInLawn()&&-1==o.indexOf(t.inLnC)&&o.push(t.inLnC)})),o.length<this.fireThrowAmount&&m.pool().forEach((function(t){o.length>=n.fireThrowAmount||t.inLnC.isInLawn()&&-1==o.indexOf(t.inLnC)&&o.push(t.inLnC)})),o.length<this.fireThrowAmount)for(var i=E.randomize(C.getAllLnC()),e=0;o.length<this.fireThrowAmount&&e<i.length;e++){var r=i[e];-1==o.indexOf(r)&&o.push(r)}o.forEach((function(t){var o=b(n.foodFire);o.parent=t.inLane.prjLayer,o.worldPosition=t.plantPoint.worldPosition;var i=o.getComponent(D);i.dps=n._objdataOwn.DPSPlantfood,n._dmgScale&&(i.dps*=n._dmgScale),i.inLnC=t}))},a.animationListener=function(t){"foodEnd"==t.name?this.foodEnd():"Shoot"==t.name&&this._shoot()},a.waterable=function(){return!this.switching&&!this.shooting&&this.rechargeCD<=0},a.shootStart=function(){this.anmControl.playAnimation("AttackStart",1),this.anmControl.IdleAnim="AttackLoop",this.anmControl.RandomAnim=[],this.switching=!0,this.soundRes.playShootStartSay()},a._shoot=function(){var t;this.shooting=!0;var n=null==(t=this.inLnC)||null==(t=t.righter)?void 0:t.addLaneFire(1/0,10,d.yellow,f.right,9,this.detectDistance,!1,this.groundFire);this.groundFireParticles=n,this.soundRes.playShootStart()},a.shootEnd=function(t){void 0===t&&(t=!0),t&&(this.anmControl.playAnimation("AttackEnd",1),this.switching=!0,this.soundRes.playShootEndSay()),this.shooting&&this.soundRes.playShootEnd(),this.anmControl.IdleAnim="Idle",this.anmControl.RandomAnim=["Random"],this.shooting=!1,this.groundFireParticles.forEach((function(t,n){t.duration=.1*n})),this.groundFireParticles=[]},a.restStart=function(){this.switching=!0,this.anmControl.playAnimation("Out",1),this.anmControl.IdleAnim="Idle_Out",this.anmControl.RandomAnim=[],this.rechargeCD=this.rechargeDuration,this.shootEndCD=0},a.restEnd=function(t){void 0===t&&(t=!0),t&&(this.anmControl.playAnimation("Recharge",1),this.switching=!0),this.anmControl.IdleAnim="Idle",this.anmControl.RandomAnim=["Random"],this.rechargeCD=0,this.shootEndCD=this.shootDuration},a.onObjdataSet=function(t,n){this.shootDuration=n.ShootDuration,this.rechargeDuration=n.RechargeTime,this.detectDistance=n.Distance,this.fireThrowAmount=n.PlantfoodFireCount},a.animationOnComplete=function(){this.switching=!1},a.specialPlantOnSquareChange=function(t,n){this.shooting&&this.shootEnd(),this.detector=g.createRectangleNodeSide(this.inLnC.node,(this.detectDistance+.5)*C.SquareWidth,C.SquareHeight)},a.detectEnemy=function(){for(var t=this,n=!1,o=this.inLnC,i=0;i<this.detectDistance;i++){var e,r,a,s;if(null!=(r=o=null==(e=o)?void 0:e.righter)&&r.iceTile)return!0;if(9==(null==(a=o)?void 0:a.cIndex)&&null!=(s=this.inLane)&&s.iceTile)return!0}return this.inLane.zombiePool().forEach((function(o){n||o.bodyRec.judgeCrossRec(t.detector)&&(n=!0)})),n||this.inLane.tombPool().forEach((function(o){n||o.bodyRec.judgeCrossRec(t.detector)&&(n=!0)})),n},a.burnEnemies=function(t){var n=this;this._dmgScale&&(t*=this._dmgScale);var o=[],i=[];this.inLane.zombiePool().forEach((function(t){-1==o.indexOf(t)&&t.bodyRecReal.prjX().y>n.worldPositionX&&t.bodyRecReal.judgeCrossRec(n.inLnC.rec)&&o.push(t)})),this.inLane.tombPool().forEach((function(t){-1==i.indexOf(t)&&t.bodyRec.prjX().y>n.worldPositionX&&t.bodyRec.judgeCrossRec(n.inLnC.rec)&&i.push(t)})),this.groundFireParticles.forEach((function(t){var e=t.inLnC.rec;n.inLane.zombiePool().forEach((function(t){-1==o.indexOf(t)&&t.bodyRecReal.judgeCrossRec(e)&&o.push(t)})),n.inLane.tombPool().forEach((function(t){-1==i.indexOf(t)&&t.bodyRec.judgeCrossRec(e)&&i.push(t)}))}));var e=new y(t,!0,!1,!1,null,S.fire);o.forEach((function(t){t.dealDamage(e)})),i.forEach((function(t){t.dealDamage(e)}))},a.specialPlantOnSheepend=function(){this.shooting&&this.shootEnd()},a.specialPlantUpdate=function(t,n,o){if(!this.fooding&&!this.switching)if(this.rechargeCD<=0){if(this.shooting?(this.burnEnemies(this._objdataOwn.DPS*t),this._cdScale>0&&(this.shootEndCD-=t),this.shootEndCD<=0&&this.shootEnd(),this.soundRes.playShootLoop()):this.shootEndCD<=0?this.restStart():this.shootEndCD=Math.min(this.shootEndCD+t,this.shootDuration),!this.switching){var i=o>0&&this.detectEnemy();i&&!this.shooting?this.shootStart():!i&&this.shooting&&this.shootEnd()}}else this.rechargeCD-=.5*t,this.rechargeCD<=0&&this.restEnd()},r(n,[{key:"shootEndCD",get:function(){return this._shootEndCD},set:function(t){this._shootEndCD=t;for(var n=0;n<=3;n++)if(t<=this.shootDuration/3*n){var o=this.fireStage+0;this.fireStage=3-n;var i=this.fireStage.toString();o!=this.fireStage&&(o>this.fireStage&&0==this.fireStage&&(i="Recharge"),this.fireAnimation.play(i));break}}}]),n}(l)).prototype,"groundFire",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=n(H.prototype,"foodFire",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=n(H.prototype,"soundRes",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Q}}),Z=H))||Z));a._RF.pop()}}}));

System.register("chunks:///_virtual/jackOLanternFoodFireParticle.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ParticleSelfdestroy.ts","./LnC.ts","./CharacterManager.ts","./SoundRescourses.ts","./NodePools.ts","./ArrayGet.ts"],(function(e){var n,i,t,a,o,l,r,s,d,u,c,f,h,p;return{setters:[function(e){n=e.applyDecoratedDescriptor,i=e.inheritsLoose,t=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){o=e.cclegacy,l=e._decorator,r=e.AudioClip},function(e){s=e.ParticleSelfdestroy},function(e){d=e.TileType},function(e){u=e.ZombieDamageDetails,c=e.ZombieDamageType},function(e){f=e.sounds},function(e){h=e.NodePools},function(e){p=e.ArrayGet}],execute:function(){var y,m,S,b,g,L,C,v,D;o._RF.push({},"da443j0zuND9LBTmZC7YR6d","jackOLanternFoodFireParticle",void 0);var P=l.ccclass,w=l.property;e("jackOLanternFoodFireParticle",(y=P("jackOLanternFoodFireParticle"),m=w([r]),S=w([r]),b=w(r),y((C=n((L=function(e){function n(){for(var n,i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return(n=e.call.apply(e,[this].concat(o))||this).shadeSlot=void 0,n.lifeSpan=7.5,n.lifeCD=5,t(n,"spawnSounds",C,a(n)),t(n,"fadeSounds",v,a(n)),t(n,"flameSound",D,a(n)),n.faded=!1,n.inLnC=null,n.dps=300,n}i(n,e);var o=n.prototype;return o.animationOnComplete=function(e){if(this.faded)h.destroyPooly(this.node);else{var n="Idle";n+=Math.floor(2*Math.random()).toString(),this.db.playAnimation(n,1)}},o.specialOnLoad=function(){var e;this.shadeSlot=null==(e=this.db)||null==(e=e.armature())?void 0:e.getSlot("shade")},o.animationListener=function(e){"flame"==e.name&&f.playOneShot(this.flameSound,1,.3)},o.specialOnEnable=function(){this.lifeCD=this.lifeSpan,f.playOneShot(p.getRandom(this.spawnSounds),1,.3),this.faded=!1;var e="Start";e+=Math.floor(2*Math.random()).toString(),this.db.playAnimation(e,1)},o.fadeAway=function(){this.faded||(f.playOneShot(p.getRandom(this.fadeSounds),1,.3),this.db.playAnimation("Fade",1/0),this.faded=!0)},o.update=function(e){var n,i,t;if(this.lifeCD>0&&(this.lifeCD-=e,this.lifeCD<=0&&this.fadeAway()),!this.faded&&null!=(n=this.inLnC)&&n.isInLawn()){var a,o,l,r=this.inLnC.rec,s=[];null==(a=this.inLnC)||null==(a=a.inLane)||a.zombiePool().forEach((function(e){-1==s.indexOf(e)&&e.bodyRec.judgeCrossRec(r)&&s.push(e)}));var f=new u(this.dps*e,!0,!1,!1,null,c.fire);s.forEach((function(e){e.dealDamage(f)})),null==(o=this.inLnC)||null==(o=o.tombStone)||o.dealDamage(f),null==(l=this.inLnC)||null==(l=l.iceTile)||l.die()}var h=null==(i=this.inLnC)?void 0:i.getTileType(),p=!1;h!=d.sea&&h!=d.sky||(p=!0),null==(t=this.shadeSlot)||t._setDisplayIndex(p?-1:0)},n}(s)).prototype,"spawnSounds",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=n(L.prototype,"fadeSounds",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=n(L.prototype,"flameSound",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=L))||g));o._RF.pop()}}}));

System.register("chunks:///_virtual/Jalapeno.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CherryBomb.ts","./GroundFire.ts","./GroundFiresManager.ts","./SoundRescourses.ts"],(function(n){var t,i,o,e,r,a,s,u,l,d,c,h,p;return{setters:[function(n){t=n.inheritsLoose,i=n.applyDecoratedDescriptor,o=n.initializerDefineProperty,e=n.assertThisInitialized},function(n){r=n.cclegacy,a=n._decorator,s=n.AudioClip},function(n){u=n.CherryBombProps,l=n.CherryBombPlant},function(n){d=n.GroundFireColorEnum,c=n.GroundFireSpreadStyleEnum},function(n){h=n.GroundFiresManager},function(n){p=n.sounds}],execute:function(){var m,y,b,f,v;r._RF.push({},"348e8m5FjRGQpOqtrn3/MP2","Jalapeno",void 0);var g=a.ccclass,F=a.property,P=n("jalapeno",function(){function n(){}return n.burnFromLnC=function(n,t,i,o,e,r,a,s,u,l,p,m,y,b,f){void 0===e&&(e=10),void 0===r&&(r=d.yellow),void 0===a&&(a=c.cross),void 0===s&&(s=9),void 0===u&&(u=9),void 0===l&&(l=[]),void 0===p&&(p=0),void 0===m&&(m=!1),void 0===y&&(y=!1),void 0===b&&(b=!0),void 0===f&&(f=null);var v=n.addLaneFire(o,e,r,a,s,u,!1,f),g=new S;return g.groundFires=v,g.damage=t,g.duration=o,g.armorProtection=i,g.zombieWhiteList=l,g.hypnoIncluded=p,g.isDPS=y,g.plantsIncluded=m,g.burnsFlying=b,h.component.registerJalapenoFire(g),g},n}()),S=n("jalapenoFire",(function(){this.groundFires=[],this.recs=[],this.damage=1800,this.duration=3,this.armorProtection=!1,this.dealtZombies=[],this.dealtTombs=[],this.dealtPlants=[],this.isDPS=!1,this.zombieWhiteList=[],this.hypnoIncluded=0,this.plantsIncluded=!1,this.burnsFlying=!0})),w=n("JalapenoProps",function(n){function i(){for(var t,i=arguments.length,o=new Array(i),e=0;e<i;e++)o[e]=arguments[e];return(t=n.call.apply(n,[this].concat(o))||this).Duration=5,t}return t(i,n),i}(u));n("JalapenoPlant",(m=g("JalapenoPlant"),y=F(s),m((v=i((f=function(n){function i(){for(var t,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return(t=n.call.apply(n,[this].concat(r))||this)._objdataOwn=new w,o(t,"burnSound",v,e(t)),t}return t(i,n),i.prototype.explode=function(){var n=this._objdataOwn.Damage;this._dmgScale&&(n*=this._dmgScale),this.deathAnm="Death",p.playOneShot(this.burnSound,1,.1),P.burnFromLnC(this.inLnC,n,!1,this._objdataOwn.Duration,15,d.yellow,c.split,18,9),this.die()},i}(l)).prototype,"burnSound",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=f))||b));r._RF.pop()}}}));

System.register("chunks:///_virtual/JSONs.ts",["./rollupPluginModLoBabelHelpers.js","cc","./levelController.ts","./KeyListener.ts"],(function(e){var r,t,i,o,l,n,s,a,p,u,c;return{setters:[function(e){r=e.createClass,t=e.applyDecoratedDescriptor,i=e.inheritsLoose,o=e.initializerDefineProperty,l=e.assertThisInitialized},function(e){n=e.cclegacy,s=e._decorator,a=e.JsonAsset,p=e.Component},function(e){u=e.LevelPlay},function(e){c=e.KeyListener}],execute:function(){var b,P,m,y,j,f,d,h,g,T,v,z,w,A,G,I,L,D,Z,M,O,R,S,B,N,F,C,J,K,_,k,x,E,H,U,q,Q,V,W,X,Y,$,ee,re,te;n._RF.push({},"0f436UEidtBjp4rKi+hdKBo","JSONs",void 0);var ie=s.ccclass,oe=s.property,le=e("PvZ2ObjectContainer",function(){function e(){}return r(e,null,[{key:"CurrentLevel",get:function(){var e;return c.isInGame&&null!=(e=u.component)&&e.currentLevelObjects?u.component.currentLevelObjects:[]}}]),e}());le.ArmorProps=[],le.ArmorTypes=[],le.LevelModules=[],le.PlantAlmanac=[],le.ZombieAlmanac=[],le.PlantProps=[],le.ZombieProps=[],le.ZombieTypes=[],le.BoardGridMaps=[],le.PropertySheets=[],le.GridItemProps=[],le.GridItemTypes=[],le.GridItemFeatures=[],le.PortalProps=[],le.PortalTypes=[],le.RectangleProps=[],le.DinosaurProps=[],le.DinosaurTypes=[],le.ProjectileProps=[],le.ProjectileTypes=[],le.NarrativeList=[];e("PvZ2Object",function(){function e(){this.aliases=[],this.objclass="",this.objdata={}}return e.getObjects=function(e,r,t){return void 0===t&&(t=null),r.filter((function(r){return(!t||r.objclass==t)&&(null==r?void 0:r.aliases)&&-1!=r.aliases.indexOf(e)}))},e.getObjectsByRTID=function(e,r){if(void 0===r&&(r=null),null==e||!e.includes("RTID"))return[];var t=e.replace("RTID(","").replace(")","").split("@");if(2!=t.length)return[];var i=t[0],o=t[1];"."==o&&(o="CurrentLevel");var l=le[o];return(null==l?void 0:l.length)>0?this.getObjects(i,l,r):[]},e}()),b=ie("JSONs"),P=oe(a),m=oe(a),y=oe(a),j=oe(a),f=oe(a),d=oe(a),h=oe(a),g=oe(a),T=oe(a),v=oe(a),z=oe(a),w=oe(a),A=oe(a),G=oe(a),I=oe(a),L=oe(a),D=oe(a),Z=oe(a),M=oe(a),O=oe(a),R=oe(a),b((N=t((B=function(e){function r(){for(var r,t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];return r=e.call.apply(e,[this].concat(i))||this,o(r,"LevelModules",N,l(r)),o(r,"GridItemFeatures",F,l(r)),o(r,"PlantAlmanac",C,l(r)),o(r,"PlantProps",J,l(r)),o(r,"ZombieAlmanac",K,l(r)),o(r,"ZombieProps",_,l(r)),o(r,"ZombieTypes",k,l(r)),o(r,"BoardGridMaps",x,l(r)),o(r,"PropertySheets",E,l(r)),o(r,"GridItemProps",H,l(r)),o(r,"GridItemTypes",U,l(r)),o(r,"PortalProps",q,l(r)),o(r,"PortalTypes",Q,l(r)),o(r,"RectangleProps",V,l(r)),o(r,"DinosaurProps",W,l(r)),o(r,"DinosaurTypes",X,l(r)),o(r,"ProjectileProps",Y,l(r)),o(r,"ProjectileTypes",$,l(r)),o(r,"ArmorProps",ee,l(r)),o(r,"ArmorTypes",re,l(r)),o(r,"NarrativeList",te,l(r)),r}i(r,e);var t=r.prototype;return t.onLoad=function(){le.LevelModules=this.LevelModules.json.objects,le.PlantAlmanac=this.PlantAlmanac.json.objects,le.PlantProps=this.PlantProps.json.objects,le.ZombieAlmanac=this.ZombieAlmanac.json.objects,le.ZombieProps=this.ZombieProps.json.objects,le.ZombieTypes=this.ZombieTypes.json.objects,le.GridItemFeatures=this.GridItemFeatures.json.GRIDITEMS,le.BoardGridMaps=this.BoardGridMaps.json.objects,le.PropertySheets=this.PropertySheets.json.objects,le.GridItemProps=this.GridItemProps.json.objects,le.GridItemTypes=this.GridItemTypes.json.objects,le.PortalProps=this.PortalProps.json.objects,le.PortalTypes=this.PortalTypes.json.objects,le.RectangleProps=this.RectangleProps.json.objects,le.DinosaurProps=this.DinosaurProps.json.objects,le.DinosaurTypes=this.DinosaurTypes.json.objects,le.ProjectileProps=this.ProjectileProps.json.objects,le.ProjectileTypes=this.ProjectileTypes.json.objects,le.NarrativeList=this.NarrativeList.json.objects,le.ArmorProps=this.ArmorProps.json.objects,le.ArmorTypes=this.ArmorTypes.json.objects},t.start=function(){},r}(p)).prototype,"LevelModules",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=t(B.prototype,"GridItemFeatures",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=t(B.prototype,"PlantAlmanac",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=t(B.prototype,"PlantProps",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=t(B.prototype,"ZombieAlmanac",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=t(B.prototype,"ZombieProps",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=t(B.prototype,"ZombieTypes",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=t(B.prototype,"BoardGridMaps",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=t(B.prototype,"PropertySheets",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=t(B.prototype,"GridItemProps",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=t(B.prototype,"GridItemTypes",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=t(B.prototype,"PortalProps",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=t(B.prototype,"PortalTypes",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=t(B.prototype,"RectangleProps",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=t(B.prototype,"DinosaurProps",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=t(B.prototype,"DinosaurTypes",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=t(B.prototype,"ProjectileProps",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=t(B.prototype,"ProjectileTypes",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ee=t(B.prototype,"ArmorProps",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),re=t(B.prototype,"ArmorTypes",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),te=t(B.prototype,"NarrativeList",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=B));n._RF.pop()}}}));

System.register("chunks:///_virtual/KernelPult.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CabbagePult.ts","./SoundRescourses.ts"],(function(n){var t,e,o,r,a,i,u,l,c,s,b;return{setters:[function(n){t=n.applyDecoratedDescriptor,e=n.inheritsLoose,o=n.initializerDefineProperty,r=n.assertThisInitialized},function(n){a=n.cclegacy,i=n._decorator,u=n.AudioClip},function(n){l=n.cabbagePultSound,c=n.CabbagePultPlant,s=n.CabbagePultProps},function(n){b=n.sounds}],execute:function(){var p,d,h,f,y,g,m,P,L,C,v,w,A,S;a._RF.push({},"81c6aTRPtdNfY/ovuQuiSLQ","KernelPult",void 0);var _=i.ccclass,R=i.property,T=function(n){function t(){for(var t,e=arguments.length,o=new Array(e),r=0;r<e;r++)o[r]=arguments[r];return(t=n.call.apply(n,[this].concat(o))||this).ChanceToButter=.3,t}return e(t,n),t}(s),z=(p=_("KernelPultSound"),d=R([u]),h=R([u]),p((g=t((y=function(n){function t(){for(var t,e=arguments.length,a=new Array(e),i=0;i<e;i++)a[i]=arguments[i];return t=n.call.apply(n,[this].concat(a))||this,o(t,"foodLaunchSounds",g,r(t)),o(t,"foodChargeSounds",m,r(t)),t}e(t,n);var a=t.prototype;return a.playFoodLaunch=function(){b.playArray(this.foodLaunchSounds,1,.5)},a.playFoodCharge=function(){b.playArray(this.foodChargeSounds,1,.5)},t}(l)).prototype,"foodLaunchSounds",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),m=t(y.prototype,"foodChargeSounds",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),f=y))||f);n("KernelPultPlant",(P=_("KernelPultPlant"),L=R(z),C=R(Number),P((A=t((w=function(n){function t(){for(var t,e=arguments.length,a=new Array(e),i=0;i<e;i++)a[i]=arguments[i];return t=n.call.apply(n,[this].concat(a))||this,o(t,"soundRes",A,r(t)),t._objdataOwn=new T,o(t,"minLobbingAnmTime",S,r(t)),t}e(t,n);var a=t.prototype;return a._lobCabbageAnimation=function(){var n=Math.random()>this._objdataOwn.ChanceToButter?"Lob":"Lob_Butter";this.anmControl.playAnimation(n,1,.1,Math.max(this.minLobbingAnmTime/this.lobCD,1))},a.specialAnimationListener=function(n){"Lob_Butter"==n.name?this._lob(null,this._objdataOwn.CabbageTypePlantfood):"foodLobSound"==n.name?this.soundRes.playFoodLaunch():"charge"==n.name&&this.soundRes.playFoodCharge()},t}(c)).prototype,"soundRes",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new z}}),S=t(w.prototype,"minLobbingAnmTime",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2.7}}),v=w))||v));a._RF.pop()}}}));

System.register("chunks:///_virtual/KeyListener.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ElectronAPI.ts","./SettingWindow.ts","./levelController.ts","./UI.ts","./MouseBlocker.ts","./SoundManager.ts","./SoundsController.ts","./Levels.ts","./FrontYard.ts","./LoaderFlower.ts","./MultiLanguage.ts","./PlayerProperties.ts","./Plants.ts","./NodePools.ts","./Zombies.ts","./Dinosaurs.ts","./Projectiles.ts"],(function(e){var n,t,a,r,s,i,o,c,u,l,h,d,_,p,m,S,T,f,g,E,v,G,C,L,K,I,F,y,b,w,M,D,R,A,Y,N,B,P,U,O,H,k,x;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,a=e.initializerDefineProperty,r=e.assertThisInitialized,s=e.createClass},function(e){i=e.cclegacy,o=e._decorator,c=e.Prefab,u=e.Label,l=e.UIOpacity,h=e.find,d=e.resources,_=e.director,p=e.Sprite,m=e.Color,S=e.tween,T=e.input,f=e.Input,g=e.instantiate,E=e.Vec3,v=e.KeyCode,G=e.game,C=e.Component},function(e){L=e.default},function(e){K=e.Setting,I=e.SettingWindow},function(e){F=e.LevelPlay},function(e){y=e.setExitToMapScene},function(e){b=e.MouseBlocker},function(e){w=e.SoundManager,M=e.MusicEnum},function(e){D=e.MusicController},function(e){R=e.getLevelJsonAsset},function(e){A=e.FrontYard,Y=e.LawnStageEnum},function(e){N=e.LoaderFlower},function(e){B=e.MultiLanguage},function(e){P=e.AllPlayerProperties},function(e){U=e.plants},function(e){O=e.NodePools},function(e){H=e.zombies},function(e){k=e.dinosaurs},function(e){x=e.projectileRes}],execute:function(){var Z,W,j,z,Q,V,X,J,q,$,ee,ne,te,ae;i._RF.push({},"2d802LSjHZPFZ2AdbHZD499","KeyListener",void 0);var re=o.ccclass,se=o.property,ie=e("CursorStyleEnum",function(e){return e[e.default=0]="default",e[e.soft=1]="soft",e[e.unchanged=2]="unchanged",e}({}));e("KeyListener",(Z=re("KeyListener"),W=se(c),j=se(N),z=se(u),Q=se(l),V=se(Boolean),Z(((ae=function(e){function n(){for(var n,t=arguments.length,s=new Array(t),i=0;i<t;i++)s[i]=arguments[i];return(n=e.call.apply(e,[this].concat(s))||this).canvasWidget=void 0,a(n,"fpsShower",q,r(n)),n.fpsLabel=void 0,a(n,"loaderFlower",$,r(n)),a(n,"gameTipLabel",ee,r(n)),n.gameTipTime=0,n.gameTipChildren=void 0,n.gameTipStringSchedules=[],a(n,"screenSplash",ne,r(n)),n.screenColorTweening=!1,n._screenColorTween=null,a(n,"LightenOnStarted",te,r(n)),n.fpsInSec=[],n.fpsCD=1,n}t(n,e);var i=n.prototype;return i.gameTip=function(e,n,t){if(void 0===n&&(n=5),void 0===t&&(t=null),this.gameTipLabel){var a=B.getString(e,!1);this.gameTipString(a,n,t)}},i.gameTipString=function(e,n,t){if(void 0===n&&(n=5),void 0===t&&(t=null),this.gameTipLabel&&null!=e&&e.length&&!this.gameTipStringSchedules.some((function(n){return n.str==e}))){var a=e;this.gameTipStringSchedules.push({str:a,lifeSpan:n,children:t})}},i._gameTip=function(e,n,t){var a;if(void 0===n&&(n=5),void 0===t&&(t=null),this.gameTipLabel&&null!=e&&e.length){var r=e;this.gameTipLabel.string=r,this.gameTipTime=n,this.gameTipLabel.node.parent.active=!0,null==(a=this.gameTipChildren)||a.destroy(),this.gameTipChildren=null,t&&(t.parent=this.gameTipLabel.node.parent.getChildByName("BGT"),this.gameTipChildren=t)}},n.gameTip=function(e,n,t){void 0===n&&(n=5),void 0===t&&(t=null),this.cp.gameTip(e,n,t)},n.gameTipString=function(e,n,t){void 0===n&&(n=5),void 0===t&&(t=null),this.cp.gameTipString(e,n,t)},i.onDisable=function(){this.gameTipStringSchedules.forEach((function(e){var n;null==(n=e.children)||n.destroy(),e.children=null})),this.gameTipStringSchedules=[]},i.flowerOn=function(){this.loaderFlower&&(N.loadedTime=0,this.loaderFlower.node.active=!0,this.loaderFlower.db.playAnimation("Spawn",1/0))},i.flowerOff=function(){this.loaderFlower&&(this.loaderFlower.node.active=!0,this.loaderFlower.db.playAnimation("Leave",1/0))},n.defaultRelease=function(){O.clearAll(),w.unLoadMusic(),A.unLoadLawns()},n.restartRelease=function(){var e;O.clearAll(),null==(e=A.CurrentLawn)||null==(e=e.node)||e.destroy(),A.CurrentLawn=null},n.onSceneLoadedDefault=function(){var e;null==(e=h("Canvas"))||e.destroy(),console.log("Released"),O.clearAll(),H.unloadZombies(),U.unloadPlantsInCard(),k.unloadDinos(),x.unLoadProjectiles()},n.goToWorldmap=function(e){var n=this;this.lastScene=this.currentScene,this.currentScene=function(t){n.goToWorldmap(e)},this.defaultRelease(),P.getTrophyProgressProps(),w.loadMusic(["WorldMap"],["All"],!1,(function(){n.gotoScene("worldMapScene",e)}))},n.goToMain=function(e){var n=this;this.lastScene=this.currentScene,this.currentScene=function(t){n.goToMain(e)},this.defaultRelease(),w.loadMusic([],[],!1,(function(){n.gotoScene("mainScene",e)}))},n.goToAlmanac=function(e){var n=this;this.lastScene=this.currentScene,this.currentScene=function(t){n.goToAlmanac(e)},this.defaultRelease(),this.gotoScene("almanacScene",e)},n.goToStore=function(e){var n=this;this.lastScene=this.currentScene,this.currentScene=function(t){n.goToStore(e)},this.defaultRelease(),this.gotoScene("storeScene",e)},n.goToZenGarden=function(e){var n=this;this.lastScene=this.currentScene,this.currentScene=function(t){n.goToZenGarden(e)},this.defaultRelease(),this.gotoScene("zenGardenScene",e)},n.goToGame=function(e,n,t){var a=this;void 0===t&&(t=!1),this.isInGame||w.unLoadMusic(),F.getUpgradeProps(),this.lastScene=this.currentScene;var r=["Always"],s=["All"],i=!1,o=[],c=[Y.Modern];e.forEach((function(e){var n,t=F.getLevelDefinition(e).objdata,a=F.getLevelModule(e,t.Modules),u=!1,l=a.some((function(e){var n="ZombossBattleModuleProperties"==e.objclass;if(n){var t,a;if(null!=(t=e.objdata)&&t.DiscardBossMusic)return!1;u=!(null==(a=e.objdata)||!a.UseKongfuBossMusic)}return n})),h=a.find((function(e){return"RhythmGameProperties"==e.objclass}));if(h){var d=h.objdata,_=M[d.MusicName];isNaN(_)||o.push(_)}else l?r.push(u?"KongfuBoss":"Zomboss"):null==t||!t.SandBoxMode||null!=t&&t.SandBoxWithoutAllLawns?"Normal"==(null==t?void 0:t.MusicType)?r.push("Normal"):"MiniGame_A"==(null==t?void 0:t.MusicType)?r.push("MiniGame_A"):"MiniGame_B"==(null==t?void 0:t.MusicType)?r.push("MiniGame_B"):null!=t&&t.IsDangerRoomMiniGame||null!=t&&t.IsDangerRoom?r.push("MiniGame_A","MiniGame_B"):r.push("Normal"):(r.push("MiniGame_A","MiniGame_B","Normal","Zomboss","KongfuBoss"),i=!0);if(null!=(n=t.StageModuleOptions)&&n.length)t.StageModuleOptions.forEach((function(e){var n=A.getFrontYardEnumByRTID(e);c.push(n);var t=A.getLawnFeature(n);-1==s.indexOf(t.MUSIC)&&s.push(t.MUSIC)}));else if(t.StageModule){var p=A.getFrontYardEnumByRTID(t.StageModule);c.push(p);var m=A.getLawnFeature(p);-1==s.indexOf(m.MUSIC)&&s.push(m.MUSIC)}})),A.loadLawns(c,i,(function(){w.loadMusic(r,s,i,(function(){w.loadMusicDirectly(o,(function(){a.gotoScene("inGameScene",n,!t),a.isInGame=!0}))}))}))},n.goToLastScene=function(e){var n;void 0===e&&(e=null),null==(n=A.CurrentLawn)||null==(n=n.node)||n.destroy(),this.lastScene(e)},n.restartScene=function(e){void 0===e&&(e=null),this.currentScene(e)},n.gotoScene=function(e,t,a){var r,s=this;void 0===a&&(a=!0),(null==(r=this.cp)?void 0:r.screenSplash)&&(this.cp.screenSplash.opacity=255),n.screenColorTweening||(this.isInGame=!1,d.loadScene(e,null,(function(e,n){e||(a&&s.onSceneLoadedDefault(),_.runScene(n,(function(){}),t))})))},n.goToLevel=function(e,t,a,r,s){var i=this;if(void 0===t&&(t=[]),void 0===r&&(r=!0),void 0===s&&(s=!1),!n.screenColorTweening)if(F.setLevelData(e,t),y(_.getScene().name),r)this.darken((function(){var n=[];e.forEach((function(e){n.push(R(e).json.objects)})),i.goToGame(n,a,s)}));else{this.cp.screenSplash&&(this.cp.screenSplash.opacity=255);var o=[];e.forEach((function(e){o.push(R(e).json.objects)})),this.goToGame(o,a,s)}},n.darken=function(e){this.cp.flowerOn(),this.cp.darken(e)},i.darken=function(e){var n=this;if(!this.screenColorTweening)if(this.screenSplash){var t,a,r;null!=(t=this.screenSplash)&&t.getComponent(b)||null==(a=this.screenSplash)||a.addComponent(b),this.screenSplash.node.active=!0,this.screenColorTweening=!0;var s=this.screenSplash.getComponent(p);s&&(s.color=new m(0,0,0,255)),this.screenSplash.opacity=0,null==(r=this._screenColorTween)||r.stop(),this._screenColorTween=S(this.screenSplash).to(1,{opacity:255}).call((function(){n.screenColorTweening=!1,e()})).start(),S(D).to(1,{_volumeScalePause:0}).start()}else e()},i.lighten=function(){var e=this;if(this.screenSplash){var n;this.loaderFlower.node.active=!0,this.screenSplash.node.active=!0;var t=this.screenSplash.getComponent(b);t&&t.destroy(),this.screenSplash.opacity=255,null==(n=this._screenColorTween)||n.stop(),this._screenColorTween=S(this.screenSplash).to(1,{}).to(1,{opacity:0}).call((function(){e.flowerOff(),e.screenSplash.node.active=!1})).start()}},i.onLoad=function(){T.on(f.EventType.KEY_DOWN,this.onKeyDown,this),T.on(f.EventType.KEY_UP,this.onKeyUp,this),n.cp=this},i.preLighten=function(){if(this.screenSplash){this.loaderFlower.node.active=!0,this.screenSplash.node.active=!0;var e=this.screenSplash.getComponent(p);e&&(e.color=new m(0,0,0,255)),this.screenSplash.opacity=255}},i.start=function(){var e;this.preLighten(),this.LightenOnStarted&&this.lighten();var t=g(this.fpsShower);t.parent=h("Canvas"),t.worldPosition=new E(0,0,0),this.fpsLabel=t.getComponent(u);var a=K.getSettings().cursor;isNaN(a)&&(a=ie.default),n.loadCursor(a),D._volumeScalePause=1,null!=F&&null!=(e=F.component)&&e.camera&&t.setParent(null==F?void 0:F.component.camera.node,!0)},n.KeyCodeToString=function(e){switch(e){case v.ESCAPE:return"Escape";case v.F1:return"F1";case v.F2:return"F2";case v.F3:return"F3";case v.F4:return"F4";case v.F5:return"F5";case v.F6:return"F6";case v.F7:return"F7";case v.F8:return"F8";case v.F9:return"F9";case v.F10:return"F10";case v.F11:return"F11";case v.F12:return"F12";case v.INSERT:return"Insert";case v.DELETE:return"Delete";case v.HOME:return"Home";case v.END:return"End";case v.PAGE_UP:return"PgUp";case v.PAGE_DOWN:return"PgDn";case v.DIGIT_0:return"0";case v.DIGIT_1:return"1";case v.DIGIT_2:return"2";case v.DIGIT_3:return"3";case v.DIGIT_4:return"4";case v.DIGIT_5:return"5";case v.DIGIT_6:return"6";case v.DIGIT_7:return"7";case v.DIGIT_8:return"8";case v.DIGIT_9:return"9";case v.EQUAL:return"=";case v.BACKSPACE:return"BackSpace";case v.TAB:return"Tab";case v.CAPS_LOCK:return"CapsLk";case v.SHIFT_LEFT:return"Left Shift";case v.SHIFT_RIGHT:return"Right Shift";case v.CTRL_LEFT:return"Left Ctrl";case v.CTRL_RIGHT:return"Right Ctrl";case v.ALT_LEFT:return"Left Alt";case v.ALT_RIGHT:return"Right Alt";case v.SPACE:return"Space";case v.ARROW_LEFT:return"Left";case v.ARROW_RIGHT:return"Right";case v.ARROW_UP:return"Up";case v.ARROW_DOWN:return"Down";case v.KEY_Q:return"Q";case v.KEY_W:return"W";case v.KEY_E:return"E";case v.KEY_R:return"R";case v.KEY_T:return"T";case v.KEY_Y:return"Y";case v.KEY_U:return"U";case v.KEY_I:return"I";case v.KEY_O:return"O";case v.KEY_P:return"P";case v.KEY_A:return"A";case v.KEY_S:return"S";case v.KEY_D:return"D";case v.KEY_F:return"F";case v.KEY_G:return"G";case v.KEY_H:return"H";case v.KEY_J:return"J";case v.KEY_K:return"K";case v.KEY_L:return"L";case v.KEY_Z:return"Z";case v.KEY_X:return"X";case v.KEY_C:return"C";case v.KEY_V:return"V";case v.KEY_B:return"B";case v.KEY_N:return"N";case v.KEY_M:return"M";case v.ENTER:return"Enter";case v.BRACKET_LEFT:return"[";case v.BRACKET_RIGHT:return"]";case v.BACKSLASH:return"\\";case v.SEMICOLON:return";";case v.QUOTE:return"'";case v.COMMA:return",";case v.PERIOD:return".";case v.SLASH:return"/";case v.NUM_LOCK:return"NumLk";case v.NUM_DIVIDE:return"Num /";case v.NUM_PLUS:return"Num +";case v.NUM_MULTIPLY:return"Num *";case v.NUM_SUBTRACT:return"Num -";case v.NUM_DECIMAL:return"Num .";case v.NUM_ENTER:return"Num Enter";case v.NUM_MULTIPLY:return"Num *";case v.NUM_0:return"Num 0";case v.NUM_1:return"Num 1";case v.NUM_2:return"Num 2";case v.NUM_3:return"Num 3";case v.NUM_4:return"Num 4";case v.NUM_5:return"Num 5";case v.NUM_6:return"Num 6";case v.NUM_7:return"Num 7";case v.NUM_8:return"Num 8";case v.NUM_9:return"Num 9"}return""},n.loadCursor=function(e){var n="cursor";switch(e){case ie.default:n="cursor";break;case ie.soft:n="cursor_soft";break;default:e=ie.unchanged}e==ie.unchanged?G.canvas.style.cursor="":d.load(n,(function(e,n){var t=n.nativeUrl;G.canvas.style.cursor="url("+t+") , auto"})),I.cursor=e},i.update=function(e){var n,t,a=1/G.deltaTime;if(this.fpsCD>0&&(this.fpsInSec.push(a),this.fpsCD-=e),this.fpsCD<=0){var r=0;this.fpsCD=1,this.fpsInSec.forEach((function(e,n,t){r+=e/t.length})),this.fpsInSec=[];var s="";I.showFPS&&(s="FPS: "+Math.round(r).toString()),this.fpsLabel&&(this.fpsLabel.string=s)}if(null!=(n=this.screenSplash.node)&&n.active&&(this.screenSplash.node.position=new E(0,0,this.screenSplash.node.position.z)),this.gameTipTime-=G.deltaTime,null!=(t=this.gameTipLabel)&&null!=(t=t.node)&&t.parent&&this.gameTipTime<=0){this.gameTipLabel.node.parent.active=!1;var i=this.gameTipStringSchedules.shift();i&&this._gameTip(i.str,i.lifeSpan,i.children)}},i.clearGameTips=function(){this.gameTipTime=0,this.gameTipStringSchedules=[]},n.clearGameTips=function(){var e;null==(e=this.cp)||e.clearGameTips()},i.onKeyDown=function(e){switch(e.keyCode){case v.F11:case v.F4:I.fullScreen();break;case v.F12:L.openDevTools();break;case v.F10:break;case v.INSERT:L.closeDevTools();break;case v.CTRL_LEFT:case v.CTRL_RIGHT:n.ctrlDown=!0;break;case v.SHIFT_LEFT:case v.SHIFT_RIGHT:n.shiftDown=!0;break;case v.ALT_LEFT:case v.ALT_RIGHT:n.altDown=!0;break;case v.NUM_ENTER:n.numEnterDown=!0}},i.onKeyUp=function(e){switch(e.keyCode){case v.CTRL_LEFT:case v.CTRL_RIGHT:n.ctrlDown=!1;break;case v.SHIFT_LEFT:case v.SHIFT_RIGHT:n.shiftDown=!1;break;case v.ALT_LEFT:case v.ALT_RIGHT:n.altDown=!1;break;case v.NUM_ENTER:n.numEnterDown=!1}},s(n,null,[{key:"KeyBinds",get:function(){return this.UserKeyBinds},set:function(e){var n=this;e?(Object.getOwnPropertyNames(this.DefaultKeyBinds).forEach((function(t){isNaN(v[e[t]])&&(e[t]=n.DefaultKeyBinds[t])})),this.UserKeyBinds=e):this.UserKeyBinds=this.DefaultKeyBinds}},{key:"screenColorTweening",get:function(){return this.cp&&this.cp.screenColorTweening}}]),n}(C)).cp=null,ae.DefaultKeyBinds={Game_Pause:"SPACE",Game_SpeedUp:"KEY_V",Game_Card1:"DIGIT_1",Game_Card2:"DIGIT_2",Game_Card3:"DIGIT_3",Game_Card4:"DIGIT_4",Game_Card5:"KEY_Q",Game_Card6:"KEY_W",Game_Card7:"KEY_E",Game_Card8:"KEY_R",Game_Plantfood:"KEY_F",Game_Shovel:"KEY_D",Game_CollectAll:"KEY_A",Game_UIUpper:"F3",Game_ConveyorForward:"KEY_X",Game_ConveyorBackward:"KEY_Z",Game_HideUI:"BACK_QUOTE",Game_BananaLauncher:"KEY_B",Game_MissileToe:"KEY_B",Game_Bamboozle:"KEY_N",Game_IceShroom:"KEY_I",ZenGarden_Glove:"KEY_M",ZenGarden_Shovel:"KEY_D",ZenGarden_Cart:"KEY_C",ZenGarden_DealWithAll:"KEY_A",ZenGarden_HideUI:"BACK_QUOTE",ZenGarden_Next:"TAB",Sandbox_PushTide:"BACKSPACE",Sandbox_PullTide:"ENTER",Sandbox_PushTideBy1Square:"ARROW_LEFT",Sandbox_PullTideBy1Square:"ARROW_RIGHT",Sandbox_ChangeJam:"TAB",Sandbox_SummonZombies:"F1",Sandbox_ChangeLawn:"F2",Sandbox_TimeFreeze:"F5",Sandbox_SwitchMusic:"F7",Sandbox_Settings:"F6",Rhythm_PhatBeet1:"DIGIT_2",Rhythm_PhatBeet2:"KEY_W",Rhythm_PhatBeet3:"KEY_S",Rhythm_PhatBeet4:"KEY_X",Rhythm_PhatBeet5:"ALT_LEFT"},ae.UserKeyBinds={Game_Pause:"SPACE",Game_SpeedUp:"KEY_V",Game_Card1:"DIGIT_1",Game_Card2:"DIGIT_2",Game_Card3:"DIGIT_3",Game_Card4:"DIGIT_4",Game_Card5:"KEY_Q",Game_Card6:"KEY_W",Game_Card7:"KEY_E",Game_Card8:"KEY_R",Game_Plantfood:"KEY_F",Game_Shovel:"KEY_D",Game_CollectAll:"KEY_A",Game_ConveyorForward:"KEY_X",Game_ConveyorBackward:"KEY_Z",Game_HideUI:"BACK_QUOTE",Game_UIUpper:"F3",Game_BananaLauncher:"KEY_B",Game_MissileToe:"KEY_B",Game_Bamboozle:"KEY_N",Game_IceShroom:"KEY_I",ZenGarden_Glove:"KEY_M",ZenGarden_Shovel:"KEY_D",ZenGarden_Cart:"KEY_C",ZenGarden_DealWithAll:"KEY_A",ZenGarden_HideUI:"BACK_QUOTE",ZenGarden_Next:"TAB",Sandbox_PushTide:"BACKSPACE",Sandbox_PullTide:"ENTER",Sandbox_PushTideBy1Square:"ARROW_LEFT",Sandbox_PullTideBy1Square:"ARROW_RIGHT",Sandbox_ChangeJam:"TAB",Sandbox_SummonZombies:"F1",Sandbox_ChangeLawn:"F2",Sandbox_TimeFreeze:"F5",Sandbox_SwitchMusic:"F7",Sandbox_Settings:"F6",Rhythm_PhatBeet1:"DIGIT_2",Rhythm_PhatBeet2:"KEY_W",Rhythm_PhatBeet3:"KEY_S",Rhythm_PhatBeet4:"KEY_X",Rhythm_PhatBeet5:"ALT_LEFT"},ae.isInGame=!1,ae.lastScene=function(e){},ae.currentScene=function(e){},ae.ctrlDown=!1,ae.shiftDown=!1,ae.altDown=!1,ae.numEnterDown=!1,q=n((J=ae).prototype,"fpsShower",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=n(J.prototype,"loaderFlower",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ee=n(J.prototype,"gameTipLabel",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ne=n(J.prototype,"screenSplash",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),te=n(J.prototype,"LightenOnStarted",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),X=J))||X));i._RF.pop()}}}));

System.register("chunks:///_virtual/KongfuArmRack.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Tomb.ts","./SoundRescourses.ts","./Tombs.ts"],(function(t){var n,e,r,o,a,i,s,u,c,l,p,f;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,r=t.initializerDefineProperty,o=t.assertThisInitialized,a=t.createClass},function(t){i=t.cclegacy,s=t._decorator,u=t.Prefab,c=t.AudioClip},function(t){l=t.Tomb},function(t){p=t.sounds},function(t){f=t.TombEnum}],execute:function(){var d,h,y,m,g,b,S;i._RF.push({},"c65c4AHvK9EtYiPr3u+1LK5","KongfuArmRack",void 0);var k=s.ccclass,A=s.property;t("KongfuArmRackDisplay",function(t){return t[t.torch=0]="torch",t[t.blade=1]="blade",t[t.bomb=2]="bomb",t[t.flag=3]="flag",t[t.nunchaku=4]="nunchaku",t[t.hammer=5]="hammer",t[t.helmet=6]="helmet",t[t.fan=7]="fan",t}({})),t("KongfuArmRack",(d=k("KongfuArmRack"),h=A(u),y=A([c]),d((b=n((g=function(t){function n(){for(var n,e=arguments.length,a=new Array(e),i=0;i<e;i++)a[i]=arguments[i];return n=t.call.apply(t,[this].concat(a))||this,r(n,"spawnLightPFB",b,o(n)),r(n,"destroySounds",S,o(n)),n._displayed=NaN,n.displaySlots=[],n}e(n,t);var i=n.prototype;return i.playDestructionSound=function(){p.playArray(this.destroySounds,1,.4)},i.onIDSet=function(t){this.displayed=t-f.kongfu_rack_torch},i.damageScaleExtra=function(t){return t.DamageScaleForArmorRack},i.specialTombOnLoad=function(){var t=this;this.db.armature().getSlots().forEach((function(n){n.name.includes("DISPLAY")&&t.displaySlots.push(n)}))},a(n,[{key:"spawnLight",get:function(){return this.spawnLightPFB}},{key:"displayed",get:function(){return this._displayed},set:function(t){this.displaySlots.forEach((function(n){n._setDisplayIndex(t)})),this._displayed=t}}]),n}(l)).prototype,"spawnLightPFB",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=n(g.prototype,"destroySounds",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),m=g))||m));i._RF.pop()}}}));

System.register("chunks:///_virtual/KongfuBasicZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./Armors.ts","./Tombs.ts","./CharacterManager.ts","./JSONs.ts","./Zombies.ts","./ArrayGet.ts","./Square.ts","./LnC.ts","./levelController.ts","./NodePools.ts","./Particles.ts"],(function(e){var t,n,o,r,i,a,s,c,u,h,m,g,l,f,d,b,p,w,k,_,v,y,R,T,Z;return{setters:[function(e){t=e.inheritsLoose,n=e.applyDecoratedDescriptor,o=e.initializerDefineProperty,r=e.assertThisInitialized,i=e.createClass,a=e.asyncToGenerator,s=e.regeneratorRuntime},function(e){c=e.cclegacy,u=e._decorator,h=e.dragonBones,m=e.Vec2},function(e){g=e.ZombieProps,l=e.Zombie},function(e){f=e.armorEnum},function(e){d=e.TombEnum},function(e){b=e.Rectangle},function(e){p=e.PvZ2Object},function(e){w=e.ZombieEnum,k=e.zombies},function(e){_=e.ArrayGet},function(e){v=e.Square},function(e){y=e.LnCSpawnZombieStyleEnum},function(e){R=e.LevelPlay},function(e){T=e.instantiatePooly},function(e){Z=e.particle}],execute:function(){var L,j,S,A,D;c._RF.push({},"cbe10vRMZ5LzpEqODGorh/U","KongfuBasicZombie",void 0);var O=u.ccclass,E=u.property,x=e("KongfuBasicProps",function(e){function n(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=e.call.apply(e,[this].concat(o))||this).ReckWarningRect="RTID(KongfuReckWarningRect@RectangleProps)",t.ZombieTypesToSummonBecomingFlag=["kongfu","kongfu_armor1","kongfu_armor2"],t.ZombieCountToSummon=3,t}return t(n,e),n}(g));e("KongfuBasicZombie",(L=O("KongfuBasicZombie"),j=E(h.ArmatureDisplay),L((D=n((A=function(e){function n(){for(var t,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(t=e.call.apply(e,[this].concat(i))||this).helmetThereSlot=void 0,t._objdataOwn=new x,t._objdataOwnOrg=new x,t.WarningRect={x:-43,y:38,w:86,h:96},o(t,"warnLogo",D,r(t)),t.warnFading=!1,t}t(n,e);var c=n.prototype;return c.specialZombieOnLoad=function(){var e=this;this.helmetThereSlot=this.body.db.armature().getSlot("HELMET_THERE_HEAD"),this.warnLogo.on(h.EventObject.FRAME_EVENT,(function(t){switch(t.name){case"die":e.warnLogo.node.active=!1,e.warnFading=!1}}),this)},c.onObjdataSet=function(e){var t,n=null==(t=p.getObjectsByRTID(this.objdataOwnOrg.ReckWarningRect,"RectangleProps")[0])||null==(t=t.objdata)?void 0:t.Values;n&&(this.WarningRect=n)},c.flagSummon=function(){var e=a(s().mark((function e(){var t,n,o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.objdataOwn.ZombieCountToSummon,n=this.objdataOwn.ZombieTypesToSummonBecomingFlag,o=0;case 3:if(!(o<t)){e.next=11;break}return e.next=6,v.getRandomLnC().SpawnZombieByZombieType(_.getRandom(n),y.fromLane,!1,0,0,{},!1,this.reversed,this.hypnotized);case 6:e.sent.forEach((function(e){R.registerZombieInThisWave(e)}));case 8:o++,e.next=3;break;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),c.getWarningRect=function(){var e=this.scale,t=Math.abs(e);return b.createRectangleCenter(new m(this.shadeSocket.worldPosition.x+this.WarningRect.x*e,this._worldPositionY+this.WarningRect.y*t+this.height_depth),this.WarningRect.w*t,this.WarningRect.h*t)},c.judgeHelmetThere=function(){var e=this.armors.some((function(e){return e.ID==f.kongfu_armor3&&e.stage<2}));this.helmetThereSlot&&(this.helmetThereSlot.displayIndex=e?0:-1)},c.playSpecialZombieDieForced=function(){this.judgeHelmetThere()},c.onDamaged=function(e,t,n){this.judgeHelmetThere()},c.onArmorDamaged=function(e,t){this.judgeHelmetThere()},c.onArmorThrown=function(e){this.judgeHelmetThere()},c.onArmorAdded=function(e){this.judgeHelmetThere()},c.specialZombieOnEnable=function(){this.judgeHelmetThere(),this.warnLogo.node.active=!1,this.warnFading=!1},c.detectRack=function(){var e=this,t=this.getWarningRect(),n=this.plantDetectorRec,o=this.inLane.tombPool().filter((function(t){return e.judgeTombDetectAsRack(t)})),r=o.find((function(e){return n.judgeCrossRec(e.bodyRec)}));if(r)this.transByRack(r);else{var i=o.some((function(e){return t.judgeCrossRec(e.bodyRec)}));i&&!this.warnLogo.node.active?(this.warnFading=!1,this.warnLogo.node.active=!0,this.warnLogo.playAnimation("Start",1/0)):i||!this.warnLogo.node.active||this.warnFading||(this.warnFading=!0,this.warnLogo.playAnimation("Die",1/0))}},c.specialAlmanac=function(e){this.helmetThereSlot=this.db.armature().getSlot("HELMET_THERE_HEAD"),this.judgeHelmetThere()},c.spawnTransedZombie=function(){var e=a(s().mark((function e(t){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.spawnZombieFromLane(this.lIndex,t,{},!0,this.reversed,this.hypnotized);case 2:n=e.sent,-1!=R._zombiesInThisWave.indexOf(this)&&(R.registerZombieInThisWave(n),R.component.waveToughness-=this.toughness),n.shrink(this.ShrinkProps),n.worldPositionX=this.worldPosition.x,n.node.setSiblingIndex(this.siblingIndexInLane),n.replayAnimation();case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),c.transIntoZombie=function(){var e=a(s().mark((function e(t){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t,e.next=e.t0===w.kongfu_flag||e.t0===w.monk_flag||e.t0===w.abbot_flag?3:6;break;case 3:return e.next=5,this.flagSummon();case 5:return e.abrupt("break",6);case 6:return e.next=8,this.spawnTransedZombie(t);case 8:(n=T(Z.mowerSpawn())).parent=this.inLane.prjLayer,n.worldPosition=this.worldPosition.toVec3(),this.chomp(!1);case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),c.transByRack=function(e){switch(e.ID){case d.kongfu_rack_helmet:this.throwAllArmors(),this.addArmor("kongfu_armor3");break;case d.kongfu_rack_flag:this.transIntoZombie(w.kongfu_flag);break;case d.kongfu_rack_bomb:this.transIntoZombie(w.kongfu_bomb);break;case d.kongfu_rack_hammer:this.transIntoZombie(w.kongfu_hammer);break;case d.kongfu_rack_torch:this.transIntoZombie(w.kongfu_torch)}e.die()},c.judgeTombDetectAsRack=function(e){switch(e.ID){case d.kongfu_rack_helmet:return!0;case d.kongfu_rack_flag:case d.kongfu_rack_bomb:case d.kongfu_rack_hammer:case d.kongfu_rack_torch:return this.haveArm}return!1},c.specialZombieUpdateBeforePlantDetect=function(e,t,n){this.inLane&&!this.haveHelmet&&n>0?this.detectRack():this.warnLogo.node.active&&!this.warnFading&&(this.warnFading=!0,this.warnLogo.playAnimation("Die",1/0))},i(n,[{key:"objdataOwn",get:function(){return this._objdataOwn}},{key:"objdataOwnOrg",get:function(){return this._objdataOwnOrg}},{key:"haveHelmet",get:function(){return this.armors.some((function(e){return e.ID==f.kongfu_armor3&&e.stage<2}))}}]),n}(l)).prototype,"warnLogo",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=A))||S));c._RF.pop()}}}));

System.register("chunks:///_virtual/KongfuBombZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./CharacterManager.ts","./SoundRescourses.ts","./Square.ts","./Particles.ts","./NodePools.ts"],(function(e){var t,i,n,o,a,s,r,c,l,h,u,d,f,b,p,m,g,y,L,P;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized,a=e.createClass},function(e){s=e.cclegacy,r=e._decorator,c=e.Prefab,l=e.AudioClip,h=e.Vec3,u=e.Vec2},function(e){d=e.Zombie,f=e.ZombieProps},function(e){b=e.ZombieDamageType,p=e.Rectangle,m=e.ZombieDamageDetails},function(e){g=e.sounds},function(e){y=e.Square},function(e){L=e.particle},function(e){P=e.instantiatePooly}],execute:function(){var R,w,S,v,D,E,j,B,C;s._RF.push({},"62737eWR+VInpgKgtYf5DEu","KongfuBombZombie",void 0);var O=r.ccclass,_=r.property,x=function(e){function t(){for(var t,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).ExplodeDamageToPlants=4001,t.ExplodeDamageToZombies=1800,t}return i(t,e),t}(f);e("KongfuBombZombie",(R=O("KongfuBombZombie"),w=_(c),S=_([l]),v=_([l]),R((j=t((E=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return(t=e.call.apply(e,[this].concat(a))||this)._objdataOwn=new x,t._objdataOwnOrg=new x,t.fireSlots=[],t.bombSlots=[],t._ignited=!1,t._haveBomb=!0,n(t,"bomb",j,o(t)),n(t,"surpriseSounds",B,o(t)),n(t,"igniteSounds",C,o(t)),t}i(t,e);var s=t.prototype;return s.onObjdataSet=function(e){},s.specialZombieOnLoad=function(){var e=this;this.fireSlots=[],this.body.db.armature().getSlots().forEach((function(t){t.name.includes("SPK")?e.fireSlots.push(t):t.name.includes("BOMB")&&e.bombSlots.push(t)}))},s.specialZombieUpdateForced=function(e,t,i){this.ignited&&this.fireSlots.forEach((function(e){if(e.childArmature){var i=e.childArmature.animation,n=i.lastAnimationState.currentTime;i.gotoAndPlayByTime(i.lastAnimationState.name,n+t,1/0)}}))},s.detectPlant=function(e){var t=this;if(this.ignited){if(!this.detectPlantOn())return;if(!this.inLane)return void this.playWalk();if(e<=0)return;var i=!1;this.hypnotized?this.inLane.zombiePool().forEach((function(e){i||t.plantDetectorRec.judgeCrossRec(e.bodyRec)&&(i=!0)})):(this.inLane.plantPool().forEach((function(e){i||e.eaterDetectable&&t.plantDetectorRec.judgeCrossRec(e.bodyRec)&&(i=!0)})),this.inLane.hypnoZombiePool().forEach((function(e){i||t.plantDetectorRec.judgeCrossRec(e.bodyRec)&&(i=!0)}))),this.inLane.tombPool(this.hypnotized?0:1).forEach((function(e){i||t.plantDetectorRec.judgeCrossRec(e.bodyRec)&&(i=!0)})),i?(this.isWalking=!1,this.switching=!0,this.correctShadeWP(.1),g.playArray(this.surpriseSounds,1,.1),this.body.playAnimation("Explode",1,.1)):this.playWalk()}else this.defaultDetectPlant(e)},s.playSpecialZombieDieForced=function(){this.throwBomb(null)},s.throwBomb=function(e){var t;this.haveBomb&&(this.haveBomb=!1,this.drop(this.bomb,this.zombieHeight/2*Math.abs(this.scale)+this.height_depth,new h(this.shadeSocket.worldPosition.x,this._worldPositionY,0),null==e||null==(t=e.clone())?void 0:t.multiplyScalar(.8),this.node.parent).scale=this.scale)},s.onArmLosed=function(e){this.throwBomb(e)},s.onDamaged=function(e,t,i){i.damageType==b.fire&&(this.ignited=!0)},s.onDamagedButArmor=function(e){e.damageType==b.fire&&(this.ignited=!0)},s.onChill=function(e){this.ignited=!1},s.specialZombieOnEnable=function(){this.haveBomb=!0},s.plantCanbeHit=function(e){return e.eatDamagable&&e.damagable&&!e.invincible},s.explode=function(){var e,t,i=this;this.haveBomb=!1;var n,o,a,s,r,c,l=new u(this.worldPosition.x,this.inLane.midY),h=p.createRectangleCenter(l,3.125*y.SquareWidth,y.SquareHeight),d=p.createRectangleCenter(l,2*y.SquareWidth,3*y.SquareHeight),f=new m(this.objdataOwn.ExplodeDamageToPlants,!0,!0,!0,null,b.fire),R=new m(this.objdataOwn.ExplodeDamageToZombies,!0,!0,!0,null,b.fire),w=[];(null==(e=this.inLane.tombPool(this.hypnotized?0:1))||e.forEach((function(e){e&&h.judgeCrossRec(e.bodyRec)&&e.dealDamage(R)})),null==(t=this.inLane.UpperLane.tombPool(this.hypnotized?0:1))||t.concat(this.inLane.LowerLane.tombPool(this.hypnotized?0:1)).forEach((function(e){e&&d.judgeCrossRec(e.bodyRec)&&e.dealDamage(R)})),this.hypnotized)?(null==(n=this.inLane.zombiePool())||n.forEach((function(e){-1==w.indexOf(e)&&h.judgeCrossRec(e.bodyRec)&&w.push(e)})),null==(o=this.inLane.UpperLane.zombiePool())||o.concat(this.inLane.LowerLane.zombiePool()).forEach((function(e){-1==w.indexOf(e)&&d.judgeCrossRec(e.bodyRec)&&w.push(e)}))):(null==(a=this.inLane.plantPool())||a.forEach((function(e){i.plantCanbeHit(e)&&h.judgeCrossRec(e.bodyRec)&&e.dealDamage(f.damage,3)})),null==(s=this.inLane.UpperLane.plantPool())||s.concat(this.inLane.LowerLane.plantPool()).forEach((function(e){i.plantCanbeHit(e)&&d.judgeCrossRec(e.bodyRec)&&e.dealDamage(f.damage,3)})),null==(r=this.inLane.hypnoZombiePool())||r.forEach((function(e){-1==w.indexOf(e)&&h.judgeCrossRec(e.bodyRec)&&w.push(e)})),null==(c=this.inLane.UpperLane.hypnoZombiePool())||c.concat(this.inLane.LowerLane.hypnoZombiePool()).forEach((function(e){-1==w.indexOf(e)&&d.judgeCrossRec(e.bodyRec)&&w.push(e)})));w.forEach((function(e){e.dealDamage(R)}));var S=P(L.explosion(!1));S.parent=this.inLane.prjLayer,S.worldPosition=l.toVec3(),g.playExplosion(),this.dealDamage(R)},s.specialAnimationListener=function(e){switch(e.name){case"explode":this.ignited&&this.explode()}},a(t,[{key:"objdataOwn",get:function(){return this._objdataOwn}},{key:"objdataOwnOrg",get:function(){return this._objdataOwnOrg}},{key:"ignited",get:function(){return this._ignited},set:function(e){e=e&&this.haveBomb,this._ignited!=e&&g.playArray(this.igniteSounds,1,.1),this._ignited=e;var t=e?0:-1;this.fireSlots.forEach((function(e){e._setDisplayIndex(t)}))}},{key:"haveBomb",get:function(){return this._haveBomb},set:function(e){this._haveBomb=e;var t=e?0:-1;this.bombSlots.forEach((function(e){e._setDisplayIndex(t)})),this._ignited=e,this.ignited=e}}]),t}(d)).prototype,"bomb",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=t(E.prototype,"surpriseSounds",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C=t(E.prototype,"igniteSounds",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=E))||D));s._RF.pop()}}}));

System.register("chunks:///_virtual/KongfuBossBladeChiPrj.ts",["./rollupPluginModLoBabelHelpers.js","cc","./commonShot.ts","./Character.ts","./CharacterManager.ts","./Zombie.ts","./Square.ts"],(function(e){var o,n,t,i,r,a,c,s,h,u;return{setters:[function(e){o=e.inheritsLoose},function(e){n=e.cclegacy,t=e._decorator,i=e.Vec2},function(e){r=e.commonShot},function(e){a=e.CharacterType},function(e){c=e.Rectangle,s=e.footballmech},function(e){h=e.ZombieSort},function(e){u=e.Square}],execute:function(){var l;n._RF.push({},"df128VIM/ZAvJpR4MMSxm1g","KongfuBossBladeChiPrj",void 0);var p=t.ccclass;t.property,e("KongfuBossBladeChiPrj",p("KongfuBossBladeChiPrj")(l=function(e){function n(){return e.apply(this,arguments)||this}return o(n,e),n.prototype.detectEnemy=function(e){var o=this,n=c.createRectangleSide(new i(this.worldPositionX,this.inLane.midY+u.SquareHeight/2),-u.SquareWidth*Math.sign(this.linearVelocity.x),2*u.SquareHeight),t=this.enemyType==a.zombie,r=(t?this.inLane.zombiePool().concat(this.inLane.UpperLane.zombiePool()):this.inLane.hypnoZombiePool().concat(this.inLane.UpperLane.hypnoZombiePool())).filter((function(e){return e.ZombieSort!=h.Zomboss})),l=(t?this.inLane.tombPool(t?0:1).concat(this.inLane.UpperLane.tombPool(t?0:1)):[]).filter((function(e){return!e.hidden})),p=t?[]:this.inLane.plantPool().concat(this.inLane.UpperLane.plantPool()),f=!1;r.forEach((function(e){n.judgeCrossRec(e.bodyRecForShooter)&&(f=!0,e.knockBackBy(new i(Math.sign(o.linearVelocity.x),0)))})),l.forEach((function(e){n.judgeCrossRec(e.bodyRec)&&(f=!0,e.die())})),p.forEach((function(e){n.judgeCrossRec(e.bodyRec)&&(f=!0,o.linearVelocity.x<0?s.pushPlantLeft(e,500,1):s.pushPlantRight(e,500,1))})),f&&this.pop()},n}(r))||l);n._RF.pop()}}}));

System.register("chunks:///_virtual/KongfuBossBladeZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SoundRescourses.ts","./ZombossMechZombie.ts","./levelController.ts","./Square.ts","./NodePools.ts","./ParticleSelfdestroy.ts","./SoundManager.ts","./ArrayGet.ts","./Character.ts","./Zombie.ts","./CharacterManager.ts","./Projectiles.ts"],(function(e){var n,t,i,o,a,r,s,l,u,h,c,b,d,m,p,g,y,f,S,w,P,k,L,v,_,z,A,C,D,Z,j,R,B;return{setters:[function(e){n=e.inheritsLoose,t=e.applyDecoratedDescriptor,i=e.initializerDefineProperty,o=e.assertThisInitialized,a=e.createClass,r=e.asyncToGenerator,s=e.regeneratorRuntime},function(e){l=e.cclegacy,u=e._decorator,h=e.Prefab,c=e.Node,b=e.AudioClip,d=e.tween,m=e.Vec2,p=e.Vec3,g=e.TWO_PI},function(e){y=e.sounds},function(e){f=e.ZombossStage,S=e.ZombossMechZombie,w=e.ZombossMechProps},function(e){P=e.LevelPlay},function(e){k=e.Square},function(e){L=e.instantiatePooly},function(e){v=e.ParticleSelfdestroy},function(e){_=e.MusicSortEnum},function(e){z=e.ValueRange},function(e){A=e.Character,C=e.CharacterType},function(e){D=e.ZombiePoison,Z=e.ZombieSort},function(e){j=e.Rectangle,R=e.ZombieDamageDetails},function(e){B=e.ProjectileShootingFunctions}],execute:function(){var O,I,M,x,T,E,H,K,q,X,U,W,F,N,V,Y,G,J,Q,$,ee,ne,te,ie,oe,ae,re,se,le,ue,he,ce,be,de,me,pe,ge,ye,fe,Se,we,Pe,ke,Le,ve,_e,ze,Ae,Ce,De,Ze,je,Re,Be,Oe,Ie,Me,xe,Te,Ee,He,Ke,qe,Xe,Ue,We;l._RF.push({},"dbd04SLQqxFlpvKCrK/q2zx","KongfuBossBladeZombie",void 0);var Fe=u.ccclass,Ne=u.property,Ve=(e("KongfuBossBladeStage",Fe("KongfuBossBladeStage")(O=function(e){function t(){for(var n,t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return(n=e.call.apply(e,[this].concat(i))||this).BoomerangCount=new z(1,1),n.BoomerangMovingTime=4,n}return n(t,e),t}(f))||O),function(e){function t(){for(var n,t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return(n=e.call.apply(e,[this].concat(i))||this).SummonColumn=6,n.SmashDistance=150,n.SmashDamage=3600,n.ZombossStages=[],n.ChiType="kongfu_boss_blade_chi",n}return n(t,e),t}(w));e("KongfuBossBladeZombie",(I=Fe("KongfuBossBladeZombie"),M=Ne(h),x=Ne(c),T=Ne(h),E=Ne(h),H=Ne(h),K=Ne([b]),q=Ne([b]),X=Ne([b]),U=Ne(h),W=Ne(c),F=Ne([b]),N=Ne([b]),V=Ne([b]),Y=Ne([b]),G=Ne([b]),J=Ne([b]),Q=Ne([b]),$=Ne([b]),ee=Ne([b]),ne=Ne([b]),te=Ne([b]),ie=Ne([b]),oe=Ne([b]),ae=Ne([b]),re=Ne([b]),se=Ne([b]),le=Ne([b]),ue=Ne([b]),he=Ne([b]),ce=Ne([b]),be=Ne([b]),I((pe=t((me=function(e){function t(){for(var n,t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return(n=e.call.apply(e,[this].concat(a))||this)._objdataOwn=new Ve,n._objdataOwnOrg=new Ve,i(n,"boomerangLinkPfb",pe,o(n)),n._boomerangLinkPSD=void 0,n._boomerangProgress=0,i(n,"shieldPoint",ge,o(n)),n._boomerangXRange=new z(500,500),n._boomerangCharacter=void 0,i(n,"boomerang",ye,o(n)),n.walksWhenRushing=!1,i(n,"plantDiePar",fe,o(n)),n.smashing=!1,n.currentMechStages=[],i(n,"blackholePar",Se,o(n)),n.blackholePSD=void 0,i(n,"plantKillSounds",we,o(n)),i(n,"blackholeOpenSounds",Pe,o(n)),i(n,"blackholeClosingSounds",ke,o(n)),i(n,"flyPar",Le,o(n)),i(n,"skillPoint",ve,o(n)),i(n,"flySounds",_e,o(n)),i(n,"shakeSounds",ze,o(n)),i(n,"shakeMetalSounds",Ae,o(n)),i(n,"magicSounds",Ce,o(n)),i(n,"saySounds",De,o(n)),i(n,"sayThrowSounds",Ze,o(n)),i(n,"bmrShootSounds",je,o(n)),i(n,"bmrLPSounds",Re,o(n)),i(n,"metalHitSounds",Be,o(n)),i(n,"metalExplSounds",Oe,o(n)),i(n,"bladeBounceSounds",Ie,o(n)),i(n,"smashSounds",Me,o(n)),i(n,"swingSounds",xe,o(n)),i(n,"swingTripleSounds",Te,o(n)),i(n,"swingLightSounds",Ee,o(n)),i(n,"swingHeavySounds",He,o(n)),i(n,"starSounds",Ke,o(n)),i(n,"energySounds",qe,o(n)),i(n,"bladeEnterSounds",Xe,o(n)),i(n,"chiChargeSounds",Ue,o(n)),i(n,"shieldSounds",We,o(n)),n}n(t,e);var l=t.prototype;return l.empStun=function(e){},l.specialZombossOnLoad=function(){this._boomerangXRange=new z(k.getSquareWorldPosition(0,-10).x,k.getSquareWorldPosition(0,18).x)},l.ActionCDAlsoDecreasesNow=function(){return this.smashing},l.detectShootEnemy=function(){var e=this;return[this.inLane,this.inLane.UpperLane].some((function(n){return n&&((e.hypnotized?n.zombiePool():n.hypnoZombiePool()).some((function(n){return(n.worldPositionX-e.worldPositionX)*e.scale<0}))||!e.hypnotized&&n.plantPool().some((function(n){return(n.worldPositionX-e.worldPositionX)*e.scale<0})))}))},l.shootAction=function(){this.isAlive()&&(this.targetLocators=[],this.ZombossIdling=!1,this.body.playAnimation("AttackStart",1/0),this.shooting=!0)},l.setLnCsOccupied=function(){var e;this.jumpHeightTween||[this.inLnC,null==(e=this.inLnC)?void 0:e.upper].forEach((function(e){null==e||e.setOccupied(.1)}))},l.summonAction=function(){this.body.playAnimation("Summon",1/0),this.ZombossIdling=!1},l.dealDamage=function(e){return this.rushing?this.health:this.defaultZombossDealdamage(e)},l.shield=function(){this.rushing=!0,this.rushDMGcount=0},l.shieldStart=function(){var e=this,n=L(this.boomerang);n.parent=this.inLane.prjLayer;var t=n.getComponent(A);this._boomerangCharacter=t,t.height=30;var i=L(this.boomerangLinkPfb).getComponent(v);this._boomerangLinkPSD=i,this.boomerangProgress=0;var o=this.currentMechStages[this.currentStage],a=z.getRandomFromRange(o.BoomerangCount),r=o.BoomerangMovingTime;this.rushTween=d(this).to(r,{boomerangProgress:1}).call((function(){var n,t;--a<=0?(e.body.playAnimation("ShieldEnd",1/0),null==(n=e.rushTween)||n.stop(),e.rushTween=null,e.willJump=!0,e.killBoomerang()):(e.boomerangProgress=0,null==(t=e.rushTween)||t.start())})),this.rushTween.start()},l._attackMove=function(){var e=this,n=(this.hypnotized?[]:this.inLane.plantPool().concat(this.inLane.UpperLane.plantPool())).filter((function(e){return e.smasherDetectable}));n=n.concat(this.inLane.tombPool(this.hypnotized?0:1).concat(this.inLane.UpperLane.tombPool(this.hypnotized?0:1)),(this.hypnotized?this.inLane.zombiePool().concat(this.inLane.UpperLane.zombiePool()):this.inLane.hypnoZombiePool().concat(this.inLane.UpperLane.hypnoZombiePool())).filter((function(n){return n!=e})));var t=-.5;this.reversed&&(t=8-t);var i=k.getSquareWorldPosition(0,t).x;(n=n.filter((function(n){return(n.worldPositionX+e.objdataOwn.SmashDistance*e.scale-e.worldPositionX)*e.scale<0})).sort((function(n,t){return(t.worldPositionX-n.worldPositionX)*e.scale}))).length&&(i=n[0].worldPositionX),i+=this.objdataOwn.SmashDistance*this.scale/2;var o=this;this.jumpHeightTween=d(o).to(.5,{height:this.jumpMaxHeight()/2},{easing:"quadOut"}).to(.5,{height:0},{easing:"quadIn"}).call((function(){e.flying=e.currentFlyZombie})).start(),this.flying=!0,this.moveTween=d(o).to(1,{worldPositionX:i}).call((function(){o.moveTween=null,o.jumpHeightTween=null,o.body.playAnimation("AttackEnd",1),e.willJump=!0})).start()},l.jumpMaxHeight=function(){return 400},l.leapingTime=function(){return 1.5},l.leapAnimation=function(e){var n=this.reversed?8-this.cIndex:this.cIndex;return e.x-n>0?"LeapStartBack":"LeapStart"},l.canThrowImps=function(){return!0},l.throwImpsAnimation=function(){this.body.playAnimation("Push",1/0),this.ZombossIdling=!1,this.willJump=!0},l.killBoomerang=function(){if(this._boomerangCharacter){var e=this._boomerangCharacter.getComponent(v);e.willBeKilled=!0,e.db.playAnimation("Die",1/0),this._boomerangCharacter=null}if(this._boomerangLinkPSD){var n=this._boomerangLinkPSD;n.willBeKilled=!0,n.db.playAnimation("die",1),this._boomerangLinkPSD=null}},l.specialZombossUpdateForce=function(e,n,t,i){this.rushing||this.killBoomerang()},l.specialZombossUpdate=function(e,n,t){this.rushing?(this.freeze=0,this.chill=0,this.perfume=0,this.poison=new D(0,0)):this.detectSmashPlant(e)},l.smashAnm=function(){this.smashing=!0,this.ZombossIdling=!1,this.body.playAnimation("Smash",1/0)},l._smash=function(){var e=this,n=j.createRectangleSide(new m(this.worldPositionX,this.inLane.midY+k.SquareHeight/2),-this.objdataOwn.SmashDistance*this.scale,2*k.SquareHeight),t=this.hypnotized?this.inLane.zombiePool().concat(this.inLane.UpperLane.zombiePool()):this.inLane.hypnoZombiePool().concat(this.inLane.UpperLane.hypnoZombiePool()),i=this.hypnotized?[]:this.inLane.plantPool().concat(this.inLane.UpperLane.plantPool()),o=this.inLane.tombPool(this.hypnotized?0:1).concat(this.inLane.UpperLane.tombPool(this.hypnotized?0:1)),a=new R(this.objdataOwn.SmashDamage),r=[];t.forEach((function(t){-1==r.indexOf(t)&&t!=e&&n.judgeCrossRec(t.bodyRec)&&(r.push(t),t.dealDamage(a))})),i.forEach((function(e){-1==r.indexOf(e)&&n.judgeCrossRec(e.bodyRec)&&(r.push(e),e.dealDamage(a.damage))})),o.forEach((function(e){-1==r.indexOf(e)&&n.judgeCrossRec(e.bodyRec)&&(r.push(e),e.dealDamage(a))}))},l.detectSmashPlant=function(e){if(this.ZombossIdling&&this.mechStunningCD<=0&&e>0&&this.inLane){var n=j.createRectangleSide(new m(this.worldPositionX,this.inLane.midY+k.SquareHeight/2),-this.objdataOwn.SmashDistance*this.scale,2*k.SquareHeight),t=this.hypnotized?this.inLane.zombiePool().concat(this.inLane.UpperLane.zombiePool()):this.inLane.hypnoZombiePool().concat(this.inLane.UpperLane.hypnoZombiePool()),i=this.hypnotized?[]:this.inLane.plantPool().concat(this.inLane.UpperLane.plantPool()),o=this.inLane.tombPool(this.hypnotized?0:1).concat(this.inLane.UpperLane.tombPool(this.hypnotized?0:1));(t.some((function(e){return e.ZombieSort!=Z.Zomboss&&n.judgeCrossRec(e.bodyRec)}))||i.some((function(e){return e.smasherDetectable&&n.judgeCrossRec(e.bodyRec)}))||o.some((function(e){return n.judgeCrossRec(e.bodyRec)})))&&this.smashAnm()}},l.rush=function(){this.rushDMGcount=0,this.body.playAnimation("ShieldStart",1/0),this.willRush=!1,this.willJump=!0,Math.random()>.5&&y.playArray(this.worldZombossAngrySaySounds,1,.1)},l.rushAction=function(){this.ZombossIdling=!1,this.rush()},l.specialZombossMechOnEnable=function(){this.blackholePSD=null,this.smashing=!1},l.specialZombossOnDisable=function(){this._boomerangCharacter&&this.killBoomerang(),this.blackholePSD&&(y.playArray(this.blackholeClosingSounds,1,.1),this.blackholePSD.db.playAnimation("Die",1/0),this.blackholePSD.willBeKilled=!0)},l._chi=function(){var e=r(s().mark((function e(){var n,t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.skillPoint.worldPosition.x,t=this.inLane.midY+k.SquareHeight/2-2,e.next=5,B.shootOnePea(this.objdataOwn.ChiType,new m(n,t),1,this.inLane.prjLayer,new m(-4*this.scale,0),this.hypnotized?C.zombie:C.plant);case 5:e.sent;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),l.detectRushEnemies=function(){return!0},l.getZombossStageMusic=function(e){switch(e){case 0:return _.KongfuBossStage1;case 1:return _.KongfuBossStage2;case 2:return _.KongfuBossStage3}return _.KongfuBossStage3},l.getIdleAnmName=function(){return"Idle2"!=this.body.currentAnimationName&&Math.random()<=.5?"Idle2":"Idle"},l.shakesWhenLandingIfIsntBoss=function(){return!0},l.getIconIndex=function(){return 2},l.specialZombossMechAnimationListener=function(e){switch(e.name){case"Idle":this.smashing=!1;break;case"chi":this._chi();break;case"push_ready":y.playArray(this.chiChargeSounds,1,.1);break;case"blade_enter":y.playArray(this.bladeEnterSounds,1,.1);break;case"energy":y.playArray(this.energySounds,1,.1);break;case"star":y.playArray(this.starSounds,1,.1);break;case"swing_small":y.playArray(this.swingLightSounds,1,.1);break;case"swing_heavy":y.playArray(this.swingHeavySounds,1,.1);break;case"swing_triple":case"swing_triple":y.playArray(this.swingTripleSounds,1,.1);break;case"swing":y.playArray(this.swingSounds,1,.1);break;case"blade_bounce":y.playArray(this.bladeBounceSounds,1,.1);break;case"blade_fall":y.playArray(this.smashSounds,1,.1);break;case"metal_hit":y.playArray(this.metalHitSounds,1,.1);break;case"metal_expl":y.playArray(this.metalExplSounds,1,.1);break;case"blade_fly":y.playArray(this.bmrShootSounds,1,.1);break;case"bmr_lp":y.playArray(this.bmrLPSounds,1,NaN,.6);break;case"attack_move":this._attackMove();break;case"smash":y.playArray(this.smashSounds,1,.1),this._smash();break;case"shield":y.playArray(this.shieldSounds,1,.1),this.shield();break;case"shieldStart":this.shieldStart();break;case"shieldEnd":this.rushInterupt(!1);break;case"summon":var n=this.objdataOwn.SummonColumn;n=this.reversed?8-n:n,this.columnSummon(n);break;case"shakeScreen":P.shakeScreen();break;case"dirt":this.playDirtSpawnParticle();break;case"Idle2":Math.random()<.5&&this.body.playAnimation("Idle2",1/0);break;case"shake":y.playArray(this.shakeSounds,1,.1),Math.random()<.3&&y.playArray(this.shakeMetalSounds,1,.1);break;case"expl":y.playArray(this.flySounds,1,.1);var t=L(this.flyPar);t.parent=this.inLane.prjLayer,t.worldPosition=this.worldPosition.toVec3();break;case"magic":y.playArray(this.magicSounds,1,.1);break;case"say":y.playArray(this.saySounds,1,.1);break;case"sayThrow":y.playArray(this.sayThrowSounds,1,.1);break;case"blackhole":y.playArray(this.blackholeOpenSounds,1,.1);var i=L(this.blackholePar);i.parent=this.node.parent,i.worldPosition=new p(this.worldPositionX+3.5*k.SquareWidth*(this.reversed?-1:1),this.worldPositionY+k.SquareHeight,0),i.scale=this.node.scale.clone().multiplyScalar(3);var o=i.getComponent(v);this.blackholePSD=o}},a(t,[{key:"objdataOwn",get:function(){return this._objdataOwn}},{key:"objdataOwnOrg",get:function(){return this._objdataOwnOrg}},{key:"boomerangProgress",get:function(){return this._boomerangProgress},set:function(e){var n=this;if(this._boomerangProgress=e,this._boomerangCharacter){if(e<=0){var t=k.getRandomLane(),i=t.floorY;this._boomerangCharacter.worldPositionY=i,this._boomerangCharacter.node.setParent(t.prjLayer,!0)}var o=z.getFromRangeByProgress(this._boomerangXRange,this.scale<=0?1-e:e);this._boomerangCharacter.worldPositionX=o,this._boomerangCharacter.judgeInLnC();var a=j.createRectangleCenter(this._boomerangCharacter.worldPosition,k.SquareWidth,k.SquareHeight),r=this._boomerangCharacter.inLane;if((this.hypnotized?r.zombiePool():r.hypnoZombiePool()).filter((function(e){return-1==n.basicWhiteList.indexOf(e.OID)&&a.judgeCrossRec(e.bodyRecForShooter)})).forEach((function(e){y.playArray(n.plantKillSounds,1,.1),e.playDie()})),r.plantPool().filter((function(e){return a.judgeCrossRec(e.bodyRec)})).forEach((function(e){if(e.kill(),!e.isAlive()){var t=L(n.plantDiePar);t.parent=r.prjLayer,t.worldPosition=e.worldPosition.add2f(0,40).toVec3(),e.node.destroy(),y.playArray(n.plantKillSounds,1,.1)}})),r.tombPool(this.hypnotized?0:1).filter((function(e){return a.judgeCrossRec(e.bodyRec)})).forEach((function(e){e.die()})),this._boomerangLinkPSD){if(e<=0){var s=Math.max(this._boomerangCharacter.lIndex,this.lIndex),l=k.getLane(s);this._boomerangLinkPSD.node.setParent(l.prjLayer,!0)}var u=this.shieldPoint.worldPosition.toVec2(),h=this._boomerangCharacter.realWorldPosition.subtract(u);this._boomerangLinkPSD.node.worldPosition=u.toVec3(),this._boomerangLinkPSD.node.worldScale=new p(h.length()/635,.3,1),this._boomerangLinkPSD.node.angle=360*Math.atan2(h.y,h.x)/g}}}}]),t}(S)).prototype,"boomerangLinkPfb",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ge=t(me.prototype,"shieldPoint",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ye=t(me.prototype,"boomerang",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fe=t(me.prototype,"plantDiePar",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Se=t(me.prototype,"blackholePar",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),we=t(me.prototype,"plantKillSounds",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Pe=t(me.prototype,"blackholeOpenSounds",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ke=t(me.prototype,"blackholeClosingSounds",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Le=t(me.prototype,"flyPar",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ve=t(me.prototype,"skillPoint",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_e=t(me.prototype,"flySounds",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ze=t(me.prototype,"shakeSounds",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ae=t(me.prototype,"shakeMetalSounds",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ce=t(me.prototype,"magicSounds",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),De=t(me.prototype,"saySounds",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ze=t(me.prototype,"sayThrowSounds",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),je=t(me.prototype,"bmrShootSounds",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Re=t(me.prototype,"bmrLPSounds",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Be=t(me.prototype,"metalHitSounds",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Oe=t(me.prototype,"metalExplSounds",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ie=t(me.prototype,"bladeBounceSounds",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Me=t(me.prototype,"smashSounds",[ie],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),xe=t(me.prototype,"swingSounds",[oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Te=t(me.prototype,"swingTripleSounds",[ae],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ee=t(me.prototype,"swingLightSounds",[re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),He=t(me.prototype,"swingHeavySounds",[se],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ke=t(me.prototype,"starSounds",[le],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),qe=t(me.prototype,"energySounds",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Xe=t(me.prototype,"bladeEnterSounds",[he],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ue=t(me.prototype,"chiChargeSounds",[ce],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),We=t(me.prototype,"shieldSounds",[be],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),de=me))||de));l._RF.pop()}}}));

System.register("chunks:///_virtual/kongfuBossExplodeBomb.ts",["./rollupPluginModLoBabelHelpers.js","cc","./zombossMissile.ts","./Character.ts","./CharacterManager.ts","./Square.ts","./SoundRescourses.ts","./NodePools.ts"],(function(e){var n,o,t,i,a,r,l,s,u,c,p,h,d,f,m,g,y,b,x;return{setters:[function(e){n=e.applyDecoratedDescriptor,o=e.inheritsLoose,t=e.initializerDefineProperty,i=e.assertThisInitialized,a=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){l=e.cclegacy,s=e._decorator,u=e.AudioClip,c=e.Prefab,p=e.Vec2},function(e){h=e.zombossMissile},function(e){d=e.CharacterType},function(e){f=e.ZombieDamageDetails,m=e.ZombieDamageType,g=e.Rectangle},function(e){y=e.Square},function(e){b=e.sounds},function(e){x=e.instantiatePooly}],execute:function(){var P,L,v,S,w,z,R,D,_,E,T;l._RF.push({},"87ebfIWxMRFzYxt1pM7qdo2","kongfuBossExplodeBomb",void 0);var B=s.ccclass,C=s.property;e("kongfuBossExplodeBomb",(P=B("kongfuBossExplodeBomb"),L=C([u]),v=C([u]),S=C(c),w=C(c),P((D=n((R=function(e){function n(){for(var n,o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(n=e.call.apply(e,[this].concat(a))||this).detectsEaterDetectDisabledPlants=!0,t(n,"explodeSmallSounds",D,i(n)),t(n,"explodeBigSounds",_,i(n)),t(n,"explodeSmallPAR",E,i(n)),t(n,"explodeBigPAR",T,i(n)),n}o(n,e);var l=n.prototype;return l.dealDamageToTarget=function(e,n,o){this._explode(!0)},l.dealDamageToPlant=function(e){return this._explode(!0),!1},l.pop=function(){var e=a(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._explode(!1);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),l._explode=function(e){var n,o=this;(null==(n=this.inLnC.getAllPlants())?void 0:n.length)>0&&(e=!0);var t=this.explodeSmallSounds,i=this.explodeSmallPAR,a=new f(this.damage,!1,!1,!0,null,m.fire,!0,!0);if(e){t=this.explodeBigSounds,i=this.explodeBigPAR;var r=g.createRectangleCenter(new p(this.worldPositionX,this.inLane.midY),3*y.SquareWidth,3*y.SquareHeight);this.enemyType==d.plant?(this.inLnC.get3x3().forEach((function(e){var n;null==(n=e.getAllPlants())||n.forEach((function(e){null==e||e.burn()}))})),this.inLnC.get3x3().forEach((function(e){var n=e.tombStone;n&&n.hypnotized&&!n.hidden&&n.dealDamage(a)}))):this.enemyType==d.zombie&&this.inLnC.get3x3().forEach((function(e){var n=e.tombStone;!n||n.hypnotized||n.hidden||n.dealDamage(a)}));var l=[];(this.enemyType==d.plant?this.inLane.hypnoZombiePool():this.inLane.zombiePool()).concat(this.enemyType==d.plant?this.inLane.UpperLane.hypnoZombiePool():this.inLane.UpperLane.zombiePool(),this.enemyType==d.plant?this.inLane.LowerLane.hypnoZombiePool():this.inLane.LowerLane.zombiePool()).forEach((function(e){-1==l.indexOf(e)&&r.judgeCrossRec(e.bodyRec)&&l.push(e)})),l.forEach((function(e){e.dealDamage(a.replaceDirection(new p(e._worldPositionX-o._worldPositionX,e.zombieHeight).normalize().multiplyScalar(23+6*Math.random())))}))}else{var s=g.createRectangleCenter(new p(this.worldPositionX,this.inLane.midY),y.SquareWidth,y.SquareHeight);this.enemyType==d.plant?[this.inLnC].forEach((function(e){var n;null==e||null==(n=e.getAllPlants())||n.forEach((function(e){null==e||e.burn()}))})):this.enemyType==d.zombie&&[this.inLnC].forEach((function(e){var n=null==e?void 0:e.tombStone;n&&!n.hidden&&n.dealDamage(a)}));var u=[];(this.enemyType==d.plant?this.inLane.hypnoZombiePool():this.inLane.zombiePool()).forEach((function(e){-1==u.indexOf(e)&&s.judgeCrossRec(e.bodyRec)&&u.push(e)})),u.forEach((function(e){e.dealDamage(a.replaceDirection(new p(e._worldPositionX-o._worldPositionX,e.zombieHeight).normalize().multiplyScalar(23+6*Math.random())))}))}b.playArray(t,1,.1);var c=x(i);c.parent=this.inLane.prjLayer,c.worldPosition=this.worldPosition.toVec3(),c.scale=this.node.scale,this.fade(!0)},l.onPlantHit=function(e){this._explode(!0)},l.onZombieHit=function(e){this._explode(!0)},l.onTombHit=function(e){this._explode(!0)},l.hitFloor=function(e,n){this._explode(!1)},l.splat=function(e){this._explode(!1)},l.onPop=function(){var e=a(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),n}(h)).prototype,"explodeSmallSounds",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=n(R.prototype,"explodeBigSounds",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),E=n(R.prototype,"explodeSmallPAR",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=n(R.prototype,"explodeBigPAR",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=R))||z));l._RF.pop()}}}));

System.register("chunks:///_virtual/KongfuBossExplodeZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SoundRescourses.ts","./ZombossMechZombie.ts","./levelController.ts","./ArrayGet.ts","./Square.ts","./GargantuarZombie.ts","./Zombies.ts","./Character.ts","./NodePools.ts","./ParticleSelfdestroy.ts","./LnC.ts","./SoundManager.ts","./Projectiles.ts"],(function(e){var n,t,o,r,i,a,s,u,l,c,h,p,d,b,m,f,y,g,S,w,k,P,A,I,v,C,x,M,z;return{setters:[function(e){n=e.inheritsLoose,t=e.applyDecoratedDescriptor,o=e.initializerDefineProperty,r=e.assertThisInitialized,i=e.createClass,a=e.asyncToGenerator,s=e.regeneratorRuntime},function(e){u=e.cclegacy,l=e._decorator,c=e.Node,h=e.Prefab,p=e.AudioClip,d=e.Vec2,b=e.Vec3},function(e){m=e.sounds},function(e){f=e.ZombossStage,y=e.ZombossMechZombie,g=e.ZombossMechProps},function(e){S=e.LevelPlay},function(e){w=e.ValueRange},function(e){k=e.Square},function(e){P=e.gargantuar},function(e){A=e.ZombieEnum},function(e){I=e.CharacterType},function(e){v=e.instantiatePooly},function(e){C=e.ParticleSelfdestroy},function(e){x=e.LnCSpawnZombieStyleEnum},function(e){M=e.MusicSortEnum},function(e){z=e.ProjectileShootingFunctions}],execute:function(){var Z,O,R,T,B,L,_,j,K,D,E,F,Y,G,q,N,H,W,V,X,U,J,Q,$,ee,ne,te,oe,re,ie,ae,se,ue,le,ce,he,pe,de,be,me;u._RF.push({},"da500yG9GNA5rqY73otXUiI","KongfuBossExplodeZombie",void 0);var fe=l.ccclass,ye=l.property,ge=(e("KongfuBossExplodeStage",fe("KongfuBossExplodeStage")(Z=function(e){function t(){for(var n,t=arguments.length,o=new Array(t),r=0;r<t;r++)o[r]=arguments[r];return(n=e.call.apply(e,[this].concat(o))||this).BombCount=new w(2,1),n.ThrewImpCount=new w(3,3),n.ThrewImpColumn=new w(5,4),n.RocketImpCount=new w(3,3),n}return n(t,e),t}(f))||Z),function(e){function t(){for(var n,t=arguments.length,o=new Array(t),r=0;r<t;r++)o[r]=arguments[r];return(n=e.call.apply(e,[this].concat(o))||this).SummonColumn=6,n.ZombossStages=[],n}return n(t,e),t}(g));e("KongfuBossExplodeZombie",(O=fe("KongfuBossExplodeZombie"),R=ye(c),T=ye(h),B=ye([p]),L=ye([p]),_=ye(c),j=ye(h),K=ye([p]),D=ye([p]),E=ye([p]),F=ye([p]),Y=ye([p]),G=ye([p]),q=ye([p]),N=ye([p]),H=ye([p]),W=ye([p]),V=ye([p]),X=ye([p]),O((Q=t((J=function(e){function t(){for(var n,t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return(n=e.call.apply(e,[this].concat(i))||this)._objdataOwn=new ge,n._objdataOwnOrg=new ge,o(n,"shooter",Q,r(n)),n.currentMechStages=[],o(n,"blackholePar",$,r(n)),n.blackholePSD=void 0,o(n,"blackholeOpenSounds",ee,r(n)),o(n,"blackholeClosingSounds",ne,r(n)),o(n,"explPoint",te,r(n)),o(n,"explodePar",oe,r(n)),o(n,"explodeSounds",re,r(n)),o(n,"shakeSounds",ie,r(n)),o(n,"shakeMetalSounds",ae,r(n)),o(n,"patSounds",se,r(n)),o(n,"strikeSounds",ue,r(n)),o(n,"throwSounds",le,r(n)),o(n,"throwImpSounds",ce,r(n)),o(n,"bombKnockSounds",he,r(n)),o(n,"flySounds",pe,r(n)),o(n,"magicSounds",de,r(n)),o(n,"saySounds",be,r(n)),o(n,"sayThrowSounds",me,r(n)),n}n(t,e);var u=t.prototype;return u.empStun=function(e){},u.setLnCsOccupied=function(){var e;this.jumpHeightTween||[this.inLnC,null==(e=this.inLnC)?void 0:e.upper].forEach((function(e){null==e||e.setOccupied(.1)}))},u.summonAction=function(){this.body.playAnimation("Summon",1/0),this.ZombossIdling=!1},u.jumpMaxHeight=function(){return 800},u.leapingTime=function(){return 1.5},u.canThrowImps=function(){return!0},u.throwImpsAnimation=function(){this.body.playAnimation("Throw",1/0),this.ZombossIdling=!1},u.setChill=function(e){return!1},u.setFreeze=function(e,n){return!1},u.missileMeasure=function(e){z.lobOneCabbageOnNodeAccCS(e,new d(this.shooter.worldPosition.x,this.worldPositionY),this.shooter.worldPosition.y-this.worldPositionY,this.inLane.prjLayer,e.locator.node,.1111,this.hypnotized?I.zombie:I.plant,!1,120),e.scale=this.scale},u.getMissileCount=function(){return w.getRandomIntegerFromRange(this.currentMechStages[this.currentStage].BombCount)},u.throwImps=function(){var e=a(s().mark((function e(){var n,t,o,r,i,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=this.currentMechStages[this.currentStage],t=w.getRandomIntegerFromRange(n.ThrewImpCount),o=0;case 3:if(!(o<t)){e.next=15;break}return r=w.getRandomFromRange(n.ThrewImpColumn),this.reversed,i=k.getSquareWorldPosition(0,8-r).x,e.next=8,P.throwOneImpToWP(A.kongfu_rocket_imp,this.inLane,new d(this.shooter.worldPosition.x,this._worldPositionY),new d(i,k.getLane(Math.floor(5*Math.random())).floorY),this.shooter.worldPosition.y-this._worldPositionY,300+50*Math.random(),.8+.5*Math.random());case 8:(a=e.sent).onThrownByGargantuar(this),a.reversed=this.reversed,a.hypnotized=this.hypnotized;case 12:o++,e.next=3;break;case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),u.specialZombossMechOnEnable=function(){this.blackholePSD=null},u.specialZombossOnDisable=function(){this.blackholePSD&&(m.playArray(this.blackholeClosingSounds,1,.1),this.blackholePSD.db.playAnimation("Die",1/0),this.blackholePSD.willBeKilled=!0)},u.rushAction=function(){this.willRush=!1,this.ZombossIdling=!1,this.body.playAnimation("Rocket")},u.detectRushEnemies=function(){return!0},u._rocket=function(){for(var e=this,n=this.currentMechStages[this.currentStage],t=w.getRandomIntegerFromRange(n.RocketImpCount),o=0;o<t;o++){var r,i=2*Math.random();null==(r=S.component)||r.scheduleOnce((function(){k.getRandomLnC().SpawnZombieByZombieType("kongfu_rocket_imp",x.fromLane,!1,0,0,{},!1,e.reversed,e._usedToBeHypnotized)}),i)}},u.getZombossStageMusic=function(e){switch(e){case 0:return M.KongfuBossStage1;case 1:return M.KongfuBossStage2;case 2:return M.KongfuBossStage3}return M.KongfuBossStage3},u.getIdleAnmName=function(){return"Idle2"!=this.body.currentAnimationName&&Math.random()<=.5?"Idle2":"Idle"},u.shakesWhenLandingIfIsntBoss=function(){return!0},u.getIconIndex=function(){return 1},u.specialZombossMechAnimationListener=function(e){switch(e.name){case"summon":var n=this.objdataOwn.SummonColumn;n=this.reversed?8-n:n,this.columnSummon(n);break;case"bomb_knock":m.playArray(this.bombKnockSounds,1,.1);break;case"dirt":this.playDirtSpawnParticle();break;case"imp":this.throwImps(),m.playArray(this.throwImpSounds,1,.1);break;case"ash":m.playGargantuarAsh();break;case"Idle2":Math.random()<.5&&this.body.playAnimation("Idle2",1/0);break;case"rocket":this._rocket();break;case"shake":m.playArray(this.shakeSounds,1,.1),Math.random()<.3&&m.playArray(this.shakeMetalSounds,1,.1);break;case"pat":m.playArray(this.patSounds,1,.1);break;case"expl":m.playArray(this.explodeSounds,1,.1),S.shakeScreen();var t=v(this.explodePar);t.parent=this.inLane.prjLayer,t.worldPosition=new b(this.explPoint.worldPosition.x,this.worldPositionY);break;case"strike":m.playArray(this.strikeSounds,1,.1);break;case"throw":m.playArray(this.throwSounds,1,.1);break;case"fly":m.playArray(this.flySounds,1,.1);break;case"magic":m.playArray(this.magicSounds,1,.1);break;case"say":m.playArray(this.saySounds,1,.1);break;case"sayThrow":m.playArray(this.sayThrowSounds,1,.1);break;case"blackhole":m.playArray(this.blackholeOpenSounds,1,.1);var o=v(this.blackholePar);o.parent=this.node.parent,o.worldPosition=new b(this.worldPositionX+3.5*k.SquareWidth*(this.reversed?-1:1),this.worldPositionY+k.SquareHeight,0),o.scale=this.node.scale.clone().multiplyScalar(3);var r=o.getComponent(C);this.blackholePSD=r}},i(t,[{key:"objdataOwn",get:function(){return this._objdataOwn}},{key:"objdataOwnOrg",get:function(){return this._objdataOwnOrg}}]),t}(y)).prototype,"shooter",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=t(J.prototype,"blackholePar",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ee=t(J.prototype,"blackholeOpenSounds",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ne=t(J.prototype,"blackholeClosingSounds",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),te=t(J.prototype,"explPoint",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),oe=t(J.prototype,"explodePar",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),re=t(J.prototype,"explodeSounds",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ie=t(J.prototype,"shakeSounds",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ae=t(J.prototype,"shakeMetalSounds",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),se=t(J.prototype,"patSounds",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ue=t(J.prototype,"strikeSounds",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),le=t(J.prototype,"throwSounds",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ce=t(J.prototype,"throwImpSounds",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),he=t(J.prototype,"bombKnockSounds",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),pe=t(J.prototype,"flySounds",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),de=t(J.prototype,"magicSounds",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),be=t(J.prototype,"saySounds",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),me=t(J.prototype,"sayThrowSounds",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),U=J))||U));u._RF.pop()}}}));

System.register("chunks:///_virtual/KongfuBronzeChiZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SoundRescourses.ts","./KongfuBronzeZombie.ts","./ArrayGet.ts","./CharacterManager.ts","./Square.ts","./LnC.ts"],(function(n){var e,t,i,o,r,a,s,u,l,c,h,m,d,f,p,b,g,y;return{setters:[function(n){e=n.applyDecoratedDescriptor,t=n.inheritsLoose,i=n.initializerDefineProperty,o=n.assertThisInitialized,r=n.asyncToGenerator,a=n.regeneratorRuntime,s=n.createClass},function(n){u=n.cclegacy,l=n._decorator,c=n.AudioClip},function(n){h=n.sounds},function(n){m=n.KongfuBronzeZombie,d=n.KongfuBronzeProps},function(n){f=n.ValueRange,p=n.ArrayGet},function(n){b=n.kongfuChi},function(n){g=n.Square},function(n){y=n.LnCSpawnZombieStyleEnum}],execute:function(){var S,k,w,C,_,v,z,O,B;u._RF.push({},"65153iXl99LLYllVthuBLLb","KongfuBronzeChiZombie",void 0);var L=l.ccclass,R=l.property,j=function(n){function e(){for(var e,t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return(e=n.call.apply(n,[this].concat(i))||this).TimeBetweenSkills={Min:16,Max:24},e.TimeBeforeSkills={Min:12,Max:20},e.ZombiesToSummon=["kongfu_hammer","kongfu_torch","kongfu_bomb","kongfu_drink","kongfu_drink","monk_blade","monk_torch","monk_nunchaku","monk_drink"],e.SummonCount=3,e.SummonColume={Min:6,Max:7},e.SummonTime=2,e}return t(e,n),e}(d);n("KongfuBronzeChiZombie",(S=L("KongfuBronzeChiZombie"),k=R([c]),w=R([c]),C=R([c]),S((z=e((v=function(n){function e(){for(var e,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return(e=n.call.apply(n,[this].concat(r))||this)._objdataOwn=new j,e._objdataOwnOrg=new j,e.skillCD=20,e.lastSkill=0,i(e,"saySounds",z,o(e)),i(e,"pullReadySounds",O,o(e)),i(e,"pullSounds",B,o(e)),e}t(e,n);var u=e.prototype;return u.onObjdataSet=function(n){this.lastSkill=Math.round(Math.random()),this.skillCD=f.getRandomFromRange(this.objdataOwn.TimeBeforeSkills)},u.specialGargantuarUpdate=function(n,e,t){if(!this.switching&&this.enteredLawn&&(this.skillCD-=e,this.skillCD<=0&&t>0)){this.skillCD=f.getRandomFromRange(this.objdataOwn.TimeBetweenSkills);var i=this.areaChiable()&&this.lastSkill?"Pull":"Summon";this.isWalking=!1,this.correctShadeWP(.1),this.switching=!0,this.body.playAnimation(i,1/0,.1),this.lastSkill=1-this.lastSkill}},u.areaChiable=function(){var n=this;if(this.hypnotized)return!1;var e=!1;return this.inLane.plantPool().forEach((function(t){e||t.eaterDetectable&&!t.invincible&&(n.reversed?-1:1)*(n.shadeSocket.worldPosition.x-t.worldPositionX)>0&&(e=!0)})),e},u.specialBronzeAnimationListener=function(n){var e=this;switch(n.name){case"say":h.playArray(this.saySounds,1,.5);break;case"pullSound":h.playArray(this.pullReadySounds,1,.5);break;case"pull":h.playArray(this.pullSounds,1,.5),this.hypnotized||(this.reversed?b.chi_left_byZombie(this):b.chi_right_byZombie(this));break;case"summon":p.randomize(this.objdataOwn.ZombiesToSummon).filter((function(n,t){return t<e.objdataOwn.SummonCount})).forEach((function(n){e.scheduleOnce(r(a().mark((function t(){var i,o,r,s,u;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=g.getRandomLane(),null==(o=g.getLnC(i.LaneIndex,8))||!o.isInLawn()){t.next=9;break}return r=f.getRandomFromRange(e.objdataOwn.SummonColume),s=g.getSquareWorldPosition(0,e.reversed?8-r:r).x,t.next=7,o.SpawnZombieByZombieType(n,y.directPut,!1,0,0,{},!0,e.reversed,e.hypnotized);case 7:null==(u=t.sent)||u.forEach((function(n){n.worldPositionX=s,n.playDirtSpawn(0)}));case 9:case"end":return t.stop()}}),t)}))),Math.random()*e.objdataOwn.SummonTime)}))}},s(e,[{key:"objdataOwn",get:function(){return this._objdataOwn}},{key:"objdataOwnOrg",get:function(){return this._objdataOwnOrg}}]),e}(m)).prototype,"saySounds",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=e(v.prototype,"pullReadySounds",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B=e(v.prototype,"pullSounds",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=v))||_));u._RF.pop()}}}));

System.register("chunks:///_virtual/KongfuBronzeHookZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SoundRescourses.ts","./KongfuBronzeZombie.ts","./levelController.ts","./ArrayGet.ts","./CharacterManager.ts","./Square.ts"],(function(e){var n,i,t,a,o,r,s,u,l,c,h,p,d,f,g,b,y;return{setters:[function(e){n=e.applyDecoratedDescriptor,i=e.inheritsLoose,t=e.initializerDefineProperty,a=e.assertThisInitialized,o=e.createClass},function(e){r=e.cclegacy,s=e._decorator,u=e.AudioClip,l=e.Vec2},function(e){c=e.sounds},function(e){h=e.KongfuBronzeZombie,p=e.KongfuBronzeProps},function(e){d=e.LevelPlay},function(e){f=e.ValueRange,g=e.ArrayGet},function(e){b=e.Rectangle},function(e){y=e.Square}],execute:function(){var S,k,m,w,A,z,v,B,L,O,R,j,C,D,_,P,H,Z,I,K,x;r._RF.push({},"41cf77Cy8hDZ6XLcd2ORIxS","KongfuBronzeHookZombie",void 0);var F=s.ccclass,q=s.property,E=function(e){function n(){for(var n,i=arguments.length,t=new Array(i),a=0;a<i;a++)t[a]=arguments[a];return(n=e.call.apply(e,[this].concat(t))||this).WalkSPS=.16,n.Toughness=6400,n.LeapInterval={Min:10,Max:16},n}return i(n,e),n}(p);e("KongfuBronzeHookZombie",(S=F("KongfuBronzeHookZombie"),k=q([u]),m=q([u]),w=q([u]),A=q([u]),z=q([u]),v=q([u]),B=q([u]),L=q([u]),O=q([u]),S((C=n((j=function(e){function n(){for(var n,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return(n=e.call.apply(e,[this].concat(o))||this)._objdataOwn=new E,n._objdataOwnOrg=new E,n.leapCD=16,n.chaining=!1,t(n,"roarSounds",C,a(n)),t(n,"leapSounds",D,a(n)),t(n,"shakeSounds",_,a(n)),t(n,"shakeLongSounds",P,a(n)),t(n,"shakeBigSounds",H,a(n)),t(n,"untieSounds",Z,a(n)),t(n,"hookArriveSounds",I,a(n)),t(n,"hookHitSounds",K,a(n)),t(n,"hookSmashBaseSounds",x,a(n)),n}i(n,e);var r=n.prototype;return r.onObjdataSet=function(e){this.leapCD=f.getRandomFromRange(this.objdataOwn.LeapInterval)},r.alertNow=function(){return!this.chaining},r.specialBronzeOnEnable=function(){this.chaining=!1},r.specialBronzeUpdateBeforePlantDetect=function(e,n,i){this.switching||(this.leapCD-=n,this.leapCD<=0&&i>0&&(this.correctShadeWP(.1),this.body.playAnimation("LeapStart",1/0,.1),this.chaining=!1,this.switching=!0,this.isWalking=!1,this.leapCD=f.getRandomFromRange(this.objdataOwn.LeapInterval)))},r.playSpecialZombieDie=function(e){this.chaining||this.judgeDeath()},r.extraBodyRecHiddenCondition=function(){return this.chaining},r.shouldSpeedScale=function(){return this.chaining?1:this.defaultShouldSpeedScale()},r.onSmashing=function(e){c.playArray(this.hookSmashBaseSounds,1,.1)},r.specialBronzeAnimationListener=function(e){var n=this;switch(e.name){case"roar":c.playArray(this.ImpThrowSaySounds,1,.2);break;case"shake":c.playArray(this.shakeSounds,1,.2);break;case"shake_long":c.playArray(this.shakeLongSounds,1,.2);break;case"shake_big":c.playArray(this.shakeBigSounds,1,.2);break;case"untie":c.playArray(this.untieSounds,1,.2);break;case"hook_arrive":c.playArray(this.hookArriveSounds,1,.1);break;case"hook_hit":c.playArray(this.hookHitSounds,1,.2);break;case"leap":c.playArray(this.leapSounds,1,.2),this.chaining=!0,this.currentFlyZombie=!0,this.flying=!0;break;case"jumpEnd":c.playArray(this.leapSounds,1,.2),this.chaining=!0,this.flying=!0,this.body.playAnimation("LeapEnd",1/0);var i=g.randomize(y.getAllLane().filter((function(e){return n.cIndex<=4||!e.isSea}))).sort((function(e,n){return e.plantPool().length-n.plantPool().length}))[0];i&&(this.worldPositionY=i.floorY);break;case"land":this.chaining=!1,c.playArray(this.roarSounds,1,.2);break;case"land_smash":d.shakeScreen();var t=b.createRectangleCenter(new l(this.worldPositionX,this.inLane.midY),y.SquareWidth,y.SquareHeight);this.inLane.plantPool().filter((function(e){return e.smasherDetectable&&t.judgeCrossRec(e.bodyRec)})).forEach((function(e){e.smash(n,!1)}))}},o(n,[{key:"objdataOwn",get:function(){return this._objdataOwn}},{key:"objdataOwnOrg",get:function(){return this._objdataOwnOrg}}]),n}(h)).prototype,"roarSounds",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=n(j.prototype,"leapSounds",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=n(j.prototype,"shakeSounds",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),P=n(j.prototype,"shakeLongSounds",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),H=n(j.prototype,"shakeBigSounds",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Z=n(j.prototype,"untieSounds",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),I=n(j.prototype,"hookArriveSounds",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),K=n(j.prototype,"hookHitSounds",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),x=n(j.prototype,"hookSmashBaseSounds",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=j))||R));r._RF.pop()}}}));

System.register("chunks:///_virtual/KongfuBronzeStatueZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./CharacterManager.ts","./SoundRescourses.ts","./ArrayGet.ts","./LnC.ts"],(function(e){var n,t,i,a,o,r,s,u,c,l,h,p,f,d,b,m,S,g,w,y,k;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized,o=e.createClass,r=e.asyncToGenerator,s=e.regeneratorRuntime},function(e){u=e.cclegacy,c=e._decorator,l=e.UIOpacity,h=e.Sprite,p=e.AudioClip,f=e.Vec2},function(e){d=e.Zombie,b=e.ZombieProps},function(e){m=e.ZombieDamageDetails,S=e.ZombieDamageType},function(e){g=e.sounds},function(e){w=e.ValueRange,y=e.ArrayGet},function(e){k=e.LnCSpawnZombieStyleEnum}],execute:function(){var L,B,C,D,T,Z,I,P,v,R,x,z,O;u._RF.push({},"0db2cy4xwhNdoMoITcESXYM","KongfuBronzeStatueZombie",void 0);var A=c.ccclass,_=c.property,j=function(e){function n(){for(var n,t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return(n=e.call.apply(e,[this].concat(i))||this).ZombieSort="Gargantuar",n.CannotChangeLaneByPowerToss=!0,n.CannotBeDetectedByPowerToss=!0,n.CannotBeDraggedByTangleKelp=!0,n.CannotBeTossedByCitron=!0,n.CannotBeSwallowedByChomper=!0,n.CannotCarryPlantfoodsInWaves=!0,n.LivesInDeepWater=!0,n.NormalDeathWhenMowed=!0,n.WalkSPS=0,n.WalkSPSVarience=0,n.Toughness=9e3,n.WavePointCost=2500,n.Weight=2750,n.LifeSpan={Min:25,Max:35},n.ZombiesToSpawn=["kongfu_bronze_strong"],n.HitRect="RTID(GargantuarHitRect@RectangleProps)",n.AttackRect="RTID(GargantuarAttackRect@RectangleProps)",n}return t(n,e),n}(b);e("KongfuBronzeStatueZombie",(L=A("KongfuBronzeStatueZombie"),B=_(l),C=_(h),D=_([p]),T=_([p]),Z=_([p]),L((v=n((P=function(e){function n(){for(var n,t=arguments.length,o=new Array(t),r=0;r<t;r++)o[r]=arguments[r];return(n=e.call.apply(e,[this].concat(o))||this)._objdataOwn=new j,n._objdataOwnOrg=new j,n.knockBackable=!1,n.leapable=!1,n.LifeSpan=60,n._LifeCD=60,i(n,"healthShowerOpa",v,a(n)),i(n,"healthShowerSpr",R,a(n)),n.ZombiesToSpawn=[],i(n,"explodeSounds",x,a(n)),i(n,"deathFallSounds",z,a(n)),i(n,"ImpThrowSaySounds",O,a(n)),n.countHealthToThisLane=!1,n}t(n,e);var u=n.prototype;return u.specialZombieKnockbackable=function(){return!1},u.specialZombieLeapable=function(){return!1},u.setChiliStun=function(e){return!1},u.setChill=function(e){return!1},u.setFreeze=function(e,n){return!1},u.chilibeanFart=function(){},u.setButter=function(e,n){return!1},u.setPerfume=function(e){},u.setSunBeanParticleCD=function(e){},u.triggerGameLose=function(){},u.setStun=function(e){},u.detectPlant=function(e){},u.knockBackBy=function(e,n,t,i,a,o){return new f(this.worldPositionX,this.worldPositionY)},u.knockBackTo=function(e,n,t,i,a){return new f(this.worldPositionX,this.worldPositionY)},u.leapBy=function(e,n,t,i,a,o,r,s){},u.leapTo=function(e,n,t,i,a,o,r){},u.dealHurrikale=function(e){},u.playSpecialZombieDie=function(e){this.judgeDeath(0)},u.explode=function(){var e=r(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.summonBronze();case 2:this.playDie(!0),this.body.playAnimation("Explode");case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),u.specialZombieUpdate=function(e,n,t){this.switching||(this.LifeCD>0&&(this.LifeCD-=n),this.LifeCD<=0&&(this.switching=!0,this.explode()))},u.dealDamage=function(e){return this.switching?this.health:this.defaultDealDamage(e)},u.lockedTimeScale=function(){return 1},u.onObjdataSet=function(e){this.LifeCD=this.LifeSpan=w.getRandomFromRange(this.objdataOwn.LifeSpan),this.ZombiesToSpawn=this.objdataOwn.ZombiesToSpawn.concat()},u.specialZombieOnEnable=function(){this.healthShowerSpr.fillRange=0},u.playWalk=function(e,n){this.playIdle(e,n,!1)},u.specialZombieUpdateForced=function(e,n,t,i){this.healthShowerOpa.opacity=25*this.hurting},u.onDamaged=function(e,n,t){this.healthShowerSpr.fillRange=1-n/this.toughness},u.readBronzeDetails=function(e){e.LifeSpan&&(this.LifeCD=this.LifeSpan=w.getRandomFromRange(e.LifeSpan)),e.ZombiesToSpawn&&(this.ZombiesToSpawn=e.ZombiesToSpawn.concat())},u.summonBronze=function(){var e=r(s().mark((function e(){var n,t,i,a,o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=(this.toughness-this.health)/this.toughness,t=this.worldPosition,i=this.ShrinkProps.concat(),a=y.getRandom(this.ZombiesToSpawn),o=this.node.getSiblingIndex(),!a){e.next=10;break}return e.next=8,this.inLnC.SpawnZombieByZombieType(a,k.fromLane,!1,0,0,null,!1,this.reversed,this._usedToBeHypnotized);case 8:e.sent.forEach((function(e){if(e.worldPositionX=t.x,e.worldPositionY=t.y,e.judgeInLnC(),e.shrink(i,0),e.onSpawnedFromBronzeStatue(),e.node.setSiblingIndex(o),e.judgeInLnC(),n>0){var a=new m(n*e.toughness,!1,!1,!1,null,S.physicle,!1,!1);e.dealDamage(a)}}));case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),u.specialAnimationListener=function(e){switch(e.name){case"deathFall":g.playArray(this.deathFallSounds,1,.1);break;case"expl":g.playArray(this.ImpThrowSaySounds,1,.1),g.playArray(this.explodeSounds,1,.1);break;case"break":g.playTombBreak();break;case"chomp":this.chomp()}},o(n,[{key:"ImmuneToSporeShroom",get:function(){return!0}},{key:"objdataOwn",get:function(){return this._objdataOwn}},{key:"objdataOwnOrg",get:function(){return this._objdataOwnOrg}},{key:"LifeCD",get:function(){return this._LifeCD},set:function(e){var n=this.LifeStage;this._LifeCD=e;var t=this.LifeStage;if(n!=t){var i="Idle0",a="Break0";switch(t){case 1:i="Idle1",a="Break0";break;case 2:i="Idle2",a="Break1";break;case 3:i="Idle3",a="Break2";break;case 4:i="Idle4",a="Break3"}this.body.IdleAnm=i,this.playIdle(),t>n&&this.body.playAnimation(a,1/0)}}},{key:"LifeStage",get:function(){return Math.max(0,Math.min(4,Math.floor(5*(1-this.LifeCD/this.LifeSpan))))}}]),n}(d)).prototype,"healthShowerOpa",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=n(P.prototype,"healthShowerSpr",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=n(P.prototype,"explodeSounds",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=n(P.prototype,"deathFallSounds",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=n(P.prototype,"ImpThrowSaySounds",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),I=P))||I));u._RF.pop()}}}));

System.register("chunks:///_virtual/KongfuBronzeStrongZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SoundRescourses.ts","./KongfuBronzeZombie.ts","./levelController.ts"],(function(e){var n,t,r,a,o,i,s,c,l,u,g,h;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,r=e.initializerDefineProperty,a=e.assertThisInitialized,o=e.createClass},function(e){i=e.cclegacy,s=e._decorator,c=e.AudioClip},function(e){l=e.sounds},function(e){u=e.KongfuBronzeZombie,g=e.KongfuBronzeProps},function(e){h=e.LevelPlay}],execute:function(){var d,p,f,S,b;i._RF.push({},"41e5elD8DhI0rX0Lwi8ado+","KongfuBronzeStrongZombie",void 0);var w=s.ccclass,y=s.property,O=function(e){function n(){for(var n,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return(n=e.call.apply(e,[this].concat(r))||this).EnragedWalkingSpeedScale=2.5,n.EnragedSmashingSpeedScale=1.5,n.EnrageHealthPct=.3,n}return t(n,e),n}(g);e("KongfuBronzeStrongZombie",(d=w("KongfuBronzeStrongZombie"),p=y([c]),d((b=n((S=function(e){function n(){for(var n,t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];return(n=e.call.apply(e,[this].concat(o))||this)._objdataOwn=new O,n._objdataOwnOrg=new O,n.enraged=!1,r(n,"roarSounds",b,a(n)),n}t(n,e);var i=n.prototype;return i.onObjdataSet=function(e){},i.specialBronzeOnEnable=function(){this.enraged=!1},i.shouldSpeedScale=function(){var e=this.defaultShouldSpeedScale();return this.enraged&&(this.isWalking?e*=this.objdataOwn.EnragedWalkingSpeedScale:e*=this.objdataOwn.EnragedSmashingSpeedScale),e},i.specialBronzeUpdateBeforePlantDetect=function(e,n,t){!this.enraged&&t>0&&!this.switching&&this.health<this.toughness*this.objdataOwn.EnrageHealthPct&&(this.isWalking=!1,this.switching=!0,this.correctShadeWP(.1),this.body.playAnimation("Enrage",1/0,.1))},i.specialBronzeAnimationListener=function(e){switch(e.name){case"roar":h.shakeScreen(.7),l.playArray(this.roarSounds,1,.2);break;case"enrage":this.enraged=!0}},o(n,[{key:"objdataOwn",get:function(){return this._objdataOwn}},{key:"objdataOwnOrg",get:function(){return this._objdataOwnOrg}}]),n}(u)).prototype,"roarSounds",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),f=S))||f));i._RF.pop()}}}));

System.register("chunks:///_virtual/KongfuBronzeZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SoundRescourses.ts","./GargantuarZombie.ts"],(function(t){var n,e,i,a,r,o,s,u,c,l,h;return{setters:[function(t){n=t.inheritsLoose,e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty,a=t.assertThisInitialized,r=t.createClass},function(t){o=t.cclegacy,s=t._decorator,u=t.AudioClip},function(t){c=t.sounds},function(t){l=t.GargantuarProps,h=t.GargantuarZombie}],execute:function(){var p,d,g,b,f,y,m;o._RF.push({},"de12ctW53tFS5HrI/l2Uhqw","KongfuBronzeZombie",void 0);var w=s.ccclass,S=s.property,B=t("KongfuBronzeProps",function(t){function e(){for(var n,e=arguments.length,i=new Array(e),a=0;a<e;a++)i[a]=arguments[a];return(n=t.call.apply(t,[this].concat(i))||this).Toughness=5400,n.WalkSPS=.16,n}return n(e,t),e}(l));t("KongfuBronzeZombie",(p=w("KongfuBronzeZombie"),d=S([u]),g=S([u]),p((y=e((f=function(t){function e(){for(var n,e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return(n=t.call.apply(t,[this].concat(r))||this)._objdataOwn=new B,n._objdataOwnOrg=new B,n.BPSlots=[],n._grabbed=!1,i(n,"grabSounds",y,a(n)),i(n,"groundHitSounds",m,a(n)),n}n(e,t);var o=e.prototype;return o.onObjdataSet=function(t){},o.onSpawnedFromBronzeStatue=function(){this.grabbed=!1,this.switching=!0,this.isWalking=!1,this.body.playAnimation("Spawn",1/0,0)},o.specialGargantuarOnEnable=function(){this.haveImp=!1,this.grabbed=!0,this.BPSlots.forEach((function(t){t._setDisplayIndex(0)})),this.specialBronzeOnEnable()},o.specialBronzeOnEnable=function(){},o.specialZombieUpdateBeforePlantDetect=function(t,n,e){this.grabbed||this.switching||(this.switching=!0,this.isWalking=!1,this.correctShadeWP(),this.body.playAnimation("Spawn",1/0,0)),this.specialBronzeUpdateBeforePlantDetect(t,n,e)},o.specialBronzeUpdateBeforePlantDetect=function(t,n,e){},o.throwImpNow=function(){return!1},o.specialGargantuarOnLoad=function(){var t=this;this.db.armature().getSlots().forEach((function(n){n.name.includes("_BP")&&t.BPSlots.push(n)}))},o.gargantuarOnDamaged=function(t,n,e){var i=n<this.toughness/2;this.BPSlots.forEach((function(t){t._setDisplayIndex(i?1:0)}))},o.specialBronzeAnimationListener=function(t){},o.specialGargantuarAnimationListener=function(t){switch(t.name){case"dirt":this.playDirtSpawnParticle();break;case"hit":c.playArray(this.groundHitSounds);break;case"grab":c.playArray(this.grabSounds),this.grabbed=!0}this.specialBronzeAnimationListener(t)},r(e,[{key:"objdataOwn",get:function(){return this._objdataOwn}},{key:"objdataOwnOrg",get:function(){return this._objdataOwnOrg}},{key:"grabbed",get:function(){return this._grabbed},set:function(t){this.body.IdleAnm=t?"Idle":"Idle_Empty",this.body.DeathAnm=t?"Death":"Death_Empty",(this.isWalking||this.isIdling)&&this.replayAnimation(),this._grabbed=t}}]),e}(h)).prototype,"grabSounds",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),m=e(f.prototype,"groundHitSounds",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),b=f))||b));o._RF.pop()}}}));

System.register("chunks:///_virtual/KongfuChiZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./CharacterManager.ts","./SoundRescourses.ts"],(function(i){var t,n,e,o,a,r,h,s,c,l,u,d;return{setters:[function(i){t=i.applyDecoratedDescriptor,n=i.inheritsLoose,e=i.initializerDefineProperty,o=i.assertThisInitialized,a=i.createClass},function(i){r=i.cclegacy,h=i._decorator,s=i.AudioClip},function(i){c=i.Zombie,l=i.ZombieProps},function(i){u=i.kongfuChi},function(i){d=i.sounds}],execute:function(){var b,p,f,g,C,v,y;r._RF.push({},"25dd3ArlwFC2INV9Ekx2eVu","KongfuChiZombie",void 0);var m=h.ccclass,w=h.property,S=function(i){function t(){for(var t,n=arguments.length,e=new Array(n),o=0;o<n;o++)e[o]=arguments[o];return(t=i.call.apply(i,[this].concat(e))||this).ChiInterval=7,t.ChiIntervalStart=4,t}return n(t,i),t}(l);i("KongfuChiZombie",(b=m("KongfuChiZombie"),p=w(s),f=w(s),b((v=t((C=function(i){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return t=i.call.apply(i,[this].concat(a))||this,e(t,"chargeSound",v,o(t)),e(t,"chiSound",y,o(t)),t._objdataOwn=new S,t.chiCD=6,t}n(t,i);var r=t.prototype;return r.onObjdataSet=function(i){this.chiCD=this.objdataOwn.ChiIntervalStart},r.areaChiable=function(){var i=this,t=!1;return this.inLane.plantPool().forEach((function(n){t||n.eaterDetectable&&!n.invincible&&(i.reversed?-1:1)*(i.shadeSocket.worldPosition.x-n.worldPositionX)>0&&(t=!0)})),t},r.playSpecialZombieDie=function(i){this.switching&&this.judgeDeath(.2)},r.specialZombieOnEnable=function(){this.chiCD=this.objdataOwn.ChiIntervalStart},r._chi=function(){this.isInLawn()&&this.inLane&&this.isAlive()&&!this.reversed&&!this.hypnotized&&u.chi_right_byZombie(this)},r.onReversedSet=function(i){i&&this.switching&&(this.switching=!1,this.detectPlant(.01))},r.chiAnimation=function(){this.correctShadeWP(.1),this.chiCD=this.objdataOwn.ChiInterval,this.switching=!0,this.isWalking=!1,this.body.playAnimation("Absorb",1/0,.1),d.playOneShot(this.chargeSound,1,.7)},r.specialAnimationListener=function(i){"absorb"==i.name?(this._chi(),d.playOneShot(this.chiSound,1,.5)):i.name},r.specialZombieUpdate=function(i,t,n){var e;!this.hypnotized&&this.isInLawn()&&!this.reversed&&this.isWalking&&(null==(e=this.inLnC)?void 0:e.cIndex)>2&&this.areaChiable()&&(this.chiCD>0&&(this.chiCD-=i),this.chiCD<=0&&this.chiAnimation())},a(t,[{key:"objdataOwn",get:function(){return this._objdataOwn}}]),t}(c)).prototype,"chargeSound",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=t(C.prototype,"chiSound",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=C))||g));r._RF.pop()}}}));

System.register("chunks:///_virtual/KongfuDrinkZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./SoundRescourses.ts"],(function(n){var i,t,e,a,r,o,s,u,l,d,c,h;return{setters:[function(n){i=n.inheritsLoose,t=n.applyDecoratedDescriptor,e=n.initializerDefineProperty,a=n.assertThisInitialized,r=n.createClass},function(n){o=n.cclegacy,s=n._decorator,u=n.Prefab,l=n.AudioClip},function(n){d=n.ZombieProps,c=n.Zombie},function(n){h=n.sounds}],execute:function(){var k,b,g,m,p,f,D,y,w,S,A,O,j,_,P;o._RF.push({},"9a3ea55vxFHuIZe+rUbLlKn","KongfuDrinkZombie",void 0);var H=s.ccclass,z=s.property,v=n("KongfuDrinkProps",function(n){function t(){for(var i,t=arguments.length,e=new Array(t),a=0;a<t;a++)e[a]=arguments[a];return(i=n.call.apply(n,[this].concat(e))||this).ArmDroppingHealthPct=.25,i.DrinkHealthPct=.5,i.DrunkDamageMult=.5,i.DrinkingDamageMult=.25,i.DrunkEatingDamageScale=2,i.DrunkWalkingSpeedScale=2,i}return i(t,n),t}(d));n("KongfuDrinkZombie",(k=H("KongfuDrink"),b=z(u),g=z(u),m=z(u),p=z(u),f=z([l]),D=z([l]),k((S=t((w=function(n){function t(){for(var i,t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return(i=n.call.apply(n,[this].concat(r))||this)._objdataOwn=new v,i._objdataOwnOrg=new v,e(i,"normalHead",S,a(i)),e(i,"normalArm",A,a(i)),e(i,"drunkHead",O,a(i)),e(i,"drunkArm",j,a(i)),i.zombieHead=void 0,i.zombieArm=void 0,i._drunk=!1,i.drinking=!1,e(i,"drinkSounds",_,a(i)),e(i,"changeSounds",P,a(i)),i}i(t,n);var o=t.prototype;return o.onObjdataSet=function(n){},o.playSpecialZombieDie=function(n){this.switching&&this.judgeDeath(.1)},o.specialZombieOnEnable=function(){this.drunk=!1,this.drinking=!1},o.extraDamageScale=function(n){return this.drinking?this.objdataOwn.DrinkingDamageMult:this.drunk?this.objdataOwn.DrunkDamageMult:1},o.specialZombieUpdateBeforePlantDetect=function(n,i,t){t>0&&!this.switching&&!this.drunk&&this.health<=this.objdataOwn.DrinkHealthPct*this.toughness&&(this.correctShadeWP(.1),this.switching=!0,this.isWalking=!1,this.isEating=!1,this.drinking=!0,this.body.playAnimation("Drink",1/0,.1))},o.specialAnimationListener=function(n){switch(n.name){case"drink":h.playArray(this.drinkSounds,1,.1);break;case"change":h.playArray(this.changeSounds,1,.1),this.drunk=!0,this.drinking=!1;break;default:this.specialDrinkAnimationListener(n)}},o.specialDrinkAnimationListener=function(n){},r(t,[{key:"objdataOwn",get:function(){return this._objdataOwn}},{key:"objdataOwnOrg",get:function(){return this._objdataOwnOrg}},{key:"squarePerSec",get:function(){return this.drunk?this.objdataOwn.WalkSPS*this.objdataOwn.DrunkWalkingSpeedScale:this.objdataOwn.WalkSPS}},{key:"dps",get:function(){return this.drunk?this.objdataOwn.EatDPS*this.objdataOwn.DrunkEatingDamageScale:this.objdataOwn.EatDPS}},{key:"drunk",get:function(){return this._drunk},set:function(n){this.body.IdleAnm=n?"Idle_Drunk":"Idle",this.body.EatAnm=n?"Eat_Drunk":"Eat",this.body.WalkAnm=n?"Walk_Drunk":"Walk",this.body.DeathAnm=n?"Death_Drunk":"Death",this.zombieHead=n?this.drunkHead:this.normalHead,this.zombieArm=n?this.drunkArm:this.normalArm,n!=this._drunk&&(this.isWalking||this.isEating)&&this.replayAnimation(),this._drunk=n}}]),t}(c)).prototype,"normalHead",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=t(w.prototype,"normalArm",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=t(w.prototype,"drunkHead",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=t(w.prototype,"drunkArm",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=t(w.prototype,"drinkSounds",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),P=t(w.prototype,"changeSounds",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y=w))||y));o._RF.pop()}}}));

System.register("chunks:///_virtual/KongfuFlagZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./KongfuBasicZombie.ts"],(function(n){var t,o,e,r,a,c;return{setters:[function(n){t=n.inheritsLoose,o=n.createClass},function(n){e=n.cclegacy,r=n._decorator},function(n){a=n.KongfuBasicZombie,c=n.KongfuBasicProps}],execute:function(){var i;e._RF.push({},"98fadSBSlpHJo0QFt0Fdmrk","KongfuFlagZombie",void 0);var u=r.ccclass,s=(r.property,function(n){function o(){return n.apply(this,arguments)||this}return t(o,n),o}(c));n("KongfuFlagZombie",u("KongfuFlagZombie")(i=function(n){function e(){for(var t,o=arguments.length,e=new Array(o),r=0;r<o;r++)e[r]=arguments[r];return(t=n.call.apply(n,[this].concat(e))||this)._objdataOwn=new s,t._objdataOwnOrg=new s,t}t(e,n);var r=e.prototype;return r.detectRack=function(){},r.transIntoZombie=function(n){},r.transByRack=function(n){},r.judgeTombDetectAsRack=function(n){return!1},o(e,[{key:"objdataOwn",get:function(){return this._objdataOwn}},{key:"objdataOwnOrg",get:function(){return this._objdataOwnOrg}}]),e}(a))||i);e._RF.pop()}}}));

System.register("chunks:///_virtual/KongfuGongZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./SoundRescourses.ts","./ArrayGet.ts","./Zombies.ts","./Square.ts"],(function(n){var e,t,o,i,a,r,s,m,u,c,h,g,d,f,b,l,p;return{setters:[function(n){e=n.applyDecoratedDescriptor,t=n.inheritsLoose,o=n.initializerDefineProperty,i=n.assertThisInitialized,a=n.createClass,r=n.asyncToGenerator,s=n.regeneratorRuntime},function(n){m=n.cclegacy,u=n._decorator,c=n.AudioClip},function(n){h=n.Zombie,g=n.ZombieProps},function(n){d=n.sounds},function(n){f=n.ValueRange,b=n.ArrayGet},function(n){l=n.zombies},function(n){p=n.Square}],execute:function(){var w,y,S,Z,v;m._RF.push({},"e560dfiQUZKwraJhD0ysmnM","KongfuGongZombie",void 0);var A=u.ccclass,O=u.property,R=function(n){function e(){for(var e,t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];return(e=n.call.apply(n,[this].concat(o))||this).SummonCount=new f(3,2),e.TimeBeforeSummon=new f(12,9),e.TimeBetweenSummon=new f(10,7),e.ZombiesToSummon=["kongfu_bomb"],e.ZombieSummonDistance=new f(1,0),e}return t(e,n),e}(g);n("KongfuGongZombie",(w=A("KongfuGongZombie"),y=O([c]),w((v=e((Z=function(n){function e(){for(var e,t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return(e=n.call.apply(n,[this].concat(a))||this)._objdataOwn=new R,e._objdataOwnOrg=new R,e.gongLeftTime=0,e.gongCD=0,o(e,"hitSounds",v,i(e)),e}t(e,n);var m=e.prototype;return m.onObjdataSet=function(n){this.gongCD=f.getRandomFromRange(this.objdataOwn.TimeBeforeSummon)},m.specialZombieUpdate=function(n,e,t){this.haveArm&&!this.switching&&this.enteredLawn&&(this.gongCD-=e,this.gongCD<=0&&t>0&&(this.gongCD=f.getRandomFromRange(this.objdataOwn.TimeBetweenSummon),this.summonAnm()))},m.summonAnm=function(){this.isWalking=!1,this.switching=!0,this.correctShadeWP(.1),this.gongLeftTime=f.getRandomIntegerFromRange(this.objdataOwn.SummonCount),this.body.playAnimation("Gong",1/0,.1)},m.summonOneZombie=function(){var n=r(s().mark((function n(){var e,t,o,i;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=l.getZombieEnumByCodename(b.getRandom(this.objdataOwn.ZombiesToSummon)),t=p.getRandomLane(),n.next=4,l.spawnZombieFromLane(t.LaneIndex,e,{},!0,this.reversed,this.hypnotized);case 4:if(!(o=n.sent)){n.next=12;break}return i=this.worldPositionX+Math.sign(Math.random()-.5)*f.getRandomFromRange(this.objdataOwn.ZombieSummonDistance)*p.SquareWidth,o.worldPositionX=i,n.next=10,o.additionalZombies();case 10:n.sent.concat(o).forEach((function(n){n.playDirtSpawn(0)}));case 12:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}(),m.specialAnimationListener=function(n){switch(n.name){case"hit":this.haveArm&&this.isAlive()&&(d.playArray(this.hitSounds,1,.1),this.summonOneZombie());break;case"judgeAgain":this.isAlive()&&--this.gongLeftTime>0&&this.haveArm&&this.body.playAnimation("Gong",1/0,0,12/51)}},a(e,[{key:"objdataOwn",get:function(){return this._objdataOwn}},{key:"objdataOwnOrg",get:function(){return this._objdataOwnOrg}}]),e}(h)).prototype,"hitSounds",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),S=Z))||S));m._RF.pop()}}}));

System.register("chunks:///_virtual/KongfuHammerZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./SoundRescourses.ts","./Character.ts"],(function(t){var e,n,i,o,a,r,s,u,h,c,l,m;return{setters:[function(t){e=t.inheritsLoose,n=t.applyDecoratedDescriptor,i=t.initializerDefineProperty,o=t.assertThisInitialized,a=t.createClass},function(t){r=t.cclegacy,s=t._decorator,u=t.AudioClip},function(t){h=t.ZombieProps,c=t.Zombie},function(t){l=t.sounds},function(t){m=t.CharacterType}],execute:function(){var d,p,y,g,b,w,f;r._RF.push({},"bf343WWxIZGua012JXDDgtc","KongfuHammerZombie",void 0);var D=s.ccclass,C=s.property,S=t("KongfuHammerProps",function(t){function n(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))||this).HammerDuration=3,e.RestDuration=3,e.ProjectileDamageMult=3,e}return e(n,t),n}(h));t("KongfuHammerZombie",(d=D("KongfuHammerZombie"),p=C(u),y=C([u]),d((w=n((b=function(t){function n(){for(var e,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))||this)._objdataOwn=new S,e.hammerCountDown=0,e.restingCountDown=0,i(e,"rotateSound",w,o(e)),i(e,"hitSounds",f,o(e)),e}e(n,t);var r=n.prototype;return r.commonShotPopOnTouch=function(t){return this.restingCountDown>0||(this.shouldSpeedScale()<=0||(this.hammerCountDown>0?!t.canbeJesterReversed||0!=t.gravity||0!=t.bodyLinearVelocity||(t.linearVelocity.negative(),t.targetLocked=null,t.enemyType=this.hypnotized?m.zombie:m.plant,l.playArray(this.hitSounds,.5,.1),t.damageScale*=this.objdataOwn.ProjectileDamageMult,!1):!(this.hammerCountDown<=0&&!this.switching)||(t.canbeJesterReversed&&0==t.gravity&&0==t.bodyLinearVelocity&&t.linearVelocity.x*(this.reversed?-1:1)>0&&Math.abs(t.linearVelocity.y/t.linearVelocity.x)<=1&&(this.switching=!0,this.isWalking=!1,this.correctShadeWP(.1),this.body.playAnimation("RotateStart",1,.1)),!0)))},r.specialAnimationListener=function(t){"rotateStart"==t.name?(this.body.playAnimation("RotateLoop",1/0),this.hammerCountDown=this.objdataOwn.HammerDuration):"rest"==t.name&&(this.body.playAnimation("Resting",1/0),this.restingCountDown=this.objdataOwn.RestDuration),this.hammerZombieAnimationListenerAdd(t)},r.hammerZombieAnimationListenerAdd=function(t){},r.playSpecialZombieDie=function(t){this.switching&&(this.judgeDeath(.2),this.switching=!1)},r.specialZombieUpdate=function(t,e,n){this.hammerCountDown>0&&(this.hammerCountDown-=t,t>0&&l.playOneShot(this.rotateSound,1,.25),this.hammerCountDown<=0&&(this.body.playAnimation("RotateEnd",1/0,.2),this.isWalking=!1,this.restingCountDown=1/0)),this.restingCountDown>0&&(this.restingCountDown-=t,this.restingCountDown<=0&&(this.switching=!1,this.detectPlant(.01)))},r.specialZombieOnEnable=function(){this.hammerCountDown=0,this.restingCountDown=0},a(n,[{key:"objdataOwn",get:function(){return this._objdataOwn}}]),n}(c)).prototype,"rotateSound",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=n(b.prototype,"hitSounds",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),g=b))||g));r._RF.pop()}}}));

System.register("chunks:///_virtual/KongfuMonkImpZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./SoundRescourses.ts","./ImpZombie.ts","./ArrayGet.ts","./Plants.ts","./Zombies.ts","./Square.ts"],(function(t){var n,e,i,a,o,r,l,s,u,c,h,d,p,b,y,f;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,a=t.assertThisInitialized,o=t.createClass},function(t){r=t.cclegacy,l=t._decorator,s=t.AudioClip,u=t.tween},function(t){c=t.ZombieProps},function(t){h=t.sounds},function(t){d=t.ImpZombie},function(t){p=t.ValueRange},function(t){b=t.plants},function(t){y=t.zombies},function(t){f=t.Square}],execute:function(){var m,S,g,k,w,D,F,A,B,Z,I,T,O,j,P,R,v,L,_,z,C,W,M,E,x;r._RF.push({},"ab69dp1DUBC/bQPF+40um/h","KongfuMonkImpZombie",void 0);var K=l.ccclass,q=l.property,N=function(t){function n(){for(var n,e=arguments.length,i=new Array(e),a=0;a<e;a++)i[a]=arguments[a];return(n=t.call.apply(t,[this].concat(i))||this).Toughness=600,n.WalkSPS=.22,n.TimeBeforeFirst={Min:3,Max:6},n.TimeBetween={Min:5,Max:7},n.FlyDuration={Min:3,Max:4},n.LeapBackDistance=.5,n.FlyingSpeedScale=4.5,n.PlantsThatBlock=["tallnut"],n.ZombiesThatBlock=["future_protector_shield","modern_moonflower_shield","future_infinut_shield"],n}return e(n,t),n}(c);t("KongfuMonkImpZombie",(m=K("KongfuMonkImpZombie"),S=q([s]),g=q([s]),k=q([s]),w=q([s]),D=q([s]),F=q([s]),A=q([s]),B=q([s]),Z=q([s]),I=q([s]),T=q([s]),m((P=n((j=function(t){function n(){for(var n,e=arguments.length,o=new Array(e),r=0;r<e;r++)o[r]=arguments[r];return(n=t.call.apply(t,[this].concat(o))||this)._objdataOwn=new N,n._objdataOwnOrg=new N,n.FlyIntervalCD=10,n.FlyingCD=10,n.PlantsThatBlock=[],n.ZombiesThatBlock=[],i(n,"prepareSaySounds",P,a(n)),i(n,"fallStartSounds",R,a(n)),i(n,"flySounds",v,a(n)),i(n,"flySaySounds",L,a(n)),i(n,"runStepSounds",_,a(n)),i(n,"fallStepSounds",z,a(n)),i(n,"standSounds",C,a(n)),i(n,"standStepSounds",W,a(n)),i(n,"blockSaySounds",M,a(n)),i(n,"blockLandSounds",E,a(n)),i(n,"leapEndStepSounds",x,a(n)),n.isRunning=!1,n.leapBackTween=void 0,n}e(n,t);var r=n.prototype;return r.onObjdataSet=function(t){this.FlyIntervalCD=p.getRandomFromRange(this.objdataOwn.TimeBeforeFirst),this.objdataOwn.PlantsThatBlock&&(this.PlantsThatBlock=this.objdataOwn.PlantsThatBlock.map((function(t){return b.getPlantEnumByCodename(t)}))),this.objdataOwn.ZombiesThatBlock&&(this.ZombiesThatBlock=this.objdataOwn.ZombiesThatBlock.map((function(t){return y.getZombieEnumByCodename(t)})))},r.onLaneSpawnSettled=function(t,n){this.body.IdleAnm="Idle"},r.specialZombieOnDisable=function(){this.body.IdleAnm="Idle_Display"},r.walkSpeedScaleExtra=function(){return this.isRunning?this.objdataOwn.FlyingSpeedScale:1},r.detectPlant=function(t){var n=this;if(this.currentFlyZombie){if(this.switching||!this.inLane)return;if(t>0){var e=this.plantDetectorRec;(this.inLane.plantPool().some((function(t){return t.eaterDetectable&&-1!=n.PlantsThatBlock.indexOf(t.ID)&&e.judgeCrossRec(t.bodyRec)}))||(this.hypnotized?this.inLane.zombiePool():this.inLane.hypnoZombiePool()).some((function(t){return-1!=n.ZombiesThatBlock.indexOf(t.OID)&&e.judgeCrossRec(t.bodyRec)})))&&(this.switching=!0,this.isWalking=!1,this.body.playAnimation("FloatInterupt",1),this.fallStart())}}else this.defaultDetectPlant(t)},r.playSpecialZombieDie=function(t){this.currentFlyZombie&&this.judgeDeath()},r.specialZombieUpdateBeforePlantDetect=function(t,n,e){this.switching||(this.currentFlyZombie?(this.FlyingCD-=n,(this.FlyingCD<=0||e<=0)&&(this.switching=!0,this.isWalking=!1,this.body.playAnimation("FloatEnd",1),this.fallStart())):(this.FlyIntervalCD-=n,this.FlyIntervalCD<=0&&e>0&&(h.playArray(this.prepareSaySounds,1,1),this.FlyIntervalCD=p.getRandomFromRange(this.objdataOwn.TimeBetween),this.FlyingCD=p.getRandomFromRange(this.objdataOwn.FlyDuration),this.switching=!0,this.isWalking=!1,this.body.playAnimation("FloatStart",1))))},r.fallStart=function(){this.isRunning=!1,this.body.WalkAnm="Walk",this.body.IdleAnm="Idle",this.body.DeathAnm="Death"},r.walkTimeScale=function(t,n,e){return this.currentFlyZombie||this.leapBackTween?1:this.defaultWalkTimeScale(t,n,e)},r.lockedTimeScale=function(){return this.leapBackTween||this.switching&&this.currentFlyZombie?1:NaN},r.specialImpOnEnable=function(){this.isRunning=!1,this.currentFlyZombie=!1,this.body.WalkAnm="Walk",this.body.IdleAnm="Idle_Display",this.body.DeathAnm="Death",this.isWalking&&this.replayAnimation()},r.ImpPlayLandAnmNow=function(){return!this.currentFlyZombie},r.specialImpAnimationListener=function(t){var n=this;switch(t.name){case"fly":h.playArray(this.flySounds,1,.5),h.playArray(this.flySaySounds,1,.5),this.currentFlyZombie=!0,this.switching=!1,this.flying=!0,this.body.IdleAnm="FloatLoop",this.body.DeathAnm="Death_Floating",this.body.WalkAnm="FloatLoop";break;case"leapEndStep":h.playArray(this.leapEndStepSounds,1,.1);break;case"runStep":h.playArray(this.runStepSounds,1,.1);break;case"fallStep":h.playArray(this.fallStepSounds,1,.5);break;case"stand":h.playArray(this.standSounds,1,.5);break;case"standStep":h.playArray(this.standStepSounds,1,.1);break;case"block":h.playArray(this.blockSaySounds,1,.5);break;case"block_land":h.playArray(this.blockLandSounds,1,.5);break;case"fallStart":h.playArray(this.fallStartSounds,1,.5);break;case"backStart":h.playArray(this.fallStartSounds,1,.5);var e=this.objdataOwn.LeapBackDistance;e&&(this.leapBackTween=u(this).by(.5,{worldPositionX:e*Math.sign(this.scale)*f.SquareWidth}).call((function(){n.judgeDeath(),n.leapBackTween=null})).start());break;case"run":this.isWalking=!0,this.isRunning=!0;break;case"flyLoop":this.body.playAnimation("FloatLoop",1/0),this.judgeDeath()}},o(n,[{key:"objdataOwn",get:function(){return this._objdataOwn}},{key:"objdataOwnOrg",get:function(){return this._objdataOwnOrg}}]),n}(d)).prototype,"prepareSaySounds",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=n(j.prototype,"fallStartSounds",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=n(j.prototype,"flySounds",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=n(j.prototype,"flySaySounds",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=n(j.prototype,"runStepSounds",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=n(j.prototype,"fallStepSounds",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C=n(j.prototype,"standSounds",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),W=n(j.prototype,"standStepSounds",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),M=n(j.prototype,"blockSaySounds",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),E=n(j.prototype,"blockLandSounds",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),x=n(j.prototype,"leapEndStepSounds",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=j))||O));r._RF.pop()}}}));

System.register("chunks:///_virtual/KongfuRocketImpZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CharacterManager.ts","./Zombie.ts","./SoundRescourses.ts","./ImpZombie.ts","./NodePools.ts","./Character.ts"],(function(t){var e,i,n,o,a,r,s,c,h,l,u,d,m,y,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized,a=t.createClass},function(t){r=t.cclegacy,s=t._decorator,c=t.Prefab,h=t.AudioClip},function(t){l=t.ZombieDamageType},function(t){u=t.ZombieProps},function(t){d=t.sounds},function(t){m=t.ImpZombie},function(t){y=t.instantiatePooly},function(t){p=t.Character}],execute:function(){var b,f,k,g,S,w,Z,F,v,A,W,D,R;r._RF.push({},"ca5d8f2GThAUat6zJ6FltNn","KongfuRocketImpZombie",void 0);var I=s.ccclass,O=s.property,T=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this).WalkSPS=.4,e.WalkSpeedMultFlying=6,e}return i(e,t),e}(u);t("KongfuRocketImpZombie",(b=I("KongfuRocketImpZombie"),f=O(c),k=O([h]),g=O([h]),S=O([h]),w=O(h),b((v=e((F=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))||this)._objdataOwn=new T,e._objdataOwnOrg=new T,e.bodySlots=[],n(e,"rocketThrown",v,o(e)),e._haveRocket=!0,n(e,"launchSounds",A,o(e)),n(e,"scream0Sounds",W,o(e)),n(e,"scream1Sounds",D,o(e)),n(e,"rocketLoopSound",R,o(e)),e}i(e,t);var r=e.prototype;return r.onObjdataSet=function(t){},r.CanBeScaredByTyranno=function(){return!this.currentFlyZombie},r.specialImpOnLoad=function(){var t=this;this.db.armature().getSlots().forEach((function(e){e.name.includes("BODY")&&t.bodySlots.push(e)}))},r.playSpecialZombieDie=function(t){this.haveRocket&&this.currentFlyZombie&&(this.rocketEnd(!0),this.body.playAnimation("Drop",1))},r.onDirtSpawned=function(t){this.body.WalkAnm="Walk",this.currentFlyZombie=!1,this.flying=!1},r.onSandStormStart=function(){this.body.WalkAnm="Walk",this.currentFlyZombie=!1,this.flying=!1},r.onLaneSpawnSettled=function(t,e){this.currentFlyZombie=!0,this.flying=!0,this.body.WalkAnm="Walk_Fly",this.isWalking&&(this.replayAnimation(),d.playArray(this.launchSounds,1,NaN,.4))},r.specialImpOnEnable=function(){this.haveRocket=!0,this.body.WalkAnm="Walk",this.currentFlyZombie=!1,this.flying=!1},r.lockedTimeScale=function(){return this.currentFlyZombie||this.switching?1:NaN},r.walkTimeScale=function(t,e,i){return this.currentFlyZombie?1:this.defaultWalkTimeScale(t,e,i)},r.walkSpeedScaleExtra=function(){return this.currentFlyZombie?this.objdataOwn.WalkSpeedMultFlying:1},r.onDamaged=function(t,e,i){!this.currentFlyZombie&&this.haveRocket&&i.damageType==l.fire&&this.ignite()},r.onDamagedButArmor=function(t){!this.currentFlyZombie&&this.haveRocket&&t.damageType==l.fire&&this.ignite()},r.ignite=function(){this.playDie(!0,null,!1),this.isWalking=!1,this.switching=!0,this.body.playAnimation("Flee",1)},r.whenPlantDetected=function(t,e,i){this.currentFlyZombie?this.rocketEnd():this.defaultWhenPlantDetected(t,e,i)},r.whenZombieDetected=function(t,e,i){this.currentFlyZombie?this.rocketEnd():this.defaultWhenZombieDetected(t,e,i)},r.whenTombDetected=function(t,e,i){this.currentFlyZombie?this.rocketEnd():this.defaultWhenTombDetected(t,e,i)},r.ImpPlayLandAnmNow=function(){return"Drop"!=this.body.currentAnimationName},r.onThrownByGargantuar=function(t){this.switching=!0,this.body.playAnimation("Fly",1/0),this.isWalking=!1,this.haveRocket=!1},r.LiesImmediatelyWhenHeavyDamaged=function(){return!this.switching},r.rocketEnd=function(t){void 0===t&&(t=!0),this.isWalking=!1,this.switching=!0,this.body.WalkAnm="Walk",this.body.playAnimation("Drop",1),d.playArray(this.scream1Sounds,1,.1),t&&this.throwRocket()},r.onFrozen=function(t){this.currentFlyZombie&&!this.switching&&t>0&&this.rocketEnd(!1)},r.onChill=function(t){this.currentFlyZombie&&!this.switching&&t>0&&this.rocketEnd(!1)},r.throwRocket=function(){if(this.haveRocket){var t=y(this.rocketThrown);t.parent=this.node.parent,t.setSiblingIndex(this.node.getSiblingIndex());var e=t.getComponent(p);e.worldPosition=this.worldPosition,e.height_depth=this.height_depth,e.scale=this.scale,this.haveRocket=!1}},r.specialImpAnimationListener=function(t){switch(t.name){case"scream0":d.playArray(this.scream0Sounds,1,.1),d.playArray(this.launchSounds,1,NaN,.4);break;case"scream1":d.playArray(this.scream1Sounds,1,.1);break;case"destroy":this.chomp()}},r.specialZombieUpdate=function(t,e,i){this.currentFlyZombie&&this.isWalking&&(this.haveRocket&&i<=0&&this.rocketEnd(),d.playOneShot(this.rocketLoopSound,.6,NaN,.6666667,!1,!0))},a(e,[{key:"objdataOwn",get:function(){return this._objdataOwn}},{key:"objdataOwnOrg",get:function(){return this._objdataOwnOrg}},{key:"haveRocket",get:function(){return this._haveRocket},set:function(t){this.bodySlots.forEach((function(e){e._setDisplayIndex(t?1:0)})),this._haveRocket=t}}]),e}(m)).prototype,"rocketThrown",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=e(F.prototype,"launchSounds",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),W=e(F.prototype,"scream0Sounds",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=e(F.prototype,"scream1Sounds",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=e(F.prototype,"rocketLoopSound",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=F))||Z));r._RF.pop()}}}));

System.register("chunks:///_virtual/KongfuTNT.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Square.ts","./SoundRescourses.ts","./CharacterManager.ts","./NodePools.ts","./Particles.ts","./Tomb.ts","./UI.ts","./MultiLanguage.ts","./LnC.ts"],(function(e){var n,i,t,o,r,a,l,s,c,h,d,u,p,g,f,b,m,L,y,D,P,S,w,T;return{setters:[function(e){n=e.applyDecoratedDescriptor,i=e.inheritsLoose,t=e.initializerDefineProperty,o=e.assertThisInitialized,r=e.createClass},function(e){a=e.cclegacy,l=e._decorator,s=e.dragonBones,c=e.AudioClip,h=e.Vec2,d=e.Vec3,u=e.tween},function(e){p=e.Square},function(e){g=e.sounds},function(e){f=e.Rectangle,b=e.ZombieDamageDetails,m=e.ZombieDamageType,L=e.LineSegment},function(e){y=e.instantiatePooly},function(e){D=e.particle},function(e){P=e.Tomb},function(e){S=e.UIInGame},function(e){w=e.MultiLanguage},function(e){T=e.TileType}],execute:function(){var v,R,x,B,k,E,_,C,W,I,j,z,A,M,N;a._RF.push({},"4ba82xfPvRKzbxoyluj1QT/","KongfuTNT",void 0);var q=l.ccclass,Z=l.property;e("KongfuTNT",(v=q("KongfuTNT"),R=Z(s.ArmatureDisplay),x=Z(s.ArmatureDisplay),B=Z(s.ArmatureDisplay),k=Z([c]),E=Z(c),_=Z([c]),v((I=n((W=function(e){function n(){for(var n,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return n=e.call.apply(e,[this].concat(r))||this,t(n,"ropeDB",I,o(n)),t(n,"rollDB",j,o(n)),t(n,"sparkDB",z,o(n)),t(n,"igniteSounds",A,o(n)),n._ropeLength=0,n._ignited=!1,n.playsParticleWhenBroken=!1,n.playsParticleWhenDestroyed=!1,t(n,"rollingSound",M,o(n)),t(n,"rollEndSound",N,o(n)),n.depthStartingZ=0,n.exploding=!1,n.ropeSideWP=new h,n.targetRollingDistance=5,n.rollingTween=null,n._rolledDistance=0,n.DamagesToZombies=!0,n.DamagesToPlants=!0,n.gameloseOnExplode=!1,n.burningSPS=.5,n}i(n,e);var a=n.prototype;return a.specialTombOnLaneChange=function(e,n){this.node.setSiblingIndex(0)},a.setBodyRec=function(){this.bodyRec=new f,this.hidden=!0},a.playSpawnParticle=function(){},a.playBreakSound=function(){},a.playBreakPar=function(e){},a.playDeathPar=function(){},a.playDestructionSound=function(){},a.playParticle=function(e){},a.animationListener=function(e){switch(e.name){case"explode":this._explode();break;case"roll":this.rollRope();break;case"land":g.playMowerSpawn()}},a.specialTombOnLoad=function(){this.ropeDB.node.scale=new d(1.414,1,1),this.ropeDB.node.setRotationFromEuler(new d(0,45,0)),this.ropeLength=0},a.specialTombOnEnable=function(){this._ignited=!1,this.ignited=!1,this.hidden=!0,this.exploding=!1,this.db.playAnimation("Idle",1/0),this.gameloseOnExplode=!1,this.DamagesToPlants=!0,this.DamagesToZombies=!0},a._explode=function(){var e;this.gameloseOnExplode&&(null==(e=S.component)||e.loseDarken(this,"",w.getStringByPropsWithoutTricks("InGameScene","Challenge","SurviveWhileTNT")));if(this.inLane){var n=f.createRectangleCenter(new h(this.worldPositionX,this.inLane.midY),3*p.SquareWidth,3*p.SquareHeight),i=new b(1800,!1,!0,!0,null,m.fire);if(this.DamagesToPlants){var t=this.inLane.hypnoZombiePool().concat(this.inLane.UpperLane.hypnoZombiePool(),this.inLane.LowerLane.hypnoZombiePool()),o=this.inLane.plantPool().concat(this.inLane.UpperLane.plantPool(),this.inLane.LowerLane.plantPool()),r=this.inLane.tombPool(1).concat(this.inLane.UpperLane.tombPool(),this.inLane.LowerLane.tombPool());t.filter((function(e){return n.judgeCrossRec(e.bodyRec)})).forEach((function(e){e.dealDamage(i)})),o.filter((function(e){return n.judgeCrossRec(e.bodyRec)})).forEach((function(e){e.dealDamage(i.damage,3)})),r.filter((function(e){return n.judgeCrossRec(e.bodyRec)})).forEach((function(e){e.dealDamage(i)}))}if(this.DamagesToZombies){var a=this.inLane.zombiePool().concat(this.inLane.UpperLane.zombiePool(),this.inLane.LowerLane.zombiePool()),l=this.inLane.tombPool(0).concat(this.inLane.UpperLane.tombPool(),this.inLane.LowerLane.tombPool());a.filter((function(e){return n.judgeCrossRec(e.bodyRec)})).forEach((function(e){e.dealDamage(i)})),l.filter((function(e){return n.judgeCrossRec(e.bodyRec)})).forEach((function(e){e.dealDamage(i)}))}}var s=y(D.explosion(!1));s.parent=this.inLane.prjLayer,s.worldPosition=new d(this.worldPositionX,this.inLane.midY,0),g.playExplosion(),this.die(!1)},a.dealDamage=function(e){},a.explodeAnm=function(){this.db.playAnimation("Explode",1/0),this.exploding=!0},a.rollEnd=function(){var e;this.rollDB.node.active=!1,null==(e=this.rollingTween)||e.stop(),this.rollingTween=null},a.rollRope=function(e){var n=this;void 0===e&&(e=this.targetRollingDistance),this.rollEnd(),this.targetRollingDistance=e,this.rollDB.node.active=!0,this.ropeDB.node.active=!0,this.rolledDistance=0;var i=Math.abs(e)/4;this.rollingTween=u(this).to(i,{rolledDistance:e}).call((function(){n.rollEnd(),g.playArray(n.rollEndSound,1,.1)})).start()},a.playTNTSpawn=function(e){void 0===e&&(e=this.targetRollingDistance),this.rollEnd(),this.targetRollingDistance=e,this.ropeDB.node.active=!1,this.ignited=!1,this.db.playAnimation("Spawn",1/0)},a.depthScale=function(){return 0},a.detectFire=function(){var e=this,n=new L(this.worldPosition,this.ropeSideWP),i=this.ropeSideWP.x;this.inLane.zombiePool().find((function(t){var o=t.plantDetectorRec,r=e.rectangleIsInRange(o,n)&&t.TNTRopeIgniter();if(r){var a=o.prjX();i=(a.x+a.y)/2}return r}))&&(this.rollEnd(),this.ropeLength=Math.min(this.ropeLength,(i-this.ropeDB.node.worldPosition.x)/p.SquareWidth),this.ignited=!0)},a.rectangleIsInRange=function(e,n){return void 0===n&&(n=new L(this.worldPosition,this.ropeSideWP)),n.judgeCrossRec(e)},a.detectPrj=function(){var e;if(this.inLane.hurrikaleBlowing())this.ignited=!1;else{var n=f.createRectangleCenter(this.ropeSideWP,20,20),i=null==(e=this.inLane)?void 0:e.prjPool().filter((function(e){return e.freeze>0||e.chill>0})).find((function(e){return n.judgeCrossRec(e.bodyRec())}));i&&(i.hitFloor(.1,!0),this.ignited=!1)}},a.lobberToPos=function(e){return new h(this.ropeSideWP.x-this.burningSPS*p.SquareWidth/60*e*Math.sign(this.scale),this.ropeSideWP.y)},a.detectLnCVoid=function(){for(var e=this,n=this.scale>0,i=this.ropeDB.node.worldPosition.x,t=i,o=function(n){return Math.sign(e.scale)*(n-i)/p.SquareWidth},r=this.cIndexReal;n&&r<=8||!n&&r>=0;){var a=p.getLnC(this.lIndex,r);r+=n?1:-1,t=p.getSquareWorldPosition(this.lIndex,a.cIndex,n?0:1,.5).x;var l=a.getTileType();if(!a.isSolidOrDeck()&&l!=T.water)break;if(o(t)>this.ropeLength)break}var s=o(t);s<this.ropeLength&&(this.ropeLength=s,this.ignited=!1)},a.specialTombUpdate=function(e){this.exploding||(this.ignited?(this.ropeLength-=this.burningSPS*e,this.detectPrj(),this.ropeLength<=0&&this.explodeAnm()):this.detectFire()),this.detectLnCVoid(),this.rollingTween&&g.playOneShot(this.rollingSound,1,NaN,.7)},r(n,[{key:"ropeLength",get:function(){return this._ropeLength},set:function(e){var n=e*p.SquareWidth,i=this.ropeDB.node.position,t=this.scale,o=Math.abs(this._scaleForCharacter);this.ropeDB.node.position=new d(i.x,i.y,n/o),this._ropeLength=e,this.ropeSideWP=this.ropeDB.node.worldPosition.clone().add(new d(n*Math.sign(t),0,0)).toVec2(),this.sparkDB.node.worldPosition=this.rollDB.node.worldPosition=this.ropeSideWP.toVec3();var r=(this.targetRollingDistance-e)/6;this.rollDB.node.scale=new d(r,r,1),this.rollDB.timeScale=1/r}},{key:"ignited",get:function(){return this._ignited},set:function(e){this.sparkDB.node.active=e,e&&!this._ignited&&g.playArray(this.igniteSounds,1,.1),this._ignited=e}},{key:"spawnLight",get:function(){return null}},{key:"hidden",get:function(){return this._hidden},set:function(e){this._hidden=e}},{key:"rolledDistance",get:function(){return this._rolledDistance},set:function(e){this.ropeLength=e,this._rolledDistance=e}}]),n}(P)).prototype,"ropeDB",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=n(W.prototype,"rollDB",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=n(W.prototype,"sparkDB",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=n(W.prototype,"igniteSounds",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),M=n(W.prototype,"rollingSound",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=n(W.prototype,"rollEndSound",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C=W))||C));a._RF.pop()}}}));

System.register("chunks:///_virtual/Lane.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombies.ts","./Square.ts","./NodePools.ts","./Particles.ts","./Projectiles.ts","./SoundRescourses.ts","./ParticleSelfdestroy.ts","./Tombs.ts"],(function(e){var t,n,i,o,s,r,a,l,h,u,c,d,f,p,m,y,b,L,g,w,v,P,C,x;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized,s=e.createClass,r=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){l=e.cclegacy,h=e._decorator,u=e.instantiate,c=e.Vec3,d=e.dragonBones,f=e.find,p=e.Component,m=e.Vec2},function(e){y=e.zombies,b=e.ZombieEnum},function(e){L=e.Square},function(e){g=e.instantiatePooly},function(e){w=e.particle},function(e){v=e.projectileRes},function(e){P=e.sounds},function(e){C=e.ParticleSelfdestroy},function(e){x=e.TombEnum}],execute:function(){var I,S,T,D,z;l._RF.push({},"8064d2YiT1BVZfACEdbiboA","Lane",void 0);var j=h.ccclass,O=h.property;e("Lane",(I=j("Lane"),S=O(Number),I((z=t((D=function(e){function t(){for(var t,n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(t=e.call.apply(e,[this].concat(s))||this).Lower=null,t.tileLayer=null,t.tileLiquidLayer=null,t.foodPlantLayer=null,t.floorY=0,t.midY=0,t.toLeft=null,t.toRight=null,t.dinoLayer=null,t.zombieLayer=null,t.hypnoZombieLayer=null,t.prjLayer=null,t.tombLayer=null,t.glitterLayer=null,t.icecubeLayer=void 0,t.iceTile=void 0,t.iceTiles=[],t.UpperLane=null,t.LowerLane=null,t.hurrikaleDuration=0,t.isSea=!1,t._laneLnCs=[],t.haveDeepWater=!1,i(t,"LaneIndex",z,o(t)),t.JitterSpawnZombieRoute=null,t.dinosaurs=[],t.zombies=[],t.hypnoZombies=[],t.plantUpperLayer=void 0,t.plants=[],t.tombStones=[],t.zombieSpawnOffset=0,t.fenceHere=void 0,t.fenceThere=void 0,t._fenceIgnited=!1,t.reversedZombiesAlsoWarnCD=0,t.plantProjectiles=[],t.mower=void 0,t.spawnPoint=void 0,t.meltCountdown=0,t}n(t,e);var l=t.prototype;return l.setHurrikaleDuration=function(e){this.hurrikaleDuration=e>this.hurrikaleDuration?e:this.hurrikaleDuration},l.hurrikaleBlowing=function(){return this.hurrikaleDuration>0},l.chillWind=function(e,t){var n,i=this;if(void 0===t&&(t=.15),this.isInLawn()){var o=g(w.chillWind());o.parent=this.prjLayer,o.worldPosition=L.getSquareWorldPosition(this.LaneIndex,4).toVec3().add3f(0,-20,0);var s=o.getComponent(C);null==(n=s.db)||n.playAnimation(e?"left":"right");for(var r=function(){var n=L.getLnC(i.LaneIndex,e?a:8-a);i.scheduleOnce((function(){n.iceblockPrepareLevel+=2}),t*(a+2))},a=0;a<9;a++)r();return{PSD:s}}},l.readHaveDeepWater=function(){this.haveDeepWater=this.laneLnCs.some((function(e){return!!e.deepwater}))},l.isInLawn=function(){return this.LaneIndex>=0&&this.LaneIndex<=4},l.addDinosaur=function(e){-1==this.dinosaurs.indexOf(e)&&this.dinosaurs.push(e)},l.deleteDinosaur=function(e){var t=this.dinosaurs.indexOf(e);-1!=t&&this.dinosaurs.splice(t,1)},l.dinosaurPool=function(){return this.dinosaurs.concat()},l.addZombie=function(e){e.hypnotized?-1==this.hypnoZombies.indexOf(e)&&this.hypnoZombies.push(e):-1==this.zombies.indexOf(e)&&this.zombies.push(e)},l.deleteZombie=function(e){var t=this.zombies.indexOf(e);-1!=t&&this.zombies.splice(t,1);var n=this.hypnoZombies.indexOf(e);-1!=n&&this.hypnoZombies.splice(n,1)},l.zombiePool=function(){return this.zombies.concat()},l.hypnoZombiePool=function(){return this.hypnoZombies.concat()},l.addPlant=function(e){-1==this.plants.indexOf(e)&&this.plants.push(e)},l.deletePlant=function(e){var t=this.plants.indexOf(e);-1!=t&&this.plants.splice(t,1)},l.plantPool=function(){return this.plants.concat()},l.addTomb=function(e){-1==this.tombStones.indexOf(e)&&this.tombStones.push(e)},l.deleteTomb=function(e){var t=this.tombStones.indexOf(e);-1!=t&&this.tombStones.splice(t,1)},l.tombPool=function(e){return void 0===e&&(e=0),this.tombStones.filter((function(t){return t.isAlive()&&(0==e&&!t.hypnotized||1==e&&t.hypnotized||2==e)}))},l.tntPool=function(){return this.tombPool(2).filter((function(e){return e.ID==x.kongfu_TNT})).map((function(e){return e}))},l.icecubePool=function(){return this.tombStones.filter((function(e){return e.ID==x.iceblock_plant||e.ID==x.iceblock_zombie}))},l.addCowboyFence=function(){var e=this,t=u(w.cowboyFence().FenceHere),n=u(w.cowboyFence().FenceThere),i=L.getSquareWorldPosition(this.LaneIndex,8,1.2,1),o=.45;[t,n].forEach((function(t){t.parent=e.node,t.worldPosition=new c(i.x,i.y),t.scale=new c(o,o,o)})),t.setSiblingIndex(this.node.children.length-1),n.setSiblingIndex(0),this.fenceHere=t.getComponent(d.ArmatureDisplay),this.fenceThere=n.getComponent(d.ArmatureDisplay),this.fenceIgnited=!1},l.camelTouchRegrouper=function(){},l.addPlantPrj=function(e){-1==this.plantProjectiles.indexOf(e)&&this.plantProjectiles.push(e)},l.deletePlantPrj=function(e){var t=this.plantProjectiles.indexOf(e);-1!=t&&this.plantProjectiles.splice(t,1)},l.prjPool=function(){return this.plantProjectiles.concat()},l.spawnMower=function(){var e=r(a().mark((function e(t){var n,i,o,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.mower){e.next=2;break}return e.abrupt("return",this.mower);case 2:return n=L.getSquareWorldPosition(0,0,0).x-.66*L.SquareWidth,i=this.floorY-L.SquareHeight/4,e.next=6,v.getProjectile(t,this.prjLayer);case 6:return(o=e.sent).height=0,o.worldPosition=new m(n,i),o.linearVelocity=new m(0,0),o.bodyLinearVelocity=0,o.gravity=0,(s=g(w.mowerSpawn())).parent=this.prjLayer,s.worldPosition=new c(n,i,0),this.mower=o,P.playMowerSpawn(),e.abrupt("return",o);case 18:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),l.addIceTile=function(e){-1==this.iceTiles.indexOf(e)&&this.iceTiles.push(e)},l.deleteIceTile=function(e){var t=this.iceTiles.indexOf(e);-1!=t&&this.iceTiles.splice(t,1)},l.clearIce=function(){this.iceTiles.concat().forEach((function(e){e.die()})),this.iceTiles=[]},l.lateUpdate=function(e){this.zombieSpawnOffset=0,this.reversedZombiesAlsoWarnCD-=e},l.onLoad=function(){var e,n;this.node.children.length&&(this.Lower=f("Canvas/FrontYard/tiles/"+this.node.name),this.tileLiquidLayer=f("Canvas/FrontYard/tileLiquid/"+this.node.name),this.tileLayer=f("Canvas/FrontYard/tiles/"+this.node.name),this.toLeft=this.node.getChildByName("toLeft"),this.toRight=this.node.getChildByName("toRight"),this.UpperLane=null==(e=L.getLaneNode(this.LaneIndex-1))?void 0:e.getComponent(t),this.LowerLane=null==(n=L.getLaneNode(this.LaneIndex+1))?void 0:n.getComponent(t),this.foodPlantLayer=this.node.getChildByName("food"),this.zombieLayer=this.node.getChildByName("zombies"),this.dinoLayer=this.node.getChildByName("dinos"),this.hypnoZombieLayer=this.node.getChildByName("hypnoZombies"),this.LaneIndex>=-1&&this.LaneIndex<=5?(this.prjLayer=this.node.getChildByName("prj"),this.tombLayer=this.node.getChildByName("tomb")):(this.prjLayer=this.node,this.tombLayer=this.node),this.glitterLayer=this.node.getChildByName("glitter"),this.plantUpperLayer=this.node.getChildByName("plantUpper"),this.icecubeLayer=this.node.getChildByName("icecube"),this.spawnPoint=this.node.getChildByName("SpawnPoint"),this.floorY=this.spawnPoint?this.spawnPoint.worldPosition.y:0);this.plants=[],this.zombies=[],this.iceTiles=[],this.plantProjectiles=[],this.tombStones=[]},l.summonBobsledTeam=function(){y.spawnZombieFromLane(this.LaneIndex,b.bobsled_team)},l.iceListener=function(e){if(this.meltCountdown>0){var t=this.meltCountdown+0;this.meltCountdown-=e,this.iceTiles.length||(this.meltCountdown=0),(t>75&&this.meltCountdown<=75||t>55&&this.meltCountdown<=55||t>35&&this.meltCountdown<=35||t>15&&this.meltCountdown<=15)&&this.iceTile&&this.iceTile.length>1.8*L.SquareWidth&&this.summonBobsledTeam()}this.meltCountdown<=0&&this.clearIce()},l.update=function(e){this.iceListener(e),this.fenceIgnited=this.zombiePool().length<=0,this.hurrikaleDuration>0&&(this.hurrikaleDuration-=e)},s(t,[{key:"laneLnCs",get:function(){var e;if(null==(e=this._laneLnCs)||!e.length){for(var t=[],n=0;n<9;n++){var i=L.getLnC(this.LaneIndex,n);-1==t.indexOf(i)&&t.push(i)}this._laneLnCs=t}return this._laneLnCs}},{key:"fenceIgnited",get:function(){return this._fenceIgnited},set:function(e){var t;e!=this._fenceIgnited&&(null==(t=this.fenceThere)||t.playAnimation(e?"Ignite":"Out",1/0));this._fenceIgnited=e}}]),t}(p)).prototype,"LaneIndex",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-2}}),T=D))||T));l._RF.pop()}}}));

System.register("chunks:///_virtual/LaserBean.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./LnC.ts","./CharacterManager.ts","./Square.ts","./SoundRescourses.ts","./NodePools.ts","./Particles.ts"],(function(o){var t,i,e,n,a,s,r,l,h,d,c,f,u,m,S,p,g,b,P,w,y;return{setters:[function(o){t=o.applyDecoratedDescriptor,i=o.inheritsLoose,e=o.initializerDefineProperty,n=o.assertThisInitialized,a=o.createClass},function(o){s=o.cclegacy,r=o._decorator,l=o.Node,h=o.Prefab,d=o.AudioClip,c=o.Vec2,f=o.Vec3},function(o){u=o.Plant,m=o.PlantProps},function(o){S=o.TileType},function(o){p=o.Rectangle,g=o.ZombieDamageDetails},function(o){b=o.Square},function(o){P=o.sounds},function(o){w=o.instantiatePooly},function(o){y=o.particle}],execute:function(){var v,C,x,L,F,O,_,A,R,D,E,j,H,I,z;s._RF.push({},"a37f4cixElPLrEGGPlSjbe2","LaserBean",void 0);var X=r.ccclass,T=r.property,M=function(o){function t(){for(var t,i=arguments.length,e=new Array(i),n=0;n<i;n++)e[n]=arguments[n];return(t=o.call.apply(o,[this].concat(e))||this).Damage=40,t.ShootInterval=2.7,t.ShootIntervalAdditional=.15,t.DamagePlantfood=1800,t}return i(t,o),t}(m);o("LaserBeanPlant",(v=X("LaserBeanPlant"),C=T(l),x=T(l),L=T(h),F=T(h),O=T(d),_=T(d),v((D=t((R=function(o){function t(){for(var t,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return(t=o.call.apply(o,[this].concat(a))||this).detector=new p,t._objdataOwn=new M,t.shooting=!1,t.shootCD=0,t.foodHitOldx=0,t._foodShootFromXOffset=0,t.foodShootArmatures=[],t.switching=!1,t.foodShooting=!1,t.foodShotZombies=[],t.foodShotTombs=[],e(t,"foodHitPoint",D,n(t)),e(t,"beamPoint",E,n(t)),e(t,"beamParticle",j,n(t)),e(t,"dirtParticle",H,n(t)),e(t,"shootSound",I,n(t)),e(t,"foodSound",z,n(t)),t}i(t,o);var s=t.prototype;return s.specialPlantOnSquareChange=function(o,t){this.detector=p.createRectangleNodeSide(t.node,b.SquareWidth*(9-t.cIndex),b.SquareHeight)},s.detectEnemies=function(){var o=this,t=!1;return this.inLane.zombiePool().forEach((function(i){var e;t||null!=(e=o.detector)&&e.judgeCrossRec(i.bodyRecForShooter)&&(t=!0)})),!!t||(this.inLane.tombPool().forEach((function(i){var e;t||null!=(e=o.detector)&&e.judgeCrossRec(i.bodyRec)&&(t=!0)})),t)},s.animationListener=function(o){"foodEnd"==o.name?(this.foodEnd(),this.switching=!0,this.anmControl.playAnimation("FoodEnd",1)):"foodStart"==o.name?(this.anmControl.playAnimation("Food",1/0),this.foodShooting=!0):"shoot"==o.name&&this._shoot()},s.waterable=function(){return!this.switching&&!this.shooting},s.animationOnComplete=function(){this.switching=!1,this.shooting=!1},s._shoot=function(){var o=this,t=this._objdataOwn.Damage;this._dmgScale&&(t*=this._dmgScale);var i=new g(t,!0,!1,!0);this.inLane.zombiePool().forEach((function(t){var e;t.bodyRecForShooter&&(null==(e=t.bodyRecForShooter)?void 0:e.prjX().y)>=o.worldPositionX&&t.dealDamage(i)})),this.inLane.tombPool().forEach((function(t){var e;t.bodyRec&&(null==(e=t.bodyRec)?void 0:e.prjX().y)>=o.worldPositionX&&t.dealDamage(i)}))},s.specialPlantOnEnable=function(){this.switching=!1,this.shootCD=0,this.shooting=!1},s.specialPlantOnLoad=function(){var o=this;this.foodShootArmatures=[],this.anmControl.db.armature().getSlots().forEach((function(t){t.name.includes("_FS")&&t.childArmature&&o.foodShootArmatures.push(t.childArmature)})),this._foodShootFromXOffset=this.foodHitPoint.worldPosition.x-this.node.worldPosition.x},s.specialPlantFood=function(o){this.foodShooting=!1,this.anmControl.playAnimation("FoodStart",1/0,0,1),P.playOneShot(this.foodSound,1,.1),this.foodHitOldx=this.foodShootFromX,this.foodShotZombies=[],this.foodShotTombs=[],this.switching=!1},s.specialFloawerpotHeightScale=function(){return this.fooding&&this.foodShooting?0:1},s.specialPlantUpdateForce=function(o,t,i){var e=this;if(this.fooding){if(this.foodShooting){var n=this.foodHitPoint.worldPosition.x,a=b.judgeCIndex(n),s=b.getLnC(this.lIndex,a).getTileType(),r="Sky";s==S.water||s==S.sea?r="Water":s!=S.solid&&s!=S.deck||(r="Floor"),this.foodShootArmatures.forEach((function(o){o&&o.animation.lastAnimationName!=r&&o.animation.play(r,1/0)}));var l=p.createRectangleCenter(new c((n+this.foodHitOldx)/2,this.worldPositionY),b.SquareWidth/2+n-this.foodHitOldx,1e4),h=this._objdataOwn.DamagePlantfood;this._dmgScale&&(h*=this._dmgScale);var d=new g(h,!0,!1,!0);this.inLane.zombiePool().forEach((function(o){l.judgeCrossRec(o.bodyRecReal)&&(-1==e.foodShotZombies.indexOf(o)&&(o.dealDamage(d),null!=o&&o.isAlive()&&e.foodShotZombies.push(o)))})),this.inLane.tombPool().forEach((function(o){l.judgeCrossRec(o.bodyRec)&&(-1==e.foodShotTombs.indexOf(o)&&(o.dealDamage(d),null!=o&&o.isAlive()&&e.foodShotTombs.push(o)))}));for(var u=b.SquareWidth,m=Math.floor(Math.abs(this.foodHitOldx-this.foodShootFromX)/u),P=Math.floor(Math.abs(n-this.foodShootFromX)/u),v=0;v<Math.abs(P-m);v++){var C=this.foodShootFromX+m*(v+1)*u,x=b.getLnC(this.lIndex,b.judgeCIndex(C)).getTileType();if(x==S.deck||x==S.solid){var L=w(this.dirtParticle);L.parent=this.inLane.zombieLayer,L.setSiblingIndex(0),L.worldPosition=new f(C,this.worldPositionY,10)}else x==S.sea?y.spawnSeaSplash(this.lIndex,new f(C,this.worldPositionY,10)):x==S.water&&y.spawnWaterSplash(this.lIndex,new f(C,this.worldPositionY,10))}this.foodHitOldx=n}}else this.foodShootArmatures.forEach((function(o){o&&o.animation.play("Floor",1/0)}))},s.specialPlantUpdate=function(o,t,i){if(this.fooding);else if(!this.switching)if(this.shootCD>0)this.shootCD-=o;else if(i>0&&this.detectEnemies()){var e=this._objdataOwn.ShootInterval+this._objdataOwn.ShootIntervalAdditional*Math.random();this._cdScale&&(e*=this._cdScale),this.shootCD=e,this.anmControl.playAnimation("Shoot",1,0,Math.max(1,.5/e)),P.playOneShot(this.shootSound,1,.2);var n=w(this.beamParticle);n.parent=this.inLane.prjLayer,n.worldPosition=this.beamPoint.worldPosition,this.shooting=!0}},a(t,[{key:"foodShootFromX",get:function(){return this.worldPositionX}}]),t}(u)).prototype,"foodHitPoint",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=t(R.prototype,"beamPoint",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=t(R.prototype,"beamParticle",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=t(R.prototype,"dirtParticle",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=t(R.prototype,"shootSound",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(R.prototype,"foodSound",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=R))||A));s._RF.pop()}}}));

System.register("chunks:///_virtual/LavaGuava.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./SoundRescourses.ts","./LnC.ts","./CharacterManager.ts","./Square.ts","./NodePools.ts","./ArrayGet.ts","./FrontYard.ts","./levelController.ts"],(function(e){var a,t,n,o,i,r,s,l,c,d,u,f,h,p,y,b,m,g,v,L,C,k,P,w,S,R,A;return{setters:[function(e){a=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized,i=e.createClass},function(e){r=e.cclegacy,s=e._decorator,l=e.AudioClip,c=e.Prefab,d=e.tween,u=e.Vec3,f=e.dragonBones,h=e.Color},function(e){p=e.Plant,y=e.PlantProps},function(e){b=e.sounds},function(e){m=e.TileType,g=e.TileLiquidEnum},function(e){v=e.ZombieDamageDetails,L=e.ZombieDamageType,C=e.Rectangle},function(e){k=e.Square},function(e){P=e.NodePools,w=e.instantiatePooly},function(e){S=e.ArrayGet},function(e){R=e.FrontYard},function(e){A=e.LevelPlay}],execute:function(){var D,_,I,E,z,F,O,T,x,j,q,H,M,G,N,B,U,W,Y,Z,J,K,V,Q,X,$;r._RF.push({},"716adkK7fJODIr9d8LE5tti","LavaGuava",void 0);var ee=s.ccclass,ae=s.property,te=function(e){function a(){for(var a,t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return(a=e.call.apply(e,[this].concat(n))||this).ExplosionDamage=200,a.PlantFoodDurationSeconds=10,a.PlantFoodDPS=100,a.LavaLifeSpan=12,a}return t(a,e),a}(y),ne=(D=ee("LavaGuavaSound"),_=ae([l]),I=ae([l]),E=ae([l]),z=ae([l]),F=ae([l]),O=ae([l]),T=ae([l]),x=ae([l]),D((H=a((q=function(){function e(){n(this,"shoot",H,this),n(this,"shootSay",M,this),n(this,"ready",G,this),n(this,"foodSay",N,this),n(this,"foodHit",B,this),n(this,"pour",U,this),n(this,"blop",W,this),n(this,"melt",Y,this)}var a=e.prototype;return a.playShoot=function(){b.playArray(this.shoot,1,.1),b.playArray(this.shootSay,1,.1)},a.playReady=function(){b.playArray(this.ready,1,.1)},a.playFoodSay=function(){b.playArray(this.foodSay,1,.1)},a.playFoodHit=function(){b.playArray(this.foodHit,1,.1)},a.playPour=function(){b.playArray(this.pour,1,.1)},a.playBlop=function(){b.playArray(this.blop,1,.1)},a.playMelt=function(){b.playArray(this.melt,1,.1)},e}()).prototype,"shoot",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),M=a(q.prototype,"shootSay",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),G=a(q.prototype,"ready",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),N=a(q.prototype,"foodSay",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B=a(q.prototype,"foodHit",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),U=a(q.prototype,"pour",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),W=a(q.prototype,"blop",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Y=a(q.prototype,"melt",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j=q))||j),oe=function(){function e(){this.db=void 0,this.inLnC=void 0,this.oldAnmName=void 0}return e.prototype.getIdleAnmList=function(e,a){var t=e.righter,n=e.getTileType(),o=["Idle_M0","Idle_M1"],i=t.getTileType();return a?o=["Idle_L"]:R.getTidePos()==e.cIndex?o=["Idle_M0_half","Idle_M1_half"]:n==m.water?o=["Idle_M_water"]:null!=t&&t.isInLawn()&&i!=m.sky&&i!=m.sea&&i!=m.deck||(o=["Idle_R"]),o},e}();e("LavaGuavaPlant",(Z=ee("LavaGuavaPlant"),J=ae(ne),K=ae(c),Z((X=a((Q=function(e){function a(){for(var a,t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];return a=e.call.apply(e,[this].concat(i))||this,n(a,"soundRes",X,o(a)),a._objdataOwn=new te,a.foodCD=1/0,a.foodCracks=[],n(a,"crackP",$,o(a)),a}t(a,e);var r=a.prototype;return r.onObjdataSet=function(e,a){},r.specialPlantUpdate=function(e,a,t){this.fooding||this.sheepend||this.detectEnemy(),this.fooding&&(this._updateCracks(e),this.foodCD-=e,this.foodCD<=0&&this.foodEnd())},r.detectEnemy=function(){var e,a=this,t=!1;null==(e=this.inLane)||e.zombiePool().forEach((function(e){t||e.shouldSpeedScale()*e.randomSpeed>0&&e.bodyRec.judgeCrossRec(a.inLnC.rec)&&(t=!0)})),t&&this.die()},r.deathTimeScale=function(){return 1.2},r.specialPlantOnEnable=function(){this.damagable=!1,this.shadeAlphaScale=1,this.eaterDetectable=!1,this.smasherDetectable=!1},r._updateCracks=function(e){var a=this;this.foodCracks.concat().forEach((function(e){var t=e.inLnC.getTileType();if(t==m.deck||t==m.sky||t==m.sea){a.killCrack(e);var n=a.foodCracks.indexOf(e);-1!=n&&a.foodCracks.splice(n,1)}else{var o=e.getIdleAnmList(e.inLnC,e.inLnC.cIndex==a.cIndex);if(-1==o.indexOf(e.oldAnmName)){var i=S.getRandom(o);e.oldAnmName=i,e.db.playAnimation(i,1/0)}}}));var t=new v(this.objdataOwn.PlantFoodDPS*e*this._dmgScale,!0,!1,!1,null,L.fire);this.inLane.zombiePool().forEach((function(e){!e.flying&&a.foodCracks.some((function(a){return a.inLnC.lIndex==e.lIndex&&a.inLnC.rec.judgeCrossRec(e.bodyRecReal)}))&&e.dealDamage(t)})),this.foodCracks.forEach((function(e){var a;null==(a=e.inLnC.tombStone)||a.dealDamage(t)}))},r.killCrack=function(e){var a=e.db.node.scale.x,t=d(e.db.color).to(.75,{}).to(.25,{a:255},{easing:"quadOut"}).start(),n=d(e.db.node).to(1,{scale:new u(a,.001,1)},{easing:"quadIn"}).call((function(){t.stop(),n.stop(),P.destroyPooly(e.db.node)})).start()},r._foodHit=function(){var e=this;this.foodCracks=[],this.foodCD=this.objdataOwn.PlantFoodDurationSeconds;for(var a=this.plantInLnC,t=0,n=function(){var n=a.getTileType();if(n==m.sky||n==m.sea||n==m.deck)return 1;var o=new oe;o.inLnC=a;var i=S.getRandom(o.getIdleAnmList(a,a.cIndex==e.cIndex));o.oldAnmName=i;var r=w(e.crackP);r.parent=k.lavaGuavaCrackLayer,r.worldPosition=a.node.worldPosition;var s=k.SquareWidth/156;r.scale=new u(s,.01,1);var l=r.getComponent(f.ArmatureDisplay);l.timeScale=.8+.4*Math.random(),o.db=l,l.playAnimation(i,1/0),l.color=new h(255,255,255,0);var c=d(l.color).to(.25,{a:255},{easing:"quadOut"}).start(),p=d(l.node).to(1+.1*t,{scale:new u(s,.5,1)},{easing:"quadOut"}).call((function(){p.stop(),c.stop()})).start();e.foodCracks.push(o),a=a.righter,t++};null!=(o=a)&&o.isInLawn();){var o;if(n())break}},r._foodCrackEnd=function(){var e=this;this.soundRes.playMelt(),this.foodCracks.forEach((function(a){e.killCrack(a)})),this.foodCracks=[]},r.specialPlantFoodEnd=function(){this._foodCrackEnd(),this.foodCD=1/0,this.anmControl.playAnimation("FoodEnd",1)},r.specialPlantFood=function(e){this.anmControl.playAnimation("FoodStart",1/0)},r.animationListener=function(e){switch(e.name){case"lava":var a;this.shadeAlphaScale=0,null==(a=this.inLnC)||a.addTileLiquid(g.lavaguava,this.objdataOwn.LavaLifeSpan);break;case"ready":this.soundRes.playReady();break;case"shoot":this.soundRes.playShoot();break;case"pour":this.soundRes.playPour();break;case"blop":this.soundRes.playBlop();break;case"foodSay":this.soundRes.playFoodSay();break;case"foodHit":this._foodHit(),A.shakeScreen(),this.soundRes.playFoodHit(),this.soundRes.playPour();break;case"damage":var t=new v(this.objdataOwn.ExplosionDamage*this._dmgScale,!0,!1,!1,null,L.fire);if(!this.inLane||!this.inLnC)return;var n=C.createRectangleNodeCenter(this.inLnC.node,3*k.SquareWidth,3*k.SquareHeight),o=[];this.inLane.zombiePool().concat(this.inLane.UpperLane.zombiePool(),this.inLane.LowerLane.zombiePool()).forEach((function(e){-1==o.indexOf(e)&&e.bodyRecReal.judgeCrossRec(n)&&o.push(e)})),o.forEach((function(e){e.dealDamage(t)})),this.inLane.tombPool().concat(this.inLane.UpperLane.tombPool(),this.inLane.LowerLane.tombPool()).forEach((function(e){e.bodyRec.judgeCrossRec(n)&&e.dealDamage(t)}))}},i(a,[{key:"objdataOwn",get:function(){return this._objdataOwn}}]),a}(p)).prototype,"soundRes",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new ne}}),$=a(Q.prototype,"crackP",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=Q))||V));r._RF.pop()}}}));

System.register("chunks:///_virtual/lawn.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Square.ts","./SoundsController.ts","./LnC.ts","./SoundManager.ts","./levelController.ts","./Sunflower.ts","./SandBoxLevelSettingWindow.ts","./SoundRescourses.ts","./Materials.ts","./ArrayGet.ts"],(function(e){var n,t,i,a,o,r,l,s,u,c,p,h,d,m,f,b,y,w,g,v,S,U,A,C,T,_,M,L,R;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized,o=e.createClass},function(e){r=e.cclegacy,l=e._decorator,s=e.Enum,u=e.UITransform,c=e.Prefab,p=e.AudioClip,h=e.AudioSource,d=e.Material,m=e.dragonBones,f=e.instantiate,b=e.find,y=e.Vec2,w=e.game,g=e.Component},function(e){v=e.Square},function(e){S=e.SoundFXController},function(e){U=e.TileType},function(e){A=e.WorldMusic},function(e){C=e.LevelPlay},function(e){T=e.sunflower},function(e){_=e.SandBoxLevelSettingWindow},function(e){M=e.sounds},function(e){L=e.materialRes},function(e){R=e.ArrayGet}],execute:function(){var O,D,E,z,P,N,I,B,V,q,F,k,x,W,G,X,H;r._RF.push({},"d459cG8REdFa6yufUgn/5Zy","lawn",void 0);var j=l.ccclass,Z=l.property;s(A);e("lawn",(O=j("lawn"),D=Z(u),E=Z(Boolean),z=Z(c),P=Z(c),N=Z([p]),I=Z([p]),B=Z([p]),O((F=n((q=function(e){function n(){for(var n,t=arguments.length,o=new Array(t),r=0;r<t;r++)o[r]=arguments[r];return n=e.call.apply(e,[this].concat(o))||this,i(n,"zombieShower",F,a(n)),n.oldSquaresTypes=[[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]],i(n,"atNight",k,a(n)),n.atNight_=!1,i(n,"lawnUpper",x,a(n)),n.lawnUpper_=null,i(n,"lawnThereUpper",W,a(n)),n.lawnThereUpper_=null,n.worldMusic=A.Modern,n.audioSource=void 0,n.material=void 0,n.ambCD=1,i(n,"ambienceLoop",G,a(n)),i(n,"ambienceOccasional",X,a(n)),n.busyAmbOcc=0,i(n,"ambienceRare",H,a(n)),n.busyAmbRare=0,n.ID=0,n}t(n,e);var r=n.prototype;return r.getSeaSplashParent=function(e){return v.getLane(e).glitterLayer},r.setCannonGuide=function(e){},r.onLoad=function(){this.getComponent(h)||this.addComponent(h),this.audioSource=this.getComponent(h);var e=new d;e.initialize({effectAsset:L.addColorEffect,defines:{USE_TEXTURE:!0}}),this.material=e},r.shouldMaterial=function(){var e=this,n=0;C.__golden&&(n=1);var t=this.material.passes[0].getHandle("goldColor");this.material.passes[0].setUniform(t,n),this.getComponentsInChildren(m.ArmatureDisplay).forEach((function(n){n.customMaterial=e.material})),[this.node,this.lawnUpper_,this.lawnThereUpper_].forEach((function(n){var t=null==n?void 0:n.getComponent(m.ArmatureDisplay);t&&(t.customMaterial=e.material)}))},r.initialize=function(){var e=this;this.lawnUpper&&(this.lawnUpper_=f(this.lawnUpper),this.lawnUpper_.parent=b("Canvas/LawnCommon/LawnUpper"),this.lawnUpper_.worldPosition=this.node.worldPosition,this.lawnUpper_.worldScale=this.node.worldScale),this.lawnThereUpper&&(this.lawnThereUpper_=f(this.lawnThereUpper),this.lawnThereUpper_.parent=this.node.parent.parent.getChildByName("upper"),this.lawnThereUpper_.worldPosition=this.node.worldPosition,this.lawnThereUpper_.worldScale=this.node.worldScale),[-2,-1,0,1,2,3,4,5].forEach((function(e){[-2,-1,0,1,2,3,4,5,6,7,8,9].forEach((function(n){var t;null==(t=v.getLnC(e,n))||t.setTileType(U.solid)}))})),[-2,-1,0,1,2,3,4,5].forEach((function(e){v.getLane(e).isSea=!1})),this.specialInitialize(),[0,1,2,3,4].forEach((function(n){[0,1,2,3,4,5,6,7,8].forEach((function(t){var i,a=null==(i=v.getLnC(n,t))?void 0:i.getTileType();a&&(e.oldSquaresTypes[n][t]=a)}))}))},r.onDisable=function(){var e,n;null==(e=this.lawnUpper_)||e.destroy(),null==(n=this.lawnThereUpper_)||n.destroy(),this.lawnUpper_=null,this.lawnThereUpper_=null},r.specialInitialize=function(){},r.playAmbience=function(e){var n=this.getComponent(h);n.volume=.6*S.SoundFXVolume,this.ambCD<=0&&this.ambienceLoop.length&&(this.ambCD=3,n.stop(),n.clip=R.getRandom(this.ambienceLoop),n.play(),n.loop=!1)},r.playAmbienceRare=function(){var e=10+Math.round(10*Math.random());this.busyAmbRare=60*e,M.playArray(this.ambienceRare,1,NaN,.5,!0,.5*Math.random()+1)},r.playAmbienceOccasional=function(){var e=5+Math.round(5*Math.random());this.busyAmbOcc=60*e,M.playArray(this.ambienceOccasional,1,NaN,.5,!0,.5*Math.random()+1)},r.onEnable=function(){this.atNight_=this.atNight,this.getComponent(h)||this.addComponent(h)},r.dropSun=function(e){var n;if(void 0===e&&(e=50),_.skySunDrop){var t=Math.round(300*Math.random()),i=Math.round(200*Math.random()),a=new y(v.getSquareWorldPosition(2,4).x-150+t,v.getSquareWorldPosition(2,4).y-150+i);if(null!=(n=C.component)&&n.sunbombProps){var o=T.dropOneSunBomb(new y(a.x,a.y));o.linearVelocity=new y(0,0),o.bodyLinearVelocity=-3,o.gravity=0,o.height=700-i}else{T.produceSun(e,a,700-i,!1).forEach((function(e){e.linearVelocity=new y(0,0),e.bodyLinearVelocity=-3,e.gravity=0}))}}},r.start=function(){this.ambienceLoop.forEach((function(e){e.loadMode=p.AudioType.DOM_AUDIO})),this.ambienceOccasional.forEach((function(e){e.loadMode=p.AudioType.DOM_AUDIO})),this.ambienceRare.forEach((function(e){e.loadMode=p.AudioType.DOM_AUDIO}))},r.specialLawnUpdate=function(e){},r.update=function(e){var n=this.getComponent(h);this.ambCD>0&&(this.ambCD-=w.deltaTime),n.playing?n.volume=.6*S.SoundFXVolume:this.playAmbience(e),this.busyAmbRare>0&&(this.busyAmbRare-=60*e),this.busyAmbRare<=0&&(this.busyAmbRare=0,this.ambienceRare.length&&this.playAmbienceRare()),this.busyAmbOcc>0&&(this.busyAmbOcc-=60*e),this.busyAmbOcc<=0&&(this.busyAmbOcc=0,this.ambienceOccasional.length&&this.playAmbienceOccasional()),this.specialLawnUpdate(e),this.shouldMaterial()},o(n,[{key:"PlankRows",get:function(){return[]},set:function(e){}},{key:"SeaRows",get:function(){return[0,1,2,3,4]}}]),n}(g)).prototype,"zombieShower",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=n(q.prototype,"atNight",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),x=n(q.prototype,"lawnUpper",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=n(q.prototype,"lawnThereUpper",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=n(q.prototype,"ambienceLoop",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),X=n(q.prototype,"ambienceOccasional",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),H=n(q.prototype,"ambienceRare",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),V=q))||V));r._RF.pop()}}}));

System.register("chunks:///_virtual/LawnMower.ts",["./rollupPluginModLoBabelHelpers.js","cc","./commonShot.ts","./FrontYard.ts","./SoundRescourses.ts","./levelController.ts","./Character.ts","./UI.ts","./Mouse.ts","./NodePools.ts","./Particles.ts"],(function(e){var t,i,n,a,o,s,r,l,c,h,u,d,p,f,m,w,y,g,b,S,v;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized,o=e.createClass},function(e){s=e.cclegacy,r=e._decorator,l=e.AudioClip,c=e.Sprite,h=e.dragonBones,u=e.Vec2,d=e.tween},function(e){p=e.commonShot},function(e){f=e.FrontYard},function(e){m=e.sounds},function(e){w=e.LevelPlay},function(e){y=e.CharacterType},function(e){g=e.UIInGame},function(e){b=e.Mouse},function(e){S=e.instantiatePooly},function(e){v=e.particle}],execute:function(){var M,L,P,x,T,I,R,C,_;s._RF.push({},"86d7b6q8DBBkaS7T/MqkW7o","LawnMower",void 0);var z=r.ccclass,V=r.property;e("LawnMower",(M=z("LawnMower"),L=V(l),P=V([c]),x=V(h.ArmatureDisplay),M((R=t((I=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return(t=e.call.apply(e,[this].concat(o))||this).popWhenStatic=!1,t.xMax=1/0,t.canDiveUnderHeight0=!0,n(t,"attackSound",R,a(t)),t._pressed=!1,t._pressedTime=0,t.maxPressTime=1,n(t,"launchCircs",C,a(t)),t.fallenIntoSea=!1,n(t,"waterSplash",_,a(t)),t}i(t,e);var s=t.prototype;return s.characterOnEnable=function(){this.initialize(),this.canbeJesterReversed=!1,this.fallenIntoSea=!1,this.linearVelocity=new u,this.bodyLinearVelocity=0,this.gravity=0,this.bodyOmega=0,this.node.angle=0,this.db.playAnimation("Idle",1/0),this.enemyType=y.zombie,this.waterSplash&&(this.waterSplash.node.active=!1),this.pressedTime=0,this.xMax=1/0},s.animationListener=function(e){"switchingFalse"==e.name&&(this.switching=!1,this.linearVelocity=new u(3.5,0),this.db.playAnimation("Attack",1/0))},s.launch=function(){var e;this.inLane.mower=null,this.switching=!0,null==(e=w.component)||e.onMowerLose(this.lIndex),this.db.playAnimation("Trans",1/0),m.playOneShot(this.attackSound,1,.1)},s.detectEnemy=function(e){var t=this;if(!this.switching&&this.inLane&&!this.fallenIntoSea){var i=this.enemyType==y.zombie,n=i?this.inLane.zombiePool():this.inLane.hypnoZombiePool(),a=this.bodyRec();n.forEach((function(e){if(!t.switching&&e.isRealZombie&&a.judgeCrossRec(e.bodyRecReal)){if(!t.linearVelocity.length())return void t.launch();e.meetMower(t.linearVelocity.x>0)}})),i&&this.inLane.tombPool().forEach((function(e){a.judgeCrossRec(e.bodyRec)&&e.die()}))}},s.specialUpdate=function(e){if(this._pressed&&w.ManualMower&&w.gaming&&-1==g.index&&this.linearVelocity.length()<=0&&this.bodyRec().judgeInRecP(b.position.clone())?this.pressedTime+=e:(this.pressedTime=0,this._pressed=!1),this.worldPositionX>this.xMax){this.fade();var t=S(v.mowerSpawn());t.parent=this.node.parent,t.worldPosition=this.worldPosition.toVec3(),m.playMowerSpawn()}},s.onMouseDown=function(){w.ManualMower>0&&w.gaming&&-1==g.index&&(this._pressed=!0)},s.hitFloor=function(e){this.waterSplash&&(this.waterSplash.node.active=!1)},s.hitSea=function(){var e,t=this;if(!this.fallenIntoSea){this.fallenIntoSea=!0;var i=null==(e=f.CurrentLawn)||null==(e=e.node)?void 0:e.getChildByName("Lane"+this.lIndex.toString());i&&this.node.setParent(i,!0),this.bodyOmega=-3-3*Math.random(),this.linearVelocity.x/=2,d(this).to(.5,{height:-40},{easing:"quadIn"}).call((function(){t.defaultHitSea()})).start()}},s.hitWater=function(){this.waterSplash&&(this.waterSplash.node.active=!0)},o(t,[{key:"pressedTime",get:function(){return this._pressedTime},set:function(e){var t=this;this.launchCircs.forEach((function(i){i.node.active=e>0,i.fillRange=e/t.maxPressTime})),e>this.maxPressTime&&(this.launch(),this._pressed=!1,w.ManualMower--),this._pressedTime=e}}]),t}(p)).prototype,"attackSound",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=t(I.prototype,"launchCircs",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=t(I.prototype,"waterSplash",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=I))||T));s._RF.pop()}}}));

System.register("chunks:///_virtual/lawnPirate.ts",["./rollupPluginModLoBabelHelpers.js","cc","./lawn.ts","./Square.ts","./LnC.ts","./levelController.ts","./UI.ts","./SoundRescourses.ts"],(function(e){var n,t,a,i,s,o,l,c,r,u,h,k,p,f,L,d;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,a=e.initializerDefineProperty,i=e.assertThisInitialized,s=e.createClass},function(e){o=e.cclegacy,l=e._decorator,c=e.dragonBones,r=e.Node,u=e.AudioClip},function(e){h=e.lawn},function(e){k=e.Square},function(e){p=e.TileType},function(e){f=e.LevelPlay},function(e){L=e.UIInGame},function(e){d=e.sounds}],execute:function(){var w,D,P,y,g,v,m,R,S,b,C;o._RF.push({},"3f6296qtA9AC6TtFNKlvPXc","lawnPirate",void 0);var O=l.ccclass,A=l.property;e("lawnPirate",(w=O("lawnPirate"),D=A(c.ArmatureDisplay),P=A(r),y=A(u),g=A(u),w((R=n((m=function(e){function n(){for(var n,t=arguments.length,s=new Array(t),o=0;o<t;o++)s[o]=arguments[o];return(n=e.call.apply(e,[this].concat(s))||this).Lane0Deck=!1,n.Lane1Deck=!1,n.Lane2Deck=!1,n.Lane3Deck=!1,n.Lane4Deck=!1,a(n,"cannonGuide",R,i(n)),a(n,"buttons",S,i(n)),a(n,"plankBreak",b,i(n)),a(n,"plankAdd",C,i(n)),n}t(n,e);var o=n.prototype;return o.getSeaSplashParent=function(e){var n;return null==(n=this.node)||null==(n=n.getChildByName("Lane"+e.toString()))?void 0:n.children[0]},o.setCannonGuide=function(e){this.cannonGuide.node.active=e},o.addPlankRow=function(e){var n=this.PlankRows;-1==this.PlankRows.indexOf(e)&&e>=0&&e<=4&&(n.push(e),d.playOneShot(this.plankAdd,1,0)),this.PlankRows=n},o.removePlankRow=function(e){var n=this.PlankRows,t=this.PlankRows.indexOf(e);-1!=t&&(n.splice(t,1),d.playOneShot(this.plankBreak,1,0)),this.PlankRows=n},o.switchLanePlank=function(e){-1!=this.PlankRows.indexOf(e)?this.removePlankRow(e):this.addPlankRow(e)},o.switchLane0Plank=function(){this.switchLanePlank(0)},o.switchLane1Plank=function(){this.switchLanePlank(1)},o.switchLane2Plank=function(){this.switchLanePlank(2)},o.switchLane3Plank=function(){this.switchLanePlank(3)},o.switchLane4Plank=function(){this.switchLanePlank(4)},o.specialInitialize=function(){this.PlankRows=[0,1,2,3,4]},o.specialLawnUpdate=function(e){this.buttons.active=f.sandBoxModeOn&&!L.component.uiHidden},s(n,[{key:"PlankRows",get:function(){return[].concat(this.Lane0Deck?[0]:[],this.Lane1Deck?[1]:[],this.Lane2Deck?[2]:[],this.Lane3Deck?[3]:[],this.Lane4Deck?[4]:[])},set:function(e){this.Lane0Deck=-1!=e.indexOf(0),this.Lane1Deck=-1!=e.indexOf(1),this.Lane2Deck=-1!=e.indexOf(2),this.Lane3Deck=-1!=e.indexOf(3),this.Lane4Deck=-1!=e.indexOf(4);for(var n=[this.Lane0Deck,this.Lane1Deck,this.Lane2Deck,this.Lane3Deck,this.Lane4Deck],t=0;t<n.length;t++){if(n[t]){k.getLane(t).isSea=!1;for(var a=5;a<9;a++)k.getLnC(t,a).setTileType(p.deck)}else{k.getLane(t).isSea=!0;for(var i=5;i<9;i++)k.getLnC(t,i).setTileType(p.sea)}[-1,5].forEach((function(e){k.getLane(e).isSea=!0})),this.getComponent(c.ArmatureDisplay).armature().getSlot("DECKSHADE"+t.toString()).displayIndex=n[t]?0:-1,this.node.getChildByName("Lane"+t.toString()).getComponent(c.ArmatureDisplay).playAnimation(n[t]?"On":"Off")}k.getLnC(-1,0).setTileType(p.sea),k.getLnC(5,0).setTileType(p.sea)}},{key:"SeaRows",get:function(){return[].concat(this.Lane0Deck?[]:[0],this.Lane1Deck?[]:[1],this.Lane2Deck?[]:[2],this.Lane3Deck?[]:[3],this.Lane4Deck?[]:[4])}}]),n}(h)).prototype,"cannonGuide",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=n(m.prototype,"buttons",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=n(m.prototype,"plankBreak",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=n(m.prototype,"plankAdd",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=m))||v));o._RF.pop()}}}));

System.register("chunks:///_virtual/lawnSky.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Square.ts","./LnC.ts","./lawn.ts"],(function(n){var e,t,w,i,r,o,s,c;return{setters:[function(n){e=n.inheritsLoose},function(n){t=n.cclegacy,w=n._decorator,i=n.Vec2},function(n){r=n.Square},function(n){o=n.LnC,s=n.TileType},function(n){c=n.lawn}],execute:function(){var u;t._RF.push({},"7b7f5kDzBFOA7szLKIjO+gU","lawnSky",void 0);var a=w.ccclass;w.property,n("lawnSky",a("lawnSky")(u=function(n){function t(){return n.apply(this,arguments)||this}e(t,n);var w=t.prototype;return w.skyTiles=function(){return[new i(-1,0),new i(5,0),new i(0,9),new i(0,3),new i(0,4),new i(0,5),new i(0,6),new i(0,7),new i(0,8),new i(1,3),new i(1,4),new i(1,5),new i(1,6),new i(1,7),new i(1,8),new i(2,3),new i(2,4),new i(2,5),new i(2,6),new i(2,7),new i(2,8),new i(3,3),new i(3,4),new i(3,5),new i(3,6),new i(3,7),new i(3,8),new i(4,3),new i(4,4),new i(4,5),new i(4,6),new i(4,7),new i(4,8)]},w.specialInitialize=function(){this.skyTiles().forEach((function(n){r.getSquare(n.x,n.y).getComponent(o).setTileType(s.sky)}))},t}(c))||u);t._RF.pop()}}}));

System.register("chunks:///_virtual/levelController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FrontYard.ts","./Cards.ts","./UI.ts","./SoundRescourses.ts","./ShovelUIController.ts","./SunCount.ts","./PlantFoodCount.ts","./Zombies.ts","./CharacterManager.ts","./NodePools.ts","./ArrayGet.ts","./Tombs.ts","./Square.ts","./LnC.ts","./Plants.ts","./SoundsController.ts","./SoundManager.ts","./Conveyor.ts","./PowerupFingers.ts","./PlayerProperties.ts","./Particles.ts","./Droppings.ts","./Prizes.ts","./levelPrize.ts","./LevelTaskCount.ts","./DangerroomCardChooser.ts","./MultiLanguage.ts","./Tiles.ts","./foodLinkTile.ts","./Shovel.ts","./GridItem.ts","./SettingWindow.ts","./LevelObjectiveScreen.ts","./Projectiles.ts","./Character.ts","./Sunflower.ts","./Levels.ts","./KeyListener.ts","./Trophies.ts","./JSONs.ts","./ChiHole.ts","./lawn.ts","./Dinosaurs.ts","./NPC_Controller.ts","./CardDeckDisplayer.ts"],(function(e){var n,t,a,o,i,r,s,l,u,c,h,d,m,p,v,g,f,P,S,b,w,C,M,y,N,L,T,W,x,B,D,I,k,R,_,E,G,F,Z,A,O,j,z,H,U,V,Y,K,J,X,q,Q,$,ee,ne,te,ae,oe,ie,re,se,le,ue,ce,he,de,me,pe,ve,ge,fe,Pe,Se,be,we,Ce,Me,ye,Ne,Le,Te,We,xe,Be,De,Ie,ke,Re,_e,Ee,Ge,Fe,Ze,Ae,Oe,je,ze,He;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.createClass,a=e.initializerDefineProperty,o=e.inheritsLoose,i=e.assertThisInitialized,r=e.asyncToGenerator,s=e.regeneratorRuntime,l=e.createForOfIteratorHelperLoose},function(e){u=e.cclegacy,c=e._decorator,h=e.Node,d=e.Label,m=e.ProgressBar,p=e.Sprite,v=e.JsonAsset,g=e.SpriteFrame,f=e.dragonBones,P=e.Camera,S=e.UITransform,b=e.tween,w=e.Color,C=e.Vec3,M=e.instantiate,y=e.Vec4,N=e.Vec2,L=e.HALF_PI,T=e.AudioSource,W=e.game,x=e.Component},function(e){B=e.FrontYard,D=e.JamStyle,I=e.LawnStageEnum},function(e){k=e.Cards},function(e){R=e.UIInGame},function(e){_=e.sounds},function(e){E=e.ShovelUIController},function(e){G=e.SunCount},function(e){F=e.PlantFoodCount},function(e){Z=e.zombies,A=e.ZombieEnum},function(e){O=e.ZombiePool,j=e.ZombieDamageType,z=e.TombPool,H=e.PlantPool},function(e){U=e.NodePools,V=e.instantiatePooly},function(e){Y=e.ArrayGet,K=e.ValueRange},function(e){J=e.tombs,X=e.TombEnum},function(e){q=e.Square},function(e){Q=e.LnCSpawnZombieStyleEnum,$=e.TileType,ee=e.LnC},function(e){ne=e.plants,te=e.PlantEnum},function(e){ae=e.MusicController},function(e){oe=e.MusicSortEnum,ie=e.SoundManager,re=e.MusicEnum},function(e){se=e.Conveyor,le=e.ConveyorPlant},function(e){ue=e.PowerupFingers},function(e){ce=e.AllPlayerProperties,he=e.LevelProgress,de=e.EndlessZoneProperties,me=e.EndlessZoneMiniGameProperties,pe=e.ZombieKillProgress,ve=e.WorldMapSceneDisplayEnum},function(e){ge=e.particle},function(e){fe=e.droppings},function(e){Pe=e.prizeRes},function(e){Se=e.levelPrize},function(e){be=e.LevelTaskCountModeEnum},function(e){we=e.DangerroomCardChooser},function(e){Ce=e.MultiLanguage},function(e){Me=e.TileEnum},function(e){ye=e.FoodLinkTileTypeEnum},function(e){Ne=e.Shovel},function(e){Le=e.GridItem,Te=e.GridItemEnum,We=e.GridItemPool},function(e){xe=e.Setting},function(e){Be=e.LevelObjectiveScreen},function(e){De=e.ProjectileEnum},function(e){Ie=e.CharacterType},function(e){ke=e.sunflower},function(e){Re=e.getLevelJsonAsset},function(e){_e=e.KeyListener},function(e){Ee=e.UpgradeEnum},function(e){Ge=e.PvZ2Object,Fe=e.PvZ2ObjectContainer},function(e){Ze=e.ChiHoleProps},function(e){Ae=e.lawn},function(e){Oe=e.DinosaurEnum,je=e.dinosaurs},function(e){ze=e.npc_controller},function(e){He=e.CardDeckDisplayer}],execute:function(){var Ue,Ve,Ye,Ke,Je,Xe,qe,Qe,$e,en,nn,tn,an,on,rn,sn,ln,un,cn,hn,dn,mn,pn,vn,gn,fn,Pn,Sn,bn,wn,Cn,Mn,yn,Nn,Ln,Tn,Wn,xn,Bn,Dn,In,kn,Rn,_n,En,Gn,Fn,Zn,An,On,jn,zn,Hn,Un,Vn,Yn,Kn,Jn,Xn,qn,Qn,$n,et,nt,tt,at,ot,it,rt,st,lt,ut,ct,ht,dt,mt,pt;u._RF.push({},"69a37XH3A9DBa468NxIslYS","levelController",void 0);var vt=c.ccclass,gt=c.property,ft=function(){function e(){this.zombie=null,this.arriveTime=0,this.timeBeforeArrive=0,this.x0=0,this.xt=0,this.dead=!1,this.passed=!1}var n=e.prototype;return n.pass=function(){this.passed||(this.passed=!0,_.playRhythmHit())},n.update=function(e){var n=this.x0+(this.xt-this.x0)/this.timeBeforeArrive*(e-this.arriveTime+this.timeBeforeArrive);if(this.zombie.worldPositionX=n,e+.05>this.arriveTime&&this.pass(),this.zombie.worldPositionX<q.zombieWinX){var t;this.zombie.chomp(!1);var a=null==(t=Rt.component.rhythmZombies)?void 0:t.indexOf(this);a>=0&&Rt.component.rhythmZombies.splice(a,1)}},e}(),Pt=function(){function e(){this.mustProtectCount=0,this.plants=[],this._protectedCount=0}return t(e,[{key:"protectedCount",get:function(){return this._protectedCount},set:function(e){e<this.mustProtectCount&&R.component.loseDarken(null,Ce.getStringByPropsWithoutTricks("InGameScene","GameLoseTip","PlantEaten")),this._protectedCount=e}}]),e}(),St=function(){function e(){this.TimeBeforeFirst=new K(1,1),this.TimeBetween=new K(1,1),this.Repeat=new K(1,1),this.RewardWhenEnded=!1,this.SuppressRewardState=!1,this.EndingWave=NaN,this.Events=["RTID(Wave1@CurrentLevel)"],this.CD=0,this.leftTime=0}var n=e.prototype;return n.initialize=function(){this.CD=K.getRandomFromRange(this.TimeBeforeFirst),this.leftTime=K.getRandomIntegerFromRange(this.Repeat),0==this.leftTime&&(this.leftTime=1/0)},n.update=function(e,n){this.leftTime>0&&(this.SuppressRewardState&&n.setLevelVictoryCountDown(.1),this.CD-=e,this.CD<=0&&(this.CD=K.getRandomFromRange(this.TimeBetween),n.getModule(this.Events).forEach((function(e){n.readWave(e)})),this.leftTime--)),this.leftTime<=0&&this.RewardWhenEnded&&(n.levelVictoryCountDown=0,n.judgeVictory())},e}(),bt=function(){this.PanStartOffset=-70,this.PanStreetOffset=500,this.PanEndOffset=0,this.PanMoveRightTime=2,this.PanMoveLeftTime=2,this.PanRightDuration=.5,this.PanLeftDuration=1,this.SkipShowingStreet=!1,this.AdditionalStartingSun=0,this.ZombiePreviewOff=!1},wt=(Ue=vt("Cannon Point Shower"),Ve=gt(h),Ye=gt(d),Ke=gt(d),Ue((qe=n((Xe=function(){a(this,"PointParent",qe,this),a(this,"Target",Qe,this),a(this,"Current",$e,this)}).prototype,"PointParent",[Ve],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qe=n(Xe.prototype,"Target",[Ye],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$e=n(Xe.prototype,"Current",[Ke],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Je=Xe))||Je),Ct=function(){this.SuppressObjectiveTip=!1,this.BaseMovementRate=80,this.BaseZombieKillScore=100,this.BufferDistance=50,this.ComboBrackets=[{AudioCue:"Play_CrazyDave_Short",Exclamations:["[DAVE_CANNONMINIGAME_3_KILLED_1]","[DAVE_CANNONMINIGAME_3_KILLED_2]","[DAVE_CANNONMINIGAME_3_KILLED_3]"],MessageColor:{mAlpha:255,mBlue:220,mGreen:255,mRed:220},ScoreMultiplier:2,ZombiesKilled:3},{AudioCue:"Play_CrazyDave_Scream",Exclamations:["[DAVE_CANNONMINIGAME_5_KILLED_1]","[DAVE_CANNONMINIGAME_5_KILLED_2]","[DAVE_CANNONMINIGAME_5_KILLED_3]"],MessageColor:{mAlpha:255,mBlue:255,mGreen:220,mRed:220},ScoreMultiplier:3,ZombiesKilled:5},{AudioCue:"Play_CrazyDave_Scream2",Exclamations:["[DAVE_CANNONMINIGAME_8_KILLED_1]","[DAVE_CANNONMINIGAME_8_KILLED_2]","[DAVE_CANNONMINIGAME_8_KILLED_3]"],MessageColor:{mAlpha:255,mBlue:220,mGreen:240,mRed:255},ScoreMultiplier:4,ZombiesKilled:8},{AudioCue:"Play_CrazyDave_Crazy",Exclamations:["[DAVE_CANNONMINIGAME_12_KILLED_1]","[DAVE_CANNONMINIGAME_12_KILLED_2]","[DAVE_CANNONMINIGAME_12_KILLED_3]"],MessageColor:{mAlpha:255,mBlue:200,mGreen:200,mRed:255},ScoreMultiplier:5,ZombiesKilled:12}],this.Lanes=[],this.MaxRewardGold=50,this.MinRewardGold=0,this.MinScore=5e3,this.RowHasCannon=[1,1,1,1,1],this.SlowdownMovementRate=45},Mt=function(){function e(){this.InitialPotionCount=4,this.MaxPotionCount=15,this.PotionSpawnTimer={Max:8,Min:4},this.PotionTypes=["zombiepotion_speed","zombiepotion_toughness"],this._cd=0,this.spawnedPotions=[],this.waiting=!1}var n=e.prototype;return n.gameStart=function(){var e=r(s().mark((function e(){var n,t,a,o,i,r,u,c,h,d,m,p,v;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(this.resetCD(),n=[],t=Math.ceil(this.MaxPotionCount/5)+1,a=0;a<t&&a<9;a++)for(o=9-a,i=0;i<5;i++)for(r=q.getLnC(i,o),u=0;u<o+1;u++)n.push(r);c=this.InitialPotionCount,h=l(Y.randomize(n));case 6:if((d=h()).done){e.next=17;break}if(m=d.value,!(c<=0)){e.next=10;break}return e.abrupt("continue",15);case 10:return p=ne.getPlantEnumByCodename(Y.getRandom(this.PotionTypes)),e.next=13,m.SpawnPlant(p,!0,!0,!1,!1);case 13:(v=e.sent)&&(c--,this.spawnedPotions.push(v));case 15:e.next=6;break;case 17:case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.resetCD=function(){this._cd=this.PotionSpawnTimer.Min+Math.random()*(this.PotionSpawnTimer.Max-this.PotionSpawnTimer.Min)},n.update=function(){var e=r(s().mark((function e(n){var t,a,o,i,r,u,c,h,d=this;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._cd>0&&(this._cd-=n),!this.waiting){e.next=3;break}return e.abrupt("return");case 3:if(this.spawnedPotions.concat().forEach((function(e){if(!e.isAlive()){var n=d.spawnedPotions.indexOf(e);-1!=n&&d.spawnedPotions.splice(n,1)}})),!(this._cd<=0)){e.next=30;break}if(this.resetCD(),!(this.spawnedPotions.length<this.MaxPotionCount)){e.next=30;break}t=!1,a=0;case 9:if(!(a<9)){e.next=30;break}if(!t){e.next=12;break}return e.abrupt("break",30);case 12:o=l(Y.randomize([0,1,2,3,4]));case 13:if((i=o()).done){e.next=27;break}if(r=i.value,!t){e.next=17;break}return e.abrupt("continue",25);case 17:return u=q.getLnC(r,8-a),c=ne.getPlantEnumByCodename(Y.getRandom(this.PotionTypes)),this.waiting=!0,e.next=22,u.SpawnPlant(c,!0,!0,!1,!1);case 22:h=e.sent,this.waiting=!1,h&&(t=!0,this.spawnedPotions.push(h));case 25:e.next=13;break;case 27:a++,e.next=9;break;case 30:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}(),e}(),yt=e("SunBombProperties",(function(){this.PlantBombExplosionRadius=25,this.ZombieBombExplosionRadius=80,this.PlantDamage=1e3,this.ZombieDamage=500})),Nt=function(){this.SuppressParticle=!1,this.List=[]},Lt=function(){this.ID=te.Peashooter,this.NewObjdata={}},Tt=function(){this.LevelJam=void 0,this.LevelJamList=void 0,this.SuppressedDynamicZombieWaves=void 0,this.SpawnRows=void 0,this.FlagWaveVeteranOverrideTypes=void 0,this.SuppressFlagZombie=void 0,this.MinNextWaveHealthPercentage=.5,this.MaxNextWaveHealthPercentage=.65,this.FlagWaveInterval=1,this.IgnoreFlagCarriers=!1,this.WaveCount=0,this.WaveSpendingPointIncrement=10,this.WaveSpendingPoints=100,this.Waves=[],this.ZombieCountdownFirstWaveSecs=10},Wt=function(){this.l=-1,this.c=-1,this.tombEnum=X.tutorial},xt=(en=vt("inGameSceneToolTips"),nn=gt(d),tn=gt(d),en((rn=n((on=function(){function e(){a(this,"LetsRock",rn,this),a(this,"PresetLetsRock",sn,this)}return e.prototype.setString=function(){this.LetsRock&&(this.LetsRock.string=Ce.getString(Ce.lyrics.InGameScene.LetsRock,!1)),this.PresetLetsRock&&(this.PresetLetsRock.string=Ce.getString(Ce.lyrics.InGameScene.PresetLetsRock,!1))},e}()).prototype,"LetsRock",[nn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),sn=n(on.prototype,"PresetLetsRock",[tn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),an=on))||an),Bt=function(){this.ColumnEnd=8,this.ColumnStart=0,this.GroupSize=1,this.SpiderCount=0,this.SpiderZombie="future_imp",this.TimeBeforeFullSpawn=4,this.TimeBetweenGroups=1,this.ZombieFallTime=1.5,this._leftTimeBetweenGroups=0},Dt=function(){function e(){this.SunCD=2,this.SunCountdownBase=6,this.SunCountdownRange=3,this.SunCountdownIncreasePerSun=.1,this.SunCountdownMax=12,this.ListenToLawn=!1,this.Value=50,this.dropped=0}return e.prototype.deal=function(e){if((!this.ListenToLawn||!B.atNight)&&(this.SunCD-=e,this.SunCD<=0)){var n,t=this.SunCountdownBase+this.dropped*this.SunCountdownIncreasePerSun+this.SunCountdownRange*Math.random();this.SunCD=Math.min(this.SunCountdownMax,t),null==(n=B.CurrentLawn)||n.dropSun(this.Value),this.dropped++}},e}(),It=function(){function e(){this.CurrentMatches=0,this.MatchesToWin=100,this.MatchCombo=0,this.InitialPlants=[],this.CurrentPlants=[],this.UpgradeMap=[],this.progressbar=void 0,this.progressLabel=void 0,this.HintCD=3}var n=e.prototype;return n.readProgress=function(){this.progressbar&&(this.progressbar.progress=this.CurrentMatches/this.MatchesToWin),this.progressLabel&&(this.progressLabel.string=Ce.getDirectQuote("[BEGHOULED_MATCH_COUNT]").replace("<CURRENTMATCHES>",this.CurrentMatches.toString()).replace("<MATCHESTOWIN>",this.MatchesToWin.toString()))},n.match=function(e,n,t){var a;void 0===n&&(n=!1);var o,i=Math.min(++this.CurrentMatches,this.MatchesToWin);(this.CurrentMatches=i,n?this.MatchCombo++:this.MatchCombo=0,_.playBeghouledMatch(this.MatchCombo),null==(a=Rt.component)||null==(a=a.BeghouledProps)||null==(a=a.BeghouledZombieSpawnerProps)||a.setMatchCount(i),this.HintCD=3,i>=this.MatchesToWin)&&(null==Rt||null==(o=Rt.component)||o.judgeVictory());this.readProgress();var r=50*(this.MatchCombo+t.length-2+e.beghouledMatchSunCountExtra(t));ke.produceSun(r,e.worldPosition,30)},n.shufflePlants=function(){var e=r(s().mark((function e(){var n,t,a,o=this;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:_.playBeghouledRefresh(),n=0;case 2:if(!(n<5)){e.next=13;break}t=s().mark((function e(){var t,i,r,l;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=q.getLnC(n,a)).getAllPlants().forEach((function(e){e.beghouledMatch([])})),i=Y.randomize(o.CurrentPlants),r=i.find((function(e){return![t.lefter,t.upper,t.lower,t.righter].some((function(n){return n.getAllPlants().some((function(n){return n.ID==e}))}))})),e.next=6,t.SpawnPlant(r,!0,!0,!1,!1);case 6:l=e.sent,o.plantPlayDrop(l,t);case 8:case"end":return e.stop()}}),e)})),a=0;case 5:if(!(a<8)){e.next=10;break}return e.delegateYield(t(),"t0",7);case 7:a++,e.next=5;break;case 10:n++,e.next=2;break;case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),n.updateMouse=function(){q.beghouledMouseUpdate()},n.updatePlants=function(){var e=r(s().mark((function e(){var n,t,a,o,i=this;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=4;case 1:if(!(n>=0)){e.next=15;break}t=s().mark((function e(){var t,a,r,l,u,c,h;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(_e.isInGame){e.next=2;break}return e.abrupt("return",{v:void 0});case 2:(t=q.getLnC(n,o)).getAllPlants(),a=t.upper,r=!1;case 7:if(null==(l=a)||!l.isInLawn()){e.next=16;break}if(!((u=a.getAllPlants().filter((function(e){return t.putPlantAvailable(!0,e.ID,!0)}))).length>0)){e.next=13;break}return r=!0,u.forEach((function(e){e.leapTo(t,.5,0,!0,!0,"quadIn",(function(e){q.beghouledPlantDetect(e,t,!0)}))})),e.abrupt("break",16);case 13:a=a.upper,e.next=7;break;case 16:if(r){e.next=24;break}return c=Y.getRandom(i.CurrentPlants),e.next=20,t.SpawnPlant(c,!0,!0,!1,!1,!1,!1);case 20:if(h=e.sent,_e.isInGame){e.next=23;break}return e.abrupt("return",{v:void 0});case 23:i.plantPlayDrop(h,t);case 24:case"end":return e.stop()}}),e)})),o=0;case 4:if(!(o<8)){e.next=12;break}return e.delegateYield(t(),"t0",6);case 6:if(!(a=e.t0)){e.next=9;break}return e.abrupt("return",a.v);case 9:o++,e.next=4;break;case 12:n--,e.next=1;break;case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),n.detectStuck=function(e){var n=this,t=Y.randomize(H.pool()),a=t.some((function(e){return!!e.leapTween}));(this.HintCD>0&&(this.HintCD-=e),a)||(t.some((function(e){return[e.plantInLnC.upper,e.plantInLnC.lower,e.plantInLnC.lefter,e.plantInLnC.righter].some((function(t){var a=q.beghouledGetPlantsCanBeSwapToLnC([e],t),o=t.isInLawn()&&t.putPlantAvailable(!1,e.ID,!0)&&a.length>=3;return n.HintCD<=0&&o&&(n.HintCD=5,a.forEach((function(e){e.beghouledHintLeftTime=3}))),o}))}))||this.shufflePlants())},n.plantPlayDrop=function(e,n){e&&(e.worldPositionY=700+n.plantPoint.worldPosition.y,e.leapTween=b(e).to(.5,{worldPositionY:n.plantPoint.worldPosition.y},{easing:"quadOut"}).call((function(){e.leapTween=null,q.beghouledPlantDetect(e,n,!0)})).start())},n.upgradePlants=function(e){var n,t=null==(n=this.UpgradeMap.find((function(n){return ne.getPlantEnumByCodename(n.UpgradedPlant)==e})))?void 0:n.BasePlant;if(t){var a=ne.getPlantEnumByCodename(t),o=this.CurrentPlants.indexOf(a);this.CurrentPlants[o]=e,H.pool().concat().forEach((function(n){if(n.ID==a){var t=n.plantInLnC;n.die(!0,!1,!1,!1),n.node.destroy();t.SpawnPlant(e,!0,!0,!0,!1)}})),this.refreshSeedSlots()}},n.gameStart=function(){this.refreshSeedSlots(),this.progressbar&&(this.progressbar.node.active=!0),this.readProgress()},n.refreshSeedSlots=function(){var e,n=this,t=[];this.CurrentPlants.forEach((function(e){n.UpgradeMap.forEach((function(n){ne.getPlantEnumByCodename(n.BasePlant)==e&&t.push(ne.getPlantEnumByCodename(n.UpgradedPlant))}))})),null==(e=k.component)||e.setBeghouledCurrentCards(t)},n.update=function(e){var n;null==(n=k.component)||n.beghouledUpdate(),this.updatePlants(),this.updateMouse(),this.detectStuck(e)},e}(),kt=function(){function e(){this.MatchCountsToStageAdvance=[],this.SpawnCD=5,this.CurrentStage=0,this.Stages=[]}var n=e.prototype;return n.setMatchCount=function(e){var n=this.MatchCountsToStageAdvance.sort((function(e,n){return n.StageNumber-e.StageNumber})).find((function(n){return e>n.MatchCount}));this.CurrentStage=n?Math.min(this.Stages.length-1,n.StageNumber):0},n.update=function(e){(this.SpawnCD>0&&(this.SpawnCD-=e),this.SpawnCD<=0)&&(q.getRandomLnC().SpawnZombieByZombieType(Y.getRandom(this.Stages[this.CurrentStage].Types).ZombieType,Q.fromLane),this.SpawnCD=this.Stages[this.CurrentStage].SpawnDelay)},e}(),Rt=e("LevelPlay",function(){function e(){}return e.setPlayed=function(){this.thisLevelsID.forEach((function(e){var n=ce.getLevelProgressByID(e);n.progress=Math.max(n.progress,he.unlocked_played)})),ce.savePP()},e.setScreenFlashLeftColor=function(e,n){var t;void 0===n&&(n=.5);var a={color:e,tween:null},o=this.component,i=b(a.color).to(n,{a:0}).call((function(){var e,n,t=null==o||null==(e=o.LeftColors)?void 0:e.indexOf(a);-1!=t&&(null==o||null==(n=o.LeftColors)||n.splice(t,1))})).start();a.tween=i,null==o||null==(t=o.LeftColors)||t.push(a)},e.getUpgradeProps=function(){this.SunShovelRate=0,this.StartingSunBoost=0,this.FirstAidSupplied=!1,this.PlantfoodRefresh=!1,this.BaseSeedSlotcount=6,this.BasePFSlotcount=3,this.ManualMower=0;for(var e=0;e<Ee.amount;e++){var n=ce.getUpgradeProgressByID(e);if(n.progress>0&&n.enabled)switch(Pe.upgradeFeature()[e].UPGRADETYPE){case"starting_sun":this.StartingSunBoost+=25;break;case"pf_slot":this.BasePFSlotcount=Math.min(this.BasePFSlotcount+1,5);break;case"firstaid":this.FirstAidSupplied=!0;break;case"refresh":this.PlantfoodRefresh=!0;break;case"sunshovel":this.SunShovelRate+=.25;break;case"seedslot":this.BaseSeedSlotcount=Math.min(this.BaseSeedSlotcount+1,8);break;case"manual_mower":this.ManualMower++}}},e.registerZombieInThisWave=function(e){var n;null==(n=this.component)||n.registerZombieInThisWave(e)},e.getLevelModule=function(e,n){var t;if(void 0===n&&(n=[]),!isNaN(null==(t=n)?void 0:t.length))return e.length?n.map((function(n){return n.endsWith("@CurrentLevel)")?e.find((function(e){return"RTID("+e.aliases+"@CurrentLevel)"==n})):n.endsWith("@.)")?e.find((function(e){return"RTID("+e.aliases+"@.)"==n})):Ge.getObjectsByRTID(n)[0]})).filter((function(e){return!!e})):n.map((function(e){return Ge.getObjectsByRTID(e)[0]})).filter((function(e){return!!e}))},e.gameStart=function(){this.component.gameStart()},e.gameWarn=function(e,n,t,a,o,i,r,s){void 0===n&&(n=6),void 0===t&&(t=4),void 0===a&&(a=.5),void 0===o&&(o=.33),void 0===i&&(i=new w(255,0,0,0)),void 0===r&&(r=1),void 0===s&&(s=new w(0,0,0,255)),this.component.gamingWarn(e,n,t,a,o,i,r,s)},e.shakeScreen=function(e){void 0===e&&(e=.2),this.component.shakeScreen(e)},e.setLevelData=function(e,n){this.levelData=Re(Y.getRandom(e)).json,this.thisLevelsID=e.concat(),this.nextLevelsID=n.concat()},e.getLevelDefinition=function(e){return e.find((function(e){if("LevelDefinition"==e.objclass)return!0}))},e.getLevelName=function(e){var n=null,t=this.getLevelDefinition(e);if(t){var a=t.objdata.NameMultiLanguage,o=t.objdata.Name;a&&(o=Ce.getString(a,!1));var i=Ce.getStringByPropsWithoutTricks("LevelName",o);i||(i=o),n=i=this.levelNameReplacer(i,t)}return n||""},e.levelNameReplacer=function(e,n){var t,a,o,i,r;null!=(t=n.objdata)&&null!=(t=t.PlantToIntroduce)&&t.length&&(e=null==(r=e)?void 0:r.replace("<PLANTNAME>",Ce.getString(ne.getPlantFeature(ne.getPlantEnumByCodename(n.objdata.PlantToIntroduce)).NAME)));return(e=null==(o=e=null==(a=e)?void 0:a.replace("<LEVELNUMBER>",(+n.objdata.LevelNumber).toString()))?void 0:o.replace("<PLAYERNAME>",null==(i=ce.currentPlayer)?void 0:i.name))||(e=""),e},e.getLevelDescription=function(e){var n=null,t=this.getLevelDefinition(e);if(t){var a=t.objdata.DescriptionMultiLanguage,o=t.objdata.Description;a&&(o=Ce.getString(a,!1));var i=Ce.getStringByPropsWithoutTricks("LevelDescription",o);i||(i=o),n=i=this.levelNameReplacer(i,t)}return n||""},t(e,null,[{key:"PlantModifiers",get:function(){return this.component?this.component.plantModifiers:[]}},{key:"LevelMusicPlaybackRate",get:function(){var e;return null!=(e=this.component)&&null!=(e=e.node)&&e.active?this.component.LevelMusicPlaybackRate:1}},{key:"isBeghouled",get:function(){var e;return!(null==(e=this.component)||null==(e=e.BeghouledProps)||!e.BeghouledPresetProps)}},{key:"ExcludeListSunProducers",get:function(){return this.component&&this.component.ExcludeListSunProducers}},{key:"AutoCollectList",get:function(){return this.component?this.component.AutoCollectList:[]}},{key:"CannonMinigameProps",get:function(){var e;return null==(e=this.component)?void 0:e.cannonMinigameProperties}},{key:"UnlockAll",get:function(){return this.component&&this.component.UnlockAll}},{key:"PointLayer",get:function(){var e;return null==(e=this.component)?void 0:e.pointLayer}},{key:"maxTideDistance",get:function(){return this.component&&B.haveTideKelp()?this.component.maxTideDistance:9}},{key:"zombieDamageReceiveScale",get:function(){return this.component?this.component.zombieDamageReceiveScale:1}},{key:"_zombiesInThisWave",get:function(){return this.component?this.component._zombiesInThisWave:[]}},{key:"gaming",get:function(){return this.component&&this.component.node.active&&this.component.gaming}},{key:"gameStarted",get:function(){return!!this.component&&this.component.gameStarted},set:function(e){this.component.gameStarted=e}},{key:"LevelJamList",get:function(){return(this.component?this.component.LevelJamList:[]).concat([B.getCurrentJam()])}},{key:"CurrentLevelDefinition",get:function(){var e;return null==(e=this.component)?void 0:e.levelDefinition}}]),e}());Rt.component=void 0,Rt.screenFlashColors=[],Rt.FluidDragCoefficient=0,Rt.FluidMinGravity=0,Rt.__golden=!1,Rt.SunShovelRate=0,Rt.StartingSunBoost=0,Rt.FirstAidSupplied=!1,Rt.PlantfoodRefresh=!1,Rt.BaseSeedSlotcount=6,Rt.BasePFSlotcount=3,Rt.ManualMower=0,Rt.BoostedPlantsUsed=[],Rt.ZombieWarnOn=!0,Rt.sandBoxModeOn=!1,Rt.sandBoxWithAllLawns=!0,Rt.letsRocked=!1,Rt.chooseCardMode=!1,Rt.levelData=null,Rt.thisLevelsID=[],Rt.nextLevelsID=[],Rt.rhythmMusicClip=void 0;e("levelController",(ln=vt("levelController"),un=gt(xt),cn=gt(d),hn=gt(m),dn=gt(p),mn=gt(p),pn=gt(p),vn=gt(wt),gn=gt(h),fn=gt(m),Pn=gt(d),Sn=gt(m),bn=gt(d),wn=gt(d),Cn=gt(v),Mn=gt(h),yn=gt(we),Nn=gt(Ne),Ln=gt(m),Tn=gt([g]),Wn=gt(p),xn=gt(f.ArmatureDisplay),Bn=gt(He),Dn=gt([h]),In=gt(P),kn=gt(h),Rn=gt(h),_n=gt(S),En=gt(Be),Gn=gt(v),ln((An=n((Zn=function(e){function n(){for(var n,t=arguments.length,o=new Array(t),r=0;r<t;r++)o[r]=arguments[r];return(n=e.call.apply(e,[this].concat(o))||this).AutoCollectList=[],n.LeftColors=[],n._levelWorldName="",a(n,"tooltips",An,i(n)),a(n,"inGameWarnLabel",On,i(n)),n._warnLabelA=0,n.gameWarnTween=[],a(n,"levelProgressBar",jn,i(n)),a(n,"levelProgressHead",zn,i(n)),a(n,"waveFlag",Hn,i(n)),n.waveFlags=[],a(n,"screenFlash",Un,i(n)),n._comment="Tutorial",n.currentLevelObjects=[],n.levelModulesObjects=[],n.graveProps=[],n.waveManagerProps=new Tt,n.currentWave=-1,n.currentBigWave=-1,n.conveyor=!1,n.LevelJamList=[],n._dinosToShow=[],n.haveWater=!1,n._maxTideDistance=0,n.InitialIntensiveCarrotPlants=[],n.initialZombies=[],n.levelSchedulers=[],n.PlantsUnderProtection=[],n.potionModules=[],n.imitaterExcludePlantList=[],n.presetSeedToChoose=[],n.presetSeedBank=[],n.ExcludeListSunProducers=!1,n.sunDropper=null,n.currentMowerLanes=[!0,!0,!0,!0,!0],n.mowerProps=[],n.plantModifiers=[],a(n,"cannonPointShower",Vn,i(n)),n.cannonPointShowerTween=null,n.cannonMinigameProperties=null,n.currentCannonPoint=0,n._cannonPointUsedForCountDown=-1,a(n,"pointLayer",Yn,i(n)),n.ExcludePlantList=[],n.UnlockAll=!1,n.PowerUpsForceShow=!1,n.PowerUpsTip=!1,n.PowerUpsForceHide=!1,n.PFSlotsShow=!1,n.sunbombProps=null,n.isCowboyMinigame=!1,n.cowboyMinigameWaiting=!1,n.fightAlonePlant=void 0,n.fightAlonePlantIndex=0,n.fightAlonePlantList=[],n.fightAlonePlantPoint=0,a(n,"fightAloneProgressBar",Kn,i(n)),n.fightAloneWaiting=!1,n.zombieDamageReceiveScale=1,n.BeghouledProps={BeghouledZombieSpawnerProps:null,BeghouledPresetProps:null},a(n,"beghouledProgressLabel",Jn,i(n)),a(n,"beghouledProgressBar",Xn,i(n)),n.SuppressedDynamicZombieWaves=[],n.LevelMusicPlaybackRate=1,a(n,"levelNameLabel",qn,i(n)),n.levelNameString=void 0,a(n,"levelDescriptionLabel",Qn,i(n)),n.levelDescriptionString=void 0,n.difficulty=6,n.waveSpawnZombies=[],n.maxCamelTouchType=8,n.lastPushedCamel=NaN,a(n,"Level",$n,i(n)),n.rocked=!1,n.levelVictoryCountDown=1,n.spiderRainProps=[],n.kongfuChiHoleThisWave=[],n.waveToughness=1,n._zombiesInThisWave=[],n._metZombies=[],n.nextWaveZombieHealthPercentage=.5,n.mustKillAllThisWave=!1,n.waveZombieDamageCountdown=4,n.nextWaveCountdown=0,n.isFinalWave=!1,n.rallyBW=[],n._defaultZombieCountdownFirstWaveSecs=15,n.RestartWhenExit=!1,n.isDangerroom=!1,n.dangerroomMaxFlagWaves=2,n.dangerroomProperties=[],n.dangerroomLevel=new de,n.dangerroomPPEnum=NaN,n.dangerroomExcludePlantList=[],n.dgr_zombieJitterSpawnList=[],n.isDangerroomMiniGame=!1,n.dangerroomMiniGameProperties=[],n.dangerroomMiniGameLevel=new me,n.dangerroomMiniGamePPEnum=NaN,n.camelComboCount=0,n.camelComboOn=!1,n.foodAllWhenGameStarted=!1,n.rhythmZombies=[],n.rhythmGameProps=void 0,n.rhythmAudioSource=void 0,n.rhythmMusicCountDown=0,n.rhythmPlayStarted=!1,n.rhythmTimeOld=0,n.onlyLanesForRandomSpawn=[0,1,2,3,4],n.gameStarted=!1,a(n,"lastStandGameStartButton",et,i(n)),n.showShovel=!0,n.showPlantfood=!0,a(n,"dangerroomCardChooser",nt,i(n)),n.levelIntroProps=void 0,n.viewingLawn=!1,a(n,"viewButton",tt,i(n)),n.viewLawnDisabled=!1,n.lastStandPrepareStarted=!1,n.bossZombie=null,n.bossProps=null,n.bossMovable=!1,n.alreadyReadySetPlant=!1,a(n,"bossHealthProgressBar",at,i(n)),a(n,"bossHealthProgressHead",ot,i(n)),a(n,"bossHealthProgressHeadSpt",it,i(n)),a(n,"bossHealthProgressBarParticle",rt,i(n)),n.zombossHPNotches=[],n.forceSunSlotShown=!1,n.screenShakeVec=new C,n._uiPos=new C(0,0,0),a(n,"carddeck_displayer",st,i(n)),a(n,"uiFollowingCamera",lt,i(n)),n._uiFollowingCamera=[],a(n,"camera",ut,i(n)),a(n,"ui",ct,i(n)),a(n,"uiUpper",ht,i(n)),n.levelDescriptionCD=5,n.camelWaiting=!1,n.prizeSpawnWP=null,n.gameWon=!1,n.gameLost=!1,n.gameOver=!1,n._cannonVic=!1,n.IntroNarrative="",n.OutroNarrative="",n.levelDefinition={},a(n,"zombieDisplayer",dt,i(n)),n.zombiesOnDisplayed=[],n.FluidDragCoefficient=0,n._zombiesToShow=[],n.seedChoosingCameraX=230,n.dinosOnDisplayed=[],a(n,"levelObjectiveShower",mt,i(n)),n.lastStand=!1,n.chickenThrowers=[],n.startingMusicChanged=!1,n.startingMusic=NaN,n.growingTime=0,n.PLANTWarnString="",n.isIntroNarrating=!1,n.isOutroNarrating=!1,a(n,"levelModuleJson",pt,i(n)),n}o(n,e);var u=n.prototype;return u.getLevelName=function(e){var n,t,a=null==e?void 0:e.Name,o=Ce.getStringByPropsWithoutTricks("LevelName",a);o||(o=Ce.getString(null==e?void 0:e.NameMultiLanguage,!1)),o||(o=e.Name);var i,r=null==e?void 0:e.LevelNumber;if(!isNaN(r)&&null!=r)if(this.isDangerroomMiniGame){this.getDangerroomMiniGameProperties();r=this.dangerroomMiniGameLevel.level}else if(this.isDangerroom){this.getDangerroomProperties();r=this.dangerroomLevel.level}(o=null==(n=o)?void 0:n.replace("<LEVELNUMBER>",r?r.toString():""),null!=e&&null!=(t=e.PlantToIntroduce)&&t.length)&&(o=null==(i=o)?void 0:i.replace("<PLANTNAME>",Ce.getString(ne.getPlantFeature(ne.getPlantEnumByCodename(e.PlantToIntroduce)).NAME)));return o||""},u.gamingWarn=function(e,n,t,a,o,i,r,s){void 0===e&&(e="A HUGE WAVE OF ZOMBIES IS APPROACHING!"),void 0===n&&(n=5),void 0===t&&(t=4),void 0===a&&(a=.5),void 0===o&&(o=.33),void 0===i&&(i=new w(255,0,0,0)),void 0===r&&(r=1),void 0===s&&(s=new w(0,0,0,255)),this.inGameWarnLabel.string=e,this.gameWarnTween.forEach((function(e){e.stop()})),this.gameWarnTween=[],this.inGameWarnLabel.color=i,this.inGameWarnLabel.outlineColor=s,this.inGameWarnLabel.node.scale=new C(t,t,t),this.gameWarnTween.push(b(this.inGameWarnLabel.node).to(o,{scale:new C(a,a,a)}).call((function(){switch(r){case 1:_.playReadyOrSet();break;case 2:case 3:_.playSandStormWarn();break;case 4:_.playFinalWave();break;default:_.playHugeWave()}})).start(),b(this).to(o/2,{warnLabelA:255}).to(o/2+n,{}).to(.33,{warnLabelA:0}).start())},u.setLevelProgressBar=function(){var e;if(!isNaN(null==(e=this.waveManagerProps)||null==(e=e.Waves)?void 0:e.length)){this.waveFlags=[],this.levelProgressBar.node.active=!0,this.waveFlags.unshift(this.waveFlag);for(var n=this.waveManagerProps.Waves.length/this.waveManagerProps.FlagWaveInterval,t=1;t<n;t++){var a=M(this.waveFlag.node);a.parent=this.waveFlag.node.parent,a.position=new C(2*-this.waveFlag.node.parent.position.x/n*t,this.waveFlag.node.position.y,0),this.waveFlags.unshift(a.getComponent(p))}this.levelProgressBar.node.active=!1}},u.setScreenColor=function(e){var n=new y(1,1,1,0);Rt.screenFlashColors.forEach((function(e){n.x*=e.r/255,n.y*=e.g/255,n.z*=e.b/255,n.w+=e.a/255})),this.LeftColors.forEach((function(e){var t=e.color;n.x*=t.r/255,n.y*=t.g/255,n.z*=t.b/255,n.w+=t.a/255})),Rt.screenFlashColors=[],this.screenFlash.color=w.fromVec4(n)},u.initialGraveSpawn=function(){var e;if(!(+(null==(e=this.graveProps)?void 0:e.length)<=0)){var n=this.graveProps.concat();this.schedule((function(){var e=Y.getRandom(n);e&&(q.getLnC(e.l,e.c).SpawnTomb(e.tombEnum,!1,!1),n.splice(n.indexOf(e),1))}),1/this.graveProps.length,this.graveProps.length,.01),this.graveProps=[]}},u.module_SetWaveProperties=function(e){var n,t,a,o,i=this,r=this.waveManagerProps;if(null!=e&&null!=(n=e.FlagWaveVeteranOverrideTypes)&&n.length&&(this.rallyBW=e.FlagWaveVeteranOverrideTypes),null!=e&&e.SuppressFlagZombie&&(r.SuppressFlagZombie=!0),null!=e&&e.MinNextWaveHealthPercentage&&(r.MinNextWaveHealthPercentage=e.MinNextWaveHealthPercentage),null!=e&&e.MaxNextWaveHealthPercentage&&(r.MaxNextWaveHealthPercentage=e.MaxNextWaveHealthPercentage),null!=e&&e.IgnoreFlagCarriers&&(r.IgnoreFlagCarriers=!0),null!=e&&null!=(t=e.SpawnRows)&&t.length&&(this.onlyLanesForRandomSpawn=e.SpawnRows),null!=e&&e.Waves&&(r.Waves=e.Waves),r.WaveCount=r.Waves.length,+(null==e?void 0:e.FlagWaveInterval)&&(r.FlagWaveInterval=+e.FlagWaveInterval),null!=e&&e.ZombieCountdownFirstWaveSecs?r.ZombieCountdownFirstWaveSecs=e.ZombieCountdownFirstWaveSecs:r.ZombieCountdownFirstWaveSecs=this.defaultZombieCountdownFirstWaveSecs,null!=e&&e.WaveSpendingPointIncrement&&(r.WaveSpendingPointIncrement=e.WaveSpendingPointIncrement),null!=e&&e.WaveSpendingPoints&&(r.WaveSpendingPoints=e.WaveSpendingPoints),null!=e&&null!=(a=e.SuppressedDynamicZombieWaves)&&a.length&&(this.SuppressedDynamicZombieWaves=e.SuppressedDynamicZombieWaves),null!=e&&e.LevelJam){var s=D[e.LevelJam];isNaN(s)||this.LevelJamList.push(s)}null==e||null==(o=e.LevelJamList)||o.forEach((function(e){var n=D[e];isNaN(n)||i.LevelJamList.push(n)}))},u.waveEventStatistic=function(){var e=this;this.waveManagerProps.Waves.map((function(e){return e.map((function(e){var n=Ge.getObjectsByRTID(e)[0];if(n)return n})).filter((function(e){return!!e}))})).forEach((function(n){n.forEach((function(n){var t=n.objdata;switch(n.objclass){case"TidalChangeWaveActionProps":var a,o=+(null==(a=t.TidalChange)?void 0:a.ChangeAmount);!isNaN(o)&&o>e._maxTideDistance&&(e._maxTideDistance=o);break;case"SpawnZombiesJitteredWaveActionProps":case"StormZombieSpawnerProps":case"QigongStrikeWaveActionProps":case"SpawnZombiesFromGroundSpawnerProps":var i;null==t||null==(i=t.Zombies)||i.forEach((function(n){n.Type&&e._zombiesToShow.push(Z.getZombieEnumByRTID(n.Type))}));break;case"ParachuteRainZombieSpawnerProps":case"SpiderRainZombieSpawnerProps":if(!isNaN(+t.SpiderCount)&&t.SpiderZombieName)for(var r=0;r<+t.SpiderCount;r++)e._zombiesToShow.push(Z.getZombieEnumWithProp(Z.getZombieEnumByCodename(t.SpiderZombieName)));break;case"RaidingPartyZombieSpawnerProps":if(!isNaN(+t.SwashbucklerCount))for(var s=Z.getZombieEnumByRTID(t.ZombieType),l=0;l<+t.SwashbucklerCount;l++)e._zombiesToShow.push(t.ZombieType?s:Z.getZombieEnumWithProp(A.swashbuckler));break;case"StormZombieSpawnerProps":var u;null==(u=t.Zombies)||u.forEach((function(n){e._zombiesToShow.push(Z.getZombieEnumByRTID(n.Type))}));break;case"BeachStageEventZombieSpawnerProps":if(!isNaN(+t.ZombieCount)&&t.ZombieName)for(var c=0;c<+t.ZombieCount;c++)e._zombiesToShow.push(Z.getZombieEnumWithProp(Z.getZombieEnumByCodename(t.ZombieName)));break;case"SpawnZombiesFromGridItemSpawnerProps":var h;null==(h=t.Zombies)||h.forEach((function(n){e._zombiesToShow.push(Z.getZombieEnumByRTID(n.Type))}));break;case"KongfuChiHoleProps":t.SuppressObjectiveTip||R.component.pushGamePreStartTip(Ce.getStringByPropsWithoutTricks("InGameScene","Challenge","QigongHole"));break;case"DinoWaveActionProps":var d=t,m=Ge.getObjects(null==d?void 0:d.DinoType,Fe.DinosaurTypes,"DinosaurType")[0];if(m||(m=Ge.getObjects(null==d?void 0:d.DinoType,Fe.CurrentLevel,"DinosaurType")[0]),m){var p=m.objdata.DinosaurBasedOn;-1==e._dinosToShow.indexOf(Oe[p])&&e._dinosToShow.push(Oe[p])}}}))})),B.haveTide()&&B.addTideKelp(9-this._maxTideDistance)},u.module_SetWaveManagerModuleProperties=function(e){var n;null!=e&&e.WaveManagerProps&&(this.readModule([e.WaveManagerProps]),null!=e&&null!=(n=e.DynamicZombies)&&n.length&&this.generateDynamicZombieSpawnWaves(e.DynamicZombies,"DynamicZombies"))},u.module_SetLevelOfTheDayModuleProperties=function(e){var n=this.waveManagerProps.WaveCount;isNaN(+e.WavesPerFlag)||(n=+e.WavesPerFlag),this.waveManagerProps.FlagWaveInterval=n,this.readModule([null==e?void 0:e.WaveManagerProps]);var t={PointIncrementPerWave:e.PointIncrementPerWave,StartingPoints:e.StartingPoints,StartingWave:0,ZombiePool:e.ZombiePool};if(t)for(var a=[t,t,t,t,t,t,t],o=this.generateDynamicZombieSpawnWaves(a,"PointSpawnZombies"),i=e.PlantfoodToSpawnCount;i>0&&o.length;)i--,Y.getRandom(o).objdata.AdditionalPlantfood++},u.module_SetFrozenPlants=function(){var e=r(s().mark((function e(n){var t,a,o,i,r,u,c,h,d;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=!!n.IsInitialIntensiveCarrotPlacements,null!=n&&null!=(t=n.InitialPlantPlacements)&&t.length){e.next=3;break}return e.abrupt("return");case 3:o=l(null==n?void 0:n.InitialPlantPlacements);case 4:if((i=o()).done){e.next=25;break}if(r=i.value,!isNaN(+r.GridX)&&!isNaN(+r.GridY)){e.next=8;break}return e.abrupt("continue",23);case 8:if(!(r.GridX<0||r.GridX>8||r.GridY<0||r.GridY>4)){e.next=10;break}return e.abrupt("return");case 10:return u=r.GridX,c=r.GridY,h=q.getLnC(c,u),e.next=15,null==h?void 0:h.SpawnPlant(ne.getPlantEnumByCodename(r.TypeName));case 15:if(!(d=e.sent)){e.next=23;break}e.t0=r.Condition,e.next="icecubed"===e.t0?20:22;break;case 20:return h.iceblockSpawn(!0),e.abrupt("break",22);case 22:a&&this.InitialIntensiveCarrotPlants.push(d);case 23:e.next=4;break;case 25:case 26:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}(),u.module_SetBronzeStatues=function(e){var n;null==e||null==(n=e.InitialStatuePlacements)||n.forEach(r(s().mark((function e(n){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==(t=q.getLnC(null==n?void 0:n.GridY,null==n?void 0:n.GridX))||!t.isInLawn()){e.next=6;break}return e.next=4,t.SpawnZombieByZombieType("kongfu_bronze_statue",Q.directPut);case 4:e.sent.forEach((function(e){e.judgeInLnC(),e.readBronzeDetails({LifeSpan:n.LifeSpan,ZombiesToSpawn:n.ZombiesToSpawn})}));case 6:case"end":return e.stop()}}),e)}))))},u.module_SetFrozenZombies=function(){var e=r(s().mark((function e(n){var t,a,o,i,r=this;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=n&&null!=(t=n.InitialZombiePlacements)&&t.length){e.next=2;break}return e.abrupt("return");case 2:a=s().mark((function e(){var n,t,a,o,l,u;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.value,!isNaN(+n.GridX)&&!isNaN(+n.GridY)){e.next=3;break}return e.abrupt("return",0);case 3:if(!(n.GridX<0||n.GridX>8||n.GridY<0||n.GridY>4)){e.next=5;break}return e.abrupt("return",0);case 5:return t=n.GridX,a=n.GridY,o=q.getLnC(a,t),e.next=10,null==o?void 0:o.SpawnZombieByZombieType(n.TypeName,Q.directPut,!0,.5,0,{},!1,!1,!1);case 10:if(null==(l=e.sent)||!l.length){e.next=20;break}r.initialZombies=r.initialZombies.concat(l),l.forEach((function(e){e.isWalking=!1,e.playIdle(0,0)})),e.t0=n.Condition,e.next="icecubed"===e.t0?17:20;break;case 17:return u=o.iceblockSpawn(!1),l.forEach((function(e){e.iceblock=u})),e.abrupt("break",20);case 20:case"end":return e.stop()}}),e)})),o=l(null==n?void 0:n.InitialZombiePlacements);case 4:if((i=o()).done){e.next=11;break}return e.delegateYield(a(),"t0",6);case 6:if(0!==e.t0){e.next=9;break}return e.abrupt("continue",9);case 9:e.next=4;break;case 11:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),u.module_SetPiratePlanks=function(e){var n=B.CurrentLawn;if(n){var t,a=[];null!=e&&null!=(t=e.PlankRows)&&t.length&&(a=e.PlankRows),this.scheduleOnce((function(){n.PlankRows=a}),0)}},u.module_SetStartingGraveStones=function(e){var n,t=this,a=+(null==e?void 0:e.GravestoneCount),o=+(null==e?void 0:e.SpawnColumnEnd)-1,i=+(null==e?void 0:e.SpawnColumnStart)-1,r=+(null==e?void 0:e.SpawnRowEnd),s=+(null==e?void 0:e.SpawnRowStart);a=isNaN(a)?0:a,o=isNaN(o)?8:o,i=isNaN(i)?0:i,r=isNaN(r)?4:r,s=isNaN(s)?0:s;var l=J.getTombEnumByRTID(null==e?void 0:e.Type);isNaN(l)&&(l=J.getTombEnumByLawn(B.CurrentLawnID));for(var u=[],c=s;c<=r;c++)for(var h=i;h<=o;h++){var d=q.getLnC(c,h);null!=d&&d.isInLawn()&&u.push(d)}u=Y.randomize(u);for(var m=0;m<a&&m<u.length;m++){var p=u[m];if(!p)return;var v=new Wt;v.c=p.cIndex,v.l=p.lIndex,v.tombEnum=l,this.graveProps.push(v)}null==(n=e.ForceSpawnData)||n.forEach((function(e){if(!isNaN(e.GridX)&&!isNaN(e.GridY)&&!(e.GridX<0||e.GridX>8||e.GridY<0||e.GridY>4)){var n=NaN;e.TypeName&&(n=J.getTombEnumByGridItemID(Le.getGridItemEnumByCodeName(e.TypeName)));var a=e.GridX,o=e.GridY,i=new Wt;i.c=a,i.l=o,i.tombEnum=isNaN(n)?l:n,t.graveProps.push(i)}}))},u.module_SetStartingKongfuTNT=function(e){var n,t=this;if(null!=e&&e.TriggerGameLose||(e.TriggerGameLose=!1),e.TriggerGameLose){var a=Ce.getStringByPropsWithoutTricks("InGameScene","Challenge","SurviveWhileTNT");R.component.pushGamePreStartTip(a)}null==(n=e.SpawnData)||n.forEach((function(n){isNaN(+n.WireLength)||isNaN(+n.GridX)||isNaN(+n.GridY)||t.scheduleOnce((function(){q.placeTNT(+n.WireLength,+n.GridY,+n.GridX,!1,!1,!1,!1,e.TriggerGameLose,isNaN(n.Speed)?isNaN(e.Speed)?.5:e.Speed:n.Speed,!!e.DamagesToPlants,!!e.DamagesToZombies)}),2*Math.random()+2)}))},u.module_SetBowlingMinigameProperties=function(e){var n=+e.BowlingFoulLine;if(!isNaN(n)){B.addBowlingLine(n+1);for(var t=n+1;t<9;t++)for(var a=0;a<5;a++){var o;null==(o=q.getLnC(a,t))||o.setOccupied(1/0)}this.showPlantfood=!1,this.showShovel=!1,e.SuppressObjectiveTip||(this.PLANTWarnString=Ce.getString(Ce.lyrics.InGameScene.GamingWarn.Roll),R.component.pushGamePreStartTip(Ce.getStringByPropsWithoutTricks("InGameScene","Challenge","Bowling")))}},u.updateLevelSchedulers=function(e){var n=this;this.levelSchedulers.concat().forEach((function(t){if(t.update(e,n),t.leftTime<=0){var a=n.levelSchedulers.indexOf(t);-1!=a&&n.levelSchedulers.splice(a,1)}}))},u.module_SetLevelSchedulers=function(e){var n,t=new St;null!=(n=e.Events)&&n.length&&(t.Events=e.Events,e.Repeat&&(t.Repeat=e.Repeat,e.TimeBetween&&(t.TimeBetween=e.TimeBetween,e.TimeBeforeFirst&&(t.TimeBeforeFirst=e.TimeBeforeFirst,isNaN(e.EndingWave)||(t.EndingWave=e.EndingWave),e.SuppressRewardState&&(t.SuppressRewardState=!0),e.RewardWhenEnded&&(t.RewardWhenEnded=!0),t.initialize(),this.levelSchedulers.push(t)))))},u.module_SetFluidDrag=function(e){+e.DragCoefficient&&(Rt.FluidDragCoefficient=+e.DragCoefficient),+e.FluidMinGravity&&(Rt.FluidMinGravity=+e.FluidMinGravity)},u.onLoseDarken=function(){this.isDangerroomMiniGame?(ce.getDangerRoomMiniGameProperty(this.dangerroomMiniGamePPEnum,!0),ce.savePP()):this.isDangerroom&&(ce.getDangerRoomProperty(this.dangerroomPPEnum,!0),ce.savePP())},u.killEndangeredPlant=function(e){this.PlantsUnderProtection.find((function(n){return-1!=n.plants.indexOf(e)&&(n.protectedCount--,!0)}))},u.replaceEndangeredPlant=function(e,n){this.PlantsUnderProtection.find((function(t){var a=t.plants.indexOf(e);return-1!=a&&(t.plants[a]=n,!0)}))},u.module_SetProtectThePlant=function(){var e=r(s().mark((function e(n){var t,a,o,i,r,u,c,h,d,m,p;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(isNaN(null==(t=n.Plants)?void 0:t.length)){e.next=22;break}a=new Pt,o=l(n.Plants);case 3:if((i=o()).done){e.next=18;break}if(r=i.value,u=ne.getPlantEnumByCodename(r.PlantType),c=r.GridX,h=r.GridY,!isNaN(c)&&!isNaN(h)){e.next=10;break}return e.abrupt("continue",16);case 10:if(!(d=q.getSquare(h,c).getComponent(ee)).isInLawn()){e.next=16;break}return e.next=14,d.SpawnPlant(u,!0);case 14:null!=(p=e.sent)&&null!=(m=p.node)&&m.active&&(p.endangered=!0,a.plants.push(p),a._protectedCount++);case 16:e.next=3;break;case 18:isNaN(+n.MustProtectCount)?a.mustProtectCount=a.protectedCount:a.mustProtectCount=+n.MustProtectCount,n.SuppressObjectiveTip||R.component.pushGamePreStartTip(Ce.getStringByPropsWithoutTricks("InGameScene","Challenge","PlantProtection")),this.PlantsUnderProtection.push(a);case 22:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}(),u.module_SetFoodLinkTiles=function(e){var n;null==(n=e.LinkedTiles)||n.forEach((function(e){if(e.Group){var n=e.Location,t=q.getLnC(n.mY,n.mX);if(null!=t&&t.isInLawn()){var a=0;switch(e.Group){case"beta":a=ne.TileTurnipType==ye.beta?ye.epsilon:ye.beta;break;case"delta":a=ne.TileTurnipType==ye.delta?ye.epsilon:ye.delta;break;case"gamma":a=ne.TileTurnipType==ye.gamma?ye.epsilon:ye.gamma;break;case"epsilon":a=ne.TileTurnipType;break;case"alpha":default:a=ne.TileTurnipType==ye.alpha?ye.epsilon:ye.alpha}t.putTile(Me.foodLinker,{ID:a,PropagationDelay:isNaN(+e.PropagationDelay)?0:+e.PropagationDelay},!1)}}}))},u.module_SetTrapTiles=function(e){var n;null==(n=e.TrapTiles)||n.forEach((function(e){if(e.Group){var n=e.Location,t=q.getLnC(n.mY,n.mX);if(null!=t&&t.isInLawn()){var a=Me.trap_firetile;switch(e.Group){case"boulder_forward":a=Me.trap_bouldertile_forward;break;case"boulder_backward":a=Me.trap_bouldertile_backward;break;case"thunder":a=Me.trap_thundertile;break;default:a=Me.trap_firetile}t.putTile(a,{RecoverDelay:e.RecoverDelay},!1)}}}))},u.module_SetAutoCollect=function(e){var n,t=this;null==(n=e.AutoCollectList)||n.forEach((function(e){-1==t.AutoCollectList.indexOf(e)&&t.AutoCollectList.push(e)}))},u.module_SetRailcart=function(e){var n,t,a=NaN;e.RailcartType&&(a=Le.getGridItemEnumByCodeName(e.RailcartType)),a||(a=NaN),null==e||null==(n=e.Rails)||n.forEach((function(e){var n=null==e?void 0:e.Column,t=null==e?void 0:e.RowStart,o=null==e?void 0:e.RowEnd;if(!(isNaN(n)||isNaN(t)||isNaN(o))){for(var i=[],r=t;r<=o;r++){var s=1;r==t?s=0:r==o&&(s=2);var l=q.getLnC(r,n).addRail(s,a);i.push(l)}i.forEach((function(e){e.group=i.concat()}))}}));var o=null;null==e||null==(t=e.Railcarts)||t.forEach((function(e){var n=e.Column,t=e.Row;if(!isNaN(n)&&!isNaN(t)){var i=q.getLnC(t,n).addCart(a);if(i){if(e.LinksToPrev&&o){o.linkedCarts.forEach((function(e){-1==e.linkedCarts.indexOf(i)&&e.linkedCarts.push(i)})),i.linkedCarts=o.linkedCarts;var r=-1;if(o.inLnC.lIndex==e.Row){var s=e.Column,l=o.inLnC.cIndex;s==l-1&&(r=0,o.linkingPosition+=2),s==l+1&&(r=1,o.linkingPosition+=1)}i.linkingPosition=r}o=i}}}))},u.module_SetSunUsedLimitProps=function(e){isNaN(+(null==e?void 0:e.MaximumSun))||+(null==e?void 0:e.MaximumSun)<0||R.component.pushLevelTask(be.SunCostLimit,e)},u.module_SetSimultaneousPlantsProps=function(e){!isNaN(+(null==e?void 0:e.MaximumPlants))&&+(null==e?void 0:e.MaximumPlants)&&R.component.pushLevelTask(be.PlantCountLimit,e)},u.module_SetPlantsLostProps=function(e){isNaN(+(null==e?void 0:e.MaximumPlantsLost))||+(null==e?void 0:e.MaximumPlantsLost)<0||R.component.pushLevelTask(be.PlantLoseLimit,e)},u.module_SetKillZombiesInTimeProps=function(e){isNaN(+(null==e?void 0:e.Time))||+(null==e?void 0:e.Time)<0||isNaN(+(null==e?void 0:e.ZombiesToKill))||+(null==e?void 0:e.ZombiesToKill)<0||R.component.pushLevelTask(be.ZombieKillCountDown,e)},u.module_SetSpendSunHoldoutProps=function(e){isNaN(+(null==e?void 0:e.HoldoutSeconds))||+(null==e?void 0:e.HoldoutSeconds)<0||R.component.pushLevelTask(be.SunCostCountDownLimit,e)},u.module_SetSunProducedProps=function(e){isNaN(+(null==e?void 0:e.TargetSun))||e.TargetSun<0||R.component.pushLevelTask(be.SunProduceRequest,e)},u.module_SetMoldColonies=function(e){var n,t;if(null!=e&&e.Locations){var a,o=null==(a=Ge.getObjectsByRTID(e.Locations,"BoardGridMapProps")[0])?void 0:a.objdata;if(o){var i=o.Values;null==i||i.forEach((function(e,n){null==e||e.forEach((function(e,t){e>0&&q.getLnC(n,t).addMold()}))}))}}null==(n=e.MoldedSquares)||n.forEach((function(e){isNaN(+e.GridX)||isNaN(+e.GridY)||q.getLnC(e.GridY,e.GridX).addMold()})),null==(t=e.MoldMatrix)||t.forEach((function(e,n){if(!(n>4))for(var t=0;t<e.length&&t<9;t++)+e[t]&&q.getLnC(n,t).addMold()})),e.SuppressObjectiveTip||R.component.pushGamePreStartTip(Ce.getStringByPropsWithoutTricks("InGameScene","Challenge","MoldColonies"))},u.module_SetFlowerLine=function(e){for(var n=e.TargetDistance,t=Math.floor(n),a=n-t,o=[],i=Ce.getStringByPropsWithoutTricks("InGameScene","Challenge","FlowerLine"),r=0;r<5;r++){var s=q.getLnC(r,t).addFlower(a);o.push(s)}o.forEach((function(e){e.group=o,e.tip=i})),e.SuppressObjectiveTip||R.component.pushGamePreStartTip(Ce.getStringByPropsWithoutTricks("InGameScene","Challenge","FlowerLine"))},u.module_SetCamelMinigameProps=function(e){this.PowerUpsForceHide=!0,this.defaultZombieCountdownFirstWaveSecs=4,this.PLANTWarnString=Ce.getString(Ce.lyrics.InGameScene.GamingWarn.Match),isNaN(e.CardTypesUsed)||(this.maxCamelTouchType=Math.min(this.maxCamelTouchType,e.CardTypesUsed)),e.ComboCounter&&(this.camelComboOn=!0),e.SuppressObjectiveTip||R.component.pushGamePreStartTip(Ce.getStringByPropsWithoutTricks("InGameScene","Challenge","CamelTouch"))},u.module_SetBeatTheLevel=function(e){var n,t,a;if(null!=(n=e.DescriptiveName)&&n.includes("FINALE")){var o=Ce.getStringByPropsWithoutTricks("InGameScene","Challenge","SurviveMassiveAttack");o=o.replace("<WORLDNAME>",this._levelWorldName),e.SuppressObjectiveTip||R.component.pushGamePreStartTip(o)}null==e||null==(t=e.Descriptions)||t.forEach((function(e){e.length&&R.component.pushGamePreStartTip(e)})),null==e||null==(a=e.DescriptionsMultilanguage)||a.forEach((function(e){var n=Ce.getString(e,!1);n.length&&R.component.pushGamePreStartTip(n)}))},u.module_SetPotions=function(e){var n,t=new Mt;isNaN(+e.InitialPotionCount)||(t.InitialPotionCount=+e.InitialPotionCount),isNaN(+e.MaxPotionCount)||(t.MaxPotionCount=+e.MaxPotionCount),isNaN(+e.PotionSpawnTimer.Max)||(t.PotionSpawnTimer.Max=+e.PotionSpawnTimer.Max),isNaN(+e.PotionSpawnTimer.Min)||(t.PotionSpawnTimer.Min=+e.PotionSpawnTimer.Min),null!=(n=e.PotionTypes)&&n.length&&(t.PotionTypes=e.PotionTypes,e.SuppressObjectiveTip||R.component.pushGamePreStartTip(Ce.getStringByPropsWithoutTricks("InGameScene","Challenge","Potion")),this.potionModules.push(t))},u.module_SetImitaterPlantList=function(e){var n,t,a=this.imitaterExcludePlantList.concat(),o=!1;"true"==(null==e?void 0:e.ExcludeListSunProducers)&&(o=!0);for(var i=0;i<te.amount;i++){var r,s,l,u,c=ne.getPlantFeature(i);(o&&-1!=c.TYPE.indexOf("sunProducer")||null!=e&&null!=(r=e.RandomPlantExcludeList)&&r.length&&-1!=(null==e||null==(s=e.RandomPlantExcludeList)?void 0:s.indexOf(c.CODENAME))||null!=e&&null!=(l=e.RandomPlantIncludeList)&&l.length&&-1==(null==e||null==(u=e.RandomPlantIncludeList)?void 0:u.indexOf(c.CODENAME)))&&a.push(i)}null!=(n=e.ExtraRandomPlantExcludeList)&&n.length&&e.ExtraRandomPlantExcludeList.forEach((function(e){var n=ne.getPlantEnumByCodename(e,!1);isNaN(n)||-1!=a.indexOf(n)||a.push(n)})),null!=(t=e.AllowedRandomPlantsInExcludeList)&&t.length&&e.AllowedRandomPlantsInExcludeList.forEach((function(e){var n=ne.getPlantEnumByCodename(e,!1),t=a.indexOf(n);-1!=t&&a.splice(t,1)})),this.imitaterExcludePlantList=a},u.module_SetSunDropper=function(e){var n=new Dt;n.Value=isNaN(+(null==e?void 0:e.Value))?n.Value:+e.Value,n.SunCD=isNaN(+(null==e?void 0:e.InitialSunDropDelay))?n.SunCD:+e.InitialSunDropDelay,n.SunCountdownBase=isNaN(+(null==e?void 0:e.SunCountdownBase))?n.SunCountdownBase:+e.SunCountdownBase,n.SunCountdownRange=isNaN(+(null==e?void 0:e.SunCountdownRange))?n.SunCountdownRange:+e.SunCountdownRange,n.SunCountdownIncreasePerSun=isNaN(+(null==e?void 0:e.SunCountdownIncreasePerSun))?n.SunCountdownIncreasePerSun:+e.SunCountdownIncreasePerSun,n.SunCountdownMax=isNaN(+(null==e?void 0:e.SunCountdownMax))?n.SunCountdownMax:+e.SunCountdownMax,n.ListenToLawn=!!e.ListenToLawn,this.sunDropper=n},u.onMowerLose=function(e){this.currentMowerLanes[e]&&(this.currentMowerLanes[e]=!1)},u.module_SetMowerProps=function(e){if(!isNaN(e.MowerEntryAnimDuration)&&e.MowerEntryAnimDuration>=0&&e.MowerType){var n=De[e.MowerType];isNaN(n)&&(n=De.mower_modern,e.MowerType="mower_modern"),this.mowerProps.push(e)}},u.module_SetPlantModifiers=function(e){var n,t=new Nt;e.SuppressParticle&&(t.SuppressParticle=!0),null!=e&&null!=(n=e.List)&&n.length&&(e.List.forEach((function(e){var n=ne.getPlantEnumByCodename(e.Type,!1);if(!(n<0)&&e.NewObjdata){var a=new Lt;a.ID=n,a.NewObjdata=e.NewObjdata,t.List.push(a)}})),this.plantModifiers.push(t))},u.module_SetInitialGridItemProperties=function(e){var n,t,a=this;null==e||null==(n=e.InitialGridItemMatrixes)||n.forEach((function(e){var n=Le.getGridItemEnumByCodeName(e.TypeName);n&&e.GridMatrix.forEach((function(e,t){for(var o=0;o<e.length&&o<9;o++)if(+e[o]){var i=q.getLnC(t,o);if(i.isInLawn()){switch(n){case Te.deepwater:case Te.shallowwater:a.haveWater=!0}i.placeGridItem(n)}}}))})),null==e||null==(t=e.InitialGridItemPlacements)||t.forEach((function(e){var n=Le.getGridItemEnumByCodeName(e.TypeName);if(n){var t=q.getLnC(e.GridY,e.GridX);t.isInLawn()&&t.placeGridItem(n)}}))},u.addCannonPoint=function(e){var n;if(this.cannonMinigameProperties){var t=this.currentCannonPoint;this.currentCannonPoint+=e,null==(n=this.cannonPointShowerTween)||n.stop(),this.cannonPointShowerTween=b(this).to(.5,{cannonPointUsedForCountDown:this.currentCannonPoint}).start();var a=this.cannonMinigameProperties.MinScore;t<a&&this.currentCannonPoint>a&&_.playLevelTaskComplete();var o=this.currentCannonPoint>=a?"":Ce.getDirectQuote("[CANNON_POINT_TARGET]")+Ce.getNumberWithThousandComma(a);this.cannonPointShower.Target.string=o}},u.judgeCannonVictory=function(){if(!this.cannonMinigameProperties)return!0;var e=this.cannonMinigameProperties.MinScore,n=this.currentCannonPoint>=e;return n||R.component.loseDarken(null,"",Ce.getStringByPropsWithoutTricks("InGameScene","Challenge","CannonAway")),n},u.module_SetCannonMinigameProperties=function(e){var n,t=new Ct;Object.getOwnPropertyNames(t).forEach((function(n){var a=e[n];a&&(t[n]=a)})),this.defaultZombieCountdownFirstWaveSecs=4,this.cannonPointShower.PointParent.active=!0,this.PLANTWarnString=Ce.getString(Ce.lyrics.InGameScene.GamingWarn.Fire),this.PowerUpsForceHide=!0,t.RowHasCannon.forEach((function(e,n){e&&n<=4&&q.getLnC(n,1).SpawnPlant(te.CoconutCannon,!0,!0,!1,!1)})),e.SuppressObjectiveTip||R.component.pushGamePreStartTip(Ce.getStringByPropsWithoutTricks("InGameScene","Challenge","CannonAway")),t.Lanes.forEach((function(e,n){if(!(n>4)){var a=[];e.SplinePoints.forEach((function(e){var n=q.transFrom_ox_To_gx(e.x),t=q.transFrom_oy_To_gy(e.y);a.push(new N(n,t))})),q.getLane(n).JitterSpawnZombieRoute={BaseMovementRate:t.BaseMovementRate,BufferDistance:t.BufferDistance,SplinePoints:a}}}));var a=null==(n=B.CurrentLawn)?void 0:n.getComponent(Ae);a&&(a.setCannonGuide(!0),this.scheduleOnce((function(){a.PlankRows=[]}),0)),this.cannonMinigameProperties=t,this.addCannonPoint(0)},u.module_SetSeedBank=function(e){var n,t,a,o,i=this;if("true"==(null==e?void 0:e.ExcludeListSunProducers)&&(this.ExcludeListSunProducers=!0),isNaN(null==e||null==(n=e.PlantExcludeList)?void 0:n.length)||0==(null==e||null==(t=e.PlantExcludeList)?void 0:t.length)||(this.ExcludePlantList=e.PlantExcludeList),isNaN(null==e||null==(a=e.PlantBlackList)?void 0:a.length)||0==(null==e||null==(o=e.PlantBlackList)?void 0:o.length)||(this.ExcludeListSunProducers=!0,this.ExcludePlantList=this.ExcludePlantList.concat(e.PlantBlackList)),"chooser"==(null==e?void 0:e.SelectionMethod)){var r,s;if(this.isDangerroom||(k.component.plantsCanBeChosen=ce.getObtainedPlantEnumList()),!isNaN(null==e||null==(r=e.PlantIncludeList)?void 0:r.length)){var l=[];e.PlantIncludeList.forEach((function(e){var n=ne.getPlantEnumByCodename(e,!1);isNaN(n)||l.push(n)})),k.component.plantsCanBeChosen=l,e.UnlockAll&&(this.UnlockAll=!0)}+e.OverrideSeedSlotsCount>0&&(k.component.overrideSeedSlotsCount=+e.OverrideSeedSlotsCount),Rt.chooseCardMode=!0,null!=e&&null!=(s=e.PresetPlantList)&&s.length&&e.PresetPlantList.forEach((function(e){var n=ne.getPlantEnumByCodename(e.PlantType);-1==i.presetSeedToChoose.indexOf(n)&&i.presetSeedToChoose.push(n),-1==k.component.plantsCanBeChosen.indexOf(n)&&k.component.plantsCanBeChosen.push(n)}))}else if("preset"==(null==e?void 0:e.SelectionMethod)){var u;e.SuppressObjectiveTip||R.component.pushGamePreStartTip(Ce.getStringByPropsWithoutTricks("InGameScene","Challenge","GivenPlants")),Rt.chooseCardMode=!1,null!=e&&null!=(u=e.PresetPlantList)&&u.length&&(k.component.maxSlotCount=e.PresetPlantList.length,e.PresetPlantList.forEach((function(e){i.presetSeedBank.push(ne.getPlantEnumByCodename(e.PlantType))})))}else Rt.chooseCardMode=!1,k.component.maxSlotCount=0},u.module_SetConveyor=function(e){var n;this.conveyor=!0,k.component.maxSlotCount=0,F.component.rotate(!1),Rt.chooseCardMode=!1,this.defaultZombieCountdownFirstWaveSecs=4;var t=se.component;e.AutoHide&&(t.autoHide=!0),t.dropDelayConditions=e.DropDelayConditions,t.plantList=[],null==(n=e.InitialPlantList)||n.forEach((function(e){var n=new le;e.ToolType?n.PlantType=ne.getPlantEnumByCodename(e.ToolType):n.PlantType=ne.getPlantEnumByCodename(e.PlantType),isNaN(+e.MinCount)||(n.MinCount=+e.MinCount),isNaN(+e.MinWeightFactor)||(n.MinWeightFactor=+e.MinWeightFactor),isNaN(+e.MaxCount)||(n.MaxCount=+e.MaxCount),isNaN(+e.MaxWeightFactor)||(n.MaxWeightFactor=+e.MaxWeightFactor),isNaN(+e.Weight)||(n.Weight=+e.Weight),isNaN(+e.MaxCountCooldownSeconds)||(n.MaxCountCooldownSeconds=+e.MaxCountCooldownSeconds),isNaN(+e.MinCountCooldownSeconds)||(n.MinCountCooldownSeconds=+e.MinCountCooldownSeconds),isNaN(+e.MaxDelivered)||(n.MaxDelivered=+e.MaxDelivered);ce.getPlantProgressByID(n.PlantType);null!=e&&e.ForceBoosted&&(n.ForceBoosted=!0),t.plantList.push(n)})),t.speedConditions=e.SpeedConditions},u.module_SetLastStand=function(e){this.setStandardIntro(),this.lastStand=!0,this.defaultZombieCountdownFirstWaveSecs=4,isNaN(e.StartingSun)||G.component.setSunCount(e.StartingSun),isNaN(e.StartingPlantfood)?F.component.setPlantFoodNum(0):F.component.setPlantFoodNum(e.StartingPlantfood),e.SuppressObjectiveTip||R.component.pushGamePreStartTip(Ce.getStringByPropsWithoutTricks("InGameScene","Challenge","LastStand"))},u.setStandardIntro=function(){this.readModule(["RTID(StandardIntro@LevelModules)"])},u.module_SetPowerUpsTutorials=function(e){this.PowerUpsForceShow=!0,e.ShowTips&&(this.PowerUpsTip=!0)},u.module_SetChallenges=function(e){var n=null==e?void 0:e.Challenges[0];this.readModule(n)},u.module_SetZombossBattleModuleProperties=function(){var e=r(s().mark((function e(n){var t,a,o,i,r,l,u=this;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(this.bossProps=n,null!=n&&n.DiscardBossMusic||(this.startingMusic=n.UseKongfuBossMusic?oe.KongfuBossStage1:oe.ZombossIntro),t=null==n?void 0:n.ReservedColumnCount,a=0;!isNaN(t)&&a<t;a++)for(o=0;o<5;o++)q.getLnC(o,8-a).setOccupied(1/0);if(!this.bossProps){e.next=12;break}return this.bossMovable=!1,r=this.bossProps.ZombossSpawnGridPosition.mY,l=this.bossProps.ZombossSpawnGridPosition.mX,e.next=10,null==(i=q.getLnC(r,l))?void 0:i.SpawnZombieByZombieType(this.bossProps.ZombossMechType,Q.directPut,!1,.5,0,{},!1,!1,!1);case 10:e.sent.forEach((function(e){e.isBoss=!0,u.bossZombie=e}));case 12:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}(),u.module_SetSunBombProperties=function(e){var n=new yt;isNaN(+e.PlantBombExplosionRadius)||(n.PlantBombExplosionRadius=+e.PlantBombExplosionRadius),isNaN(+e.PlantDamage)||(n.PlantDamage=+e.PlantDamage),isNaN(+e.ZombieBombExplosionRadius)||(n.ZombieBombExplosionRadius=+e.ZombieBombExplosionRadius),isNaN(+e.ZombieDamage)||(n.ZombieDamage=+e.ZombieDamage),this.sunbombProps=n,e.SuppressObjectiveTip||R.component.pushGamePreStartTip(Ce.getStringByPropsWithoutTricks("InGameScene","Challenge","SunBomb"))},u.cowboyMinigameStopWaiting=function(){this.cowboyMinigameWaiting=!1,this.moveCameraReturn(),O.pool().forEach((function(e){e.bodyRecHiddenCD=.2,e.playWalk(),e.detectPlant(.001)}))},u.module_SetCowboyMinigameProperties=function(e){this.isCowboyMinigame=!0,this.setStandardIntro(),this.currentWave=0,this.waveZombieDamageCountdown=0;for(var n=0;n<5;n++)q.getLane(n).addCowboyFence();e.SuppressObjectiveTip||R.component.pushGamePreStartTip(Ce.getStringByPropsWithoutTricks("InGameScene","Challenge","SurviveAttack"))},u.dealFightAlonePlantProgress=function(){var e=r(s().mark((function e(n){var t,a,o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.fightAlonePlantIndex>=this.fightAlonePlantList.length-1)){e.next=2;break}return e.abrupt("return");case 2:if(t=1,a=this.fightAlonePlantList[this.fightAlonePlantIndex],isNaN(+a.FullPoint)||(t=+a.FullPoint),this.fightAlonePlantPoint+=n,!((o=this.fightAlonePlantPoint/t)>=1)){e.next=11;break}return e.next=10,this.switchFightAlonePlantIndex(this.fightAlonePlantIndex+1);case 10:o=0;case 11:this.fightAloneProgressBar.progress=o;case 12:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}(),u.switchFightAlonePlantIndex=function(){var e=r(s().mark((function e(n){var t,a,o,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(!this.fightAlonePlant||n>=this.fightAlonePlantList.length||this.fightAloneWaiting)){e.next=2;break}return e.abrupt("return");case 2:return t=this.fightAlonePlantList[n],a=this.fightAlonePlant.plantInLnC,this.fightAloneWaiting=!0,e.next=7,a.SpawnPlant(ne.getPlantEnumByCodename(t.Type),!1,!1,!1,!1,!1);case 7:if(o=e.sent,this.fightAloneWaiting=!1,o){e.next=11;break}return e.abrupt("return");case 11:this.fightAlonePlant.die(!1,!1,!1,!1),this.fightAlonePlant.node.destroy(),this.fightAlonePlant=o,this.fightAlonePlant.fightAloneStrengthen(t.UpgradeDetails),(i=V(ge.strengthenPlant())).parent=a.plantPoint,i.setSiblingIndex(0),_.playPlantStrengthen(),i.worldPosition=a.node.worldPosition,this.fightAlonePlantPoint=0,this.fightAlonePlantIndex=n,n==this.fightAlonePlantList.length-1&&(this.fightAloneProgressBar.node.active=!1);case 23:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}(),u.module_SetFutureMinigameProperties=function(){var e=r(s().mark((function e(n){var t,a,o,i,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.fightAlonePlant){e.next=2;break}return e.abrupt("return");case 2:if(t=+n.Position.mX,a=+n.Position.mY,!isNaN(t)&&!isNaN(a)){e.next=6;break}return e.abrupt("return");case 6:if(null!=(o=null==n?void 0:n.PlantUpgradeList)&&o.length){e.next=9;break}return e.abrupt("return");case 9:if(null!=(i=q.getLnC(a,t))&&i.isInLawn()){e.next=12;break}return e.abrupt("return");case 12:return this.fightAlonePlantList=o,e.next=15,i.SpawnPlant(te.Sunflower,!1,!1,!1,!1,!1);case 15:return r=e.sent,this.fightAlonePlant=r,e.next=19,this.switchFightAlonePlantIndex(0);case 19:this.PFSlotsShow=!0,this.fightAloneProgressBar.node.active=!0,this.fightAloneProgressBar.node.worldPosition=this.fightAlonePlant.node.worldPosition.clone().add(new C(0,-20,0)),this.fightAloneProgressBar.progress=0,n.SuppressObjectiveTip||R.component.pushGamePreStartTip(Ce.getStringByPropsWithoutTricks("InGameScene","Challenge","SurviveFightAlone"));case 24:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}(),u.module_SetZombiesAteYourBrainsProperties=function(e){var n=-1/0;isNaN(+e.ZombieWinPositionX)||(n=+e.ZombieWinPositionX);var t=!1;e.ZombieDiesInsteadOfWinning&&(t=!0),q.zombieDieInsteadOfWinning=t,q.zombieWinX=q.transFrom_ox_To_gx(n+200)},u.module_SetTideProperties=function(e){var n=+(null==e?void 0:e.StartingWaveLocation);if(!isNaN(n)){n>this._maxTideDistance&&(this._maxTideDistance=n);var t=9-n;B.addTide(t),this.haveWater=!0}},u.module_SetBeghouledZombieSpawnerProperties=function(e){var n,t,a=new kt;null==(n=e.MatchCountsToStageAdvance)||n.forEach((function(e){isNaN(e.MatchCount)&&(e.MatchCount=0),isNaN(e.StageNumber)&&(e.StageNumber=0)})),null==(t=e.Stages)||t.forEach((function(e){var n;isNaN(e.SpawnDelay)&&(e.SpawnDelay=1/0),null!=(n=e.Types)&&n.length||(e.Types=[])})),a.MatchCountsToStageAdvance=e.MatchCountsToStageAdvance,a.Stages=e.Stages,this.BeghouledProps.BeghouledZombieSpawnerProps=a},u.module_SetBeghouledPresetProperties=function(e){var n,t,a=new It;isNaN(e.MatchesToWin)&&(e.MatchesToWin=1),null!=(n=e.InitialPlants)&&n.length||(e.InitialPlants=[]),null!=(t=e.UpgradeMap)&&t.length||(e.UpgradeMap=[]),a.progressLabel=this.beghouledProgressLabel,a.progressbar=this.beghouledProgressBar,a.MatchesToWin=e.MatchesToWin,a.CurrentMatches=0,a.CurrentPlants=e.InitialPlants.map((function(e){return ne.getPlantEnumByCodename(e)})),a.UpgradeMap=e.UpgradeMap,this.forceSunSlotShown=!0,this.PLANTWarnString=Ce.getString(Ce.lyrics.InGameScene.GamingWarn.Swap),this.BeghouledProps.BeghouledPresetProps=a,ue.component&&(ue.component.mode=1),a.shufflePlants()},u.generateDynamicZombieSpawnWaves=function(e,n){var t=this,a=e[this.difficulty];if(a&&!(isNaN(a.PointIncrementPerWave)||isNaN(a.StartingPoints)||isNaN(a.StartingWave))&&a.ZombiePool){var o=this.waveManagerProps.FlagWaveInterval,i=[];return this.waveManagerProps.Waves.forEach((function(e,r){var s=r+1;if(!(a.StartingWave>r||-1!=t.SuppressedDynamicZombieWaves.indexOf(s))){var l="Wave"+s.toString()+n,u=[];a.ZombiePool.forEach((function(e){u.push({z:Z.getZombieEnumByRTID(e),rtid:e})}));var c=a.StartingPoints+a.PointIncrementPerWave*(r-a.StartingWave);s%o==0&&(c*=2.5);var h=Z.getZombiesWithRTIDsAndPoint(a.ZombiePool,c,!0),d=[];h.forEach((function(e){d.push({Type:e})}));var m=new Ge;m.aliases=[l],m.objclass="SpawnZombiesJitteredWaveActionProps",m.objdata={AdditionalPlantfood:0,Zombies:d},t.currentLevelObjects.push(m),e.push("RTID("+l+"@CurrentLevel)"),i.push(m)}})),i}},u.onDisable=function(){this.plantModifiers=[],Rt.component==this&&(Rt.component=null)},u.getModule=function(e){return void 0===e&&(e=[]),Rt.getLevelModule([],e)},u.readModule=function(e){var n,t=this;void 0===e&&(e=[]),isNaN(null==(n=e)?void 0:n.length)||e.forEach((function(e){e&&Ge.getObjectsByRTID(e).forEach((function(e){t.readObj(e)}))}))},u.readObj=function(e){var n=null==e?void 0:e.objclass,t=null==e?void 0:e.objdata;switch(n){case"FluidDragProperties":this.module_SetFluidDrag(t);break;case"LevelSchedulerProps":this.module_SetLevelSchedulers(t);break;case"LevelDefinition":this.module_SetLevelDefinition(t);break;case"WaveManagerProperties":this.module_SetWaveProperties(t);break;case"RhythmGameProperties":this.module_SetRhythmProps(t);break;case"LevelEscalationModuleProperties":case"LevelOfTheDayModuleProperties":this.module_SetLevelOfTheDayModuleProperties(t);break;case"WaveManagerModuleProperties":this.module_SetWaveManagerModuleProperties(t);break;case"InitialPlantProperties":this.module_SetFrozenPlants(t);break;case"InitialZombieProperties":this.module_SetFrozenZombies(t);break;case"InitialBronzeStatuesProperties":this.module_SetBronzeStatues(t);break;case"SeedBankProperties":this.module_SetSeedBank(t);break;case"ConveyorSeedBankProperties":this.module_SetConveyor(t);break;case"PiratePlankProperties":this.module_SetPiratePlanks(t);break;case"GravestoneProperties":this.module_SetStartingGraveStones(t);break;case"KongfuTNTProperties":this.module_SetStartingKongfuTNT(t);break;case"BowlingMinigameProperties":this.module_SetBowlingMinigameProperties(t);break;case"LastStandMinigameProperties":this.module_SetLastStand(t);break;case"ProtectThePlantChallengeProperties":this.module_SetProtectThePlant(t);break;case"PowerTileProperties":this.module_SetFoodLinkTiles(t);break;case"TrapTileProperties":this.module_SetTrapTiles(t);break;case"AutoCollectProperties":this.module_SetAutoCollect(t);break;case"RailcartProperties":var a,o;if(this.module_SetRailcart(t),null!=e&&null!=(a=e.objdata)&&null!=(a=a.DynamicRailCarts)&&a.length)this.module_SetRailcart(null==e||null==(o=e.objdata)?void 0:o.DynamicRailCarts[this.difficulty]);break;case"CamelMinigameProperties":this.module_SetCamelMinigameProps(t);break;case"RandomImitaterProperties":this.module_SetImitaterPlantList(t);break;case"PowerupTutorialIntroProperties":this.module_SetPowerUpsTutorials(t);break;case"ZombossBattleModuleProperties":this.module_SetZombossBattleModuleProperties(t);break;case"StarChallengeModuleProperties":this.module_SetChallenges(t);break;case"StarChallengeSunUsedProps":this.module_SetSunUsedLimitProps(t);break;case"StarChallengeSimultaneousPlantsProps":this.module_SetSimultaneousPlantsProps(t);break;case"StarChallengePlantsLostProps":this.module_SetPlantsLostProps(t);break;case"StarChallengeKillZombiesInTimeProps":this.module_SetKillZombiesInTimeProps(t);break;case"StarChallengeSpendSunHoldoutProps":this.module_SetSpendSunHoldoutProps(t);break;case"StarChallengeSunProducedProps":this.module_SetSunProducedProps(t);break;case"MoldColonyChallengeProps":this.module_SetMoldColonies(t);break;case"StarChallengeZombieDistanceProps":this.module_SetFlowerLine(t);break;case"DangerRoomLevelIntroProperties":this.module_SetDangerRoomLevelIntroProperties(t);break;case"LevelOfTheDayIntroProperties":case"RailcartTutorialIntroProperties":case"PlantfoodTutorialIntroProperties":case"PowerTileIntroProperties":case"MagnifyingGrassTutorialIntroProperties":case"LevelIntroProperties":this.module_SetLevelIntro(t);break;case"TideProperties":this.module_SetTideProperties(t);break;case"SunDropperProperties":this.module_SetSunDropper(t);break;case"LawnMowerProperties":this.module_SetMowerProps(t);break;case"SunBombChallengeProperties":this.module_SetSunBombProperties(t);break;case"CowboyMinigameProperties":this.module_SetCowboyMinigameProperties(t);break;case"FutureMinigameProperties":this.module_SetFutureMinigameProperties(t);break;case"ZombiesAteYourBrainsProperties":this.module_SetZombiesAteYourBrainsProperties(t);break;case"StarChallengeBeatTheLevelProps":this.module_SetBeatTheLevel(t);break;case"ZombiePotionModuleProperties":this.module_SetPotions(t);break;case"PlantModifierProperties":this.module_SetPlantModifiers(t);break;case"InitialGridItemProperties":this.module_SetInitialGridItemProperties(t);break;case"CannonMinigameProperties":this.module_SetCannonMinigameProperties(t);break;case"BeghouledPresetProperties":this.module_SetBeghouledPresetProperties(t);break;case"BeghouledZombieSpawnerProperties":this.module_SetBeghouledZombieSpawnerProperties(t)}},u.TutorialLabelProperties=function(e){!isNaN(+e.LifeSpan)&&e.LifeSpan&&(e.StringMultiLanguage?_e.gameTip(e.StringMultiLanguage,+e.LifeSpan):e.String&&_e.gameTipString(e.String,+e.LifeSpan))},u.readLevelJson=function(){var e=this,n=this.Level.json,t=[];Rt.thisLevelsID.forEach((function(e){t.push(Re(e).json)})),Rt.levelData&&(n=Y.getRandom([JSON.parse(JSON.stringify(Rt.levelData))].concat(t))),this.currentLevelObjects=JSON.parse(JSON.stringify(n.objects)),this.levelNameString=Rt.getLevelName(this.currentLevelObjects),this.levelDescriptionString=Rt.getLevelDescription(this.currentLevelObjects),this.currentLevelObjects.concat().forEach((function(n){"LevelDefinition"==(null==n?void 0:n.objclass)&&e.module_SetLevelDefinition(null==n?void 0:n.objdata)})),this.waveEventStatistic()},u.module_SetLevelDefinition=function(e){var n;if(this.levelDefinition=e,null!=e&&e.SandBoxMode&&(Rt.sandBoxModeOn=!0),null!=e&&e.SandBoxWithoutAllLawns&&(Rt.sandBoxWithAllLawns=!1),e.MusicPlaybackRate&&(this.LevelMusicPlaybackRate=e.MusicPlaybackRate),null!=e&&e.ForceToRestart&&(this.RestartWhenExit=!0),Rt.sandBoxModeOn&&Rt.sandBoxWithAllLawns){var t=Y.getRandom([oe.CYS_Start,oe.UltimateBattle,oe.DemonstrateMinigame]);this.startingMusic=t}else switch(null==e?void 0:e.MusicType){case"MiniGame_A":this.startingMusic=oe.UltimateBattle;break;case"MiniGame_B":this.startingMusic=oe.DemonstrateMinigame;break;default:this.startingMusic=oe.CYS_Start}this.levelNameLabel.string="",this.isDangerroom=null==e?void 0:e.IsDangerRoom,this.isDangerroomMiniGame=null==e?void 0:e.IsDangerRoomMiniGame;var a=I.Modern;this.levelNameString=this.getLevelName(e),a=null!=e&&null!=(n=e.StageModuleOptions)&&n.length?B.getFrontYardEnumByRTID(Y.getRandom(null==e?void 0:e.StageModuleOptions)):B.getFrontYardEnumByRTID(null==e?void 0:e.StageModule),this.lastStand||(isNaN(+e.StartingSun)?G.component.setSunCount(50+Rt.StartingSunBoost):G.component.setSunCount(e.StartingSun+Rt.StartingSunBoost)),B.changeFrontYard(a);var o=B.getWorldMapLyricsByLawn(a);this._levelWorldName=Ce.getString(o.Name,!1),this.isDangerroomMiniGame?this.SetDangerroomMiniGameWaves():this.isDangerroom&&this.SetDangerroomWaves(),this.readModule(null==e?void 0:e.Modules);var i=ce.getLevelProgressByID(Rt.thisLevelsID[0]).progress;i>he.unlocked_neverPlayed?this.IntroNarrative=this.levelDefinition.ReplayIntroNarrative:this.IntroNarrative=this.levelDefinition.FirstIntroNarrative,i>=he.finished?this.OutroNarrative=this.levelDefinition.ReplayOutroNarrative:this.OutroNarrative=this.levelDefinition.FirstOutroNarrative},u.setLevelVictoryCountDown=function(e){this.levelVictoryCountDown=e>this.levelVictoryCountDown?e:this.levelVictoryCountDown},u.readWave_SpawnPlantsWaveAction=function(){var e=r(s().mark((function e(n){var t,a,o,i,r,u,c,h,d,m,p;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=n&&null!=(t=n.Plants)&&t.length){e.next=2;break}return e.abrupt("return");case 2:a=l(n.Plants);case 3:if((o=a()).done){e.next=22;break}i=o.value,r=q.getLnC(null==i?void 0:i.GridY,null==i?void 0:i.GridX),u=Y.getPositionsFromStringMatrix(i.RandomSpawnMatrix).map((function(e){return q.getLnC(e.y,e.x)})).concat([r]).filter((function(e){return e.isInLawn()})),c=ne.getPlantEnumByCodename(i.TypeName),h=l(Y.randomize(u));case 9:if((d=h()).done){e.next=20;break}return m=d.value,e.next=13,m.SpawnPlant(c,!0,!i.AllowSpawnOnOtherPlants,!1,!0);case 13:if(!(p=e.sent)){e.next=18;break}return p.playSpawnAnmTween(null==i?void 0:i.SpawnAnim),_.playPlantGrow(),e.abrupt("break",20);case 18:e.next=9;break;case 20:e.next=3;break;case 22:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),u.readWave_WaveSchedulerProps=function(e){var n,t=new St;null!=(n=e.Events)&&n.length&&(t.Events=e.Events,e.Repeat&&(t.Repeat=e.Repeat,e.TimeBetween&&(t.TimeBetween=e.TimeBetween,isNaN(e.EndingWave)||(t.EndingWave=e.EndingWave),e.TimeBeforeFirst&&(t.TimeBeforeFirst=e.TimeBeforeFirst,e.SuppressRewardState&&(t.SuppressRewardState=!0),e.RewardWhenEnded&&(t.RewardWhenEnded=!0),t.initialize(),this.levelSchedulers.push(t)))))},u.readWave_SpawnZombiesJitteredWaveAction=function(){var e=r(s().mark((function e(n){var t,a,o,i,r,u,c,h,d=this;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.MustKillAllToNextWave&&(this.mustKillAllThisWave=!0),null==(t=n.NotificationEvents)||t.forEach((function(e){switch(e){case"jam_punk":case"jam_pop":case"jam_rap":case"jam_metal":case"jam_ballad":case"jam_8bit":case"jam_clear":B.setJamEffect(D[e])}})),a=n.Zombies,o=Q.dirtSpawn,e.t0=n.Style,e.next="appear"===e.t0?7:"sandstorm"===e.t0?9:"snowstorm"===e.t0?11:13;break;case 7:return o=Q.directPut,e.abrupt("break",13);case 9:return o=Q.sandStorm,e.abrupt("break",13);case 11:return o=Q.snowStorm,e.abrupt("break",13);case 13:i=0,r=s().mark((function e(){var n,t,a,r,l,u,h,m;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=c.value,t=NaN,a=n.Type,r=Z.getZombieEnumByRTID(a),-1!=(i=isNaN(+n.Row)?"???"==n.Row?Z.getLessZombieLane([0,1,2,3,4],r.z):"previous"==n.Row?i:NaN:+n.Row-1)){e.next=7;break}return e.abrupt("return",1);case 7:if(t=isNaN(+n.Column)?NaN:+n.Column-1,n.Type&&(a=n.Type),!(l=q.getLnC(i,t)).isInLawn()){e.next=28;break}u=o,e.t0=n.Style,e.next="appear"===e.t0?15:"sandstorm"===e.t0?17:"snowstorm"===e.t0?19:21;break;case 15:return u=Q.directPut,e.abrupt("break",21);case 17:return u=Q.sandStorm,e.abrupt("break",21);case 19:return u=Q.snowStorm,e.abrupt("break",21);case 21:return e.next=23,l.SpawnZombieByRTID(a,u,!0,isNaN(n.xScale)?.5:n.xScale,0,{},!0,!1,!1);case 23:h=e.sent,isNaN(+n.CarrySun)||(h[0].haveSun=+n.CarrySun),h.forEach((function(e){n.Reversed?e.reversed=!0:d.registerZombieInThisWave(e),e.judgeInLnC()})),e.next=38;break;case 28:return e.next=30,Z.spawnZombieFromLaneByRTID(i,a,{},!0,!1,!1);case 30:return m=e.sent,(q.getLnC(0,9).getTileType()!=$.sky||m.currentFlyZombie)&&m.judgeInLnC(),"prev"==n.Row&&(m.worldPositionX+=m.prevDistance()),d.registerZombieInThisWave(m),isNaN(+n.CarrySun)||(m.haveSun=+n.CarrySun),e.next=37,m.additionalZombies();case 37:e.sent.forEach((function(e){d.registerZombieInThisWave(e)}));case 38:case"end":return e.stop()}}),e)})),u=l(a);case 16:if((c=u()).done){e.next=22;break}return e.delegateYield(r(),"t1",18);case 18:if(!e.t1){e.next=20;break}return e.abrupt("continue",20);case 20:e.next=16;break;case 22:for(h=0;h<5;h++)q.getLane(h).zombieSpawnOffset=0;case 23:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}(),u.sleep=function(){var e=r(s().mark((function e(n){var t=this;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n<0&&(n=0),e.next=3,new Promise((function(e,a){t.scheduleOnce((function(){e(1)}),n)}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),u.readWave_SpawnGravestonesWaveActionProps=function(e){var n=e.GravestonePool,t=Y.randomize(e.SpawnPositionsPool),a=[];null==n||n.forEach((function(e,n){var o=1;isNaN(+e.Count)||(o=+e.Count);var i=J.getTombEnumByRTID(e.Type),r=Le.getGridItemEnumByRTID(e.Type);if(r&&isNaN(i))for(var s=0;o>0&&s<(null==t?void 0:t.length);){var l=t[s],u=l.mX;isNaN(u)&&(u=Math.floor(9*Math.random()));var c=l.mY;isNaN(c)&&(c=Math.floor(5*Math.random())),s++;var h=q.getLnC(c,u);(null==h?void 0:h.placeGridItem(r))&&(o--,a.push(h))}else{isNaN(i)&&(i=J.getTombEnumByLawn(B.CurrentLawnID));for(var d=0;o>0&&d<(null==t?void 0:t.length);){var m=t[d],p=m.mX;isNaN(p)&&(p=Math.floor(9*Math.random()));var v=m.mY;isNaN(v)&&(v=Math.floor(5*Math.random())),d++;var g=q.getLnC(v,p);g.SpawnTomb(i,!0,!1,!0)&&(o--,a.push(g))}}}));var o=!0;0==e.DisplacePlants&&(o=!1),o&&a.forEach((function(e){e.bounceAllPlants()})),_.playTombRiseMagical()},u.readWave_SpawnZombiesFromGroundSpawnerProps=function(){var e=r(s().mark((function e(n){var t,a,o,i,r,u,c,h,d,m,p,v=this;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=null==n?void 0:n.Zombies,!isNaN(null==t?void 0:t.length)){e.next=3;break}return e.abrupt("return");case 3:a=+(null==n?void 0:n.ColumnEnd),o=+(null==n?void 0:n.ColumnStart),i=+(null==n?void 0:n.RowEnd),r=+(null==n?void 0:n.RowStart),a=isNaN(a)?8:a,o=isNaN(o)?0:o,i=isNaN(i)?4:i,r=isNaN(r)?0:r,u=[],c=l(t);case 13:if((h=c()).done){e.next=21;break}return m=h.value,e.next=17,null==(d=q.getRandomLnC(r,i,o,a))?void 0:d.SpawnZombieByRTID(null==m?void 0:m.Type,Q.dirtSpawn,!0,Math.random(),0,{},!0,!1,!1);case 17:p=e.sent,u=u.concat(p);case 19:e.next=13;break;case 21:u.forEach((function(e){e.judgeInLnC(),v.registerZombieInThisWave(e)}));case 22:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),u.readWave_SpawnModernPortalsWaveActionProps=function(e){isNaN(e.PortalColumn)&&(e.PortalColumn=Math.floor(9*Math.random())),isNaN(e.PortalRow)&&(e.PortalColumn=Math.floor(5*Math.random())),e.PortalType||(e.PortalType="modern");var n=q.getLnC(e.PortalRow,e.PortalColumn);null!=n&&n.isInLawn()&&n.spawnPortal(e.PortalType,e.ZombiesToSpawn)},u.readWave_BeachStageEventZombieSpawnerProps=function(){var e=r(s().mark((function e(n){var t,a,o,i,r,l,u,c,h,d,m,p,v,g,f,P,S,b,w,C,M,y,N=this;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=+n.GroupSize){e.next=3;break}return e.abrupt("return");case 3:if(a=+n.ZombieCount){e.next=6;break}return e.abrupt("return");case 6:if(o=Math.ceil(a/t),i=n.ZombieName){e.next=10;break}return e.abrupt("return");case 10:for(r=+(null==n?void 0:n.ColumnEnd),l=+(null==n?void 0:n.ColumnStart),r=isNaN(r)?8:r,l=isNaN(l)?0:l,r>8&&(r=8),l<0&&(l=0),(u=+n.TimeBeforeFullSpawn)||(u=.1),(c=+n.TimeBetweenGroups)||(c=.25),h=c*o+u+.1,this.setLevelVictoryCountDown(h),d=[],m=0,p=+n.ZombieCount,v=0;p>0;v++)for(g=0;g<+n.GroupSize&&g<p;g++)f=(v+1)*+n.TimeBetweenGroups+ +n.TimeBeforeFullSpawn,d.push(f-m),m=f,p--,this.setLevelVictoryCountDown(f+.5);P=0,S=d;case 27:if(!(P<S.length)){e.next=44;break}return w=S[P],e.next=31,this.sleep(w);case 31:if(null!=(b=this.node)&&b.active){e.next=33;break}return e.abrupt("return");case 33:if(C=Z.getLessZombieLane([0,1,2,3,4]),M=Math.round(Math.random()*(r-l))+l,null==(y=q.getLnC(C,M))||!y.isInLawn()){e.next=41;break}return e.next=39,y.SpawnZombieByZombieType(i,Q.dirtSpawn,!0,Math.random());case 39:e.sent.forEach((function(e){N.registerZombieInThisWave(e),e.judgeInLnC()}));case 41:P++,e.next=27;break;case 44:B.playLowTide();case 45:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}(),u.readWave_ModifyConveyorWaveAction=function(e){var n,t,a,o;isNaN(null==e||null==(n=e.Add)?void 0:n.length)||(null==e||null==(a=e.Add)||a.forEach((function(e){var n=0;n=e.ToolType?ne.getPlantEnumByCodename(e.ToolType):ne.getPlantByRTID(e.Type);var t=1/0,a=1,o=-1,i=1,r=40,s=0,l=0,u=1/0;isNaN(+e.MaxCount)||(t=+e.MaxCount),isNaN(+e.MaxWeightFactor)||(a=+e.MaxWeightFactor),isNaN(+e.MinCount)||(o=+e.MinCount),isNaN(+e.MinWeightFactor)||(i=+e.MinWeightFactor),isNaN(+e.Weight)||(r=+e.Weight),isNaN(+e.MaxCountCooldownSeconds)||(s=+e.MaxCountCooldownSeconds),isNaN(+e.MinCountCooldownSeconds)||(l=+e.MinCountCooldownSeconds),isNaN(+e.MaxDelivered)||(u=+e.MaxDelivered);var c=new le;c.MaxDelivered=u,c.PlantType=n,c.MaxCount=t,c.MaxWeightFactor=a,c.MinCount=o,c.MinWeightFactor=i,c.Weight=r,c.MaxCountCooldownSeconds=s,c.MinCountCooldownSeconds=l;var h=ce.getPlantProgressByID(n);c.PPBoosted=h.boost>0,null!=e&&e.ForceBoosted&&(c.ForceBoosted=!0),se.component.addCard(c)})));isNaN(null==e||null==(t=e.Remove)?void 0:t.length)||(null==e||null==(o=e.Remove)||o.forEach((function(e){var n=ne.getPlantByRTID(e.Type);se.component.removeCard(n)})))},u.readWave_RaidingPartyZombieSpawnerProps=function(){var e=r(s().mark((function e(n){var t,a,o,i,r,l,u,c,h,d,m,p,v;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=isNaN(n.GroupSize)?5:n.GroupSize,a=isNaN(n.SwashbucklerCount)?1:n.SwashbucklerCount,o=isNaN(n.TimeBetweenGroups)?1:n.TimeBetweenGroups,i=Z.getZombieEnumByRTID(null==n?void 0:n.ZombieType),n.WaveStartMessage||Rt.gameWarn(Ce.getString(Ce.lyrics.InGameScene.WaveEvent.RaidingParty),5,4,.5,.33,new w(155,93,40,0),3,new w(58,13,0,255)),r=[],l=0,u=0;a>0;u++)for(c=0;c<t&&c<a;c++)h=(u+1)*o,r.push(h-l),l=h,a--,this.setLevelVictoryCountDown(h+.2);d=0,m=r;case 9:if(!(d<m.length)){e.next=23;break}return p=m[d],e.next=13,this.sleep(p);case 13:if(!this.gameWon){e.next=15;break}return e.abrupt("continue",20);case 15:return e.next=17,Z.spawnZombieFromLane(Math.floor(5*Math.random()),null!=n&&n.ZombieType?i.z:A.swashbuckler,{},!0,!1,!1,null==i?void 0:i.prop);case 17:v=e.sent,(q.getLnC(0,9).getTileType()!=$.sky||v.currentFlyZombie)&&v.judgeInLnC(),this.registerZombieInThisWave(v);case 20:d++,e.next=9;break;case 23:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}(),u.readWave_StormZombieSpawnerProps=function(){var e=r(s().mark((function e(n){var t,a,o,i,r,u,c,h,d,m,p,v,g,f,P,S,b,C,M,y,N,L,T,W=this;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=4,o=8,i=0,r=4,u=2,c=2,isNaN(+(null==n?void 0:n.ColumnEnd))||(o=+n.ColumnEnd),isNaN(+(null==n?void 0:n.ColumnStart))||(a=+n.ColumnStart),isNaN(+(null==n?void 0:n.RowEnd))||(r=+n.RowEnd),isNaN(+(null==n?void 0:n.RowStart))||(i=+n.RowStart),isNaN(+(null==n?void 0:n.GroupSize))||(u=+n.GroupSize),isNaN(+(null==n?void 0:n.TimeBetweenGroups))||(c=+n.TimeBetweenGroups),h=Q.sandStorm,d=new w(255,184,0,0),m=new w(117,52,0,255),p=Ce.getString(Ce.lyrics.InGameScene.WaveEvent.Sandstorm),e.t0=n.Type,e.next="snowstorm"===e.t0?19:24;break;case 19:return h=Q.snowStorm,p=Ce.getString(Ce.lyrics.InGameScene.WaveEvent.Snowstorm),d=new w(255,255,255,0),m=new w(0,173,255,255),e.abrupt("break",24);case 24:if(Rt.gameWarn(p,5,4,.5,.33,d,3,m),null!=(v=n.Zombies)&&v.length){e.next=28;break}return e.abrupt("return");case 28:for(g=0,f=null==(t=Y.randomize(v))?void 0:t.map((function(e,n){var t=Math.ceil((n+1)/u)*c;console.log(t),W.setLevelVictoryCountDown(t+.2);var a={z:e.Type,dur:t,interval:t-g};return g=t,a})),P=[],S=i;S<=r;S++)P.push(S);b=l(f);case 33:if((C=b()).done){e.next=45;break}return y=C.value,e.next=37,this.sleep(y.interval);case 37:return N=Z.getLessZombieLane(P),L=a+Math.floor((o-a)*Math.random()),e.next=41,null==(M=q.getLnC(N,L))?void 0:M.SpawnZombieByRTID(y.z,h,!0,.5+.5*Math.random(),0,{},!1,!1,!1);case 41:null==(T=e.sent)||T.forEach((function(e){e.judgeInLnC(),W.registerZombieInThisWave(e)}));case 43:e.next=33;break;case 45:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}(),u.readWave_TidalChangeWaveActionProps=function(e){var n,t=+(null==e||null==(n=e.TidalChange)?void 0:n.ChangeAmount);if(!isNaN(t)){var a=9-t;B.moveTide(a)}},u.readWave_FrostWindWaveActionProps=function(e){var n,t=this;e.BlastCount||(e.BlastCount=1);var a=!1;null==e||null==(n=e.Winds)||n.forEach((function(n,o){if(!isNaN(+n.Row)){a=!0;var i="left"==n.Direction,r=q.getLane(n.Row);t.scheduleOnce((function(){for(var n=0;n<e.BlastCount;n++)r.chillWind(i)}),.5*o)}})),a&&_.playChillWindSound()},u._dealSpiderRains=function(e){var n=this;this.spiderRainProps.length>0&&(this.setLevelVictoryCountDown(.1),this.spiderRainProps.concat().forEach(r(s().mark((function t(a){var o,i,r,l,u;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(a.ZombieFallTime>0)){t.next=3;break}return a.ZombieFallTime-=e,t.abrupt("return");case 3:if(!(a.TimeBeforeFullSpawn>0)){t.next=21;break}if(a.TimeBeforeFullSpawn-=e,a._leftTimeBetweenGroups-=e,!(a._leftTimeBetweenGroups<=0)){t.next=21;break}a._leftTimeBetweenGroups=a.TimeBetweenGroups,o=0;case 9:if(!(o<a.GroupSize&&a.SpiderCount>0)){t.next=21;break}if(i=Math.floor(Math.random()*(a.ColumnEnd-a.ColumnStart+1))+a.ColumnStart-1,r=Math.floor(5*Math.random()),!(l=q.getLnC(r,i)).isInLawn()){t.next=18;break}return t.next=16,l.SpawnZombieByZombieType(a.SpiderZombie,Q.dirtSpawn,!0,.5);case 16:t.sent.forEach((function(e){e.judgeInLnC(),a.SpiderCount--}));case 18:o++,t.next=9;break;case 21:(a.TimeBeforeFullSpawn<=0||a.SpiderCount<=0)&&-1!=(u=n.spiderRainProps.indexOf(a))&&n.spiderRainProps.splice(u,1);case 22:case"end":return t.stop()}}),t)})))))},u.readWave_SpiderRainZombieSpawnerProps=function(e){var n=isNaN(+(null==e?void 0:e.ColumnStart))?0:+e.ColumnStart,t=isNaN(+(null==e?void 0:e.ColumnEnd))?8:+e.ColumnEnd,a=isNaN(+(null==e?void 0:e.GroupSize))?1:+e.GroupSize,o=isNaN(+(null==e?void 0:e.SpiderCount))?1:+e.SpiderCount,i=e.SpiderZombieName?e.SpiderZombieName:"future_imp",r=isNaN(+(null==e?void 0:e.TimeBeforeFullSpawn))?1:+e.TimeBeforeFullSpawn,s=isNaN(+(null==e?void 0:e.ZombieFallTime))?1:+e.ZombieFallTime,l=isNaN(+(null==e?void 0:e.TimeBetweenGroups))?1:+e.TimeBetweenGroups,u=new Bt;u.ColumnEnd=t,u.ColumnStart=n,u.GroupSize=a,u.SpiderCount=o,u.SpiderZombie=i,u.TimeBeforeFullSpawn=r,u.TimeBetweenGroups=l,u.ZombieFallTime=s,this.spiderRainProps.push(u)},u.readWave_WaveWarningProps=function(e){var n=e.String;if(e.StringMultiLanguage&&(n=Ce.getString(e.StringMultiLanguage)),n){var t=new w(isNaN(e.LabelR)?255:e.LabelR,isNaN(e.LabelG)?255:e.LabelG,isNaN(e.LabelB)?255:e.LabelB,isNaN(e.LabelAInit)?0:e.LabelAInit),a=new w(isNaN(e.OutLineR)?0:e.OutLineR,isNaN(e.OutLineG)?0:e.OutLineG,isNaN(e.OutLineB)?0:e.OutLineB,255),o=0;switch(e.Sound){case"ReadySet":o=1;break;case"Plant":o=2;break;case"SandStorm":o=3;break;case"FinalWave":o=4}this.gamingWarn(n,isNaN(e.Duration)?5:e.Duration,isNaN(e.LabelInitScale)?4:e.LabelInitScale,isNaN(e.LabelTargetScale)?.5:e.LabelTargetScale,isNaN(e.InitTime)?.5:e.InitTime,t,o,a)}},u.readWave_SpawnZombiesFromGridItemSpawner=function(){var e=r(s().mark((function e(n){var t,a,o,i,r,l,u,c,h,d,m,p=this;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=(o=null==(t=n.Zombies)?void 0:t.concat())&&o.length){e.next=3;break}return e.abrupt("return");case 3:if(i=[],null==n||null==(a=n.GridTypes)||a.forEach((function(e){var n=Le.getGridItemEnumByRTID(e);n&&i.push(n)})),i.length){e.next=7;break}return e.abrupt("return");case 7:return(r=+n.ZombieSpawnWaitTime)||(r=.2),this.setLevelVictoryCountDown(1.2*r),l=+n.AdditionalPlantfood,isNaN(l)&&(l=0),e.next=14,this.sleep(r);case 14:u=[],c=[],i.forEach((function(e){We.poolByID(e).forEach((function(e){c.push(e)}))})),h=Y.randomize(c),e.t0=s().keys(h);case 19:if((e.t1=e.t0()).done){e.next=30;break}if(!(+(d=e.t1.value)>=o.length)){e.next=23;break}return e.abrupt("continue",19);case 23:return m=h[+d],e.next=26,m.zombieSpawn(o[d].Type,Q.dirtSpawn);case 26:e.sent.forEach((function(e){u.push(e)})),e.next=19;break;case 30:u.forEach((function(e){p.registerZombieInThisWave(e)})),Y.randomize(u).forEach((function(e){l>0&&!e.objdataOwnOrg.CannotCarryPlantfoodsInWaves&&(e.havePlantfood=!0,l--)}));case 32:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}(),u.readWave_MissileLocateWaveActionProps=function(e){var n,t=+e.MissileFallCountdown;if(!isNaN(t)){e.ProjectileType||(e.ProjectileType="zomboss_missile_future"),null==e||null==(n=e.Locations)||n.forEach((function(n){var a=+n.mX,o=+n.mY,i=q.getLnC(o,a);null!=i&&i.isInLawn()&&q.locatePrjOnLnC(i,e.ProjectileType,t,Ie.plant)}));var a=+e.MissileCount;if(!isNaN(a)){for(var o=isNaN(+e.RowStart)?0:+e.RowStart,i=isNaN(+e.RowEnd)?4:+e.RowEnd,r=isNaN(+e.ColumnStart)?0:+e.ColumnStart,s=isNaN(+e.ColumnEnd)?8:+e.ColumnEnd,l=[],u=o;u<=i;u++)for(var c=r;c<=s;c++){var h=q.getLnC(u,c);null!=h&&h.isInLawn()&&l.push(h)}(l=Y.randomize(l)).forEach((function(n,o){o>=a||q.locatePrjOnLnC(n,e.ProjectileType,t,Ie.plant)}))}}},u.readWave_RandomEventsProps=function(e){var n,t=this;if(null!=(n=e.Events)&&n.length){var a=0;e.EventCount&&(a=K.getRandomIntegerFromRange(e.EventCount)),this.getModule(Y.randomize(e.Events).filter((function(e,n){return n<a}))).forEach((function(e){t.readWave(e)}))}},u.readWave_KongfuChiHoleProps=function(e){var n;if(null!=(n=e.LanesToAffect)&&n.length){var t=new Ze;isNaN(+e.Direction)||(t.Direction=+e.Direction),isNaN(+e.LifeSpan)||(t.LifeSpan=+e.LifeSpan),isNaN(+e.Column)||(t.Column=+e.Column),e.SuppressesNextWave&&(t.SuppressesNextWave=!0),isNaN(+e.TimeBeforeAbsorbing)||(t.TimeBeforeAbsorbing=+e.TimeBeforeAbsorbing),isNaN(+e.PlantMovingTimeBetweenSquares)||(t.PlantMovingTimeBetweenSquares=+e.PlantMovingTimeBetweenSquares),isNaN(e.LanesToAffect.length)||(t.LanesToAffect=e.LanesToAffect);var a=q.placeKongfuChiHole(t);e.SuppressesNextWave&&this.kongfuChiHoleThisWave.push(a)}},u.readWave_DinoWaveEvent=function(){var e=r(s().mark((function e(n){var t,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=0,isNaN(+n.DinoWaveDuration)||(t=+n.DinoWaveDuration),a=function(){var e=r(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je.createDinosaurByDinoType(+n.DinoRow,n.DinoType);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),!t){e.next=7;break}this.scheduleOnce(a,t),e.next=9;break;case 7:return e.next=9,a();case 9:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}(),u.readWave_QigongStrikeWaveEvent=function(){var e=r(s().mark((function e(n){var t,a,o,i,r,u,c,h,d,m,p=this;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=n&&null!=(t=n.Zombies)&&t.length){e.next=2;break}return e.abrupt("return");case 2:a=0,o=l(n.Zombies);case 4:if((i=o()).done){e.next=24;break}return r=i.value,u=Y.getRandom(r.Rows),c=Y.getRandom(r.Columns),h=q.getRandomLnC(),isNaN(+u)&&(u=h.lIndex),isNaN(+c)&&(c=h.cIndex),d=q.getLnC(u,c),m=0,r.Delay&&(m=r.Delay),this.setLevelVictoryCountDown(m),e.next=17,this.sleep(m-a);case 17:return a=m,e.next=20,d.SpawnZombieByZombieType(r.Type,Q.dirtSpawn,!0,.5,0);case 20:e.sent.forEach((function(e){e.judgeInLnC(),p.registerZombieInThisWave(e)}));case 22:e.next=4;break;case 24:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}(),u.readWaveWarning=function(e){var n=Ce.lyrics.InGameScene.WaveEvent[null==e?void 0:e.WaveStartMessage];n&&this.readWave_WaveWarningProps(n)},u.readWave=function(){var e=r(s().mark((function e(n){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=n.objdata,this.readWaveWarning(t),e.t0=null==n?void 0:n.objclass,e.next="SpawnPlantsWaveActionProps"===e.t0?5:"WaveSchedulerProps"===e.t0?8:"SpawnZombiesJitteredWaveActionProps"===e.t0?11:"SpawnGravestonesWaveActionProps"===e.t0?14:"SpawnZombiesFromGroundSpawnerProps"===e.t0?17:"BeachStageEventZombieSpawnerProps"===e.t0?20:"ModifyConveyorWaveActionProps"===e.t0?23:"RaidingPartyZombieSpawnerProps"===e.t0?26:"StormZombieSpawnerProps"===e.t0?29:"TidalChangeWaveActionProps"===e.t0?32:"ParachuteRainZombieSpawnerProps"===e.t0||"SpiderRainZombieSpawnerProps"===e.t0?35:"WaveWarningProps"===e.t0?38:"SpawnZombiesFromGridItemSpawnerProps"===e.t0?41:"MissileLocateWaveActionProps"===e.t0?44:"FrostWindWaveActionProps"===e.t0?47:"TutorialLabelProperties"===e.t0?50:"SpawnModernPortalsWaveActionProps"===e.t0?53:"RandomEventsProps"===e.t0?56:"KongfuChiHoleProps"===e.t0?59:"DinoWaveActionProps"===e.t0?62:"QigongStrikeWaveActionProps"===e.t0?65:68;break;case 5:return e.next=7,this.readWave_SpawnPlantsWaveAction(t);case 7:return e.abrupt("break",68);case 8:return e.next=10,this.readWave_WaveSchedulerProps(t);case 10:return e.abrupt("break",68);case 11:return e.next=13,this.readWave_SpawnZombiesJitteredWaveAction(t);case 13:return e.abrupt("break",68);case 14:return e.next=16,this.readWave_SpawnGravestonesWaveActionProps(t);case 16:return e.abrupt("break",68);case 17:return e.next=19,this.readWave_SpawnZombiesFromGroundSpawnerProps(t);case 19:return e.abrupt("break",68);case 20:return e.next=22,this.readWave_BeachStageEventZombieSpawnerProps(t);case 22:return e.abrupt("break",68);case 23:return e.next=25,this.readWave_ModifyConveyorWaveAction(t);case 25:return e.abrupt("break",68);case 26:return e.next=28,this.readWave_RaidingPartyZombieSpawnerProps(t);case 28:return e.abrupt("break",68);case 29:return e.next=31,this.readWave_StormZombieSpawnerProps(t);case 31:return e.abrupt("break",68);case 32:return e.next=34,this.readWave_TidalChangeWaveActionProps(t);case 34:return e.abrupt("break",68);case 35:return e.next=37,this.readWave_SpiderRainZombieSpawnerProps(t);case 37:return e.abrupt("break",68);case 38:return e.next=40,this.readWave_WaveWarningProps(t);case 40:return e.abrupt("break",68);case 41:return e.next=43,this.readWave_SpawnZombiesFromGridItemSpawner(t);case 43:return e.abrupt("break",68);case 44:return e.next=46,this.readWave_MissileLocateWaveActionProps(t);case 46:return e.abrupt("break",68);case 47:return e.next=49,this.readWave_FrostWindWaveActionProps(t);case 49:return e.abrupt("break",68);case 50:return e.next=52,this.TutorialLabelProperties(t);case 52:return e.abrupt("break",68);case 53:return e.next=55,this.readWave_SpawnModernPortalsWaveActionProps(t);case 55:return e.abrupt("break",68);case 56:return e.next=58,this.readWave_RandomEventsProps(t);case 58:return e.abrupt("break",68);case 59:return e.next=61,this.readWave_KongfuChiHoleProps(t);case 61:return e.abrupt("break",68);case 62:return e.next=64,this.readWave_DinoWaveEvent(t);case 64:return e.abrupt("break",68);case 65:return e.next=67,this.readWave_QigongStrikeWaveEvent(t);case 67:return e.abrupt("break",68);case 68:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}(),u.conveyorOnPlantSpliced=function(e,n){var t;this.isCowboyMinigame&&(e.hide(),null==(t=ue.component)||t.show(),this.cowboyMinigameStopWaiting(),this.viewButton.node.active=!1)},u.meetZombie=function(e){var n=ce.getZombieKilledByID(e.OID);(n.progress<=0&&(n.progress=pe.met_unknown),n.progress<=pe.met_unknown)&&(-1==this._metZombies.indexOf(e.OID)&&this._metZombies.push(e.OID))},u.registerZombieInThisWave=function(e){this.cowboyMinigameWaiting&&(e.bodyRecHiddenCD=1/0,e.playIdle(Math.random())),e.spawnedWave=this.currentWave,e.objdataOwn.IgnoredInWaves||(this._zombiesInThisWave.push(e),this.waveToughness+=e.toughness)},u.hugeWave=function(e){this.gamingWarn(Ce.getString(Ce.lyrics.InGameScene.GamingWarn.HugeWave),5,4,.5,.33,new w(255,0,0,0),0)},u.hugeWaveMusic=function(e){var n=ie.component.currentMusicSort;switch(n){case oe.CYS_LP:case oe.CYS_Start:case oe.Stage1_Start:case oe.Stage2_Start:case oe.Stage3_Start:case oe.Stage4_Start:case oe.Stage1_LP:case oe.Stage2_LP:case oe.Stage3_LP:case oe.Stage4_LP:e?n=oe.Stage4_Start:n==oe.Stage3_Start||n==oe.Stage3_LP||n==oe.Stage1_Start||n==oe.Stage1_LP||n==oe.CYS_LP||n==oe.CYS_Start?n=oe.Stage2_Start:n!=oe.Stage2_Start&&n!=oe.Stage2_LP||(n=oe.Stage3_Start),ae.switchMusicSort(n,!1,!0)}},u.judgeWaveCount=function(){var e=r(s().mark((function e(n){var t,a=this;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.waveToughness=.01,this._zombiesInThisWave=[],this.kongfuChiHoleThisWave=[],this.mustKillAllThisWave=!1,b(this).to(.8,{levelProgressPercentage:(this.currentWave+1)/this.waveManagerProps.Waves.length},{easing:"cubicInOut"}).start(),this.nextWaveCountdown=this.isCowboyMinigame?1/0:5*Math.random()+25,(this.currentWave+1)%this.waveManagerProps.FlagWaveInterval==0&&(this.nextWaveCountdown+=10),null==(t=this.waveManagerProps.Waves[this.currentWave])||t.forEach((function(e){a.currentLevelObjects.forEach((function(n){var t;null!=n&&null!=(t=n.aliases)&&t.length&&n.aliases.forEach(r(s().mark((function t(o){var i;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("RTID(".concat(o).concat("@CurrentLevel)")!=e){t.next=7;break}return i=a.waveManagerProps.Waves.length,a.levelSchedulers.concat().forEach((function(e){for(;e.EndingWave<0;)e.EndingWave+=i;for(;e.EndingWave>=i;)e.EndingWave-=i;if(e.EndingWave==a.currentWave){var n=a.levelSchedulers.indexOf(e);-1!=n&&a.levelSchedulers.splice(n,1)}})),t.next=6,a.readWave(n);case 6:a.addPlantFood(n.objdata);case 7:case"end":return t.stop()}}),t)}))))}))})),this.nextWaveZombieHealthPercentage=this.mustKillAllThisWave||this.isCowboyMinigame?0:Math.random()*(this.waveManagerProps.MaxNextWaveHealthPercentage-this.waveManagerProps.MinNextWaveHealthPercentage)+this.waveManagerProps.MinNextWaveHealthPercentage,this.waveZombieDamageCountdown=this.isCowboyMinigame?0:Math.random()+4,this.currentWave++;case 11:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}(),u.nextWave=function(){var e=this;if(this.isCowboyMinigame&&(this.cowboyMinigameWaiting=!0),-1==this.currentWave){var n=this.waveManagerProps.ZombieCountdownFirstWaveSecs;n||(n=this.defaultZombieCountdownFirstWaveSecs),this.nextWaveCountdown=n,this.waveZombieDamageCountdown=n,this.currentWave=0}else if(this.currentWave>=0){var t=0==this.currentWave;this.nextWaveCountdown=1/0,this.nextWaveZombieHealthPercentage=-1/0,this.waveZombieDamageCountdown=1/0,t&&(this.levelProgressBar.node.active=!0,_.playAwooga());var a=this.currentWave+1==this.waveManagerProps.Waves.length,o=(this.currentWave+1)%this.waveManagerProps.FlagWaveInterval==0&&0!=this.currentWave||a,i=this.isCowboyMinigame?0:5;if(a&&this.setLevelVictoryCountDown(i+.5),this.waveManagerProps.Waves[this.currentWave])if(o){var l=(this.currentWave+1)/this.waveManagerProps.FlagWaveInterval-1;this.hugeWave(a),this.scheduleOnce(r(s().mark((function n(){var t,o,i,r;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.hugeWaveMusic(a),a&&(e.gamingWarn(Ce.getString(Ce.lyrics.InGameScene.GamingWarn.FinalWave),5,4,.5,.33,new w(255,0,0,0),4),e.isFinalWave=!0,e.levelVictoryCountDown=1,R.component.warnLevelTask(be.SunCostCountDownLimit),R.component.warnLevelTask(be.SunProduceRequest),R.component.warnLevelTask(be.ZombieKillCountDown)),e.judgeWaveCount(!0),e.waveManagerProps.SuppressFlagZombie){n.next=11;break}return t=!1,e.rallyBW[l]&&(t=!0),n.next=8,Z.spawnZombieFromLane(null,t?B.getLawnRallyZombie(B.CurrentLawnID):B.getLawnFlagZombie(B.CurrentLawnID));case 8:o=n.sent,(q.getLnC(0,9).getTileType()!=$.sky||o.currentFlyZombie)&&o.judgeInLnC(),e.registerZombieInThisWave(o);case 11:_.playAwooga(),e.waveFlags.length&&((i=e.waveFlags[0]).getComponent(S).setContentSize(21,74),r=null==i?void 0:i.node.getChildByName("flagFan"),b(r).to(1,{position:new C(r.position.x,14,0)},{easing:"cubicInOut"}).start(),e.waveFlags.splice(0,1));case 13:case"end":return n.stop()}}),n)}))),i)}else this.judgeWaveCount(!1);if(this.isCowboyMinigame){var u,c,h;null==se||null==(u=se.component)||u.show(),null==ue||null==(c=ue.component)||c.hide(),null==se||null==(h=se.component)||h.sendOnePlantImmediately();var d=this.levelIntroProps.PanStreetOffset;t||this.moveCameraToRightNReturn(d),this.viewingLawn=!1,this.viewButton.node.active=!0,this.viewButton.index=0,this.viewButton.select()}}},u.dgr_getNumberByBound=function(e,n,t,a){var o,i,r=+(null==e?void 0:e.SlopeCoefficient);r||(r=0);var s=+(null==e||null==(o=e.LowerLimit)?void 0:o.Value);(isNaN(s)||s<a)&&(s=a);var l=+(null==e||null==(i=e.UpperLimit)?void 0:i.Value);(isNaN(l)||l>t)&&(l=t);var u=+(null==e?void 0:e.YIntercept);u||(u=0);var c=u+n*r;return c>l&&(c=l),c<s&&(c=s),c},u.dgr_getRandomIntegerBetween=function(e,n){var t=e+Math.floor((n-e+1)*Math.random());return Math.floor(t)},u.dgr_FrostWindDesigner=function(e,n){var t=this,a=e.LevelRange,o=e.LaneCountMin,i=e.LaneCountMax,r=e.WavePercent,s=e.DoubleBlastPercent,l=(n-a.Min)/(a.Max-a.Min);l>1?l=1:l<0&&(l=0);var u=(o.Max-o.Min)*l+o.Min,c=(i.Max-i.Min)*l+i.Min,h=(r.Max-r.Min)*l+r.Min,d=(s.Max-s.Min)*l+s.Min;this.waveManagerProps.Waves.forEach((function(e,n){if(Math.random()<h/100){var a="Wave"+(n+1).toString()+"FrostWindEvent0";e.push("RTID("+a+"@CurrentLevel)");for(var o=[],i=Y.randomize([0,1,2,3,4]),r=t.dgr_getRandomIntegerBetween(u,c),s=0;s<r&&s<i.length;s++)o.push({Direction:"right",Row:i[s]});var l={objdata:{Winds:o,BlastCount:Math.random()<d/100?2:1},objclass:"FrostWindWaveActionProps",aliases:[a]};t.currentLevelObjects.push(l)}}))},u.dgr_IceblockDesigner=function(){var e=r(s().mark((function e(n,t){var a,o,i,r,u,c,h,d,m,p,v,g,f,P,S,b,w,C,M,y,N,L,T,W,x,B,D,I,k,R,_,E,G,F,Z,A;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.LevelRange,(o=(t-a.Min)/(a.Max-a.Min))>1?o=1:o<0&&(o=0),i=n.PlantColumnMin,r=n.PlantColumnMax,u=(r.Max-r.Min)*o+r.Min,c=(i.Max-i.Min)*o+i.Min,h=n.ZombieColumnMin,d=n.ZombieColumnMax,m=(d.Max-d.Min)*o+d.Min,p=(h.Max-h.Min)*o+h.Min,v=n.BlocksMin,g=n.BlocksMax,f=(g.Max-g.Min)*o+g.Min,P=(v.Max-v.Min)*o+v.Min,S=this.dgr_getRandomIntegerBetween(P,f),b=n.PctGoodBlocks,w=this.dgr_getRandomIntegerBetween(b.Min,b.Max),C=Math.floor(S*w/100),M=S-C,y=n.PlantTypeNames,N=n.ZombieTypeNames,null!=y&&y.length&&null!=N&&N.length){e.next=24;break}return e.abrupt("return");case 24:for(L=[],T=c;T<=u;T++)for(W=0;W<5;W++)null!=(x=q.getLnC(W,T))&&x.isInLawn()&&L.push(x);L=Y.randomize(L),B=l(L);case 28:if((D=B()).done){e.next=39;break}if(I=D.value,!(C<=0)){e.next=32;break}return e.abrupt("continue",37);case 32:return k=ne.getPlantEnumByCodename(Y.getRandom(y)),e.next=35,I.SpawnPlant(k,!0,!0,!1);case 35:e.sent&&(I.iceblockSpawn(!0),C--);case 37:e.next=28;break;case 39:for(R=[],_=p;_<=m;_++)for(E=0;E<5;E++)null!=(G=q.getLnC(E,_))&&G.isInLawn()&&R.push(G);R=Y.randomize(R),F=s().mark((function e(){var n,t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=A.value,!(M<=0)){e.next=3;break}return e.abrupt("return",1);case 3:if(!(t=n.iceblockSpawn(!1))||t.ID!=X.iceblock_zombie){e.next=10;break}return M--,e.next=8,n.SpawnZombieByZombieType(Y.getRandom(N),Q.directPut);case 8:e.sent.forEach((function(e){e.judgeInLnC(),e.iceblock=t}));case 10:case"end":return e.stop()}}),e)})),Z=l(R);case 44:if((A=Z()).done){e.next=50;break}return e.delegateYield(F(),"t0",46);case 46:if(!e.t0){e.next=48;break}return e.abrupt("continue",48);case 48:e.next=44;break;case 50:case"end":return e.stop()}}),e,this)})));return function(n,t){return e.apply(this,arguments)}}(),u.dgr_WaveGenerator=function(e,n){var t,a,o,i=this,r=null==e||null==(t=e.MustContainZombie)?void 0:t.map((function(e){return Z.getZombieEnumByRTID(e)})),s=0;isNaN(null==e?void 0:e.MinDynamicZombieType)||(s=Math.max(e.MinDynamicZombieType,s));var l=null==e||null==(a=e.ZombiePool)?void 0:a.length;isNaN(null==e?void 0:e.MaxDynamicZombieType)||(l=Math.min(e.MaxDynamicZombieType,l));var u=s+Math.floor(Math.random()*(l-s+1)),c=+e.MaxPointPerWave;isNaN(c)&&(c=1/0);for(var h=[],d=0;d<this.waveManagerProps.WaveCount;d++)h.push(d);for(var m=null!=e&&e.SuppressPlantfood?0:Math.min(Math.ceil(4*(L-Math.atan(30*n))/L),h.length),p=[],v=Y.randomize(h),g=0;g<m;g++)p.push(v[g]);for(var f=null==e?void 0:e.StartingPoints,P=(null==e?void 0:e.BasePointIncrementPerLevel)*n,S=Math.min(c,f+((null==e?void 0:e.BasePointIncrementPerWave)+P)*this.waveManagerProps.WaveCount),b=Y.randomize(null==e?void 0:e.ZombiePool),w=0;w<u;w++){var C=Z.getZombieEnumByRTID(b[w]);Z.getZombieWavePointCost(C.z)<=S&&r.push(C)}var M=null==e?void 0:e.ZombiePool;null!=e&&null!=(o=e.MustContainZombie)&&o.length&&(M=M.concat(e.MustContainZombie)),this.dgr_zombieJitterSpawnList=M.map((function(e){return Z.getZombieEnumByRTID(e).z}));for(var y=function(){var n="Wave"+(N+1).toString();i.waveManagerProps.Waves.push(["RTID("+n+"@CurrentLevel)"]);var t=[n],a=0;-1!=p.indexOf(N)&&a++;var o=Math.min(c,f+((null==e?void 0:e.BasePointIncrementPerWave)+P)*N);(N+1)%i.waveManagerProps.FlagWaveInterval==0&&(a++,o*=2.5);var s=Z.getZombiesWithNamesAndPoint(r.map((function(e){return e.z})),o,!0),l=[];s.forEach((function(e){var n=-1!=[A.camel_segment_touch,A.camel_onehump_touch,A.camel_twohump_touch,A.camel_threehump_touch,A.camel_manyhump_touch].indexOf(e);l.push({Type:"RTID("+Z.getZombieFeature(e).CODENAME+"@ZombieTypes)",Row:n?"???":void 0,Column:n?7+Math.floor(2*Math.random()):void 0})}));var u={aliases:t,objclass:"SpawnZombiesJitteredWaveActionProps",objdata:{AdditionalPlantfood:null!=e&&e.SuppressPlantfood?0:a,Zombies:l}};i.currentLevelObjects.push(u)},N=0;N<this.waveManagerProps.WaveCount;N++)y()},u.dgr_KongfuRackGenerator=function(e,n){var t,a=this;null==(t=e.Types)||t.forEach((function(t){a.dgr_GravestoneGenerator({Type:t,MinGravestoneCount:e.MinGravestoneCount,BaseGravestoneCountPerLevel:e.BaseGravestoneCountPerLevel,MaxGeneratedGravestones:e.MaxGeneratedGravestones,MinStartingGravestoneSpawnCol:e.MinStartingGravestoneSpawnCol,MaxStartingGravestoneSpawnCol:e.MaxStartingGravestoneSpawnCol,MaxStartingGravestoneSpawnColOffsetPerLevel:e.MaxStartingGravestoneSpawnColOffsetPerLevel,MinEndingGravestoneSpawnCol:e.MinEndingGravestoneSpawnCol,MaxEndingGravestoneSpawnCol:e.MaxEndingGravestoneSpawnCol,MaxEndingGravestoneSpawnColOffsetPerLevel:e.MaxEndingGravestoneSpawnColOffsetPerLevel},n)}))},u.dgr_GravestoneGenerator=function(e,n){var t=null!=e&&e.Type?e.Type:void 0,a=null==e?void 0:e.MinGravestoneCount,o=null==e?void 0:e.BaseGravestoneCountPerLevel,i=null==e?void 0:e.MaxGeneratedGravestones,r=null==e?void 0:e.MinStartingGravestoneSpawnCol,s=null==e?void 0:e.MaxStartingGravestoneSpawnCol,l=null==e?void 0:e.MaxStartingGravestoneSpawnColOffsetPerLevel,u=null==e?void 0:e.MinEndingGravestoneSpawnCol,c=null==e?void 0:e.MaxEndingGravestoneSpawnCol,h=null==e?void 0:e.MaxEndingGravestoneSpawnColOffsetPerLevel;if(!(isNaN(a)||isNaN(o)||isNaN(i)||isNaN(r)||isNaN(s)||isNaN(l)||isNaN(u)||isNaN(c)||isNaN(h))){var d=null;this.currentLevelObjects.forEach((function(e){"GravestoneProperties"==e.objclass&&(d=e.objdata)}));var m=Math.min(i,a+o*n),p=Math.max(r,s+l*n),v=Math.max(u,c+h*n);if(d)d.GravestoneCount=m,d.SpawnColumnStart=p,d.SpawnColumnEnd=v;else{var g=new Ge;g.objclass="GravestoneProperties",g.aliases=[],g.objdata={Type:t,GravestoneCount:m,SpawnColumnStart:p,SpawnColumnEnd:v},this.readObj(g)}}},u.dgr_KongfuRackWaveSpawnGenerator=function(e,n){var t,a=this;null==(t=e.Types)||t.forEach((function(t){a.dgr_GravestoneWaveSpawnGenerator({Type:t,WaveMinPerFlag:e.WaveMinPerFlag,WaveMaxPerFlagBase:e.WaveMaxPerFlagBase,WaveMaxPerFlagIncrementPerLevel:e.WaveMaxPerFlagIncrementPerLevel,WaveMaxPerFlagSlope:e.WaveMaxPerFlagSlope,GravestonesMinPerSpawnEvent:e.GravestonesMinPerSpawnEvent,GravestonesMaxPerSpawnEventBase:e.GravestonesMaxPerSpawnEventBase,GravestonesMaxPerSpawnEventIncrementPerLevel:e.GravestonesMaxPerSpawnEventIncrementPerLevel,GravestonesMaxPerSpawnEventSlope:e.GravestonesMaxPerSpawnEventSlope,BeneficialGravestonesPerSpawnEventMin:e.BeneficialGravestonesPerSpawnEventMin,BeneficialGravestonesPerSpawnEventMax:e.BeneficialGravestonesPerSpawnEventMax,ChanceThatBeneficialGravestoneIsPlantfoodNotSun:e.ChanceThatBeneficialGravestoneIsPlantfoodNotSun,GravestoneSpawnColumnMax:e.GravestoneSpawnColumnMax,GravestoneSpawnColumnMinBase:e.GravestoneSpawnColumnMinBase,GravestoneSpawnColumnMinIncrementPerLevel:e.GravestoneSpawnColumnMinIncrementPerLevel,GravestoneSpawnColumnMinLowerLimit:e.GravestoneSpawnColumnMinLowerLimit,GravestoneSpawnColumnMinUpperLimit:e.GravestoneSpawnColumnMinUpperLimit},n)}))},u.dgr_GravestoneWaveSpawnGenerator=function(e,n){var t=null==e?void 0:e.WaveMinPerFlag,a=null==e?void 0:e.WaveMaxPerFlagBase,o=null==e?void 0:e.WaveMaxPerFlagIncrementPerLevel,i=null==e?void 0:e.WaveMaxPerFlagSlope,r=null==e?void 0:e.GravestonesMinPerSpawnEvent,s=null==e?void 0:e.GravestonesMaxPerSpawnEventBase,l=null==e?void 0:e.GravestonesMaxPerSpawnEventIncrementPerLevel,u=null==e?void 0:e.GravestonesMaxPerSpawnEventSlope,c=null==e?void 0:e.BeneficialGravestonesPerSpawnEventMin,h=null==e?void 0:e.BeneficialGravestonesPerSpawnEventMax,d=null==e?void 0:e.ChanceThatBeneficialGravestoneIsPlantfoodNotSun,m=null==e?void 0:e.GravestoneSpawnColumnMax,p=null==e?void 0:e.GravestoneSpawnColumnMinBase,v=null==e?void 0:e.GravestoneSpawnColumnMinIncrementPerLevel,g=null==e?void 0:e.GravestoneSpawnColumnMinLowerLimit,f=null==e?void 0:e.GravestoneSpawnColumnMinUpperLimit;if(!(isNaN(t)||isNaN(a)||isNaN(o)||isNaN(i)||isNaN(r)||isNaN(s)||isNaN(l)||isNaN(u)||isNaN(c)||isNaN(h)||isNaN(d)||isNaN(m)||isNaN(p)||isNaN(v)||isNaN(g)||isNaN(f))){var P=this.waveManagerProps.FlagWaveInterval;if(!P)return;for(var S=this.waveManagerProps.WaveCount/P,b=[],w=0;w<P;w++)b.push(w);for(var C=[],M=0;M<S;M++)for(var y=Math.min(a+o*n,i),N=Math.min(P,(y-t)*Math.random()+t),L=Y.randomize(b),T=0;T<N&&T<L.length;T++)C.push(this.waveManagerProps.Waves[M*P+L[T]]);for(var W=0;W<C.length;W++){var x=Math.min(s+l*n,u),B=Math.floor((x-r)*Math.random()+r);if(B>0){var D=this.waveManagerProps.Waves.indexOf(C[W]),I="Wave"+(D+1).toString()+"GravestoneEvent0"+e.Type?"("+e.Type+")":"";this.waveManagerProps.Waves[D].push("RTID("+I+"@CurrentLevel)");var k=Math.floor((h-c)*Math.random()+c);B-=k;for(var R=0,_=0;_<k;_++)Math.random()<d&&(R++,k--);var E=Math.ceil(p+v*n);E>f?E=f:E<g&&(E=g);for(var G=[],F=E;F<m;F++)for(var Z=0;Z<5;Z++)G.push({mX:F,mY:Z});var A={aliases:[I],objclass:"SpawnGravestonesWaveActionProps",objdata:{GravestonePool:[{Count:B,Type:e.Type?"RTID("+e.Type+"@GridItemTypes)":"RTID(gravestone_dark@GridItemTypes)"},{Count:k,Type:"RTID(gravestoneSunOnDestruction@GridItemTypes)"},{Count:R,Type:"RTID(gravestonePlantfoodOnDestruction@GridItemTypes)"}],SpawnPositionsPool:G}};this.currentLevelObjects.push(A)}}}},u.dgr_NecromancyEventGenerator=function(e,n){var t=+(null==e?void 0:e.WaveMinPerFlag),a=+(null==e?void 0:e.WaveMaxPerFlagBase),o=+(null==e?void 0:e.WaveMaxPerFlagIncrementPerLevel),i=+(null==e?void 0:e.WaveMaxPerFlagSlope),r=+(null==e?void 0:e.ZombieMinPerNecromancy),s=+(null==e?void 0:e.ZombieMaxPerNecromancyBase),l=+(null==e?void 0:e.ZombieMaxPerNecromancyIncrementPerLevel),u=+(null==e?void 0:e.ZombieMaxPerNecromancySlope),c=e.SpawnZombieType;if(!isNaN(t)&&!isNaN(a)&&!isNaN(o)&&!isNaN(i)&&!isNaN(r)&&!isNaN(s)&&!isNaN(l)&&!isNaN(u)&&c){var h=this.waveManagerProps.FlagWaveInterval;if(!h)return;for(var d=this.waveManagerProps.WaveCount/h,m=[],p=0;p<h;p++)m.push(p);for(var v=[],g=0;g<d;g++)for(var f=Math.min(a+o*n,i),P=Math.min(h,(f-t)*Math.random()+t),S=Y.randomize(m),b=0;b<P&&b<S.length;b++)v.push(this.waveManagerProps.Waves[g*h+S[b]]);for(var w=0;w<v.length;w++){var C=this.waveManagerProps.Waves.indexOf(v[w]),M="Wave"+(C+1).toString()+"GraveSpawnEvent0";this.waveManagerProps.Waves[C].push("RTID("+M+"@CurrentLevel)");for(var y=Math.min(u,s+l*n),N=Math.floor((y-r)*Math.random()+r),L=[],T=0;T<N;T++)L.push({Type:"RTID("+c+"@ZombieTypes)"});this.currentLevelObjects.push({aliases:[M],objclass:"SpawnZombiesFromGridItemSpawnerProps",objdata:{GridTypes:["RTID(gravestone_tutorial@GridItemTypes)","RTID(gravestone_dark@GridItemTypes)","RTID(gravestoneSunOnDestruction@GridItemTypes)","RTID(gravestonePlantfoodOnDestruction@GridItemTypes)"],WaveStartMessage:"[WARNING_GRAVESTONE_SPAWN]",Zombies:L,ZombieSpawnWaitTime:1}})}}},u.dgr_SandstormDesigner=function(e,n,t,a){void 0===t&&(t="sandstorm"),void 0===a&&(a="mummy");var o=+(null==e?void 0:e.BaseSandstormCount),i=+(null==e?void 0:e.BaseSandstormCountPerLevel),r=+(null==e?void 0:e.MinSandstormCountPerLevel),s=+(null==e?void 0:e.MaxSandstormsPerFlagWave),l=+(null==e?void 0:e.BaseSandstormZombiesCount),u=+(null==e?void 0:e.BaseSandstormZombiesCountPerLevel),c=+(null==e?void 0:e.MinSandstormZombiesCountPerLevel),h=+(null==e?void 0:e.MaxSandstormZombies),d=+(null==e?void 0:e.MinStartingSandstormSpawnCol),m=+(null==e?void 0:e.MaxStartingSandstormSpawnCol),p=+(null==e?void 0:e.MaxStartingSandstormSpawnColOffsetPerLevel),v=+(null==e?void 0:e.MinEndingSandstormSpawnCol),g=+(null==e?void 0:e.MaxEndingSandstormSpawnCol),f=+(null==e?void 0:e.MaxEndingSandstormSpawnColOffsetPerLevel),P=+(null==e?void 0:e.BaseSandstormStartWave);if(!(isNaN(o)||isNaN(i)||isNaN(r)||isNaN(s)||isNaN(l)||isNaN(u)||isNaN(c)||isNaN(h)||isNaN(d)||isNaN(m)||isNaN(p)||isNaN(v)||isNaN(g)||isNaN(f)||isNaN(P))){var S=Math.max(r,o+i*n),b=Math.max(d,m+p*n),w=Math.max(v,g+f*n),C=Math.min(l+u*n,h),M=this.waveManagerProps.FlagWaveInterval;if(!M)return;for(var y=this.waveManagerProps.WaveCount/M,N=this.waveManagerProps.Waves.concat(),L=[],T=[],W=0;W<M;W++)T.push(W);for(var x=0;x<y;x++)for(var B=Y.randomize(T),D=this.dgr_getRandomIntegerBetween(0,s),I=0;I<D&&I<B.length;I++)L.push(N[x*M+B[I]]);if(0==C)return;for(var k=P;k<this.waveManagerProps.Waves.length;k++)N.push(this.waveManagerProps.Waves[k]);for(var R=[],_=0;_<C;_++)R.push({Type:"RTID("+a+"@ZombieTypes)"});for(var E=0;E<L.length&&E<S;E++){var G=this.waveManagerProps.Waves.indexOf(L[E]),F="Wave"+(E+1).toString()+"StormEvent0";this.waveManagerProps.Waves[G].push("RTID("+F+"@CurrentLevel)"),this.currentLevelObjects.push({aliases:[F],objclass:"StormZombieSpawnerProps",objdata:{ColumnEnd:Math.ceil(w-1),ColumnStart:Math.ceil(b-1),GroupSize:3,TimeBetweenGroups:1,Type:t,Zombies:R}})}}},u.dgr_PlankDesigner=function(e,n){var t=Y.getRandom(null==e?void 0:e.PlankLayouts);if(t){for(var a=[],o=0;o<5;o++)"1"==t[o]&&a.push(o);var i=null;this.currentLevelObjects.forEach((function(e){"PiratePlankProperties"==e.objclass&&(i=e.objdata)})),i&&(i.PlankRows=a)}},u.dgr_RaidingPartyDesigner=function(e,n){var t=+(null==e?void 0:e.BasePartyCount),a=+(null==e?void 0:e.BasePartyCountPerLevel),o=+(null==e?void 0:e.BasePartyZombiesCount),i=+(null==e?void 0:e.BasePartyZombiesCountPerLevel),r=+(null==e?void 0:e.MaxPartyZombies),s=+(null==e?void 0:e.MaxPartyCount),l=+(null==e?void 0:e.BasePartyStartWave);if(!(isNaN(t)||isNaN(a)||isNaN(s)||isNaN(o)||isNaN(i)||isNaN(r)||isNaN(l))){var u=Math.min(s,Math.floor(t+a*n));if(u<=0)return;var c=Math.min(r,o+i*n);if(c<=0)return;for(var h=isNaN(e.TimeBetweenGroups)?1:e.TimeBetweenGroups,d=[],m=l;m<this.waveManagerProps.Waves.length;m++)d.push(this.waveManagerProps.Waves[m]);for(var p=Y.randomize(d),v=0;v<p.length&&v<u;v++){var g=this.waveManagerProps.Waves.indexOf(p[v]),f="Wave"+(v+1).toString()+"RaidingPartyEvent0";this.waveManagerProps.Waves[g].push("RTID("+f+"@CurrentLevel)"),this.currentLevelObjects.push({aliases:[f],objclass:"RaidingPartyZombieSpawnerProps",objdata:{GroupSize:1,SwashbucklerCount:Math.floor(c),TimeBetweenGroups:h,WaveStartMessage:e.WaveStartMessage?e.WaveStartMessage:void 0,ZombieType:e.ZombieType?e.ZombieType:void 0}})}}},u.dgr_RailcartDesigner=function(e,n){var t=null==e?void 0:e.Layouts;if(null!=t&&t.length){var a=+(null==e?void 0:e.BaseRailcartCount),o=+(null==e?void 0:e.BaseRailcartCountPerLevel),i=+(null==e?void 0:e.MaxGeneratedRailcarts),r=null;if(this.currentLevelObjects.forEach((function(e){"RailcartProperties"==e.objclass&&(r=e.objdata)})),r&&!isNaN(a)&&!isNaN(o)&&!isNaN(i)){for(var s=Math.ceil(Math.random()*Math.min(a+o*n,i)),l=[],u=0;u<9;u++)l.push(u);for(var c=[],h=Y.randomize(l),d=0;d<s;d++)for(var m=h[d],p="0",v=0,g=0,f=Y.getRandom(t),P=0;P<=5;P++)if(!f[P]||f[P]!=p){g=P-1;var S="0"!=p;p=f[P],v<g&&S&&c.push({Column:m,RowEnd:g,RowStart:v}),"0"!=p&&(v=P)}var b=[];c.forEach((function(e){var n=e.Column,t=e.RowStart+Math.floor((e.RowEnd-e.RowStart)*Math.random());b.push({Column:n,Row:t})})),r.Rails=c,r.Railcarts=b}}},u.dgr_SpiderRainDesigner=function(e,n,t,a,o){void 0===t&&(t="SpiderRainZombieSpawnerProps"),void 0===a&&(a="future_imp"),void 0===o&&(o="[WARNING_SPIDERRAIN]");var i=+(null==e?void 0:e.BaseSpiderRainCount),r=+(null==e?void 0:e.BaseSpiderRainZombiesCountPerLevel),s=+(null==e?void 0:e.BaseSpiderRainZombieCount),l=+(null==e?void 0:e.BaseSpiderRainCountPerLevel),u=+(null==e?void 0:e.MaxSpiderRainZombies),c=+(null==e?void 0:e.MaxSpiderRainCount),h=+(null==e?void 0:e.BaseSpiderRainStartWave);if(!(isNaN(i)||isNaN(r)||isNaN(s)||isNaN(l)||isNaN(u)||isNaN(c)||isNaN(h))){var d=Math.min(c,Math.floor(i+l*n));if(d<=0)return;var m=Math.min(u,s+r*n);if(m<=0)return;for(var p=[],v=h;v<this.waveManagerProps.Waves.length;v++)p.push(this.waveManagerProps.Waves[v]);for(var g=Y.randomize(p),f=0;f<g.length&&f<d;f++){var P=this.waveManagerProps.Waves.indexOf(g[f]),S="Wave"+(f+1).toString()+"SpiderRainEvent0";this.waveManagerProps.Waves[P].push("RTID("+S+"@CurrentLevel)"),this.currentLevelObjects.push({aliases:[S],objclass:t,objdata:{ColumnEnd:7,ColumnStart:4,GroupSize:1,SpiderCount:Math.ceil(m),TimeBeforeFullSpawn:6,SpiderZombieName:a,TimeBetweenGroups:.2,WaveStartMessage:o,ZombieFallTime:1.5}})}}},u.dgr_PowerTileDesigner=function(e,n){var t=+e.ColumnCount,a=+e.MaxTileSetCount,o=+e.BaseTileSetCount,i=+e.BaseTileSetCountPerLevel,r=e.TileSetLayouts;if(!(isNaN(r.length)||isNaN(t)||isNaN(a)||isNaN(o)||isNaN(i))){var s=null;if(this.currentLevelObjects.forEach((function(e){"PowerTileProperties"==e.objclass&&(s=e.objdata)})),s){for(var l=Math.ceil(Math.random()*Math.min(Math.ceil(a),Math.ceil(o+i*n))),u=Y.randomize(r),c=[],h=0;h<t;h++)for(var d=0;d<5;d++)c.push(q.getLnC(d,h));c=Y.randomize(c);var m=[],p=[],v=0;c.forEach((function(e){if(!(v>=l)){var n=[],t=e.cIndex,a=e.lIndex,o=!1;u.forEach((function(e,i){if(!(o||v>=l)){var r=!0;e.forEach((function(i,s){if(!(!r||v>=l||o))for(var u=0;u<i.length;u++)if("0"!=i[u]){var c=t+u,h=a+s,d=q.getLnC(h,c);if(!d.isInLawn()||-1!=m.indexOf(d)){n=[],r=!1;break}m.push(d);var p="alpha";switch(v%ye.amount){case ye.alpha:p="alpha";break;case ye.beta:p="beta";break;case ye.delta:p="delta";break;case ye.gamma:p="gamma";break;case ye.epsilon:p="epsilon"}if(n.push({Group:p,Location:{mX:c,mY:h},PropagationDelay:1.5}),u+1==i.length&&s+1==e.length){o=!0,v++,r=!1;break}}}))}})),o&&(p=p.concat(n))}})),this.module_SetFoodLinkTiles({LinkedTiles:p})}}},u.dgr_TideDesginer=function(e,n){var t,a,o,i,r,s,l,u,c,h,d,m,p,v,g,f,P,S,b,w,C,M,y=this.dgr_getRandomIntegerBetween(this.dgr_getNumberByBound(null==e||null==(t=e.StartingTideLevel)?void 0:t.LowerBound,n,9,0),this.dgr_getNumberByBound(null==e||null==(a=e.StartingTideLevel)?void 0:a.UpperBound,n,9,0));this.getModule(["RTID(Tide@CurrentLevel)"]).forEach((function(e){var n;isNaN(+(null==e||null==(n=e.objdata)?void 0:n.StartingWaveLocation))||(e.objdata.StartingWaveLocation=y)}));var N=this.dgr_getRandomIntegerBetween(this.dgr_getNumberByBound(null==e||null==(o=e.FinalTideLevel)?void 0:o.LowerBound,n,9,0),this.dgr_getNumberByBound(null==e||null==(i=e.FinalTideLevel)?void 0:i.UpperBound,n,9,0)),L=this.dgr_getRandomIntegerBetween(this.dgr_getRandomIntegerBetween(this.dgr_getNumberByBound(null==e||null==(r=e.MaximumTideLevel)?void 0:r.LowerBound,n,9,0),this.dgr_getNumberByBound(null==e||null==(s=e.MaximumTideLevel)?void 0:s.UpperBound,n,9,0)),this.dgr_getRandomIntegerBetween(this.dgr_getNumberByBound(null==e||null==(l=e.MinimumTideLevel)?void 0:l.LowerBound,n,9,0),this.dgr_getNumberByBound(null==e||null==(u=e.MinimumTideLevel)?void 0:u.UpperBound,n,9,0))),T=this.dgr_getRandomIntegerBetween(this.dgr_getNumberByBound(null==e||null==(c=e.MinimumTideDelta)?void 0:c.LowerBound,n,9,0),this.dgr_getNumberByBound(null==e||null==(h=e.MinimumTideDelta)?void 0:h.UpperBound,n,9,0)),W=this.dgr_getRandomIntegerBetween(this.dgr_getNumberByBound(null==e||null==(d=e.MaximumTideDelta)?void 0:d.LowerBound,n,9,0),this.dgr_getNumberByBound(null==e||null==(m=e.MaximumTideDelta)?void 0:m.UpperBound,n,9,0)),x=this.dgr_getNumberByBound(null==e||null==(p=e.LowTideEventsPerFlagWave)?void 0:p.LowerBound,n,1/0,0),B=this.dgr_getNumberByBound(null==e||null==(v=e.LowTideEventsPerFlagWave)?void 0:v.UpperBound,n,1/0,0),D=this.dgr_getRandomIntegerBetween(this.dgr_getNumberByBound(null==e||null==(g=e.LowTideStartLevel)?void 0:g.LowerBound,n,1/0,0),this.dgr_getNumberByBound(null==e||null==(f=e.LowTideStartLevel)?void 0:f.UpperBound,n,1/0,0)),I=this.dgr_getNumberByBound(null==e||null==(P=e.LowTideRecedeAmount)?void 0:P.LowerBound,n,9,0),k=this.dgr_getNumberByBound(null==e||null==(S=e.LowTideRecedeAmount)?void 0:S.UpperBound,n,9,0),R=this.waveManagerProps.FlagWaveInterval;if(R){for(var _=this.waveManagerProps.WaveCount/R,E=this.waveManagerProps.Waves.concat(),G=[],F=[],Z=null==e?void 0:e.BasicLowTideZombieType,A=this.dgr_getNumberByBound(null==e||null==(b=e.BasicLowTideZombiesPerLowTideEvent)?void 0:b.LowerBound,n,1/0,0),O=this.dgr_getNumberByBound(null==e||null==(w=e.BasicLowTideZombiesPerLowTideEvent)?void 0:w.UpperBound,n,1/0,0),j=null==e?void 0:e.SpecialLowTideZombieTypes,z=this.dgr_getNumberByBound(null==e||null==(C=e.SpecialLowTideZombiesPerLowTideEvent)?void 0:C.LowerBound,n,1/0,0),H=this.dgr_getNumberByBound(null==e||null==(M=e.SpecialLowTideZombiesPerLowTideEvent)?void 0:M.UpperBound,n,1/0,0),U=[],V=0;V<R;V++)U.push(V);for(var K=0;K<_;K++)for(var J=Y.randomize(U),X=this.dgr_getRandomIntegerBetween(x,B),q=0;q<X&&q<J.length;q++)F.push(E[K*R+J[q]]);for(var Q=0;Q<F.length&&Q<L&&n>=D;Q++){var $=this.waveManagerProps.Waves.indexOf(F[Q]);G.push($)}var ee=y;this._maxTideDistance=Math.max(this._maxTideDistance,ee);for(var ne=Y.randomize(E),te=0;te<ne.length&&te<L;te++){var ae=this.waveManagerProps.Waves.indexOf(ne[te]),oe="Wave"+(te+1).toString()+"TidalChangeEvent0";this.waveManagerProps.Waves[ae].push("RTID("+oe+"@CurrentLevel)");var ie=ee;if(-1!=G.indexOf(ae)){(ee-=this.dgr_getRandomIntegerBetween(I,k))<0&&(ee=0);var re=this.dgr_getRandomIntegerBetween(A,O);if(Z&&re){var se="Wave"+(te+1).toString()+"LowTideEvent0";this.waveManagerProps.Waves[ae].push("RTID("+se+"@CurrentLevel)");var le={aliases:[se],objclass:"BeachStageEventZombieSpawnerProps",objdata:{WaveStartMessage:"[WARNING_LOW_TIDE]",TimeBeforeFullSpawn:.5,TimeBetweenGroups:.25,ColumnEnd:10-ee,ColumnStart:10-ie,ZombieCount:re,GroupSize:3,ZombieName:Z}};this.currentLevelObjects.push(le)}var ue=this.dgr_getRandomIntegerBetween(z,H);if(null!=j&&j.length&&ue){var ce="Wave"+(te+1).toString()+"LowTideEvent1";this.waveManagerProps.Waves[ae].push("RTID("+ce+"@CurrentLevel)");var he={aliases:[ce],objclass:"BeachStageEventZombieSpawnerProps",objdata:{WaveStartMessage:"[WARNING_LOW_TIDE]",TimeBeforeFullSpawn:.5,TimeBetweenGroups:.25,ColumnEnd:10-ee,ColumnStart:10-ie,ZombieCount:re,GroupSize:1,ZombieName:Y.getRandom(j)}};this.currentLevelObjects.push(he)}}else(ee+=this.dgr_getRandomIntegerBetween(W,T))>N&&(ee=N),ee<0&&(ee=0);this._maxTideDistance=Math.max(this._maxTideDistance,ee);var de={aliases:[oe],objclass:"TidalChangeWaveActionProps",objdata:{TidalChange:{ChangeAmount:ee,ChangeType:"absolute"}}};this.currentLevelObjects.push(de)}}},u.dgr_LilypadPlacer=function(e,n){var t,a,o,i,r,s,l=this.dgr_getRandomIntegerBetween(this.dgr_getNumberByBound(null==e||null==(t=e.NumberOfLilypads)?void 0:t.LowerBound,n,1/0,0),this.dgr_getNumberByBound(null==e||null==(a=e.NumberOfLilypads)?void 0:a.UpperBound,n,1/0,0)),u=this.dgr_getRandomIntegerBetween(this.dgr_getNumberByBound(null==e||null==(o=e.MinimumLilypadColumn)?void 0:o.LowerBound,n,8,0),this.dgr_getNumberByBound(null==e||null==(i=e.MinimumLilypadColumn)?void 0:i.UpperBound,n,8,0)),c=this.dgr_getRandomIntegerBetween(this.dgr_getNumberByBound(null==e||null==(r=e.MaximumLilypadColumn)?void 0:r.LowerBound,n,8,0),this.dgr_getNumberByBound(null==e||null==(s=e.MaximumLilypadColumn)?void 0:s.UpperBound,n,8,0));u<9-this.maxTideDistance&&(u=9-this.maxTideDistance);for(var h=[],d=0;d<5;d++)for(var m=u;m<=c;m++)h.push({GridX:m,GridY:d,TypeName:"lilypad"});for(var p=Y.randomize(h),v=[],g=0;g<l&&g<p.length;g++)v.push(p[g]);var f=new Ge;f.aliases=["LilypadPlacement"],f.objclass="InitialGridItemProperties",f.objdata={InitialGridItemPlacements:v},this.getModule(["RTID(LilypadPlacement@CurrentLevel)"]).forEach((function(e){e.objdata=f.objdata}))},u.dgr_SliderTileDesigner=function(e,n){var t;null==(t=Y.getRandom(e.SliderTileLayouts).Layout)||t.forEach((function(e){var n=q.getLnC(e.GridY,e.GridX);null!=n&&n.isInLawn()&&n.placeGridItem(Le.getGridItemEnumByCodeName(e.TypeName))}))},u.dgr_ConveyorDesigner=function(e,n){var t=this,a=this.getModule(["RTID(ConveyorBelt@CurrentLevel)"]),o=[];e.InitialPlantList.forEach((function(e){var a=t.dgr_getNumberByBound(null==e?void 0:e.MaxCount,n,1/0,0),i=t.dgr_getNumberByBound(null==e?void 0:e.MinCount,n,1/0,0),r=t.dgr_getNumberByBound(null==e?void 0:e.MaxWeightFactor,n,1/0,0),s=t.dgr_getNumberByBound(null==e?void 0:e.MinWeightFactor,n,1/0,1),l=t.dgr_getNumberByBound(null==e?void 0:e.Weight,n,1/0,0);o.push({MaxCount:Math.round(a),MaxWeightFactor:Math.round(r),MinCount:Math.round(i),MinWeightFactor:Math.round(s),Weight:Math.round(l),PlantType:e.PlantType})})),a.forEach((function(e){e.objdata.InitialPlantList=o}))},u.dgr_GridItemPatternPlacer=function(e,n){var t=e.GridItemSpawnerPatterns;if(null!=t&&t.length){var a=Y.getRandom(t),o=Ge.getObjectsByRTID(a);null!=o&&o.length&&this.readObj(o[0])}},u.dgr_JamDesigner=function(e,n){var t=this,a=K.getProgress(e.LevelRange,n),o=K.getFromRangeByProgress(e.JamTypesMin,a),i=K.getFromRangeByProgress(e.JamTypesMax,a),r=K.getRandomIntegerFromRange(new K(o,i)),s=["jam_punk","jam_pop","jam_rap","jam_8bit"];n>=e.LevelToIntroduceMetalJam&&s.push("jam_metal");for(var l=Y.randomize(s).filter((function(e,n){return n<r})),u=K.getFromRangeByProgress(e.FirstJamWavesMin,a),c=K.getFromRangeByProgress(e.FirstJamWavesMax,a),h=K.getRandomIntegerFromRange(new K(u,c)),d=K.getFromRangeByProgress(e.NextJamWavesMin,a),m=K.getFromRangeByProgress(e.NextJamWavesMax,a),p=K.getProgress(e.ZombieAddLevelRange,n),v=K.getFromRangeByProgress(e.JamZombiesToReplaceMin,p),g=K.getFromRangeByProgress(e.JamZombiesToReplaceMax,p),f=this.waveManagerProps.Waves,P=h,S=0,b=function(){var e=f[P],n=K.getRandomIntegerFromRange(new K(d,m)),a=K.getRandomIntegerFromRange(new K(v,g)),o=Y.getRandom(l),i=t.dgr_zombieJitterSpawnList.filter((function(e){var n;return(null==(n=Z.getZombieProps(e))?void 0:n.JamStyle)==o}));P+=n,t.getModule(e).filter((function(e){return"SpawnZombiesJitteredWaveActionProps"==e.objclass})).map((function(e){return e.objdata})).forEach((function(e){var n,t;if(null!=(n=e.NotificationEvents)&&n.length||(e.NotificationEvents=[]),null==(t=e.NotificationEvents)||t.push(o),i.length>0){var r=e.Zombies,s=[];null!=r&&r.length&&Y.randomize(r).forEach((function(e,n){n<a&&(e.Type="RTID("+Z.getZombieFeature(Y.getRandom(i)).CODENAME+"@ZombieTypes)"),s.push(e)})),e.Zombies=s}})),S++};P<f.length&&S<100;)b()},u.dgr_PortalDesigner=function(e,n){var t;if(null!=(t=e.PortalOptions)&&t.length){var a=K.getProgress(e.LevelRange,n,!0,!0),o=K.getFromRangeByProgress(e.PortalTypesMin,a),i=K.getFromRangeByProgress(e.PortalTypesMax,a),r=K.getRandomIntegerFromRange(new K(o,i)),s=K.getFromRangeByProgress(e.FirstPortalWavesMin,a),l=K.getFromRangeByProgress(e.FirstPortalWavesMax,a),u=K.getFromRangeByProgress(e.NextPortalWavesMin,a),c=K.getFromRangeByProgress(e.NextPortalWavesMax,a),h=K.getFromRangeByProgress(e.PortalCountInWaveMin,a),d=K.getFromRangeByProgress(e.PortalCountInWaveMax,a),m=Math.round(K.getFromRangeByProgress(e.ColumnToSpawnMin,a)),p=Math.round(K.getFromRangeByProgress(e.ColumnToSpawnMax,a)),v=K.getFromRangeByProgress(e.ZombiesToSpawnMin,a),g=K.getFromRangeByProgress(e.ZombiesToSpawnMax,a),f=Y.randomize(e.PortalOptions).filter((function(e,n){return n<r})),P=[];[0,1,2,3,4].forEach((function(e){for(var n=Math.max(0,m);n<=Math.min(8,p);n++)P.push(new N(n,e))}));for(var S=K.getRandomIntegerFromRange(new K(s,l));S<this.waveManagerProps.Waves.length;){for(var b=this.waveManagerProps.Waves[S],w=K.getRandomIntegerFromRange(new K(d,h)),C=Y.randomize(P),M=0;M<C.length&&M<w;M++){var y=C[M],L="Wave"+S.toString()+"PortalsEvent"+M.toString(),T="RTID("+L+"@CurrentLevel)";b.push(T);var W=K.getRandomIntegerFromRange(new K(v,g)),x={PortalColumn:y.x,PortalRow:y.y,PortalType:Y.getRandom(f),SpawnEffectAnimID:"",SpawnSoundID:"",ZombiesToSpawn:W},B=new Ge;B.aliases=[L],B.objclass="SpawnModernPortalsWaveActionProps",B.objdata=x,this.currentLevelObjects.push(B)}if(S>=this.waveManagerProps.Waves.length-1)break;(S+=K.getRandomIntegerFromRange(new K(u,c)))>=this.waveManagerProps.Waves.length-1&&(S=this.waveManagerProps.Waves.length-1)}}},u.dgr_DinoDesigner=function(e,n){for(var t=K.getProgress(e.LevelRange,n,!0,!0),a=K.getFromRangeByProgress(e.DinoTypesMin,t),o=K.getFromRangeByProgress(e.DinoTypesMax,t),i=K.getRandomIntegerFromRange(new K(o,a)),r=[],s=0;s<Oe.amount;s++)r.push(s);if((r=Y.randomize(r).filter((function(e,n){return n<i}))).length)for(var l=r.map((function(e){return je.getDinosaurFeature(e).CODENAME})),u=K.getFromRangeByProgress(e.FirstDinoWavesMin,t),c=K.getFromRangeByProgress(e.FirstDinoWavesMax,t),h=K.getFromRangeByProgress(e.NextDinoWavesMin,t),d=K.getFromRangeByProgress(e.NextDinoWavesMax,t),m=K.getFromRangeByProgress(e.DinoCountInWaveMin,t),p=K.getFromRangeByProgress(e.DinoCountInWaveMax,t),v=K.getRandomIntegerFromRange(new K(u,c));v<this.waveManagerProps.Waves.length;){for(var g=this.waveManagerProps.Waves[v],f=K.getRandomIntegerFromRange(new K(m,p)),P=0;P<f;P++){var S="Wave"+v.toString()+"DinoTimeEvent"+P.toString(),b="RTID("+S+"@CurrentLevel)";g.push(b);var w={DinoRow:Math.floor(5*Math.random()),DinoType:Y.getRandom(l),DinoWaveDuration:3*Math.random()},C=new Ge;C.aliases=[S],C.objclass="DinoWaveActionProps",C.objdata=w,this.currentLevelObjects.push(C)}if(v>=this.waveManagerProps.Waves.length-1)break;(v+=K.getRandomIntegerFromRange(new K(h,d)))>=this.waveManagerProps.Waves.length-1&&(v=this.waveManagerProps.Waves.length-1)}},u.readDangerroomDesigners=function(e,n){var t=this;null==e||e.forEach((function(e){var a=null==e?void 0:e.objdata;switch(null==e?void 0:e.objclass){case"DangerRoomJitteredWaveGenerator":t.dgr_WaveGenerator(a,n);break;case"DangerRoomKongfuRackGenerator":t.dgr_KongfuRackGenerator(a,n);break;case"DangerRoomGravestoneGenerator":t.dgr_GravestoneGenerator(a,n);break;case"DangerRoomKongfuRackEventGenerator":t.dgr_KongfuRackWaveSpawnGenerator(a,n);break;case"DangerRoomGravestoneEventGenerator":t.dgr_GravestoneWaveSpawnGenerator(a,n);break;case"DangerRoomNecromancyEventGenerator":t.dgr_NecromancyEventGenerator(a,n);break;case"DangerRoomSandstormDesigner":t.dgr_SandstormDesigner(a,n);break;case"DangerRoomSnowstormDesigner":t.dgr_SandstormDesigner(a,n,"snowstorm","iceage");break;case"DangerRoomPlankDesigner":t.dgr_PlankDesigner(a,n);break;case"DangerRoomRaidingPartyDesigner":t.dgr_RaidingPartyDesigner(a,n);break;case"DangerRoomRailcartDesigner":t.dgr_RailcartDesigner(a,n);break;case"DangerRoomSpiderRainDesigner":t.dgr_SpiderRainDesigner(a,n);break;case"DangerRoomParachuteRainDesigner":t.dgr_SpiderRainDesigner(a,n,"ParachuteRainZombieSpawnerProps","lostcity_lostpilot","[WARNING_PARACHUTERAIN]");break;case"DangerRoomPowerTileDesigner":t.dgr_PowerTileDesigner(a,n);break;case"DangerRoomBeachTideChanger":t.dgr_TideDesginer(a,n);break;case"DangerRoomBeachLilypadPlacer":t.dgr_LilypadPlacer(a,n);break;case"DangerRoomSliderTileDesigner":t.dgr_SliderTileDesigner(a,n);break;case"GridItemPatternPlacer":t.dgr_GridItemPatternPlacer(a,n);break;case"DangerRoomConveyorDesignerProperties":t.dgr_ConveyorDesigner(a,n);break;case"DangerRoomFreezingWindDesigner":t.dgr_FrostWindDesigner(a,n);break;case"DangerRoomIceBlockDesigner":t.dgr_IceblockDesigner(a,n);break;case"DangerRoomJamDesigner":t.dgr_JamDesigner(a,n);break;case"DangerRoomPortalDesigner":t.dgr_PortalDesigner(a,n);break;case"DangerRoomDinoDesigner":t.dgr_DinoDesigner(a,n)}}))},u.SetDangerroomWaves=function(e){void 0===e&&(e=this.dangerroomProperties),this.waveManagerProps=new Tt,this.waveManagerProps.FlagWaveInterval=10,this.waveManagerProps.WaveCount=Math.ceil(Math.random()*Math.min(this.dangerroomMaxFlagWaves,this.dangerroomLevel.level/4))*this.waveManagerProps.FlagWaveInterval;var n=this.dangerroomLevel.level;this.readDangerroomDesigners(e,n)},u.saveDangerroomPlayerProperties=function(e){void 0===e&&(e=!1),this.dangerroomLevel&&(e?(this.dangerroomLevel.level++,this.dangerroomLevel.plantChosen=!1,this.dangerroomLevel.plantfood=F.plantFoodNum,this.currentMowerLanes&&(this.dangerroomLevel.mower=this.currentMowerLanes.concat())):this.dangerroomLevel.plantfood=Math.max(this.dangerroomLevel.plantfood,F.plantFoodNum))},u.getDangerroomProperties=function(){var e=this,n=[],t=null;if(this.currentLevelObjects.forEach((function(e){"DangerRoomModuleProperties"==e.objclass&&(t=e.objdata)})),this.UnlockAll=!0,t.WorldSpecificProperties){var a,o,i,r,s,l,u,c=null==(a=Ge.getObjectsByRTID(t.WorldSpecificProperties,"WorldSpecificDangerRoomProperties")[0])?void 0:a.objdata;u=ve[null==c?void 0:c.WorldProp],this._uiPos=this.camera.node.position.clone(),this.dangerroomPPEnum=u,this.dangerroomLevel=ce.getDangerRoomProperty(u),null!=(o=t)&&o.SuppressMiniGameMusic?this.startingMusic=oe.CYS_Start:this.startingMusic=this.dangerroomLevel.level%2==0?oe.DemonstrateMinigame:oe.UltimateBattle;var h,d=[];null==(i=t)||null==(i=i.InitialPlants)||i.forEach((function(e){d.push(ne.getPlantEnumByCodename(e))}));for(var m=0;m<d.length;m++)ce.pushPlantToEndlessProperty(d[m],this.dangerroomLevel);if(k.component.plantsCanBeChosen=ne.reorderPlants(this.dangerroomLevel.obtainedPlants),null==(r=t)||null==(r=r.LevelDesigners)||r.forEach((function(e){var t=Ge.getObjectsByRTID(e)[0];t&&n.push(t)})),this.dangerroomExcludePlantList=[],null!=(s=t)&&s.ExcludePlants)(null==(h=t)?void 0:h.ExcludePlants).forEach((function(n){var t=ne.getPlantEnumByCodename(n);null!=t&&e.dangerroomExcludePlantList.push(t)}));null!=(l=this.mowerProps)&&l.length&&(this.mowerProps[0].MowerRows=this.dangerroomLevel.mower.concat())}return this.dangerroomMaxFlagWaves=+t.MaxFlagWave?+t.MaxFlagWave:4,this.dangerroomProperties=n,n},u.getDangerroomMiniGameProperties=function(){var e=[],n=null;if(this.UnlockAll=!0,this.currentLevelObjects.forEach((function(e){"DangerRoomMiniGameModuleProperties"==e.objclass&&(n=e.objdata)})),n.WorldSpecificProperties){var t,a,o,i,r=null==(t=Ge.getObjectsByRTID(n.WorldSpecificProperties,"WorldSpecificDangerRoomMiniGameProperties")[0])?void 0:t.objdata;i=ve[null==r?void 0:r.WorldProp],this.dangerroomMiniGamePPEnum=i,this.dangerroomMiniGameLevel=ce.getDangerRoomMiniGameProperty(i),null==(a=n)||null==(a=a.LevelDesigners)||a.forEach((function(n){Ge.getObjectsByRTID(n).forEach((function(n){e.push(n)}))})),null!=(o=n)&&o.SuppressMiniGameMusic?this.startingMusic=oe.CYS_Start:this.startingMusic=this.dangerroomMiniGameLevel.level%2==0?oe.DemonstrateMinigame:oe.UltimateBattle}return this.dangerroomMaxFlagWaves=+n.MaxFlagWave?+n.MaxFlagWave:2,this.dangerroomMiniGameProperties=e,e},u.saveDangerroomMiniGamePlayerProperties=function(e){void 0===e&&(e=!1),e&&this.dangerroomMiniGameLevel&&this.dangerroomMiniGameLevel.level++},u.addCamelCombo=function(){if(this.camelComboOn){switch(this.camelComboCount++,this.camelComboCount){case 1:case 2:_.playLevelTaskWarn();break;case 3:_.playLevelTaskComplete()}if(this.camelComboCount>=3){this.clearCamelCombo();for(var e=[],n=2;n<9;n++)for(var t=0;t<5;t++)e.push(q.getLnC(t,n));[q.getLnC(1,0),q.getLnC(3,0)].concat(Y.randomize(e)).forEach((function(e,n){n<4&&e.explodeCherry3x3(1800)}))}}},u.clearCamelCombo=function(){0!=this.camelComboCount&&this.scheduleOnce((function(){_.playPowerUpCD(0)}),.3),this.camelComboCount=0},u.SetDangerroomMiniGameWaves=function(e){void 0===e&&(e=this.dangerroomMiniGameProperties),this.waveManagerProps=new Tt,this.waveManagerProps.FlagWaveInterval=10,this.waveManagerProps.SuppressFlagZombie=!0;var n=this.maxCamelTouchType;this.maxCamelTouchType=Math.max(3,Math.min(n,1+Math.ceil(this.dangerroomMiniGameLevel.level/5))),this.waveManagerProps.WaveCount=Math.ceil(Math.random()*Math.min(this.dangerroomMaxFlagWaves,this.dangerroomMiniGameLevel.level/4))*this.waveManagerProps.FlagWaveInterval;var t=this.dangerroomMiniGameLevel.level;this.readDangerroomDesigners(e,t)},u.module_SetRhythmProps=function(e){if(!isNaN(+e.TargetColumn)){var n=Rt.rhythmMusicClip,t=re[e.MusicName];if(isNaN(t)||(n=ie.bgms[t].clip),B.addBowlingLine(+e.TargetColumn+1,!1),n&&!this.rhythmAudioSource){this.rhythmAudioSource=this.addComponent(T),this.rhythmAudioSource.clip=n,this.rhythmAudioSource.stop(),this.rhythmAudioSource.loop=!1;for(var a=0;a<5;a++){q.getLnC(a,+e.TargetColumn).SpawnPlant(te.PhatBeetRhythm,!0,!0,!1,!1)}var o=0;e.Zombies.forEach((function(e){var n=e.ArriveTime-e.TimeBeforeArrive;n<=o&&(o=n)})),this.rhythmMusicCountDown=-o,this.PLANTWarnString=Ce.getStringByProps("InGameScene","GamingWarn","Music"),R.component.s2xButton.node.active=!1,this.PowerUpsForceHide=!0,this.rhythmAudioSource.volume=ae.MusicVolume,this.rhythmGameProps=e}}},u.rhythmUpdate=function(e){var n,t,a,o,i=this;this.rhythmMusicCountDown>0&&(this.rhythmMusicCountDown-=e);var l=this.rhythmTime;l+=this.rhythmGameProps.TimeOffset,this.rhythmMusicCountDown<=0&&this.rhythmAudioSource&&!this.rhythmPlayStarted&&(this.rhythmAudioSource.play(),this.rhythmAudioSource.loop=!1,this.rhythmPlayStarted=!0),this.rhythmAudioSource.volume=ae.MusicVolume,null==(n=this.rhythmGameProps)||null==(n=n.Events)||null==(n=n.concat())||n.forEach((function(e){if(l>=e.Time){i.getModule(e.Events).forEach((function(e){i.readWave(e)}));var n=i.rhythmGameProps.Events.indexOf(e);-1!=n&&i.rhythmGameProps.Events.splice(n,1)}}));var u=q.getSquareWorldPosition(0,this.rhythmGameProps.TargetColumn,1).x;null==(t=this.rhythmGameProps)||null==(t=t.Zombies)||null==(t=t.concat())||t.forEach(r(s().mark((function e(n){var t,a,o,r,c;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(l>=n.ArriveTime-n.TimeBeforeArrive)){e.next=18;break}return t=q.getLane(+n.Row),a=t.spawnPoint.worldPosition.x,e.next=5,Z.spawnZombieFromLane(t.LaneIndex,Z.getZombieEnumByCodename(n.Type),{},!1);case 5:o=e.sent,(r=new ft).x0=a,r.xt=u,r.zombie=o,r.arriveTime=n.ArriveTime,r.timeBeforeArrive=n.TimeBeforeArrive,o.playIdle(),o.switching=!0,o.isRhythm=!0,i.rhythmZombies.push(r),-1!=(c=i.rhythmGameProps.Zombies.indexOf(n))&&i.rhythmGameProps.Zombies.splice(c,1);case 18:case"end":return e.stop()}}),e)})))),this.rhythmZombies.concat().forEach((function(e){if(e.dead){e.pass();var n=i.rhythmZombies.indexOf(e);-1!=n&&i.rhythmZombies.splice(n,1)}else e.update(l)})),(null==(a=this.rhythmAudioSource)||!a.playing)&&(null==(o=R.component)||!o.paused)&&this.rhythmZombies.length<=0&&this.rhythmGameProps.Zombies.length<=0&&this.judgeVictory();var c,h,d=this.rhythmGameProps.BPM/60,m=Math.floor((this.rhythmTimeOld-this.rhythmGameProps.BeatStartTime)*d),p=Math.floor((l-this.rhythmGameProps.BeatStartTime)*d);p>m&&(p%this.rhythmGameProps.BeatsPerBar==0?null==(c=q.component)||null==(c=c.rhythmBig)||c.playAnimation("Play",1/0):null==(h=q.component)||null==(h=h.rhythmSmall)||h.playAnimation("Play",1/0));this.rhythmTimeOld=l},u.addPlantFood=function(e){var n,t=0;if(isNaN(null==e?void 0:e.AdditionalPlantfood)||(t+=e.AdditionalPlantfood),!isNaN(null==e||null==(n=e.DynamicPlantfood)?void 0:n.length)){var a=+e.DynamicPlantfood[this.difficulty];isNaN(a)||(t=a)}for(var o=this._zombiesInThisWave.concat(),i=[];o.length>0&&t>0;){var r=Y.getRandom(o);r.objdataOwnOrg.CannotCarryPlantfoodsInWaves?i.push(r):(r.havePlantfood=!0,t--),o.splice(o.indexOf(r),1)}for(;t>0&&i.length>0;){var s=Y.getRandom(i);s.havePlantfood=!0,t--,i.splice(i.indexOf(s))}},u.gameStart=function(){if(!this.gameStarted){var e,n;this.forceSunSlotShown&&G.show(),null!=(e=this.mowerProps[0])&&e.MowerRows&&(this.currentMowerLanes=this.mowerProps[0].MowerRows.concat()),this.spawnMowers(),this.levelNameLabel.string=this.levelNameString,this.viewButton.node.active=!1,this.zombiesOnDisplayed.forEach((function(e){e.playDie(!0,null,!1,j.physicle,!1,!1,!1),U.destroyPooly(e.node)})),this.zombiesOnDisplayed=[],this.dinosOnDisplayed.forEach((function(e){e.chomp(),U.destroyPooly(e.node)})),this.dinosOnDisplayed=[],R.gameStart(),B.levelPlayStart(),this.gameStarted=!0,k.component.gameStart(),this.showShovel&&(k.component.maxSlotCount>0||this.conveyor)&&E.gameStart(),ue.gameStart(),this.showPlantfood&&(k.component.maxSlotCount>0||this.conveyor)&&(F.show(this.conveyor,F.keyOn),this.isDangerroom&&F.component.setPlantFoodNum(this.dangerroomLevel.plantfood)),this.PowerUpsForceShow&&this.PowerUpsTip&&_e.gameTipString(Ce.getDirectQuote("[POWERUP_TUTORIAL]"),5),null==(n=this.BeghouledProps)||null==(n=n.BeghouledPresetProps)||n.gameStart(),this.conveyor&&se.component.show();var t=ie.component.currentMusicSort;t!=oe.CYS_LP&&t!=oe.CYS_Start||ie.component&&(ie.component.nextSortToPlay=oe.Stage1_Start),this.initialZombies.forEach((function(e){e.detectPlant(.001)})),this.foodAllWhenGameStarted&&q.foodAllPlants(),this.potionModules.forEach((function(e){e.gameStart()})),this.InitialIntensiveCarrotPlants.forEach((function(e){null==e||e.burn()})),this.InitialIntensiveCarrotPlants=[]}},u.preMoveCamera=function(){var e,n=null==(e=this.levelIntroProps)?void 0:e.PanStartOffset;this.uiPos=new C(isNaN(n)?0:n,0,1e3),this.levelDescriptionLabel.string=""},u.judgeMoveCamera=function(){this.levelDescriptionLabel.string=this.levelDescriptionString;var e=this.dangerroomLevel.plantsToChoose;if(this.isDangerroom&&!this.dangerroomLevel.plantChosen&&!e){e=[];for(var n=ce.getObtainedPlantEnumList(),t=0;t<n.length;t++){var a=n[t];-1==this.dangerroomExcludePlantList.indexOf(a)&&-1==this.dangerroomLevel.obtainedPlants.indexOf(a)&&e.push(a)}e=Y.randomize(e)}this.isDangerroom&&!this.dangerroomLevel.plantChosen&&e.length>0?(this.dangerroomCardChooser.obtainedPlants=this.dangerroomLevel.obtainedPlants,this.dangerroomCardChooser.node.active=!0,this.dangerroomCardChooser.giveCards(e)):R.component.preStartTips.length&&!this.cannonMinigameProperties?this.levelObjectiveShower.playStart(R.component.preStartTips,this.levelNameString+Ce.getStringByPropsWithoutTricks("LevelObjectiveWindow","Goals")):this.moveCamera()},u.module_SetDangerRoomLevelIntroProperties=function(e){this.setStandardIntro()},u.module_SetLevelIntro=function(e){var n=new bt;isNaN(+e.PanStartOffset)||(n.PanStartOffset=+e.PanStartOffset),isNaN(+e.PanStreetOffset)||(n.PanStreetOffset=+e.PanStreetOffset),isNaN(+e.PanEndOffset)||(n.PanEndOffset=+e.PanEndOffset),isNaN(+e.PanRightDuration)||(n.PanRightDuration=+e.PanRightDuration),isNaN(+e.PanLeftDuration)||(n.PanLeftDuration=+e.PanLeftDuration),isNaN(+e.PanMoveLeftTime)||(n.PanMoveLeftTime=+e.PanMoveLeftTime),isNaN(+e.PanMoveRightTime)||(n.PanMoveRightTime=+e.PanMoveRightTime),isNaN(+e.AdditionalStartingSun)||(n.AdditionalStartingSun=+e.AdditionalStartingSun,G.component.setSunCount(G.component.SunCount+n.AdditionalStartingSun)),e.SkipShowingStreet&&(n.SkipShowingStreet=!0),null!=e&&e.ZombiePreviewOff&&(n.ZombiePreviewOff=!0),this.levelIntroProps=n},u.moveCamera=function(){var e=this;if(this.levelIntroProps){this.levelIntroProps.SkipShowingStreet&&this.judgeReadySetPlant();var n=this.levelIntroProps.PanLeftDuration,t=this.levelIntroProps.PanRightDuration,a=this.levelIntroProps.PanMoveRightTime,o=this.levelIntroProps.PanMoveLeftTime;this.isCowboyMinigame&&(this.gameStart(),n=0),this.uiPos=new C(this.levelIntroProps.PanStartOffset,0,1e3),b(this.uiPos).by(n,{x:0}).call((function(){_.playCameraMove(),e.initialGraveSpawn(),e.showDinosaurs()})).to(a,{x:this.levelIntroProps.PanStreetOffset},{easing:"cubicInOut"}).call((function(){if(e.zombiesOnDisplayed.length)for(var n=0;n<3;n++)Z.playGroan(Y.getRandom(e.zombiesOnDisplayed).zombieGroanSoundGroup,.3);e.dinosOnDisplayed.forEach((function(n){if(n.displayStuck){var t=n.displayTimeAfterCameraToRightest();isNaN(t)&&(t=0),e.scheduleOnce((function(){n.displayStuck=!1}),t)}}))})).by(t,{x:0}).call((function(){e.judgeCardChooser(o)})).start(),Rt.chooseCardMode&&(k.component.plantsCanBeChosen?k.component.overrideSeedSlotsCount?k.component.maxSlotCount=Math.min(8,k.component.plantsCanBeChosen.length,k.component.overrideSeedSlotsCount):k.component.maxSlotCount=Math.min(8,k.component.plantsCanBeChosen.length,Rt.BaseSeedSlotcount):k.component.maxSlotCount=Rt.BaseSeedSlotcount,k.component.createSeedbank())}else this.judgeReadySetPlant()},u.letsRock=function(){if(!this.rocked&&k.component.maxSlotCount==k.component.CFs.length){var e,n=null==(e=this.levelIntroProps)?void 0:e.PanMoveLeftTime;isNaN(n)&&(n=2),this.moveCameraToNormal(n),this.viewButton.node.active=!1,_.playLetsRock(),Rt.letsRocked=!0,this.rocked=!0,k.component.pullSeedBank(!0)}},u.spawnMowers=function(){var e=this;this.mowerProps.forEach((function(n){e.scheduleOnce((function(){null!=n&&n.MowerRows||(n.MowerRows=[!0,!0,!0,!0,!0]),n.MowerRows.forEach((function(t,a){t&&e.scheduleOnce(r(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.getLane(a).spawnMower(n.MowerType);case 2:(t=e.sent)&&(t.xMax=isNaN(n.MowerExplodeAtGridX)?1/0:q.getSquareWorldPosition(0,n.MowerExplodeAtGridX).x);case 4:case"end":return e.stop()}}),e)}))),.1*a)}))}),Math.max(n.MowerEntryAnimDuration-2,0))}))},u.viewLawnCYS=function(){var e=this;this.viewLawnDisabled||(this.viewingLawn?(this.viewingLawn=!1,this.viewButton&&(this.viewButton.index=0,this.viewButton.select()),this.viewLawnDisabled=!0,b(this.uiPos).to(1,{x:this.seedChoosingCameraX},{easing:"cubicInOut"}).call((function(){G.show(),e.showPlantfood&&F.show(e.conveyor),k.component.showSeedSlots(),k.component.cardButtons.active=!0,k.component.gameStartButton.node.active=!0,k.component.showSeedBank()})).start()):(this.viewingLawn=!0,this.viewButton&&(this.viewButton.index=1,this.viewButton.select()),b(this.uiPos).to(1,{x:0},{easing:"cubicInOut"}).call((function(){e.viewLawnDisabled=!1})).start(),G.hide(),F.hide(),k.component.hideSeedSlots(),k.component.cardButtons.active=!1,k.component.gameStartButton.node.active=!1,this.viewLawnDisabled=!0))},u.viewLawnCowboyMinigameWaiting=function(){this.viewingLawn?(this.viewButton.index=0,this.viewButton.select(),this.moveCameraReturn(),this.viewingLawn=!1):(this.viewButton.index=1,this.viewButton.select(),this.moveCameraToRight(),this.viewingLawn=!0)},u.viewLawn=function(){this.cowboyMinigameWaiting||this.lastStandPrepareStarted?this.viewLawnCowboyMinigameWaiting():this.viewLawnCYS()},u.readySetPlant=function(){this.lastStand&&(this.lastStandPrepareStarted=!1,this.lastStandGameStartButton.active=!1,R.component.tryChangingIndex(-1),k.component.cardsUIUpperRestart(),this.viewingLawn&&this.moveCameraReturn(),this.viewButton.node.active=!1);var e=Rt.component;this.alreadyReadySetPlant?e.gameStart():(this.alreadyReadySetPlant=!0,e.gamingWarn(Ce.getString(Ce.lyrics.InGameScene.GamingWarn.Ready),3,.4,.45,.2,new w(255,0,0,255),1),e.scheduleOnce((function(){e.gamingWarn(Ce.getString(Ce.lyrics.InGameScene.GamingWarn.Set),3,.4,.45,.2,new w(255,0,0,255),1),e.scheduleOnce((function(){e.gamingWarn(e.PLANTWarnString,3,.6,.6,.2,new w(255,0,0,255),3),e.scheduleOnce((function(){e.gameStart()}),1)}),.6)}),.6))},u.lastStandStart=function(){(this.lastStandGameStartButton.active=!0,this.lastStandPrepareStarted)||(this.lastStandPrepareStarted=!0,k.component.cardsUIUpperRestart(),Rt.component.gamingWarn(Ce.getString(Ce.lyrics.InGameScene.GamingWarn.PlanYourDefenses),3,.5,.5,.1,new w(255,0,0,255),1),k.component.gameStart(),E.gameStart(!0),R.gameStart(),this.viewButton.node.active=!0)},u.moveCameraToNormal=function(e){var n=this;void 0===e&&(e=2),b(this.uiPos).to(e,{x:0},{easing:"cubicInOut"}).call((function(){k.component.maxSlotCount>0&&(null==G||G.show()),n.conveyor||((k.component.maxSlotCount>0||n.PFSlotsShow)&&(null==F||F.show(),n.isDangerroom&&F.component.setPlantFoodNum(n.dangerroomLevel.plantfood)),U.destroyPooly(se.component.node)),k.component.maxSlotCount>0&&(k.component.laySlots(),n.presetSeedBank.forEach((function(e){k.component.addCardByPlantEnum(e)})),k.component.showSeedSlots()),k.component.closeSeedbank(),n.lastStand?n.lastStandStart():n.judgeReadySetPlant(),n.spawnMowers()})).start()},u.judgeReadySetPlant=function(){null!=this.bossProps?this.bossMovable=!0:this.gameStarted||this.readySetPlant()},u.fillBossHealthProgressBar=function(e,n){var t=this;if(void 0===n&&(n=0),this.bossHealthProgressBar.node.active)return this.bossHealthProgressBar;var a=this.bossHealthProgressHead[Math.min(Math.floor(n),this.bossHealthProgressHead.length-1)];this.bossHealthProgressHeadSpt.spriteFrame=a,this.zombossHPNotches=[this.bossHealthProgressBar.node.getChildByName("notches").getChildByName("notch")];for(var o=this.zombossHPNotches[0].worldPosition.x-this.bossHealthProgressBar.barSprite.node.worldPosition.x,i=1;i<e;i++){var r=M(this.zombossHPNotches[0]);r.parent=this.zombossHPNotches[0].parent,r.worldPosition=new C(this.zombossHPNotches[0].worldPosition.x-o/e*i,this.zombossHPNotches[0].worldPosition.y,this.zombossHPNotches[0].worldPosition.z),this.zombossHPNotches.push(r)}this.bossHealthProgress=0;var s=this.bossHealthProgressBar.node.position.clone();return this.bossHealthProgressBar.node.position.add(new C(0,R.PocketUI?1e3:-1e3,0)),this.bossHealthProgressBar.node.active=!0,_.playZombossHPFillStart(),b(this.bossHealthProgressBar.node).to(.5,{position:s},{easing:"quadOut"}).call((function(){_.playZombossHPFilling(),t.bossHealthProgressBarParticle.node.active=!0,t.bossHealthProgressBarParticle.playAnimation("Start"),b(t).to(2,{bossHealthProgress:1}).call((function(){t.bossHealthProgressBarParticle.playAnimation("Die"),t.gameStarted||t.readySetPlant()})).start()})).start(),this.bossHealthProgressBar},u.isSeedChooserMode=function(){return Rt.chooseCardMode&&!this.gameStarted},u.judgeCardChooser=function(e){var n=this;void 0===e&&(e=2),this.isSeedChooserMode()?b(this.uiPos).to(e,{x:this.seedChoosingCameraX},{easing:"cubicInOut"}).call((function(){n.cardChooserOn(),n.viewButton.node.active=!0})).start():this.moveCameraToNormal(e)},u.cardChooserOn=function(){k.component.laySeedBank(),k.component.laySlots(),null==G||G.show(),null==F||F.show(),this.isDangerroom&&F.component.setPlantFoodNum(this.dangerroomLevel.plantfood)},u.shakeScreen=function(e){var n=this;void 0===e&&(e=.2),e-=.2,b(this.screenShakeVec).to(.05,{x:5*(2*Math.random()-1),y:5*(2*Math.random()-1)}).to(.05,{x:5*(2*Math.random()-1),y:5*(2*Math.random()-1)}).to(.05,{x:5*(2*Math.random()-1),y:5*(2*Math.random()-1)}).to(.05,{x:0,y:0}).call((function(){e>0&&n.shakeScreen(e)})).start()},u.openCardDeckDisplayer=function(){this.carddeck_displayer.node.active=!0},u.closeCardDeckDisplayer=function(){this.carddeck_displayer.node.active=!1},u.carddeck_displayer_isActive=function(){var e;return null==(e=this.carddeck_displayer)||null==(e=e.node)?void 0:e.active},u.judgeNextWave=function(){return this.kongfuChiHoleThisWave=this.kongfuChiHoleThisWave.filter((function(e){return e.alive})),!(this.kongfuChiHoleThisWave.length>0)&&(!this.isFinalWave&&(this.isCowboyMinigame?!this.cowboyMinigameWaiting&&O.pool().length<=0:!!((!this.mustKillAllThisWave&&this.nextWaveCountdown<=0||!this.mustKillAllThisWave&&this.waveLeftHealth/this.waveToughness<=this.nextWaveZombieHealthPercentage||this.mustKillAllThisWave&&this.waveLeftHealth/this.waveToughness<=0)&&this.waveZombieDamageCountdown<=0)))},u.update=function(e){var n,t,a,o,i=this;if(!this.gameOver){var r=W.deltaTime;this.setScreenColor(r);var s,l,u=this.gaming;if(null!=ze&&ze.HasFlow()||!this.levelDescriptionLabel.node.active||null!=(n=this.levelObjectiveShower)&&null!=(n=n.node)&&n.active||(this.levelDescriptionCD-=e,this.levelDescriptionCD<=0&&(this.levelDescriptionLabel.node.active=!1)),u)this.levelVictoryCountDown>0&&(this.levelVictoryCountDown-=e),this.chickenThrowers.concat().forEach((function(n){if(n.dealChickening(e),n.chickeningLeftTime<=0){var t=i.chickenThrowers.indexOf(n);i.chickenThrowers.splice(t,1)}})),this.potionModules.forEach((function(n){n.update(e)})),this.updateLevelSchedulers(e),null==(s=this.sunDropper)||s.deal(e),this.camelComboOn&&!Ce.isWhiteList&&(Ce.camelGamingTime+=e,xe.saveSettings()),this.rhythmGameProps&&this.rhythmUpdate(e),null==(l=this.BeghouledProps)||null==(l=l.BeghouledZombieSpawnerProps)||l.update(e);if(this.gameStarted&&(null==(t=this.BeghouledProps)||null==(t=t.BeghouledPresetProps)||t.update(e)),this.zombiesOnDisplayed.concat(this.dinosOnDisplayed).sort((function(e,n){return n.worldPositionY-e.worldPositionY})).forEach((function(e,n){e.node.setParent(i.zombieDisplayer.node,!0),e.node.setSiblingIndex(n),e.updateOnDisplayed()})),this.growingTime+=e,null!=(a=this.waveManagerProps)&&null!=(a=a.Waves)&&a.length&&(this.waveZombieDamageCountdown>0&&(this.waveZombieDamageCountdown-=e),this.gameStarted&&(this.nextWaveCountdown-=e,this.judgeNextWave()&&this.nextWave())),this.camera.node.position=this.uiPos.clone().add(this.screenShakeVec),this.uiFollowingCamera.forEach((function(e){e.position=i.uiPos})),this._dealSpiderRains(e),this.waveManagerProps.WaveCount&&this.isFinalWave&&u){var c=[];z.pool().concat().forEach((function(e){i.setLevelVictoryCountDown(e.finalWaveVictoryCountdown)})),O.pool().concat().forEach((function(e){var n;if(e.reversed||e.iceblocked||null!=(n=e.objdataOwn)&&n.CanSurrender||i.setLevelVictoryCountDown(e.finalWaveVictoryCountdown),i.prizeSpawnWP=e.worldPosition.clone(),-1!=[A.camel_segment_touch,A.camel_onehump_touch,A.camel_twohump_touch,A.camel_threehump_touch,A.camel_manyhump_touch].indexOf(e.ID)){var t=e.camelTouchType,a=c.indexOf(t);-1==a?c.push(t):c.splice(a,1)}})),this.camelUpdate(e,c),this.judgeVictory()}null!=(o=this.fightAlonePlant)&&o.isAlive()&&this.fightAloneProgressBar.node.active&&(this.fightAloneProgressBar.node.worldPosition=this.fightAlonePlant.node.worldPosition.clone().add(new C(0,-20,0)))}},u.camelUpdate=function(){var e=r(s().mark((function e(n,t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.length||this.camelWaiting){e.next=7;break}return this.camelWaiting=!0,e.next=4,q.getLnC(Z.getLessZombieLane([0,1,2,3,4],A.camel_segment_touch),6).SpawnZombieByZombieType("camel_segment_touch",Q.dirtSpawn,!0,.5,0,{PresetCamelTouchID:t});case 4:e.sent.forEach((function(e,n){e.judgeInLnC()})),this.camelWaiting=!1;case 7:case"end":return e.stop()}}),e,this)})));return function(n,t){return e.apply(this,arguments)}}(),u.judgeVictory=function(){this.levelVictoryCountDown<=0&&R.component.judgeLevelTasksVictory()&&this.judgeCannonVictory()&&this.victory(this.prizeSpawnWP)},u.victory=function(e,n){var t=this;if(void 0===n&&(n=!0),!this.gameWon&&!this.gameLost){if(this._metZombies.forEach((function(e){ce.getZombieKilledByID(e).progress=pe.known})),this.cannonMinigameProperties){this._cannonVic=!0,this.levelVictoryCountDown=1/0,this._cannonPointUsedForCountDown=this.currentCannonPoint;var a=q.getSquareWorldPosition(3,4).toVec3(),o=b(this.cannonPointShower.PointParent).to(1,{worldPosition:a,scale:new C(1,1,1)},{easing:"quadInOut"}),i=b(this).to(3,{cannonPointUsedForCountDown:0}).call((function(){t.gameWon=!0,t.spawnPrize(e),ce.savePP(),H.waterall(),ae.switchMusicSort(oe.Leave,!1,!1,!0,!0)})),r=b(this.cannonPointShower.Current).to(3,{color:new w(255,255,255,0)});o.then(i).then(r).start()}else this.gameWon=!0,H.waterall(),n&&ae.switchMusicSort(oe.Victory,!1,!1,!0,!0),this.spawnPrize(e);Rt.thisLevelsID.forEach((function(e){var n=ce.getLevelProgressByID(e);n.progress<he.finished&&(n.progress=he.unlocked_willbeFinished)})),this.saveDangerroomPlayerProperties(!0),this.saveDangerroomMiniGamePlayerProperties(!0),ce.savePP()}},u.spawnPrize=function(e){if(!e){var n=q.getLnC(2,4);e=new N(n.node.worldPosition.x,n.node.worldPosition.y)}var t=V(ge.prizeSpawn());t.parent=fe.layer,t.worldPosition=new C(e.x,e.y);var a=Pe.coinbag(),o=ce.getLevelProgressByID(Rt.thisLevelsID.sort((function(e,n){return ce.getLevelProgressByID(n).progress-ce.getLevelProgressByID(e).progress}))[0]);if(this.levelDefinition.FirstRewardType&&this.levelDefinition.FirstRewardParam&&o.progress<he.finished)switch(this.levelDefinition.FirstRewardType){case"unlock_plant":a=Pe.seedPacket();break;case"upgrade":a=Pe.upgrade();break;case"worldtrophy":a=Pe.trophy()}var i=V(a);i.parent=fe.layer;var r=i.getComponent(Se);r&&(r.worldPosition=e,null==r||r.leapToPos())},u.onLoad=function(){var e=this;Rt.BoostedPlantsUsed=[],Rt.FluidDragCoefficient=0,Rt.FluidMinGravity=0,this._uiFollowingCamera=this.uiFollowingCamera.map((function(e){return{node:e,orgScale:e.scale}})),this.onlyLanesForRandomSpawn=[0,1,2,3,4],Rt.component=this,this.isDangerroom=!1,this.isDangerroomMiniGame=!1,this.lastStandGameStartButton.position=R.PocketUI?new C(275,275,0):new C(420,-280,0),this.levelNameLabel.node.position=R.PocketUI?new C(360,230,0):new C(200,-290,0);var n=R.PocketUI?.5:.7;this.levelNameLabel.node.scale=new C(n,n,1),this.bossHealthProgressBar.node.position=this.beghouledProgressBar.node.position=this.levelProgressBar.node.position=R.PocketUI?new C(233,275,0):new C(337,-290,0),this.bossHealthProgressBarParticle.on(f.EventObject.FRAME_EVENT,(function(n){"die"==n.name&&(e.bossHealthProgressBarParticle.node.active=!1)}),this)},u.moveCameraToRightNReturn=function(e){void 0===e&&(e=this.seedChoosingCameraX),b(this.uiPos).to(2,{x:e},{easing:"cubicInOut"}).to(2,{x:0},{easing:"cubicInOut"}).start()},u.moveCameraToRight=function(e){void 0===e&&(e=this.seedChoosingCameraX),b(this.uiPos).to(2,{x:e},{easing:"cubicInOut"}).start()},u.moveCameraReturn=function(){b(this.uiPos).to(2,{x:0},{easing:"cubicInOut"}).start()},u.showZombies=function(){var e,n,t=this;if(!(this.isCowboyMinigame||this.cannonMinigameProperties||null!=(e=this.levelIntroProps)&&e.ZombiePreviewOff)){var a=this._zombiesToShow.concat(),o=[];a.forEach((function(e){var n=o.find((function(n){return n.zombie.z==e.z&&n.zombie.prop==e.prop}));n?n.amount++:o.push({amount:1,zombie:e})}));var i=Math.min(3/a.length,.1),l=0;o.forEach((function(e){l+=Math.ceil(i*e.amount)})),o=Y.randomize(o);var u=this.zombieDisplayer;null!=(n=B.CurrentLawn)&&n.zombieShower&&(u=B.CurrentLawn.zombieShower);var c=u.contentSize,h=u.node.worldPosition.clone().add(new C(-c.width/2,c.height/2,0).multiplyScalar(u.node.worldScale.x)),d=u.node.worldPosition.clone().add(new C(c.width/2,-c.height/2,0).multiplyScalar(u.node.worldScale.x)),m=h.y+0,p=h.y-d.y,v=null;o.forEach(r(s().mark((function e(n){var a,o,r,u;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=0;case 1:if(!(a<Math.ceil(n.amount*i))){e.next=23;break}return e.next=4,Z.getZombieCompByID(n.zombie.z,!1,{},n.zombie.prop);case 4:return(o=e.sent).node.parent=t.zombieDisplayer.node,r=h.x+(d.x-h.x)*Math.random(),(u=p/445*(-45*Math.random()-15)*10/l-(v?Math.max(o.zombieHeight-v.zombieHeight,0):0)+m)<d.y&&(u=d.y),m=u,o.displayed=!0,o.playIdle(0,Math.random(),!0),o.worldPosition=new N(r,u),e.next=15,o.additionalZombies();case 15:e.sent.forEach((function(e){e.displayed=!0,e.playIdle(0,Math.random(),!0),e.onDisplayedAtLevelView(),t.zombiesOnDisplayed.push(e)})),t.zombiesOnDisplayed.push(o),o.onDisplayedAtLevelView(),v=o;case 20:a++,e.next=1;break;case 23:case"end":return e.stop()}}),e)}))))}},u.showDinosaurs=function(){var e=r(s().mark((function e(){var n,t,a,o,i,r,u,c,h,d,m,p,v,g,f,P;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.isCowboyMinigame||this.cannonMinigameProperties||null!=(n=this.levelIntroProps)&&n.ZombiePreviewOff)){e.next=2;break}return e.abrupt("return");case 2:a=this.zombieDisplayer,null!=(t=B.CurrentLawn)&&t.zombieShower&&(a=B.CurrentLawn.zombieShower),o=a.contentSize,i=a.node.worldPosition.y,r=o.height/Oe.amount,u=a.node.worldPosition.x+a.width/2*a.node.worldScale.x+q.SquareWidth,(c=this.isSeedChooserMode())||(u+=Math.max(0,this.levelIntroProps.PanStreetOffset-this.seedChoosingCameraX)),this._dinosToShow=Y.randomize(this._dinosToShow),h=this._dinosToShow.concat(),d=this.zombieDisplayer.node,m=l(this._dinosToShow);case 14:if((p=m()).done){e.next=23;break}return v=p.value,g=this._dinosToShow.indexOf(v),e.next=19,je.createDinosaur(-2,v);case 19:(f=e.sent)&&null!=d&&d.active&&(f.node.parent=d,P=i+r*(h.length-1)/2-g*r,f.worldPositionX=u+f.displayXOffset(),f.worldPositionY=P,f.playDisplay(),this.dinosOnDisplayed.push(f),!isNaN(f.displayTimeAfterCameraToRightest())&&c&&(f.displayStuck=!0,f.db.timeScale=0));case 21:e.next=14;break;case 23:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),u.playStartingMusic=function(){isNaN(this.startingMusic)||ae.switchMusicSort(this.startingMusic)},u.start=function(){this.PLANTWarnString=Ce.getString(Ce.lyrics.InGameScene.GamingWarn.Plant),this.sunDropper=null,this.levelModulesObjects=this.levelModuleJson.json.objects,this.maxCamelTouchType=8,isNaN(ce.currentPlayer.difficulty)&&(ce.currentPlayer.difficulty=3),this.isFinalWave=!1,this.gameWon=!1,this.gameLost=!1,this.gameOver=!1,this.difficulty=ce.currentPlayer.difficulty+3,this.graveProps=[],this.PowerUpsForceShow=!1,this.ExcludeListSunProducers=!1,this.ExcludePlantList=[],this.lastStandGameStartButton.active=!1,this.lastStandPrepareStarted=!1,this.gameStarted=!1,this.lastStand=!1,this.zombiesOnDisplayed=[],this.dinosOnDisplayed=[],this.conveyor=!1,Rt.__golden=!1,Rt.chooseCardMode=!1,Rt.sandBoxModeOn=!1,Rt.sandBoxWithAllLawns=!0,this.Level&&(this.readLevelJson(),this.showZombies()),ae.discoPlayed=!1,this.growingTime=0,Rt.letsRocked=!Rt.chooseCardMode,this.preMoveCamera(),this.playStartingMusic();var e=null==ze?void 0:ze.Getflow(this.IntroNarrative);null!=e&&e.length?(this.isIntroNarrating=!0,this.scheduleOnce((function(){ze.SetFlow(e),null!=R&&R.component&&(R.component.pauseButton.node.active=!1)}),1)):this.judgeMoveCamera(),this.setLevelProgressBar(),this.tooltips.setString(),this.viewButton.node.active=!1,R.component.setTips()},t(n,[{key:"warnLabelA",get:function(){return this._warnLabelA},set:function(e){var n=this.inGameWarnLabel.color.clone();this.inGameWarnLabel.color=new w(n.r,n.g,n.b,e),this._warnLabelA=e}},{key:"levelProgressPercentage",get:function(){return this.levelProgressBar.progress},set:function(e){var n;this.levelProgressBar.progress=e,null==(n=this.levelProgressHead)||null==(n=n.node)||n.setPosition(this.levelProgressBar.barSprite.node.position.clone().add3f(-this.levelProgressBar.barSprite.getComponent(S).contentSize.width,0,0))}},{key:"maxTideDistance",get:function(){return this._maxTideDistance}},{key:"cannonPointUsedForCountDown",get:function(){return this._cannonPointUsedForCountDown},set:function(e){var n=Ce.getDirectQuote("[CANNON_POINT_SCORE]")+Ce.getNumberWithThousandComma(e);if(this.cannonPointShower.Current.string=n,this._cannonPointUsedForCountDown>0)for(var t=Math.floor(this._cannonPointUsedForCountDown/2e3)-Math.floor(e/2e3),a=0;a<t&&this._cannonVic;a++){ke.dropOneCoin(this.cannonPointShower.PointParent.worldPosition.toVec2(),Math.random()<.3?1:0).height=80}this._cannonPointUsedForCountDown=e}},{key:"waveLeftHealth",get:function(){var e=0;return this._zombiesInThisWave.forEach((function(n){n.isAlive()&&!n.hypnotized&&!n.objdataOwn.IgnoredInWaves&&n.health>0&&(e+=n.health)})),e}},{key:"defaultZombieCountdownFirstWaveSecs",get:function(){return this._defaultZombieCountdownFirstWaveSecs},set:function(e){this.waveManagerProps&&(this.waveManagerProps.ZombieCountdownFirstWaveSecs=e),this._defaultZombieCountdownFirstWaveSecs=e}},{key:"rhythmTime",get:function(){return this.rhythmMusicCountDown>0?-this.rhythmMusicCountDown:this.rhythmAudioSource.currentTime}},{key:"bossHealthProgress",get:function(){return this.bossHealthProgressBar.progress},set:function(e){this.bossHealthProgressBar.progress=e;var n=this.bossHealthProgressBar.totalLength*e*this.bossHealthProgressBar.node.worldScale.x+this.bossHealthProgressBar.barSprite.node.worldPosition.x;this.zombossHPNotches.forEach((function(e){e.active=n>e.worldPosition.x})),this.bossHealthProgressBarParticle.node.worldPosition=new C(n,this.bossHealthProgressBar.node.worldPosition.y,0)}},{key:"uiPos",get:function(){return this._uiPos},set:function(e){this.camera.node.position=e,this._uiFollowingCamera.forEach((function(n){n.node.position=e})),this._uiPos=e}},{key:"CameraHeight",get:function(){return this.camera.orthoHeight},set:function(e){this.camera.orthoHeight=e,this._uiFollowingCamera.forEach((function(n){n.node.scale=n.orgScale.clone().multiplyScalar(e/320)}))}},{key:"gaming",get:function(){return(!this.isCowboyMinigame||!this.cowboyMinigameWaiting)&&(this.gameStarted&&!this.gameLost&&!this.gameOver&&!this.gameWon&&!this.lastStandPrepareStarted)}}]),n}(x)).prototype,"tooltips",[un],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),On=n(Zn.prototype,"inGameWarnLabel",[cn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),jn=n(Zn.prototype,"levelProgressBar",[hn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),zn=n(Zn.prototype,"levelProgressHead",[dn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Hn=n(Zn.prototype,"waveFlag",[mn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Un=n(Zn.prototype,"screenFlash",[pn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Vn=n(Zn.prototype,"cannonPointShower",[vn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new wt}}),Yn=n(Zn.prototype,"pointLayer",[gn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Kn=n(Zn.prototype,"fightAloneProgressBar",[fn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Jn=n(Zn.prototype,"beghouledProgressLabel",[Pn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Xn=n(Zn.prototype,"beghouledProgressBar",[Sn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qn=n(Zn.prototype,"levelNameLabel",[bn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qn=n(Zn.prototype,"levelDescriptionLabel",[wn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$n=n(Zn.prototype,"Level",[Cn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),et=n(Zn.prototype,"lastStandGameStartButton",[Mn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),nt=n(Zn.prototype,"dangerroomCardChooser",[yn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),tt=n(Zn.prototype,"viewButton",[Nn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),at=n(Zn.prototype,"bossHealthProgressBar",[Ln],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ot=n(Zn.prototype,"bossHealthProgressHead",[Tn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),it=n(Zn.prototype,"bossHealthProgressHeadSpt",[Wn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rt=n(Zn.prototype,"bossHealthProgressBarParticle",[xn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),st=n(Zn.prototype,"carddeck_displayer",[Bn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),lt=n(Zn.prototype,"uiFollowingCamera",[Dn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ut=n(Zn.prototype,"camera",[In],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ct=n(Zn.prototype,"ui",[kn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ht=n(Zn.prototype,"uiUpper",[Rn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),dt=n(Zn.prototype,"zombieDisplayer",[_n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),mt=n(Zn.prototype,"levelObjectiveShower",[En],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pt=n(Zn.prototype,"levelModuleJson",[Gn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fn=Zn))||Fn));u._RF.pop()}}}));

System.register("chunks:///_virtual/LevelNodes.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var r,t,i,o,n,a,l,u;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){n=e.cclegacy,a=e._decorator,l=e.Prefab,u=e.Component}],execute:function(){var s,c,p,b,f,d,g,m,h,N,y,v,z,w,L,P,x;n._RF.push({},"874a2FYkoZC+LHvY/x2+M4w","LevelNodes",void 0);var H=a.ccclass,_=a.property,D=e("levelNodeRes",function(){function e(){}return e.normalNode=function(){return this.res.normalNode},e.gargantuarNode=function(){return this.res.gargantuarNode},e.minigameNode=function(){return this.res.minigameNode},e.epicPortal=function(){return this.res.epicPortal},e.giftbox=function(){return this.res.giftbox},e.path=function(){return this.res.path},e.zombossHead=function(){return this.res.zombossHead},e}());D.res=void 0;e("LevelNodes",(s=H("LevelNodes"),c=_(l),p=_(l),b=_(l),f=_(l),d=_(l),g=_(l),m=_(l),s((y=r((N=function(e){function r(){for(var r,t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return r=e.call.apply(e,[this].concat(n))||this,i(r,"normalNode",y,o(r)),i(r,"gargantuarNode",v,o(r)),i(r,"minigameNode",z,o(r)),i(r,"epicPortal",w,o(r)),i(r,"giftbox",L,o(r)),i(r,"path",P,o(r)),i(r,"zombossHead",x,o(r)),r}return t(r,e),r.prototype.onLoad=function(){D.res=this},r}(u)).prototype,"normalNode",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=r(N.prototype,"gargantuarNode",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=r(N.prototype,"minigameNode",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=r(N.prototype,"epicPortal",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=r(N.prototype,"giftbox",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=r(N.prototype,"path",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=r(N.prototype,"zombossHead",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=N))||h));n._RF.pop()}}}));

System.register("chunks:///_virtual/LevelObjectiveScreen.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MultiLanguage.ts","./levelController.ts"],(function(e){var i,n,t,r,o,a,s,l,c,u,p,h,m,f,y,v;return{setters:[function(e){i=e.applyDecoratedDescriptor,n=e.inheritsLoose,t=e.initializerDefineProperty,r=e.assertThisInitialized,o=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){s=e.cclegacy,l=e._decorator,c=e.Label,u=e.UIOpacity,p=e.tween,h=e.Vec3,m=e.instantiate,f=e.Component},function(e){y=e.MultiLanguage},function(e){v=e.LevelPlay}],execute:function(){var g,b,d,T,w,S,L,j,z,k,B,C,O,P,E,F,N,W,_,A;s._RF.push({},"efce8jAa81JtrcA+yEz9jcb","LevelObjectiveScreen",void 0);var D=l.ccclass,M=l.property,R=(g=D("LevelObjectiveScreenToolTips"),b=M(c),d=M(c),g((S=i((w=function(){function e(){t(this,"Title",S,this),t(this,"Continue",L,this)}return e.prototype.start=function(){this.Title.string=y.getStringByPropsWithoutTricks("LevelObjectiveWindow","Title"),this.Continue.string=y.getStringByPropsWithoutTricks("LevelObjectiveWindow","Continue")},e}()).prototype,"Title",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=i(w.prototype,"Continue",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=w))||T);e("LevelObjectiveScreen",(j=D("LevelObjectiveScreen"),z=M(R),k=M(u),B=M(u),C=M(c),O=M(c),j((F=i((E=function(e){function i(){for(var i,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return i=e.call.apply(e,[this].concat(o))||this,t(i,"toolTips",F,r(i)),t(i,"mainScreen",N,r(i)),t(i,"mouseBlocker",W,r(i)),i.playingTween=null,i.faded=!1,t(i,"mission0",_,r(i)),t(i,"screenName",A,r(i)),i.missions=[],i}n(i,e);var s=i.prototype;return s.start=function(){this.toolTips.start()},s.onEnable=function(){this.playingTween=null},s.playStart=function(e,i){var n=this;void 0===i&&(i=""),this.node.active=!0,this.mainScreen.opacity=0,this.mouseBlocker.opacity=0,this.setTips(e,i),this.playingTween=p(this.mouseBlocker).to(1,{opacity:255}).call((function(){n.playingTween=null,n.mainScreen.opacity=255,n.mainScreen.node.position=new h(0,0,0)})).start()},s.playFade=function(){var e,i=this;this.faded=!0,this.mainScreen.opacity=0,function(){var e=o(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i.mainScreen.node.active=!1;case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),this.playingTween=p(this.mouseBlocker).to(1,{opacity:0}).call((function(){i.playingTween=null,i.node.active=!1})).start(),null==(e=v.component)||e.moveCamera()},s.continue=function(){this.playingTween||this.playFade()},s.setTips=function(e,i){var n=this;if(void 0===i&&(i=""),this.missions.forEach((function(e,i){var n;i>0&&(null==(n=e.node)||null==(n=n.parent)||n.destroy())})),this.missions=[this.mission0],e.length){var t=[this.mission0];e.forEach((function(e,i){var r=n.mission0;if(i>0){var o=m(n.mission0.node.parent);o.parent=n.mission0.node.parent.parent,r=o.getChildByName(n.mission0.node.name).getComponent(c),t.push(r)}r.string=e})),this.missions=t}else this.mission0.node.parent.parent.parent.active=!1;this.screenName.string=i},i}(f)).prototype,"toolTips",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=i(E.prototype,"mainScreen",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=i(E.prototype,"mouseBlocker",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=i(E.prototype,"mission0",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=i(E.prototype,"screenName",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=E))||P));s._RF.pop()}}}));

System.register("chunks:///_virtual/levelPrize.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Character.ts","./Square.ts","./SoundRescourses.ts","./CharacterManager.ts","./Mouse.ts","./UI.ts","./NodePools.ts","./Particles.ts","./ParticleSelfdestroy.ts","./SoundsController.ts","./SoundManager.ts","./Materials.ts"],(function(t){var e,i,o,n,l,r,s,c,a,u,h,d,p,f,w,g,y,P,S,b,v,z,C,m,L;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){l=t.cclegacy,r=t._decorator,s=t.AudioClip,c=t.Size,a=t.Vec2,u=t.tween,h=t.Vec3,d=t.Color},function(t){p=t.Character},function(t){f=t.Square},function(t){w=t.sounds},function(t){g=t.Rectangle},function(t){y=t.Mouse},function(t){P=t.UIInGame},function(t){S=t.destroyPooly,b=t.instantiatePooly},function(t){v=t.particle},function(t){z=t.ParticleSelfdestroy},function(t){C=t.MusicController},function(t){m=t.MusicSortEnum},function(t){L=t.materialRes}],execute:function(){var T,O,E,I,M,R,x,q,U,A,_;l._RF.push({},"5772bmaeBtG0ZS9CVEYQSIA","levelPrize",void 0);var D=r.ccclass,V=r.property;t("levelPrize",(T=D("levelPrize"),O=V(s),E=V(s),I=V(c),M=V(s),T((q=e((x=function(t){function e(){for(var e,i=arguments.length,l=new Array(i),r=0;r<i;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))||this).leapTween=[],o(e,"landSound",q,n(e)),o(e,"collectSound",U,n(e)),e.collected=!1,o(e,"bodySize",A,n(e)),e.collectTween=[],e.light=void 0,o(e,"spawnSound",_,n(e)),e}i(e,t);var l=e.prototype;return l.stopLeap=function(){var t;null==(t=this.leapTween)||t.forEach((function(t){t.stop()})),this.leapTween=[]},l.leapToPos=function(t,e,i,o){var n=this;void 0===t&&(t=1),void 0===e&&(e=4),void 0===i&&(i=180),void 0===o&&(o=1.5);var l=f.getLnC(t,e);if(this.stopLeap(),l){var r=new a(l.node.worldPosition.x,l.node.worldPosition.y);this.leapTween.push(u(this).to(o,{worldPositionX:r.x,worldPositionY:r.y}).start(),u(this).to(o/2,{height:i},{easing:"quadOut"}).to(o/2,{height:0},{easing:"quadIn"}).call((function(){n.onLeapEnd(),w.playOneShot(n.landSound)})).start())}},l.onLeapEnd=function(){},l.characterOnEnable=function(){var t;(this.collected=!1,this.collectTween=[],this.leapTween=[],w.playOneShot(this.spawnSound),this.light)&&(S(null==(t=this.light)?void 0:t.node),this.light=null);this.specialPrizeOnEnable()},l.specialPrizeOnEnable=function(){},l.bodyRec=function(){return g.createRectangleNodeCenter(this.node,this.bodySize.width,this.bodySize.height)},l.collectToWP=function(){return P.component.node.parent.worldPosition},l.collect=function(){var t=this.collectToWP();this.collectTween.forEach((function(t){t.stop()})),this.collectTween=[],this.collectTween.push(u(this).to(4,{worldPositionX:t.x,worldPositionY:t.y,height:0},{easing:"quadInOut"}).start(),u(this.node).by(4,{scale:new h(.3,.3,1)},{easing:"quadInOut"}).call((function(){P.component.victoryExit()})).start()),C.switchMusicSort(m.Leave,!1,!1,!0,!0),this.showPriceLight(),this.specialOnCollected()},l.specialOnCollected=function(){},l.showPriceLight=function(){var t=b(v.prizeCollectLight());t.parent=this.node.parent,t.worldPosition=this.node.worldPosition,t.setSiblingIndex(this.node.getSiblingIndex()),this.light=t.getComponent(z),this.light.db.playAnimation("Play",1)},l.characterUpdate=function(t){this.collected?this.db.color=new d(255,255,255,255):(this.db.color=L.rewardColor,this.bodyRec().judgeCrossLine(y.moveLine)&&(this.collected=!0,this.collect(),w.playOneShot(this.collectSound),this.stopLeap())),this.light&&(this.light.node.worldPosition=this.node.worldPosition),this.specialPrizeUpdate(t)},l.specialPrizeUpdate=function(t){},e}(p)).prototype,"landSound",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=e(x.prototype,"collectSound",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=e(x.prototype,"bodySize",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new c(70,70)}}),_=e(x.prototype,"spawnSound",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=x))||R));l._RF.pop()}}}));

System.register("chunks:///_virtual/Levels.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(i){var e,t,l,r,a,n,o,u;return{setters:[function(i){e=i.applyDecoratedDescriptor,t=i.initializerDefineProperty,l=i.inheritsLoose,r=i.assertThisInitialized},function(i){a=i.cclegacy,n=i._decorator,o=i.JsonAsset,u=i.Component}],execute:function(){var b,s,p,h,g,c,m,y,f,w,z,d,_,k,v,L,J,q,A,x,D,P,R,F,I,j,B,C,E,H,M,O,S,T,V,W,G,K,N,Q,U,X,Y,Z,$,ii,ei,ti,li,ri,ai,ni,oi,ui,bi,si,pi,hi,gi,ci,mi,yi,fi,wi,zi,di,_i,ki,vi,Li,Ji,qi,Ai,xi,Di,Pi,Ri,Fi,Ii,ji,Bi,Ci,Ei,Hi,Mi,Oi,Si,Ti,Vi,Wi,Gi,Ki,Ni,Qi,Ui,Xi,Yi,Zi,$i,ie,ee,te,le,re,ae,ne,oe,ue,be,se,pe,he,ge,ce,me,ye,fe,we,ze,de,_e,ke,ve,Le,Je,qe,Ae,xe,De,Pe,Re,Fe,Ie,je,Be,Ce,Ee,He,Me,Oe,Se,Te,Ve,We,Ge,Ke,Ne,Qe,Ue,Xe,Ye,Ze,$e,it,et,tt,lt,rt,at,nt,ot,ut,bt,st,pt,ht,gt,ct,mt,yt,ft,wt,zt,dt,_t,kt,vt,Lt,Jt,qt,At,xt,Dt,Pt,Rt,Ft,It,jt,Bt,Ct,Et,Ht,Mt,Ot,St,Tt,Vt,Wt,Gt,Kt,Nt,Qt,Ut,Xt,Yt,Zt,$t,il,el,tl,ll,rl,al,nl,ol,ul,bl,sl,pl,hl,gl,cl,ml,yl,fl,wl,zl,dl,_l,kl,vl,Ll,Jl,ql,Al,xl,Dl,Pl,Rl,Fl,Il,jl,Bl,Cl,El,Hl,Ml,Ol,Sl,Tl,Vl,Wl,Gl,Kl,Nl,Ql,Ul,Xl,Yl,Zl,$l,ir,er,tr,lr,rr,ar,nr,or,ur,br,sr,pr,hr,gr,cr,mr,yr,fr,wr,zr,dr,_r,kr,vr,Lr,Jr,qr,Ar,xr,Dr,Pr,Rr,Fr,Ir,jr,Br,Cr,Er,Hr,Mr,Or,Sr,Tr,Vr,Wr,Gr,Kr,Nr,Qr,Ur,Xr,Yr,Zr,$r,ia,ea,ta,la,ra,aa,na,oa,ua,ba,sa,pa,ha,ga,ca,ma,ya,fa,wa,za,da,_a,ka,va,La,Ja,qa,Aa,xa,Da,Pa,Ra,Fa,Ia,ja,Ba,Ca,Ea,Ha,Ma,Oa,Sa,Ta,Va,Wa,Ga,Ka,Na,Qa,Ua,Xa,Ya,Za,$a,en,tn,ln,rn,an,nn,on,un,bn,sn,pn,hn,gn,cn,mn,yn,fn,wn,zn,dn,_n,kn,vn,Ln,Jn,qn,An,xn,Dn,Pn,Rn,Fn,In,jn,Bn,Cn,En,Hn,Mn,On,Sn,Tn,Vn,Wn,Gn,Kn,Nn,Qn,Un,Xn,Yn,Zn,$n,io,eo,to,lo,ro,ao,no,oo,uo,bo,so,po,ho,go,co,mo,yo,fo,wo,zo,_o,ko,vo,Lo,Jo,qo,Ao,xo,Do,Po,Ro,Fo,Io,jo,Bo,Co,Eo,Ho,Mo,Oo,So,To,Vo,Wo,Go,Ko,No,Qo,Uo,Xo,Yo,Zo,$o,iu,eu,tu,lu,ru,au,nu,ou,uu,bu,su,pu,hu,gu,cu,mu,yu,fu,wu,zu,du,_u,ku,vu,Lu,Ju,qu,Au,xu,Du,Pu,Ru,Fu,Iu,ju,Bu,Cu,Eu,Hu,Mu,Ou,Su,Tu,Vu,Wu,Gu,Ku,Nu,Qu,Uu,Xu,Yu,Zu,$u,ib,eb,tb,lb,rb,ab,nb,ob,ub,bb,sb,pb,hb,gb,cb,mb,yb,fb,wb,zb,db,_b,kb,vb,Lb,Jb,qb,Ab,xb,Db,Pb,Rb,Fb,Ib,jb,Bb,Cb,Eb,Hb,Mb,Ob,Sb,Tb,Vb,Wb,Gb,Kb,Nb,Qb,Ub,Xb,Yb,Zb,$b,is,es,ts,ls,rs,as,ns,os,us,bs,ss,ps,hs,gs,cs,ms,ys,fs,ws,zs,ds,_s,ks,vs,Ls,Js,qs,As,xs,Ds,Ps,Rs,Fs,Is,js,Bs,Cs,Es,Hs,Ms,Os,Ss,Ts,Vs,Ws,Gs,Ks,Ns,Qs,Us,Xs,Ys,Zs,$s,ip,ep,tp,lp,rp,ap,np,op,up,bp,sp,pp,hp,gp,cp,mp,yp,fp,wp,zp,dp,_p,kp,vp,Lp,Jp,qp,Ap,xp,Dp,Pp,Rp,Fp,Ip,jp,Bp,Cp,Ep,Hp,Mp,Op,Sp,Tp,Vp,Wp,Gp,Kp,Np,Qp,Up,Xp,Yp,Zp,$p,ih,eh,th,lh,rh,ah,nh,oh,uh,bh,sh,ph,hh,gh,ch,mh,yh,fh,wh,zh,dh,_h,kh,vh,Lh,Jh,qh,Ah,xh,Dh,Ph,Rh,Fh,Ih,jh,Bh,Ch,Eh,Hh,Mh,Oh,Sh,Th,Vh,Wh,Gh,Kh,Nh,Qh,Uh,Xh,Yh,Zh,$h,ig,eg,tg,lg,rg,ag,ng,og,ug,bg,sg,pg,hg,gg,cg,mg,yg,fg,wg,zg,dg,_g,kg,vg,Lg,Jg,qg,Ag,xg,Dg,Pg,Rg,Fg,Ig,jg,Bg,Cg,Eg,Hg,Mg,Og,Sg,Tg,Vg,Wg,Gg,Kg,Ng,Qg,Ug,Xg,Yg,Zg,$g,ic,ec,tc,lc,rc,ac,nc,oc,uc,bc,sc,pc,hc,gc,cc,mc,yc,fc,wc,zc,dc,_c,kc,vc,Lc,Jc,qc,Ac,xc,Dc,Pc,Rc,Fc,Ic,jc,Bc,Cc,Ec,Hc,Mc,Oc,Sc,Tc,Vc,Wc,Gc,Kc,Nc,Qc,Uc,Xc,Yc,Zc,$c,im,em,tm,lm,rm,am,nm,om,um,bm,sm,pm,hm,gm,cm,mm,ym,fm,wm,zm,dm,_m,km,vm,Lm,Jm,qm,Am,xm,Dm,Pm,Rm,Fm,Im,jm,Bm,Cm,Em,Hm,Mm,Om,Sm,Tm,Vm,Wm,Gm,Km,Nm,Qm,Um,Xm,Ym,Zm,$m,iy,ey,ty,ly,ry,ay,ny,oy,uy,by,sy,py,hy,gy,cy,my,yy,fy,wy,zy,dy,_y,ky,vy,Ly,Jy,qy,Ay,xy,Dy,Py,Ry,Fy,Iy,jy,By,Cy,Ey,Hy,My,Oy,Sy,Ty,Vy,Wy,Gy,Ky,Ny,Qy,Uy,Xy,Yy,Zy,$y,ef,tf,lf,rf,af,nf,of,uf,bf,sf,pf,hf,gf,cf,mf,yf,ff,wf,zf,df,_f,kf,vf,Lf,Jf,qf,Af,xf,Df,Pf,Rf,Ff,If,jf,Bf,Cf,Ef,Hf,Mf,Of,Sf,Tf,Vf,Wf,Gf,Kf,Nf,Qf,Uf,Xf,Yf,Zf,$f,iw,ew,tw,lw,rw,aw,nw,ow,uw,bw,sw,pw,hw,gw,cw,mw,yw,fw,ww,zw,dw,_w,kw,vw,Lw,Jw,qw,Aw,xw,Dw,Pw,Rw,Fw,Iw,jw,Bw,Cw,Ew,Hw,Mw,Ow,Sw,Tw,Vw,Ww,Gw,Kw,Nw,Qw,Uw,Xw,Yw,Zw,$w,iz,ez,tz,lz,rz,az,nz,oz,uz,bz,sz,pz,hz,gz,cz,mz,yz,fz,wz,zz,dz,_z,kz,vz,Lz,Jz,qz,Az,xz,Dz,Pz,Rz,Fz,Iz,jz,Bz,Cz,Ez,Hz,Mz,Oz,Sz,Tz,Vz,Wz,Gz,Kz,Nz,Qz,Uz,Xz,Yz,Zz,$z,id,ed,td,ld,rd,ad,nd,od,ud,bd,sd,pd,hd,gd,cd,md,yd,fd,wd,zd,dd,_d,kd,vd,Ld,Jd,qd,Ad,xd,Dd,Pd,Rd,Fd,Id,jd,Bd,Cd,Ed,Hd,Md,Od,Sd,Td,Vd,Wd,Gd,Kd,Nd,Qd,Ud,Xd,Yd,Zd,$d,i_,e_,t_,l_,r_,a_,n_,o_,u_,b_,s_,p_,h_,g_,c_,m_,y_,f_,w_,z_,d_,__,k_,v_,L_,J_,q_,A_,x_,D_,P_,R_,F_,I_,j_,B_,C_,E_,H_,M_,O_,S_,T_,V_,W_,G_,K_,N_,Q_,U_,X_,Y_,Z_,$_,ik,ek,tk,lk,rk,ak,nk,ok,uk,bk,sk,pk,hk,gk,ck,mk,yk,fk,wk,zk,dk,_k,kk,vk,Lk,Jk,qk,Ak,xk,Dk,Pk,Rk,Fk,Ik,jk,Bk,Ck,Ek,Hk;i("getLevelJsonAsset",(function(i){return Tk.cp.getLevelJsonAsset(i)})),a._RF.push({},"ac992PIdWVOabpaeEaRks95","Levels",void 0);var Mk=n.ccclass,Ok=n.property,Sk=(b=Mk("LevelJsons"),s=Ok(o),p=Ok(o),h=Ok(o),g=Ok(o),c=Ok(o),m=Ok(o),y=Ok(o),f=Ok(o),w=Ok(o),z=Ok(o),d=Ok(o),_=Ok(o),k=Ok(o),v=Ok(o),L=Ok(o),J=Ok(o),q=Ok(o),A=Ok(o),x=Ok(o),D=Ok(o),P=Ok(o),R=Ok(o),F=Ok(o),I=Ok(o),j=Ok(o),B=Ok(o),C=Ok(o),E=Ok(o),H=Ok(o),M=Ok(o),O=Ok(o),S=Ok(o),T=Ok(o),V=Ok(o),W=Ok(o),G=Ok(o),K=Ok(o),N=Ok(o),Q=Ok(o),U=Ok(o),X=Ok(o),Y=Ok(o),Z=Ok(o),$=Ok(o),ii=Ok(o),ei=Ok(o),ti=Ok(o),li=Ok(o),ri=Ok(o),ai=Ok(o),ni=Ok(o),oi=Ok(o),ui=Ok(o),bi=Ok(o),si=Ok(o),pi=Ok(o),hi=Ok(o),gi=Ok(o),ci=Ok(o),mi=Ok(o),yi=Ok(o),fi=Ok(o),wi=Ok(o),zi=Ok(o),di=Ok(o),_i=Ok(o),ki=Ok(o),vi=Ok(o),Li=Ok(o),Ji=Ok(o),qi=Ok(o),Ai=Ok(o),xi=Ok(o),Di=Ok(o),Pi=Ok(o),Ri=Ok(o),Fi=Ok(o),Ii=Ok(o),ji=Ok(o),Bi=Ok(o),Ci=Ok(o),Ei=Ok(o),Hi=Ok(o),Mi=Ok(o),Oi=Ok(o),Si=Ok(o),Ti=Ok(o),Vi=Ok(o),Wi=Ok(o),Gi=Ok(o),Ki=Ok(o),Ni=Ok(o),Qi=Ok(o),Ui=Ok(o),Xi=Ok(o),Yi=Ok(o),Zi=Ok(o),$i=Ok(o),ie=Ok(o),ee=Ok(o),te=Ok(o),le=Ok(o),re=Ok(o),ae=Ok(o),ne=Ok(o),oe=Ok(o),ue=Ok(o),be=Ok(o),se=Ok(o),pe=Ok(o),he=Ok(o),ge=Ok(o),ce=Ok(o),me=Ok(o),ye=Ok(o),fe=Ok(o),we=Ok(o),ze=Ok(o),de=Ok(o),_e=Ok(o),ke=Ok(o),ve=Ok(o),Le=Ok(o),Je=Ok(o),qe=Ok(o),Ae=Ok(o),xe=Ok(o),De=Ok(o),Pe=Ok(o),Re=Ok(o),Fe=Ok(o),Ie=Ok(o),je=Ok(o),Be=Ok(o),Ce=Ok(o),Ee=Ok(o),He=Ok(o),Me=Ok(o),Oe=Ok(o),Se=Ok(o),Te=Ok(o),Ve=Ok(o),We=Ok(o),Ge=Ok(o),Ke=Ok(o),Ne=Ok(o),Qe=Ok(o),Ue=Ok(o),Xe=Ok(o),Ye=Ok(o),Ze=Ok(o),$e=Ok(o),it=Ok(o),et=Ok(o),tt=Ok(o),lt=Ok(o),rt=Ok(o),at=Ok(o),nt=Ok(o),ot=Ok(o),ut=Ok(o),bt=Ok(o),st=Ok(o),pt=Ok(o),ht=Ok(o),gt=Ok(o),ct=Ok(o),mt=Ok(o),yt=Ok(o),ft=Ok(o),wt=Ok(o),zt=Ok(o),dt=Ok(o),_t=Ok(o),kt=Ok(o),vt=Ok(o),Lt=Ok(o),Jt=Ok(o),qt=Ok(o),At=Ok(o),xt=Ok(o),Dt=Ok(o),Pt=Ok(o),Rt=Ok(o),Ft=Ok(o),It=Ok(o),jt=Ok(o),Bt=Ok(o),Ct=Ok(o),Et=Ok(o),Ht=Ok(o),Mt=Ok(o),Ot=Ok(o),St=Ok(o),Tt=Ok(o),Vt=Ok(o),Wt=Ok(o),Gt=Ok(o),Kt=Ok(o),Nt=Ok(o),Qt=Ok(o),Ut=Ok(o),Xt=Ok(o),Yt=Ok(o),Zt=Ok(o),$t=Ok(o),il=Ok(o),el=Ok(o),tl=Ok(o),ll=Ok(o),rl=Ok(o),al=Ok(o),nl=Ok(o),ol=Ok(o),ul=Ok(o),bl=Ok(o),sl=Ok(o),pl=Ok(o),hl=Ok(o),gl=Ok(o),cl=Ok(o),ml=Ok(o),yl=Ok(o),fl=Ok(o),wl=Ok(o),zl=Ok(o),dl=Ok(o),_l=Ok(o),kl=Ok(o),vl=Ok(o),Ll=Ok(o),Jl=Ok(o),ql=Ok(o),Al=Ok(o),xl=Ok(o),Dl=Ok(o),Pl=Ok(o),Rl=Ok(o),Fl=Ok(o),Il=Ok(o),jl=Ok(o),Bl=Ok(o),Cl=Ok(o),El=Ok(o),Hl=Ok(o),Ml=Ok(o),Ol=Ok(o),Sl=Ok(o),Tl=Ok(o),Vl=Ok(o),Wl=Ok(o),Gl=Ok(o),Kl=Ok(o),Nl=Ok(o),Ql=Ok(o),Ul=Ok(o),Xl=Ok(o),Yl=Ok(o),Zl=Ok(o),$l=Ok(o),ir=Ok(o),er=Ok(o),tr=Ok(o),lr=Ok(o),rr=Ok(o),ar=Ok(o),nr=Ok(o),or=Ok(o),ur=Ok(o),br=Ok(o),sr=Ok(o),pr=Ok(o),hr=Ok(o),gr=Ok(o),cr=Ok(o),mr=Ok(o),yr=Ok(o),fr=Ok(o),wr=Ok(o),zr=Ok(o),dr=Ok(o),_r=Ok(o),kr=Ok(o),vr=Ok(o),Lr=Ok(o),Jr=Ok(o),qr=Ok(o),Ar=Ok(o),xr=Ok(o),Dr=Ok(o),Pr=Ok(o),Rr=Ok(o),Fr=Ok(o),Ir=Ok(o),jr=Ok(o),Br=Ok(o),Cr=Ok(o),Er=Ok(o),Hr=Ok(o),Mr=Ok(o),Or=Ok(o),Sr=Ok(o),Tr=Ok(o),Vr=Ok(o),Wr=Ok(o),Gr=Ok(o),Kr=Ok(o),Nr=Ok(o),Qr=Ok(o),Ur=Ok(o),Xr=Ok(o),Yr=Ok(o),Zr=Ok(o),$r=Ok(o),ia=Ok(o),ea=Ok(o),ta=Ok(o),la=Ok(o),ra=Ok(o),aa=Ok(o),na=Ok(o),oa=Ok(o),ua=Ok(o),ba=Ok(o),sa=Ok(o),pa=Ok(o),ha=Ok(o),ga=Ok(o),ca=Ok(o),ma=Ok(o),ya=Ok(o),fa=Ok(o),wa=Ok(o),za=Ok(o),da=Ok(o),_a=Ok(o),ka=Ok(o),va=Ok(o),La=Ok(o),Ja=Ok(o),qa=Ok(o),Aa=Ok(o),xa=Ok(o),Da=Ok(o),Pa=Ok(o),Ra=Ok(o),Fa=Ok(o),Ia=Ok(o),ja=Ok(o),Ba=Ok(o),Ca=Ok(o),Ea=Ok(o),Ha=Ok(o),Ma=Ok(o),Oa=Ok(o),Sa=Ok(o),Ta=Ok(o),Va=Ok(o),Wa=Ok(o),Ga=Ok(o),Ka=Ok(o),Na=Ok(o),Qa=Ok(o),Ua=Ok(o),Xa=Ok(o),Ya=Ok(o),Za=Ok(o),$a=Ok(o),en=Ok(o),tn=Ok(o),ln=Ok(o),rn=Ok(o),an=Ok(o),nn=Ok(o),on=Ok(o),un=Ok(o),bn=Ok(o),sn=Ok(o),pn=Ok(o),hn=Ok(o),gn=Ok(o),cn=Ok(o),mn=Ok(o),yn=Ok(o),fn=Ok(o),wn=Ok(o),zn=Ok(o),dn=Ok(o),_n=Ok(o),kn=Ok(o),vn=Ok(o),Ln=Ok(o),Jn=Ok(o),qn=Ok(o),An=Ok(o),xn=Ok(o),Dn=Ok(o),Pn=Ok(o),Rn=Ok(o),Fn=Ok(o),In=Ok(o),jn=Ok(o),Bn=Ok(o),Cn=Ok(o),En=Ok(o),Hn=Ok(o),Mn=Ok(o),On=Ok(o),Sn=Ok(o),Tn=Ok(o),Vn=Ok(o),Wn=Ok(o),Gn=Ok(o),Kn=Ok(o),Nn=Ok(o),Qn=Ok(o),Un=Ok(o),Xn=Ok(o),Yn=Ok(o),Zn=Ok(o),$n=Ok(o),io=Ok(o),eo=Ok(o),to=Ok(o),lo=Ok(o),ro=Ok(o),ao=Ok(o),no=Ok(o),oo=Ok(o),uo=Ok(o),bo=Ok(o),so=Ok(o),po=Ok(o),ho=Ok(o),go=Ok(o),co=Ok(o),mo=Ok(o),yo=Ok(o),fo=Ok(o),wo=Ok(o),zo=Ok(o),_o=Ok(o),ko=Ok(o),vo=Ok(o),Lo=Ok(o),Jo=Ok(o),qo=Ok(o),Ao=Ok(o),xo=Ok(o),Do=Ok(o),Po=Ok(o),Ro=Ok(o),Fo=Ok(o),Io=Ok(o),jo=Ok(o),Bo=Ok(o),Co=Ok(o),Eo=Ok(o),Ho=Ok(o),Mo=Ok(o),Oo=Ok(o),So=Ok(o),To=Ok(o),Vo=Ok(o),Wo=Ok(o),Go=Ok(o),Ko=Ok(o),No=Ok(o),Qo=Ok(o),Uo=Ok(o),Xo=Ok(o),Yo=Ok(o),Zo=Ok(o),$o=Ok(o),iu=Ok(o),eu=Ok(o),tu=Ok(o),lu=Ok(o),ru=Ok(o),au=Ok(o),nu=Ok(o),ou=Ok(o),uu=Ok(o),bu=Ok(o),su=Ok(o),pu=Ok(o),hu=Ok(o),gu=Ok(o),cu=Ok(o),mu=Ok(o),yu=Ok(o),fu=Ok(o),wu=Ok(o),zu=Ok(o),du=Ok(o),_u=Ok(o),ku=Ok(o),vu=Ok(o),Lu=Ok(o),Ju=Ok(o),qu=Ok(o),Au=Ok(o),xu=Ok(o),Du=Ok(o),Pu=Ok(o),Ru=Ok(o),Fu=Ok(o),Iu=Ok(o),ju=Ok(o),Bu=Ok(o),Cu=Ok(o),Eu=Ok(o),Hu=Ok(o),Mu=Ok(o),Ou=Ok(o),Su=Ok(o),Tu=Ok(o),Vu=Ok(o),Wu=Ok(o),Gu=Ok(o),Ku=Ok(o),Nu=Ok(o),Qu=Ok(o),Uu=Ok(o),Xu=Ok(o),Yu=Ok(o),Zu=Ok(o),$u=Ok(o),ib=Ok(o),eb=Ok(o),tb=Ok(o),lb=Ok(o),rb=Ok(o),ab=Ok(o),nb=Ok(o),ob=Ok(o),ub=Ok(o),bb=Ok(o),sb=Ok(o),pb=Ok(o),hb=Ok(o),gb=Ok(o),cb=Ok(o),mb=Ok(o),yb=Ok(o),fb=Ok(o),wb=Ok(o),zb=Ok(o),db=Ok(o),_b=Ok(o),kb=Ok(o),vb=Ok(o),Lb=Ok(o),Jb=Ok(o),qb=Ok(o),Ab=Ok(o),xb=Ok(o),Db=Ok(o),Pb=Ok(o),Rb=Ok(o),Fb=Ok(o),Ib=Ok(o),jb=Ok(o),Bb=Ok(o),Cb=Ok(o),Eb=Ok(o),Hb=Ok(o),Mb=Ok(o),Ob=Ok(o),Sb=Ok(o),Tb=Ok(o),Vb=Ok(o),Wb=Ok(o),Gb=Ok(o),Kb=Ok(o),Nb=Ok(o),Qb=Ok(o),Ub=Ok(o),Xb=Ok(o),Yb=Ok(o),Zb=Ok(o),$b=Ok(o),is=Ok(o),es=Ok(o),ts=Ok(o),ls=Ok(o),rs=Ok(o),as=Ok(o),ns=Ok(o),os=Ok(o),us=Ok(o),bs=Ok(o),ss=Ok(o),ps=Ok(o),hs=Ok(o),gs=Ok(o),cs=Ok(o),ms=Ok(o),ys=Ok(o),fs=Ok(o),ws=Ok(o),zs=Ok(o),ds=Ok(o),_s=Ok(o),ks=Ok(o),vs=Ok(o),Ls=Ok(o),Js=Ok(o),qs=Ok(o),As=Ok(o),xs=Ok(o),Ds=Ok(o),Ps=Ok(o),Rs=Ok(o),Fs=Ok(o),Is=Ok(o),js=Ok(o),Bs=Ok(o),Cs=Ok(o),Es=Ok(o),Hs=Ok(o),Ms=Ok(o),Os=Ok(o),Ss=Ok(o),Ts=Ok(o),Vs=Ok(o),Ws=Ok(o),Gs=Ok(o),Ks=Ok(o),Ns=Ok(o),b((Xs=e((Us=function(){t(this,"sandbox",Xs,this),t(this,"meteorflower0",Ys,this),t(this,"meteorflower1",Zs,this),t(this,"meteorflower2",$s,this),t(this,"meteorflower3",ip,this),t(this,"goldbloom0",ep,this),t(this,"goldbloom1",tp,this),t(this,"goldbloom2",lp,this),t(this,"goldbloom3",rp,this),t(this,"squash0",ap,this),t(this,"squash1",np,this),t(this,"squash2",op,this),t(this,"squash3",up,this),t(this,"gloomshroom0",bp,this),t(this,"gloomshroom1",sp,this),t(this,"gloomshroom2",pp,this),t(this,"gloomshroom3",hp,this),t(this,"gloomshroom4",gp,this),t(this,"gloomshroom5",cp,this),t(this,"gloomshroom6",mp,this),t(this,"gloomshroom7",yp,this),t(this,"umbrellaleaf0",fp,this),t(this,"umbrellaleaf1",wp,this),t(this,"umbrellaleaf2",zp,this),t(this,"umbrellaleaf3",dp,this),t(this,"umbrellaleaf4",_p,this),t(this,"umbrellaleaf5",kp,this),t(this,"umbrellaleaf6",vp,this),t(this,"umbrellaleaf7",Lp,this),t(this,"umbrellaleaf8",Jp,this),t(this,"umbrellaleaf9",qp,this),t(this,"umbrellaleaf10",Ap,this),t(this,"umbrellaleaf11",xp,this),t(this,"bloominghearts0",Dp,this),t(this,"bloominghearts1",Pp,this),t(this,"bloominghearts2",Rp,this),t(this,"bloominghearts3",Fp,this),t(this,"bloominghearts4",Ip,this),t(this,"bloominghearts5",jp,this),t(this,"parsnip0",Bp,this),t(this,"parsnip1",Cp,this),t(this,"parsnip2",Ep,this),t(this,"parsnip3",Hp,this),t(this,"parsnip4",Mp,this),t(this,"parsnip5",Op,this),t(this,"doomshroom0",Sp,this),t(this,"doomshroom1",Tp,this),t(this,"doomshroom2",Vp,this),t(this,"doomshroom3",Wp,this),t(this,"doomshroom4",Gp,this),t(this,"doomshroom5",Kp,this),t(this,"electriccurrant0",Np,this),t(this,"electriccurrant1",Qp,this),t(this,"electriccurrant2",Up,this),t(this,"electriccurrant3",Xp,this),t(this,"electriccurrant4",Yp,this),t(this,"electriccurrant5",Zp,this),t(this,"strawburst0",$p,this),t(this,"strawburst1",ih,this),t(this,"strawburst2",eh,this),t(this,"strawburst3",th,this),t(this,"strawburst4",lh,this),t(this,"strawburst5",rh,this),t(this,"strawburst6",ah,this),t(this,"strawburst7",nh,this),t(this,"sweetpotato0",oh,this),t(this,"sweetpotato1",uh,this),t(this,"sweetpotato2",bh,this),t(this,"sweetpotato3",sh,this),t(this,"sweetpotato4",ph,this),t(this,"sweetpotato5",hh,this),t(this,"hotdate1",gh,this),t(this,"hotdate2",ch,this),t(this,"hotdate3",mh,this),t(this,"ghostpepper0",yh,this),t(this,"ghostpepper1",fh,this),t(this,"ghostpepper2",wh,this),t(this,"ghostpepper3",zh,this),t(this,"vamporcini0",dh,this),t(this,"vamporcini1",_h,this),t(this,"vamporcini2",kh,this),t(this,"vamporcini3",vh,this),t(this,"sapfling0",Lh,this),t(this,"sapfling1",Jh,this),t(this,"sapfling2",qh,this),t(this,"sapfling3",Ah,this),t(this,"sapfling4",xh,this),t(this,"sapfling5",Dh,this),t(this,"sapfling6",Ph,this),t(this,"sapfling7",Rh,this),t(this,"solartomato0",Fh,this),t(this,"solartomato1",Ih,this),t(this,"solartomato2",jh,this),t(this,"solartomato3",Bh,this),t(this,"solartomato4",Ch,this),t(this,"solartomato5",Eh,this),t(this,"buttercup0",Hh,this),t(this,"buttercup1",Mh,this),t(this,"buttercup2",Oh,this),t(this,"buttercup3",Sh,this),t(this,"buttercup4",Th,this),t(this,"buttercup5",Vh,this),t(this,"plantern0",Wh,this),t(this,"plantern1",Gh,this),t(this,"plantern2",Kh,this),t(this,"plantern3",Nh,this),t(this,"plantern4",Qh,this),t(this,"plantern5",Uh,this),t(this,"iceshroom0",Xh,this),t(this,"iceshroom1",Yh,this),t(this,"iceshroom2",Zh,this),t(this,"iceshroom3",$h,this),t(this,"iceshroom4",ig,this),t(this,"iceshroom5",eg,this),t(this,"appease1_0",tg,this),t(this,"appease1_1",lg,this),t(this,"appease1_2",rg,this),t(this,"appease1_3",ag,this),t(this,"appease1_4",ng,this),t(this,"appease1_5",og,this),t(this,"appease1_6",ug,this),t(this,"appease2_0",bg,this),t(this,"appease2_1",sg,this),t(this,"appease2_2",pg,this),t(this,"appease2_3",hg,this),t(this,"appease2_4",gg,this),t(this,"appease2_5",cg,this),t(this,"appease2_6",mg,this),t(this,"egypt1",yg,this),t(this,"egypt2",fg,this),t(this,"egypt3",wg,this),t(this,"egypt4",zg,this),t(this,"egypt5",dg,this),t(this,"egypt6",_g,this),t(this,"egypt7",kg,this),t(this,"egypt8",vg,this),t(this,"egypt9",Lg,this),t(this,"egypt10",Jg,this),t(this,"egypt11",qg,this),t(this,"egypt12",Ag,this),t(this,"egypt13",xg,this),t(this,"egypt14",Dg,this),t(this,"egypt15",Pg,this),t(this,"egypt16",Rg,this),t(this,"egypt17",Fg,this),t(this,"egypt18",Ig,this),t(this,"egypt19",jg,this),t(this,"egypt20",Bg,this),t(this,"egypt20_1",Cg,this),t(this,"egypt21",Eg,this),t(this,"egypt21_1",Hg,this),t(this,"egypt22",Mg,this),t(this,"egypt22_1",Og,this),t(this,"egypt23",Sg,this),t(this,"egypt24",Tg,this),t(this,"egypt24_1",Vg,this),t(this,"egypt25",Wg,this),t(this,"egypt26",Gg,this),t(this,"egypt27",Kg,this),t(this,"egypt28",Ng,this),t(this,"egypt29",Qg,this),t(this,"egypt30",Ug,this),t(this,"egypt31",Xg,this),t(this,"egypt32",Yg,this),t(this,"egypt33",Zg,this),t(this,"egypt34",$g,this),t(this,"egypt35",ic,this),t(this,"egypt_dangerroom",ec,this),t(this,"egypt_dangerroom2",tc,this),t(this,"egypt_dangerroom_minigame",lc,this),t(this,"pirate1",rc,this),t(this,"pirate2",ac,this),t(this,"pirate3",nc,this),t(this,"pirate4",oc,this),t(this,"pirate5",uc,this),t(this,"pirate6",bc,this),t(this,"pirate7",sc,this),t(this,"pirate8",pc,this),t(this,"pirate9",hc,this),t(this,"pirate10",gc,this),t(this,"pirate11",cc,this),t(this,"pirate12",mc,this),t(this,"pirate13",yc,this),t(this,"pirate14",fc,this),t(this,"pirate15",wc,this),t(this,"pirate16",zc,this),t(this,"pirate17",dc,this),t(this,"pirate18",_c,this),t(this,"pirate18_1",kc,this),t(this,"pirate19",vc,this),t(this,"pirate20",Lc,this),t(this,"pirate20_1",Jc,this),t(this,"pirate21",qc,this),t(this,"pirate22",Ac,this),t(this,"pirate22_1",xc,this),t(this,"pirate23",Dc,this),t(this,"pirate23_1",Pc,this),t(this,"pirate24",Rc,this),t(this,"pirate24_1",Fc,this),t(this,"pirate25",Ic,this),t(this,"pirate26",jc,this),t(this,"pirate27",Bc,this),t(this,"pirate28",Cc,this),t(this,"pirate29",Ec,this),t(this,"pirate30",Hc,this),t(this,"pirate31",Mc,this),t(this,"pirate32",Oc,this),t(this,"pirate33",Sc,this),t(this,"pirate34",Tc,this),t(this,"pirate35",Vc,this),t(this,"pirate_dangerroom",Wc,this),t(this,"pirate_dangerroom2",Gc,this),t(this,"cowboy1",Kc,this),t(this,"cowboy2",Nc,this),t(this,"cowboy3",Qc,this),t(this,"cowboy4",Uc,this),t(this,"cowboy5",Xc,this),t(this,"cowboy6",Yc,this),t(this,"cowboy7",Zc,this),t(this,"cowboy8",$c,this),t(this,"cowboy9",im,this),t(this,"cowboy10",em,this),t(this,"cowboy11",tm,this),t(this,"cowboy12",lm,this),t(this,"cowboy12_1",rm,this),t(this,"cowboy13",am,this),t(this,"cowboy14",nm,this),t(this,"cowboy15",om,this),t(this,"cowboy16",um,this),t(this,"cowboy17",bm,this),t(this,"cowboy18",sm,this),t(this,"cowboy18_1",pm,this),t(this,"cowboy19",hm,this),t(this,"cowboy20",gm,this),t(this,"cowboy21",cm,this),t(this,"cowboy22",mm,this),t(this,"cowboy22_1",ym,this),t(this,"cowboy23",fm,this),t(this,"cowboy23_1",wm,this),t(this,"cowboy24",zm,this),t(this,"cowboy24_1",dm,this),t(this,"cowboy25",_m,this),t(this,"cowboy26",km,this),t(this,"cowboy27",vm,this),t(this,"cowboy28",Lm,this),t(this,"cowboy29",Jm,this),t(this,"cowboy30",qm,this),t(this,"cowboy31",Am,this),t(this,"cowboy32",xm,this),t(this,"cowboy33",Dm,this),t(this,"cowboy34",Pm,this),t(this,"cowboy35",Rm,this),t(this,"cowboy_dangerroom",Fm,this),t(this,"cowboy_dangerroom2",Im,this),t(this,"kongfu1",jm,this),t(this,"kongfu2",Bm,this),t(this,"kongfu3",Cm,this),t(this,"kongfu4",Em,this),t(this,"kongfu5",Hm,this),t(this,"kongfu6",Mm,this),t(this,"kongfu7",Om,this),t(this,"kongfu8",Sm,this),t(this,"kongfu9",Tm,this),t(this,"kongfu10",Vm,this),t(this,"kongfu11",Wm,this),t(this,"kongfu12",Gm,this),t(this,"kongfu13",Km,this),t(this,"kongfu14",Nm,this),t(this,"kongfu15",Qm,this),t(this,"kongfu16",Um,this),t(this,"kongfu17",Xm,this),t(this,"kongfu18",Ym,this),t(this,"kongfu19",Zm,this),t(this,"kongfu20",$m,this),t(this,"kongfu21",iy,this),t(this,"kongfu22",ey,this),t(this,"kongfu23",ty,this),t(this,"kongfu24",ly,this),t(this,"kongfu25",ry,this),t(this,"kongfu26",ay,this),t(this,"kongfu27",ny,this),t(this,"kongfu28",oy,this),t(this,"kongfu29",uy,this),t(this,"kongfu30",by,this),t(this,"kongfu31",sy,this),t(this,"kongfu32",py,this),t(this,"kongfu33",hy,this),t(this,"kongfu34",gy,this),t(this,"kongfu35",cy,this),t(this,"kongfu36",my,this),t(this,"kongfu37",yy,this),t(this,"kongfu38",fy,this),t(this,"kongfu39",wy,this),t(this,"kongfu40",zy,this),t(this,"kongfu_dangerroom",dy,this),t(this,"kongfu_dangerroom2",_y,this),t(this,"kongfu_dangerroom3",ky,this),t(this,"kongfu_dangerroom4",vy,this),t(this,"future1",Ly,this),t(this,"future2",Jy,this),t(this,"future3",qy,this),t(this,"future4",Ay,this),t(this,"future5",xy,this),t(this,"future6",Dy,this),t(this,"future7",Py,this),t(this,"future8",Ry,this),t(this,"future9",Fy,this),t(this,"future10",Iy,this),t(this,"future10_1",jy,this),t(this,"future10_2",By,this),t(this,"future10_3",Cy,this),t(this,"future10_4",Ey,this),t(this,"future11",Hy,this),t(this,"future12",My,this),t(this,"future13",Oy,this),t(this,"future14",Sy,this),t(this,"future15",Ty,this),t(this,"future16",Vy,this),t(this,"future17",Wy,this),t(this,"future18",Gy,this),t(this,"future19",Ky,this),t(this,"future20",Ny,this),t(this,"future21",Qy,this),t(this,"future22",Uy,this),t(this,"future23",Xy,this),t(this,"future24",Yy,this),t(this,"future25",Zy,this),t(this,"future26",$y,this),t(this,"future27",ef,this),t(this,"future28",tf,this),t(this,"future29",lf,this),t(this,"future30",rf,this),t(this,"future31",af,this),t(this,"future32",nf,this),t(this,"future33",of,this),t(this,"future34",uf,this),t(this,"future35",bf,this),t(this,"future_dangerroom",sf,this),t(this,"future_dangerroom2",pf,this),t(this,"future_dangerroom_sunbomb",hf,this),t(this,"dark1",gf,this),t(this,"dark2",cf,this),t(this,"dark3",mf,this),t(this,"dark4",yf,this),t(this,"dark5",ff,this),t(this,"dark6",wf,this),t(this,"dark7",zf,this),t(this,"dark8",df,this),t(this,"dark9",_f,this),t(this,"dark10",kf,this),t(this,"dark11",vf,this),t(this,"dark12",Lf,this),t(this,"dark13",Jf,this),t(this,"dark14",qf,this),t(this,"dark15",Af,this),t(this,"dark16",xf,this),t(this,"dark17",Df,this),t(this,"dark18",Pf,this),t(this,"dark18_1",Rf,this),t(this,"dark19",Ff,this),t(this,"dark20",If,this),t(this,"dark21",jf,this),t(this,"dark22",Bf,this),t(this,"dark23",Cf,this),t(this,"dark24",Ef,this),t(this,"dark25",Hf,this),t(this,"dark26",Mf,this),t(this,"dark27",Of,this),t(this,"dark28",Sf,this),t(this,"dark29",Tf,this),t(this,"dark30",Vf,this),t(this,"dark_dangerroom",Wf,this),t(this,"dark_dangerroom2",Gf,this),t(this,"dark_dangerroom_potion",Kf,this),t(this,"beach1",Nf,this),t(this,"beach2",Qf,this),t(this,"beach3",Uf,this),t(this,"beach4",Xf,this),t(this,"beach5",Yf,this),t(this,"beach6",Zf,this),t(this,"beach7",$f,this),t(this,"beach8",iw,this),t(this,"beach9",ew,this),t(this,"beach10",tw,this),t(this,"beach11",lw,this),t(this,"beach12",rw,this),t(this,"beach13",aw,this),t(this,"beach14",nw,this),t(this,"beach15",ow,this),t(this,"beach16",uw,this),t(this,"beach17",bw,this),t(this,"beach18",sw,this),t(this,"beach19",pw,this),t(this,"beach20",hw,this),t(this,"beach21",gw,this),t(this,"beach22",cw,this),t(this,"beach23",mw,this),t(this,"beach24",yw,this),t(this,"beach25",fw,this),t(this,"beach26",ww,this),t(this,"beach27",zw,this),t(this,"beach28",dw,this),t(this,"beach29",_w,this),t(this,"beach30",kw,this),t(this,"beach31",vw,this),t(this,"beach32",Lw,this),t(this,"beach33",Jw,this),t(this,"beach34",qw,this),t(this,"beach35",Aw,this),t(this,"beach36",xw,this),t(this,"beach37",Dw,this),t(this,"beach38",Pw,this),t(this,"beach39",Rw,this),t(this,"beach40",Fw,this),t(this,"beach41",Iw,this),t(this,"beach42",jw,this),t(this,"beach_dangerroom",Bw,this),t(this,"beach_dangerroom2",Cw,this),t(this,"beach_dangerroom_minigame_egypt",Ew,this),t(this,"beach_dangerroom_minigame_pirate",Hw,this),t(this,"beach_dangerroom_minigame_cowboy",Mw,this),t(this,"beach_dangerroom_minigame_future",Ow,this),t(this,"beach_dangerroom_minigame_dark",Sw,this),t(this,"beach_dangerroom_minigame_beach",Tw,this),t(this,"beach_dangerroom_minigame_iceage",Vw,this),t(this,"iceage1",Ww,this),t(this,"iceage2",Gw,this),t(this,"iceage3",Kw,this),t(this,"iceage4",Nw,this),t(this,"iceage5",Qw,this),t(this,"iceage6",Uw,this),t(this,"iceage7",Xw,this),t(this,"iceage8",Yw,this),t(this,"iceage9",Zw,this),t(this,"iceage10",$w,this),t(this,"iceage11",iz,this),t(this,"iceage12",ez,this),t(this,"iceage13",tz,this),t(this,"iceage14",lz,this),t(this,"iceage15",rz,this),t(this,"iceage16",az,this),t(this,"iceage17",nz,this),t(this,"iceage18",oz,this),t(this,"iceage19",uz,this),t(this,"iceage20",bz,this),t(this,"iceage21",sz,this),t(this,"iceage22",pz,this),t(this,"iceage23",hz,this),t(this,"iceage24",gz,this),t(this,"iceage25",cz,this),t(this,"iceage26",mz,this),t(this,"iceage27",yz,this),t(this,"iceage28",fz,this),t(this,"iceage29",wz,this),t(this,"iceage30",zz,this),t(this,"iceage31",dz,this),t(this,"iceage32",_z,this),t(this,"iceage33",kz,this),t(this,"iceage34",vz,this),t(this,"iceage35",Lz,this),t(this,"iceage36",Jz,this),t(this,"iceage37",qz,this),t(this,"iceage38",Az,this),t(this,"iceage39",xz,this),t(this,"iceage40",Dz,this),t(this,"iceage_dangerroom",Pz,this),t(this,"iceage_dangerroom2",Rz,this),t(this,"lostcity1",Fz,this),t(this,"lostcity2",Iz,this),t(this,"lostcity3",jz,this),t(this,"lostcity4",Bz,this),t(this,"lostcity5",Cz,this),t(this,"lostcity6",Ez,this),t(this,"lostcity7",Hz,this),t(this,"lostcity8",Mz,this),t(this,"lostcity9",Oz,this),t(this,"lostcity10",Sz,this),t(this,"lostcity11",Tz,this),t(this,"lostcity12",Vz,this),t(this,"lostcity13",Wz,this),t(this,"lostcity14",Gz,this),t(this,"lostcity15",Kz,this),t(this,"lostcity16",Nz,this),t(this,"lostcity17",Qz,this),t(this,"lostcity18",Uz,this),t(this,"lostcity19",Xz,this),t(this,"lostcity20",Yz,this),t(this,"lostcity21",Zz,this),t(this,"lostcity22",$z,this),t(this,"lostcity23",id,this),t(this,"lostcity24",ed,this),t(this,"lostcity25",td,this),t(this,"lostcity26",ld,this),t(this,"lostcity27",rd,this),t(this,"lostcity28",ad,this),t(this,"lostcity29",nd,this),t(this,"lostcity30",od,this),t(this,"lostcity31",ud,this),t(this,"lostcity32",bd,this),t(this,"lostcity_dangerroom",sd,this),t(this,"eighties1",pd,this),t(this,"eighties2",hd,this),t(this,"eighties3",gd,this),t(this,"eighties4",cd,this),t(this,"eighties5",md,this),t(this,"eighties6",yd,this),t(this,"eighties7",fd,this),t(this,"eighties8",wd,this),t(this,"eighties9",zd,this),t(this,"eighties10",dd,this),t(this,"eighties11",_d,this),t(this,"eighties12",kd,this),t(this,"eighties13",vd,this),t(this,"eighties14",Ld,this),t(this,"eighties15",Jd,this),t(this,"eighties16",qd,this),t(this,"eighties17",Ad,this),t(this,"eighties18",xd,this),t(this,"eighties19",Dd,this),t(this,"eighties20",Pd,this),t(this,"eighties21",Rd,this),t(this,"eighties22",Fd,this),t(this,"eighties23",Id,this),t(this,"eighties24",jd,this),t(this,"eighties25",Bd,this),t(this,"eighties26",Cd,this),t(this,"eighties27",Ed,this),t(this,"eighties28",Hd,this),t(this,"eighties29",Md,this),t(this,"eighties30",Od,this),t(this,"eighties31",Sd,this),t(this,"eighties32",Td,this),t(this,"eighties_dangerroom",Vd,this),t(this,"dino1",Wd,this),t(this,"dino2",Gd,this),t(this,"dino3",Kd,this),t(this,"dino4",Nd,this),t(this,"dino5",Qd,this),t(this,"dino6",Ud,this),t(this,"dino7",Xd,this),t(this,"dino8",Yd,this),t(this,"dino9",Zd,this),t(this,"dino10",$d,this),t(this,"dino11",i_,this),t(this,"dino12",e_,this),t(this,"dino13",t_,this),t(this,"dino14",l_,this),t(this,"dino15",r_,this),t(this,"dino16",a_,this),t(this,"dino17",n_,this),t(this,"dino18",o_,this),t(this,"dino19",u_,this),t(this,"dino20",b_,this),t(this,"dino21",s_,this),t(this,"dino22",p_,this),t(this,"dino23",h_,this),t(this,"dino24",g_,this),t(this,"dino25",c_,this),t(this,"dino26",m_,this),t(this,"dino27",y_,this),t(this,"dino28",f_,this),t(this,"dino29",w_,this),t(this,"dino30",z_,this),t(this,"dino31",d_,this),t(this,"dino32",__,this),t(this,"dino33",k_,this),t(this,"dino34",v_,this),t(this,"dino35",L_,this),t(this,"dino36",J_,this),t(this,"dino37",q_,this),t(this,"dino38",A_,this),t(this,"dino39",x_,this),t(this,"dino40",D_,this),t(this,"dino41",P_,this),t(this,"dino42",R_,this),t(this,"dino_dangerroom",F_,this),t(this,"dino_dangerroom2",I_,this),t(this,"modern1",j_,this),t(this,"modern2",B_,this),t(this,"modern3",C_,this),t(this,"modern4",E_,this),t(this,"modern5",H_,this),t(this,"modern6",M_,this),t(this,"modern7",O_,this),t(this,"modern8",S_,this),t(this,"modern9",T_,this),t(this,"modern10",V_,this),t(this,"modern11",W_,this),t(this,"modern12",G_,this),t(this,"modern13",K_,this),t(this,"modern14",N_,this),t(this,"modern15",Q_,this),t(this,"modern16",U_,this),t(this,"modern17",X_,this),t(this,"modern18",Y_,this),t(this,"modern19",Z_,this),t(this,"modern20",$_,this),t(this,"modern21",ik,this),t(this,"modern22",ek,this),t(this,"modern23",tk,this),t(this,"modern24",lk,this),t(this,"modern25",rk,this),t(this,"modern26",ak,this),t(this,"modern27",nk,this),t(this,"modern28",ok,this),t(this,"modern29",uk,this),t(this,"modern30",bk,this),t(this,"modern31",sk,this),t(this,"modern_zomboss_01_egypt",pk,this),t(this,"modern_zomboss_02_pirate",hk,this),t(this,"modern_zomboss_03_cowboy",gk,this),t(this,"modern_zomboss_04_future",ck,this),t(this,"modern_zomboss_05_dark",mk,this),t(this,"modern_zomboss_06_beach",yk,this),t(this,"modern_zomboss_07_iceage",fk,this),t(this,"modern_zomboss_08_lostcity",wk,this),t(this,"modern_zomboss_09_eighties",zk,this),t(this,"modern_zomboss_10_dino",dk,this),t(this,"modern35",_k,this),t(this,"modern36",kk,this),t(this,"modern37",vk,this),t(this,"modern38",Lk,this),t(this,"modern39",Jk,this),t(this,"modern40",qk,this),t(this,"modern41",Ak,this),t(this,"modern42",xk,this),t(this,"modern43",Dk,this),t(this,"modern44",Pk,this),t(this,"modern_dangerroom",Rk,this),t(this,"modern_dangerroom2",Fk,this)}).prototype,"sandbox",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ys=e(Us.prototype,"meteorflower0",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Zs=e(Us.prototype,"meteorflower1",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$s=e(Us.prototype,"meteorflower2",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ip=e(Us.prototype,"meteorflower3",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ep=e(Us.prototype,"goldbloom0",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),tp=e(Us.prototype,"goldbloom1",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),lp=e(Us.prototype,"goldbloom2",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rp=e(Us.prototype,"goldbloom3",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ap=e(Us.prototype,"squash0",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),np=e(Us.prototype,"squash1",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),op=e(Us.prototype,"squash2",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),up=e(Us.prototype,"squash3",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),bp=e(Us.prototype,"gloomshroom0",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),sp=e(Us.prototype,"gloomshroom1",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pp=e(Us.prototype,"gloomshroom2",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),hp=e(Us.prototype,"gloomshroom3",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),gp=e(Us.prototype,"gloomshroom4",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),cp=e(Us.prototype,"gloomshroom5",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),mp=e(Us.prototype,"gloomshroom6",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yp=e(Us.prototype,"gloomshroom7",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fp=e(Us.prototype,"umbrellaleaf0",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),wp=e(Us.prototype,"umbrellaleaf1",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),zp=e(Us.prototype,"umbrellaleaf2",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),dp=e(Us.prototype,"umbrellaleaf3",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_p=e(Us.prototype,"umbrellaleaf4",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),kp=e(Us.prototype,"umbrellaleaf5",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),vp=e(Us.prototype,"umbrellaleaf6",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Lp=e(Us.prototype,"umbrellaleaf7",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Jp=e(Us.prototype,"umbrellaleaf8",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qp=e(Us.prototype,"umbrellaleaf9",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ap=e(Us.prototype,"umbrellaleaf10",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xp=e(Us.prototype,"umbrellaleaf11",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Dp=e(Us.prototype,"bloominghearts0",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pp=e(Us.prototype,"bloominghearts1",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Rp=e(Us.prototype,"bloominghearts2",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fp=e(Us.prototype,"bloominghearts3",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ip=e(Us.prototype,"bloominghearts4",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),jp=e(Us.prototype,"bloominghearts5",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Bp=e(Us.prototype,"parsnip0",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Cp=e(Us.prototype,"parsnip1",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ep=e(Us.prototype,"parsnip2",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Hp=e(Us.prototype,"parsnip3",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Mp=e(Us.prototype,"parsnip4",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Op=e(Us.prototype,"parsnip5",[ii],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Sp=e(Us.prototype,"doomshroom0",[ei],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Tp=e(Us.prototype,"doomshroom1",[ti],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Vp=e(Us.prototype,"doomshroom2",[li],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Wp=e(Us.prototype,"doomshroom3",[ri],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Gp=e(Us.prototype,"doomshroom4",[ai],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Kp=e(Us.prototype,"doomshroom5",[ni],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Np=e(Us.prototype,"electriccurrant0",[oi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qp=e(Us.prototype,"electriccurrant1",[ui],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Up=e(Us.prototype,"electriccurrant2",[bi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Xp=e(Us.prototype,"electriccurrant3",[si],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Yp=e(Us.prototype,"electriccurrant4",[pi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Zp=e(Us.prototype,"electriccurrant5",[hi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$p=e(Us.prototype,"strawburst0",[gi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ih=e(Us.prototype,"strawburst1",[ci],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),eh=e(Us.prototype,"strawburst2",[mi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),th=e(Us.prototype,"strawburst3",[yi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),lh=e(Us.prototype,"strawburst4",[fi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rh=e(Us.prototype,"strawburst5",[wi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ah=e(Us.prototype,"strawburst6",[zi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),nh=e(Us.prototype,"strawburst7",[di],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),oh=e(Us.prototype,"sweetpotato0",[_i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),uh=e(Us.prototype,"sweetpotato1",[ki],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),bh=e(Us.prototype,"sweetpotato2",[vi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),sh=e(Us.prototype,"sweetpotato3",[Li],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ph=e(Us.prototype,"sweetpotato4",[Ji],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),hh=e(Us.prototype,"sweetpotato5",[qi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),gh=e(Us.prototype,"hotdate1",[Ai],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ch=e(Us.prototype,"hotdate2",[xi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),mh=e(Us.prototype,"hotdate3",[Di],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yh=e(Us.prototype,"ghostpepper0",[Pi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fh=e(Us.prototype,"ghostpepper1",[Ri],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),wh=e(Us.prototype,"ghostpepper2",[Fi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),zh=e(Us.prototype,"ghostpepper3",[Ii],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),dh=e(Us.prototype,"vamporcini0",[ji],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_h=e(Us.prototype,"vamporcini1",[Bi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),kh=e(Us.prototype,"vamporcini2",[Ci],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),vh=e(Us.prototype,"vamporcini3",[Ei],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Lh=e(Us.prototype,"sapfling0",[Hi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Jh=e(Us.prototype,"sapfling1",[Mi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qh=e(Us.prototype,"sapfling2",[Oi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ah=e(Us.prototype,"sapfling3",[Si],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xh=e(Us.prototype,"sapfling4",[Ti],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Dh=e(Us.prototype,"sapfling5",[Vi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ph=e(Us.prototype,"sapfling6",[Wi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Rh=e(Us.prototype,"sapfling7",[Gi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fh=e(Us.prototype,"solartomato0",[Ki],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ih=e(Us.prototype,"solartomato1",[Ni],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),jh=e(Us.prototype,"solartomato2",[Qi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Bh=e(Us.prototype,"solartomato3",[Ui],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ch=e(Us.prototype,"solartomato4",[Xi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Eh=e(Us.prototype,"solartomato5",[Yi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Hh=e(Us.prototype,"buttercup0",[Zi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Mh=e(Us.prototype,"buttercup1",[$i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Oh=e(Us.prototype,"buttercup2",[ie],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Sh=e(Us.prototype,"buttercup3",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Th=e(Us.prototype,"buttercup4",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Vh=e(Us.prototype,"buttercup5",[le],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Wh=e(Us.prototype,"plantern0",[re],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Gh=e(Us.prototype,"plantern1",[ae],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Kh=e(Us.prototype,"plantern2",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Nh=e(Us.prototype,"plantern3",[oe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qh=e(Us.prototype,"plantern4",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Uh=e(Us.prototype,"plantern5",[be],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Xh=e(Us.prototype,"iceshroom0",[se],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Yh=e(Us.prototype,"iceshroom1",[pe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Zh=e(Us.prototype,"iceshroom2",[he],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$h=e(Us.prototype,"iceshroom3",[ge],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ig=e(Us.prototype,"iceshroom4",[ce],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),eg=e(Us.prototype,"iceshroom5",[me],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),tg=e(Us.prototype,"appease1_0",[ye],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),lg=e(Us.prototype,"appease1_1",[fe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rg=e(Us.prototype,"appease1_2",[we],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ag=e(Us.prototype,"appease1_3",[ze],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ng=e(Us.prototype,"appease1_4",[de],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),og=e(Us.prototype,"appease1_5",[_e],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ug=e(Us.prototype,"appease1_6",[ke],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),bg=e(Us.prototype,"appease2_0",[ve],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),sg=e(Us.prototype,"appease2_1",[Le],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pg=e(Us.prototype,"appease2_2",[Je],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),hg=e(Us.prototype,"appease2_3",[qe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),gg=e(Us.prototype,"appease2_4",[Ae],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),cg=e(Us.prototype,"appease2_5",[xe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),mg=e(Us.prototype,"appease2_6",[De],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yg=e(Us.prototype,"egypt1",[Pe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fg=e(Us.prototype,"egypt2",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),wg=e(Us.prototype,"egypt3",[Fe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),zg=e(Us.prototype,"egypt4",[Ie],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),dg=e(Us.prototype,"egypt5",[je],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_g=e(Us.prototype,"egypt6",[Be],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),kg=e(Us.prototype,"egypt7",[Ce],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),vg=e(Us.prototype,"egypt8",[Ee],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Lg=e(Us.prototype,"egypt9",[He],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Jg=e(Us.prototype,"egypt10",[Me],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qg=e(Us.prototype,"egypt11",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ag=e(Us.prototype,"egypt12",[Se],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xg=e(Us.prototype,"egypt13",[Te],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Dg=e(Us.prototype,"egypt14",[Ve],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pg=e(Us.prototype,"egypt15",[We],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Rg=e(Us.prototype,"egypt16",[Ge],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fg=e(Us.prototype,"egypt17",[Ke],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ig=e(Us.prototype,"egypt18",[Ne],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),jg=e(Us.prototype,"egypt19",[Qe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Bg=e(Us.prototype,"egypt20",[Ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Cg=e(Us.prototype,"egypt20_1",[Xe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Eg=e(Us.prototype,"egypt21",[Ye],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Hg=e(Us.prototype,"egypt21_1",[Ze],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Mg=e(Us.prototype,"egypt22",[$e],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Og=e(Us.prototype,"egypt22_1",[it],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Sg=e(Us.prototype,"egypt23",[et],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Tg=e(Us.prototype,"egypt24",[tt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Vg=e(Us.prototype,"egypt24_1",[lt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Wg=e(Us.prototype,"egypt25",[rt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Gg=e(Us.prototype,"egypt26",[at],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Kg=e(Us.prototype,"egypt27",[nt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ng=e(Us.prototype,"egypt28",[ot],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qg=e(Us.prototype,"egypt29",[ut],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ug=e(Us.prototype,"egypt30",[bt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Xg=e(Us.prototype,"egypt31",[st],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Yg=e(Us.prototype,"egypt32",[pt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Zg=e(Us.prototype,"egypt33",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$g=e(Us.prototype,"egypt34",[gt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ic=e(Us.prototype,"egypt35",[ct],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ec=e(Us.prototype,"egypt_dangerroom",[mt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),tc=e(Us.prototype,"egypt_dangerroom2",[yt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),lc=e(Us.prototype,"egypt_dangerroom_minigame",[ft],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rc=e(Us.prototype,"pirate1",[wt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ac=e(Us.prototype,"pirate2",[zt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),nc=e(Us.prototype,"pirate3",[dt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),oc=e(Us.prototype,"pirate4",[_t],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),uc=e(Us.prototype,"pirate5",[kt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),bc=e(Us.prototype,"pirate6",[vt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),sc=e(Us.prototype,"pirate7",[Lt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pc=e(Us.prototype,"pirate8",[Jt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),hc=e(Us.prototype,"pirate9",[qt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),gc=e(Us.prototype,"pirate10",[At],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),cc=e(Us.prototype,"pirate11",[xt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),mc=e(Us.prototype,"pirate12",[Dt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yc=e(Us.prototype,"pirate13",[Pt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fc=e(Us.prototype,"pirate14",[Rt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),wc=e(Us.prototype,"pirate15",[Ft],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),zc=e(Us.prototype,"pirate16",[It],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),dc=e(Us.prototype,"pirate17",[jt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_c=e(Us.prototype,"pirate18",[Bt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),kc=e(Us.prototype,"pirate18_1",[Ct],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),vc=e(Us.prototype,"pirate19",[Et],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Lc=e(Us.prototype,"pirate20",[Ht],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Jc=e(Us.prototype,"pirate20_1",[Mt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qc=e(Us.prototype,"pirate21",[Ot],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ac=e(Us.prototype,"pirate22",[St],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xc=e(Us.prototype,"pirate22_1",[Tt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Dc=e(Us.prototype,"pirate23",[Vt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pc=e(Us.prototype,"pirate23_1",[Wt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Rc=e(Us.prototype,"pirate24",[Gt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fc=e(Us.prototype,"pirate24_1",[Kt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ic=e(Us.prototype,"pirate25",[Nt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),jc=e(Us.prototype,"pirate26",[Qt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Bc=e(Us.prototype,"pirate27",[Ut],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Cc=e(Us.prototype,"pirate28",[Xt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ec=e(Us.prototype,"pirate29",[Yt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Hc=e(Us.prototype,"pirate30",[Zt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Mc=e(Us.prototype,"pirate31",[$t],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Oc=e(Us.prototype,"pirate32",[il],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Sc=e(Us.prototype,"pirate33",[el],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Tc=e(Us.prototype,"pirate34",[tl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Vc=e(Us.prototype,"pirate35",[ll],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Wc=e(Us.prototype,"pirate_dangerroom",[rl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Gc=e(Us.prototype,"pirate_dangerroom2",[al],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Kc=e(Us.prototype,"cowboy1",[nl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Nc=e(Us.prototype,"cowboy2",[ol],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qc=e(Us.prototype,"cowboy3",[ul],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Uc=e(Us.prototype,"cowboy4",[bl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Xc=e(Us.prototype,"cowboy5",[sl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Yc=e(Us.prototype,"cowboy6",[pl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Zc=e(Us.prototype,"cowboy7",[hl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$c=e(Us.prototype,"cowboy8",[gl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),im=e(Us.prototype,"cowboy9",[cl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),em=e(Us.prototype,"cowboy10",[ml],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),tm=e(Us.prototype,"cowboy11",[yl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),lm=e(Us.prototype,"cowboy12",[fl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rm=e(Us.prototype,"cowboy12_1",[wl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),am=e(Us.prototype,"cowboy13",[zl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),nm=e(Us.prototype,"cowboy14",[dl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),om=e(Us.prototype,"cowboy15",[_l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),um=e(Us.prototype,"cowboy16",[kl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),bm=e(Us.prototype,"cowboy17",[vl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),sm=e(Us.prototype,"cowboy18",[Ll],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pm=e(Us.prototype,"cowboy18_1",[Jl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),hm=e(Us.prototype,"cowboy19",[ql],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),gm=e(Us.prototype,"cowboy20",[Al],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),cm=e(Us.prototype,"cowboy21",[xl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),mm=e(Us.prototype,"cowboy22",[Dl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ym=e(Us.prototype,"cowboy22_1",[Pl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fm=e(Us.prototype,"cowboy23",[Rl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),wm=e(Us.prototype,"cowboy23_1",[Fl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),zm=e(Us.prototype,"cowboy24",[Il],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),dm=e(Us.prototype,"cowboy24_1",[jl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_m=e(Us.prototype,"cowboy25",[Bl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),km=e(Us.prototype,"cowboy26",[Cl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),vm=e(Us.prototype,"cowboy27",[El],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Lm=e(Us.prototype,"cowboy28",[Hl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Jm=e(Us.prototype,"cowboy29",[Ml],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qm=e(Us.prototype,"cowboy30",[Ol],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Am=e(Us.prototype,"cowboy31",[Sl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xm=e(Us.prototype,"cowboy32",[Tl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Dm=e(Us.prototype,"cowboy33",[Vl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pm=e(Us.prototype,"cowboy34",[Wl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Rm=e(Us.prototype,"cowboy35",[Gl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fm=e(Us.prototype,"cowboy_dangerroom",[Kl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Im=e(Us.prototype,"cowboy_dangerroom2",[Nl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),jm=e(Us.prototype,"kongfu1",[Ql],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Bm=e(Us.prototype,"kongfu2",[Ul],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Cm=e(Us.prototype,"kongfu3",[Xl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Em=e(Us.prototype,"kongfu4",[Yl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Hm=e(Us.prototype,"kongfu5",[Zl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Mm=e(Us.prototype,"kongfu6",[$l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Om=e(Us.prototype,"kongfu7",[ir],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Sm=e(Us.prototype,"kongfu8",[er],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Tm=e(Us.prototype,"kongfu9",[tr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Vm=e(Us.prototype,"kongfu10",[lr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Wm=e(Us.prototype,"kongfu11",[rr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Gm=e(Us.prototype,"kongfu12",[ar],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Km=e(Us.prototype,"kongfu13",[nr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Nm=e(Us.prototype,"kongfu14",[or],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qm=e(Us.prototype,"kongfu15",[ur],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Um=e(Us.prototype,"kongfu16",[br],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Xm=e(Us.prototype,"kongfu17",[sr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ym=e(Us.prototype,"kongfu18",[pr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Zm=e(Us.prototype,"kongfu19",[hr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$m=e(Us.prototype,"kongfu20",[gr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),iy=e(Us.prototype,"kongfu21",[cr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ey=e(Us.prototype,"kongfu22",[mr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ty=e(Us.prototype,"kongfu23",[yr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ly=e(Us.prototype,"kongfu24",[fr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ry=e(Us.prototype,"kongfu25",[wr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ay=e(Us.prototype,"kongfu26",[zr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ny=e(Us.prototype,"kongfu27",[dr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),oy=e(Us.prototype,"kongfu28",[_r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),uy=e(Us.prototype,"kongfu29",[kr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),by=e(Us.prototype,"kongfu30",[vr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),sy=e(Us.prototype,"kongfu31",[Lr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),py=e(Us.prototype,"kongfu32",[Jr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),hy=e(Us.prototype,"kongfu33",[qr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),gy=e(Us.prototype,"kongfu34",[Ar],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),cy=e(Us.prototype,"kongfu35",[xr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),my=e(Us.prototype,"kongfu36",[Dr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yy=e(Us.prototype,"kongfu37",[Pr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fy=e(Us.prototype,"kongfu38",[Rr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),wy=e(Us.prototype,"kongfu39",[Fr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),zy=e(Us.prototype,"kongfu40",[Ir],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),dy=e(Us.prototype,"kongfu_dangerroom",[jr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_y=e(Us.prototype,"kongfu_dangerroom2",[Br],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ky=e(Us.prototype,"kongfu_dangerroom3",[Cr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),vy=e(Us.prototype,"kongfu_dangerroom4",[Er],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ly=e(Us.prototype,"future1",[Hr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Jy=e(Us.prototype,"future2",[Mr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qy=e(Us.prototype,"future3",[Or],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ay=e(Us.prototype,"future4",[Sr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xy=e(Us.prototype,"future5",[Tr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Dy=e(Us.prototype,"future6",[Vr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Py=e(Us.prototype,"future7",[Wr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ry=e(Us.prototype,"future8",[Gr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fy=e(Us.prototype,"future9",[Kr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Iy=e(Us.prototype,"future10",[Nr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),jy=e(Us.prototype,"future10_1",[Qr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),By=e(Us.prototype,"future10_2",[Ur],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Cy=e(Us.prototype,"future10_3",[Xr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ey=e(Us.prototype,"future10_4",[Yr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Hy=e(Us.prototype,"future11",[Zr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),My=e(Us.prototype,"future12",[$r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Oy=e(Us.prototype,"future13",[ia],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Sy=e(Us.prototype,"future14",[ea],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ty=e(Us.prototype,"future15",[ta],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Vy=e(Us.prototype,"future16",[la],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Wy=e(Us.prototype,"future17",[ra],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Gy=e(Us.prototype,"future18",[aa],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ky=e(Us.prototype,"future19",[na],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ny=e(Us.prototype,"future20",[oa],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qy=e(Us.prototype,"future21",[ua],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Uy=e(Us.prototype,"future22",[ba],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Xy=e(Us.prototype,"future23",[sa],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Yy=e(Us.prototype,"future24",[pa],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Zy=e(Us.prototype,"future25",[ha],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$y=e(Us.prototype,"future26",[ga],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ef=e(Us.prototype,"future27",[ca],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),tf=e(Us.prototype,"future28",[ma],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),lf=e(Us.prototype,"future29",[ya],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rf=e(Us.prototype,"future30",[fa],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),af=e(Us.prototype,"future31",[wa],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),nf=e(Us.prototype,"future32",[za],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),of=e(Us.prototype,"future33",[da],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),uf=e(Us.prototype,"future34",[_a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),bf=e(Us.prototype,"future35",[ka],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),sf=e(Us.prototype,"future_dangerroom",[va],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pf=e(Us.prototype,"future_dangerroom2",[La],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),hf=e(Us.prototype,"future_dangerroom_sunbomb",[Ja],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),gf=e(Us.prototype,"dark1",[qa],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),cf=e(Us.prototype,"dark2",[Aa],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),mf=e(Us.prototype,"dark3",[xa],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yf=e(Us.prototype,"dark4",[Da],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ff=e(Us.prototype,"dark5",[Pa],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),wf=e(Us.prototype,"dark6",[Ra],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),zf=e(Us.prototype,"dark7",[Fa],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),df=e(Us.prototype,"dark8",[Ia],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_f=e(Us.prototype,"dark9",[ja],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),kf=e(Us.prototype,"dark10",[Ba],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),vf=e(Us.prototype,"dark11",[Ca],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Lf=e(Us.prototype,"dark12",[Ea],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Jf=e(Us.prototype,"dark13",[Ha],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qf=e(Us.prototype,"dark14",[Ma],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Af=e(Us.prototype,"dark15",[Oa],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xf=e(Us.prototype,"dark16",[Sa],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Df=e(Us.prototype,"dark17",[Ta],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pf=e(Us.prototype,"dark18",[Va],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Rf=e(Us.prototype,"dark18_1",[Wa],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ff=e(Us.prototype,"dark19",[Ga],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),If=e(Us.prototype,"dark20",[Ka],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),jf=e(Us.prototype,"dark21",[Na],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Bf=e(Us.prototype,"dark22",[Qa],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Cf=e(Us.prototype,"dark23",[Ua],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ef=e(Us.prototype,"dark24",[Xa],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Hf=e(Us.prototype,"dark25",[Ya],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Mf=e(Us.prototype,"dark26",[Za],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Of=e(Us.prototype,"dark27",[$a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Sf=e(Us.prototype,"dark28",[en],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Tf=e(Us.prototype,"dark29",[tn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Vf=e(Us.prototype,"dark30",[ln],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Wf=e(Us.prototype,"dark_dangerroom",[rn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Gf=e(Us.prototype,"dark_dangerroom2",[an],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Kf=e(Us.prototype,"dark_dangerroom_potion",[nn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Nf=e(Us.prototype,"beach1",[on],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qf=e(Us.prototype,"beach2",[un],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Uf=e(Us.prototype,"beach3",[bn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Xf=e(Us.prototype,"beach4",[sn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Yf=e(Us.prototype,"beach5",[pn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Zf=e(Us.prototype,"beach6",[hn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$f=e(Us.prototype,"beach7",[gn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),iw=e(Us.prototype,"beach8",[cn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ew=e(Us.prototype,"beach9",[mn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),tw=e(Us.prototype,"beach10",[yn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),lw=e(Us.prototype,"beach11",[fn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rw=e(Us.prototype,"beach12",[wn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),aw=e(Us.prototype,"beach13",[zn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),nw=e(Us.prototype,"beach14",[dn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ow=e(Us.prototype,"beach15",[_n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),uw=e(Us.prototype,"beach16",[kn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),bw=e(Us.prototype,"beach17",[vn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),sw=e(Us.prototype,"beach18",[Ln],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pw=e(Us.prototype,"beach19",[Jn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),hw=e(Us.prototype,"beach20",[qn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),gw=e(Us.prototype,"beach21",[An],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),cw=e(Us.prototype,"beach22",[xn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),mw=e(Us.prototype,"beach23",[Dn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yw=e(Us.prototype,"beach24",[Pn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fw=e(Us.prototype,"beach25",[Rn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ww=e(Us.prototype,"beach26",[Fn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),zw=e(Us.prototype,"beach27",[In],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),dw=e(Us.prototype,"beach28",[jn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_w=e(Us.prototype,"beach29",[Bn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),kw=e(Us.prototype,"beach30",[Cn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),vw=e(Us.prototype,"beach31",[En],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Lw=e(Us.prototype,"beach32",[Hn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Jw=e(Us.prototype,"beach33",[Mn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qw=e(Us.prototype,"beach34",[On],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Aw=e(Us.prototype,"beach35",[Sn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xw=e(Us.prototype,"beach36",[Tn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Dw=e(Us.prototype,"beach37",[Vn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pw=e(Us.prototype,"beach38",[Wn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Rw=e(Us.prototype,"beach39",[Gn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fw=e(Us.prototype,"beach40",[Kn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Iw=e(Us.prototype,"beach41",[Nn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),jw=e(Us.prototype,"beach42",[Qn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Bw=e(Us.prototype,"beach_dangerroom",[Un],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Cw=e(Us.prototype,"beach_dangerroom2",[Xn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ew=e(Us.prototype,"beach_dangerroom_minigame_egypt",[Yn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Hw=e(Us.prototype,"beach_dangerroom_minigame_pirate",[Zn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Mw=e(Us.prototype,"beach_dangerroom_minigame_cowboy",[$n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ow=e(Us.prototype,"beach_dangerroom_minigame_future",[io],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Sw=e(Us.prototype,"beach_dangerroom_minigame_dark",[eo],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Tw=e(Us.prototype,"beach_dangerroom_minigame_beach",[to],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Vw=e(Us.prototype,"beach_dangerroom_minigame_iceage",[lo],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ww=e(Us.prototype,"iceage1",[ro],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Gw=e(Us.prototype,"iceage2",[ao],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Kw=e(Us.prototype,"iceage3",[no],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Nw=e(Us.prototype,"iceage4",[oo],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qw=e(Us.prototype,"iceage5",[uo],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Uw=e(Us.prototype,"iceage6",[bo],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Xw=e(Us.prototype,"iceage7",[so],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Yw=e(Us.prototype,"iceage8",[po],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Zw=e(Us.prototype,"iceage9",[ho],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$w=e(Us.prototype,"iceage10",[go],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),iz=e(Us.prototype,"iceage11",[co],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ez=e(Us.prototype,"iceage12",[mo],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),tz=e(Us.prototype,"iceage13",[yo],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),lz=e(Us.prototype,"iceage14",[fo],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rz=e(Us.prototype,"iceage15",[wo],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),az=e(Us.prototype,"iceage16",[zo],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),nz=e(Us.prototype,"iceage17",[_o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),oz=e(Us.prototype,"iceage18",[ko],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),uz=e(Us.prototype,"iceage19",[vo],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),bz=e(Us.prototype,"iceage20",[Lo],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),sz=e(Us.prototype,"iceage21",[Jo],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pz=e(Us.prototype,"iceage22",[qo],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),hz=e(Us.prototype,"iceage23",[Ao],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),gz=e(Us.prototype,"iceage24",[xo],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),cz=e(Us.prototype,"iceage25",[Do],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),mz=e(Us.prototype,"iceage26",[Po],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yz=e(Us.prototype,"iceage27",[Ro],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fz=e(Us.prototype,"iceage28",[Fo],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),wz=e(Us.prototype,"iceage29",[Io],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),zz=e(Us.prototype,"iceage30",[jo],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),dz=e(Us.prototype,"iceage31",[Bo],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_z=e(Us.prototype,"iceage32",[Co],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),kz=e(Us.prototype,"iceage33",[Eo],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),vz=e(Us.prototype,"iceage34",[Ho],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Lz=e(Us.prototype,"iceage35",[Mo],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Jz=e(Us.prototype,"iceage36",[Oo],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qz=e(Us.prototype,"iceage37",[So],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Az=e(Us.prototype,"iceage38",[To],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xz=e(Us.prototype,"iceage39",[Vo],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Dz=e(Us.prototype,"iceage40",[Wo],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pz=e(Us.prototype,"iceage_dangerroom",[Go],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Rz=e(Us.prototype,"iceage_dangerroom2",[Ko],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fz=e(Us.prototype,"lostcity1",[No],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Iz=e(Us.prototype,"lostcity2",[Qo],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),jz=e(Us.prototype,"lostcity3",[Uo],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Bz=e(Us.prototype,"lostcity4",[Xo],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Cz=e(Us.prototype,"lostcity5",[Yo],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ez=e(Us.prototype,"lostcity6",[Zo],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Hz=e(Us.prototype,"lostcity7",[$o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Mz=e(Us.prototype,"lostcity8",[iu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Oz=e(Us.prototype,"lostcity9",[eu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Sz=e(Us.prototype,"lostcity10",[tu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Tz=e(Us.prototype,"lostcity11",[lu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Vz=e(Us.prototype,"lostcity12",[ru],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Wz=e(Us.prototype,"lostcity13",[au],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Gz=e(Us.prototype,"lostcity14",[nu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Kz=e(Us.prototype,"lostcity15",[ou],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Nz=e(Us.prototype,"lostcity16",[uu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qz=e(Us.prototype,"lostcity17",[bu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Uz=e(Us.prototype,"lostcity18",[su],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Xz=e(Us.prototype,"lostcity19",[pu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Yz=e(Us.prototype,"lostcity20",[hu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Zz=e(Us.prototype,"lostcity21",[gu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$z=e(Us.prototype,"lostcity22",[cu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),id=e(Us.prototype,"lostcity23",[mu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ed=e(Us.prototype,"lostcity24",[yu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),td=e(Us.prototype,"lostcity25",[fu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ld=e(Us.prototype,"lostcity26",[wu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rd=e(Us.prototype,"lostcity27",[zu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ad=e(Us.prototype,"lostcity28",[du],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),nd=e(Us.prototype,"lostcity29",[_u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),od=e(Us.prototype,"lostcity30",[ku],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ud=e(Us.prototype,"lostcity31",[vu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),bd=e(Us.prototype,"lostcity32",[Lu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),sd=e(Us.prototype,"lostcity_dangerroom",[Ju],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pd=e(Us.prototype,"eighties1",[qu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),hd=e(Us.prototype,"eighties2",[Au],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),gd=e(Us.prototype,"eighties3",[xu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),cd=e(Us.prototype,"eighties4",[Du],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),md=e(Us.prototype,"eighties5",[Pu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yd=e(Us.prototype,"eighties6",[Ru],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fd=e(Us.prototype,"eighties7",[Fu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),wd=e(Us.prototype,"eighties8",[Iu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),zd=e(Us.prototype,"eighties9",[ju],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),dd=e(Us.prototype,"eighties10",[Bu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_d=e(Us.prototype,"eighties11",[Cu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),kd=e(Us.prototype,"eighties12",[Eu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),vd=e(Us.prototype,"eighties13",[Hu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ld=e(Us.prototype,"eighties14",[Mu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Jd=e(Us.prototype,"eighties15",[Ou],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qd=e(Us.prototype,"eighties16",[Su],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ad=e(Us.prototype,"eighties17",[Tu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xd=e(Us.prototype,"eighties18",[Vu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Dd=e(Us.prototype,"eighties19",[Wu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pd=e(Us.prototype,"eighties20",[Gu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Rd=e(Us.prototype,"eighties21",[Ku],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fd=e(Us.prototype,"eighties22",[Nu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Id=e(Us.prototype,"eighties23",[Qu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),jd=e(Us.prototype,"eighties24",[Uu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Bd=e(Us.prototype,"eighties25",[Xu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Cd=e(Us.prototype,"eighties26",[Yu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ed=e(Us.prototype,"eighties27",[Zu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Hd=e(Us.prototype,"eighties28",[$u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Md=e(Us.prototype,"eighties29",[ib],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Od=e(Us.prototype,"eighties30",[eb],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Sd=e(Us.prototype,"eighties31",[tb],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Td=e(Us.prototype,"eighties32",[lb],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Vd=e(Us.prototype,"eighties_dangerroom",[rb],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Wd=e(Us.prototype,"dino1",[ab],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Gd=e(Us.prototype,"dino2",[nb],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Kd=e(Us.prototype,"dino3",[ob],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Nd=e(Us.prototype,"dino4",[ub],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qd=e(Us.prototype,"dino5",[bb],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ud=e(Us.prototype,"dino6",[sb],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Xd=e(Us.prototype,"dino7",[pb],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Yd=e(Us.prototype,"dino8",[hb],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Zd=e(Us.prototype,"dino9",[gb],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$d=e(Us.prototype,"dino10",[cb],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),i_=e(Us.prototype,"dino11",[mb],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),e_=e(Us.prototype,"dino12",[yb],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),t_=e(Us.prototype,"dino13",[fb],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l_=e(Us.prototype,"dino14",[wb],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),r_=e(Us.prototype,"dino15",[zb],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a_=e(Us.prototype,"dino16",[db],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),n_=e(Us.prototype,"dino17",[_b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o_=e(Us.prototype,"dino18",[kb],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u_=e(Us.prototype,"dino19",[vb],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b_=e(Us.prototype,"dino20",[Lb],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s_=e(Us.prototype,"dino21",[Jb],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p_=e(Us.prototype,"dino22",[qb],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h_=e(Us.prototype,"dino23",[Ab],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g_=e(Us.prototype,"dino24",[xb],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c_=e(Us.prototype,"dino25",[Db],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m_=e(Us.prototype,"dino26",[Pb],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y_=e(Us.prototype,"dino27",[Rb],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f_=e(Us.prototype,"dino28",[Fb],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w_=e(Us.prototype,"dino29",[Ib],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z_=e(Us.prototype,"dino30",[jb],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d_=e(Us.prototype,"dino31",[Bb],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),__=e(Us.prototype,"dino32",[Cb],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k_=e(Us.prototype,"dino33",[Eb],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v_=e(Us.prototype,"dino34",[Hb],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L_=e(Us.prototype,"dino35",[Mb],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J_=e(Us.prototype,"dino36",[Ob],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q_=e(Us.prototype,"dino37",[Sb],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A_=e(Us.prototype,"dino38",[Tb],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x_=e(Us.prototype,"dino39",[Vb],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D_=e(Us.prototype,"dino40",[Wb],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P_=e(Us.prototype,"dino41",[Gb],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R_=e(Us.prototype,"dino42",[Kb],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F_=e(Us.prototype,"dino_dangerroom",[Nb],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I_=e(Us.prototype,"dino_dangerroom2",[Qb],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j_=e(Us.prototype,"modern1",[Ub],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B_=e(Us.prototype,"modern2",[Xb],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C_=e(Us.prototype,"modern3",[Yb],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E_=e(Us.prototype,"modern4",[Zb],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H_=e(Us.prototype,"modern5",[$b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M_=e(Us.prototype,"modern6",[is],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O_=e(Us.prototype,"modern7",[es],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S_=e(Us.prototype,"modern8",[ts],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T_=e(Us.prototype,"modern9",[ls],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V_=e(Us.prototype,"modern10",[rs],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W_=e(Us.prototype,"modern11",[as],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G_=e(Us.prototype,"modern12",[ns],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K_=e(Us.prototype,"modern13",[os],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N_=e(Us.prototype,"modern14",[us],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q_=e(Us.prototype,"modern15",[bs],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U_=e(Us.prototype,"modern16",[ss],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X_=e(Us.prototype,"modern17",[ps],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y_=e(Us.prototype,"modern18",[hs],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z_=e(Us.prototype,"modern19",[gs],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$_=e(Us.prototype,"modern20",[cs],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ik=e(Us.prototype,"modern21",[ms],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ek=e(Us.prototype,"modern22",[ys],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),tk=e(Us.prototype,"modern23",[fs],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),lk=e(Us.prototype,"modern24",[ws],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rk=e(Us.prototype,"modern25",[zs],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ak=e(Us.prototype,"modern26",[ds],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),nk=e(Us.prototype,"modern27",[_s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ok=e(Us.prototype,"modern28",[ks],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),uk=e(Us.prototype,"modern29",[vs],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),bk=e(Us.prototype,"modern30",[Ls],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),sk=e(Us.prototype,"modern31",[Js],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pk=e(Us.prototype,"modern_zomboss_01_egypt",[qs],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),hk=e(Us.prototype,"modern_zomboss_02_pirate",[As],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),gk=e(Us.prototype,"modern_zomboss_03_cowboy",[xs],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ck=e(Us.prototype,"modern_zomboss_04_future",[Ds],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),mk=e(Us.prototype,"modern_zomboss_05_dark",[Ps],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yk=e(Us.prototype,"modern_zomboss_06_beach",[Rs],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fk=e(Us.prototype,"modern_zomboss_07_iceage",[Fs],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),wk=e(Us.prototype,"modern_zomboss_08_lostcity",[Is],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),zk=e(Us.prototype,"modern_zomboss_09_eighties",[js],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),dk=e(Us.prototype,"modern_zomboss_10_dino",[Bs],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_k=e(Us.prototype,"modern35",[Cs],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),kk=e(Us.prototype,"modern36",[Es],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),vk=e(Us.prototype,"modern37",[Hs],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Lk=e(Us.prototype,"modern38",[Ms],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Jk=e(Us.prototype,"modern39",[Os],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qk=e(Us.prototype,"modern40",[Ss],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ak=e(Us.prototype,"modern41",[Ts],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xk=e(Us.prototype,"modern42",[Vs],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Dk=e(Us.prototype,"modern43",[Ws],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pk=e(Us.prototype,"modern44",[Gs],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Rk=e(Us.prototype,"modern_dangerroom",[Ks],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fk=e(Us.prototype,"modern_dangerroom2",[Ns],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qs=Us))||Qs);var Tk=i("LevelJsonAssets",(Ik=Mk("Levels"),jk=Ok(Sk),Ik(((Hk=function(i){function e(){for(var e,l=arguments.length,a=new Array(l),n=0;n<l;n++)a[n]=arguments[n];return(e=i.call.apply(i,[this].concat(a))||this).static=void 0,t(e,"lvJsons",Ek,r(e)),e}l(e,i);var a=e.prototype;return a.onLoad=function(){e.cp=this},a.getLevelJsonAsset=function(i){var e=this.lvJsons[i];return e||(e=this.lvJsons.egypt1),e},e}(u)).cp=void 0,Ek=e((Ck=Hk).prototype,"lvJsons",[jk],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Sk}}),Bk=Ck))||Bk));a._RF.pop()}}}));

System.register("chunks:///_virtual/LevelTaskCount.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UI.ts","./SoundRescourses.ts","./MultiLanguage.ts","./levelController.ts","./Mouse.ts"],(function(t){var e,i,o,n,a,s,r,l,u,c,h,m,d,p,g,b,S,C,L,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized,a=t.createClass},function(t){s=t.cclegacy,r=t._decorator,l=t.SpriteFrame,u=t.Sprite,c=t.Label,h=t.ProgressBar,m=t.Color,d=t.Vec3,p=t.tween,g=t.Component},function(t){b=t.UIInGame},function(t){S=t.sounds},function(t){C=t.MultiLanguage},function(t){L=t.LevelPlay},function(t){f=t.Mouse}],execute:function(){var T,P,v,j,w,y,k,O,K,I,Z,D,W,z,M,F,R,U,B,N,q,G,x,_,A,E,H;s._RF.push({},"1fbadP0WfJMW6dxenrWbUfI","LevelTaskCount",void 0);var V=r.ccclass,J=r.property,Q=t("LevelTaskCountModeEnum",function(t){return t[t.PlantCountLimit=0]="PlantCountLimit",t[t.PlantLoseLimit=1]="PlantLoseLimit",t[t.SunCostLimit=2]="SunCostLimit",t[t.SunProduceRequest=3]="SunProduceRequest",t[t.SunCostCountDownLimit=4]="SunCostCountDownLimit",t[t.ZombieKillCountRequest=5]="ZombieKillCountRequest",t[t.ZombieKillCountDown=6]="ZombieKillCountDown",t}({}));t("LevelTaskCount",(T=V("LevelTaskCount"),P=J(l),v=J(l),j=J(l),w=J(l),y=J(l),k=J(l),O=J(l),K=J(l),I=J(u),Z=J(u),D=J(c),W=J(h),T((F=e((M=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a))||this,o(e,"plantCountLimit",F,n(e)),o(e,"plantLoseLimit",R,n(e)),o(e,"sunCostLimit",U,n(e)),o(e,"sunProduceRequest",B,n(e)),o(e,"sunCostCountDownLimit",N,n(e)),o(e,"zombieKillCount",q,n(e)),o(e,"completeIcon",G,n(e)),o(e,"failIcon",x,n(e)),o(e,"completeOrFailSlot",_,n(e)),o(e,"icon",A,n(e)),o(e,"count",E,n(e)),o(e,"progress",H,n(e)),e.mode=0,e.objdata=void 0,e.startingObjdata=void 0,e.completed=!1,e.failed=!1,e._red=0,e.warnTween=[],e.tip="",e}i(e,t);var s=e.prototype;return s.complete=function(){this.completed||this.failed||(this.completed=!0,this.count.color=new m(0,255,0,255),this.completeOrFailSlot.spriteFrame=this.completeIcon,S.playLevelTaskComplete())},s.fail=function(){this.failed||this.completed||(b.component.loseDarken(null,"",this.tip),this.failed=!0,this.count.color=new m(255,0,0,255),this.completeOrFailSlot.spriteFrame=this.failIcon,S.playLevelTaskFail())},s.judgeVictory=function(){switch(this.mode){case Q.PlantCountLimit:case Q.PlantLoseLimit:break;case Q.SunCostCountDownLimit:if(!this.completed)return this.fail(),!1;break;case Q.SunCostLimit:break;case Q.SunProduceRequest:if(!this.completed)return this.fail(),!1;break;case Q.ZombieKillCountRequest:break;case Q.ZombieKillCountDown:if(!this.completed)return this.fail(),!1}return!0},s.playWarn=function(){this.completed||this.failed||(this.warnTween.forEach((function(t){t.stop()})),this.icon.node.scale=new d(1.2,1.2,1),this.red=200,this.warnTween=[p(this.icon.node).to(.5,{scale:new d(1,1,1)}).start(),p(this).to(.5,{red:0}).start()],S.playLevelTaskWarn())},s.changeObjdata=function(t,e){var i=this;if(t==this.mode&&!this.completed&&!this.failed)switch(t){case Q.PlantCountLimit:var o,n=this.startingObjdata.MaximumPlants-e.AllPlantCount;null==(o=f.mouseInLnC)||o.readIndex();var a=C.getStringByPropsWithoutTricks("InGameScene","Challenge","Left");this.count.string=a.replace("<COUNT>",n.toString());break;case Q.PlantLoseLimit:if(this.objdata.LeftPlantsToLose--,this.objdata.LeftPlantsToLose<0){this.objdata.LeftPlantsToLose=0;this.startingObjdata.MaximumPlantsLost;this.fail()}else 0==this.objdata.LeftPlantsToLose&&this.playWarn();var s=C.getStringByPropsWithoutTricks("InGameScene","Challenge","Left");this.count.string=s.replace("<COUNT>",this.objdata.LeftPlantsToLose.toString());break;case Q.SunCostCountDownLimit:this.objdata.LeftTime=this.startingObjdata.HoldoutSeconds;break;case Q.SunCostLimit:this.objdata.LeftSun-=e.CostSun,this.objdata.LeftSun<0?(this.fail(),this.objdata.LeftSun=0):this.objdata.LeftSun<=100&&this.playWarn();var r=C.getStringByPropsWithoutTricks("InGameScene","Challenge","Left");this.count.string=r.replace("<COUNT>",this.objdata.LeftSun.toString());break;case Q.SunProduceRequest:this.objdata.SunProduced+=e.SunProduceAdd,this.objdata.SunProduced>=this.startingObjdata.TargetSun&&(this.complete(),this.objdata.SunProduced=this.startingObjdata.TargetSun),this.count.string=this.objdata.SunProduced.toString()+"/"+this.startingObjdata.TargetSun.toString();break;case Q.ZombieKillCountRequest:break;case Q.ZombieKillCountDown:this.scheduleOnce((function(){i.completed||(i.objdata.KilledZombiesCount--,i.progress.progress=i.objdata.KilledZombiesCount/i.startingObjdata.ZombiesToKill,i.count.string=i.objdata.KilledZombiesCount.toString()+"/"+i.startingObjdata.ZombiesToKill.toString())}),this.startingObjdata.Time),this.objdata.KilledZombiesCount++;var l=this.objdata.KilledZombiesCount/this.startingObjdata.ZombiesToKill;l>=1&&this.complete(),this.progress.progress=l,this.count.string=this.objdata.KilledZombiesCount.toString()+"/"+this.startingObjdata.ZombiesToKill.toString()}},s.switchMode=function(t,e){var i;switch(t){case Q.PlantCountLimit:this.icon.spriteFrame=this.plantCountLimit,this.count.node.active=!0,this.progress.node.active=!1;var o=e.MaximumPlants,n=C.getStringByPropsWithoutTricks("InGameScene","Challenge","Left");this.count.string=n.replace("<COUNT>",o.toString()),this.objdata={};var a=C.getStringByPropsWithoutTricks("InGameScene","Challenge","PlantCountLimit");a=(a=a.replace("<PLANTCOUNT>",o.toString())).replace("<S>",o>1?"s":""),this.tip=a;break;case Q.PlantLoseLimit:this.icon.spriteFrame=this.plantLoseLimit,this.count.node.active=!0,this.progress.node.active=!1,this.objdata={LeftPlantsToLose:e.MaximumPlantsLost};var s=this.objdata.LeftPlantsToLose,r=C.getStringByPropsWithoutTricks("InGameScene","Challenge","Left");this.count.string=r.replace("<COUNT>",s.toString());var l=C.getStringByPropsWithoutTricks("InGameScene","Challenge","PlantLoseLimit");l=(l=l.replace("<PLANTCOUNT>",s.toString())).replace("<S>",s>1?"s":""),this.tip=l;break;case Q.SunCostCountDownLimit:this.icon.spriteFrame=this.sunCostCountDownLimit,this.count.node.active=!0,this.progress.node.active=!1;var u=e.HoldoutSeconds;this.count.string=this.getTimeStr(u),this.objdata={LeftTime:u};var c=C.getStringByPropsWithoutTricks("InGameScene","Challenge","SunCostCountdown");c=(c=c.replace("<TIME>",u.toString())).replace("<S>",u>1?"s":""),this.tip=c;break;case Q.SunCostLimit:this.icon.spriteFrame=this.sunCostLimit,this.count.node.active=!0,this.progress.node.active=!1;var h=e.MaximumSun,m=C.getStringByPropsWithoutTricks("InGameScene","Challenge","Left");this.count.string=m.replace("<COUNT>",h.toString()),this.objdata={LeftSun:h};var d=C.getStringByPropsWithoutTricks("InGameScene","Challenge","SunCostLimit");d=d.replace("<SUNCOUNT>",h.toString()),this.tip=d;break;case Q.SunProduceRequest:this.icon.spriteFrame=this.sunProduceRequest,this.count.node.active=!0,this.progress.node.active=!1,this.objdata={SunProduced:0};var p=e.TargetSun;this.count.string=this.objdata.SunProduced.toString()+"/"+p.toString();var g=C.getStringByPropsWithoutTricks("InGameScene","Challenge","SunProduceRequest");g=g.replace("<SUNCOUNT>",p.toString()),this.tip=g;break;case Q.ZombieKillCountRequest:this.icon.spriteFrame=this.zombieKillCount,this.count.node.active=!0,this.progress.node.active=!1;break;case Q.ZombieKillCountDown:this.icon.spriteFrame=this.zombieKillCount,this.count.node.active=!0,this.progress.node.active=!0,this.objdata={KilledZombiesCount:0},this.count.string=this.objdata.KilledZombiesCount.toString()+"/"+e.ZombiesToKill.toString(),this.progress.progress=0;var S=e.ZombiesToKill,L=e.Time,f=C.getStringByPropsWithoutTricks("InGameScene","Challenge","ZombieKillCountDown");f=(f=(f=(f=f.replace("<ZOMBIECOUNT>",S.toString())).replace("<ZS>",S>1?"s":"")).replace("<TIME>",L.toString())).replace("<TS>",L>1?"s":""),this.tip=f}this.mode=t,this.startingObjdata=e,null!=(i=this.tip)&&i.length&&b.component.pushGamePreStartTip(this.tip)},s.getTimeStr=function(t){t<0&&(t=0);var e=Math.floor(t/60),i=e.toString();1==i.length?i="0"+i:0==i.length&&(i="00");var o=t-60*e,n=Math.floor(o).toString();return 1==n.length?n="0"+n:0==n.length&&(n="00"),i+":"+n},s.update=function(t){if(L.gaming&&!this.completed)switch(this.mode){case Q.SunCostCountDownLimit:this.objdata.LeftTime-=t,this.count.string=this.getTimeStr(this.objdata.LeftTime),this.objdata.LeftTime<=0&&this.complete()}},a(e,[{key:"red",get:function(){return this._red},set:function(t){this.icon.color=new m(255,255-t,255-t,255),this.count.color=new m(255,255-t,255-t,255),this._red=t}}]),e}(g)).prototype,"plantCountLimit",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=e(M.prototype,"plantLoseLimit",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=e(M.prototype,"sunCostLimit",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=e(M.prototype,"sunProduceRequest",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=e(M.prototype,"sunCostCountDownLimit",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=e(M.prototype,"zombieKillCount",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=e(M.prototype,"completeIcon",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=e(M.prototype,"failIcon",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=e(M.prototype,"completeOrFailSlot",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=e(M.prototype,"icon",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=e(M.prototype,"count",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=e(M.prototype,"progress",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=M))||z));s._RF.pop()}}}));

System.register("chunks:///_virtual/lightningCloud.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Character.ts","./CharacterManager.ts","./ArrayGet.ts","./SoundRescourses.ts","./levelController.ts"],(function(t){var i,e,n,o,a,r,s,l,h,u,d,c,g,m,f,b,p;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,s=t.AudioClip,l=t.dragonBones,h=t.Vec2},function(t){u=t.Character},function(t){d=t.ZombiePool,c=t.TombPool,g=t.ZombieDamageDetails,m=t.ZombieDamageType},function(t){f=t.ArrayGet},function(t){b=t.sounds},function(t){p=t.LevelPlay}],execute:function(){var y,T,v,w,S,P,D,L,A,Z,C;a._RF.push({},"ca725n3XwpDrbvOa/hbYx8P","lightningCloud",void 0);var z=r.ccclass,x=r.property;t("lightningCloud",(y=z("lightningCloud"),T=x(Number),v=x(Number),w=x([s]),S=x([s]),y((L=i((D=function(t){function i(){for(var i,e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return(i=t.call.apply(t,[this].concat(a))||this).targetZombie=void 0,i.targetTomb=void 0,i.tweening=null,i.fading=!1,n(i,"dps",L,o(i)),n(i,"liveDuration",A,o(i)),i.leftTime=15,i.switching=!1,n(i,"thunderSound",Z,o(i)),n(i,"fadeSound",C,o(i)),i}e(i,t);var a=i.prototype;return a.characterOnLoad=function(){this.db.on(l.EventObject.FRAME_EVENT,this.animationListener,this)},a.hideLightnings=function(t){this.db.armature().getSlots().forEach((function(i){i.name.includes("LIGHTNING")&&i._setDisplayIndex(t)}))},a.getTarget=function(){var t=f.getRandom(d.pool());if(t)this.targetZombie=t;else{var i=f.randomize(c.pool()).find((function(t){return!t.hidden&&!t.hotpotatoTween}));i&&(this.targetTomb=i)}},a.animationListener=function(t){"move"==t.name?(this.switching=!1,this.db.playAnimation("Idle")):"die"==t.name&&(this.db.playAnimation("Idle"),this.node.destroy())},a.characterOnEnable=function(){this.db.armature().getSlots().forEach((function(t){t.displayIndex=0})),this.fading=!1,this.targetTomb=null,this.targetZombie=null,this.leftTime=this.liveDuration,this.db.playAnimation("Spawn"),this.switching=!0},a.moveToTarget=function(t,i){var e=new h(i.shadeSocket.worldPosition.x,i.worldPositionY).subtract(this.worldPosition),n=e.clone(),o=1e3*t;if(e.length()>o&&(e=e.normalize().multiplyScalar(o)),this.worldPositionX+=e.x,this.worldPositionY+=e.y,new h(i.shadeSocket.worldPosition.x,i.worldPositionY).subtract(this.worldPosition).length()<=50){n.length()>50&&this.playThunderSound();var a=new g(this.dps*t,!0,!1,!1,null,m.electricity);this.targetZombie?(this.targetZombie.dealDamage(a),this.targetZombie.isAlive()||(this.targetZombie=null)):this.targetTomb&&(this.targetTomb.dealDamage(a),this.targetTomb.isAlive()||(this.targetTomb=null)),this.hideLightnings(0)}else this.hideLightnings(-1)},a.characterOnDisable=function(){var t;null==(t=this.tweening)||t.stop()},a.fade=function(){var t;this.playFadeSound(),null==(t=this.tweening)||t.stop(),this.fading=!0,this.db.playAnimation("Fade"),this.hideLightnings(0)},a.characterOnLaneChange=function(t,i){this.node.setParent(i.prjLayer,!0)},a.characterUpdate=function(t){this.fading||this.switching||!p.gaming||(this.targetZombie?this.moveToTarget(t,this.targetZombie):this.targetTomb?this.moveToTarget(t,this.targetTomb):(this.hideLightnings(-1),this.getTarget()),this.leftTime-=t,this.leftTime<=0&&this.fade())},a.playThunderSound=function(){b.playArray(this.thunderSound,1,.1)},a.playFadeSound=function(){b.playArray(this.fadeSound,1,.1)},i}(u)).prototype,"dps",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 200}}),A=i(D.prototype,"liveDuration",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 15}}),Z=i(D.prototype,"thunderSound",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C=i(D.prototype,"fadeSound",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),P=D))||P));a._RF.pop()}}}));

System.register("chunks:///_virtual/LightningReed.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./Zombie.ts","./CharacterManager.ts","./NodePools.ts","./Square.ts","./Tomb.ts","./lightningCloud.ts","./SoundRescourses.ts","./ParticleSelfdestroy.ts"],(function(n){var t,e,i,o,a,r,l,s,u,c,d,h,p,g,f,y,b,m,P,w,S,v,L,C;return{setters:[function(n){t=n.applyDecoratedDescriptor,e=n.inheritsLoose,i=n.initializerDefineProperty,o=n.assertThisInitialized},function(n){a=n.cclegacy,r=n._decorator,l=n.AudioClip,s=n.Prefab,u=n.Node,c=n.Vec3,d=n.Vec2,h=n.instantiate},function(n){p=n.Plant,g=n.PlantProps},function(n){f=n.Zombie},function(n){y=n.ZombieDamageDetails,b=n.ZombieDamageType,m=n.Rectangle},function(n){P=n.NodePools},function(n){w=n.Square},function(n){S=n.Tomb},function(n){v=n.lightningCloud},function(n){L=n.sounds},function(n){C=n.ParticleSelfdestroy}],execute:function(){var R,k,D,A,x,_,j,z,E,O,F,q,I,N,T,B,H,M,U,W,Z,V,X,G;a._RF.push({},"ccf60n8TrRPVbF6qWd8WsSa","LightningReed",void 0);var Y=r.ccclass,J=r.property,K=function(n){function t(){for(var t,e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return(t=n.call.apply(n,[this].concat(i))||this).Damage=10,t.SplashDamage=10,t.SplashCount=3,t.AttackInterval=.95,t.AttackIntervalAdditional=.1,t.PlantfoodDPS=200,t.PlantfoodDuration=15,t.RedAttackStunDuration=.5,t}return e(t,n),t}(g),Q=n("lightningreed",function(){function n(){}return n.spawnParticleLink=function(n,t,e,i,o,a){void 0===a&&(a=null);var r=[],l=P.instantiatePooly(a||e);l.parent=o,l.worldPosition=new c(n.x,n.y,0),l.angle=Math.atan2(t.y-n.y,t.x-n.x)/Math.PI*180;var s=l.getComponent(C);s&&r.push(s);for(var u=l.getChildByName("tail").worldPosition.clone(),h=new d(u.x-n.x,u.y-n.y),p=new d(t.x-u.x,t.y-u.y),g=0;h.y*p.y+h.x*p.x>0&&g<10;){var f=P.instantiatePooly(e);f.parent=l.parent,f.worldPosition=u,f.angle=l.angle;var y=f.getComponent(C);y&&r.push(y),u=f.getChildByName("tail").worldPosition.clone(),p=new d(t.x-u.x,t.y-u.y),h=new d(u.x-n.x,u.y-n.y),g++}var b=null;if(i){var m=P.instantiatePooly(i);m.parent=o,m.worldPosition=new c(t.x,t.y,0),b=m.getComponent(C)}return{links:r,hit:b}},n}()),$=(R=Y("lightningreedSound"),k=J([l]),D=J([l]),A=J([l]),R((j=t((_=function(){function n(){i(this,"attackSound",j,this),i(this,"foodSound",z,this),i(this,"foodEndSound",E,this)}var t=n.prototype;return t.playAttackSound=function(){L.playArray(this.attackSound,1,.2)},t.playFoodSound=function(){L.playArray(this.foodSound,1,.1)},t.playFoodEndSound=function(){L.playArray(this.foodEndSound,1,.1)},n}()).prototype,"attackSound",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=t(_.prototype,"foodSound",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),E=t(_.prototype,"foodEndSound",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),x=_))||x);n("LightningReedPlant",(O=Y("LightningReed"),F=J($),q=J(s),I=J(s),N=J(s),T=J(s),B=J(u),O((U=t((M=function(n){function t(){for(var t,e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return(t=n.call.apply(n,[this].concat(a))||this)._objdataOwn=new K,i(t,"soundRes",U,o(t)),i(t,"lightningCloud",W,o(t)),t.detector=void 0,i(t,"hitParticle",Z,o(t)),i(t,"linkParticle",V,o(t)),i(t,"linkStartParticle",X,o(t)),i(t,"particleSpawnPoint",G,o(t)),t.busy=0,t}e(t,n);var a=t.prototype;return a.specialPlantOnEnable=function(){},a.animationListener=function(n){"foodEnd"==n.name&&this.foodEnd()},a.playAttack=function(){var n=this;if(this.inLane){var t=this.inLane.zombiePool().concat(this.inLane.UpperLane.zombiePool(),this.inLane.LowerLane.zombiePool()),e=this.inLane.tombPool().concat(this.inLane.UpperLane.tombPool(),this.inLane.LowerLane.tombPool());if(t.length<=0&&e.length<=0)return;var i=null,o=1/0;if(t.forEach((function(t){var e=t.bodyRecForShooter,a=e.prjX().x;t.isAlive()&&e.judgeCrossRec(n.detector)&&a<o&&(i=t.node,o=a)})),e.forEach((function(t){var e=t.bodyRec,a=e.prjX().x;null!=t&&t.isAlive()&&e.judgeCrossRec(n.detector)&&a<o&&(i=t.node,o=a)})),i){var a,r;this.anmControl.playAnimation("Attack"),this.soundRes.playAttackSound(),this.busy=this._objdataOwn.AttackInterval+this._objdataOwn.AttackIntervalAdditional*Math.random(),this._cdScale&&(this.busy*=this._cdScale);var l=this.particleSpawnPoint.worldPosition,s=this.spawnParticle(new d(l.x,l.y),i),u=new y(this._objdataOwn.Damage,!0,!1,!1,null,b.electricity),c=new y(this._objdataOwn.SplashDamage,!0,!1,!1,null,b.electricity),h=this.highRedCD>0;u.shockRGB=h?1:0,c.shockRGB=h?1:0,this._dmgScale&&(u=u.replaceDamage(u.damage*this._dmgScale),c=c.replaceDamage(c.damage*this._dmgScale));var p=null==(a=i)?void 0:a.getComponent(f);null==p||p.dealDamage(u),h&&(null==p||p.setStun(this._objdataOwn.RedAttackStunDuration)),null==(r=i)||null==(r=r.getComponent(S))||r.dealDamage(u);for(var g=[i],P=this._objdataOwn.SplashCount,v=function(){var n=null,t=g[L].getComponent(f),e=g[L].getComponent(S);t&&(n=t),e&&(n=e);var i=m.createRectangleCenter(new d(n.node.worldPosition.x,n.inLane.midY),3*w.SquareWidth,3*w.SquareHeight),o=[].concat(n.inLane.zombiePool(),n.inLane.UpperLane.zombiePool(),n.inLane.LowerLane.zombiePool(),n.inLane.tombPool(),n.inLane.UpperLane.tombPool(),n.inLane.LowerLane.tombPool()),a=null,r=1/0;if(o.forEach((function(n){var t=n.bodyRec,e=t.prjX().x;-1==g.indexOf(n.node)&&t.judgeCrossRec(i)&&e<r&&(a=n.node,r=e)})),!a)return 1;g.push(a)},L=0;L<P&&!v();L++);for(var C=1;C<g.length;C++){var R,k,D=this.spawnParticle(s,g[C]),A=null==(R=g[C])?void 0:R.getComponent(f);null==A||A.dealDamage(c),h&&(null==A||A.setStun(this._objdataOwn.RedAttackStunDuration)),null==(k=g[C])||null==(k=k.getComponent(S))||k.dealDamage(c),s=D}}}},a.specialPlantFood=function(n){this.anmControl.playAnimation("Food");var t=h(this.lightningCloud);t.parent=this.inLane.prjLayer;var e=t.getComponent(v);e.leftTime=this._objdataOwn.PlantfoodDuration,e.dps=this._objdataOwn.PlantfoodDPS,this._dmgScale&&(e.dps*=this._dmgScale),e.worldPosition=this.worldPosition,this.busy=1/0,this.soundRes.playFoodSound()},a.specialPlantFoodEnd=function(){this.busy=0,this.soundRes.playFoodEndSound()},a.setDetector=function(n){this.detector=m.createRectangleNodeSide(n.node,(9-n.cIndex)*w.SquareWidth,3*w.SquareHeight)},a.specialPlantOnSquareChange=function(n,t){this.setDetector(t)},a.spawnParticle=function(n,t){var e=30,i=t.getComponent(f);i?e=i.zombieHeight/2:i=t.getComponent(S);var o=new d(t.worldPosition.x,t.worldPosition.y+e),a=Q.spawnParticleLink(n,o,this.linkParticle,this.hitParticle,i.inLane.prjLayer,this.linkStartParticle),r=this.highRedCD>0;return a.links.concat(a.hit).forEach((function(n){n&&(n.HighRed=r?1:0)})),o},a.specialPlantUpdate=function(n,t,e){this.busy>0&&(this.busy-=n),this.busy<=0&&e>0&&(this.busy=0,this.playAttack())},t}(p)).prototype,"soundRes",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new $}}),W=t(M.prototype,"lightningCloud",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=t(M.prototype,"hitParticle",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=t(M.prototype,"linkParticle",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=t(M.prototype,"linkStartParticle",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=t(M.prototype,"particleSpawnPoint",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=M))||H));a._RF.pop()}}}));

System.register("chunks:///_virtual/LilyPad.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./LnC.ts","./Plants.ts","./GridItem.ts","./Square.ts"],(function(n){var t,i,a,e,l,o,r,s,d,h,p,c,u,m;return{setters:[function(n){t=n.applyDecoratedDescriptor,i=n.inheritsLoose,a=n.initializerDefineProperty,e=n.assertThisInitialized},function(n){l=n.cclegacy,o=n._decorator,r=n.Node,s=n.Vec3},function(n){d=n.Plant},function(n){h=n.TileType},function(n){p=n.PlantEnum},function(n){c=n.GridItemEnum,u=n.GridItem},function(n){m=n.Square}],execute:function(){var P,f,C,I,L;l._RF.push({},"1b9c3GHtI9PObuuX4YmxksO","LilyPad",void 0);var y=o.ccclass,g=o.property;n("LilyPadPlant",(P=y("LilyPad"),f=g(r),P((L=t((I=function(n){function t(){for(var t,i=arguments.length,l=new Array(i),o=0;o<i;o++)l[o]=arguments[o];return t=n.call.apply(n,[this].concat(l))||this,a(t,"plantPoint",L,e(t)),t.planted=!1,t._gridItemComponent=void 0,t.oldIdle="",t.oldRand=[],t.animationWatered=!1,t}i(t,n);var l=t.prototype;return l.onLeapStart=function(n,t){var i;null==(i=n.getAllPlants())||i.forEach((function(n){n.height_depth=0}))},l.specialPlantOnSquareChange=function(n,t){var i;this.node.setParent(m.lilypadLayer,!0),null==(i=this._gridItemComponent)||i.setGridItemType([c.lilypad])},l.specialPlantDie=function(n){void 0===n&&(n=!1),n||this.plantInLnC.readTileType(),this.plantInLnC.correctPlantPoint(),this._gridItemComponent.delete()},l.spawnZombie=function(n,t){return this.inLnC&&n&&!isNaN(t)?this.inLnC.SpawnZombieByRTID(n,t,!0,.5,0,{},!0,!1,!1):[]},l.specialPlantOnLoad=function(){this.foodParent=m.lilypadLayer,this.getComponent(u)||this.addComponent(u),this._gridItemComponent=this.getComponent(u),this._gridItemComponent._component=this},l.specialPlantFood=function(n){var t=this;n&&[this.plantInLnC,this.plantInLnC.upper,this.plantInLnC.lefter,this.plantInLnC.righter,this.plantInLnC.lower].forEach((function(n){var i,a;(null!=n&&n.isInLawn()&&null!=n&&n.putPlantAvailable(!0,t.ID)&&(null==n||n.SpawnPlant(p.LilyPad)),null!=n&&n.haveLilyPad&&null!=n&&null!=(i=n.lilyPad)&&i.isValid)&&(null==n||null==(a=n.lilyPad)||null==(a=a.getComponent(d))||a.food(!1))})),this.foodEnd()},l.onCommonshotHit=function(n){return!1},l.addPlant=function(){!this.planted&&this.plantInLnC.haveP()&&(this.planted=!0,this.foodable=!1)},l.unPlant=function(){this.planted&&!this.plantInLnC.haveP()&&(this.planted=!1,this.foodable=!0)},l.animationListener=function(n){"FoodEnd"==n.name&&this.foodEnd()},l.specialPlantOnEnable=function(){this.planted=!1,this._gridItemComponent.register(),this.animationWatered=!1,this.oldRand=this.anmControl.RandomAnim,this.oldIdle=this.anmControl.IdleAnim},l.changeAnimation=function(n){n!=h.water||this.animationWatered?n!=h.water&&this.animationWatered&&(this.animationWatered=!1,this.anmControl.IdleAnim=this.oldIdle,this.anmControl.RandomAnim=this.oldRand,this.anmControl.playIdle()):(this.animationWatered=!0,this.anmControl.IdleAnim="Idle_Water",this.anmControl.RandomAnim=["Rand1_Water","Rand2_Water","Rand3_Water","Rand4_Water","Rand5_Water"],this.anmControl.playIdle())},l.getEaterDetectable=function(n){var t,i=this,a=!0;return n==h.water&&(null==(t=this.plantInLnC)||t.getAllPlants().forEach((function(n){a&&n!=i&&n.eaterDetectable&&(a=!1)})),a)},l.specialPlantUpdateForce=function(n,t,i){!this.dead&&this.plantInLnC&&this.plantInLnC.setPPWdPos(this.plantInLnC.plantPoint.worldPosition.clone().add(new s(0,this.plantPoint.worldPosition.y-this.worldPositionY,0)));var a=this.inLnC.getTileType();this.changeAnimation(a),this.eaterDetectable=this.getEaterDetectable(a),!this.planted&&this.plantInLnC.haveP()?this.addPlant():this.planted&&!this.plantInLnC.haveP()&&this.unPlant()},t}(d)).prototype,"plantPoint",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=I))||C));l._RF.pop()}}}));

System.register("chunks:///_virtual/LnC.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Square.ts","./UI.ts","./ArrayGet.ts","./NodePools.ts","./CharacterManager.ts","./Particles.ts","./Plant.ts","./Lane.ts","./SoundRescourses.ts","./levelController.ts","./PlantFoodCount.ts","./Tombs.ts","./Tomb.ts","./Plants.ts","./Sunflower.ts","./GroundFire.ts","./SandBoxLevelSettingWindow.ts","./Zombies.ts","./SandBoxZombieCards.ts","./Cards.ts","./PowerupFingers.ts","./LevelTaskCount.ts","./moldSquare.ts","./Tiles.ts","./flowerLine.ts","./railway.ts","./FrontYard.ts","./cart.ts","./Mouse.ts","./Tile.ts","./GridItem.ts","./TileLiquid.ts","./Character.ts","./DarkWizardSheep.ts","./SunCount.ts","./trapTile.ts","./AnimationController.ts","./Materials.ts","./JSONs.ts","./Portal.ts","./shadeFloor.ts","./PlayerProperties.ts"],(function(t){var e,i,n,o,a,l,r,s,h,d,u,c,p,f,P,v,w,m,g,y,L,b,I,C,S,T,x,k,D,E,q,_,B,F,O,A,M,U,R,G,z,N,j,Z,W,Y,H,X,V,J,K,Q,$,tt,et,it,nt,ot,at,lt,rt,st,ht,dt,ut,ct,pt,ft,Pt,vt;return{setters:[function(t){e=t.inheritsLoose,i=t.asyncToGenerator,n=t.createClass,o=t.regeneratorRuntime},function(t){a=t.cclegacy,l=t._decorator,r=t.Vec3,s=t.find,h=t.dragonBones,d=t.Vec2,u=t.EventMouse,c=t.Component,p=t.instantiate,f=t.math,P=t.Color},function(t){v=t.Square},function(t){w=t.UIInGame},function(t){m=t.ArrayGet},function(t){g=t.NodePools,y=t.instantiatePooly},function(t){L=t.Rectangle,b=t.ZombieDamageDetails,I=t.ZombieDamageType,C=t.PlantPool},function(t){S=t.groundFireParticles,T=t.tileLiquids,x=t.particle},function(t){k=t.Plant,D=t.PlantType},function(t){E=t.Lane},function(t){q=t.sounds},function(t){_=t.LevelPlay},function(t){B=t.PlantFoodCount},function(t){F=t.TombEnum,O=t.tombs},function(t){A=t.Tomb},function(t){M=t.plants,U=t.PlantEnum},function(t){R=t.sunflower},function(t){G=t.GroundFireColorEnum,z=t.GroundFire,N=t.GroundFireSpreadStyleEnum},function(t){j=t.SandBoxLevelSettingWindow},function(t){Z=t.zombies},function(t){W=t.SandBoxZombieCards},function(t){Y=t.Cards},function(t){H=t.PowerupFingers},function(t){X=t.LevelTaskCountModeEnum},function(t){V=t.moldSquare},function(t){J=t.TileEnum,K=t.tiles},function(t){Q=t.flowerLine},function(t){$=t.railway},function(t){tt=t.FrontYard},function(t){et=t.cart},function(t){it=t.Mouse},function(t){nt=t.Tile},function(t){ot=t.GridItemEnum},function(t){at=t.TileLiquid},function(t){lt=t.CharacterScale},function(t){rt=t.DarkWizardSheep},function(t){st=t.SunCount},function(t){ht=t.trapTile},function(t){dt=t.AnimationController},function(t){ut=t.materialRes},function(t){ct=t.PvZ2Object,pt=t.PvZ2ObjectContainer},function(t){ft=t.Portal},function(t){Pt=t.shadeFloor},function(t){vt=t.AllPlayerProperties}],execute:function(){var wt;a._RF.push({},"d770bq07m9CtYSeiXYu7H9t","LnC",void 0);var mt=l.ccclass,gt=(l.property,t("LnCSpawnZombieStyleEnum",function(t){return t[t.directPut=0]="directPut",t[t.fromLane=1]="fromLane",t[t.dirtSpawn=2]="dirtSpawn",t[t.sandStorm=3]="sandStorm",t[t.snowStorm=4]="snowStorm",t[t.amount=5]="amount",t}({}))),yt=t("TileType",function(t){return t[t.solid=0]="solid",t[t.sky=1]="sky",t[t.water=2]="water",t[t.sea=3]="sea",t[t.deck=4]="deck",t}({})),Lt=t("TileLiquidEnum",function(t){return t[t.none=0]="none",t[t.sapfling=1]="sapfling",t[t.butter=2]="butter",t[t.cranjelly=3]="cranjelly",t[t.moltenpool=4]="moltenpool",t[t.lavaguava=5]="lavaguava",t}({}));t("LnC",mt("LnC")(wt=function(t){function a(){for(var e,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this).iceTile=null,e.cIndex=-2,e.lIndex=-2,e.squareLower=void 0,e.RowParent=void 0,e.UIInGame=null,e.rec=L.createRectangleCenter(new d(0,0),0,0),e.zombieShields=[],e.oldTileLiquid=void 0,e.currentTileLiquid=Lt.none,e.tileLiquidCountdown=0,e._tileType=yt.solid,e.index=0,e.indexPoint=0,e.ghostPoint=null,e._plantPoint=null,e.orgPlantPoint=null,e.particleLowerPoint=null,e.potPoint=null,e.potPointUpper=null,e.vinePoint=null,e.vineBackPoint=null,e.buffParticlePoint=null,e.havePeaBuff=!1,e.peaBuffParticle=null,e.darkBuffParticle=null,e._shadowCD=0,e.plantInSquare=[],e.vineInSquare=[],e.tilePlantInSquare=[],e.imitaterInSquare=[],e.crackedTile=null,e.crackedTileSparkle=null,e._crackleCountdown=0,e.spawningPromiseCount=0,e.delayMouseDownPlantsOnCart=[],e.tilesInSquare=[],e.plantCooling=!1,e.vineCooling=!1,e.potCooling=!1,e.lilyCooling=!1,e._hotpotato=void 0,e.gridZombiesInSquare=[],e._tombParent=void 0,e.deadPlant=NaN,e.deadPlantGhost=null,e.sheep=null,e._iceprepare=void 0,e._iceblockPrepareLevel=0,e._lefter=void 0,e._righter=void 0,e._upper=void 0,e._lower=void 0,e.inLane=null,e.floawerPot=void 0,e.lilyPad=void 0,e.ppOldPos=void 0,e._tombStone=void 0,e.selectionDB=void 0,e.mold=null,e.rail=void 0,e.occupied=0,e.verticalElectricCountdown=0,e.verticalElectricDB=void 0,e.verticalElectricFooded=0,e.horizontalElectricCountdown=0,e.horizontalElectricDB=void 0,e.horizontalElectricFooded=0,e.centerElectricCountdown=0,e.centerElectricDB=void 0,e.centerElectricFooded=0,e.electricLineDamage=10,e}e(a,t);var l=a.prototype;return l.depth=function(){return this.deepwater?1.5:this.shallowwater?.1:0},l.addGroundFire=function(t,e,i,n,o){if(void 0===e&&(e=20),void 0===i&&(i=G.yellow),void 0===n&&(n=0),void 0===o&&(o=null),this.isInLawn()){var a=o;a||(a=S.getParticleByGFEnum(i));var l=g.instantiatePooly(a),s=l.getComponent(z);return s.spawnDelay=n,l.parent=this.inLane.prjLayer,l.worldPosition=this.node.worldPosition.clone().add(new r(0,-v.SquareHeight/2,0)),s.height=e,s.duration=t,s.inLnC=this,s}},l.addLaneFire=function(t,e,i,n,o,a,l,r){var s=this;void 0===e&&(e=20),void 0===i&&(i=G.yellow),void 0===n&&(n=N.split),void 0===o&&(o=9),void 0===a&&(a=9),void 0===l&&(l=!1),void 0===r&&(r=null);var h=[],d=[],u=this.addGroundFire(t,e,i,0,r);u&&d.push(u);for(var c=0;c<a;c++){if(n!=N.right){for(var p,f=this,P=0;P<c;P++){var v;f=null==(v=f)?void 0:v.lefter}null!=(p=f)&&p.isInLawn()&&(l||f.tileType!=yt.sky&&f.tileType!=yt.sea)&&h.push(f)}if(n!=N.left){for(var w,m=this,g=0;g<c;g++){var y;m=null==(y=m)?void 0:y.righter}null!=(w=m)&&w.isInLawn()&&(l||m.tileType!=yt.sky&&m.tileType!=yt.sea)&&h.push(m)}if(n==N.cross){for(var L,b,I=this,C=0;C<c;C++){var S;I=null==(S=I)?void 0:S.upper}null!=(L=I)&&L.isInLawn()&&(l||I.tileType!=yt.sky&&I.tileType!=yt.sea)&&h.push(I);for(var T=this,x=0;x<c;x++){var k;T=null==(k=T)?void 0:k.lower}null!=(b=T)&&b.isInLawn()&&(l||T.tileType!=yt.sky&&T.tileType!=yt.sea)&&h.push(T)}}return h.forEach((function(n){if(n!=s){var a=Math.max(Math.abs(n.cIndex-s.cIndex),Math.abs(n.lIndex-s.lIndex))/o,l=n.lIndex==s.lIndex,h=n.addGroundFire(t,e,i,a,r);h.horizontal=l,d.push(h)}})),d},l.onLoad=function(){var t;switch(this.UIInGame=s("Canvas/UIInGame").getComponent(w),this.node.name){case"SquaresThere":this.lIndex=-1;break;case"SquaresHere":this.lIndex=5;break;case"SquaresLeft":this.cIndex=-1;break;case"SquaresRight":this.cIndex=9}this.selectionDB=null==(t=this.node)||null==(t=t.getChildByName("Select"))?void 0:t.getComponent(h.ArmatureDisplay),this.plantInSquare=[],this.rail=null,this.vineInSquare=[],this.tilePlantInSquare=[],this.occupied=0,this.mold=null,this.havePeaBuff=!1,this.peaBuffParticle=null,this.shadowCD=0,this.darkBuffParticle=null,this.tombStone=null,this.indexPoint=0,this.ghostPoint=this.node.getChildByName("PlantPoint")},l.addTileLiquid=function(t,e){if(!this.isInLawn())return null;if(this.tileType==yt.deck||this.tileType==yt.solid){if(t>this.currentTileLiquid){var i;null==(i=this.oldTileLiquid)||i.die();var n=null;switch(t){case Lt.sapfling:n=g.instantiatePooly(T.sapflingJuice());break;case Lt.butter:n=g.instantiatePooly(T.butterJuice());break;case Lt.cranjelly:n=g.instantiatePooly(T.cranJellyJuice());break;case Lt.moltenpool:n=g.instantiatePooly(T.softLava());break;case Lt.lavaguava:n=g.instantiatePooly(T.deadlyLava())}n&&(n.parent=this.inLane.tileLiquidLayer,n.worldPosition=this.node.worldPosition,this.oldTileLiquid=n.getComponent(at),this.tileLiquidCountdown=e,this.oldTileLiquid&&(this.oldTileLiquid.liquidID=t,this.oldTileLiquid.setInLnC(this),this.currentTileLiquid=t,t==Lt.lavaguava&&this.getAllPlants().forEach((function(t){t.pushTideListener()}))))}else t==this.currentTileLiquid&&(this.tileLiquidCountdown=this.tileLiquidCountdown>e?this.tileLiquidCountdown:e);this.readIndex()}return{liquid:this.currentTileLiquid,cd:this.tileLiquidCountdown}},l.getAllPlants=function(t,e,i){void 0===t&&(t=!0),void 0===e&&(e=!0),void 0===i&&(i=!0);return t?this.vineInSquare.concat(this.plantInSquare,this.imitaterInSquare,i&&this.floawerPot&&this.haveFloawerPot?[this.floawerPot]:[],e&&this.haveLilyPad?[this.lilyPad]:[],this.tilePlantInSquare):this.tilePlantInSquare.concat(e&&this.haveLilyPad&&this.lilyPad?[this.lilyPad]:[],i&&this.floawerPot&&this.haveFloawerPot?[this.floawerPot]:[],this.imitaterInSquare,this.plantInSquare,this.vineInSquare)},l.setTileType=function(t){if(this.tileType!=t){var e=this.tileType;this.tileType=t,e!=t&&this.readTileType(e,t)}},l.readTileType=function(t,e){var i,n=this;void 0===t&&(t=this.tileType),void 0===e&&(e=this.tileType),this.getAllPlants().forEach((function(i){i.onTileTypeChange(n,t,e)})),this.tilesInSquare.forEach((function(t){n.tileExistable(t.tileID,!1)||(t.inLnC=null)}));var o,a=this.tileType==yt.water?"Idle_Water":"Idle";(null==(i=this.crackedTileSparkle)||i.playAnimation(a,1/0),e!=yt.deck&&e!=yt.solid)&&(this.iceTile&&this.iceTile.die(),9==this.cIndex&&[0,1,2,3,4].forEach((function(t){var e;null==(e=v.getLaneNode(t).getComponent(E).iceTile)||e.die()})),null==(o=this.oldTileLiquid)||o.die(),this.oldTileLiquid=null,this.currentTileLiquid=Lt.none,this.tileLiquidCountdown=0);this.tombStone&&!this.tombable(!1,!1)&&this.tombStone.die(),this.readIndex()},l.getTileType=function(){return this.tileType},l.explodeSqudow1x1=function(t){var e,i,n=this,o=L.createRectangleNodeCenter(this.node,2*v.SquareWidth,v.SquareHeight);_.shakeScreen();var a=new b(t,!1,!1,!1,null,I.potatoMine,!0,!0);null==(e=this.inLane)||e.zombiePool().forEach((function(t){!t.currentFlyZombie&&o.judgeCrossRec(t.bodyRecReal)&&t.dealDamage(a.replaceDirection(new d(t.worldPositionX-n.node.worldPosition.x,t.zombieHeight+t.height).normalize().multiplyScalar(25)))})),null==(i=this.tombStone)||i.dealDamage(a),q.playSpudow();var l=g.instantiatePooly(x.spudow());l.parent=this.inLane.prjLayer,l.worldPosition=this.plantPoint.worldPosition},l.explodeCherry3x3=function(t,e,i,n){var o,a,l=this;void 0===e&&(e=!1),void 0===i&&(i=null),void 0===n&&(n=null);var s=L.createRectangleNodeCenter(this.node,3*v.SquareWidth,3*v.SquareHeight);_.shakeScreen();var h=[];null==(o=this.inLane)||o.zombiePool().concat(this.inLane.UpperLane.zombiePool(),this.inLane.LowerLane.zombiePool()).forEach((function(t){s.judgeCrossRec(t.bodyRecReal)&&-1==h.indexOf(t)&&h.push(t)}));var u=new b(t,!1,!1,!1,null,I.fire,!0,!0);u.bugKiller=!0,h.forEach((function(t){t.dealDamage(u.replaceDirection(new d(t.worldPositionX-l.node.worldPosition.x,t.zombieHeight+t.height).normalize().multiplyScalar(25)))})),null==(a=this.inLane)||a.tombPool().concat(this.inLane.UpperLane.tombPool(),this.inLane.LowerLane.tombPool()).forEach((function(t){s.judgeCrossRec(t.bodyRec)&&t.dealDamage(u)})),n?q.playOneShot(n,1,.1):q.playExplosion(),i||(i=x.explosion(e));var c=g.instantiatePooly(i);if(c.parent=this.inLane.prjLayer,c.worldPosition=this.plantPoint.worldPosition,c.scale=new r(.7,.7,.7),this.tileType==yt.solid||this.tileType==yt.deck||this.tileType==yt.water){var p=g.instantiatePooly(x.explosionRear());p.parent=this.inLane.tileLiquidLayer,p.worldPosition=this.node.worldPosition}},l.explodeSpudow3x3=function(t){var e,i,n=this,o=L.createRectangleNodeCenter(this.node,3*v.SquareWidth,3*v.SquareHeight);_.shakeScreen();var a=[];null==(e=this.inLane)||e.zombiePool().concat(this.inLane.UpperLane.zombiePool(),this.inLane.LowerLane.zombiePool()).forEach((function(t){!t.currentFlyZombie&&o.judgeCrossRec(t.bodyRecReal)&&-1==a.indexOf(t)&&a.push(t)}));var l=new b(t,!1,!1,!1,null,I.potatoMine,!0,!0);a.forEach((function(t){t.dealDamage(l.replaceDirection(new d(t.worldPositionX-n.node.worldPosition.x,t.zombieHeight+t.height).normalize().multiplyScalar(25)))})),null==(i=this.inLane)||i.tombPool().concat(this.inLane.UpperLane.tombPool(),this.inLane.LowerLane.tombPool()).forEach((function(t){o.judgeCrossRec(t.bodyRec)&&t.dealDamage(l)})),q.playSpudow(),q.playExplosion();var r=g.instantiatePooly(x.spudowPrimal());r.parent=this.inLane.prjLayer,r.worldPosition=this.plantPoint.worldPosition},l.dealTileLiquid=function(t){var e=this;if(this.tileLiquidCountdown>0){this.tileLiquidCountdown;this.tileLiquidCountdown-=t;var i;this.tileLiquidCountdown;if(this.currentTileLiquid==Lt.sapfling)this.inLane.zombiePool().forEach((function(t){t.flying||t.objdataOwnOrg.CannotBeDetectedBySapfling||!e.rec.judgeCrossRec(t.bodyRecReal)||(t.sapflingCD=4)}));else if(this.currentTileLiquid==Lt.butter){var n=null;this.inLane.zombiePool().forEach((function(t){t.shouldSpeedScale()*t.randomSpeed>0&&!t.flying&&e.rec.judgeCrossRec(t.bodyRecReal)&&(!n||n.bodyRecReal.prjX().x>t.bodyRecReal.prjX().x)&&(n=t)})),n&&(n.setButter(8,!0),this.tileLiquidCountdown=0)}else if(this.currentTileLiquid==Lt.moltenpool){var o,a,l=new b(50*t,!0,!1,!1,null,I.fire);this.inLane.zombiePool().forEach((function(t){!t.flying&&e.rec.judgeCrossRec(t.bodyRecReal)&&t.dealDamage(l)})),q.playLavaIdle(),null==(o=this.tombStone)||o.dealDamage(l),null==(a=this.iceTile)||a.die()}else if(this.currentTileLiquid==Lt.lavaguava){var r,s,h=new b(100*t,!0,!1,!1,null,I.fire);this.inLane.zombiePool().forEach((function(t){!t.flyZombie&&e.rec.judgeCrossRec(t.bodyRecReal)&&(t.sapflingCD=4,t.dealDamage(h))})),q.playLavaIdle(),null==(r=this.tombStone)||r.dealDamage(h),null==(s=this.iceTile)||s.die()}if(this.tileLiquidCountdown<=0)this.currentTileLiquid==Lt.lavaguava&&q.playLavaFade(),this.currentTileLiquid=Lt.none,null==(i=this.oldTileLiquid)||i.die(),this.oldTileLiquid=null,this.readIndex()}},l.update=function(t){if(this.dealElectric(t),this.crackleCountdown>0&&(this.tileType==yt.solid||this.tileType==yt.deck||this.tileType==yt.water?this.crackleCountdown-=t:this.crackleCountdown=0),this.dealTileLiquid(t),this.shadowCD>0&&(this.shadowCD-=t),this.occupied>0&&(this.occupied-=.01,this.occupied<=0&&this.readIndex()),this.iceblockPrepareLevel){var e=this.getAllPlants();e.length&&!e.some((function(t){return!t.canbeIceBlocked()}))||(this.iceblockPrepareLevel=0)}},l.addBuff=function(t,e){if(void 0===e&&(e=!0),!(!this.buffParticlePoint||this.lIndex>4||this.lIndex<0||this.cIndex<0||this.cIndex>8))switch(t){case"peaBuff":if(e&&!this.havePeaBuff){this.havePeaBuff=!0;var i=g.instantiatePooly(x.peaBuff());this.peaBuffParticle=i.getComponent(h.ArmatureDisplay),this.peaBuffParticle.playAnimation("Idle"),i.parent=this.particleLowerPoint,i.worldPosition=this.node.worldPosition,i.setSiblingIndex(0)}else!e&&this.havePeaBuff&&(this.havePeaBuff=!1,this.peaBuffParticle.playAnimation("Die"),this.peaBuffParticle=null)}},l.setShadowBuff=function(t,e){void 0===e&&(e=!0);var i=this._shadowCD;this.shadowCD=t>this._shadowCD?t:this._shadowCD,e&&i<=0&&this._shadowCD>0&&q.playTileShadowSpawn()},l.haveP=function(){return this.plantInSquare.length>0||this.vineInSquare.length>0},l.playPlantSpawnParticle=function(){if(this.tileType==yt.solid||this.tileType==yt.deck){var t=g.instantiatePooly(x.plantDirts());t.parent=this.inLane.node,t.worldPosition=this.plantPoint.worldPosition,t.getComponent(h.ArmatureDisplay).playAnimation("Plant",1)}this.tileType==yt.water?q.playPlantOnWater():q.playPlantOnFloor()},l.SpawnPlant=function(){var t=i(o().mark((function t(e,i,n,a,l,r,s){var h,u,c,f,P,v,m,g,L,b,I,S,T,E,B,F,O,A,R,G;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===i&&(i=!1),void 0===n&&(n=!1),void 0===a&&(a=!1),void 0===l&&(l=!0),void 0===r&&(r=!1),void 0===s&&(s=!0),this.isInLawn()){t.next=8;break}return t.abrupt("return");case 8:if((u=s&&this.replantable(e))||!i||this.putPlantAvailable(n,e,!0,l)){t.next=11;break}return t.abrupt("return");case 11:if(null==(h=this.UIInGame)||!h.getLevelTaskStartingObject(X.PlantCountLimit)||u){t.next=15;break}if(!(this.UIInGame.getLevelTaskStartingObject(X.PlantCountLimit).MaximumPlants<=C.getPlantAmount()&&l)){t.next=15;break}return w.component.warnLevelTask(X.PlantCountLimit),t.abrupt("return");case 15:if(!u){t.next=22;break}return u.replant(),null==(c=this.UIInGame)||c.calculateLevelTask(X.PlantCountLimit,{AllPlantCount:C.getPlantAmount()}),a&&this.playPlantSpawnParticle(),t.abrupt("return",u);case 22:return v=M.getPlantFeature(e),m=D.plant,g=!1,L=!1,b=!1,I=!1,S=!1,this.plantPoint,-1!=v.TYPE.indexOf("vine")?m=D.vine:-1!=v.TYPE.indexOf("floawerPot")?m=D.pot:-1!=v.TYPE.indexOf("lilypad")?m=D.lilyPad:-1!=v.TYPE.indexOf("tile")&&(m=D.tile),-1!=v.TYPE.indexOf("fly")&&(g=!0),-1!=v.TYPE.indexOf("aquatic")&&(L=!0),-1!=v.TYPE.indexOf("deepAquatic")&&(b=!0),-1!=v.TYPE.indexOf("amphibious")&&(I=!0),-1!=v.TYPE.indexOf("potatomine")&&(S=!0),T=!0,this.plantCooling=m==D.plant,this.vineCooling=m==D.vine,this.lilyCooling=m==D.lilyPad,this.potCooling=m==D.pot,this.spawningPromiseCount++,t.t0=p,t.next=45,M.getPlantsInCard(r?U.Imitater:e);case 45:if(t.t1=t.sent.plantPLANT,E=(0,t.t0)(t.t1),this.spawningPromiseCount--,!this.plantSpawning){t.next=50;break}return t.abrupt("return");case 50:return(B=E.getComponent(k)).ID=e,(F=M.getPlantProps(e))&&(B.objdata=F),B.worldPositionX=this.node.worldPosition.x,B.worldPositionY=this.plantPoint.worldPosition.y,B.SUNCOST=F.SunCost,O=!0,A=!1,_.PlantModifiers.forEach((function(t){A||(O=!t.SuppressParticle,t.List.forEach((function(t){t.ID==e&&(B.modObjdataOwn(t.NewObjdata),A=!0)})))})),B.plantInLnC=this,B.flyingPlant=g,B.aquaticPlant=L,B.deepAquatic=b,B.amphibiousPlant=I,B.potatoPlant=S,B.TYPE=v.TYPE.concat(),B.toughness=B.objdataOwn.Toughness,B.allowOverlap=-1!=v.TYPE.indexOf("allowOverlap"),B.getFamily(F.Family),m==D.pot?(E.parent=this.potPoint,this.floawerPot=B,null==B||B.anmControl.addPotFront(this.potPointUpper),B.plantType=D.pot):m==D.lilyPad?(E.parent=this.potPoint,this.lilyPad=B,B.plantType=D.lilyPad):m==D.vine?(E.parent=this.vinePoint,E.setPosition(0,0),null==B||B.anmControl.addVineBack(this.vineBackPoint),this.pushVine(B),B.plantType=D.vine):m==D.tile?(E.parent=this.plantPoint,E.setPosition(0,0),T=!1,this.pushTile(B),B.plantType=D.tile):(E.parent=this.plantPoint,E.setPosition(0,0),null==(R=B.anmControl)||R.addPlantUpper(this.inLane.plantUpperLayer),this.pushPlant(B),B.plantType=D.plant),B.worldPosition=new d(B.node.parent.worldPosition.x,B.node.parent.worldPosition.y),B.plantInLnC=this,T&&(null==(f=this.UIInGame)||f.calculateLevelTask(X.PlantCountLimit,{AllPlantCount:C.getPlantAmount()})),B&&a&&this.playPlantSpawnParticle(),r&&B&&(B.willImitateID=e),null==B||B.readLastDeadPlantInLnC(this,this.deadPlant),null==B||null==(P=B.anmControl)||P.readCostume(e),this.plantCooling=!1,this.vineCooling=!1,this.lilyCooling=!1,this.potCooling=!1,B.judgeInLnC(),this.readIndex(),O&&A&&((G=y(x.strengthenPlant())).parent=this.plantPoint,G.worldPosition=this.node.worldPosition,G.setSiblingIndex(0),q.playPlantStrengthen()),this.deadPlant=NaN,t.abrupt("return",B);case 87:case"end":return t.stop()}}),t,this)})));return function(e,i,n,o,a,l,r){return t.apply(this,arguments)}}(),l.readIndex=function(){var t=this;this.lIndex>=0&&this.lIndex<=4&&this.cIndex>=0&&this.cIndex<=8&&(this.selection(),this.readDeadPlant(),this.plantGhost(),this.tilesInSquare.forEach((function(e){e.onLnCCall(t)})))},l.plantGhost=function(){var t=i(o().mark((function t(){var e,i,n,a,l,s,d,u,c,P,m,g,y,L;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null==(e=this.ghostPoint)||e.destroyAllChildren(),!this.indexPoint){t.next=30;break}if(!(null!=(d=null==(i=this.UIInGame)?void 0:i.currentPlantID)&&(null==(n=this.UIInGame)?void 0:n.index)<=8&&(null==(a=this.UIInGame)?void 0:a.index)>-1&&this.putPlantAvailable(!0,d)&&this.index)){t.next=22;break}return t.t0=p,t.next=7,M.getPlantsInCard(d);case 7:if(t.t1=t.sent.plantDIS,!(!(m=(0,t.t0)(t.t1))||!this.indexPoint||(null==(u=this.UIInGame)?void 0:u.index)>8||(null==(c=this.UIInGame)?void 0:c.index)<=-1)){t.next=11;break}return t.abrupt("return");case 11:m.parent=this.ghostPoint,m.worldPosition=this.plantPoint.worldPosition.clone(),null!=(P=w.component)&&P.currentPlantStartingHeight&&(m.worldPosition=new r(m.worldPosition.x,m.worldPosition.y+w.component.currentPlantStartingHeight,m.worldPosition.z)),f.Color.set(m.getChildByName("Body").getComponent(h.ArmatureDisplay).color,255,255,255,150),(g=m.getComponent(dt)).playIdle(0,0),g.timeScale=0,g.selfFixTimeScale=!0,g.readCostume(d),t.next=30;break;case 22:if(1==v.lncSelectionMode||null==(l=this.UIInGame)||!l.currentSniperPlant||-4!=(null==(s=this.UIInGame)?void 0:s.index)){t.next=30;break}if(L=p(null==(y=this.UIInGame)||null==(y=y.currentSniperPlant)?void 0:y.locator)){t.next=26;break}return t.abrupt("return");case 26:L.parent=this.ghostPoint,L.worldPosition=this.node.worldPosition,f.Color.set(L.getComponent(h.ArmatureDisplay).color,255,255,255,150),L.getComponent(h.ArmatureDisplay).timeScale=0;case 30:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),l.onMouseEnter=function(){var t;this.isInLawn()&&(this.indexPoint=1,this.plantGhost(),null==(t=v.component)||t.readIndex())},l.onMouseLeave=function(){var t;this.isInLawn()&&(this.indexPoint=0,this.plantGhost(),null==(t=v.component)||t.readIndex(),this.delayMouseDownPlantsOnCart=[])},l.plantMouseReact=function(t,e){void 0===e&&(e=this.getAllPlants(!1));var i=!1,n=!1,o=e;if(o.forEach((function(e){t.getButton()==u.BUTTON_MIDDLE&&e.foodable&&!e.fooding&&_.gameStarted?B.plantFoodNum>0||j.freePF?e.food()&&(n=!0):B.plantfoodWarn():(i||e.onMouseDown(t))&&(i=!0)})),o.length>0&&_.sandBoxModeOn&&t.getButton()==u.BUTTON_RIGHT&&_.gameStarted){var a=o[o.length-1].ID,l=j.plantList.indexOf(a);if(-1==l)return;Y.component.CFs.forEach((function(t,e){var i=(l+e)%j.plantList.length;t.cardGrouper(j.plantList[i])}))}return n&&(B.component.plantFoodDec(),this.tilesInSquare.forEach((function(t){t.onFoodedByPlayer()}))),i},l.onMouseUp=function(t){this.isInLawn()&&(t.preventSwallow=!0,this.delayMouseDownPlantsOnCart.forEach((function(e){e.onMouseDown(t)})),this.delayMouseDownPlantsOnCart=[],it.followingCart=null)},l.onMouseDown=function(t,e){var n,a,l=this;if(t.preventSwallow=!0,this.isInLawn()){var r,s=null==(n=this.rail)?void 0:n.getCartInLnC(this);if(-1==w.index&&(s||_.isBeghouled)&&t.getButton()==u.BUTTON_LEFT)this.delayMouseDownPlantsOnCart=this.getAllPlants(!1),it.followingCart=s;else if(e&&-1==w.index&&this.plantMouseReact(t))return;if(-1==w.index&&_.isBeghouled&&(v.beghouledMouseLnC=this,v.beghouledMouseClickedWP=t.getUILocation()),-4==w.index&&t.getButton()==u.BUTTON_LEFT&&_.gameStarted)null==(r=w.component.currentSniperPlant)||r.trigger(this),w.component.MouseListenOffThisTick=!0;if(-5==w.index&&4==H.component.index&&t.getButton()==u.BUTTON_LEFT&&_.gameStarted&&this.explodeCherry3x3(1800,!1),9==w.index&&t.getButton()==u.BUTTON_LEFT&&_.gameStarted){this.SpawnZombie(W.component.currentID,j.zombieSpawnStyle,!1,.5,0,{},!0,1==w.component.currentSBZombieDirection,2==w.component.currentSBZombieDirection);w.component.MouseListenOffThisTick=!0}this.index&&(t.getButton()==u.BUTTON_LEFT&&(w.index<=8&&this.UIInGame.index>-1?(this.scheduleOnce(i(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.spawnPlantAccordingToUI();case 2:t.sent;case 3:case"end":return t.stop()}}),t)})))),w.component.MouseListenOffThisTick=!0):-2==w.index?(this.removePlant(),w.component.MouseListenOffThisTick=!0):_.gameStarted&&-3==w.index&&(this.plantfood(),w.component.MouseListenOffThisTick=!0)),(w.index<=8&&w.index>-1||-2==w.index)&&(this.index=0,w.component.MouseListenOffThisTick=!0)),null==(a=v.component)||a.readIndex()}},l.onMouseScroll=function(t){var e,i=this,n=t.getScrollY();if(null!=(e=this.rail)&&e.carts){for(var o=[],a=function(t){i.rail.carts.forEach((function(e){e.inLnC.lIndex==t&&o.push(e)}))},l=0;l<5;l++)a(l);n>0?o.forEach((function(t){t.moveUp()})):n<0&&o.reverse().forEach((function(t){t.moveDown()}))}_.sandBoxModeOn&&this.getAllPlants().forEach((function(t){n>0?t.anmControl.rollCostumeUpFree(M.getPlantFeature(t.ID).COSTUME):t.anmControl.rollCostumeDownFree(M.getPlantFeature(t.ID).COSTUME)}))},l.isSolidOrDeck=function(){return this.tileType==yt.solid||this.tileType==yt.deck},l.tilePutable=function(t,e){if(void 0===e&&(e=!0),!this.tileExistable(t,e))return!1;if(this.iceTile)return!1;if(!this.isSolidOrDeck())return!1;if(this.crackleCountdown>0)return!1;if(this.occupied>0)return!1;if(this.tilePlantInSquare.length)return!1;var i=!1;return this.getAllPlants().forEach((function(t){(i||t.endangered)&&(i=!0)})),!i},l.tileExistable=function(t,e){void 0===e&&(e=!0);var i=this._tileType;return t==J.endangered||(i==yt.deck||i==yt.solid)&&(!e||!this.tilesInSquare[0])},l.putTile=function(t,e,i){if(void 0===i&&(i=!0),!i||this.tilePutable(t,!0))switch(t){case J.foodLinker:var n=K.foodLinkTile(e);return n.node.parent=this.inLane.tileLayer,n.tileID=J.foodLinker,n.inLnC=this,this.readIndex(),n;case J.goldtile:var o=y(K.goldTile()).getComponent(nt);return o.node.parent=this.inLane.tileLayer,o.tileID=J.goldtile,o.inLnC=this,this.readIndex(),o;case J.taichitile:var a=y(K.taichiTile()).getComponent(nt);return a.node.parent=this.inLane.tileLayer,a.tileID=J.taichitile,a.inLnC=this,this.readIndex(),a;case J.trap_bouldertile_forward:case J.trap_bouldertile_backward:var l=y(K.trapBoulderTile()).getComponent(ht);l.node.parent=this.inLane.tileLayer,l.tileID=t,l.inLnC=this;var r=+e.RecoverDelay;return isNaN(r)&&(r=7.5),l.triggerInterval=r,this.readIndex(),l;case J.trap_firetile:var s=y(K.trapFireTile()).getComponent(ht);s.node.parent=this.inLane.tileLayer,s.tileID=t,s.inLnC=this;var h=+e.RecoverDelay;return isNaN(h)&&(h=7.5),s.triggerInterval=h,this.readIndex(),s;case J.trap_thundertile:var d=y(K.trapThunderTile()).getComponent(ht);d.node.parent=this.inLane.tileLayer,d.tileID=t,d.inLnC=this;var u=+e.RecoverDelay;return isNaN(u)&&(u=7.5),d.triggerInterval=u,this.readIndex(),d;case J.sliderModernUp:var c=y(K.sliderModernUpTile()).getComponent(nt);return c.node.parent=tt.sliderFloaterLayer,c.tileID=J.sliderModernUp,c.inLnC=this,c;case J.sliderUp:var p=y(K.sliderUpTile()).getComponent(nt);return p.node.parent=tt.sliderFloaterLayer,p.tileID=J.sliderUp,p.inLnC=this,p;case J.sliderModernDown:var f=y(K.sliderModernDownTile()).getComponent(nt);return f.node.parent=tt.sliderFloaterLayer,f.tileID=J.sliderModernDown,f.inLnC=this,f;case J.sliderDown:var P=y(K.sliderDownTile()).getComponent(nt);return P.node.parent=tt.sliderFloaterLayer,P.tileID=J.sliderDown,P.inLnC=this,P;case J.deepwater:var v=y(K.deepWaterTile()).getComponent(nt);return v.node.parent=tt.sliderLayer,v.tileID=J.deepwater,v.inLnC=this,v;case J.shallowwater:var w=y(K.shallowWaterTile()).getComponent(nt);return w.node.parent=this.inLane.tileLiquidLayer,w.tileID=J.shallowwater,w.inLnC=this,w}},l.removeTiles=function(){this.tilesInSquare.concat().forEach((function(t){t.inLnC=null}))},l.putPlantAvailable=function(t,e,i,n){var o,a;void 0===t&&(t=!0),void 0===e&&(e=w.component.currentPlantID),void 0===i&&(i=!0),void 0===n&&(n=!0);var l=null==(o=M.getPlantFeature(e))?void 0:o.TYPE;if(e==U.Imitater)return!0;if(this.mold||this.slider||this.sheep||this.occupied>0||!this.isInLawn()||this.plantSpawning||null==l||!l.length||!this.kingAllowPlant(e)||this._crackleCountdown>0||t&&this.currentTileLiquid==Lt.moltenpool||this.currentTileLiquid==Lt.lavaguava)return!1;if(w.index>=0&&w.index<=8&&n&&null!=(a=this.UIInGame)&&a.getLevelTaskStartingObject(X.PlantCountLimit)&&this.UIInGame.getLevelTaskStartingObject(X.PlantCountLimit).MaximumPlants<=C.getPlantAmount())return w.component.warnLevelTask(X.PlantCountLimit),!1;var r=!1;-1!=l.indexOf("allowOverlap")&&(r=!0);var s=!1;return-1!=l.indexOf("deepAquatic")&&(s=!0),-1!=l.indexOf("deadPlant")?this.regeneratable():-1!=l.indexOf("plant")?this.plantable(t&&!r,e,i):-1!=l.indexOf("aquatic")?this.kelpable(t&&!r,e,i,s):-1!=l.indexOf("potion")?this.potionable(t&&!r,e,i):-1!=l.indexOf("vine")?this.vineable(t&&!r,e,i):-1!=l.indexOf("floawerPot")?this.floawerPotable(t&&!r,e,i):-1!=l.indexOf("lilypad")?this.lilypadable(t&&!r,e,i):-1!=l.indexOf("spikeweed")?this.spikeweedable(t&&!r,e,i):-1!=l.indexOf("potatomine")?this.potatomineable(t&&!r,e,i):-1!=l.indexOf("gravebuster")?this.gravebusterable(t&&!r,e,i):-1!=l.indexOf("hotpotato")?this.hotpotatoable(t&&!r,e,i):-1!=l.indexOf("fly")?this.flyable(t&&!r,e,i):-1!=l.indexOf("amphibious")?this.swimmable(t&&!r,e,i):-1!=l.indexOf("powertile")?this.tilePutable(J.foodLinker,!0):-1!=l.indexOf("goldtile")&&this.tilePutable(J.goldtile,!0)},l.plantable=function(t,e,i){var n,o;void 0===i&&(i=!0);var a=!0;return!this.plantCooling&&(this.plantInSquare.forEach((function(t){a&&(t.allowOverlap&&e!=t.ID||(a=!1))})),!(t&&!a||this.rail&&null==(null==(n=this.rail)?void 0:n.getCartInLnC(this))||this.tombStone||i&&this.tileType==yt.water&&!this.haveLilyPad&&!this.haveFloawerPot&&(null==(o=this.rail)||!o.getCartInLnC(this))||i&&this.tileType==yt.sky&&!this.haveFloawerPot||this.iceTile||this.tileType==yt.sea))},l.vineable=function(t,e,i){var n;return!this.vineCooling&&!(t&&this.vineInSquare.length>0||this.rail&&null==(null==(n=this.rail)?void 0:n.getCartInLnC(this))||this.tombStone||i&&this.tileType==yt.water&&!this.haveLilyPad&&!this.haveFloawerPot||i&&this.tileType==yt.sky&&!this.haveFloawerPot||this.iceTile||this.tileType==yt.sea)},l.isDeepWater=function(){return this.deepwater||tt.getTidePos()<=this.cIndex},l.kelpable=function(t,e,i,n){var o;void 0===t&&(t=!0),void 0===n&&(n=!1);var a=!0;return!this.plantCooling&&(this.plantInSquare.forEach((function(t){a&&(t.allowOverlap&&e!=t.ID||(a=!1))})),(!n||this.isDeepWater())&&!(t&&!a||this.rail&&null==(null==(o=this.rail)?void 0:o.getCartInLnC(this))||this.tombStone||this.haveLilyPad||this.haveFloawerPot||this.iceTile)&&(!i||this.tileType==yt.water))},l.floawerPotable=function(t,e,i){return!this.potCooling&&!(t&&this.vineInSquare.length>0||t&&this.plantInSquare.length>0||this.haveLilyPad||t&&this.haveFloawerPot||this.rail||this.tombStone||i&&this.tileType==yt.sea||this.iceTile)},l.flyable=function(t,e,i){var n;void 0===t&&(t=!0);var o=!0;return!this.plantCooling&&(this.plantInSquare.forEach((function(t){o&&(t.allowOverlap||(o=!1))})),!(t&&!o||this.rail&&null==(null==(n=this.rail)?void 0:n.getCartInLnC(this))||this.tombStone||i&&this.tileType==yt.sea||this.iceTile))},l.swimmable=function(t,e,i){var n;void 0===t&&(t=!0);var o=!0;return!this.plantCooling&&(this.plantInSquare.forEach((function(t){o&&(t.allowOverlap||(o=!1))})),!(t&&!o||this.rail&&null==(null==(n=this.rail)?void 0:n.getCartInLnC(this))||this.tombStone||i&&this.tileType==yt.sea||i&&this.tileType==yt.sky&&!this.haveFloawerPot||this.iceTile))},l.lilypadable=function(t,e,i){var n;void 0===t&&(t=!0);var o=!1;return!this.lilyCooling&&(t&&this.getAllPlants(!0,!1,!1).forEach((function(t){o||(t.aquaticPlant||t.potatoPlant)&&(o=!0)})),!(t&&this.haveLilyPad||this.haveFloawerPot||this.rail&&null==(null==(n=this.rail)?void 0:n.getCartInLnC(this))||this.tombStone||o||this.cIndex<9-_.maxTideDistance&&!this.deepwater&&!this.shallowwater||i&&this.tileType==yt.sea||i&&this.tileType==yt.sky||this.iceTile))},l.spikeweedable=function(t,e,i){return void 0===t&&(t=!0),this.plantable(t,e,i)&&!this.haveLilyPad&&!this.haveFloawerPot},l.potionable=function(t,e,i){return void 0===t&&(t=!0),this.plantable(t,e,i)&&!(t&&this.getAllPlants().length)},l.potatomineable=function(t,e,i){return void 0===t&&(t=!0),this.plantable(t,e,i)&&!this.haveLilyPad&&(this.tileType!=yt.deck||this.haveFloawerPot)},l.gravebusterable=function(t,e,i){var n;return null!=this.tombStone&&(null==(n=this.tombStone)?void 0:n.bustable)&&this.getAllPlants().length<=0&&(!i||this.isSolidOrDeck())},l.hotpotatoable=function(t,e,i){var n;return!this.plantCooling&&(!this._hotpotato&&null!=this.tombStone&&(null==(n=this.tombStone)?void 0:n.hotpotato)&&!this.tombStone.hotpotatoTween)},l.replantable=function(t){for(var e=this.getAllPlants(!0),i=0;i<e.length;i++)if(e[i].ID==t&&e[i]._replantableForLnC())return e[i];return null},l.kingAllowPlant=function(t){var e=!0;return this.gridZombiesInSquare.forEach((function(i){e&&(e=!i.allowPlantInSquare(t))})),e},l.SpawnZombieByRTID=function(){var t=i(o().mark((function t(e,i,n,a,l,r,s,h,d){var u;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===i&&(i=gt.fromLane),void 0===n&&(n=!0),void 0===a&&(a=.5),void 0===l&&(l=0),void 0===r&&(r=null),void 0===s&&(s=!0),void 0===h&&(h=!1),void 0===d&&(d=!1),u=Z.getZombieEnumByRTID(e),t.abrupt("return",this.SpawnZombie(u.z,i,n,a,l,r,s,h,d,u.prop));case 10:case"end":return t.stop()}}),t,this)})));return function(e,i,n,o,a,l,r,s,h){return t.apply(this,arguments)}}(),l.SpawnZombieByZombieType=function(){var t=i(o().mark((function t(e,i,n,a,l,r,s,h,d){var u;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===i&&(i=gt.fromLane),void 0===n&&(n=!0),void 0===a&&(a=.5),void 0===l&&(l=0),void 0===r&&(r=null),void 0===s&&(s=!0),void 0===h&&(h=!1),void 0===d&&(d=!1),u=Z.getZombieEnumFromZombieTypes(e),t.abrupt("return",this.SpawnZombie(u.z,i,n,a,l,r,s,h,d,u.prop));case 10:case"end":return t.stop()}}),t,this)})));return function(e,i,n,o,a,l,r,s,h){return t.apply(this,arguments)}}(),l.SpawnZombie=function(){var t=i(o().mark((function t(e,i,n,a,l,r,s,h,u,c){var p,f,P,w,m;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===i&&(i=gt.fromLane),void 0===n&&(n=!0),void 0===a&&(a=.5),void 0===l&&(l=0),void 0===r&&(r=null),void 0===s&&(s=!0),void 0===h&&(h=!1),void 0===u&&(u=!1),void 0===c&&(c=null),t.next=11,Z.spawnZombieFromLane(this.inLane.LaneIndex,e,r,i==gt.fromLane,h,u,c);case 11:return f=t.sent,P=null==(p=r)?void 0:p.spawnedZomboss,f.spawnedZomboss=P,i==gt.directPut||i==gt.dirtSpawn?(q.playDirtRise(!1,n),f.worldPosition=new d(this.node.worldPosition.x+v.SquareWidth*(a-.5),f.worldPosition.y),f.judgeInLnC()):i!=gt.sandStorm&&i!=gt.snowStorm||(w=0,i==gt.snowStorm&&(w=1),f.playSandStorm(this.node.worldPosition.x+v.SquareWidth*(a-.5),w)),t.next=17,f.additionalZombies();case 17:return(m=t.sent).forEach((function(t){t.spawnedZomboss=P})),i!=gt.directPut&&i!=gt.dirtSpawn||f.onPutDirectly(this),i==gt.dirtSpawn&&f.playDirtSpawn(l,s),[f].concat(m).forEach((function(t){t.correctDepth(1e3)})),t.abrupt("return",[f].concat(m));case 23:case"end":return t.stop()}}),t,this)})));return function(e,i,n,o,a,l,r,s,h,d){return t.apply(this,arguments)}}(),l.regeneratable=function(){return!isNaN(this.deadPlant)&&this.putPlantAvailable(!0,this.deadPlant,!0)},l.showDeadPlant=function(){var t=i(o().mark((function t(){var e,i,n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e=this.regeneratable())||this.deadPlantGhost){t.next=14;break}return t.t0=p,t.next=5,M.getPlantsInCard(this.deadPlant);case 5:t.t1=t.sent.plantDIS,(i=(0,t.t0)(t.t1)).parent=this.node,i.worldPosition=this.plantPoint.worldPosition.clone(),null!=(n=i.getComponent(dt))&&n.db&&(n.db.color=new P(255,255,255,255),n.db.customMaterial=ut.greyMaterial),this.deadPlantGhost=i,t.next=15;break;case 14:!e&&this.deadPlantGhost&&this.hideDeadPlant();case 15:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),l.hideDeadPlant=function(){if(this.deadPlantGhost){var t=this.deadPlantGhost;this.deadPlantGhost=null,t.destroy()}},l.readDeadPlant=function(){var t,e=null==(t=w.component)?void 0:t.currentPlantID;if(w.index>=0&&!isNaN(e)){var i,n=M.getPlantFeature(e);n&&-1!=(null==(i=n.TYPE)?void 0:i.indexOf("deadPlant"))?this.showDeadPlant():this.hideDeadPlant()}else this.hideDeadPlant()},l.spawnPortal=function(t,e){void 0===e&&(e=NaN);var i=ct.getObjects(t,pt.PortalTypes,"PortalType")[0];if(i||(i=ct.getObjectsByRTID(t,"PortalType")[0]),i){var n,o,a=null==(n=ct.getObjectsByRTID(null==(o=i.objdata)?void 0:o.Properties,"PortalProps")[0])?void 0:n.objdata;if(a){var l=y(x.portal());l.parent=this.inLane.icecubeLayer;var r=l.getComponent(ft);r&&(r.worldPosition=this.node.worldPosition.toVec2().add(new d(.4*v.SquareWidth,.4*-v.SquareHeight)),r.judgeInLnC(),r.setProps(a,e))}}},l.sheepen=function(t){if(!this.sheep&&t){var e=this.getAllPlants();if(e.length){var i=y(t);i.parent=this.inLane.icecubeLayer;var n=i.getComponent(rt);return n.worldPositionX=this.node.worldPosition.x,n.worldPositionY=this.plantPoint.worldPosition.y,n.judgeInLnC(),e.forEach((function(t){t.sheepen()})),this.readIndex(),n}}},l.octopusSpawn=function(){return this.octopus?this.octopus:this.getAllPlants().length?this.SpawnTomb(F.squid,!1,!1,!0):null},l.unsheepen=function(){this.sheep=null,this.getAllPlants().forEach((function(t){t.unsheepen()})),this.readIndex()},l.iceblockable=function(){var t=this.getAllPlants();return this.tombStone||!t.length||t.some((function(t){return!t.canbeIceBlocked()}))},l.iceblockSpawn=function(t){return this.iceblock?this.iceblock:this.SpawnTomb(t?F.iceblock_plant:F.iceblock_zombie,!1,!1,!0)},l._getLefter=function(){return this.isInLawn()?v.getLnC(this.lIndex,this.cIndex-1):v.getLnC(-2,-2)},l._getRighter=function(){return this.isInLawn()?v.getLnC(this.lIndex,this.cIndex+1):v.getLnC(-2,-2)},l._getUpper=function(){return this.isInLawn()?v.getLnC(this.lIndex-1,this.cIndex):v.getLnC(-2,-2)},l._getLower=function(){return this.isInLawn()?v.getLnC(this.lIndex+1,this.cIndex):v.getLnC(-2,-2)},l.setPPWdPos=function(t){var e;null==(e=this.orgPlantPoint)||e.setWorldPosition(new r(t.x,t.y,0))},l.correctPlantPoint=function(){var t=this;this.haveFloawerPot&&this.haveLilyPad||(this.getAllPlants().forEach((function(e){e.height=0,e.worldPosition=new d(t.ppOldPos.x,t.ppOldPos.y)})),this.orgPlantPoint.worldPosition=this.ppOldPos)},l.get3x3=function(){var t,e,i,n,o=[];return[null==this||null==(t=this.upper)?void 0:t.lefter,null==this?void 0:this.upper,null==this||null==(e=this.upper)?void 0:e.righter,null==this?void 0:this.lefter,this,null==this?void 0:this.righter,null==this||null==(i=this.lower)?void 0:i.lefter,null==this?void 0:this.lower,null==this||null==(n=this.lower)?void 0:n.righter].forEach((function(t){t&&o.push(t)})),o},l.plantHeat=function(t){var e=!1,i=new b(t.GridItemDamage);if(this.get3x3().forEach((function(t){var n;t.iceTile&&(e=!0,t.iceTile.die()),null!=(n=t.tombStone)&&n.hotpotato&&(e=!0,t.tombStone.dealDamage(i)),t.iceblockPrepareLevel&&(e=!0,t.iceblockPrepareLevel--)})),this.isInLawn()){var n=L.createRectangleNodeCenter(this.node,3*v.SquareWidth,3*v.SquareHeight);[this.inLane,this.inLane.UpperLane,this.inLane.LowerLane].forEach((function(t){if(null!=t&&t.isInLawn()){var i=new b(0,!0,!1);t.zombiePool().forEach((function(t){var o,a;(null==t||null==(o=t.armors)?void 0:o.length)>0&&null!=(a=t.armors[0])&&a.isIce&&n.judgeCrossRec(t.bodyRecReal)&&(e=!0,t.dealDamageAccordingToBowlingLevel(1,i))}))}}))}if(8==this.cIndex&&[this.inLane,this.inLane.UpperLane,this.inLane.LowerLane].forEach((function(t){t.iceTile&&(e=!0,t.iceTile.die())})),e){var o=g.instantiatePooly(x.plantHeat());o.parent=Pt.component.node,o.worldPosition=this.node.worldPosition}return e},l.isInLawn=function(){return this.lIndex>=0&&this.cIndex>=0&&this.lIndex<=4&&this.cIndex<=8},l.bounceAllPlants=function(){var t=this;this.getAllPlants().forEach((function(e){for(var i=[e.plantInLnC],n=null,o=[e.plantInLnC],a=0;i.length<45&&!n&&a<45;){a++;var l=o.concat();o=[],l.forEach((function(t){n||m.randomize(t.get3x3()).forEach((function(t){n||-1!=i.indexOf(t)||(t.putPlantAvailable(!0,e.ID)?n=t:(o.push(t),i.push(t)))}))}))}n&&n!=t?e.leapTo(n,.5,100,!0,!1):e.throwAway(Math.random()>.5)}))},l.placeGridItem=function(t){switch(t){case ot.lilypad:return this.SpawnPlant(U.LilyPad,!0,!0,!1,!0);case ot.goopuddle:return this.addTileLiquid(Lt.cranjelly,1/0);case ot.slider_up_modern:return this.putTile(J.sliderModernUp,{},!0);case ot.slider_down_modern:return this.putTile(J.sliderModernDown,{},!0);case ot.slider_up:return this.putTile(J.sliderUp,{},!0);case ot.slider_down:return this.putTile(J.sliderDown,{},!0);case ot.deepwater:return this.putTile(J.deepwater,{},!0);case ot.shallowwater:return this.putTile(J.shallowwater,{},!0);case ot.goldtile:return this.putTile(J.goldtile,{},!0);case ot.taichitile:return this.putTile(J.taichitile,{},!0);default:return null}},l.tombable=function(t,e){var i;return void 0===t&&(t=!0),void 0===e&&(e=!0),!(this.getAllPlants().length>0&&e||this.tombStone&&t||this.rail||this.plantSpawning||this.sheep||this.octopus&&t||this.iceblock&&t||null!=(i=this.gridZombiesInSquare)&&i.length||this.slider||this.tileType!=yt.deck&&this.tileType!=yt.water&&this.tileType!=yt.solid)},l.SpawnTomb=function(t,e,i,n,o,a){var l;if(void 0===e&&(e=!0),void 0===i&&(i=!1),void 0===n&&(n=!1),void 0===o&&(o=!0),void 0===a&&(a=!0),this.tombable(!0,!n)&&(!o||this.isInLawn())){var r=g.instantiatePooly(O.getTomb(t));r.parent=this.inLane.tombLayer;var s=r.getComponent(A);if(s.worldPosition=new d(this.plantPoint.worldPosition.x,this.plantPoint.worldPosition.y),s.setInLnC(this),s.ID=t,a&&s.playSpawnParticle(),i&&q.playTombRiseHeavy(),s.judgeInLnC(),null==(l=s.GridItemCP)||l.setGridItemType([ot.gravestone,t+ot.gravestone+1]),e&&s.spawnLight){var h=g.instantiatePooly(s.spawnLight);h.parent=this.inLane.tombLayer,h.worldPosition=r.worldPosition}return s}},l.pushPlant=function(t){-1==this.plantInSquare.indexOf(t)&&this.plantInSquare.push(t)},l.pushVine=function(t){-1==this.vineInSquare.indexOf(t)&&this.vineInSquare.push(t)},l.pushTile=function(t){-1==this.tilePlantInSquare.indexOf(t)&&this.tilePlantInSquare.push(t)},l.spawnPlantAccordingToUI=function(){var t=i(o().mark((function t(){var e,i,n,a,l;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.UIInGame.currentPlantID,i=this.UIInGame.currentPlantBoosted,n=this.UIInGame.currentPlantForceBoosted,!this.putPlantAvailable(!0,e)&&!this.replantable(e)){t.next=17;break}return this.UIInGame.spawnPlantCost(),this.UIInGame.plantKeyCool=2,this.UIInGame.index=-1,this.UIInGame.tryChangingIndex(-1),this.readIndex(),this.UIInGame.currentPlantBoosted=!1,t.next=12,this.SpawnPlant(e,!1,!0,!0,!0,this.UIInGame.isImitator,!0);case 12:return a=t.sent,i&&(M.getPlantFeature(e).BOOST>0&&a.food(),n||-1!=_.BoostedPlantsUsed.indexOf(e)||(l=vt.getPlantProgressByID(e),_.BoostedPlantsUsed.push(e),l.boost--,vt.savePP())),t.abrupt("return",a);case 17:return t.abrupt("return",null);case 18:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),l.removePlant=function(){var t,e=this,i=0,n=!1;if(!this.sheep){if(this.octopus&&_.sandBoxModeOn&&(this.octopus.die(),n=!0),this.iceblock&&_.sandBoxModeOn&&(this.iceblock.die(),n=!0),this.vineInSquare.length&&!n&&this.vineInSquare.concat().forEach((function(t){if(t.shovelable()){t.shovelDropSun&&(_.component.lastStandPrepareStarted?i+=t.suncost:i+=t.suncost*_.SunShovelRate),n=!0;var o=e.vineInSquare.indexOf(t);-1!=o&&e.vineInSquare.splice(o,1),t.die(!1),t.node.destroy()}})),this.plantInSquare.length&&!n){var o=!0;this.plantInSquare.concat().forEach((function(t){o&&(t.allowOverlap||(o=!1))})),this.plantInSquare.concat().forEach((function(t){if(t.allowOverlap==o&&t.shovelable()){t.shovelDropSun&&(_.component.lastStandPrepareStarted?i+=t.suncost:i+=t.suncost*_.SunShovelRate),n=!0;var a=e.plantInSquare.indexOf(t);-1!=a&&e.plantInSquare.splice(a,1),t.die(!1),t.node.destroy()}}))}if(this.haveFloawerPot&&!n){var a,l=this.floawerPot;if(l.shovelable())l.shovelDropSun&&(_.component.lastStandPrepareStarted?i+=l.suncost:i+=l.suncost*_.SunShovelRate),this.correctPlantPoint(),n=!0,null==l||l.die(!1),null==l||null==(a=l.node)||a.destroy()}if(this.haveLilyPad&&!n){var r,s=this.lilyPad;if(s.shovelable())s.shovelDropSun&&(_.component.lastStandPrepareStarted?i+=s.suncost:i+=s.suncost*_.SunShovelRate),this.correctPlantPoint(),n=!0,null==s||s.die(!1),null==s||null==(r=s.node)||r.destroy()}if(_.sandBoxModeOn&&!n&&this.crackleCountdown>0&&(this.crackleCountdown=0,n=!0),_.sandBoxModeOn&&!n&&(this.tileLiquidCountdown>0&&(this.tileLiquidCountdown=.01,n=!0),this.iceTile&&(this.iceTile.die(),n=!0),this.tombStone&&(this.tombStone.die(),n=!0),this.tilesInSquare.length>0&&!n&&(n=!0,this.removeTiles())),n){if(i>0&&null!=(t=st.component)&&t.shown)R.produceSun(i,this.plantPoint.worldPosition.toVec2(),0,!1).forEach((function(t){t.collect()}));if(this.tileType==yt.solid||this.tileType==yt.deck){var d=g.instantiatePooly(x.plantDirts());d.parent=this.inLane.node,d.worldPosition=this.plantPoint.worldPosition,d.getComponent(h.ArmatureDisplay).playAnimation("Remove",1)}this.haveFloawerPot&&this.floawerPot,this.tileType==yt.water?q.playShovelDigWater():q.playShovelDig(),this.UIInGame.index=-1,this.UIInGame.tryChangingIndex(-1),this.selection()}}},l.foodable=function(){var t=!1;return this.getAllPlants().forEach((function(e){t||!e.foodable||e.fooding||e.sheepend||(t=!0)})),t},l.plantfood=function(){var t=!1;this.getAllPlants(!1).forEach((function(e){e.foodable&&!e.fooding&&(B.plantFoodNum>0||j.freePF?e.food()&&(t=!0):B.plantfoodWarn())})),t&&(this.UIInGame.index=-1,this.UIInGame.tryChangingIndex(-1),B.component.plantFoodDec(),this.tilesInSquare.forEach((function(t){t.onFoodedByPlayer()})))},l.start=function(){var t,e,i=this;(this.schedule((function(){if(i.tileLiquidCountdown>0&&i.currentTileLiquid==Lt.cranjelly){var t,e=new b(10,!0,!1,!1,null,I.physicle);i.inLane.zombiePool().forEach((function(t){!t.flying&&i.rec.judgeCrossRec(t.bodyRecReal)&&t.dealDamage(e)})),null==(t=i.tombStone)||t.dealDamage(e)}}),.5,1/0,0),this.selectionDB.playAnimation("Nope"),this.plantPoint)&&(this.inLane&&(this.plantPoint.worldPosition=new r(this.plantPoint.worldPosition.x,this.inLane.floorY,10)),null==(t=this.orgPlantPoint)||t.setWorldPosition(this.plantPoint.worldPosition),null==(e=this.potPoint)||e.setWorldPosition(this.plantPoint.worldPosition));this.ppOldPos=this.orgPlantPoint?this.orgPlantPoint.worldPosition.clone():new r(0,0,0),v.moveCrossing(-1,-1)},l.standardize=function(){this._lefter=this._getLefter(),this._righter=this._getRighter(),this._upper=this._getUpper(),this._lower=this._getLower()},l.selection=function(){var t,e,i,n=w.component.currentPlantID;if(this.index=0,(this.putPlantAvailable(!0,n)||this.replantable(n))&&w.index>=0&&w.index<=8)this.index=1;else if(1==(null==(t=v.component)?void 0:t.indexShovel)){var o=!1;this.getAllPlants().forEach((function(t){o||(o=t.shovelable())})),o?this.index=1:_.isBeghouled?this.crackleCountdown>0&&(this.index=1):_.sandBoxModeOn&&(this.iceTile||this.crackleCountdown>0||this.tombStone||this.tileLiquidCountdown>0||this.tilesInSquare[0]||this.octopus||this.iceblock)&&(this.index=1)}else(this.foodable()&&1==(null==(e=v.component)?void 0:e.indexPF)||9==w.index||-4==w.index&&1==this.indexPoint)&&(this.index=1);if(0==this.index)null==(i=this.selectionDB)||i.playAnimation("Nope");else if(1==this.index&&0==this.indexPoint){var a;null==(a=this.selectionDB)||a.playAnimation(0==v.lncSelectionMode?"Slow":"Nope")}else if(1==this.index&&1==this.indexPoint){var l;null==(l=this.selectionDB)||l.playAnimation(0==v.lncSelectionMode?"Fast":"Nope")}},l.addMold=function(){if(!this.mold&&this.isInLawn()){var t=y(K.mold());t.parent=this.inLane.tombLayer,t.setSiblingIndex(0),this.mold=t.getComponent(V),this.mold.worldPosition=new d(this.node.worldPosition.x,this.node.worldPosition.y)}},l.addFlower=function(t){void 0===t&&(t=0);var e=y(K.flower());e.parent=this.inLane.node,e.setSiblingIndex(0);var i=e.getComponent(Q);return i.worldPosition=new d(this.node.worldPosition.x+(t-.5)*v.SquareWidth,this.node.worldPosition.y),i},l.addRail=function(t,e){var i;if(void 0===e&&(e=ot.none),!this.rail){var n="Mid";0==t?n="Up":2==t&&(n="Down"),isNaN(e)&&(e=tt.getLawnRailCart(tt.CurrentLawnID));var o="Frontyard";switch(e){case ot.railcart_egypt:o="Egypt";break;case ot.railcart_pirate:o="Pirate";break;case ot.railcart_cowboy:o="Cowboy";break;case ot.railcart_future:o="Future";break;case ot.railcart_dark:o="Dark";break;case ot.railcart_sky:o="Sky";break;case ot.railcart_kongfu:o="Kongfu";break;default:e=ot.railcart_tutorial,o="Frontyard"}var a=y(K.rail());return a.parent=tt.railLayer,this.rail=a.getComponent($),this.rail.tileID=J.rail,this.rail.inLnC=this,this.rail.db.playAnimation(n+o),this.rail.pos=t,null==(i=this.rail)||null==(i=i.gridItemCP)||i.setGridItemType([ot.rail,e-ot.railcart-ot.rail]),this.rail}},l.addCart=function(t){var e,i;if(void 0===t&&(t=NaN),null==(e=this.rail)||!e.getCartInLnC(this)){isNaN(t)&&(t=tt.getLawnRailCart(tt.CurrentLawnID));var n="Frontyard";switch(t){case ot.railcart_egypt:n="Egypt";break;case ot.railcart_pirate:n="Pirate";break;case ot.railcart_cowboy:n="Cowboy";break;case ot.railcart_future:n="Future";break;case ot.railcart_dark:n="Dark";break;case ot.railcart_sky:n="Sky";break;case ot.railcart_kongfu:n="Kongfu";break;default:t=ot.railcart_tutorial,n="Frontyard"}var o=y(K.cart());o.parent=tt.cartLayer,o.worldPosition=this.node.worldPosition;var a=o.getComponent(et);return a.inLnC=this,a.db.playAnimation(n,1),a.tileID=J.cart,this.rail&&this.rail.group.forEach((function(t){t.carts.push(a)})),null==a||null==(i=a.gridItemCP)||i.setGridItemType([ot.railcart,t]),a}},l.setOccupied=function(t){var e=this.occupied;this.occupied=this.occupied>t?this.occupied:t,this.occupied>0&&e<=0&&this.readIndex()},l.setElectricLine=function(t,e,i,n,o){if(o&&!(e<=0)){this.electricLineDamage=Math.max(i,this.electricLineDamage);var a=(1==t?v.SquareWidth:v.SquareHeight)/200;if(1==t){if(this.horizontalElectricCountdown=this.horizontalElectricCountdown>e?this.horizontalElectricCountdown:e,!this.horizontalElectricDB&&e>0){var l=y(o);l.parent=v.electricLineLayer,l.worldScale=new r(a,a,a),l.worldPosition=this.node.worldPosition,l.angle=90,this.horizontalElectricDB=l.getComponent(h.ArmatureDisplay),this.horizontalElectricDB.playAnimation("normal"+Math.floor(3*Math.random()).toString()),this.horizontalElectricFooded=0}n&&(this.horizontalElectricFooded<=0&&this.horizontalElectricDB.playAnimation("food"+Math.floor(3*Math.random()).toString()),this.horizontalElectricFooded=2)}else if(2==t){if(this.verticalElectricCountdown=this.verticalElectricCountdown>e?this.verticalElectricCountdown:e,!this.verticalElectricDB&&e>0){var s=y(o);s.parent=v.electricLineLayer,s.worldScale=new r(a,a,a),s.worldPosition=this.node.worldPosition,s.angle=0,this.verticalElectricDB=s.getComponent(h.ArmatureDisplay),this.verticalElectricDB.playAnimation("normal"+Math.floor(3*Math.random()).toString()),this.verticalElectricFooded=0}n&&(this.verticalElectricFooded<=0&&this.verticalElectricDB.playAnimation("food"+Math.floor(3*Math.random()).toString()),this.verticalElectricFooded=2)}else if(0==t){if(this.verticalElectricCountdown=0,this.horizontalElectricCountdown=0,this.centerElectricCountdown=this.centerElectricCountdown>e?this.centerElectricCountdown:e,!this.centerElectricDB&&e>0){var d=y(o);d.parent=v.electricLineLayer,d.worldPosition=this.node.worldPosition,this.centerElectricDB=d.getComponent(h.ArmatureDisplay),this.centerElectricDB.playAnimation("normal"),this.centerElectricFooded=0}n&&(this.centerElectricFooded<=0&&this.centerElectricDB.playAnimation("food"),this.centerElectricFooded=2)}}},l.dealElectric=function(t){var e,i,n;this.horizontalElectricCountdown>0&&(this.horizontalElectricCountdown--,this.horizontalElectricFooded>0&&(this.horizontalElectricFooded--,this.horizontalElectricFooded<=0&&(null==(e=this.horizontalElectricDB)||e.playAnimation("normal"+Math.floor(3*Math.random()).toString()),this.electricLineDamage=0)));(this.horizontalElectricCountdown<=0&&(this.electricLineDamage=0,this.horizontalElectricDB&&(g.destroyPooly(this.horizontalElectricDB.node),this.horizontalElectricDB=null)),this.verticalElectricCountdown>0)&&(this.verticalElectricCountdown--,this.verticalElectricFooded>0&&(this.verticalElectricFooded--,this.verticalElectricFooded<=0&&(null==(i=this.verticalElectricDB)||i.playAnimation("normal"+Math.floor(3*Math.random()).toString()),this.electricLineDamage=0)));(this.verticalElectricCountdown<=0&&(this.electricLineDamage=0,this.verticalElectricDB&&(g.destroyPooly(this.verticalElectricDB.node),this.verticalElectricDB=null)),this.centerElectricCountdown>0)&&(this.centerElectricCountdown--,this.centerElectricFooded>0&&(this.centerElectricFooded--,this.centerElectricFooded<=0&&(null==(n=this.centerElectricDB)||n.playAnimation("normal"),this.electricLineDamage=0)));this.centerElectricCountdown<=0&&(this.electricLineDamage=0,this.centerElectricDB&&(g.destroyPooly(this.centerElectricDB.node),this.centerElectricDB=null))},n(a,[{key:"slider",get:function(){return this.tilesInSquare.find((function(t){return t.tileID==J.sliderDown||t.tileID==J.sliderUp||t.tileID==J.sliderModernDown||t.tileID==J.sliderModernUp}))}},{key:"deepwater",get:function(){return this.tilesInSquare.find((function(t){return t.tileID==J.deepwater}))}},{key:"shallowwater",get:function(){return this.tilesInSquare.find((function(t){return t.tileID==J.shallowwater}))}},{key:"tileType",get:function(){if(this.deepwater||this.shallowwater)return yt.water;var t=tt.getTidePos();return!isNaN(t)&&this.cIndex>=0&&(this.cIndex>=t||this.lIndex<=-1||this.lIndex>=5)?yt.water:this._tileType},set:function(t){this._tileType=t}},{key:"plantPoint",get:function(){return this._plantPoint?this._plantPoint:this.node},set:function(t){this._plantPoint=t}},{key:"shadowCD",get:function(){return this._shadowCD},set:function(t){if(t>0&&this._shadowCD<=0){var e=g.instantiatePooly(x.darkBuff());this.darkBuffParticle=e.getComponent(h.ArmatureDisplay),e.parent=this.inLane.node,e.worldPosition=this.node.worldPosition,e.setSiblingIndex(0),this.darkBuffParticle.playAnimation("Start")}else if(t<=0&&this._shadowCD>0){var i;null==(i=this.darkBuffParticle)||i.armature().animation.fadeIn("End",.2,1),this.darkBuffParticle=null}this._shadowCD=t}},{key:"haveLilyPad",get:function(){var t,e;return(null==(t=this.lilyPad)?void 0:t.isAlive())&&(null==(e=this.lilyPad.node)?void 0:e.active)}},{key:"haveFloawerPot",get:function(){var t,e;return(null==(t=this.floawerPot)?void 0:t.isAlive())&&(null==(e=this.floawerPot.node)?void 0:e.active)}},{key:"crackleCountdown",get:function(){return this._crackleCountdown},set:function(t){var e,i,n,o=t>90,a=this._crackleCountdown>90,l=o!=a||t>0&&this._crackleCountdown<=0;if(t>0&&this._crackleCountdown<=0&&(this.tileType==yt.solid||this.tileType==yt.deck||this.tileType==yt.water)){if(!this.crackedTile){var r=g.instantiatePooly(T.brokenTile());r.parent=v.crackleLayer,r.worldPosition=this.node.worldPosition,this.crackedTile=r.getComponent(h.ArmatureDisplay)}if(!this.crackedTileSparkle){var s=g.instantiatePooly(T.brokenTileSparkles());s.parent=this.inLane.tombLayer,s.setSiblingIndex(0),s.worldPosition=this.node.worldPosition,this.crackedTileSparkle=s.getComponent(h.ArmatureDisplay);var d=this.tileType==yt.water?"Idle_Water":"Idle";this.crackedTileSparkle.armature().animation.gotoAndPlayByProgress(d,Math.random(),1/0)}this.crackedTile.playAnimation("Spawn"),this._crackleCountdown=t,this.getAllPlants().forEach((function(t){t.pushTideListener()})),this.readIndex()}l&&(null==(e=this.crackedTile)||e.armature().getSlot("BG")._setDisplayIndex(o?1:0),null==(i=this.crackedTileSparkle)||i.armature().getSlots().forEach((function(t){t.name.includes("_P1")&&t._setDisplayIndex(o?0:-1)})));t<=0&&(null==(n=this.crackedTile)||n.playAnimation("Fade"),this.crackedTile=null,this._crackleCountdown=0,this.readIndex(),this.crackedTileSparkle&&g.destroyPooly(this.crackedTileSparkle.node),this.crackedTileSparkle=null);this._crackleCountdown=t}},{key:"FoodLinkTile",get:function(){return this.tilesInSquare.find((function(t){return t.tileID==J.foodLinker}))}},{key:"plantSpawning",get:function(){return this.spawningPromiseCount>0}},{key:"GoldTile",get:function(){return this.tilesInSquare.find((function(t){return t.tileID==J.goldtile}))}},{key:"TrapTiles",get:function(){return this.tilesInSquare.filter((function(t){return-1!=[J.trap_bouldertile_backward,J.trap_bouldertile_forward,J.trap_firetile,J.trap_thundertile].indexOf(t.tileID)}))}},{key:"tombParent",get:function(){return this._tombParent?this._tombParent:this.plantPoint},set:function(t){this._tombParent=t}},{key:"octopus",get:function(){var t;return(null==(t=this.tombStone)?void 0:t.ID)==F.squid?this.tombStone:null}},{key:"iceblockPrepareLevel",get:function(){return this._iceblockPrepareLevel},set:function(t){var e=t=Math.floor(t);t>0&&this.iceblockable()&&(t=0),this.iceblock&&this.iceblock.heal(150*e);var i=this.getAllPlants();t>0&&i.length>0?(this._iceprepare||(this._iceprepare=y(x.plantIcePrepare()).getComponent(h.ArmatureDisplay),this._iceprepare.node.parent=this.inLane.prjLayer,this._iceprepare.node.worldScale=new r(lt,lt,lt),this._iceprepare.node.worldPosition=this.plantPoint.worldPosition),t<=2?this._iceprepare.playAnimation("Idle"+(t-1).toString()):(this.iceblockSpawn(!0),q.playPlantIceblockedSound(),this.iceblockPrepareLevel=0)):(t=0,this._iceprepare&&(g.destroyPooly(this._iceprepare.node),this._iceprepare=null)),this._iceblockPrepareLevel=t}},{key:"iceblock",get:function(){var t,e;return(null==(t=this.tombStone)?void 0:t.ID)==F.iceblock_plant||(null==(e=this.tombStone)?void 0:e.ID)==F.iceblock_zombie?this.tombStone:null}},{key:"lefter",get:function(){return this._lefter||(this._lefter=this._getLefter()),this._lefter}},{key:"righter",get:function(){return this._righter||(this._righter=this._getRighter()),this._righter}},{key:"upper",get:function(){return this._upper||(this._upper=this._getUpper()),this._upper}},{key:"lower",get:function(){return this._lower||(this._lower=this._getLower()),this._lower}},{key:"tombStone",get:function(){var t;return null!=(t=this._tombStone)&&t.isAlive()?this._tombStone:(this._tombStone=null,null)},set:function(t){this._tombStone=t}}]),a}(c))||wt);a._RF.pop()}}}));

System.register("chunks:///_virtual/LnCLower.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LnC.ts","./CharacterManager.ts","./Square.ts"],(function(e){var t,n,o,i,r,a,s;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,o=e._decorator,i=e.Component},function(e){r=e.LnC},function(e){a=e.Rectangle},function(e){s=e.Square}],execute:function(){var c;n._RF.push({},"c96e7eFeARCFaBPaweP0RNp","LnCLower",void 0);var l=o.ccclass;o.property,e("LnCLower",l("LnCLower")(c=function(e){function n(){for(var t,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(t=e.call.apply(e,[this].concat(o))||this).SquareUpper=void 0,t}return t(n,e),n.prototype.standardize=function(e){this.SquareUpper=e;var t=e.getComponent(r);t.squareLower=this,this.node.setWorldPosition(this.SquareUpper.getWorldPosition()),t.particleLowerPoint=this.node.getChildByName("ParticleLowerPoint"),t.plantPoint=this.node.getChildByName("PlantPoint"),t.orgPlantPoint=this.node.getChildByName("OrgPlantPoint"),t.potPoint=this.node.getChildByName("PotPoint"),t.potPointUpper=this.node.getChildByName("PotPointUpper"),t.vinePoint=this.node.getChildByName("VinePointUpper"),t.vineBackPoint=this.node.getChildByName("VinePointLower"),t.tombParent=this.node.getChildByName("TombParent"),t.buffParticlePoint=this.node.getChildByName("BuffParticle"),t.rec=a.createRectangleNodeCenter(t.node,s.SquareWidth,s.SquareHeight)},n}(i))||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/LoaderFlower.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MultiLanguage.ts","./KeyListener.ts"],(function(e){var t,i,n,a,r,o,l,c,s,p,u,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){r=e.cclegacy,o=e._decorator,l=e.dragonBones,c=e.Label,s=e.KeyCode,p=e.Component},function(e){u=e.MultiLanguage},function(e){d=e.KeyListener}],execute:function(){var g,L,b,h,m,f,y,v;r._RF.push({},"2311b53jGxBYYgnt5uJjUln","LoaderFlower",void 0);var C=o.ccclass,T=o.property;e("LoaderFlower",(g=C("LoaderFlower"),L=T(l.ArmatureDisplay),b=T(c),g(((v=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,n(t,"db",f,a(t)),n(t,"tipLabel",y,a(t)),t.tipCD=5,t}i(t,e);var r=t.prototype;return r.onLoad=function(){var e=this;this.db.on(l.EventObject.FRAME_EVENT,(function(t){"die"==t.name?e.node.active=!1:"tip"==t.name&&(e.tipLabel.node.active=!0,e.tipLabel.string=e.getTipString())}),this)},r.onEnable=function(){this.tipLabel.node.active=!1,this.tipCD=5},r.getTipString=function(){var e=u.getTipString(),t=d.KeyBinds;return e=e.replace("<KEYCODE_ALL_COLLECT>",d.KeyCodeToString(s[t.Game_CollectAll])).replace("<KEYCODE_BANANA>",d.KeyCodeToString(s[t.Game_BananaLauncher]))},r.update=function(e){this.db.armature().getSlots().forEach((function(e){var i=e.childArmature;if(i){i.animation.timeScale=0;var n=i.animation.lastAnimationState.name;i.animation.gotoAndPlayByTime(n,t.loadedTime,1/0)}})),this.tipLabel.node.active&&(this.tipCD-=e,this.tipCD<=0&&(this.tipCD=5,this.tipLabel.string=this.getTipString())),t.loadedTime+=e},t}(p)).loadedTime=0,f=t((m=v).prototype,"db",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=t(m.prototype,"tipLabel",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=m))||h));r._RF.pop()}}}));

System.register("chunks:///_virtual/LostcityBasicZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./CharacterManager.ts","./NodePools.ts","./ZombieAshParticle.ts","./SoundRescourses.ts","./Plant.ts"],(function(t){var i,e,n,s,a,o,l,h,u,r,g,c,b,d,p,y,f,m;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,s=t.assertThisInitialized,a=t.createClass},function(t){o=t.cclegacy,l=t._decorator,h=t.AudioClip,u=t.Prefab,r=t.Vec3},function(t){g=t.Zombie,c=t.ZombieProps},function(t){b=t.ZombieDamageType,d=t.ZombieDamageDetails},function(t){p=t.instantiatePooly},function(t){y=t.ZombieAshParticle},function(t){f=t.sounds},function(t){m=t.PlantType}],execute:function(){var _,S,B,w,A,P,k,D,v,L,O,C,Z,T,W;o._RF.push({},"48c57lP7aBLIZMDuR6GM8Yo","LostcityBasicZombie",void 0);var H=l.ccclass,I=l.property,E=function(t){function i(){for(var i,e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];return(i=t.call.apply(t,[this].concat(n))||this).BugToughness=0,i.BuggedSPS=.4,i}return e(i,t),i}(c);t("LostcityBasicZombie",(_=H("LostcityBasicZombie"),S=I([h]),B=I([h]),w=I([h]),A=I([h]),P=I(u),k=I(u),_((L=i((v=function(t){function i(){for(var i,e=arguments.length,a=new Array(e),o=0;o<e;o++)a[o]=arguments[o];return(i=t.call.apply(t,[this].concat(a))||this)._objdataOwn=new E,i._objdataOwnOrg=new E,i._bugHealth=0,n(i,"bugSplatSounds",L,s(i)),n(i,"bugIdleSounds",O,s(i)),n(i,"bugRiseSounds",C,s(i)),n(i,"bugUnriseSounds",Z,s(i)),n(i,"bugSplat",T,s(i)),n(i,"bugAsh",W,s(i)),i.risen=!1,i._bugged=!1,i._bug_bp0_slots=[],i._bug_bp1_slots=[],i}e(i,t);var o=i.prototype;return o.onSummonnedByTent=function(t){this.bugged||(this.switching=!0,this.isWalking=!1,this.body.playAnimation("Spawn",1/0))},o.onObjdataSet=function(t){t.BugToughness>0?this.bugged=!0:this.bugged=!1},o.leftHealthForBonkChoy=function(){return this.bugged?this.bugHealth:this.totalHealth()},o.specialZombieOnEnable=function(){this.risen=!1,this._bugged=!this.bugged,this.bugged=!this._bugged,this.specialLostCityBasicOnEnable()},o.specialLostCityBasicOnEnable=function(){},o.extraHealth=function(){return this.bugged?this.bugHealth:0},o.specialLostCityBasicUpdate=function(t,i,e){},o.specialZombieUpdateForced=function(t,i,e){this.bugged&&f.playArray(this.bugIdleSounds,1,NaN,.5),this.specialLostCityBasicUpdate(t,i,e)},o.specialLostCityBasicOnDamaged=function(t,i,e){},o.onDamaged=function(t,i,e){this.specialLostCityBasicOnDamaged(t,i,e)},o.dealDamage=function(t){if(this.invincible)return this.health;if(t.armorProtection&&this.bugged){if(t.damage>0&&this._setHurtingOnDamaged(),this.bugHealth-=t.damage,t.damageType==b.fire&&(this.chill=0,this.freeze=0),this.onDamaged(this.health,this.health,t),this.bugHealth<=0){this.bugged=!1,this.switching=!0,this.isWalking=!1,this.flying=!0,this.body.playAnimation("Land",1,0);var i=!1;switch(t.damageType){case b.electricity:i=!0;case b.fire:case b.ray:this.playBugAsh(i,this.worldPosition,t.shockRGB);break;default:this.playBugSplat()}return t.bugKiller?(this.playDie(!1,t.damageDirection,!0,t.damageType,!0,!0,!0),0):this.health}return this.health+this.bugHealth}return this.defaultDealDamage(t)},o.beforeAshPlayed=function(t,i){void 0===i&&(i=0),this.bugged&&this.playBugAsh(t,this.worldPosition,i)},o.buggedDetectPlant=function(t){var i;if(0!=t)if(this.inLane){if(this.detectPlantOn()){var e=this.plantDetectorRec,n=null,s=null,a=null;if(!this.ignorePlants()){if(!this.hypnotized){var o=!1;this.inLane.plantPool().forEach((function(t){if(t.eaterDetectable&&!t.short_&&e.judgeCrossRec(t.bodyRec)){if(o)return;n&&t.plantType!=m.vine&&t.plantType!=m.plant&&t.plantType!=m.lilyPad&&t.plantType!=m.pot||o||(n=t,o=t.tall_)}}))}s=this.getSingleZombieInRec(e),a=this.getSingleTombInRec(e)}if(null!=(i=n)&&i.tall_||s||a)if(this.risen)this.unrise();else{var l=new d(this.dps*t,!0,!1,!1,null);s?(this.playEat(t),s.eatByZombie(l,this)):a?(this.playEat(t),a.dealDamage(l)):n&&(this.playEat(t),n.eat(l.damage,this))}else n&&!n.tall_?this.risen||this.rise():this.risen?this.unrise():this.playWalk()}}else this.playWalk()},o.rise=function(){this.risen||(this.switching=!0,this.risen=!0,this.isWalking=!1,this.body.playAnimation("Rise_Bug",1),this.body.WalkAnm="Walk_Bug_Risen",this.correctShadeWP(),f.playArray(this.bugRiseSounds,1,NaN,.1))},o.unrise=function(){this.risen&&(this.switching=!0,this.isWalking=!1,this.body.playAnimation("Unrise_Bug",1),this.body.WalkAnm="Walk_Bug",this.risen=!1,this.correctShadeWP(),f.playArray(this.bugUnriseSounds,1,NaN,.1))},o.detectPlant=function(t){this.bugged?this.buggedDetectPlant(t):this.defaultDetectPlant(t)},o.playSpecialZombieDie=function(t){this.bugged&&(this.playBugSplat(),this._flying=!1,this.judgeDeath(0))},o.playBugSplat=function(){var t,i=p(this.bugSplat);f.playArray(this.bugSplatSounds,1,.3),i.parent=null==(t=this.inLane)?void 0:t.prjLayer,i.worldPosition=this.node.worldPosition;var e=this._scaleForCharacter;i.scale=new r(e,Math.abs(e),1)},o.playBugAsh=function(t,i,e){void 0===i&&(i=this.worldPosition),void 0===e&&(e=0);var n=p(this.bugAsh);if(n){n.parent=this.node.parent,n.setSiblingIndex(this.node.getSiblingIndex());var s,a=n.getComponent(y);if(this.smartShadeHider?a.inLnC=this.shadeInLnC:a.inLnC=this.inLnC,a.characterComponent.worldPosition=i,a.characterComponent.height=this.height,a.characterComponent.depth=this.depth,a.characterComponent.scale=this.scale,a.height=this.height,a.TotalRGB=e,t)null==(s=a.db)||s.playAnimation("Shock",1/0),f.playZombieShock();else a.playAsh()}},o.specialZombieOnLoad=function(){var t=this;this.db.armature().getSlots().forEach((function(i){i.name.includes("_BP0")?t._bug_bp0_slots.push(i):i.name.includes("_BP1")&&t._bug_bp1_slots.push(i)})),this.specialLostCityBasicOnLoad()},o.specialLostCityBasicOnLoad=function(){},o.onButtered=function(t){if(this.bugged){var i=new d(this.bugHealth,!0,!0,!0,null,b.physicle);this.dealDamage(i),this.butterStun=0}},o.walkSpeedScaleExtra=function(){return this.bugged?this.objdataOwn.BuggedSPS/this.squarePerSec:1},o.lockedTimeScale=function(){return this.switching?1:NaN},o.walkTimeScale=function(t,i,e){return this.bugged?1:this.defaultWalkTimeScale(t,i,e)},a(i,[{key:"objdataOwn",get:function(){return this._objdataOwn}},{key:"objdataOwnOrg",get:function(){return this._objdataOwn}},{key:"bugHealth",get:function(){return this._bugHealth},set:function(t){t>this.objdataOwnOrg.BugToughness/2?(this._bug_bp0_slots.forEach((function(t){t._setDisplayIndex(0)})),this._bug_bp1_slots.forEach((function(t){t._setDisplayIndex(-1)}))):(this._bug_bp0_slots.forEach((function(t){t._setDisplayIndex(-1)})),this._bug_bp1_slots.forEach((function(t){t._setDisplayIndex(0)}))),this._bugHealth=t}},{key:"bugged",get:function(){return this._bugged},set:function(t){t&&!this.bugged?(this.risen=!1,this.flyZombie=!0,this.currentFlyZombie=!0,this._flying=!0,this.body.IdleAnm="Idle_Bug",this.body.WalkAnm="Walk_Bug",this.body.EatAnm="Eat_Bug",this.bugHealth=this.objdataOwnOrg.BugToughness,this.isWalking&&this.isAlive()&&this.replayAnimation()):!t&&this.bugged&&(this.risen=!1,this.flyZombie=!1,this.currentFlyZombie=!1,this._flying=!1,this.body.IdleAnm="Idle",this.body.WalkAnm="Walk",this.body.EatAnm="Eat",this.bugHealth=0,this.isWalking&&this.isAlive()&&this.replayAnimation()),this._bugged=t}}]),i}(g)).prototype,"bugSplatSounds",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=i(v.prototype,"bugIdleSounds",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C=i(v.prototype,"bugRiseSounds",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Z=i(v.prototype,"bugUnriseSounds",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),T=i(v.prototype,"bugSplat",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=i(v.prototype,"bugAsh",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=v))||D));o._RF.pop()}}}));

System.register("chunks:///_virtual/LostcityCrystalSkullZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EgyptRaZombie.ts","./SoundRescourses.ts","./Square.ts","./CharacterManager.ts","./NodePools.ts"],(function(t){var e,o,i,n,s,a,r,h,l,c,u,b,d,p,m,y,f,g,w;return{setters:[function(t){e=t.inheritsLoose,o=t.applyDecoratedDescriptor,i=t.initializerDefineProperty,n=t.assertThisInitialized,s=t.createClass},function(t){a=t.cclegacy,r=t._decorator,h=t.Prefab,l=t.AudioClip,c=t.Vec2,u=t.Vec3},function(t){b=t.EgyptRaProps,d=t.EgyptRaZombie},function(t){p=t.sounds},function(t){m=t.Square},function(t){y=t.ZombieDamageDetails,f=t.ZombieDamageType,g=t.LineSegment},function(t){w=t.instantiatePooly}],execute:function(){var L,D,C,S,P,R,j,v,z,O,A;a._RF.push({},"3db82/WOd5IRZ9gjhdXzmmZ","LostcityCrystalSkullZombie",void 0);var E=r.ccclass,_=r.property,Z=t("LostcityCrystalSkullProps",function(t){function o(){for(var e,o=arguments.length,i=new Array(o),n=0;n<o;n++)i[n]=arguments[n];return(e=t.call.apply(t,[this].concat(i))||this).LaserBeamDamage=4001,e.LaserBeamLength=220,e.LaserCooldownTime=5,e.ChargingTime=5,e.ChargingTimeDecrementPer50Sun=.2,e}return e(o,t),o}(b));t("LostcityCrystalSkullZombie",(L=E("LostcityCrystalSkullZombie"),D=_(h),C=_(l),S=_(l),P=_([l]),L((v=o((j=function(t){function o(){for(var e,o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))||this)._objdataOwn=new Z,e.sunMode="Blue",i(e,"shootRay",v,n(e)),e.shootDis=220,e.absorbCD=0,e.detectCD=0,i(e,"absorbLoopSound",z,n(e)),i(e,"absorbEndSound",O,n(e)),i(e,"shootSounds",A,n(e)),e}e(o,t);var a=o.prototype;return a.onObjdataSet=function(t){this.shootDis=m.transFrom_ow_To_gw(this.objdataOwn.LaserBeamLength)},a.specialRaOnEnable=function(){this.shootDis=m.transFrom_ow_To_gw(this.objdataOwn.LaserBeamLength)},a.onSunArrives=function(t){this.absorbCD-=this.objdataOwn.ChargingTimeDecrementPer50Sun*t.value/50},a.specialRaAnimationListener=function(t){var e=this;if("shoot"==t.name){if(!this.isAlive())return;p.playArray(this.shootSounds,1,.2);var o=new y(this.objdataOwn.LaserBeamDamage,!0,!0,!0,null,f.fire);if(this.inLane){var i=g.createLineVec(new c(this.worldPositionX,this.worldPositionY+this.zombieHeight/2),new c(this.reversed?this.shootDis:-this.shootDis,0));!this.hypnotized&&this.inLane.plantPool().forEach((function(t){e.plantCanBeDetected(t)&&i.judgeCrossRec(t.bodyRec)&&t.dealDamage(e.objdataOwn.LaserBeamDamage,3)})),(this.hypnotized?this.inLane.zombiePool():this.inLane.hypnoZombiePool()).forEach((function(t){i.judgeCrossRec(t.bodyRec)&&t.dealDamage(o)})),this.inLane.tombPool(this.hypnotized?0:1).forEach((function(t){i.judgeCrossRec(t.bodyRec)&&t.dealDamage(o)}));var n=w(this.shootRay);n.parent=this.inLane.prjLayer,n.worldPosition=this.absorber.worldPosition,n.scale=new u(Math.sign(this.scale)*(this.shootDis-Math.abs(this.worldPositionX-this.absorber.worldPosition.x))/522,this.node.scale.y,1)}}},a.throwAll=function(){this.willAbsorbSun.forEach((function(t){t.switchMode("Normal"),t.absorber=null}))},a.detectShootEnemies=function(){var t=this;if(!this.inLane)return!1;var e=this.shootDis-m.SquareWidth/2,o=g.createLineVec(new c(this.worldPositionX,this.worldPositionY+this.zombieHeight/2),new c(this.reversed?e:-e,0));return!(this.hypnotized||!this.inLane.plantPool().some((function(e){return t.plantCanBeDetected(e)&&o.judgeCrossRec(e.bodyRec)})))||(!!(this.hypnotized?this.inLane.zombiePool():this.inLane.hypnoZombiePool()).some((function(t){return o.judgeCrossRec(t.bodyRecForShooter)}))||!!this.inLane.tombPool(this.hypnotized?0:1).some((function(t){return o.judgeCrossRec(t.bodyRec)})))},a.plantCanBeDetected=function(t){return!t.short_},a.baseAbsorbs=function(){return!0},a.judgeAbsorb=function(t,e){return this.absorbing?this.absorbCD>0:!this.switching&&(e>0&&this.detectCD<=0&&this.detectShootEnemies())},a.whetherAbsorbThisSun=function(t,e){return!this.hypnotized},a.specialRaUpdate=function(t,e,o){this.absorbing&&(p.playOneShot(this.absorbLoopSound,1,NaN,.9),this.absorbCD-=t),!this.switching&&this.enteredLawn&&(this.detectCD-=t)},a.onAbsorbStart=function(){this.absorbCD=this.objdataOwn.ChargingTime},a.onAbsorbEnd=function(){p.playOneShot(this.absorbEndSound,1,.5),this.detectCD=this.objdataOwn.LaserCooldownTime},s(o,[{key:"objdataOwn",get:function(){return this._objdataOwn}}]),o}(d)).prototype,"shootRay",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=o(j.prototype,"absorbLoopSound",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=o(j.prototype,"absorbEndSound",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=o(j.prototype,"shootSounds",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=j))||R));a._RF.pop()}}}));

System.register("chunks:///_virtual/LostcityExcavatorZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./CharacterManager.ts","./SoundRescourses.ts","./JSONs.ts"],(function(t){var e,i,o,n,a,l,r,h,s,c,u,d,v,b,y,S;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized,a=t.createClass},function(t){l=t.cclegacy,r=t._decorator,h=t.AudioClip,s=t.Prefab,c=t.Vec2},function(t){u=t.Zombie,d=t.ZombieProps},function(t){v=t.Rectangle,b=t.ZombieDamageDetails},function(t){y=t.sounds},function(t){S=t.PvZ2Object}],execute:function(){var p,f,g,m,w,R,A,D,P,j,k,_,O,L,I,z,C,Z,x;l._RF.push({},"f843c0mvjlG07mAPhCKP+gg","LostcityExcavatorZombie",void 0);var T=r.ccclass,W=r.property,B=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),n=0;n<i;n++)o[n]=arguments[n];return(e=t.call.apply(t,[this].concat(o))||this).ShovelDamage=150,e.HitRectWithShovel="RTID(LostcityExcavatorWithShovelHitRect@RectangleProps)",e.AttackRectWithShovel="RTID(LostcityExcavatorWithShovelAttackRect@RectangleProps)",e}return i(e,t),e}(d);t("LostcityExcavatorZombie",(p=T("LostcityExcavatorZombie"),f=W([h]),g=W([h]),m=W([h]),w=W([h]),R=W([h]),A=W([h]),D=W([h]),P=W(s),p((_=e((k=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];return(e=t.call.apply(t,[this].concat(a))||this)._objdataOwn=new B,e._objdataOwnOrg=new B,e._haveShovel=!1,o(e,"loseShovelSounds",_,n(e)),o(e,"digSounds",O,n(e)),o(e,"digSaySounds",L,n(e)),o(e,"throwSounds",I,n(e)),o(e,"throwSaySounds",z,n(e)),o(e,"hitSounds",C,n(e)),o(e,"blockSounds",Z,n(e)),e.ShovelHitRect={x:0,y:0,w:0,h:0},e.ShovelAttackRect={x:0,y:0,w:0,h:0},e.deathAnmFadeInTime=0,o(e,"shovelDrop",x,n(e)),e._shovelSlot=void 0,e}i(e,t);var l=e.prototype;return l.specialZombieOnEnable=function(){this.haveShovel=!0},l.setShovelRectBoxes=function(){var t,e,i=null==(t=S.getObjectsByRTID(this.objdataOwnOrg.HitRectWithShovel,"RectangleProps")[0])||null==(t=t.objdata)?void 0:t.Values;i&&(this.ShovelHitRect=i);var o=null==(e=S.getObjectsByRTID(this.objdataOwnOrg.AttackRectWithShovel,"RectangleProps")[0])||null==(e=e.objdata)?void 0:e.Values;o&&(this.ShovelAttackRect=o)},l.onObjdataSet=function(t){this.setShovelRectBoxes()},l.detectPlant=function(t){var e=this;if(this.haveShovel){if(t<=0||!this.inLane||!this.detectPlantOn())return;var i=!0,o=!1;!o&&(this.hypnotized?this.inLane.zombiePool():this.inLane.hypnoZombiePool()).some((function(t){return e.plantDetectorRec.judgeCrossRec(t.bodyRec)}))&&(o=!0,i=!1),!o&&this.inLane.tombPool(this.hypnotized?0:1).some((function(t){return e.plantDetectorRec.judgeCrossRec(t.bodyRec)}))&&(o=!0,i=!1),o||this.hypnotized||this.inLane.plantPool().forEach((function(t){i&&(t.eaterDetectable||t.smasherDetectable)&&e.plantDetectorRec.judgeCrossRec(t.bodyRec)&&(o=!0,(t.objdataOwn.CannotBePushedByFootballMech||t.invincible)&&(i=!1))})),o&&(this.correctShadeWP(.1),this.isWalking=!1,this.switching=!0,this.body.playAnimation(i?"Dig":"Attack",1/0,.1))}else this.defaultDetectPlant(t)},l.playSpecialZombieDie=function(t){this.switching&&this.judgeDeath(0)},l.playSpecialZombieDeath=function(){this.haveShovel&&this.throwShovel()},l.getFoodMagnetedObject=function(){return this.haveShovel?(this.haveShovel=!1,this.throwShovel()):this.getMagnetedObject()},l.throwShovel=function(){var t;return y.playArray(this.loseShovelSounds,1,0),this.drop(this.shovelDrop,this.zombieHeight/2+this.height,this.worldPosition.toVec3(),null,null==(t=this.inLane)?void 0:t.prjLayer)},l.commonShotPopOnTouch=function(t){var e;return!(this.haveShovel&&0==t.bodyLinearVelocity&&0==t.gravity&&(this.reversed?-1:1)*t.linearVelocity.x>0)||(t.dealSplashDamage(this),t.splat(this),y.playArray(this.blockSounds,1,.3),null==(e=this._shovelSlot.childArmature)||null==(e=e.animation)||e.play("Play",1),!1)},l.specialZombieUpdate=function(t,e,i){var o=this._shovelSlot.childArmature;if(i<=0&&o){var n=o.animation.lastAnimationState.currentTime+e;n<o.animation.lastAnimationState.totalTime&&o.animation.gotoAndPlayByTime(o.animation.lastAnimationState.name,n)}},l._throwPlantRight=function(t){if(t.objdataOwn.CannotBePushedByFootballMech||t.invincible)return this.haveShovel=!1,void this.throwShovel();for(var e=t.plantInLnC.righter.righter;e.isInLawn();){if(e.putPlantAvailable(!0,t.ID,!1))return void t.leapTo(e);e=e.righter}t.throwAway(!1,this)},l._throwPlantLeft=function(t){if(t.objdataOwn.CannotBePushedByFootballMech||t.invincible)return this.haveShovel=!1,void this.throwShovel();for(var e=t.plantInLnC.lefter.lefter;e.isInLawn();){if(e.putPlantAvailable(!0,t.ID,!1))return void t.leapTo(e);e=e.lefter}t.throwAway(!0,this)},l._throwPlants=function(){var t,e=this,i=this.inLane.plantPool().sort((function(t,i){return(e.reversed?-1:1)*(i.worldPositionX-t.worldPositionX)})).find((function(t){return(t.eaterDetectable||t.smasherDetectable)&&e.plantDetectorRec.judgeCrossRec(t.bodyRec)}));i&&(null==(t=i.plantInLnC)||t.getAllPlants(!0).forEach((function(t){(t.eaterDetectable||t.smasherDetectable)&&(e.reversed?e._throwPlantLeft(t):e._throwPlantRight(t))})))},l._hit=function(){var t,e=null,i=null,o=null,n=v.createRectangleCenter(new c(this.shadeSocket.worldPosition.x+this.AttackRect.x*(this.reversed?-1:1),this._worldPosition.y+this._height+this.AttackRect.y),1.5*this.AttackRect.w,this.AttackRect.h),a=new b(this.objdataOwn.ShovelDamage,!0,!0,!0,null);this.hypnotized||this.inLane.plantPool().forEach((function(t){(t.eaterDetectable||t.smasherDetectable)&&t.bodyRec.judgeCrossRec(n)&&(!e||e.bodyRec.prjX().y<t.bodyRec.prjX().y)&&(e=t)})),i=this.getSingleZombieInRec(n),o=this.getSingleTombInRec(n),i?i.dealDamage(a):e?null==(t=e)||t.dealDamage(this.objdataOwn.ShovelDamage,2):o&&o.dealDamage(a)},l.specialZombieOnLoad=function(){this._shovelSlot=this.body.db.armature().getSlot("shovel")},l.specialAnimationListener=function(t){switch(t.name){case"dig":y.playArray(this.digSounds,1,.1),y.playArray(this.digSaySounds,1,.5);break;case"throw":y.playArray(this.throwSounds,1,.1),y.playArray(this.throwSaySounds,1,.5),this.isAlive()&&!this.hypnotized&&this._throwPlants();break;case"hit":y.playArray(this.hitSounds,1,.1),y.playArray(this.throwSaySounds,1,.5),this.isAlive()&&this._hit()}},a(e,[{key:"objdataOwn",get:function(){return this._objdataOwn}},{key:"objdataOwnOrg",get:function(){return this._objdataOwnOrg}},{key:"haveShovel",get:function(){return this._haveShovel},set:function(t){t&&!this._haveShovel?(this.body.IdleAnm="Idle_Shovel",this.body.WalkAnm="Walk_Shovel",this.body.DeathAnm="Death_Shovel",this.isAlive()&&this.replayAnimation()):!t&&this._haveShovel&&(this.body.IdleAnm="Idle",this.body.WalkAnm="Walk",this.body.DeathAnm="Death",this.isWalking?this.replayAnimation():(this.switching=!0,this.body.playAnimation("Lose",1/0))),this._haveShovel=t}},{key:"HitRect",get:function(){return this.haveShovel?this.ShovelHitRect:this.DefaultHitRect}},{key:"AttackRect",get:function(){return this.haveShovel?this.ShovelAttackRect:this.DefaultAttackRect}}]),e}(u)).prototype,"loseShovelSounds",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=e(k.prototype,"digSounds",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=e(k.prototype,"digSaySounds",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),I=e(k.prototype,"throwSounds",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=e(k.prototype,"throwSaySounds",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C=e(k.prototype,"hitSounds",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Z=e(k.prototype,"blockSounds",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),x=e(k.prototype,"shovelDrop",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=k))||j));l._RF.pop()}}}));

System.register("chunks:///_virtual/LostcityGargantuarZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GargantuarZombie.ts","./CharacterManager.ts","./SoundRescourses.ts","./Zombies.ts"],(function(i){var t,n,e,a,o,r,s,u,c,l,g,h,f,d;return{setters:[function(i){t=i.applyDecoratedDescriptor,n=i.inheritsLoose,e=i.initializerDefineProperty,a=i.assertThisInitialized,o=i.createClass},function(i){r=i.cclegacy,s=i._decorator,u=i.AudioClip},function(i){c=i.GargantuarZombie,l=i.GargantuarProps},function(i){g=i.ZombieDamageDetails,h=i.ZombieDamageType},function(i){f=i.sounds},function(i){d=i.ZombieEnum}],execute:function(){var m,p,y,b,S;r._RF.push({},"8bd14dXw55JEIfqFEj6sQo0","LostcityGargantuarZombie",void 0);var _=s.ccclass,w=s.property,v=function(i){function t(){for(var t,n=arguments.length,e=new Array(n),a=0;a<n;a++)e[a]=arguments[a];return(t=i.call.apply(i,[this].concat(e))||this).FireDamage=1200,t}return n(t,i),t}(l);i("LostcityGargantuarZombie",(m=_("LostcityGargantuarZombie"),p=w(u),m((S=t((b=function(i){function t(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=i.call.apply(i,[this].concat(o))||this)._objdataOwn=new v,t.impEnum=d.lostcity_imp,t._fireSlots=[],t._ignited=!0,e(t,"fireSwingSound",S,a(t)),t}n(t,i);var r=t.prototype;return r.TNTRopeIgniter=function(){return!!this.ignited&&(this.ignited=!1,!0)},r.onSmashing=function(i){var t=this;this.ignited&&((this.hypnotized?this.inLane.zombiePool():this.inLane.hypnoZombiePool()).forEach((function(n){i.judgeCrossRec(n.bodyRec)&&n.dealDamage(new g(t.objdataOwn.FireDamage,!0,!0,!0,null,h.fire))})),this.hypnotized||this.inLane.plantPool().forEach((function(t){i.judgeCrossRec(t.bodyRec)&&t.burn()})))},r.smashPlant=function(i){this.ignited?i.burn():i.smash(this,!0)},r.gargantuarOnDamaged=function(i,t,n){n.damageType==h.fire&&(this.ignited=!0)},r.specialGargantuarOnLoad=function(){var i=this;this.body.db.armature().getSlots().forEach((function(t){t.name.includes("FIRE")&&i._fireSlots.push(t)}))},r.specialGargantuarOnEnable=function(){this.ignited=!0},r.onChill=function(i){i>0&&(this.ignited=!1)},r.onFrozen=function(i){i>0&&(this.ignited=!1)},r.specialGargantuarAnimationListener=function(i){"fire_swing"==i.name&&this.ignited&&f.playOneShot(this.fireSwingSound,1,.2)},r.specialGargantuarUpdate=function(i,t,n){this.ignited&&this._fireSlots.forEach((function(i,n){if(i.childArmature){var e=i.childArmature.animation,a=e.lastAnimationState.currentTime;e.timeScale=0,e.gotoAndPlayByTime(e.lastAnimationState.name,a+t,1/0)}}))},o(t,[{key:"objdataOwn",get:function(){return this._objdataOwn}},{key:"ignited",get:function(){return this._ignited},set:function(i){this._ignited=i,this._fireSlots.forEach((function(t){t._setDisplayIndex(i?0:-1)}))}}]),t}(c)).prototype,"fireSwingSound",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=b))||y));r._RF.pop()}}}));

System.register("chunks:///_virtual/LostcityImpPorterZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ImpZombie.ts","./SoundRescourses.ts","./Square.ts","./Tombs.ts","./NodePools.ts"],(function(e){var t,i,n,o,a,r,l,s,c,u,p,h,b,d,y,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,r=e._decorator,l=e.Node,s=e.AudioClip,c=e.Prefab,u=e.tween,p=e.Vec3},function(e){h=e.ImpZombie},function(e){b=e.sounds},function(e){d=e.Square},function(e){y=e.TombEnum},function(e){f=e.NodePools}],execute:function(){var m,w,S,P,k,g,v,I,A,L,x,z,C,Z,D,T,j,R,_;a._RF.push({},"eff33c1/phP2Zk2xhkCZZDW","LostcityImpPorterZombie",void 0);var E=r.ccclass,N=r.property;e("LostcityImpPorterZombie",(m=E("LostcityImpPorterZombie"),w=N(l),S=N([s]),P=N([s]),k=N([s]),g=N([s]),v=N([s]),I=N(c),A=N([s]),m((z=t((x=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return t=e.call.apply(e,[this].concat(a))||this,n(t,"backpackSlot",z,o(t)),n(t,"throwSounds",C,o(t)),n(t,"shakeSounds",Z,o(t)),n(t,"placeSounds",D,o(t)),n(t,"moveSounds",T,o(t)),n(t,"throwSaySounds",j,o(t)),n(t,"backpackPar",R,o(t)),n(t,"explSounds",_,o(t)),t}i(t,e);var a=t.prototype;return a.specialImpOnEnable=function(){this.body.DeathAnm="Death"},a.playSpecialZombieDie=function(e){this.judgeDeath()},a.specialImpAnimationListener=function(e){switch(e.name){case"throw":b.playArray(this.throwSounds,1,.1),b.playArray(this.throwSaySounds,1,.1);break;case"tent":var t=this.worldPositionX,i=d.judgeCIndex(t),n=d.getLnC(this.lIndex,i);if(n.isInLawn()&&n.tombable(!0,!1))if(n.getAllPlants().forEach((function(e){e.kill()})),n.getAllPlants().length)this.playParticle(t);else n.SpawnTomb(y.tent,!1,!1,!0,!0,!1);else this.playParticle(t);break;case"shake":b.playArray(this.shakeSounds,1);break;case"move":b.playArray(this.moveSounds,1);break;case"place":b.playArray(this.placeSounds,1,.2);var o=this.backpackSlot.worldPosition.x,a=d.judgeCIndex(o),r=d.getLnC(this.lIndex,a);if(r.isInLawn()&&r.tombable(!0,!1))if(r.getAllPlants().forEach((function(e){e.kill()})),r.getAllPlants().length)this.playParticle(o);else{var l=r.SpawnTomb(y.backpack,!1,!1,!0,!0,!1);l.worldPositionX=o,u(l).to(.5,{worldPositionX:r.node.worldPosition.x}).start()}else this.playParticle(o)}},a.specialZombieUpdate=function(e,t,i){i>0&&this.isWalking&&this.inLnC&&!this.hypnotized&&this.inLnC.GoldTile&&this.inLnC.tombable(!0,!1)&&this.bodyRec.judgeInRecNode(this.inLnC.node)&&(this.body.DeathAnm="Tent",this.playDie(!1,null,!1,null,!1))},a.playParticle=function(e){var t=f.instantiatePooly(this.backpackPar);t.parent=this.node.parent,t.worldPosition=new p(e,this.worldPositionY);var i=this._scaleForCharacter,n=Math.abs(i);t.worldScale=new p(i,n,n),b.playArray(this.explSounds,1,.1)},t}(h)).prototype,"backpackSlot",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=t(x.prototype,"throwSounds",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Z=t(x.prototype,"shakeSounds",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=t(x.prototype,"placeSounds",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),T=t(x.prototype,"moveSounds",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j=t(x.prototype,"throwSaySounds",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=t(x.prototype,"backpackPar",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=t(x.prototype,"explSounds",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=x))||L));a._RF.pop()}}}));

System.register("chunks:///_virtual/LostcityJaneZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./Character.ts","./SoundRescourses.ts","./Projectiles.ts"],(function(t){var e,i,n,o,a,r,c,s,l,u,m;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,c=t.AudioClip},function(t){s=t.Zombie},function(t){l=t.CharacterType},function(t){u=t.sounds},function(t){m=t.ProjectileShootingFunctions}],execute:function(){var b,h,p,d,f;a._RF.push({},"780b0Q8KQNCmIhRxGrgb7tr","LostcityJaneZombie",void 0);var y=r.ccclass,A=r.property;t("LostcityJaneZombie",(b=y("LostcityJaneZombie"),h=A([c]),b((f=e((d=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return e=t.call.apply(t,[this].concat(a))||this,n(e,"blockSounds",f,o(e)),e.umbrellaArmatures=[],e}i(e,t);var a=e.prototype;return a.commonShotPopOnTouch=function(t){return!t.bodyLinearVelocity||!t.canbeJesterReversed||(m.lobOneCabbageOnNodeAccCS(t,t.worldPosition,t.height,t.node.parent,t.linearVelocity.x>0?t.inLane.toRight:t.inLane.toLeft,.4444,l.default,!0,60),u.playArray(this.blockSounds,1,.3),this.umbrellaArmatures.forEach((function(t){t&&(t.animation.timeScale=1,t.animation.play("Play",1))})),!1)},a.specialZombieOnLoad=function(){var t=this;this.body.db.armature().getSlots().forEach((function(e){e.childArmature&&e.name.includes("Umbrella")&&t.umbrellaArmatures.push(e.childArmature)}))},a.specialZombieUpdate=function(t,e,i){i<=0&&this.umbrellaArmatures.forEach((function(t){var i=t.animation.lastAnimationState.currentTime+e;i<t.animation.lastAnimationState.totalTime&&t.animation.gotoAndPlayByTime(t.animation.lastAnimationState.name,i)}))},e}(s)).prototype,"blockSounds",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),p=d))||p));a._RF.pop()}}}));

System.register("chunks:///_virtual/LostcityLostPilotZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./SoundRescourses.ts"],(function(i){var t,n,a,e,o,r,s,h,l,c,u;return{setters:[function(i){t=i.applyDecoratedDescriptor,n=i.inheritsLoose,a=i.initializerDefineProperty,e=i.assertThisInitialized,o=i.createClass},function(i){r=i.cclegacy,s=i._decorator,h=i.AudioClip},function(i){l=i.Zombie,c=i.ZombieProps},function(i){u=i.sounds}],execute:function(){var g,p,d,y,b,f,m,A,D;r._RF.push({},"79faf6ZgtpBX6CvSUYb+0rO","LostcityLostPilotZombie",void 0);var _=s.ccclass,k=s.property,w=function(i){function t(){for(var t,n=arguments.length,a=new Array(n),e=0;e<n;e++)a[e]=arguments[e];return(t=i.call.apply(i,[this].concat(a))||this).HangingNoEatTimeUntilDrop=6,t}return n(t,i),t}(c);i("LostcityLostPilotZombie",(g=_("LostcityLostPilotZombie"),p=k([h]),d=k([h]),y=k([h]),g((m=t((f=function(i){function t(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=i.call.apply(i,[this].concat(o))||this)._objdataOwn=new w,t._hanging=!1,t.hangCD=0,t.dropping=!1,a(t,"dropSounds",m,e(t)),a(t,"arriveSounds",A,e(t)),a(t,"breakSounds",D,e(t)),t}n(t,i);var r=t.prototype;return r.playWalk=function(i,t){this.hanging?this.body.IdleAnm!=this.body.currentAnimationName&&this.playIdle():this.defaultPlayWalk()},r.specialZombieOnEnable=function(){this.hanging=!1},r.specialDisblowable=function(i){return!i&&(!(!this.hanging&&!this.dropping)&&(this.hangCD=0,!0))},r.playDirtSpawn=function(i,t){this.hanging=!0,this.switching=!0,this.isWalking=!1,this.body.playAnimation("Arrive",1/0)},r.specialAnimationListener=function(i){switch(i.name){case"drop":this.dropping=!1,u.playArray(this.dropSounds,1,.1);break;case"break":u.playArray(this.breakSounds,1,.1);break;case"arrive":u.playArray(this.arriveSounds,1,.1)}},r.specialZombieUpdate=function(i,t,n){!this.isEating&&this.hanging&&(this.hangCD-=i,this.hangCD<=0&&(this.hanging=!1,this.isWalking=!1,this.body.playAnimation("Land",1),this.switching=!0,this.dropping=!0))},o(t,[{key:"objdataOwn",get:function(){return this._objdataOwn}},{key:"hanging",get:function(){return this._hanging},set:function(i){i&&!this._hanging?(this.body.IdleAnm="Idle_Hang",this.body.DeathAnm="Death_Hang",this.body.EatAnm="Eat_Hang",this.hangCD=this.objdataOwn.HangingNoEatTimeUntilDrop,this.currentFlyZombie=!0,this._flying=!0,this.depth=0,this._hanging=!0,this.playWalk()):!i&&this._hanging&&(this.currentFlyZombie=!1,this.body.IdleAnm="Idle",this.body.DeathAnm="Death",this.body.EatAnm="Eat",this.playWalk()),this._hanging=i}}]),t}(l)).prototype,"dropSounds",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=t(f.prototype,"arriveSounds",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=t(f.prototype,"breakSounds",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),b=f))||b));r._RF.pop()}}}));

System.register("chunks:///_virtual/LostcityTent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Tomb.ts","./ArrayGet.ts","./Zombies.ts","./LnC.ts"],(function(t){var e,n,i,r,o,a,s,c,u,m,l,p,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized,o=t.asyncToGenerator,a=t.regeneratorRuntime},function(t){s=t.cclegacy,c=t._decorator},function(t){u=t.Tomb},function(t){m=t.ValueRange,l=t.ArrayGet},function(t){p=t.ZombieEnum},function(t){f=t.LnCSpawnZombieStyleEnum}],execute:function(){var y,h,b,d,g,v,w;s._RF.push({},"6d327ho645ApaKqqgKctz+H","LostcityTent",void 0);var T=c.ccclass,L=c.property;t("LostcityTent",(y=T("LostcityTent"),h=L(Number),b=L(Number),y((v=e((g=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,i(e,"timeBetweenMin",v,r(e)),i(e,"timeBetweenMax",w,r(e)),e.summonCD=0,e.finalWaveVictoryCountdown=.1,e}n(e,t);var s=e.prototype;return s.getInterval=function(){this.summonCD=m.getRandomFromRange(new m(this.timeBetweenMax,this.timeBetweenMin))},s.specialTombOnEnable=function(){this.getInterval()},s._summon=function(){var t=o(a().mark((function t(){var e,n,i=this;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=l.getRandom([p.lostcity,p.lostcity_armor1,p.lostcity_armor2]),t.next=3,null==(e=this.inLnC)?void 0:e.SpawnZombie(n,f.directPut,!1,0);case 3:t.sent.forEach((function(t){t.onSummonnedByTent(i),t.node.setSiblingIndex(0)}));case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s.specialTombUpdate=function(t){this.summonCD>0?this.summonCD-=t:(this.getInterval(),this._summon())},e}(u)).prototype,"timeBetweenMin",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),w=e(g.prototype,"timeBetweenMax",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 12}}),d=g))||d));s._RF.pop()}}}));

System.register("chunks:///_virtual/LostcityZombossMechZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZombossMechZombie.ts","./SoundRescourses.ts","./LnC.ts","./Square.ts","./NodePools.ts","./ArrayGet.ts","./FrontYard.ts","./Character.ts","./Projectiles.ts","./levelController.ts"],(function(e){var t,n,o,i,r,a,s,l,u,h,d,c,p,m,g,b,y,w,f,S,v,P,L,Z,A,C,I,T;return{setters:[function(e){t=e.inheritsLoose,n=e.applyDecoratedDescriptor,o=e.initializerDefineProperty,i=e.assertThisInitialized,r=e.createClass,a=e.asyncToGenerator,s=e.regeneratorRuntime},function(e){l=e.cclegacy,u=e._decorator,h=e.AudioClip,d=e.Prefab,c=e.Node,p=e.Vec2,m=e.tween,g=e.dragonBones},function(e){b=e.ZombossStage,y=e.ZombossMechZombie,w=e.ZombossMechProps},function(e){f=e.sounds},function(e){S=e.LnCSpawnZombieStyleEnum},function(e){v=e.Square},function(e){P=e.instantiatePooly},function(e){L=e.ValueRange,Z=e.ArrayGet},function(e){A=e.FrontYard},function(e){C=e.CharacterType},function(e){I=e.ProjectileShootingFunctions},function(e){T=e.LevelPlay}],execute:function(){var j,k,O,M,x,z,R,_,D,q,F,B,E,Y,H,N,V,X,G,J,W,K,U,Q,$,ee,te,ne,oe,ie,re,ae;l._RF.push({},"e526bdVhqBFuoKeSdEhVigc","LostcityZombossMechZombie",void 0);var se=u.ccclass,le=u.property,ue=(e("LostcityZombossStage",se("LostcityZombossStage")(j=function(e){function n(){for(var t,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(t=e.call.apply(e,[this].concat(o))||this).ParachuteCount=new L(2,2),t.ParachuteColumn=new L(0,0),t}return t(n,e),n}(b))||j),function(e){function n(){for(var t,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(t=e.call.apply(e,[this].concat(o))||this).ZombossStages=[],t}return t(n,e),n}(w));e("LostcityZombossMechZombie",(k=se("LostcityZombossMechZombie"),O=le([h]),M=le([h]),x=le([h]),z=le([h]),R=le([h]),_=le([h]),D=le([h]),q=le([h]),F=le([h]),B=le([h]),E=le([h]),Y=le(d),H=le(c),N=le(c),k((G=n((X=function(e){function n(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this)._objdataOwn=new ue,t._objdataOwnOrg=new ue,t.currentMechStages=[],o(t,"flapSounds",G,i(t)),o(t,"wheelSounds",J,i(t)),o(t,"triggerSounds",W,i(t)),o(t,"beepSounds",K,i(t)),o(t,"mouthOpenSounds",U,i(t)),o(t,"mouthCloseSounds",Q,i(t)),o(t,"balloonDeathSounds",$,i(t)),o(t,"introSounds",ee,i(t)),o(t,"engineShootSounds",te,i(t)),o(t,"planeSounds",ne,i(t)),o(t,"dropSounds",oe,i(t)),t.triggering=!1,t.jumpTargetPoses=[new p(6,0),new p(6,1),new p(6,2),new p(6,3),new p(6,4)],t.balloonFell=!1,o(t,"planeShadePar",ie,i(t)),t.justStunned=!1,o(t,"summonPoint",re,i(t)),o(t,"bagPoint",ae,i(t)),t}t(n,e);var l=n.prototype;return l.specialZombossMechOnEnable=function(){this.triggering=!1,this.balloonFell=!1},l.killInRange=function(){},l.setJumpTargets=function(){var e=this;this.jumpTargetPoses=[0,1,2,3,4].map((function(t){return new p(e.objdataOwn.IdleColumn,t)}))},l.shouldDepth=function(){return this.balloonFell?A.depth(this.worldPositionX,this.inLnC)*this.depthScale:-60},l.jumpStart=function(e){void 0===e&&(e=this.getJumpTarget()),this.jumpHeightTween||(this.ZombossIdling=!1,e||(e=Z.getRandom(this.jumpTargetPoses)),this.willLandPos=e,this.body.playAnimation("Leap",1/0),Math.random()<this.ChanceToLaugh&&f.playArray(this.worldZombossShootSaySounds,1,.1))},l.jump=function(e){void 0===e&&(e=this.getJumpTarget());var t=e.clone();this.reversed&&(t.x=8-t.x);var n=v.getLnC(t.y,t.x),o=this,i=this.height;this.jumpHeightTween=m(o).to(7/6,{height:i/2},{easing:"quadInOut"}).to(7/3,{height:260},{easing:"quadInOut"}).to(7/3,{height:i/2},{easing:"quadInOut"}).to(7/6,{height:i},{easing:"quadInOut"}).start(),this.moveTween=m(o).to(7,{worldPositionX:n.node.worldPosition.x,worldPositionY:n.node.worldPosition.y},{easing:"quadInOut"}).call((function(){o.moveTween=null,o.jumpHeightTween=null})).start()},l._dropSandBag=function(){var e=a(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Math.random()>.5&&f.playArray(this.worldZombossRushSaySounds,1,.1),e.next=3,I.lobOneCabbageOnPos(this.objdataOwn.MissileType,new p(this.bagPoint.worldPosition.x,this.worldPositionY),this.bagPoint.worldPosition.y-this.worldPositionY,this.inLane.prjLayer,new p(this.bagPoint.worldPosition.x,this.worldPositionY),.2222,C.default,20,0);case 3:(t=e.sent).gravity=.2222,t.bodyLinearVelocity=-6;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),l.specialZombossMechAnimationListener=function(e){var t=this;switch(e.name){case"Idle":this.triggering=!1;break;case"drop":this._dropSandBag();break;case"rushSay":Math.random()>.5&&f.playArray(this.worldZombossStabSaySounds,1,.1);break;case"dropSound":f.playArray(this.dropSounds,1,.1);break;case"flap":f.playArray(this.flapSounds,1,.1),f.playArray(this.wheelSounds,1,.1);break;case"introSound":f.playArray(this.introSounds,1,.1);break;case"introSay":f.playArray(this.worldZombossSpawnSaySounds,1,.1);break;case"balloonDeath":f.playArray(this.balloonDeathSounds,1,.1),this.balloonFell=!0,this.fallingInSky||this.node.setParent(this.inLane.zombieLayer,!0),Math.random()>.5&&f.playArray(this.worldZombossRushSaySounds,1,.1);break;case"triggerStart":f.playArray(this.worldZombossShootSaySounds,1,.1),f.playArray(this.triggerSounds,1,.1),this.triggering=!0;break;case"triggerEnd":f.playArray(this.triggerSounds,1,.1),this.triggering=!1;break;case"summonStart":this.summonStart();break;case"mouthOpen":f.playArray(this.mouthOpenSounds,1,.1);break;case"mouthClose":f.playArray(this.mouthCloseSounds,1,.1);break;case"engineBurst":f.playArray(this.engineShootSounds,1,.1);break;case"plane":f.playArray(this.planeSounds,2,.1);var n=P(this.planeShadePar);n.parent=v.getLane(4).prjLayer,n.worldPosition=v.getLnC(2,3).node.worldPosition;var o=n.getComponent(g.ArmatureDisplay);null==o||o.playAnimation(this.reversed?"PlayR":"PlayL",1/0);break;case"parachute":for(var i=this.currentMechStages[this.currentStage],r=L.getRandomIntegerFromRange(i.ParachuteCount),l=[],u=0;u<5;u++)for(var h=i.ParachuteColumn.Min;h<=i.ParachuteColumn.Max;h++){var d=v.getLnC(u,h);d.isInLawn()&&l.push(d)}l=Z.randomize(l);for(var c=function(){var e,n=l[p];t.reversed&&(n=v.getLnC(n.lIndex,8-n.cIndex)),null==(e=T.component)||e.scheduleOnce(a(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.SpawnZombieByZombieType("lostcity_lostpilot",S.dirtSpawn);case 2:e.sent.forEach((function(e){e.hypnotized=t.hypnotized,e.reversed=t.reversed}));case 4:case"end":return e.stop()}}),e)}))),Math.random())},p=0;p<l.length&&p<r;p++)c()}},l.specialZombieSetLaneChangeParent=function(e,t){var n,o,i=t.LowerLane.LowerLane;null!=(n=i)&&n.prjLayer||(i=t.LowerLane),null!=(o=i)&&o.prjLayer||(i=t),this.node.setParent(i.prjLayer,!0)},l.rushAction=function(){this.ZombossIdling=!1,this.rush()},l.shootAction=function(){this.isAlive()&&(this.targetLocators=[],this.ZombossIdling=!1,this.body.playAnimation("Shoot",1),Math.random()<this.ChanceToLaugh&&this.playOneShot(Z.getRandom(this.worldZombossShootSaySounds),1,!0),this.shooting=!0)},l.rush=function(){var e,t=this;this.willRush=!1;for(var n=this.reversed?1:7,o=[],i=0;i<5;i++){var r=v.getLnC(i,n);r=this.reversed?r.lefter:r.righter,this.lIndex!=i&&r.TrapTiles.length>0&&o.push(i)}if(o.length){this.body.playAnimation("Rush",1/0);var a=v.getLnC(Z.getRandom(o),n);this.ZombossIdling||this.body.playAnimation("Idle"),null==(e=this.moveTween)||e.stop(),this.moveTween=m(this).to(1,{worldPositionX:a.node.worldPosition.x,worldPositionY:a.node.worldPosition.y},{easing:"quadInOut"}).call((function(){var e;t.ZombossIdling=!1,null==(e=t.moveTween)||e.stop(),t.moveTween=null,t.body.playAnimation("Drop",1/0)})).start()}else this.ZombossIdling=!0},l.detectRushEnemies=function(){return!0},l.summonAction=function(){for(var e,t=this,n=[],o=0;o<4;o++)this.lIndex!=o&&n.push(o);var i=this.reversed?2:6,r=v.getLnC(Z.getRandom(n),i);this.ZombossIdling||this.body.playAnimation("Idle"),null==(e=this.moveTween)||e.stop(),this.moveTween=m(this).to(1,{worldPositionX:r.node.worldPosition.x,worldPositionY:r.node.worldPosition.y},{easing:"quadInOut"}).call((function(){var e;t.ZombossIdling=!1,null==(e=t.moveTween)||e.stop(),t.moveTween=null,t.body.playAnimation("SummonStart",1/0)})).start()},l.getIdleC=function(){return this.justStunned?(this.justStunned=!1,NaN):this.cIndex},l.summonAudioActive=function(){},l.specialZombossMechStunEnd=function(){var e;null==(e=this.jumpHeightTween)||e.stop(),this.jumpHeightTween=null,this.justStunned=!0},l.getDeltaDepth=function(e,t){return Math.sign(e)*t*180},l.summonAZombie=function(){var e=a(s().mark((function e(){var t,n,o,i,r,a,l=this;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=this.summonZombieList.shift(),i=this.reversed?this.inLnC.lefter:this.inLnC.righter,r=[i],null!=(t=i.lower)&&t.isInLawn()&&r.push(i.lower),null!=(n=i.lower)&&null!=(n=n.lower)&&n.isInLawn()&&r.push(i.lower.lower),i=Z.getRandom(r)){e.next=8;break}return e.abrupt("return");case 8:return e.next=10,i.SpawnZombieByZombieType(o,S.fromLane);case 10:a=e.sent,!this.pfSent&&Math.random()<.3&&(a[0].havePlantfood=!0,this.pfSent=!0),a.forEach((function(e){e.reversed=l.reversed,e.hypnotized=l.hypnotized,e.isWalking=!1,e.playWalk(),e.worldPositionX=l.shadeSocket.worldPosition.x-(l.reversed?-1:1)*v.SquareWidth/2,e.height_depth=l.summonPoint.worldPosition.y-e.worldPositionY,e.leapBy(new p(0,0),!0,.5,e.height_depth,!0,!1,!1,!0)})),this.summonZombieList.length<=0&&this.summonEnd();case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),l.specialZombossUpdate=function(e,t,n){this.triggering&&f.playArray(this.beepSounds,2,NaN,.8)},r(n,[{key:"objdataOwn",get:function(){return this._objdataOwn}},{key:"objdataOwnOrg",get:function(){return this._objdataOwnOrg}}]),n}(y)).prototype,"flapSounds",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),J=n(X.prototype,"wheelSounds",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),W=n(X.prototype,"triggerSounds",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),K=n(X.prototype,"beepSounds",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),U=n(X.prototype,"mouthOpenSounds",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Q=n(X.prototype,"mouthCloseSounds",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),$=n(X.prototype,"balloonDeathSounds",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ee=n(X.prototype,"introSounds",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),te=n(X.prototype,"engineShootSounds",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ne=n(X.prototype,"planeSounds",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),oe=n(X.prototype,"dropSounds",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ie=n(X.prototype,"planeShadePar",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),re=n(X.prototype,"summonPoint",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ae=n(X.prototype,"bagPoint",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=X))||V));l._RF.pop()}}}));

System.register("chunks:///_virtual/lostcityZombossSandbag.ts",["./rollupPluginModLoBabelHelpers.js","cc","./commonShot.ts","./SoundRescourses.ts"],(function(n){var t,o,r,e,i,s,a,c,u;return{setters:[function(n){t=n.applyDecoratedDescriptor,o=n.inheritsLoose,r=n.initializerDefineProperty,e=n.assertThisInitialized},function(n){i=n.cclegacy,s=n._decorator,a=n.AudioClip},function(n){c=n.commonShot},function(n){u=n.sounds}],execute:function(){var l,p,d,f,y;i._RF.push({},"99899Gk5ppAM5wKQxc6KSFG","lostcityZombossSandbag",void 0);var b=s.ccclass,S=s.property;n("lostcityZombossSandbag",(l=b("lostcityZombossSandbag"),p=S([a]),l((y=t((f=function(n){function t(){for(var t,o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return t=n.call.apply(n,[this].concat(i))||this,r(t,"sandSounds",y,e(t)),t}o(t,n);var i=t.prototype;return i.specialOnGroundHit=function(n){var t;return null==n||null==(t=n.TrapTiles)||t.forEach((function(n){n.trigger()})),u.playArray(this.sandSounds,1,.1),!0},i.detectEnemy=function(n){},t}(c)).prototype,"sandSounds",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),d=f))||d));i._RF.pop()}}}));

System.register("chunks:///_virtual/LostRelicHunterZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PirateSwashbucklerZombie.ts"],(function(e){var t,o,r,i;return{setters:[function(e){t=e.inheritsLoose},function(e){o=e.cclegacy,r=e._decorator},function(e){i=e.PirateSwashbucklerZombie}],execute:function(){var c;o._RF.push({},"44625+LKvpJKo5BPxWwJAe9","LostRelicHunterZombie",void 0);var n=r.ccclass;r.property,e("LostRelicHunterZombie",n("LostRelicHunterZombie")(c=function(e){function o(){return e.apply(this,arguments)||this}return t(o,e),o}(i))||c);o._RF.pop()}}}));

System.register("chunks:///_virtual/Lychee.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./SoundRescourses.ts","./CharacterManager.ts","./Square.ts","./NodePools.ts"],(function(t){var e,n,a,o,i,l,s,r,h,c,u,f,d,p,g,S,y;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,a=t.initializerDefineProperty,o=t.assertThisInitialized,i=t.createClass},function(t){l=t.cclegacy,s=t._decorator,r=t.AudioClip,h=t.Prefab,c=t.Vec3},function(t){u=t.Plant,f=t.PlantProps},function(t){d=t.sounds},function(t){p=t.ZombieDamageDetails,g=t.Rectangle},function(t){S=t.Square},function(t){y=t.instantiatePooly}],execute:function(){var b,m,P,L,w,H,v,D,_,E,R,M,O,j,x,z,C,I;l._RF.push({},"f33b9bdi+tOxIsQULRVULhu","Lychee",void 0);var N=s.ccclass,A=s.property,B=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))||this).DamagePerHit=20,e.DamagePerHitPlantfood=40,e.PlantfoodDamageReceiveMult=.5,e.HealthBetweenHits=100,e.HealthBetweenHitsPlantfood=50,e.Toughness=3e3,e}return n(e,t),e}(f),F=(b=N("LycheeSound"),m=A([r]),P=A([r]),L=A([r]),b((v=e((H=function(){function t(){a(this,"food",v,this),a(this,"hit",D,this),a(this,"metal",_,this)}var e=t.prototype;return e.playFood=function(){d.playArray(this.food,1,.1)},e.playHit=function(){d.playArray(this.hit,1,NaN,.3)},e.playMetal=function(){d.playArray(this.metal,1,NaN,.3)},t}()).prototype,"food",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=e(H.prototype,"hit",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=e(H.prototype,"metal",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),w=H))||w);t("LycheePlant",(E=N("LycheePlant"),R=A(F),M=A(h),O=A(h),E((z=e((x=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return e=t.call.apply(t,[this].concat(i))||this,a(e,"soundRes",z,o(e)),e._objdataOwn=new B,e._fooded=!1,e._shellStage=0,e.shell0Slots=[],e.shell1Slots=[],e.shell2Slots=[],e.shell3Slots=[],e.shell4Slots=[],e.shell5Slots=[],a(e,"HitNormalPar",C,o(e)),a(e,"HitMetalPar",I,o(e)),e.switching=!1,e}n(e,t);var l=e.prototype;return l.onObjdataSet=function(t,e){},l.specialPlantOnEnable=function(){this.foodable=!0,this.switching=!1,this._fooded=!1,this.shellStage=0},l.specialPlantOnLoad=function(){var t,e=this;null==(t=this.db.armature().getSlots())||t.forEach((function(t){var n=function(e){return t.name.includes(e)};n("SHELL0")?e.shell0Slots.push(t):n("SHELL1")?e.shell1Slots.push(t):n("SHELL2")?e.shell2Slots.push(t):n("SHELL3")?e.shell3Slots.push(t):n("SHELL4")?e.shell4Slots.push(t):n("SHELL5")&&e.shell5Slots.push(t)}))},l.setShell=function(t,e){var n=e?1:0;this.shell0Slots.forEach((function(e){var a=0==t?n:-1;e._setDisplayIndex(a)})),this.shell1Slots.forEach((function(e){var a=1==t?n:-1;e._setDisplayIndex(a)})),this.shell2Slots.forEach((function(e){var a=2==t?n:-1;e._setDisplayIndex(a)})),this.shell3Slots.forEach((function(e){var a=3==t?n:-1;e._setDisplayIndex(a)})),this.shell4Slots.forEach((function(e){var a=4==t?n:-1;e._setDisplayIndex(a)})),this.shell5Slots.forEach((function(e){var a=5==t?n:-1;e._setDisplayIndex(a)}))},l.damageScale=function(t,e){return this.fooded?this.objdataOwn.PlantfoodDamageReceiveMult:1},l.specialPlantOnKilled=function(){this.onDamaged(0,this.health,0)},l.onBurnt=function(){this.onDamaged(0,this.health,0)},l.replantable=function(){return this.shellStage>0},l.replant=function(){this.health=this.toughness,this.shellStage=0},l.onDamaged=function(t,e,n){var a=this.shellStage,o=Math.max(0,n),i=this.fooded?this.objdataOwn.HealthBetweenHitsPlantfood:this.objdata.HealthBetweenHits,l=Math.floor(e/i),s=Math.floor(o/i),r=Math.max(0,5-Math.floor(o/this.toughness*6));a!=r&&(this.shellStage=r);var h=this.inLnC.node.worldPosition,u=(l-s)*this._dmgScale*(this.fooded?this.objdataOwn.DamagePerHitPlantfood:this.objdataOwn.DamagePerHit);if(u>0){var f=new p(u),d=g.createRectangleCenter(h.toVec2(),3*S.SquareWidth,3*S.SquareHeight),b=[];this.inLane.zombiePool().concat(this.inLane.UpperLane.zombiePool(),this.inLane.LowerLane.zombiePool()).forEach((function(t){-1==b.indexOf(t)&&d.judgeCrossRec(t.bodyRec)&&b.push(t)})),b.forEach((function(t){t.dealDamage(f)})),this.inLane.tombPool().concat(this.inLane.UpperLane.tombPool(),this.inLane.LowerLane.tombPool()).forEach((function(t){d.judgeCrossRec(t.bodyRec)&&t.dealDamage(f)})),this.switching=!0,this.anmControl.playAnimation("Shoot",1),this.fooded&&this.soundRes.playMetal(),this.soundRes.playHit();var m=y(this.fooded?this.HitMetalPar:this.HitNormalPar);m.parent=this.inLane.prjLayer,m.worldPosition=h,m.scale=new c(.7,.7,1)}},l.waterable=function(){return!this.switching},l.animationOnComplete=function(){this.switching=!1},l.specialPlantFood=function(t){this.soundRes.playFood(),this.fooded=!0,this.shellStage=0,this.foodable=!1,this.foodEnd()},i(e,[{key:"objdataOwn",get:function(){return this._objdataOwn}},{key:"fooded",get:function(){return this._fooded},set:function(t){this._fooded=t,this.setShell(this._shellStage,t)}},{key:"shellStage",get:function(){return this._shellStage},set:function(t){var e;(this._shellStage=t,this.setShell(t,this._fooded),this.dead)||this.replantable()&&(null==(e=this.plantInLnC)||e.readIndex())}}]),e}(u)).prototype,"soundRes",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new F}}),C=e(x.prototype,"HitNormalPar",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=e(x.prototype,"HitMetalPar",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=x))||j));l._RF.pop()}}}));

System.register("chunks:///_virtual/MagnetShroom.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./CharacterManager.ts","./Square.ts","./Character.ts","./NodePools.ts","./SoundRescourses.ts","./Projectiles.ts"],(function(o){var t,i,n,e,r,s,a,h,l,d,c,b,u,f,m,p,g,A,S,w,y,P;return{setters:[function(o){t=o.applyDecoratedDescriptor,i=o.inheritsLoose,n=o.initializerDefineProperty,e=o.assertThisInitialized,r=o.createClass},function(o){s=o.cclegacy,a=o._decorator,h=o.AudioClip,l=o.Node,d=o.Vec2,c=o.tween,b=o.Vec3,u=o.TWO_PI},function(o){f=o.Plant,m=o.PlantProps},function(o){p=o.Rectangle,g=o.ZombiePool},function(o){A=o.Square},function(o){S=o.CharacterType},function(o){w=o.NodePools},function(o){y=o.sounds},function(o){P=o.ProjectileShootingFunctions}],execute:function(){var v,C,L,O,R,M,D,j,_,E,T,z,F,Y,k,x,q,U,V,I;s._RF.push({},"6ba32ixBPpPLasfuVKITn50","MagnetShroom",void 0);var N=a.ccclass,X=a.property,H=function(o){function t(){for(var t,i=arguments.length,n=new Array(i),e=0;e<i;e++)n[e]=arguments[e];return(t=o.call.apply(o,[this].concat(n))||this).RestTime=10,t.PlantfoodAbsorbDuration=1.5,t.PlantfoodThrowDamage=300,t}return i(t,o),t}(m),W=(v=N("magnetshroomSound"),C=X(h),L=X(h),O=X(h),R=X(h),v((j=t((D=function(){function o(){n(this,"shootSound",j,this),n(this,"catchSound",_,this),n(this,"foodSound",E,this),n(this,"absorbSound",T,this)}var t=o.prototype;return t.playShoot=function(){y.playOneShot(this.shootSound,1,.1)},t.playCatch=function(){y.playOneShot(this.catchSound,1,.1)},t.playFood=function(){y.playOneShot(this.foodSound,1,.1)},t.playAbsorb=function(){y.playOneShot(this.absorbSound,1,.1)},o}()).prototype,"shootSound",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=t(D.prototype,"catchSound",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=t(D.prototype,"foodSound",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=t(D.prototype,"absorbSound",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=D))||M);o("MagnetShroomPlant",(z=N("MagnetShroomPlant"),F=X(l),Y=X(W),k=X([h]),z((U=t((q=function(o){function t(){for(var t,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return t=o.call.apply(o,[this].concat(r))||this,n(t,"armorSocket",U,e(t)),n(t,"soundRes",V,e(t)),t._objdataOwn=new H,t.detectorM=new p,t.detectorUD=new p,t.foodAbsorbCD=0,t.foodAbsorbedArmors=[],t.foodedTime=0,t.absorbedArmor=null,t.absorbedArmorOldScale=1,t.switching=!1,t._resting=0,n(t,"hitSounds",I,e(t)),t}i(t,o);var s=t.prototype;return s.specialPlantOnSquareChange=function(o,t){this.detectorM=p.createRectangleNodeCenter(t.node,7*A.SquareWidth,3*A.SquareHeight),this.detectorUD=p.createRectangleNodeCenter(t.node,5*A.SquareWidth,5*A.SquareHeight)},s.getMagnetedObject=function(){var o,t,i,n,e=this,r=null;return[this.inLane,null==(o=this.inLane)?void 0:o.UpperLane,null==(t=this.inLane)?void 0:t.LowerLane].forEach((function(o){var t;r||null==o||null==(t=o.zombiePool())||t.forEach((function(o){r||e.detectorM.judgeCrossRec(o.bodyRec)&&(r=o.getMagnetedObject())}))})),r||([null==(i=this.inLane)||null==(i=i.UpperLane)?void 0:i.UpperLane,null==(n=this.inLane)||null==(n=n.LowerLane)?void 0:n.LowerLane].forEach((function(o){var t;r||null==o||null==(t=o.zombiePool())||t.forEach((function(o){r||e.detectorUD.judgeCrossRec(o.bodyRec)&&(r=o.getMagnetedObject())}))})),r)},s.specialOnLaneChange=function(o,t){this.foodParent=t.prjLayer},s.specialPlantFood=function(o){this.foodAbsorbedArmors=[],this.foodedTime=0,this.resting=0,this.foodAbsorbCD=this._objdataOwn.PlantfoodAbsorbDuration,this.absorbedArmor=null,this.soundRes.playFood(),this.switching=!1,this.anmControl.playAnimation("FoodStart"),this.foodLightParticle.setParent(this.inLane.foodPlantLayer,!0),this.node.setParent(this.inLane.prjLayer,!0),this.body.setParent(this.node,!0)},s.absorbAll=function(){var o=this;g.pool().concat().forEach((function(t){var i=t.getFoodMagnetedObject();i&&o.absorbAnArmor(i,.5)}))},s.specialPlantFoodEnd=function(){this.switching=!0,this.absorbedArmor=null,this.anmControl.playAnimation("FoodEnd",1),this.node.setParent(this.plantInLnC.plantPoint,!0)},s.animationListener=function(o){if("Shoot"==o.name)if(this.foodAbsorbedArmors[0]){this.soundRes.playShoot();var t=this.foodAbsorbedArmors[0];this.foodAbsorbedArmors.shift();var i=P.shootOnePeaAccCS(t,this.worldPosition,(this.armorSocket.worldPosition.y-this.worldPositionY)/2,this.inLane.prjLayer,new d(8,0),S.zombie);i.setDamage(this._objdataOwn.PlantfoodThrowDamage*this._dmgScale),i.detectEnemyOn=!0,i.PopSound=this.hitSounds,i.bodyOmega=5,i.node.setSiblingIndex(0)}else this.foodEnd()},s.specialPlantOnEnable=function(){this.absorbedArmor=null},s.absorbAnArmor=function(o,t){var i=this;void 0===t&&(t=1);var n=o;return n.linearVelocity=new d(0,0),n.bodyLinearVelocity=0,n.bodyOmega=0,c(o).to(.2,{height:t*(this.armorSocket.worldPosition.y-this.worldPositionY),worldPositionX:this.armorSocket.worldPosition.x,worldPositionY:this.worldPositionY}).call((function(){i.dead||(i.fooding?i.foodAbsorbedArmors.push(o):(i.absorbedArmor=o,i.absorbedArmorOldScale=o.node.worldScale.x,i.absorbCatch()))})).start(),o},s.absorbStart=function(){this.soundRes.playAbsorb(),this.anmControl.playAnimation("AbsorbStart",1/0,0,1.3),this.switching=!0},s.absorbCatch=function(){this.soundRes.playCatch(),this.anmControl.playAnimation("AbsorbEnd"),this.switching=!1,this.resting=this._objdataOwn.RestTime*this._cdScale},s.animationOnComplete=function(){this.switching=!1},s.waterable=function(){return this.resting<=0&&!this.switching},s.specialPlantOnSheepend=function(){this.resting>0&&this.recover()},s.recover=function(){this.anmControl.playAnimation("Recover",1),this.soundRes.playCatch(),this.switching=!0,this.absorbedArmor&&w.destroyPooly(this.absorbedArmor.node),this.absorbedArmor=null},s.specialPlantUpdate=function(o,t,i){var n=this,e=this.armorSocket.worldPosition.y-this.worldPositionY;if(!this.switching&&!this.fooding&&!this.sheepend)if(this.resting<=0){var r=this.getMagnetedObject();r&&(this.absorbStart(),this.absorbAnArmor(r))}else{var s=o;this._cdScale,this.absorbedArmor&&(s*=this.absorbedArmor.MagnetShroomConsumingSpeed),this.resting-=s,this.resting<=0&&this.recover()}if(this.absorbedArmor){this.absorbedArmor.worldPositionX=this.armorSocket.worldPosition.x,this.absorbedArmor.worldPositionY=this.worldPositionY,this.absorbedArmor.height=e;var a=this.absorbedArmor;if(a.bodyLinearVelocity=0,this.resting>0){var h=Math.max(this.absorbedArmorOldScale*this.resting/this._objdataOwn.RestTime,.01);a.node.worldScale=new b(h,h,h)}}if(this.fooding&&!this.sheepend){if(this.foodAbsorbCD>0&&(this.foodAbsorbCD-=o,this.absorbAll()),this.foodAbsorbCD<=0&&!this.switching){this.switching=!0;var l=Math.min(5,Math.max(1,this.foodAbsorbedArmors.length/20));this.anmControl.playAnimation("FoodShoot",1/0,0,l)}var d=this.foodAbsorbedArmors.length;if(this.foodedTime+=o,d>0){var c=[];this.foodAbsorbedArmors.concat().forEach((function(o,t){if(o){var i=o,r=u*t/d+3*n.foodedTime,s=30*Math.cos(r),a=30*Math.sin(r)*.5;i.height=e/2,i.bodyLinearVelocity=0,i.worldPositionX=n.worldPositionX+s,i.worldPositionY=n.worldPositionY+a,c.push(i)}})),c.push(this),c.sort((function(o,t){return t.worldPositionY-o.worldPositionY})).forEach((function(o,t){o.node.setSiblingIndex(t+1)}))}}},r(t,[{key:"resting",get:function(){return this._resting},set:function(o){this.deathAnm=o>0?"DeathDark":"Death",this._resting=o}}]),t}(f)).prototype,"armorSocket",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=t(q.prototype,"soundRes",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new W}}),I=t(q.prototype,"hitSounds",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),x=q))||x));s._RF.pop()}}}));

System.register("chunks:///_virtual/MagnifyingGrass.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./SunCount.ts","./NodePools.ts","./Character.ts","./SandBoxLevelSettingWindow.ts","./Zombie.ts","./CharacterManager.ts","./Plants.ts","./ParticleSelfdestroy.ts","./Tomb.ts","./SoundRescourses.ts","./Projectiles.ts"],(function(o){var t,n,i,a,r,e,s,d,l,h,f,u,c,P,p,g,b,w,y,S,m,T,D,C,v,_,A,E,L,F,R,O,x;return{setters:[function(o){t=o.applyDecoratedDescriptor,n=o.inheritsLoose,i=o.initializerDefineProperty,a=o.assertThisInitialized,r=o.asyncToGenerator,e=o.regeneratorRuntime},function(o){s=o.cclegacy,d=o._decorator,l=o.AudioClip,h=o.Node,f=o.Prefab,u=o.Vec3,c=o.tween,P=o.Vec2,p=o.HALF_PI,g=o.instantiate},function(o){b=o.Plant,w=o.PlantProps},function(o){y=o.SunCount},function(o){S=o.instantiatePooly},function(o){m=o.CharacterType},function(o){T=o.SandBoxLevelSettingWindow},function(o){D=o.Zombie},function(o){C=o.ZombiePool,v=o.TombPool,_=o.ZombieDamageDetails,A=o.ZombieDamageType,E=o.PlantPool},function(o){L=o.plants},function(o){F=o.ParticleSelfdestroy},function(o){R=o.Tomb},function(o){O=o.sounds},function(o){x=o.ProjectileShootingFunctions}],execute:function(){var j,I,z,Y,M,Z,X,G,B,q,H,W,k,N,V,K,U,J,Q,$,oo,to,no,io,ao,ro,eo,so;s._RF.push({},"ccf001ZKmdPHZ+CDO3Le8dl","MagnifyingGrass",void 0);var lo=d.ccclass,ho=d.property,fo=function(o){function t(){for(var t,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(t=o.call.apply(o,[this].concat(i))||this).ShootSunCost=50,t.SunProducerList=["sunflower","twinsunflower","sunshroom","primalsunflower","moonflower"],t.PlantfoodDuration=3,t.PlantfoodDurationExtendPerProducer=.15,t.PlantfoodDPS=200,t.ShootInterval=.667,t.PeaType="magnifying_grass",t}return n(t,o),t}(w),uo=(j=lo("magnifyinggrassSound"),I=ho([l]),z=ho([l]),Y=ho(l),M=ho([l]),Z=ho([l]),j((B=t((G=function(){function o(){i(this,"shootSounds",B,this),i(this,"foodStartSounds",q,this),i(this,"foodLoopSound",H,this),i(this,"foodEndSounds",W,this),i(this,"foodingSounds",k,this)}var t=o.prototype;return t.playShootSound=function(){O.playArray(this.shootSounds,1,.1)},t.playFoodStartSound=function(){O.playArray(this.foodStartSounds,1,.1)},t.playFoodEndSound=function(){O.playArray(this.foodEndSounds,1,.1)},t.playFoodingSound=function(){var o;O.playArray(this.foodingSounds,1,.5),O.playOneShot(this.foodLoopSound,1,null==(o=this.foodLoopSound)?void 0:o.getDuration())},o}()).prototype,"shootSounds",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),q=t(G.prototype,"foodStartSounds",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),H=t(G.prototype,"foodLoopSound",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=t(G.prototype,"foodEndSounds",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=t(G.prototype,"foodingSounds",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),X=G))||X);o("MagnifyingGrassPlant",(N=lo("MagnifyingGrassPlant"),V=ho(uo),K=ho(h),U=ho(f),J=ho(f),Q=ho(f),$=ho(f),N((no=t((to=function(o){function t(){for(var t,n=arguments.length,r=new Array(n),e=0;e<n;e++)r[e]=arguments[e];return(t=o.call.apply(o,[this].concat(r))||this).sunProducerList=[],i(t,"soundRes",no,a(t)),i(t,"peaSpawnPoint",io,a(t)),t._foodEndCD=3,t._foodExtendCD=.15,t.foodTarget=null,t.pfIdleTargetDX=400,t.pfIdleTargetDY=200,t.shooting=!1,i(t,"foodFromParPrefab",ao,a(t)),t.foodFromPar=void 0,i(t,"foodToParPrefab",ro,a(t)),t.foodToPar=void 0,i(t,"foodAbsorbParPrefab",eo,a(t)),t.foodAbsorbPar=[],i(t,"foodRayParPrefab",so,a(t)),t.foodRayPar=void 0,t._objdataOwn=new fo,t.shootCD=0,t}n(t,o);var s=t.prototype;return s.teach=function(){y.component.SunCount>=this._objdataOwn.ShootSunCost||T.freePlant?(this.addArrow(1/0),this.defaultTeach(1)):this.arrowCountdown=0},s.specialPlantUpdateForce=function(o,t,n){var i=this;if(this.shootCD>0&&(this.shootCD-=o),this.fooding){if(this.foodTarget&&!this.foodTarget.isAlive()&&(this.foodTarget=null),this.foodTarget||(this.foodTarget=C.leftest(),this.foodTarget||(this.foodTarget=v.leftest())),this.foodTarget){var a,r,e=this._objdataOwn.PlantfoodDPS*o;e*=this._dmgScale;var s=new _(e,!0,!1,!0,null,A.ray);null==(a=this.foodTarget.getComponent(D))||a.dealDamage(s),null==(r=this.foodTarget.getComponent(R))||r.dealDamage(s),this.foodToPar&&(this.foodToPar.node.parent=this.foodTarget.inLane.prjLayer,this.foodToPar.node.worldPosition=new u(this.foodTarget._worldPositionX,this.foodTarget._worldPositionY+this.peaSpawnPoint.worldPosition.y-this.worldPositionY,10))}if(this.foodFromPar&&(this.foodFromPar.node.worldPosition=this.peaSpawnPoint.worldPosition),this.foodRayPar&&(this.foodRayPar.character=this.foodTarget),this.foodRayPar&&this.correctRay(this.foodRayPar),this.foodTarget&&!this.foodToPar){var d,l=S(this.foodToParPrefab);l.parent=this.foodTarget.inLane.prjLayer,l.worldPosition=new u(this.foodTarget._worldPositionX,this.foodTarget._worldPositionY+this.foodTarget.height+this.peaSpawnPoint.worldPosition.y-this.worldPositionY,10),this.foodToPar=l.getComponent(F),null==(d=this.foodToPar)||null==(d=d.db)||d.playAnimation("Idle")}else if(!this.foodTarget&&this.foodToPar){var h;null==(h=this.foodToPar)||null==(h=h.db)||h.playAnimation("Die"),this.foodToPar=null}this.soundRes.playFoodingSound(),this.foodAbsorbPar.length>0?(this.foodAbsorbPar.forEach((function(o){i.correctRay(o)})),this._foodExtendCD>0&&(this._foodExtendCD-=o),this._foodExtendCD<=0&&(this._foodExtendCD=this._objdataOwn.PlantfoodDurationExtendPerProducer,this.foodAbsorbPar[0].psd.db.playAnimation("End"),this.foodAbsorbPar.shift())):this._foodEndCD>0&&(this._foodEndCD-=o,this._foodEndCD<=0&&this.foodEnd())}},s._shoot=function(){var o=r(e().mark((function o(t){var n,i;return e().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return void 0===t&&(t=this._objdataOwn.PeaType),n=this._dmgScale,o.next=4,x.shootOnePea(t,new P(this.peaSpawnPoint.worldPosition.x,this._worldPositionY),this.peaSpawnPoint.worldPosition.y-this._worldPositionY,this.inLane.prjLayer,new P(8,0),m.zombie);case 4:i=o.sent,n&&i.setDamage(n*i.damage);case 6:case"end":return o.stop()}}),o,this)})));return function(t){return o.apply(this,arguments)}}(),s.specialPlantOnEnable=function(){this.shooting=!1,this.foodToPar=null,this.foodTarget=null,this.foodRayPar=null,this.shootCD=0;var o=this.pfIdleTargetDY,t=this,n=c(t).to(2,{pfIdleTargetDY:-o},{easing:"quadInOut"}),i=c(t).to(2,{pfIdleTargetDY:o},{easing:"quadInOut"});n.then(i).clone(t).repeatForever().start()},s.waterable=function(){return!this.shooting},s.animationOnComplete=function(){this.shooting=!1},s.animationListener=function(o){"Shoot"==o.name?(this._shoot(),this.shooting=!1,this.soundRes.playShootSound()):"foodStart"==o.name&&this.foodStart()},s.foodStart=function(){this.anmControl.playAnimation("Fooding",1/0)},s.specialPlantFood=function(o){var t=this;this.anmControl.playAnimation("FoodStart",1),this.soundRes.playFoodStartSound(),this.shootCD=0;var n=S(this.foodFromParPrefab);n.parent=this.body.parent,n.worldPosition=this.peaSpawnPoint.worldPosition,this.foodFromPar=n.getComponent(F),this.foodFromPar.db.playAnimation("Start"),this.foodAbsorbPar=[],E.pool().forEach((function(o){if(-1!=t.sunProducerList.indexOf(o.ID)){var n=S(t.foodAbsorbParPrefab);n.parent=t.inLane.prjLayer;var i=n.getComponent(F);i.db.playAnimation("Idle",1/0);var a={character:o,psd:i};t.correctRay(a),t.foodAbsorbPar.push(a)}})),this.foodAbsorbPar.length>0&&(this._foodExtendCD=this._objdataOwn.PlantfoodDurationExtendPerProducer),this._foodEndCD=this._objdataOwn.PlantfoodDuration;var i=S(this.foodRayParPrefab);i.parent=this.inLane.prjLayer;var a=i.getComponent(F);a.db.playAnimation("Start"),this.foodRayPar={character:null,psd:a}},s.correctRay=function(o){var t=o.psd,n=this.peaSpawnPoint.worldPosition;t.node.worldPosition=this.peaSpawnPoint.worldPosition;var i=o.character,a=(new u,(i?new u(i._worldPositionX,i._worldPositionY+i.height+this.peaSpawnPoint.worldPosition.y-this.worldPositionY,0):new u(this._worldPositionX+this.pfIdleTargetDX,this._worldPositionY+this.pfIdleTargetDY,10)).clone().add(n.clone().negative())),r=new P(a.x,a.y);t.node.worldScale=new u(r.length()/500,.5,1),t.node.angle=90/p*Math.atan2(r.y,r.x)},s.specialPlantFoodEnd=function(){this.soundRes.playFoodEndSound(),this.anmControl.playAnimation("FoodEnd",1),this.foodFromPar.db.playAnimation("End"),this.foodFromPar=null,this.foodTarget=null,this.foodToPar&&(this.foodToPar.db.playAnimation("Die"),this.foodToPar=null),this.foodRayPar&&(this.foodRayPar.psd.db.playAnimation("End"),this.foodRayPar=null)},s.onObjdataSet=function(o,t){var n,i=this;this.sunProducerList=[],null==(n=t.SunProducerList)||n.forEach((function(o){var t=L.getPlantEnumByCodename(o,!1);t>=0&&i.sunProducerList.push(t)}))},s.shootAnimation=function(){this.shootCD=this._objdataOwn.ShootInterval*this._cdScale;var o=g(y.component.icon.node);o.parent=this.inLane.node,o.setSiblingIndex(0),o.worldPosition=y.component.icon.node.worldPosition,o.worldScale=y.component.icon.node.worldScale.clone(),c(o).to(.2,{worldPosition:this.peaSpawnPoint.worldPosition,worldScale:new u(.2,.2,.2)},{easing:"quadOut"}).call((function(){o.destroy()})).start(),this.shooting=!0,this.anmControl.playAnimation("Shoot"+Math.floor(2*Math.random()).toString(),1,0,Math.max(1,.4/this.shootCD)),y.component.SunDec(this._objdataOwn.ShootSunCost)},s.specialPlantOnMouseDown=function(){if(this.sheepend)return!1;if(this.fooding||this.shooting||this.shootCD>0)return!1;var o=y.component.SunCount>=this._objdataOwn.ShootSunCost||T.freePlant;return o?(this.arrowCountdown=0,this.shootAnimation()):this.shooting||o||y.component.playWarn(),o},t}(b)).prototype,"soundRes",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new uo}}),io=t(to.prototype,"peaSpawnPoint",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ao=t(to.prototype,"foodFromParPrefab",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ro=t(to.prototype,"foodToParPrefab",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),eo=t(to.prototype,"foodAbsorbParPrefab",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),so=t(to.prototype,"foodRayParPrefab",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),oo=to))||oo));s._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./ArrayGet.ts","./ElectronAPI.ts","./__.ts","./lawnPirate.ts","./lawnSky.ts","./lawn.ts","./stageEffect.ts","./Armors.ts","./Dinosaurs.ts","./GridItem.ts","./JSONs.ts","./LevelNodes.ts","./Levels.ts","./Plants.ts","./Projectiles.ts","./Tiles.ts","./Tombs.ts","./Trophies.ts","./Zombies.ts","./ScrollViewHorizontalWheelReversed.ts","./ScrollViewWithoutTouchevent.ts","./Almanac.ts","./AlmanacElementForPlant.ts","./AlmanacElementForZombie.ts","./AlmanacPlantPage.ts","./AlmanacUpgradeDisplay.ts","./AlmanacUpgradePage.ts","./AlmanacZombiePage.ts","./CardUIUpper.ts","./Cards.ts","./CharacterManager.ts","./Conveyor.ts","./DangerroomCard.ts","./DangerroomCardChooser.ts","./Droppings.ts","./FrontYard.ts","./KeyListener.ts","./LevelObjectiveScreen.ts","./LevelTaskCount.ts","./Materials.ts","./Particles.ts","./PauseScreen.ts","./PlantFoodCount.ts","./PowerupFingers.ts","./ProjectileManager.ts","./SandBoxZombieCards.ts","./CardDeckDisplayer.ts","./SeedChooser.ts","./Shovel.ts","./ShovelUIController.ts","./SoundManager.ts","./SoundRescourses.ts","./Square.ts","./Store.ts","./StoreCommodity.ts","./StoreCostumeSeller.ts","./SunCount.ts","./UI.ts","./inGame.ts","./levelController.ts","./LoaderFlower.ts","./InfoWindow.ts","./PlayerPropertiesWindow.ts","./PlayerSelector.ts","./SandBoxLevelSettingWindow.ts","./SettingWindow.ts","./UpdateContentWindow.ts","./WorldUnlockWindow.ts","./fanMadeLevelWindow.ts","./mainScene.ts","./preSplashScene.ts","./splashScene.ts","./testScene.ts","./ZenGarden.ts","./ZenGardenFeatures.ts","./ZenGardenObjectPar.ts","./coinInZen.ts","./droppingInZen.ts","./gemInZen.ts","./zenGardenScene.ts","./AnimationController.ts","./Character.ts","./Mouse.ts","./NodePools.ts","./ParticleSelfdestroy.ts","./PlayerProperties.ts","./AnkyloDinosaur.ts","./Dinosaur.ts","./PteroDinosaur.ts","./RaptorDinosaur.ts","./StegoDinosaur.ts","./TyrannoDinosaur.ts","./Lane.ts","./LnC.ts","./LnCLower.ts","./Tide.ts","./shadeFloor.ts","./CrazyDave.ts","./CrazyDaveIcon.ts","./NPC.ts","./NPC_Controller.ts","./Winnie.ts","./WinnieIcon.ts","./ZombossIcon.ts","./GroundFire.ts","./GroundFiresManager.ts","./CardDeck.ts","./CardFeatureTotal.ts","./Plant.ts","./PlantIcon.ts","./SniperPlant.ts","./BambooShoots.ts","./Bamboozle.ts","./BananaLauncher.ts","./MissileToe.ts","./bamboozleShot.ts","./Bloomerang.ts","./Blover.ts","./Hurrikale.ts","./BonkChoy.ts","./BowlingBulb.ts","./Buttercup.ts","./AKEE.ts","./AppleMortar.ts","./BloomingHeart.ts","./CabbagePult.ts","./CantaloupePult.ts","./DuskLobber.ts","./KernelPult.ts","./MelonPult.ts","./PepperPult.ts","./Sapfling.ts","./SporeShroom.ts","./akeeShot.ts","./bloomingheartShot.ts","./cantaloupeLobbed.ts","./duskLobbed.ts","./duskSplat.ts","./Cactus.ts","./cardSelectAlmanac.ts","./CeleryStalker.ts","./ChardGuard.ts","./CherryBomb.ts","./CranJelly.ts","./DoomShroom.ts","./EMPeach.ts","./GoldBloom.ts","./GrapeShot.ts","./Jalapeno.ts","./PerfumeFire.ts","./PerfumeShroom.ts","./PowerLily.ts","./SolarTomato.ts","./ThymeWarp.ts","./ChiliBean.ts","./SunBean.ts","./Chomper.ts","./Grimrose.ts","./Toadstool.ts","./grimroseBeam.ts","./grimroseFoot.ts","./Citron.ts","./boulderPrj.ts","./citronFoodPrj.ts","./CoconutCannon.ts","./FireGourd.ts","./Dandelion.ts","./Dragonbruit.ts","./DragonbruitBaby.ts","./ElectricBlueberry.ts","./electricblueberryCloud.ts","./ElectricCurrant.ts","./EscapeRoot.ts","./FloawerPot.ts","./LilyPad.ts","./FumeShroom.ts","./GloomShroom.ts","./GloomVine.ts","./LaserBean.ts","./PhatBeet.ts","./PhatBeetRhythm.ts","./GhostPepper.ts","./GlacierShroom.ts","./GraveBuster.ts","./HotPotato.ts","./Guacodile.ts","./runningGuacodile.ts","./HeavenlyPeach.ts","./HomingThistle.ts","./HypnoShroom.ts","./IcebergLettuce.ts","./LavaGuava.ts","./Stallia.ts","./Stunion.ts","./Imitater.ts","./JackOLantern.ts","./jackOLanternFoodFireParticle.ts","./LightningReed.ts","./lightningCloud.ts","./MagnetShroom.ts","./MagnifyingGrass.ts","./MeteorFlower.ts","./NightShade.ts","./ElectricPeashooter.ts","./FirePeashooter.ts","./GatlingPea.ts","./PeaPod.ts","./PeaVine.ts","./Peanut.ts","./Peashooter.ts","./PrimalPeashooter.ts","./ProjectileSpawner.ts","./PuffShroom.ts","./RedStinger.ts","./Repeater.ts","./Rotobaga.ts","./SeaShroom.ts","./ShootingStarfruit.ts","./Skyshooter.ts","./SnowPea.ts","./SplitPea.ts","./StarFruit.ts","./ThreePeater.ts","./Parsnip.ts","./runningParsnip.ts","./Plantern.ts","./MoonBean.ts","./PotatoMine.ts","./PotatoMinePrimal.ts","./ShrinkingViolet.ts","./SolarSage.ts","./solarsageEnlighten.ts","./Potion.ts","./PotionInvisibility.ts","./PotionSpeed.ts","./PotionToughness.ts","./ScaredyShroom.ts","./ShadowShroom.ts","./ColdSnapDragon.ts","./SnapDragon.ts","./SnapDragonFoodPar.ts","./Iceweed.ts","./Spikerock.ts","./Spikeweed.ts","./SpringBean.ts","./Squash.ts","./Strawburst.ts","./strawburstPFBerry.ts","./MariGold.ts","./MariGoldBlue.ts","./MariGoldGreen.ts","./MariGoldOrange.ts","./MariGoldPink.ts","./MariGoldPurple.ts","./MariGoldRed.ts","./MariGoldYellow.ts","./Moonflower.ts","./SunShroom.ts","./Sunflower.ts","./TangleKelp.ts","./tanglekelpHands.ts","./GoldLeaf.ts","./IntensiveCarrot.ts","./TileSpawner.ts","./TileTurnip.ts","./Torchwood.ts","./UmbrellaLeaf.ts","./Vamporcini.ts","./BambooBusket.ts","./Endurian.ts","./ExplodeONut.ts","./Garlic.ts","./HotDate.ts","./InfiNut.ts","./Lychee.ts","./PrimalWallNut.ts","./Pumpkin.ts","./SweetPotato.ts","./TallNut.ts","./Turnip.ts","./WallNut.ts","./ChiHole.ts","./Portal.ts","./Prizes.ts","./UpgradeTrophy.ts","./WorldTrophy.ts","./coinbag.ts","./levelPrize.ts","./newplantLevelPrize.ts","./trophyPrize.ts","./upgradePrize.ts","./TileLiquid.ts","./boomerang.ts","./cactusThorn.ts","./coconutHeavy.ts","./coin.ts","./commonShot.ts","./cranjellyProjectile.ts","./dropping.ts","./electricPea.ts","./electricPeaMega.ts","./electricPeaPointer.ts","./gem.ts","./bowlingExplodeONut.ts","./bowlingInfiNut.ts","./bowlingProjectile.ts","./bowlingWallNut.ts","./grapeshotProjectile.ts","./iceweedSaw.ts","./LawnMower.ts","./plantFood.ts","./speakerWave.ts","./sprout.ts","./sun.ts","./sunbomb.ts","./sunbombExplosion.ts","./tombBone.ts","./zombieDrop.ts","./darkZombossMissile.ts","./egyptZombossMissile.ts","./futureZombossMissile.ts","./kongfuBossExplodeBomb.ts","./lostcityZombossSandbag.ts","./zombossMissile.ts","./SoundsController.ts","./flowerLine.ts","./moldSquare.ts","./Tile.ts","./cart.ts","./deepwaterTile.ts","./endangeredTile.ts","./foodLinkTile.ts","./goldTile.ts","./railway.ts","./sliderTile.ts","./taichiTile.ts","./trapBoulderTile.ts","./trapFlameTile.ts","./trapThunderTile.ts","./trapTile.ts","./EightiesArcadeCabinet.ts","./EightiesSpeaker.ts","./GlacierBlock.ts","./GridIcecube.ts","./KongfuArmRack.ts","./KongfuTNT.ts","./LostcityTent.ts","./Tomb.ts","./TombPlantfood.ts","./TombSun.ts","./TombSurfboard.ts","./ButtonWithSounds.ts","./CoinCollecterInGame.ts","./CoinCount.ts","./CurrencyCount.ts","./GemCount.ts","./MouseBlocker.ts","./SproutCount.ts","./WorldKeyCount.ts","./EndlessZoneEntrance.ts","./WorldMap.ts","./WorldMapChooser.ts","./WorldMaps.ts","./ZombossNodeHead.ts","./ZombossPodium.ts","./worldMapScene.ts","./Armor.ts","./BeachBasicZombie.ts","./BeachFisherHook.ts","./BeachFisherZombie.ts","./BeachOctopusZombie.ts","./BeachSnorkelZombie.ts","./BeachSurfboardSpawner.ts","./BeachSurferZombie.ts","./GridOctopus.ts","./ThrewOctopus.ts","./BodyGrouper.ts","./CardFeatureTotalZombie.ts","./CowboyBasicZombie.ts","./CowboyBullZombie.ts","./CowboyChickenFarmerZombie.ts","./CowboyChickenZombie.ts","./CowboyImpZombie.ts","./CowboyPianoZombie.ts","./CowboyPonchoZombie.ts","./CowboyProspectorZombie.ts","./DarkBasicZombie.ts","./DarkJesterZombie.ts","./DarkKingZombie.ts","./DarkWizardSheep.ts","./DarkWizardZombie.ts","./DinoBasicZombie.ts","./DinoBullyZombie.ts","./EgyptBasicZombie.ts","./EgyptCamelTouchZombie.ts","./EgyptCamelZombie.ts","./EgyptExplorerZombie.ts","./EgyptPharaohZombie.ts","./EgyptRaZombie.ts","./EgyptSandStormParticle.ts","./EgyptTombRaiserZombie.ts","./EightiesArcadeZombie.ts","./EightiesBoomBoxZombie.ts","./EightiesBreakDancerZombie.ts","./EightiesGlitterZombie.ts","./EightiesMCZombie.ts","./EightiesPunkZombie.ts","./FutureGargantuarZombie.ts","./FutureImpZombie.ts","./FutureInfiNutShieldZombie.ts","./FutureJetpackZombie.ts","./FutureMechConeZombie.ts","./FutureMechDiscoZombie.ts","./FutureMechFootballZombie.ts","./FutureProtectorShieldZombie.ts","./FutureProtectorZombie.ts","./MechZombie.ts","./BeachGargantuarZombie.ts","./CowboyGargantuarZombie.ts","./DarkGargantuarZombie.ts","./DinoGargantuarZombie.ts","./EgyptGargantuarZombie.ts","./EightiesGargantuarZombie.ts","./GargantuarZombie.ts","./IceageGargantuarZombie.ts","./KongfuBronzeChiZombie.ts","./KongfuBronzeHookZombie.ts","./KongfuBronzeStatueZombie.ts","./KongfuBronzeStrongZombie.ts","./KongfuBronzeZombie.ts","./LostcityGargantuarZombie.ts","./PirateGargantuarZombie.ts","./SummerGargantuarZombie.ts","./IceageDodoRiderZombie.ts","./IceageHunterVeteranZombie.ts","./IceageHunterZombie.ts","./IceageTroglobiteZombie.ts","./IceageWeaselHorderZombie.ts","./IceageWeaselZombie.ts","./DragonImpZombie.ts","./ImpZombie.ts","./SuperFanZombie.ts","./AbbotBasicZombie.ts","./AbbotChiZombie.ts","./AbbotFanStorm.ts","./AbbotFanZombie.ts","./AbbotImpZombie.ts","./AbbotTorchZombie.ts","./KongfuBasicZombie.ts","./KongfuBombZombie.ts","./KongfuChiZombie.ts","./KongfuDrinkZombie.ts","./KongfuFlagZombie.ts","./KongfuGongZombie.ts","./KongfuHammerZombie.ts","./KongfuMonkImpZombie.ts","./KongfuRocketImpZombie.ts","./MonkBasicZombie.ts","./MonkBladeZombie.ts","./MonkDrinkZombie.ts","./MonkNunchakuZombie.ts","./MonkTorchZombie.ts","./LostRelicHunterZombie.ts","./LostcityBasicZombie.ts","./LostcityCrystalSkullZombie.ts","./LostcityExcavatorZombie.ts","./LostcityImpPorterZombie.ts","./LostcityJaneZombie.ts","./LostcityLostPilotZombie.ts","./ModernAllstarZombie.ts","./ModernBalloonZombie.ts","./ModernBobsledTeamZombie.ts","./ModernCatapultZombie.ts","./ModernNewspaperZombie.ts","./Icetile.ts","./SleighCartZombie.ts","./PirateBarrelPusherZombie.ts","./PirateBarrelZombie.ts","./PirateCaptainParrotZombie.ts","./PirateCaptainZombie.ts","./PirateImpCannonZombie.ts","./ChickenZombieAshParticle.ts","./PirateSeagullZombie.ts","./SeagullZombieAshParticle.ts","./PirateSwashbucklerZombie.ts","./SkyBasicZombie.ts","./SummerBasicZombie.ts","./Zombie.ts","./ZombieAshParticle.ts","./BeachZombossMechZombie.ts","./BeachZombossShark.ts","./CowboyZombossMechZombie.ts","./DarkZombossMechZombie.ts","./DinoZombossMechZombie.ts","./EgyptZombossMechZombie.ts","./EightiesZombossMechZombie.ts","./FutureZombossMechZombie.ts","./IceageZombossMechZombie.ts","./KongfuBossBladeChiPrj.ts","./KongfuBossBladeZombie.ts","./KongfuBossExplodeZombie.ts","./LostcityZombossMechZombie.ts","./PirateZombossMechZombie.ts","./ZombossMechZombie.ts","./eightiesZombossBandMember.ts","./iceageZombossGlacierMiddle.ts","./zombossMissileLocator.ts","./zombossMissileLocatorFree.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/mainScene.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SoundsController.ts","./ElectronAPI.ts","./PlayerProperties.ts","./ArrayGet.ts","./Materials.ts","./KeyListener.ts","./UI.ts","./MultiLanguage.ts","./SettingWindow.ts","./SoundRescourses.ts"],(function(e){var t,n,i,o,a,r,s,l,u,h,c,p,d,f,w,S,m,g,y,b,v,W,E,P,z,C,A,T,M,L,R,I,O;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,r=e._decorator,s=e.Label,l=e.JsonAsset,u=e.Sprite,h=e.SpriteFrame,c=e.Node,p=e.AudioClip,d=e.Color,f=e.input,w=e.Input,S=e.KeyCode,m=e.AudioSource,g=e.Material,y=e.tween,b=e.Component,v=e.director},function(e){W=e.MusicController},function(e){E=e.default},function(e){P=e.AllPlayerProperties},function(e){z=e.ArrayGet},function(e){C=e.materialRes},function(e){A=e.KeyListener},function(e){T=e.setExitToMapScene},function(e){M=e.MultiLanguage},function(e){L=e.Setting,R=e.addDropImportFileListener,I=e.leveldataOnImport},function(e){O=e.sounds}],execute:function(){var _,N,k,D,G,U,j,B,F,V,K,H,x,Q,q,J,Y,X,$,Z,ee,te,ne,ie,oe,ae,re,se,le,ue,he,ce,pe,de,fe;a._RF.push({},"bfe05tLwJtHQLHmMPORIuuE","mainScene",void 0);var we=r.ccclass,Se=r.property,me=(_=we("mainSceneToolTips"),N=Se(s),_((G=t((D=function(){function e(){i(this,"Play",G,this)}return e.prototype.setStrings=function(){this.Play&&(this.Play.string=M.getString(M.lyrics.MainScene.Play))},e}()).prototype,"Play",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=D))||k);e("mainScene",(U=we("mainScene"),j=Se(me),B=Se(l),F=Se(u),V=Se([h]),K=Se(c),H=Se(c),x=Se(c),Q=Se(c),q=Se(c),J=Se(u),Y=Se(s),X=Se(u),$=Se(p),U(((fe=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return t=e.call.apply(e,[this].concat(a))||this,i(t,"tooltips",te,o(t)),i(t,"linksjson",ne,o(t)),i(t,"BG",ie,o(t)),i(t,"randomSplash",oe,o(t)),i(t,"infoWindow",ae,o(t)),i(t,"playersWindow",re,o(t)),i(t,"updateWindow",se,o(t)),i(t,"settingWindow",le,o(t)),i(t,"fanmadeWindow",ue,o(t)),i(t,"sceneSlash",he,o(t)),t.sceneColor=new d,t.infoShown=!1,t.playersShown=!1,t.settingsShown=!1,t.fanmadeShown=!1,t.updateShown=!1,i(t,"playerNameLabel",ce,o(t)),i(t,"infoButton",pe,o(t)),t.audioSource=void 0,i(t,"gotoGameSound",de,o(t)),t}n(t,e);var a=t.prototype;return a.goToGame=function(){this.infoShown||this.settingsShown||this.playersShown||A.darken((function(){A.goToWorldmap()}))},a.quit=function(){E.quit()},a.updates=function(){this.haveWindow()&&!this.updateShown||(this.updateShown?(this.updateWindow.active=!1,this.updateShown=!1):(this.updateWindow.active=!0,this.updateShown=!0))},a.info=function(){this.haveWindow()&&!this.infoShown||(this.infoShown?(this.infoWindow.active=!1,this.infoShown=!1):(this.infoWindow.active=!0,this.infoShown=!0))},a.players=function(){this.haveWindow()&&!this.playersShown||(this.playersShown?(this.playersWindow.active=!1,this.playersShown=!1):(this.playersWindow.active=!0,this.playersShown=!0))},a.setting=function(){this.haveWindow()&&!this.settingsShown||(this.settingsShown?(this.settingWindow.active=!1,this.settingsShown=!1):(this.settingWindow.active=!0,this.settingsShown=!0))},a.fanmade=function(){this.haveWindow()&&!this.fanmadeShown||(this.fanmadeShown?(this.fanmadeWindow.active=!1,this.fanmadeShown=!1):(this.fanmadeWindow.active=!0,this.fanmadeShown=!0))},a.haveWindow=function(){return this.settingsShown||this.infoShown||this.fanmadeShown||this.updateShown||this.playersShown},a.onLoad=function(){var e=this;t.version=this.linksjson.json.InsideVersion,f.on(w.EventType.KEY_DOWN,(function(t){var n;(null==(n=A.cp)||null==(n=n.screenSplash)?void 0:n.opacity)>0||t.keyCode==S.SPACE&&(e.goToGame(),O.playOneShot(e.gotoGameSound,1,0,0))}),this);var n=L.getSettings().PlayerIndex;(isNaN(n)||n<0)&&(n=0);P.getPlayer(n);this.audioSource=this.getComponent(m),t.gameOpened||(this.audioSource.clip.loadMode=p.AudioType.DOM_AUDIO,t.gameOpened=!0,this.audioSource.volume=0),R((function(e){v.gameSpeed>=1&&I(e)}))},a.update=function(e){this.sceneSlash.color=this.sceneColor,this.audioSource.volume=W.MusicVolume*W._volumeScalePause;var t=this.infoButton.customMaterial,n=t.passes[0].getHandle("addColor");t.passes[0].setUniform(n,C.zombiePF),P.currentPlayer&&(this.playerNameLabel.string=P.currentPlayer.name)},t.compareVersions=function(e,t){if(e==t)return 0;for(var n=e.split(".").map((function(e){return+e})),i=t.split(".").map((function(e){return+e})),o=n.length;o<i.length;o++)n.push(0);for(var a=i.length;a<n.length;a++)i.push(0);for(var r=0;r<n.length;r++){if(n[r]<i[r])return 1;if(n[r]>i[r])return-1}return 0},a.fetchForUpdate=function(){fetch("https://pvzge.com/jsons/gameinfo.json").then((function(e){if(!e.ok)throw new Error("ERROR! ${r.status}");return e.json()})).then((function(e){var n=e.InsideVersion;t.compareVersions(t.version,n)>0&&A.gameTipString(M.getDirectQuote("[UPDATE_REQUEST]").replace("<VERSIONNAME>",n),5)})).catch((function(e){console.warn("Error: ",e)}))},a.start=function(){var e=this;T("mainScene");var t=new g;t.initialize({effectAsset:C.addColorEffect,defines:{USE_TEXTURE:!0}}),this.infoButton.customMaterial=t,this.sceneSlash.color=new d(0,0,0,255),y(this.sceneColor).to(1,{a:0,r:0,g:0,b:0}).start(),this.randomSplash.length&&(this.BG.spriteFrame=z.getRandom(this.randomSplash)),W._volumeScalePause=0,y(W).to(1,{_volumeScalePause:1}).start(),f.on(w.EventType.KEY_DOWN,(function(t){t.keyCode!=S.ESCAPE&&t.keyCode!=S.ENTER&&t.keyCode!=S.SPACE||(e.infoShown?e.info():e.settingsShown?e.setting():e.playersShown?e.players():e.updateShown?e.updates():e.fanmadeShown&&e.fanmade())}),this),this.fanmadeShown=!0,this.fanmade(),this.infoShown=!0,this.info(),this.updateShown=!0,this.updates(),this.playersShown=!0,this.players(),this.settingsShown=!1,this.setting(),this.setting(),this.audioSource.volume=0,this.tooltips.setStrings(),this.fetchForUpdate()},t}(b)).gameOpened=!1,fe.version="",te=t((ee=fe).prototype,"tooltips",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new me}}),ne=t(ee.prototype,"linksjson",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ie=t(ee.prototype,"BG",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),oe=t(ee.prototype,"randomSplash",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ae=t(ee.prototype,"infoWindow",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),re=t(ee.prototype,"playersWindow",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),se=t(ee.prototype,"updateWindow",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),le=t(ee.prototype,"settingWindow",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ue=t(ee.prototype,"fanmadeWindow",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),he=t(ee.prototype,"sceneSlash",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ce=t(ee.prototype,"playerNameLabel",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pe=t(ee.prototype,"infoButton",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),de=t(ee.prototype,"gotoGameSound",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=ee))||Z));a._RF.pop()}}}));

System.register("chunks:///_virtual/MariGold.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Sunflower.ts","./SoundRescourses.ts","./ArrayGet.ts","./Plants.ts","./levelController.ts"],(function(n){var t,o,e,r,i,a,l,u,s,c,d,p,f;return{setters:[function(n){t=n.inheritsLoose,o=n.applyDecoratedDescriptor,e=n.initializerDefineProperty,r=n.assertThisInitialized},function(n){i=n.cclegacy,a=n._decorator,l=n.AudioClip},function(n){u=n.SunflowerProps,s=n.SunflowerPlant},function(n){c=n.sounds},function(n){d=n.ArrayGet},function(n){p=n.PlantEnum},function(n){f=n.LevelPlay}],execute:function(){var h,y,P,w,m,S,v;i._RF.push({},"9d32dGZ7ZJEvZ2ye3cU4OwM","MariGold",void 0);var M=a.ccclass,g=a.property,A=n("MariGoldProps",function(n){function o(){for(var t,o=arguments.length,e=new Array(o),r=0;r<o;r++)e[r]=arguments[r];return(t=n.call.apply(n,[this].concat(e))||this).ChanceToTurn=.5,t}return t(o,n),o}(u));n("MariGoldPlant",(h=M("MariGoldPlant"),y=g([l]),P=g([l]),h((S=o((m=function(n){function o(){for(var t,o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return(t=n.call.apply(n,[this].concat(i))||this)._objdataOwn=new A,e(t,"explodeSounds",S,r(t)),e(t,"spawnSounds",v,r(t)),t.turned=!1,t.coinProducer=!0,t}t(o,n);var i=o.prototype;return i.specialPlantFood=function(){this.producing=!1,this.busy=1/0,this.soundRes.playFoodSound(),this.anmControl.playAnimation("Attack",1)},i.specialSunflowerOnEnable=function(){this.shadeAlphaScale=1,this.specialMarigoldOnEnable(),this.turned=!1},i.specialMarigoldOnEnable=function(){},i.specialSunflowerAnimationListener=function(n){if("turn"==n.name){if(this.turned)return;this.turned=!0;var t=!1;if(this.fooding){t=!0;for(var o=0;o<5;o++)this._produce()}var e=!1;this.dead||(e=this.endangered),this.die(!0,t,!1,!1),this.shadeAlphaScale=0,c.playArray(this.explodeSounds,1,.2),this._turn(t,e)}},i._turn=function(n,t){var o=this;void 0===t&&(t=!1),n||this.inLnC.SpawnPlant(d.getRandom([p.MariGoldRed,p.MariGoldOrange,p.MariGoldGreen,p.MariGoldBlue,p.MariGoldPink,p.MariGoldPurple].concat(f.component.ExcludeListSunProducers?[]:[p.MariGoldYellow])),!0,!0,!1,!1).then((function(n){var e=n;if(e){var r;if(t)e.endangered=!0,null==(r=f.component)||r.replaceEndangeredPlant(o,e);e.anmControl.playAnimation("Spawn",1),c.playArray(e.spawnSounds,1,.2),e.anmControl.switchCostume(o.anmControl.currentCos)}}))},i.specialPlantFoodEnd=function(){},i.playProduceAnimation=function(){this.defaultProduceAnimation(Math.random()>this._objdataOwn.ChanceToTurn?"Produce":"Attack")},o}(s)).prototype,"explodeSounds",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=o(m.prototype,"spawnSounds",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),w=m))||w));i._RF.pop()}}}));

System.register("chunks:///_virtual/MariGoldBlue.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MariGold.ts","./CharacterManager.ts","./Square.ts"],(function(){var e,n,t,r,o,i,a,c;return{setters:[function(n){e=n.inheritsLoose},function(e){n=e.cclegacy,t=e._decorator,r=e.Vec2},function(e){o=e.MariGoldPlant,i=e.MariGoldProps},function(e){a=e.Rectangle},function(e){c=e.Square}],execute:function(){var u;n._RF.push({},"a53d0GGWu9BUZkTeYSzfK74","MariGoldBlue",void 0);var l=t.ccclass,s=(t.property,function(n){function t(){for(var e,t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return(e=n.call.apply(n,[this].concat(r))||this).FreezeTime=5,e}return e(t,n),t}(i));l("MariGoldBluePlant")(u=function(n){function t(){for(var e,t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return(e=n.call.apply(n,[this].concat(r))||this)._objdataOwn=new s,e}e(t,n);var o=t.prototype;return o.playProduceAnimation=function(){this.defaultProduceAnimation()},o.specialMarigoldOnEnable=function(){this.deathAnm="Attack"},o._turn=function(e,n){var t,o=this,i=a.createRectangleCenter(new r(this.worldPositionX,this.worldPositionY),2*c.SquareWidth,5*c.SquareHeight);null==(t=this.inLane)||null==(t=t.zombiePool())||t.forEach((function(e){i.judgeCrossRec(e.bodyRec)&&e.setFreeze(o._objdataOwn.FreezeTime,!0)})),this.inLane.tntPool().forEach((function(e){e.ignited&&i.judgeInRecP(e.ropeSideWP)&&(e.ignited=!1)}))},t}(o));n._RF.pop()}}}));

System.register("chunks:///_virtual/MariGoldGreen.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MariGold.ts","./ArrayGet.ts","./Character.ts","./Projectiles.ts"],(function(){var t,n,e,r,a,o,i,s,c,u,l,h,p;return{setters:[function(a){t=a.inheritsLoose,n=a.asyncToGenerator,e=a.regeneratorRuntime,r=a.createForOfIteratorHelperLoose},function(t){a=t.cclegacy,o=t._decorator,i=t.Vec2,s=t.TWO_PI},function(t){c=t.MariGoldPlant,u=t.MariGoldProps},function(t){l=t.ArrayGet},function(t){h=t.CharacterType},function(t){p=t.ProjectileShootingFunctions}],execute:function(){var f;a._RF.push({},"9aa21GW8AJHC7TCAbWp0MRH","MariGoldGreen",void 0);var d=o.ccclass,y=(o.property,function(n){function e(){for(var t,e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return(t=n.call.apply(n,[this].concat(r))||this).PeaCount=12,t.PeaType="pea",t}return t(e,n),e}(u));d("MariGoldGreenPlant")(f=function(a){function o(){for(var t,n=arguments.length,e=new Array(n),r=0;r<n;r++)e[r]=arguments[r];return(t=a.call.apply(a,[this].concat(e))||this)._objdataOwn=new y,t}t(o,a);var c=o.prototype;return c.playProduceAnimation=function(){this.defaultProduceAnimation()},c.specialMarigoldOnEnable=function(){this.deathAnm="Attack"},c._turn=function(t,n){var e=this._objdataOwn.PeaCount,r=this.sunSpawnpoint.worldPosition.y-this.worldPositionY,a=[];this._shoot(a,r);for(var o=0;o<e;o++){var c=s*o/e,u=new i(Math.cos(c),Math.sin(c)).multiplyScalar(8);a.push(u)}},c._shoot=function(){var t=n(e().mark((function t(n,a){var o,i,s,c,u,f;return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=null==(o=this.inLnC)?void 0:o.havePeaBuff,s=r(l.randomize(n));case 2:if((c=s()).done){t.next=10;break}return u=c.value,t.next=6,p.shootOnePea(this._objdataOwn.PeaType,this.worldPosition,a,this.inLane.prjLayer,u,h.zombie);case 6:f=t.sent,i&&f.addPeaBuff();case 8:t.next=2;break;case 10:case"end":return t.stop()}}),t,this)})));return function(n,e){return t.apply(this,arguments)}}(),o}(c));a._RF.pop()}}}));

System.register("chunks:///_virtual/MariGoldOrange.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MariGold.ts","./CharacterManager.ts","./Square.ts"],(function(){var e,n,t,a,r,o,i,c,l,u;return{setters:[function(n){e=n.inheritsLoose},function(e){n=e.cclegacy,t=e._decorator,a=e.Vec2},function(e){r=e.MariGoldPlant,o=e.MariGoldProps},function(e){i=e.Rectangle,c=e.ZombieDamageDetails,l=e.ZombieDamageType},function(e){u=e.Square}],execute:function(){var s;n._RF.push({},"56e47swkjpE+6r1MuQ9Jt9U","MariGoldOrange",void 0);var d=t.ccclass,f=(t.property,function(n){function t(){for(var e,t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return(e=n.call.apply(n,[this].concat(a))||this).ExplodeDamage=400,e}return e(t,n),t}(o));d("MariGoldOrangePlant")(s=function(n){function t(){for(var e,t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return(e=n.call.apply(n,[this].concat(a))||this)._objdataOwn=new f,e}e(t,n);var r=t.prototype;return r.playProduceAnimation=function(){this.defaultProduceAnimation()},r.specialMarigoldOnEnable=function(){this.deathAnm="Attack"},r._turn=function(e,n){var t,r=this,o=i.createRectangleCenter(new a(this.worldPositionX,this.worldPositionY),2*u.SquareWidth,9*u.SquareHeight);null==(t=this.inLane)||null==(t=t.zombiePool())||t.forEach((function(e){o.judgeCrossRec(e.bodyRec)&&e.dealDamage(new c(r._objdataOwn.ExplodeDamage,!0,!0,!0,null,l.fire))}))},t}(r));n._RF.pop()}}}));

System.register("chunks:///_virtual/MariGoldPink.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MariGold.ts","./Plants.ts","./ArrayGet.ts"],(function(){var n,t,r,o,a,e,i,s,l;return{setters:[function(o){n=o.inheritsLoose,t=o.asyncToGenerator,r=o.regeneratorRuntime},function(n){o=n.cclegacy,a=n._decorator},function(n){e=n.MariGoldPlant,i=n.MariGoldProps},function(n){s=n.plants},function(n){l=n.ArrayGet}],execute:function(){var c;o._RF.push({},"67fe2xCNLNKgY4brnPM8cWU","MariGoldPink",void 0);var u=a.ccclass,p=(a.property,function(t){function r(){for(var n,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(n=t.call.apply(t,[this].concat(o))||this).PlantList=["puffshroom","fumeshroom","scaredyshroom","puffshroom","fumeshroom","scaredyshroom","gloomvine","hypnoshroom","vamporcini"],n}return n(r,t),r}(i));u("MariGoldPinkPlant")(c=function(o){function a(){for(var n,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return(n=o.call.apply(o,[this].concat(r))||this)._objdataOwn=new p,n}n(a,o);var e=a.prototype;return e.playProduceAnimation=function(){this.defaultProduceAnimation()},e.specialMarigoldOnEnable=function(){this.deathAnm="Attack"},e._turn=function(n,t){var r,o=this,a=NaN;null==(r=l.randomize(this._objdataOwn.PlantList))||r.forEach((function(n){var t;if(isNaN(a)){var r=s.getPlantEnumByCodename(n);null!=(t=o.plantInLnC)&&t.putPlantAvailable(!0,r)&&(a=r)}})),isNaN(a)||this.spawnShroom(a)},e.spawnShroom=function(){var n=t(r().mark((function n(t){var o,a;return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,null==(o=this.plantInLnC)?void 0:o.SpawnPlant(t,!0,!0,!1,!0);case 2:(null==(a=n.sent)?void 0:a.plantType)==this.plantType&&a.node.setSiblingIndex(this.node.getSiblingIndex());case 4:case"end":return n.stop()}}),n,this)})));return function(t){return n.apply(this,arguments)}}(),a}(e));o._RF.pop()}}}));

System.register("chunks:///_virtual/MariGoldPurple.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MariGold.ts","./CharacterManager.ts","./Square.ts"],(function(){var n,t,o,r,e,a,i,c;return{setters:[function(t){n=t.inheritsLoose},function(n){t=n.cclegacy,o=n._decorator,r=n.Vec2},function(n){e=n.MariGoldPlant,a=n.MariGoldProps},function(n){i=n.Rectangle},function(n){c=n.Square}],execute:function(){var u;t._RF.push({},"7763fOg0XdD9ZSD+kLsMxNZ","MariGoldPurple",void 0);var l=o.ccclass,s=(o.property,function(t){function o(){for(var n,o=arguments.length,r=new Array(o),e=0;e<o;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).PoisonDPS=20,n.PoisonDuration=10,n}return n(o,t),o}(a));l("MariGoldPurplePlant")(u=function(t){function o(){for(var n,o=arguments.length,r=new Array(o),e=0;e<o;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this)._objdataOwn=new s,n}n(o,t);var e=o.prototype;return e.playProduceAnimation=function(){this.defaultProduceAnimation()},e.specialMarigoldOnEnable=function(){this.deathAnm="Attack"},e._turn=function(n,t){var o,e=this,a=i.createRectangleCenter(new r(this.worldPositionX,this.worldPositionY),2*c.SquareWidth,5*c.SquareHeight);null==(o=this.inLane)||null==(o=o.zombiePool())||o.forEach((function(n){a.judgeCrossRec(n.bodyRec)&&n.setPoison(e._objdataOwn.PoisonDPS,e._objdataOwn.PoisonDuration)}))},o}(e));t._RF.pop()}}}));

System.register("chunks:///_virtual/MariGoldRed.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MariGold.ts","./GroundFire.ts","./Jalapeno.ts"],(function(){var n,t,r,o,a,i,e,l;return{setters:[function(t){n=t.inheritsLoose},function(n){t=n.cclegacy,r=n._decorator},function(n){o=n.MariGoldPlant,a=n.MariGoldProps},function(n){i=n.GroundFireColorEnum,e=n.GroundFireSpreadStyleEnum},function(n){l=n.jalapeno}],execute:function(){var u;t._RF.push({},"7095f0CQ+9BfJnVlqJHw92f","MariGoldRed",void 0);var c=r.ccclass,s=(r.property,function(t){function r(){for(var n,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(n=t.call.apply(t,[this].concat(o))||this).FireDamage=150,n}return n(r,t),r}(a));c("MariGoldRedPlant")(u=function(t){function r(){for(var n,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(n=t.call.apply(t,[this].concat(o))||this)._objdataOwn=new s,n}n(r,t);var o=r.prototype;return o.playProduceAnimation=function(){this.defaultProduceAnimation()},o.specialMarigoldOnEnable=function(){this.deathAnm="Attack"},o._turn=function(n,t){var r;null!=(r=this.inLnC)&&r.isInLawn()&&l.burnFromLnC(this.inLnC,this._objdataOwn.FireDamage,!1,5,5,i.yellow,e.split,9,0)},r}(o));t._RF.pop()}}}));

System.register("chunks:///_virtual/MariGoldYellow.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MariGold.ts","./Sunflower.ts"],(function(){var n,o,t,r,i,a;return{setters:[function(o){n=o.inheritsLoose},function(n){o=n.cclegacy,t=n._decorator},function(n){r=n.MariGoldPlant,i=n.MariGoldProps},function(n){a=n.sunflower}],execute:function(){var e;o._RF.push({},"e04ceJQ/rdAzZ7fL3cjIala","MariGoldYellow",void 0);var l=t.ccclass,c=(t.property,function(o){function t(){for(var n,t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return(n=o.call.apply(o,[this].concat(r))||this).SunDropValue=150,n}return n(t,o),t}(i));l("MariGoldYellowPlant")(e=function(o){function t(){for(var n,t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return(n=o.call.apply(o,[this].concat(r))||this)._objdataOwn=new c,n}n(t,o);var r=t.prototype;return r.playProduceAnimation=function(){this.defaultProduceAnimation()},r.specialMarigoldOnEnable=function(){this.deathAnm="Attack"},r._turn=function(n,o){a.produceSun(this._objdataOwn.SunDropValue,this.worldPosition,this.sunSpawnpoint.worldPosition.y-this.worldPositionY,!0)},t}(r));o._RF.pop()}}}));

System.register("chunks:///_virtual/Materials.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var i,o,n,r,t,a,l,h,s,b,g;return{setters:[function(e){i=e.applyDecoratedDescriptor,o=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){t=e.cclegacy,a=e._decorator,l=e.Color,h=e.EffectAsset,s=e.Material,b=e.tween,g=e.Component}],execute:function(){var u,c,p,m,z,f,w,y,P,_,d,C,S,v,F,T,M,A,H,W,k,E,I,G,R,D,L,x,B,j,q;t._RF.push({},"85114aqrvBMhKvCC7c7xFoe","Materials",void 0);var K=a.ccclass,J=a.property,N=e("materialRes",(function(){}));N.addColorEffect=null,N.greyMaterial=null,N.plantfoodWarnColor=new l(255,255,255,255),N.zombiePoisonColor=new l(255,255,255,255),N.zombiePerfumeColor=new l(255,255,255,255),N.zombiePF=new l(255,255,255,255),N.zombieHypno=new l(255,255,255,255),N.zombieSunAdd=new l(255,255,255,255),N.rewardColor=new l(255,255,255,255),N.zombieSpeedPotion=new l(255,255,255,255),N.zombieToughnessPotion=new l(255,255,255,255),N.zombieInvisiblilityPotion=new l(255,255,255,255),N.zombieSporeShroomCarrier=new l(60,0,107,255),N.zombieWarningCloseToHouse=new l(255,100,100,255);e("MaterialsRes",(u=K("Materials"),c=J(h),p=J(s),m=J(l),z=J(l),f=J(l),w=J(l),y=J(l),P=J(l),_=J(l),d=J(l),C=J(l),S=J(l),v=J(l),F=J(l),u((A=i((M=function(e){function i(){for(var i,o=arguments.length,t=new Array(o),a=0;a<o;a++)t[a]=arguments[a];return i=e.call.apply(e,[this].concat(t))||this,n(i,"addColorEffect",A,r(i)),n(i,"greyMaterial",H,r(i)),n(i,"zombiePoison",W,r(i)),n(i,"zombiePerfume",k,r(i)),n(i,"zombiePF",E,r(i)),n(i,"zombieSunAdd",I,r(i)),n(i,"zombieSpeedPotion",G,r(i)),n(i,"zombieToughnessPotion",R,r(i)),n(i,"zombieInvisiblilityPotion",D,r(i)),n(i,"zombieSporeShroomCarrier",L,r(i)),n(i,"zombieWarningCloseToHouse",x,r(i)),i.rewardColor=new l(122,122,122,255),i.changing0_1=0,i.changing1_0=1,i.changing0_1_fast=0,i.changing0_1_slow=0,n(i,"hypnoGreen",B,r(i)),n(i,"hypnoPurple",j,r(i)),n(i,"hypnoPink",q,r(i)),i.hypnoColor=new l,i}o(i,e);var t=i.prototype;return t.update=function(e){N.zombiePF=new l(this.changing0_1*this.zombiePF.r,this.changing0_1*this.zombiePF.g,this.changing0_1*this.zombiePF.b,255),N.plantfoodWarnColor=new l(255,255,255,255*this.changing0_1_fast),N.zombieSunAdd=new l(this.changing0_1*this.zombieSunAdd.r,this.changing0_1*this.zombieSunAdd.g,this.changing0_1*this.zombieSunAdd.b,255),N.zombieSporeShroomCarrier=new l(this.changing1_0*this.zombieSporeShroomCarrier.r,this.changing1_0*this.zombieSporeShroomCarrier.g,this.changing1_0*this.zombieSporeShroomCarrier.b,255),N.rewardColor=new l(122+133*this.changing0_1,122+133*this.changing0_1,122+133*this.changing0_1,255),N.zombieHypno=this.hypnoColor,N.zombieToughnessPotion=new l(255-this.changing1_0*(255-this.zombieToughnessPotion.r),255-this.changing1_0*(255-this.zombieToughnessPotion.g),255-this.changing1_0*(255-this.zombieToughnessPotion.b),255),N.zombieSpeedPotion=new l(255-this.changing1_0*(255-this.zombieSpeedPotion.r),255-this.changing1_0*(255-this.zombieSpeedPotion.g),255-this.changing1_0*(255-this.zombieSpeedPotion.b),255),N.zombieWarningCloseToHouse=new l(255-this.changing0_1_fast*(255-this.zombieWarningCloseToHouse.r),255-this.changing0_1_fast*(255-this.zombieWarningCloseToHouse.g),255-this.changing0_1_fast*(255-this.zombieWarningCloseToHouse.b),255)},t.start=function(){var e=this,i=b(e).to(.5,{changing1_0:0}),o=b(e).to(.5,{changing1_0:1});i.then(o).clone(e).repeatForever().start();var n=b(e).to(.7,{changing0_1:1}),r=b(e).to(.7,{changing0_1:0});n.then(r).clone(e).repeatForever().start();var t=b(e).to(.35,{changing0_1_fast:1}),a=b(e).to(.35,{changing0_1_fast:0});t.then(a).clone(e).repeatForever().start();var l=b(e).to(1.1,{changing0_1_slow:1}),h=b(e).to(1.1,{changing0_1_slow:0});l.then(h).clone(e).repeatForever().start(),e.hypnoColor=this.hypnoPink;b(e.hypnoColor).to(2,{r:e.hypnoPurple.r,g:e.hypnoPurple.g,b:e.hypnoPurple.b}).to(2,{r:e.hypnoGreen.r,g:e.hypnoGreen.g,b:e.hypnoGreen.b}).to(2,{r:e.hypnoPink.r,g:e.hypnoPink.g,b:e.hypnoPink.b}).clone(e.hypnoColor).repeatForever().start()},t.onLoad=function(){N.zombiePF=this.zombiePF,N.zombieSunAdd=this.zombieSunAdd,N.zombiePoisonColor=this.zombiePoison,N.zombiePerfumeColor=this.zombiePerfume,N.zombieInvisiblilityPotion=this.zombieInvisiblilityPotion,N.addColorEffect=this.addColorEffect,N.greyMaterial=this.greyMaterial},i}(g)).prototype,"addColorEffect",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=i(M.prototype,"greyMaterial",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=i(M.prototype,"zombiePoison",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new l(255,255,255,255)}}),k=i(M.prototype,"zombiePerfume",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new l(255,255,255,255)}}),E=i(M.prototype,"zombiePF",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new l(255,255,255,255)}}),I=i(M.prototype,"zombieSunAdd",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new l(255,255,255,255)}}),G=i(M.prototype,"zombieSpeedPotion",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new l(255,255,255,255)}}),R=i(M.prototype,"zombieToughnessPotion",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new l(255,255,255,255)}}),D=i(M.prototype,"zombieInvisiblilityPotion",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new l(255,255,255,255)}}),L=i(M.prototype,"zombieSporeShroomCarrier",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new l(60,0,107,255)}}),x=i(M.prototype,"zombieWarningCloseToHouse",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new l(255,100,100,255)}}),B=i(M.prototype,"hypnoGreen",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new l}}),j=i(M.prototype,"hypnoPurple",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new l}}),q=i(M.prototype,"hypnoPink",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new l}}),T=M))||T));t._RF.pop()}}}));

System.register("chunks:///_virtual/MechZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./SoundRescourses.ts","./ParticleSelfdestroy.ts","./NodePools.ts","./Particles.ts"],(function(e){var i,t,n,a,o,s,c,h,r,p,l,u,m,d,f;return{setters:[function(e){i=e.inheritsLoose,t=e.applyDecoratedDescriptor,n=e.initializerDefineProperty,a=e.assertThisInitialized,o=e.createClass},function(e){s=e.cclegacy,c=e._decorator,h=e.AudioClip,r=e.Vec3},function(e){p=e.ZombieProps,l=e.Zombie},function(e){u=e.sounds},function(e){m=e.ParticleSelfdestroy},function(e){d=e.instantiatePooly},function(e){f=e.particle}],execute:function(){var b,y,S,D,P,M,v;s._RF.push({},"2e4d8XhMYFEDJacGaQOmqTE","MechZombie",void 0);var C=c.ccclass,g=c.property,w=e("MechZombieProps",function(e){function t(){for(var i,t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return(i=e.call.apply(e,[this].concat(n))||this).EMPStunTimeScale=1,i}return i(t,e),t}(p));e("MechZombie",(b=C("MechZombie"),y=g(h),S=g(h),b((M=t((P=function(e){function t(){for(var i,t=arguments.length,o=new Array(t),s=0;s<t;s++)o[s]=arguments[s];return(i=e.call.apply(e,[this].concat(o))||this)._objdataOwn=new w,n(i,"activateSound",M,a(i)),n(i,"deactivateSound",v,a(i)),i._empCD=0,i.empPar=void 0,i.potatoMineDisappear=!1,i.mechDeathFadeInTime=.2,i}i(t,e);var s=t.prototype;return s.specialZombieOnEnable=function(){this.empCD=0,this.specialMechOnEnable()},s.specialMechOnEnable=function(){},s.specialAnimationListener=function(e){"mechStun"==e.name&&this.body.playAnimation("StunLoop",1/0),this.specialMechAnimationListener(e)},s.specialZombieOnLaneChange=function(e,i){this.empPar&&this.empPar.node.setParent(this.inLane.prjLayer,!0)},s.chilibeanFart=function(){},s.playSpecialZombieDieForced=function(){this.empCD=0,this.playSpecialMechDieForced()},s.playSpecialMechDieForced=function(){},s.onEmpStunStart=function(){},s.empStun=function(e){void 0===e&&(e=10),e*=this.objdataOwn.EMPStunTimeScale,this.empCD<=0&&e>0&&(this.onEmpStunStart(),this.isWalking=!1,this.switching=!0,this.body.playAnimation("StunStart",1/0,.2),u.playOneShot(this.deactivateSound,1,.1)),this.empCD=this.empCD<e?e:this.empCD},s.specialZombieUpdate=function(e,i,t){this.empCD>0&&(this.empPar&&(u.playEmpSpark(),this.empPar.node.worldPosition=new r(this.worldPosition.x,this.worldPositionY+this.height+this.zombieHeight/2)),this.empCD-=e,this.empCD<=0&&(this.body.playAnimation("StunEnd",1/0),u.playOneShot(this.activateSound,1,.1))),this.specialMechUpdate(e,i,t)},s.specialMechUpdate=function(e,i,t){},s.specialMechAnimationListener=function(e){},s.playSpecialZombieDie=function(e){this.judgeDeath(this.mechDeathFadeInTime),this.body.playAnimation(this.body.DeathAnm,1,this.mechDeathFadeInTime),this.playSpecialMechDie(e)},s.playSpecialMechDie=function(e){},s.specialZombieOnLoad=function(){this.specialMechZombieOnLoad()},s.specialMechZombieOnLoad=function(){},o(t,[{key:"objdataOwn",get:function(){return this._objdataOwn}},{key:"empCD",get:function(){return this._empCD},set:function(e){if(e>0&&this.endSandStorm(),e>0&&this._empCD<=0){var i=d(f.empEffect());i.parent=this.node.parent;var t=i.getComponent(m);this.empPar=t,t.db.playAnimation("Idle1",1),i.worldPosition=new r(this.worldPosition.x,this.worldPositionY+this.height+this.zombieHeight/2)}else if(e<=0&&this._empCD>0){var n;null==(n=this.empPar)||null==(n=n.db)||n.playAnimation("Die"),this.empPar=null}this._empCD=e}}]),t}(l)).prototype,"activateSound",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=t(P.prototype,"deactivateSound",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=P))||D));s._RF.pop()}}}));

System.register("chunks:///_virtual/MelonPult.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CabbagePult.ts","./CharacterManager.ts","./Square.ts"],(function(o){var n,t,a,e,i,l;return{setters:[function(o){n=o.inheritsLoose},function(o){t=o.cclegacy,a=o._decorator},function(o){e=o.CabbagePultPlant},function(o){i=o.ZombiePool},function(o){l=o.Square}],execute:function(){var s;t._RF.push({},"1447fuRnBRGC7NKWgISnb2t","MelonPult",void 0);var d=a.ccclass;a.property,o("MelonPultPlant",d("MelonPultPlant")(s=function(o){function t(){return o.apply(this,arguments)||this}n(t,o);var a=t.prototype;return a.specialPlantFood=function(){this.anmControl.playAnimation("Food",1),this.lobCD=1/0},a.csFunc=function(o,n){this.specialMelonPultCSFunc(o,n)},a.specialMelonPultCSFunc=function(o,n){},a.animationListener=function(o){var n=this;if("Lob"==o.name)this._objdataOwn.DetectsTNTSpark&&this.lobToTNTSpark()||this._lob(null),this.soundRes.playLob();else if("foodLob0"==o.name){this.soundRes.playFood();var t=l.getSquareWorldPosition(0,6,0,1).x,a=0;for(i.pool().forEach((function(o){o.node.worldPosition.x>t&&(a++,n._lob(o.node,n._objdataOwn.CabbageTypePlantfood,!0,90))}));a<=4;)this._lobToNode(l.getRandomLnC().plantPoint,this._objdataOwn.CabbageTypePlantfood,!1,90),a++}else if("foodLob1"==o.name){this.soundRes.playFood();var e=l.getSquareWorldPosition(0,4,0,1).x,s=l.getSquareWorldPosition(0,6,0,1).x,d=0;for(i.pool().forEach((function(o){o.node.worldPosition.x>e&&o.node.worldPosition.x<s&&(d++,n._lob(o.node,n._objdataOwn.CabbageTypePlantfood,!0,90))}));d<=4;)this._lobToNode(l.getRandomLnC().plantPoint,this._objdataOwn.CabbageTypePlantfood,!1,90),d++}else if("foodLob2"==o.name){this.soundRes.playFood();var r=l.getSquareWorldPosition(0,2,0,1).x,u=l.getSquareWorldPosition(0,4,0,1).x,b=0;for(i.pool().forEach((function(o){o.node.worldPosition.x>r&&o.node.worldPosition.x<u&&(b++,n._lob(o.node,n._objdataOwn.CabbageTypePlantfood,!0,90))}));b<=4;)this._lobToNode(l.getRandomLnC().plantPoint,this._objdataOwn.CabbageTypePlantfood,!1,90),b++}else if("foodLob3"==o.name){this.soundRes.playFood();var f=l.getSquareWorldPosition(0,2,0,1).x,c=0;for(i.pool().forEach((function(o){o.node.worldPosition.x<f&&(c++,n._lob(o.node,n._objdataOwn.CabbageTypePlantfood,!0,90))}));c<=4;)this._lobToNode(l.getRandomLnC().plantPoint,this._objdataOwn.CabbageTypePlantfood,!1,90),c++}else"foodEnd"==o.name&&(this.lobCD=0,this.foodEnd())},t}(e))||s);t._RF.pop()}}}));

System.register("chunks:///_virtual/MeteorFlower.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./Character.ts","./CharacterManager.ts","./Square.ts","./ArrayGet.ts","./LnC.ts","./SoundRescourses.ts","./Projectiles.ts"],(function(n){var t,e,i,o,a,r,s,h,u,l,c,d,m,p,f,g,w,y,b,v,A;return{setters:[function(n){t=n.applyDecoratedDescriptor,e=n.inheritsLoose,i=n.initializerDefineProperty,o=n.assertThisInitialized,a=n.asyncToGenerator,r=n.regeneratorRuntime},function(n){s=n.cclegacy,h=n._decorator,u=n.AudioClip,l=n.Vec2},function(n){c=n.Plant,d=n.PlantProps},function(n){m=n.CharacterType},function(n){p=n.ZombiePool,f=n.TombPool},function(n){g=n.Square},function(n){w=n.ArrayGet},function(n){y=n.TileType,b=n.TileLiquidEnum},function(n){v=n.sounds},function(n){A=n.ProjectileShootingFunctions}],execute:function(){var L,S,C,P,_,R,T,k,E,I,j,M;s._RF.push({},"7d88eKrwBBEh6hUP4FKrg8v","MeteorFlower",void 0);var O=h.ccclass,D=h.property,F=(L=O("meteorflowerSound"),S=D([u]),C=D([u]),L((R=t((_=function(){function n(){i(this,"igniteSound",R,this),i(this,"restSound",T,this)}var t=n.prototype;return t.playIgniteSound=function(){v.playArray(this.igniteSound,1,.1)},t.playRestSound=function(){v.playArray(this.restSound,1,.1)},n}()).prototype,"igniteSound",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),T=t(_.prototype,"restSound",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),P=_))||P),x=function(n){function t(){for(var t,e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return(t=n.call.apply(n,[this].concat(i))||this).SecondMeteorMissChance=.35,t.MeteorCountOnce=2,t.RestTime=7,t.LavaDuration=10,t.MeteorType="meteor",t}return e(t,n),t}(d);n("MeteorFlowerPlant",(k=O("MeteorFlowerPlant"),E=D(F),k((M=t((j=function(n){function t(){for(var t,e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return t=n.call.apply(n,[this].concat(a))||this,i(t,"soundRes",M,o(t)),t._objdataOwn=new x,t.awaken=!0,t.recovering=!0,t.resting=0,t.thrownAmount=0,t.busy=0,t.ignited=!1,t}e(t,n);var s=t.prototype;return s._throw=function(){var n=a(r().mark((function n(t){var e,i,o;return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=this._objdataOwn.LavaDuration,i=this._dmgScale,n.next=4,A.lobOneCabbageOnPos(this._objdataOwn.MeteorType,new l(t.worldPosition.x-10*g.SquareWidth,t.worldPosition.y),700,this.inLane.prjLayer,t.worldPosition.toVec2(),0,m.zombie,45,0);case 4:(o=n.sent).setTileLiquid(b.moltenpool,e),i&&(o.setDamage(o.damage*i),o.splashDamages.forEach((function(n){n.splashDamage*=i}))),o.judgeInLnC(),o.inLane&&o.inLane.dinosaurPool().forEach((function(n){n.charmed||(n.LeaveNow=!0)}));case 9:case"end":return n.stop()}}),n,this)})));return function(t){return n.apply(this,arguments)}}(),s._throwAtZombie=function(){var n=a(r().mark((function n(t){var e,i,o;return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=this._objdataOwn.LavaDuration,i=this._dmgScale,n.next=4,A.lobOneCabbageOnZombie(this._objdataOwn.MeteorType,new l(t.worldPositionX-10*g.SquareWidth,t.worldPositionY),700,t.inLane.prjLayer,t,0,m.zombie,!1,45,!1,!1,.1);case 4:(o=n.sent).setTileLiquid(b.moltenpool,e),i&&(o.setDamage(o.damage*i),o.splashDamages.forEach((function(n){n.splashDamage*=i}))),o.judgeInLnC(),o.inLane&&o.inLane.dinosaurPool().forEach((function(n){n.charmed||(n.LeaveNow=!0)}));case 9:case"end":return n.stop()}}),n,this)})));return function(t){return n.apply(this,arguments)}}(),s.specialPlantFood=function(n){var t=this;this.resting=1/0,this.ignited=!1,this.anmControl.playAnimation("Food",1),this.soundRes.playIgniteSound(),this.schedule((function(){p.inLawnPool().length>0?t._throwAtZombie(w.getRandom(p.inLawnPool())):t._throw(g.getRandomLnC().plantPoint)}),.3,5,.1),this.busy=1/0},s.specialPlantFoodEnd=function(){this.soundRes.playRestSound(),this.anmControl.playAnimation("SummonEnd",1),this.setAnimation(1),this.busy=1/0,this.awaken=!1,this.resting=this._objdataOwn.RestTime*this._cdScale,this.rest()},s.detectEnemy=function(){var n=null,t=null;(this.thrownAmount<=0||Math.random()<this._objdataOwn.SecondMeteorMissChance)&&(p.pool().length>0?p.pool().forEach((function(e){if(e.inLnC){var i,o=null==(i=e.inLnC)?void 0:i.getTileType();!e.isInLawn()||o!=y.solid&&o!=y.deck||t&&!(t.cIndex>e.inLnC.cIndex)||(n=e,t=e.inLnC)}})):f.pool().length>0&&f.pool().forEach((function(n){if(n.inLnC){var e,i=null==(e=n.inLnC)?void 0:e.getTileType();i!=y.solid&&i!=y.deck||t&&!(t.cIndex>n.inLnC.cIndex)||(t=n.inLnC)}}))),(t||this.thrownAmount>0)&&(this.thrownAmount>0&&(t||(t=g.getRandomLnC())),n?this._throwAtZombie(n):this._throw(t.node),this.thrownAmount++,this.busy=.5,this.thrownAmount>=this._objdataOwn.MeteorCountOnce&&this.rest())},s.rest=function(){this.busy=1/0,this.ignited=!1,this.soundRes.playRestSound(),this.anmControl.playAnimation("SummonEnd",1),this.setAnimation(1)},s.igniteStart=function(){this.resting=1/0,this.awaken=!1,this.anmControl.playAnimation("SummonStart",1)},s.ignite=function(){this.soundRes.playIgniteSound(),this.ignited=!0,this.busy=0,this.setAnimation(2)},s.recover=function(){this.awaken=!0,this.recovering=!1},s.setAnimation=function(n){var t=this.anmControl;switch(n){case 1:t.IdleAnim="Idle_Black",t.RandomAnim=[],this.deathAnm="Death_Black";break;case 2:t.IdleAnim="Summonning",t.RandomAnim=[],this.deathAnm="Death_Black";break;default:t.IdleAnim="Idle",t.RandomAnim=["Rand1","Rand2"],this.deathAnm="Death"}},s.waterable=function(){return this.awaken&&this.resting<=0&&!this.ignited&&!this.recovering},s.animationListener=function(n){"summon"==n.name&&this.ignite(),"rest"==n.name&&(this.resting=this._objdataOwn.RestTime*this._cdScale),"recover"==n.name&&this.recover(),"foodEnd"==n.name&&this.foodEnd()},s.specialPlantOnEnable=function(){this.thrownAmount=0,this.busy=1/0,this.ignited=!1,this.resting=0,this.awaken=!0,this.recovering=!1,this.setAnimation(0),this.anmControl.playIdle()},s.specialPlantUpdate=function(n,t,e){if(this.foodable=p.inLawnPool().length>0,!this.dead&&!this.fooding&&(this.ignited&&(this.busy>0&&(this.busy-=n),this.busy<=0&&e>0&&(this.busy=0,this.detectEnemy())),this.resting>0&&(this.resting-=n),this.resting<=0&&!this.awaken&&!this.recovering&&(this.thrownAmount=0,this.recovering=!0,this.anmControl.playAnimation("Recover"),this.setAnimation(0)),this.awaken)){var i=!1;p.inLawnPool().forEach((function(n){var t;if(!i){var e=null==n||null==(t=n.inLnC)?void 0:t.getTileType();e!=y.solid&&e!=y.deck||(i=!0)}})),i&&this.igniteStart()}},t}(c)).prototype,"soundRes",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new F}}),I=j))||I));s._RF.pop()}}}));

System.register("chunks:///_virtual/MissileToe.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BananaLauncher.ts","./KeyListener.ts"],(function(e){var n,t,i,r,s,o;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy,i=e._decorator,r=e.KeyCode},function(e){s=e.BananaLauncherPlant},function(e){o=e.KeyListener}],execute:function(){var a;t._RF.push({},"b0bd1cgazZJ+7i3Yreqlun5","MissileToe",void 0);var c=i.ccclass;i.property,e("MissileToePlant",c("MissileToePlant")(a=function(e){function t(){return e.apply(this,arguments)||this}return n(t,e),t.prototype.LocateStartKeyCode=function(){var e=o.KeyBinds;return r[e.Game_MissileToe]},t}(s))||a);t._RF.pop()}}}));

System.register("chunks:///_virtual/ModernAllstarZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./CharacterManager.ts","./SoundRescourses.ts","./JSONs.ts"],(function(t){var e,n,i,o,a,s,r,c,l,u,h,d,p,g,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized,a=t.createClass},function(t){s=t.cclegacy,r=t._decorator,c=t.AudioClip,l=t.Vec2},function(t){u=t.Zombie,h=t.ZombieProps},function(t){d=t.Rectangle,p=t.ZombieDamageDetails},function(t){g=t.sounds},function(t){b=t.PvZ2Object}],execute:function(){var R,f,y,m,k,A,w,S,v,P,D;s._RF.push({},"97617AVQ+JHOI5Rmbpth5JT","ModernAllstarZombie",void 0);var Z=r.ccclass,j=r.property,L=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))||this).RunningSpeedScale=6,e.SmashDamage=1500,e.RunningAttactRect="RTID(AllstarRunningAttackRect@RectangleProps)",e}return n(e,t),e}(h);t("AllstarZombie",(R=Z("AllstarZombie"),f=j([c]),y=j([c]),m=j([c]),k=j([c]),R((S=e((w=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))||this)._objdataOwn=new L,e.RunningAttackRect={x:0,y:38,w:32,h:96},i(e,"whistleSounds",S,o(e)),e.isRunning=!0,i(e,"stepSound",v,o(e)),i(e,"kickSound",P,o(e)),i(e,"punchSound",D,o(e)),e}n(e,t);var s=e.prototype;return s.onObjdataSet=function(t){var e,n=null==(e=b.getObjectsByRTID(this.objdataOwn.RunningAttactRect,"RectangleProps")[0])||null==(e=e.objdata)?void 0:e.Values;n&&(this.RunningAttackRect=n)},s.playSpecialZombieDeath=function(){this.isRunning&&(this.isRunning=!1)},s.getZombiesToKickInLane=function(t){return void 0===t&&(t=this.plantDetectorRec),this.inLane?(this.hypnotized?this.inLane.hypnoZombiePool():this.inLane.zombiePool()).filter((function(e){var n;return(null==(n=e.objdataOwnOrg)?void 0:n.CanBeKickedByAllstar)&&!e.knockBackTween&&!e.leapHeightTween&&t.judgeCrossRec(e.bodyRec)})):[]},s.specialZombieUpdateBeforePlantDetect=function(t,e,n){var i=this;if(!this.switching&&n>0){var o=this.getZombiesToKickInLane();if(o.length)if(this.isRunning){var a=!1;o.forEach((function(t){a=!0,t.onKickedByAllstar(i)})),a&&g.playArray(this.kickSound,1,.1)}else this.isWalking=!1,this.switching=!0,this.correctShadeWP(.1),g.playArray(this.whistleSounds),this.body.playAnimation("Kick",1,.1)}},s.specialAnimationListener=function(t){var e=this;if("step"==t.name)g.playArray(this.stepSound);else if("Kick"==t.name){var n=d.createRectangleCenter(new l(this.shadeSocket.worldPosition.x+this.AttackRect.x*(this.reversed?-1:1),this._worldPosition.y+this.height_depth+this.AttackRect.y),2.5*this.AttackRect.w,this.AttackRect.h),i=this.getZombiesToKickInLane(n),o=!1;i.forEach((function(t){o=!0,t.onKickedByAllstar(e)})),o&&g.playArray(this.kickSound,1,.1)}else"Punch"==t.name&&(this._punch(),g.playArray(this.punchSound,1,.1))},s._punch=function(){var t=this,e=null,n=null,i=null,o=this.plantDetectorRec;this.hypnotized||(e=this.inLane.plantPool().filter((function(t){return t.eaterDetectable&&o.judgeCrossRec(t.bodyRec)})).sort((function(e,n){return(n.worldPositionX-e.worldPositionX)*t.scale})).find((function(){return!0}))),i=this.getSingleTombInRec(o),n=this.getSingleZombieInRec(o);var a=new p(this.objdataOwn.SmashDamage,!0,!0,!0,new l(10*(this.reversed?1:-1),0));n?n.dealDamage(a):i?i.dealDamage(a):e&&e.smash(this)},s.walkSpeedScaleExtra=function(){return this.isRunning?this.objdataOwn.RunningSpeedScale:1},s.detectPlant=function(t){var e=this;this.inLane?t<=0||this.switching||(this.isRunning?(!this.hypnotized&&(this.inLane.plantPool().some((function(t){return t.eaterDetectable&&t.bodyRec.judgeCrossRec(e.plantDetectorRec)}))||this.inLane.hypnoZombiePool().some((function(t){return t.bodyRec.judgeCrossRec(e.plantDetectorRec)})))||this.hypnotized&&this.inLane.zombiePool().some((function(t){return t.bodyRec.judgeCrossRec(e.plantDetectorRec)}))||this.inLane.tombPool(this.hypnotized?0:1).some((function(t){return t.bodyRec.judgeCrossRec(e.plantDetectorRec)})))&&(this.isRunning=!1,this.switching=!0,this.isWalking=!1,this.correctShadeWP(.1),this.body.playAnimation("Punch",1,.1),this.body.WalkAnm="Walk"):this.defaultDetectPlant(t)):this.playWalk()},s.specialZombieOnLoad=function(){},s.specialZombieOnEnable=function(){this.body.WalkAnm="Run",this.isWalking=!1,this.isRunning=!0,this.playWalk(0,Math.random())},a(e,[{key:"objdataOwn",get:function(){return this._objdataOwn}},{key:"AttackRect",get:function(){return this.isRunning?this.RunningAttackRect:this.DefaultAttackRect}}]),e}(u)).prototype,"whistleSounds",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=e(w.prototype,"stepSound",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),P=e(w.prototype,"kickSound",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=e(w.prototype,"punchSound",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=w))||A));s._RF.pop()}}}));

System.register("chunks:///_virtual/ModernBalloonZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./CharacterManager.ts","./LnC.ts","./Plant.ts","./SoundRescourses.ts","./JSONs.ts"],(function(t){var e,a,n,i,l,o,s,h,r,c,d,u,b,m,y,p,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,a=t.inheritsLoose,n=t.initializerDefineProperty,i=t.assertThisInitialized,l=t.createClass},function(t){o=t.cclegacy,s=t._decorator,h=t.Prefab,r=t.AudioClip},function(t){c=t.Zombie,d=t.ZombieProps},function(t){u=t.ZombieDamageDetails,b=t.ZombieDamageType},function(t){m=t.TileType},function(t){y=t.PlantType},function(t){p=t.sounds},function(t){f=t.PvZ2Object}],execute:function(){var g,A,B,D,k,v,P,S,R,W,O;o._RF.push({},"9def9SOGMtIJa/OMEnPblEO","ModernBalloonZombie",void 0);var w=s.ccclass,H=s.property,T=function(t){function e(){for(var e,a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))||this).BalloonToughness=270,e.BalloonWalkSPS=.4,e.HitRectWithBalloon="RTID(BalloonHitRect@RectangleProps)",e.AttackRectWithBalloon="RTID(BalloonAttackRect@RectangleProps)",e}return a(e,t),e}(d);t("ModernBalloonZombie",(g=w("ModernBalloonZombie"),A=H(h),B=H([r]),D=H([r]),k=H([r]),g((S=e((P=function(t){function e(){for(var e,a=arguments.length,l=new Array(a),o=0;o<a;o++)l[o]=arguments[o];return e=t.call.apply(t,[this].concat(l))||this,n(e,"balloonZombieAshParticle",S,i(e)),e.balloonHealth=270,n(e,"explodeSound",R,i(e)),e.BalloonHitRect={x:0,y:0,w:0,h:0},e.BalloonAttackRect={x:0,y:0,w:0,h:0},e.oldPDW=0,n(e,"bounceSound",W,i(e)),n(e,"steadySound",O,i(e)),e.rosen=!1,e._objdataOwn=new T,e._objdataOwnOrg=new T,e.oldIdleAnm="",e.oldEatAnm="",e.oldDeathAnm="",e.oldWalkAnm="",e}a(e,t);var o=e.prototype;return o.walkTimeScale=function(t,e,a){return this.haveBalloon()?1:this.defaultWalkTimeScale(t,e,a)},o.lockedTimeScale=function(){return this.switching?1:NaN},o.onArmorHealed=function(){this.haveBalloon()&&(this.balloonHealth=this.objdataOwn.BalloonToughness)},o.extraHealth=function(){return this.balloonHealth>0?this.balloonHealth:0},o.destroyBalloon=function(){this.haveBalloon()&&(this.explode(),this.balloonHealth=0)},o.setBalloonRectBoxes=function(){var t,e,a=null==(t=f.getObjectsByRTID(this.objdataOwnOrg.HitRectWithBalloon,"RectangleProps")[0])||null==(t=t.objdata)?void 0:t.Values;a&&(this.BalloonHitRect=a);var n=null==(e=f.getObjectsByRTID(this.objdataOwnOrg.AttackRectWithBalloon,"RectangleProps")[0])||null==(e=e.objdata)?void 0:e.Values;n&&(this.BalloonAttackRect=n)},o.onObjdataSet=function(t){this.setBalloonRectBoxes()},o.haveBalloon=function(){return this.balloonHealth>0},o.specialDealDamageAccordingToBowlingLevel=function(t,e){this.haveBalloon()?this.dealDamage(e.replaceDamage(this.balloonHealth)):this.dealDamage(e)},o.detectPlant=function(t){this.inLane?this.balloonHealth>0?this.haveBalloonDetectPlant(t):this.defaultDetectPlant(t):this.playWalk()},o.haveBalloonDetectPlant=function(t){var e;if(0!=t&&this.detectPlantOn()){var a=this.plantDetectorRec,n=null,i=null,l=null;if(!this.ignorePlants()){if(!this.hypnotized){var o=!1;this.inLane.plantPool().forEach((function(t){if(t.eaterDetectable&&!t.short_&&a.judgeCrossRec(t.bodyRec)){if(o)return;n&&t.plantType!=y.vine&&t.plantType!=y.plant&&t.plantType!=y.lilyPad&&t.plantType!=y.pot||o||(n=t,o=t.tall_)}}))}l=this.getSingleTombInRec(a),i=this.getSingleZombieInRec(a)}if(null!=(e=n)&&e.tall_||i||l)if(this.rosen)this.unrise();else{var s=new u(this.dps*t,!0,!1,!1,null);i?(this.playEat(t),i.eatByZombie(s,this)):l?(this.playEat(t),l.dealDamage(s)):n&&(this.playEat(t),n.eat(s.damage,this))}else n&&!n.tall_?this.rosen||this.rise():this.rosen?this.unrise():this.playWalk()}},o.dealDamage=function(t){if(this.invincible)return this.health;var e=t.damage,a=this.totalHealth();return t.damageType==b.fire&&(this.freeze=0,this.chill=0),this.haveBalloon()&&t.armorProtection&&(t.damage&&(this.hurting=10),this.pushSunBeanHealth(Math.min(t.damage,this.balloonHealth)),this.balloonHealth-=t.damage*this.damageScale(t),this.haveBalloon()||(e+=-this.balloonHealth,!this.dead&&!this.fallingInSky&&a>=t.damage&&this.explode())),this.haveBalloon()&&t.balloonKiller&&this.destroyBalloon(),this.haveBalloon()&&t.armorProtection||this.defaultDealDamage(t.replaceDamage(e)),this.health},o.specialZombieOnLanding=function(){this.zombieAshParticle_=this.zombieAshParticle,this.body.IdleAnm="Idle",this.body.EatAnm="Eat",this.body.WalkAnm="Walk",this.body.DeathAnm="Death"},o.specialZombieOnDisable=function(){this.zombieAshParticle_=this.balloonZombieAshParticle,this.body.DeathAnm=this.oldDeathAnm,this.body.EatAnm=this.oldEatAnm,this.body.IdleAnm=this.oldIdleAnm,this.body.WalkAnm=this.oldWalkAnm},o.specialAnimationListener=function(t){"steady"==t.name?p.playArray(this.steadySound,1,.1):"bounce"==t.name&&p.playArray(this.bounceSound,1,.1)},o.rise=function(){this.rosen||(this.switching=!0,this.rosen=!0,this.isWalking=!1,this.body.playAnimation("Rise",1),this.body.WalkAnm="Walk_Fly_High",this.correctShadeWP())},o.unrise=function(){this.rosen&&(this.switching=!0,this.isWalking=!1,this.body.playAnimation("Unrise",1),this.body.WalkAnm="Walk_Fly",this.rosen=!1,this.correctShadeWP())},o.specialZombieOnEnable=function(){this.balloonHealth=this.objdataOwn.BalloonToughness,this.zombieAshParticle_=this.balloonZombieAshParticle,this.rosen=!1,this.body.WalkAnm="Walk_Fly",this.replayAnimation()},o.specialZombieOnLoad=function(){this.oldDeathAnm=this.body.DeathAnm,this.oldEatAnm=this.body.EatAnm,this.oldIdleAnm=this.body.IdleAnm,this.oldWalkAnm=this.body.WalkAnm},o.playSpecialZombieDeath=function(){var t;"Death"==this.body.DeathAnm&&(null==(t=this.inLnC)?void 0:t.getTileType())==m.sky&&this.playFall()},o.playSpecialZombieDie=function(t){"Death_Fly"==this.body.DeathAnm&&this.judgeDeath(),this.currentFlyZombie&&this.playExplodeSound()},o.explode=function(){this.balloonHealth=0,this.playExplodeSound(),this.body.playAnimation("Land",1),this.body.IdleAnm="Idle",this.body.EatAnm="Eat",this.body.WalkAnm="Walk",this.isWalking=!1,this.switching=!0},o.playExplodeSound=function(){this.explodeSound.length&&p.playArray(this.explodeSound,1,.1)},l(e,[{key:"HitRect",get:function(){return this.haveBalloon()?this.BalloonHitRect:this.DefaultHitRect}},{key:"AttackRect",get:function(){return this.haveBalloon()?this.BalloonAttackRect:this.DefaultAttackRect}},{key:"squarePerSec",get:function(){return this.haveBalloon()?this.objdataOwn.BalloonWalkSPS:this.objdataOwn.WalkSPS}},{key:"objdataOwn",get:function(){return this._objdataOwn}},{key:"objdataOwnOrg",get:function(){return this._objdataOwnOrg}}]),e}(c)).prototype,"balloonZombieAshParticle",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=e(P.prototype,"explodeSound",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),W=e(P.prototype,"bounceSound",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=e(P.prototype,"steadySound",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=P))||v));o._RF.pop()}}}));

System.register("chunks:///_virtual/ModernBobsledTeamZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./CharacterManager.ts","./Zombies.ts","./LnC.ts"],(function(e){var n,i,t,a,o,r,s,l,c,h,u,p,d,m,f,b,y,g;return{setters:[function(e){n=e.applyDecoratedDescriptor,i=e.inheritsLoose,t=e.initializerDefineProperty,a=e.assertThisInitialized,o=e.asyncToGenerator,r=e.regeneratorRuntime,s=e.createClass},function(e){l=e.cclegacy,c=e._decorator,h=e.Node,u=e.Vec2},function(e){p=e.Zombie,d=e.ZombieProps},function(e){m=e.ZombieDamageDetails,f=e.ZombieDamageType},function(e){b=e.zombies,y=e.ZombieEnum},function(e){g=e.TileType}],execute:function(){var w,T,k,v,S;l._RF.push({},"2e6f3D4iVJG7pvFJrCFh9W6","ModernBobsledTeamZombie",void 0);var Z=c.ccclass,D=c.property,P=function(e){function n(){for(var n,i=arguments.length,t=new Array(i),a=0;a<i;a++)t[a]=arguments[a];return(n=e.call.apply(e,[this].concat(t))||this).SpeedUpSPSScale=2,n}return i(n,e),n}(d);e("BobsledZombieTeamZombie",(w=Z("BobsledZombieTeamZombie"),T=D([h]),w((S=n((v=function(e){function n(){for(var n,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return n=e.call.apply(e,[this].concat(o))||this,t(n,"spawnPoints",S,a(n)),n._objdataOwn=new P,n.innerToughness=190,n.innerHealth=190,n.spedUp=!1,n.haveInner=!0,n}i(n,e);var l=n.prototype;return l.onWaveAdded=function(e){e.db.playAnimation("Idle_G")},l.onDamaged=function(e,n,i){if(n<this.toughness/2){var t=this.body.db.armature();["front","mid","back","knifeL_here","wingR"].forEach((function(e){t.getSlot(e).displayIndex=1}))}i.armorProtection||(this.innerHealth-=i.damage,this.innerHealth<=0&&(this.playDie(!0),this.judgeDeath(),this.spawnTeam().forEach((function(e){e.dealDamage(new m(e.toughness+100,!1,i.armorKnockSound,i.bodyKnockSound,i.damageDirection,i.damageType,i.flash))}))))},l.ignorePlants=function(){return!0},l.specialZombieOnSquareChange=function(e,n){9==n.cIndex||this.spedUp||(this.spedUp=!0,this.body.playAnimation("Jump",1),this.body.WalkAnm="Walk"),n.iceTile||9==n.cIndex||n.getTileType()!=g.sea&&n.getTileType()!=g.sky&&this.playDie(!1,null,!0,f.physicle,!1,!1,!1)},l.spawnTeam=function(){var e=this;if(!this.haveInner)return[];this.haveInner=!1;var n=[];return this.spawnPoints.forEach(o(r().mark((function i(t){var a;return r().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,b.spawnZombieFromLane(e.lIndex,y.bobsled,{},!0,e.reversed,e._usedToBeHypnotized);case 2:(a=i.sent).worldPosition=new u(t.worldPosition.x,e.inLane.floorY),a.copyBuff(e),a.shrink(e.ShrinkProps,0),n.push(a);case 7:case"end":return i.stop()}}),i)})))),n},l.playSpecialZombieDeath=function(){this.body.WalkAnm="WalkPush"},l.walkTimeScale=function(e,n,i){return this.spedUp?1:this.defaultWalkTimeScale(e,n,i)},l.walkSpeedScaleExtra=function(){return this.spedUp?this.objdataOwn.SpeedUpSPSScale:1},l.specialZombieOnEnable=function(){this.spedUp=!1,this.haveInner=!0;var e=this.body.db.armature();this.body.WalkAnm="WalkPush",this.isWalking=!1,this.playWalk(),this.innerHealth=this.innerToughness,["front","mid","back","knifeL_here","wingR"].forEach((function(n){e.getSlot(n).displayIndex=0}))},l.specialAnimationListener=function(e){var n=this;"spawnTeam"==e.name&&this.spawnTeam().forEach((function(e){e.dealDamage(new m(e.toughness-n.innerHealth,!1,!1,!1,null,f.physicle,!1))}))},l.playSpecialZombieDie=function(e){this.judgeDeath()},s(n,[{key:"objdataOwn",get:function(){return this._objdataOwn}}]),n}(p)).prototype,"spawnPoints",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=v))||k));l._RF.pop()}}}));

System.register("chunks:///_virtual/ModernCatapultZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./CharacterManager.ts","./Character.ts","./Square.ts","./SoundRescourses.ts","./Projectiles.ts"],(function(o){var t,e,n,i,a,s,l,r,d,c,h,b,u,p,y,f,P,g,w;return{setters:[function(o){t=o.applyDecoratedDescriptor,e=o.inheritsLoose,n=o.initializerDefineProperty,i=o.assertThisInitialized,a=o.createClass,s=o.asyncToGenerator,l=o.regeneratorRuntime},function(o){r=o.cclegacy,d=o._decorator,c=o.Node,h=o.AudioClip,b=o.Vec2},function(o){u=o.Zombie,p=o.ZombieProps},function(o){y=o.ZombieDamageDetails},function(o){f=o.CharacterType},function(o){P=o.Square},function(o){g=o.sounds},function(o){w=o.ProjectileShootingFunctions}],execute:function(){var m,R,C,L,v,j,X;r._RF.push({},"0ffd72fmV9B2LOjgYeSzq6+","ModernCatapultZombie",void 0);var S=d.ccclass,I=d.property,D=function(o){function t(){for(var t,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return(t=o.call.apply(o,[this].concat(n))||this).LobInterval=4,t.LobIntervalAdditional=.5,t.MaxBallCount=20,t.BallType="busketball",t}return e(t,o),t}(p);o("CatapultZombie",(m=S("CatapultZombie"),R=I(c),C=I([h]),m((j=t((v=function(o){function t(){for(var t,e=arguments.length,a=new Array(e),s=0;s<e;s++)a[s]=arguments[s];return(t=o.call.apply(o,[this].concat(a))||this)._objdataOwn=new D,t.lobCD=240,n(t,"baskeballSpawnPoint",j,i(t)),n(t,"lobSound",X,i(t)),t.ballCount=20,t.potatoMineDisappear=!1,t}e(t,o);var r=t.prototype;return r.playSpecialZombieDie=function(o){this.judgeDeath()},r.specialZombieOnEnable=function(){var o=this.body.db.armature();["shield","body","busket","busket_there","front","side","engine0"].forEach((function(t){var e=o.getSlot(t);e&&(e.displayIndex=0)})),this.lobCD=0,this.ballCount=this.objdataOwn.MaxBallCount,this.judgeBallCount()},r.plantCanbeDetected=function(o){return o.eaterDetectable&&!o.short_&&!o.invincible&&!o.objdataOwn.CannotBeDetectedByCatapult&&this.judgeCharacterIsInRange(o.worldPositionX)&&!this.bodyRec.judgeCrossRec(o.bodyRec)},r.detectPlant=function(o){var t=this;if(this.inLane){if(!(o<=0)){var e=new y(this.dps*o,!0,!1,!1,null);this.hypnotized?this.isWalking&&this.inLane.zombiePool().forEach((function(o){o.bodyRec.judgeCrossRec(t.bodyRec)&&o.dealDamage(e)})):(this.inLane.plantPool().forEach((function(o){o.smasherDetectable&&t.bodyRec.judgeCrossRec(o.bodyRec)&&o.smash(t)})),this.isWalking&&this.inLane.hypnoZombiePool().forEach((function(o){o.bodyRec.judgeCrossRec(t.bodyRec)&&o.dealDamage(e)}))),this.isWalking&&this.inLane.tombPool(this.hypnotized?0:1).forEach((function(o){o.bodyRec.judgeCrossRec(t.bodyRec)&&o.dealDamage(e)}))}}else this.playWalk()},r.whenStabbedBySpikeWeed=function(o){var t=this;this.playDie(),o.forEach((function(o){o.normalSmash(t)}))},r.judgeBallCount=function(){var o=this.body.db.armature();switch(["ball1","ball2","ball3","ball4","ball5","ballReady"].forEach((function(t){o.getSlot(t).displayIndex=0})),this.ballCount){case 0:o.getSlot("ball5").displayIndex=o.getSlot("ballReady").displayIndex=-1;case 1:o.getSlot("ball4").displayIndex=-1;case 2:o.getSlot("ball2").displayIndex=-1;case 3:o.getSlot("ball3").displayIndex=-1;case 4:o.getSlot("ball1").displayIndex=-1}},r._Lob=function(){var o=s(l().mark((function o(){var t,e,n,i,a,s,r,d,c=this;return l().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(this.ballCount--,this.judgeBallCount(),t=null,e=null,this.reversed?(i=-1/0,this.hypnotized?this.inLane.tombPool(0).forEach((function(o){var e=o.bodyRec.prjX().y;e>i&&o.worldPositionX>c.worldPositionX&&!o.hidden&&(t=o.node,i=e)})):(this.inLane.plantPool().forEach((function(o){var e=o.bodyRec.prjX().y;e>i&&o.worldPositionX>c.worldPositionX&&c.plantCanbeDetected(o)&&(t=o.node,i=e)})),this.inLane.tombPool(1).forEach((function(o){var e=o.bodyRec.prjX().y;e>i&&o.worldPositionX>c.worldPositionX&&!o.hidden&&(t=o.node,i=e)}))),(this.hypnotized?this.inLane.zombiePool():this.inLane.hypnoZombiePool()).forEach((function(o){var n=o.bodyRec.prjX().x;n>i&&o.worldPositionX>c.worldPositionX&&(e=o,t=null,i=n)}))):(n=1/0,this.hypnotized?this.inLane.tombPool(0).forEach((function(o){var e=o.bodyRec.prjX().y;e<n&&o.worldPositionX<c.worldPositionX&&!o.hidden&&(t=o.node,n=e)})):(this.inLane.plantPool().forEach((function(o){var e=o.bodyRec.prjX().x;e<n&&o.worldPositionX<c.worldPositionX&&c.plantCanbeDetected(o)&&(t=o.node,n=e)})),this.inLane.tombPool(1).forEach((function(o){var e=o.bodyRec.prjX().y;e<n&&o.worldPositionX<c.worldPositionX&&!o.hidden&&(t=o.node,n=e)}))),(this.hypnotized?this.inLane.zombiePool():this.inLane.hypnoZombiePool()).forEach((function(o){var i=o.bodyRec.prjX().x;i<n&&o.worldPositionX<c.worldPositionX&&(e=o,t=null,n=i)}))),(!t||(this.reversed?-1:1)*(t.worldPosition.x-this.worldPositionX)>0)&&(t=this.reversed?this.inLane.toRight:this.inLane.toLeft),a=this.objdataOwn.BallType,s=this.hypnotized?f.zombie:f.plant,!e){o.next=15;break}return o.next=11,w.lobOneCabbageOnZombie(a,new b(this.baskeballSpawnPoint.worldPosition.x,this.worldPositionY),this.baskeballSpawnPoint.worldPosition.y-this.worldPositionY,this.inLane.prjLayer,e,.4444,s,!1);case 11:r=o.sent,this.shotFunc(r),o.next=20;break;case 15:if(!t){o.next=20;break}return o.next=18,w.lobOneCabbageOnNode(a,new b(this.baskeballSpawnPoint.worldPosition.x,this.worldPositionY),this.baskeballSpawnPoint.worldPosition.y-this.worldPositionY,this.inLane.prjLayer,t,.4444,s,!1);case 18:d=o.sent,this.shotFunc(d);case 20:this.lobSound.length&&g.playArray(this.lobSound,1,.5);case 21:case"end":return o.stop()}}),o,this)})));return function(){return o.apply(this,arguments)}}(),r.specialAnimationListener=function(o){"Lob"!=o.name||this.dead?"toIdle"==o.name&&this.playIdle():this._Lob()},r.shotFunc=function(o){var t=Math.abs(this.scale);o.damageScale=t,o.scale=t},r.onDamaged=function(o,t,e){if(t<this.toughness/2){var n=this.body.db.armature();["shield","body","busket","busket_there","front","side","engine0"].forEach((function(o){var t=n.getSlot(o);t&&(t.displayIndex=1)}))}},r.playLob=function(){this.playIdle(),this.lobCD=this.objdataOwn.LobInterval+this.objdataOwn.LobIntervalAdditional*Math.random(),this.body.playAnimation("Lob",1)},r.onWaveAdded=function(o){o.db.playAnimation("Idle_G")},r.judgeCharacterIsInRange=function(o){return this.reversed&&o>this.worldPositionX||!this.reversed&&o<this.worldPositionX},r.detectLobPlant=function(){var o=this;if(this.inLane)if(this.worldPositionX>P.getSquareWorldPosition(0,7).x)this.playWalk();else{var t=!1;this.hypnotized?(this.inLane.zombiePool().forEach((function(e){t||o.judgeCharacterIsInRange(e.worldPositionX)&&!e.bodyRec.judgeCrossRec(o.bodyRec)&&(t=!0)})),this.inLane.tombPool(0).forEach((function(e){t||o.judgeCharacterIsInRange(e.worldPositionX)&&!e.bodyRec.judgeCrossRec(o.bodyRec)&&(t=!0)}))):(this.inLane.plantPool().forEach((function(e){t||o.plantCanbeDetected(e)&&(t=!0)})),this.inLane.hypnoZombiePool().forEach((function(e){t||o.judgeCharacterIsInRange(e.worldPositionX)&&!e.bodyRec.judgeCrossRec(o.bodyRec)&&(t=!0)})),this.inLane.tombPool(1).forEach((function(e){t||o.judgeCharacterIsInRange(e.worldPositionX)&&!e.bodyRec.judgeCrossRec(o.bodyRec)&&(t=!0)}))),t&&this.ballCount?this.playLob():this.playWalk()}},r.specialZombieUpdate=function(o,t,e){this.lobCD>0&&(this.lobCD-=o),this.lobCD<=0&&e>0&&(this.lobCD=0,this.isAlive()&&this.detectLobPlant())},a(t,[{key:"objdataOwn",get:function(){return this._objdataOwn}},{key:"plantDetectorRec",get:function(){return this.bodyRec},set:function(o){this._plantDetectorRec=o}}]),t}(u)).prototype,"baskeballSpawnPoint",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=t(v.prototype,"lobSound",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=v))||L));r._RF.pop()}}}));

System.register("chunks:///_virtual/ModernNewspaperZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./CharacterManager.ts","./SoundRescourses.ts","./NodePools.ts"],(function(e){var t,a,i,n,r,o,s,l,p,h,u,d,c,m;return{setters:[function(e){t=e.applyDecoratedDescriptor,a=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized,r=e.createClass},function(e){o=e.cclegacy,s=e._decorator,l=e.Prefab,p=e.AudioClip},function(e){h=e.Zombie,u=e.ZombieProps},function(e){d=e.ZombieDamageType},function(e){c=e.sounds},function(e){m=e.instantiatePooly}],execute:function(){var g,y,f,b,S,w,v,A,P,D,_,H,O,N,j;o._RF.push({},"4b6bd19wVFKcJq1G1VFgwwI","ModernNewspaperZombie",void 0);var T=s.ccclass,k=s.property,E=function(e){function t(){for(var t,a=arguments.length,i=new Array(a),n=0;n<a;n++)i[n]=arguments[n];return(t=e.call.apply(e,[this].concat(i))||this).EnragedDamageScale=4,t.EnragedSpeedScale=4,t.NewspaperHealth=800,t.NewspaperBowlingLevel=1,t}return a(t,e),t}(u);e("ModernNewspaperZombieZombie",(g=T("ModernNewspaperZombie"),y=k(l),f=k([p]),b=k([p]),S=k([p]),w=k([p]),v=k([p]),g((D=t((P=function(e){function t(){for(var t,a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this)._objdataOwn=new E,t._objdataOwnOrg=new E,i(t,"paperDestroyPar",D,n(t)),i(t,"readSounds",_,n(t)),i(t,"angrySounds",H,n(t)),i(t,"hitSounds",O,n(t)),i(t,"destroySounds",N,n(t)),i(t,"speedupSounds",j,n(t)),t._paperHealth=0,t.ignited=void 0,t._fireSlots=[],t._paperToughness=800,t._paperSlot=void 0,t}a(t,e);var o=t.prototype;return o.onObjdataSet=function(e){this.paperHealth=this.objdataOwnOrg.NewspaperHealth,this._paperToughness=this.objdataOwnOrg.NewspaperHealth},o.specialZombieOnEnable=function(){this.body.IdleAnm="Idle",this.body.WalkAnm="Walk",this.body.EatAnm="Eat",this.body.DeathAnm="Death",this.paperHealth=this._paperToughness,this.replayAnimation(),this.ignite(!1)},o.onChill=function(e){this.ignite(!1)},o.onArmorHealed=function(){this.havePaper&&(this.paperHealth=this.objdataOwn.NewspaperHealth)},o.paperHit=function(){var e;null==(e=this._paperSlot)||null==(e=e.armature)||null==(e=e.animation)||e.play("hit",1)},o.specialAnimationListener=function(e){switch(e.name){case"speedup":this.isAlive()&&(c.playArray(this.speedupSounds,1,NaN,.5),c.playArray(this.angrySounds,1,NaN,.5))}},o.extraHealth=function(){return this._paperHealth>0?this.paperHealth:0},o.playSpecialZombieDie=function(e){this.havePaper&&this.playPaperDestroy()},o.playPaperDestroy=function(){var e=m(this.paperDestroyPar);e.parent=this.node.parent,e.worldPosition=this.worldPosition.toVec3(),this.paperHealth=0,this.ignite(!1),c.playArray(this.destroySounds,1,NaN,.2)},o.ignite=function(e){void 0===e&&(e=!0);var t=e?0:-1;this.ignited=e,this._fireSlots.forEach((function(e){e._setDisplayIndex(t)}))},o.specialDealDamageAccordingToBowlingLevel=function(e,t){this.havePaper&&t.armorProtection?this.dealDamage(t.replaceDamage(Math.min(this.paperHealth,this._paperToughness/this.objdataOwnOrg.NewspaperBowlingLevel))):this.dealDamage(t)},o.beforeAshPlayed=function(e,t){this.havePaper&&this.playPaperDestroy()},o.dealDamage=function(e){if(this.havePaper&&e.armorProtection){var t=e.damage;t>0&&(e.armorKnockSound&&(c.playArray(this.hitSounds,1),e.damageDirection&&e.damageDirection.x*(this.reversed?-1:1)>0&&this.paperHit()),e.damageType==d.fire&&(this.chill=0,this.freeze=0),this._setHurtingOnDamaged()),this.pushSunBeanHealth(Math.min(e.damage,this.paperHealth)),this.paperHealth-=t*this.damageScale(e);var a=-this._paperHealth,i=this.defaultDealDamage(e.replaceDamage(a>0?a:0));return this.havePaper?e.damageType==d.fire&&this.ignite():(this.playPaperDestroy(),this.isAlive()&&(this.body.IdleAnm="Idle_Angry",this.body.WalkAnm="Walk_Angry",this.body.EatAnm="Eat_Angry",this.body.DeathAnm="Death_Angry",this.correctShadeWP(),this.body.playAnimation("GetAngry"),this.switching=!0,this.isWalking=!1)),i}return this.defaultDealDamage(e)},o.commonShotPopOnTouch=function(e){return this.havePaper&&(this.reversed?-1:1)*e.linearVelocity.x>0&&this.paperHit(),!0},o.specialZombieOnLoad=function(){var e,t=this;this._paperSlot=null==(e=this.db)||null==(e=e.armature())||null==(e=e.getSlot("paper"))||null==(e=e.childArmature)?void 0:e.getSlot("MAIN"),this._fireSlots=[],this.db.armature().getSlots().forEach((function(e){e.name.includes("FIRE")&&t._fireSlots.push(e)}))},o.specialZombieUpdate=function(e,t,a){var i,n=null==(i=this._paperSlot)?void 0:i.armature;if(n){n.animation.timeScale=0;var r=n.animation.lastAnimationState.currentTime+t;r<n.animation.lastAnimationState.totalTime&&n.animation.gotoAndPlayByTime(n.animation.lastAnimationState.name,r,1)}this._fireSlots.forEach((function(e){var a=e.childArmature;if(a){a.animation.timeScale=0;var i=a.animation.lastAnimationState,n=i.currentTime+t;a.animation.gotoAndPlayByTime(i.name,n)}})),a>0&&this.havePaper&&c.playArray(this.readSounds,.4,NaN,.9,!0)},r(t,[{key:"objdataOwn",get:function(){return this._objdataOwn}},{key:"objdataOwnOrg",get:function(){return this._objdataOwnOrg}},{key:"squarePerSec",get:function(){return this.havePaper?this.objdataOwn.WalkSPS:this.objdataOwn.WalkSPS*this.objdataOwn.EnragedSpeedScale}},{key:"dps",get:function(){return this.havePaper?this.objdataOwn.EatDPS:this.objdataOwn.EatDPS*this.objdataOwn.EnragedDamageScale}},{key:"paperHealth",get:function(){return this._paperHealth},set:function(e){var t,a=3-Math.ceil(e/this._paperToughness*3);null==(t=this._paperSlot)||t._setDisplayIndex(a),this._paperHealth=e}},{key:"havePaper",get:function(){return this.paperHealth>0}}]),t}(h)).prototype,"paperDestroyPar",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=t(P.prototype,"readSounds",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),H=t(P.prototype,"angrySounds",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=t(P.prototype,"hitSounds",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),N=t(P.prototype,"destroySounds",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j=t(P.prototype,"speedupSounds",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=P))||A));o._RF.pop()}}}));

System.register("chunks:///_virtual/moldSquare.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Character.ts","./LnC.ts","./SoundRescourses.ts","./levelController.ts"],(function(e){var t,n,r,i,l,o,a,c,u,d,s;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){l=e.cclegacy,o=e._decorator,a=e.AudioClip},function(e){c=e.Character},function(e){u=e.TileType},function(e){d=e.sounds},function(e){s=e.LevelPlay}],execute:function(){var p,h,y,f,I;l._RF.push({},"1a2acZ+Dp5KYJ/BKSYxUCPZ","moldSquare",void 0);var m=o.ccclass,b=o.property;e("moldSquare",(p=m("moldSquare"),h=b(a),p((I=t((f=function(e){function t(){for(var t,n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(t=e.call.apply(e,[this].concat(l))||this).currentIdleMode=0,t.IdleAnm="Idle",r(t,"celebrateSound",I,i(t)),t}n(t,e);var l=t.prototype;return l.characterOnTileTypeChange=function(e,t){t==u.sky||t==u.water||t==u.sea?this.IdleAnm="Idle_Floating":this.IdleAnm="Idle",this.playIdle()},l.characterOnEnable=function(){this.currentIdleMode=0},l.playIdle=function(){0!=this.currentIdleMode&&(this.db.playAnimation(this.IdleAnm,1/0),this.currentIdleMode=0)},l.playHide=function(){1!=this.currentIdleMode&&(this.db.playAnimation("Hide",1),this.currentIdleMode=1)},l.playCelecbrate=function(){2!=this.currentIdleMode&&(this.db.playAnimation("Victory",1),this.currentIdleMode=2),d.playOneShot(this.celebrateSound,1,NaN,.3333)},l.update=function(e){s.component.gameWon&&this.playCelecbrate()},t}(c)).prototype,"celebrateSound",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=f))||y));l._RF.pop()}}}));

System.register("chunks:///_virtual/MonkBasicZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./KongfuBasicZombie.ts","./Tombs.ts","./Zombies.ts"],(function(n){var o,a,t,e,r,c,s,i;return{setters:[function(n){o=n.inheritsLoose,a=n.createClass},function(n){t=n.cclegacy,e=n._decorator},function(n){r=n.KongfuBasicProps,c=n.KongfuBasicZombie},function(n){s=n.TombEnum},function(n){i=n.ZombieEnum}],execute:function(){var u;t._RF.push({},"bced7VW0x9GPqj0gSQAIFl/","MonkBasicZombie",void 0);var k=e.ccclass,m=(e.property,n("MonkBasicProps",function(n){function a(){for(var o,a=arguments.length,t=new Array(a),e=0;e<a;e++)t[e]=arguments[e];return(o=n.call.apply(n,[this].concat(t))||this).ReckWarningRect="RTID(KongfuReckWarningRect@RectangleProps)",o.ZombieTypesToSummonBecomingFlag=["monk","monk_armor1","monk_armor2"],o.ZombieCountToSummon=3,o}return o(a,n),a}(r)));n("MonkBasicZombie",k("MonkBasicZombie")(u=function(n){function t(){for(var o,a=arguments.length,t=new Array(a),e=0;e<a;e++)t[e]=arguments[e];return(o=n.call.apply(n,[this].concat(t))||this)._objdataOwn=new m,o._objdataOwnOrg=new m,o}o(t,n);var e=t.prototype;return e.transByRack=function(n){switch(n.ID){case s.kongfu_rack_helmet:this.throwAllArmors(),this.addArmor("kongfu_armor3");break;case s.kongfu_rack_flag:this.transIntoZombie(i.monk_flag);break;case s.kongfu_rack_nunchaku:this.transIntoZombie(i.monk_nunchaku);break;case s.kongfu_rack_blade:this.transIntoZombie(i.monk_blade);break;case s.kongfu_rack_torch:this.transIntoZombie(i.monk_torch)}n.die()},e.judgeTombDetectAsRack=function(n){switch(n.ID){case s.kongfu_rack_helmet:return!0;case s.kongfu_rack_flag:case s.kongfu_rack_nunchaku:case s.kongfu_rack_blade:case s.kongfu_rack_torch:return this.haveArm}return!1},a(t,[{key:"objdataOwn",get:function(){return this._objdataOwn}},{key:"objdataOwnOrg",get:function(){return this._objdataOwnOrg}}]),t}(c))||u);t._RF.pop()}}}));

System.register("chunks:///_virtual/MonkBladeZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./CharacterManager.ts","./SoundRescourses.ts","./JSONs.ts"],(function(e){var t,i,a,n,o,s,r,c,l,h,d,u,b,f,p,g,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,a=e.initializerDefineProperty,n=e.assertThisInitialized,o=e.createClass},function(e){s=e.cclegacy,r=e._decorator,c=e.AudioClip,l=e.Prefab,h=e.Vec3,d=e.Vec2},function(e){u=e.Zombie,b=e.ZombieProps},function(e){f=e.Rectangle,p=e.ZombieDamageDetails},function(e){g=e.sounds},function(e){y=e.PvZ2Object}],execute:function(){var R,m,B,v,w,D,k,j,A;s._RF.push({},"fac72t/BitBs5c9bZLvDbwF","MonkBladeZombie",void 0);var O=r.ccclass,P=r.property,S=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),n=0;n<i;n++)a[n]=arguments[n];return(t=e.call.apply(e,[this].concat(a))||this).BladeDamage=250,t.AttackRectWithBlade="",t}return i(t,e),t}(b);e("MonkBladeZombie",(R=O("MonkBladeZombie"),m=P([c]),B=P([c]),v=P(l),R((k=t((D=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return(t=e.call.apply(e,[this].concat(o))||this)._objdataOwn=new S,t._objdataOwnOrg=new S,a(t,"swingSounds",k,n(t)),a(t,"hitSounds",j,n(t)),t._haveBlade=!0,t.bladeSlots=[],t.BladeAttackRect={x:0,y:0,w:0,h:0},a(t,"bladeDrop",A,n(t)),t}i(t,e);var s=t.prototype;return s.specialZombieOnLoad=function(){var e=this;this.body.db.armature().getSlots().forEach((function(t){t.name.includes("BLADE")&&e.bladeSlots.push(t)}))},s.setBladeRectBoxes=function(){var e=y.getObjectsByRTID(this.objdataOwnOrg.AttackRectWithBlade,"RectangleProps")[0].objdata.Values;e&&(this.BladeAttackRect=e)},s.onObjdataSet=function(e){this.setBladeRectBoxes()},s.specialZombieOnEnable=function(){this.haveBlade=!0},s.specialMagnetedObject=function(){if(!this.haveBlade)return null;var e=this.drop(this.bladeDrop,this.zombieHeight+this.height,new h(this.worldPositionX+10,this.worldPositionY,10),new d(0,0),this.inLane.prjLayer,0);return this.haveBlade=!1,e},s.specialAnimationListener=function(e){"hit"==e.name?this.haveBlade&&(this.isAlive()&&this._hit(),g.playArray(this.hitSounds)):"swing"==e.name&&this.haveBlade&&g.playArray(this.swingSounds)},s.detectPlant=function(e){var t=this;if(this.haveBlade){if(!this.detectPlantOn())return;if(!this.inLane)return void this.playWalk();if(e<=0)return;var i=!1;if(this.hypnotized?this.inLane.zombiePool().forEach((function(e){i||t.plantDetectorRec.judgeCrossRec(e.bodyRec)&&(i=!0)})):(this.inLane.plantPool().forEach((function(e){i||e.smasherDetectable&&t.plantDetectorRec.judgeCrossRec(e.bodyRec)&&(i=!0)})),this.inLane.hypnoZombiePool().forEach((function(e){i||t.plantDetectorRec.judgeCrossRec(e.bodyRec)&&(i=!0)}))),this.inLane.tombPool(this.hypnotized?0:1).forEach((function(e){i||t.plantDetectorRec.judgeCrossRec(e.bodyRec)&&(i=!0)})),i){this.isWalking=!1,this.switching=!0;this.correctShadeWP(.1),this.body.playAnimation("Attack",1,.1)}else this.playWalk()}else this.defaultDetectPlant(e)},s._hit=function(){var e,t=null,i=null,a=null,n=f.createRectangleCenter(new d(this.shadeSocket.worldPosition.x+this.AttackRect.x*(this.reversed?-1:1),this._worldPosition.y+this._height+this.AttackRect.y),1.5*this.AttackRect.w,this.AttackRect.h),o=new p(this.objdata.BladeDamage,!0,!0,!0,null);this.hypnotized||this.inLane.plantPool().forEach((function(e){(e.eaterDetectable||e.smasherDetectable)&&e.bodyRec.judgeCrossRec(n)&&(!t||t.bodyRec.prjX().y<e.bodyRec.prjX().y)&&(t=e)})),i=this.getSingleZombieInRec(n),a=this.getSingleTombInRec(n),i?i.dealDamage(o):t?null==(e=t)||e.dealDamage(o.damage,0):a&&a.dealDamage(o)},o(t,[{key:"objdataOwn",get:function(){return this._objdataOwn}},{key:"objdataOwnOrg",get:function(){return this._objdataOwnOrg}},{key:"AttackRect",get:function(){return this.haveBlade?this.BladeAttackRect:this.DefaultAttackRect}},{key:"haveBlade",get:function(){return this._haveBlade},set:function(e){this._haveBlade=e,this.bladeSlots.forEach((function(t){t._setDisplayIndex(e?0:-1)}))}}]),t}(u)).prototype,"swingSounds",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j=t(D.prototype,"hitSounds",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=t(D.prototype,"bladeDrop",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=D))||w));s._RF.pop()}}}));

System.register("chunks:///_virtual/MonkDrinkZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CharacterManager.ts","./SoundRescourses.ts","./KongfuDrinkZombie.ts"],(function(t){var e,n,i,o,r,a,s,c,u,h,l,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized,r=t.createClass},function(t){a=t.cclegacy,s=t._decorator,c=t.AudioClip},function(t){u=t.ZombieDamageDetails},function(t){h=t.sounds},function(t){l=t.KongfuDrinkZombie,d=t.KongfuDrinkProps}],execute:function(){var f,p,b,y,g,k,m;a._RF.push({},"1fffeF6YPdL4p8hMmkyeXJr","MonkDrinkZombie",void 0);var D=s.ccclass,R=s.property,w=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))||this).HitDamage=150,e.AttackRect="RTID(MonkDrinkAttackRect@RectangleProps)",e}return n(e,t),e}(d);t("MonkDrinkZombie",(f=D("MonkDrinkZombie"),p=R([c]),b=R([c]),f((k=e((g=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))||this)._objdataOwn=new w,e._objdataOwnOrg=new w,e.chewSoundWhenEat=!1,e.drunkSlots=[],i(e,"throwSounds",k,o(e)),i(e,"throwSaySounds",m,o(e)),e}n(e,t);var a=e.prototype;return a.onObjdataSet=function(t){},a.specialZombieOnLoad=function(){var t=this;this.db.armature().getSlots().forEach((function(e){e.name.includes("_DRUNK")&&t.drunkSlots.push(e)}))},a.specialAlmanac=function(t){this.specialZombieOnLoad(),this.drunk=!1},a.detectPlant=function(t){if(this.detectPlantOn())if(this.inLane){if(!(t<=0)){var e=!1,n=this.plantDetectorRec;this.hypnotized?this.inLane.zombiePool().forEach((function(t){e||n.judgeCrossRec(t.bodyRec)&&(e=!0)})):(this.inLane.plantPool().forEach((function(t){e||t.eaterDetectable&&!t.short_&&n.judgeCrossRec(t.bodyRec)&&(e=!0)})),this.inLane.hypnoZombiePool().forEach((function(t){e||n.judgeCrossRec(t.bodyRec)&&(e=!0)}))),this.inLane.tombPool(this.hypnotized?0:1).forEach((function(t){e||n.judgeCrossRec(t.bodyRec)&&(e=!0)})),e?(this.isWalking=!1,this.switching=!0,this.correctShadeWP(.1),this.body.playAnimation(this.drunk?"Attack2":"Attack",1,.1)):this.playWalk()}}else this.playWalk()},a.hit=function(){var t=this;if(this.inLane){var e=this.plantDetectorRec,n=new u(this.objdataOwn.HitDamage),i=this.getSingleZombieInRec(e);if(i)null==i||i.dealDamage(n);else if(this.hypnotized){var o=this.getSingleTombInRec(e);o&&(null==o||o.dealDamage(n))}else{var r=this.inLane.plantPool().filter((function(t){return t.eaterDetectable&&!t.short_&&e.judgeCrossRec(t.bodyRec)})).sort((function(e,n){var i=e.bodyRec.prjX(),o=n.bodyRec.prjX(),r=t.reversed?i.x:i.y;return((t.reversed?o.x:o.y)-r)*t.scale})).find((function(t){return!0}));r&&(null==r||r.dealDamage(this.objdataOwn.HitDamage,0))}}},a.specialDrinkAnimationListener=function(t){switch(t.name){case"throw":h.playArray(this.throwSounds,1,.1),h.playArray(this.throwSaySounds,1,.3);break;case"hit":this.isAlive()&&this.hit()}},r(e,[{key:"objdataOwn",get:function(){return this._objdataOwn}},{key:"objdataOwnOrg",get:function(){return this._objdataOwnOrg}},{key:"drunk",get:function(){return this._drunk},set:function(t){this.drunkSlots.forEach((function(e){e._setDisplayIndex(t?0:-1)})),this.zombieHead=t?this.drunkHead:this.normalHead,this.zombieArm=t?this.drunkArm:this.normalArm,this._drunk=t}},{key:"plantDetectorRecForPotatoMine",get:function(){return this.bodyRec}}]),e}(l)).prototype,"throwSounds",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),m=e(g.prototype,"throwSaySounds",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y=g))||y));a._RF.pop()}}}));

System.register("chunks:///_virtual/MonkNunchakuZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./KongfuHammerZombie.ts","./Plant.ts","./CharacterManager.ts","./SoundRescourses.ts","./ArrayGet.ts"],(function(t){var e,n,i,a,o,s,l,r,c,h;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,i=t._decorator,a=t.Vec2},function(t){o=t.KongfuHammerZombie},function(t){s=t.PlantType},function(t){l=t.ZombieDamageDetails,r=t.Rectangle},function(t){c=t.sounds},function(t){h=t.ArrayGet}],execute:function(){var u;n._RF.push({},"08eafK/zMlKLKahzFZOlJ/i","MonkNunchakuZombie",void 0);var p=i.ccclass;i.property,t("MonkNunchakuZombie",p("MonkNunchakuZombie")(u=function(t){function n(){return t.apply(this,arguments)||this}e(n,t);var i=n.prototype;return i.detectPlant=function(t){var e=this;if(this.inLane){if(0!=t&&this.detectPlantOn()){var n=this.plantDetectorRec,i=null,a=null,o=null;this.ignorePlants()||(this.hypnotized||(i=this.inLane.plantPool().filter((function(t){return!(!(t.eaterDetectable&&e.plantEatAllowed(t)||e.plantEatExtraAllowed(t))||!n.judgeCrossRec(t.bodyRec)||i&&t.plantType!=s.vine&&t.plantType!=s.plant&&t.plantType!=s.lilyPad&&t.plantType!=s.pot)})).sort((function(t,n){var i=e.scale>0?t.bodyRec.prjX().y:t.bodyRec.prjX().x;return((e.scale>0?n.bodyRec.prjX().y:n.bodyRec.prjX().x)-i)*e.scale})).find((function(){return!0}))),a=this.getSingleZombieInRec(n),o=this.getSingleTombInRec(n));var r=new l(this.dps*t,!0,!1,!1,null);a?(this.playEat(t),a.eatByZombie(r,this)):o?(this.playEat(t),o.dealDamage(r)):i?(this.isWalking=!1,this.body.playAnimation("Throw",1,.1),this.correctShadeWP(.1),this.switching=!0):this.allowWalk()?this.playWalk():(this.isWalking||this.isEating)&&this.playIdle()}}else this.playWalk()},i.hammerZombieAnimationListenerAdd=function(t){var e=this;if("Hit"==t.name){var n=r.createRectangleCenter(new a(this.shadeSocket.worldPosition.x+this.AttackRect.x*(this.reversed?-1:1),this._worldPosition.y+this._height+this.AttackRect.y),1.5*this.AttackRect.w,this.AttackRect.h);if(!this.hypnotized){var i,o=null;null==(i=this.inLane)||null==(i=i.plantPool())||i.forEach((function(t){o||t.eaterDetectable&&n.judgeCrossRec(t.bodyRec)&&(o=t)})),o&&(o.plantInLnC.getAllPlants().forEach((function(t){t.throwAway(!e.reversed,e)})),c.playOneShot(h.getRandom(this.hitSounds),.5,.1))}}else"Air"==t.name&&c.playOneShot(this.rotateSound,1,.1)},n}(o))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/MonkTorchZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EgyptExplorerZombie.ts","./SoundRescourses.ts"],(function(e){var o,t,n,i,r,c,a,u,s;return{setters:[function(e){o=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){r=e.cclegacy,c=e._decorator,a=e.AudioClip},function(e){u=e.EgyptExplorerZombie},function(e){s=e.sounds}],execute:function(){var l,p,h,d,f;r._RF.push({},"0ecd6ICj3FAtKSQc8LGy4rO","MonkTorchZombie",void 0);var y=c.ccclass,b=c.property;e("MonkTorchZombie",(l=y("MonkTorchZombie"),p=b(a),l((f=o((d=function(e){function o(){for(var o,t=arguments.length,r=new Array(t),c=0;c<t;c++)r[c]=arguments[c];return o=e.call.apply(e,[this].concat(r))||this,n(o,"torchIdleSound",f,i(o)),o}t(o,e);var r=o.prototype;return r.specialTorchZombieOnIgnited=function(){},r.specialTorchZombieOnLoad=function(){},r.onIgniteSet=function(e,o){this.body.EatAnm=o?"Eat_Fire":"Eat",this.chewSoundWhenEat=!o,e!=o&&this.isEating&&this.replayAnimation()},r.judgePlantCanBeBurnt=function(e){return!e.dead&&e.smasherDetectable},r.playTorchIdleSound=function(e){e>0&&s.playOneShot(this.torchIdleSound,.6,NaN,.9,!1,!0)},o}(u)).prototype,"torchIdleSound",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=d))||h));r._RF.pop()}}}));

System.register("chunks:///_virtual/MoonBean.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./SoundRescourses.ts","./levelController.ts","./CharacterManager.ts","./NodePools.ts","./ArrayGet.ts","./Square.ts","./Sunflower.ts"],(function(o){var n,t,a,i,e,r,l,s,u,d,c,b,p,f,m,h,P,y,w,g;return{setters:[function(o){n=o.applyDecoratedDescriptor,t=o.inheritsLoose,a=o.initializerDefineProperty,i=o.assertThisInitialized,e=o.createClass},function(o){r=o.cclegacy,l=o._decorator,s=o.AudioClip,u=o.Prefab,d=o.Vec2},function(o){c=o.Plant,b=o.PlantProps},function(o){p=o.sounds},function(o){f=o.SunBombProperties},function(o){m=o.ZombiePool,h=o.TombPool},function(o){P=o.instantiatePooly},function(o){y=o.ArrayGet},function(o){w=o.Square},function(o){g=o.sunflower}],execute:function(){var S,B,O,v,R,E,D,j,Z,x,z,A,L,C,M,_;r._RF.push({},"c4fd1iYED5GVa4H03sruSeB","MoonBean",void 0);var F=l.ccclass,V=l.property,k=function(o){function n(){for(var n,t=arguments.length,a=new Array(t),i=0;i<t;i++)a[i]=arguments[i];return(n=o.call.apply(o,[this].concat(a))||this).PlantBombExplosionRadius=25,n.ZombieBombExplosionRadius=80,n.PlantDamage=500,n.ZombieDamage=900,n.PlantBombExplosionRadiusPlantfood=25,n.ZombieBombExplosionRadiusPlantfood=80,n.PlantDamagePlantfood=0,n.ZombieDamagePlantfood=1500,n.PlantfoodSunbombCount=3,n}return t(n,o),n}(b),I=(S=F("MoonBeanSound"),B=V(s),O=V([s]),v=V([s]),S((D=n((E=function(){function o(){a(this,"foodShoot",D,this),a(this,"shoot",j,this),a(this,"death",Z,this)}var n=o.prototype;return n.playFoodShoot=function(){p.playArray(this.foodShoot,1,.1)},n.playShoot=function(){p.playArray(this.shoot,1,.1)},n.playDeath=function(){p.playArray(this.death,1,.1)},o}()).prototype,"foodShoot",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j=n(E.prototype,"shoot",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Z=n(E.prototype,"death",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=E))||R);o("MoonBeanPlant",(x=F("MoonBeanPlant"),z=V(I),A=V(u),x((M=n((C=function(o){function n(){for(var n,t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n=o.call.apply(o,[this].concat(e))||this,a(n,"soundRes",M,i(n)),n._objdataOwn=new k,a(n,"rayPar",_,i(n)),n}t(n,o);var r=n.prototype;return r.onObjdataSet=function(o,n){},r.specialPlantFood=function(){this.anmControl.playAnimation("Food",1)},r.getSunBombProp=function(o){void 0===o&&(o=!1);var n=new f;return n.PlantBombExplosionRadius=o?this.objdataOwn.PlantBombExplosionRadiusPlantfood:this.objdataOwn.PlantBombExplosionRadius,n.PlantDamage=o?this.objdataOwn.PlantDamagePlantfood:this.objdataOwn.PlantDamage,n.ZombieBombExplosionRadius=o?this.objdataOwn.ZombieBombExplosionRadiusPlantfood:this.objdataOwn.ZombieBombExplosionRadius,n.ZombieDamage=o?this.objdataOwn.ZombieDamagePlantfood:this.objdataOwn.ZombieDamage,n.ZombieDamage*=this._dmgScale,n},r.dropOneSunBomb=function(o,n,t){var a=g.dropOneSunBomb(o);if(a&&(a.sunbombProps=n,a.height=70,a.bodyLinearVelocity=-.5,a.gravity=0,a.linearVelocity=d.ZERO,t)){var i=P(this.rayPar);i.parent=a.inLane.prjLayer,i.worldPosition=o.toVec3()}},r.animationListener=function(o){var n=this;switch(o.name){case"foodSun":var t=this.getSunBombProp(!0),a=this.objdataOwn.PlantfoodSunbombCount;if(y.randomize(m.pool()).forEach((function(o){a>0&&null!=o&&o.isInLawn()&&(n.dropOneSunBomb(o.worldPosition,t,!0),a--)})),a>0)y.randomize(h.pool()).forEach((function(o){var i;a>0&&null!=o&&null!=(i=o.tombInLnC)&&i.isInLawn()&&(n.dropOneSunBomb(o.worldPosition,t,!0),a--)}));a>0&&y.randomize(w.getAllLnC()).forEach((function(o){a>0&&(n.dropOneSunBomb(o.plantPoint.worldPosition.toVec2(),t,!0),a--)})),this.soundRes.playFoodShoot();break;case"explode":var i=this.getSunBombProp();this.dropOneSunBomb(this.worldPosition,i,!1),this.soundRes.playShoot();break;case"foodEnd":this.foodEnd()}},e(n,[{key:"objdataOwn",get:function(){return this._objdataOwn}}]),n}(c)).prototype,"soundRes",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new I}}),_=n(C.prototype,"rayPar",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=C))||L));r._RF.pop()}}}));

System.register("chunks:///_virtual/Moonflower.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Sunflower.ts","./levelController.ts","./SoundRescourses.ts","./SunCount.ts","./InfiNut.ts","./Zombies.ts","./Square.ts"],(function(n){var o,t,i,e,r,a,u,s,l,d,c,h,p,f,w,S,y,P,m,b,v;return{setters:[function(n){o=n.applyDecoratedDescriptor,t=n.inheritsLoose,i=n.initializerDefineProperty,e=n.assertThisInitialized,r=n.asyncToGenerator,a=n.regeneratorRuntime,u=n.createClass},function(n){s=n.cclegacy,l=n._decorator,d=n.AudioClip,c=n.Node,h=n.dragonBones},function(n){p=n.sunflower},function(n){f=n.LevelPlay},function(n){w=n.sounds},function(n){S=n.SunCount},function(n){y=n.InfiNutPlant,P=n.InfiNutProps},function(n){m=n.zombies,b=n.ZombieEnum},function(n){v=n.Square}],execute:function(){var C,g,L,_,A,E,O,D,I,M,z,j,x,R,F,k;s._RF.push({},"a5837CPhDZPG509d3lamA2k","Moonflower",void 0);var B=l.ccclass,V=l.property,X=function(n){function o(){for(var o,t=arguments.length,i=new Array(t),e=0;e<t;e++)i[e]=arguments[e];return(o=n.call.apply(n,[this].concat(i))||this).SunValueList=[25,50,75,100],o.PlantfoodTime=3,o.SunValue=50,o.ProduceInterval=23.5,o.ProduceIntervalAdditional=1.5,o.ProduceCountdownStart=5,o.ProduceCountdownStartAdditional=5,o}return t(o,n),o}(P),H=(C=B("moonflowerSound"),g=V([d]),L=V([d]),_=V([d]),C((O=o((E=function(){function n(){i(this,"foodSound",O,this),i(this,"produceSound",D,this),i(this,"saySound",I,this)}var o=n.prototype;return o.playFoodSound=function(){w.playArray(this.foodSound,1,.1)},o.playProduceSound=function(){w.playArray(this.produceSound,1,.1)},o.playSaySound=function(){w.playArray(this.saySound,1,.1)},n}()).prototype,"foodSound",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=o(E.prototype,"produceSound",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),I=o(E.prototype,"saySound",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=E))||A);n("MoonflowerPlant",(M=B("MoonflowerPlant"),z=V(H),j=V(c),M((F=o((R=function(n){function o(){for(var o,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return o=n.call.apply(n,[this].concat(r))||this,i(o,"soundRes",F,e(o)),o._objdataOwn=new X,o.sunValue=50,i(o,"sunSpawnpoint",k,e(o)),o.producing=!1,o.busy=0,o}t(o,n);var s=o.prototype;return s.onDamagedToHealthO=function(){this.dieOnLnC(),this.die()},s.replantable=function(){return!1},s.setCD=function(n){this._cdScale&&(n*=this._cdScale),this.busy=n},s.playProduceAnimation=function(){var n;null!=(n=S.component)&&n.shown&&(this.soundRes.playSaySound(),this.producing=!0,this.setCD(this._objdataOwn.ProduceInterval+Math.random()*this._objdataOwn.ProduceIntervalAdditional),this.anmControl.playAnimation("Produce",1,.1,Math.max(1,1/this.busy)))},s.judgeDarkPlantMode=function(){var n,o,t,i,e,r,a,u,s=this._objdataOwn.SunValueList.length,l=0;[null==(n=this.inLnC)||null==(n=n.upper)?void 0:n.lefter,null==(o=this.inLnC)?void 0:o.upper,null==(t=this.inLnC)||null==(t=t.upper)?void 0:t.righter,null==(i=this.inLnC)?void 0:i.lefter,this.inLnC,null==(e=this.inLnC)?void 0:e.righter,null==(r=this.inLnC)||null==(r=r.lower)?void 0:r.lefter,null==(a=this.inLnC)?void 0:a.lower,null==(u=this.inLnC)||null==(u=u.lower)?void 0:u.righter].forEach((function(n){l>=s||null==n||n.getAllPlants().forEach((function(n){l>=s||null!=n&&n.haveDarkMode&&l++}))})),this.sunValue=this._objdataOwn.SunValueList[l-1],l>=s&&!this.ShadowPowered?(this.ShadowPowered=!0,this._darkSlots.forEach((function(n){n.displayIndex=1}))):l<s&&this.ShadowPowered&&(this.ShadowPowered=!1,this._darkSlots.forEach((function(n){n.displayIndex=0})))},s.specialPlantFood=function(){this.producing=!1,this.busy=1/0,this.soundRes.playFoodSound(),this.anmControl.playAnimation("Food",1),this.anmControl.db.once(h.EventObject.COMPLETE,this.foodEnd,this)},s.waterable=function(){return!this.producing},s.specialPlantFoodEnd=function(){this.producing=!1,this.setCD(23.5+1.5*Math.random()),this.anmControl.playIdle(),this.spawnShields()},s.spawnShields=function(){var n=this;this.killAllShields(),w.playOneShot(this.shieldSound,1,.1),this.foodable=!1,[this.inLane.UpperLane,this.inLane,this.inLane.LowerLane].forEach(r(a().mark((function o(t){var i,e;return a().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,m.spawnZombieFromLane(t.LaneIndex,b.modern_moonflower_shield);case 2:return(i=o.sent).canBeKilledByRule=!1,i.worldPositionX=n.worldPositionX,i.coloredWhenHypnotized=!1,i.hypnotized=!0,i.masterPlant=n,n.foodShields.push(i),o.next=11,m.spawnZombieFromLane(t.LaneIndex,b.modern_moonflower_shield);case 11:(e=o.sent).canBeKilledByRule=!1,e.worldPositionX=n.worldPositionX,e.coloredWhenHypnotized=!1,e.hypnotized=!0,e.masterPlant=n,e.reversed=!1,n.foodShields.push(e);case 19:case"end":return o.stop()}}),o)}))))},s.specialPlantOnDisable=function(){},s._produce=function(){this.producing=!1,p.produceSun(this.sunValue,this.worldPosition,this.sunSpawnpoint.worldPosition.y-this.worldPositionY)},s.animationListener=function(n){"Produce"==n.name?this._produce():"foodEnd"==n.name?this.foodEnd():"produceSound"==n.name&&this.soundRes.playProduceSound()},s.onObjdataSet=function(n,o){this.setCD(o.ProduceCountdownStart+Math.random()*o.ProduceCountdownStartAdditional)},s.specialPlantOnEnable=function(){this.producing=!1,this.setCD(this._objdataOwn.ProduceCountdownStart+Math.random()*this._objdataOwn.ProduceCountdownStartAdditional)},s.replant=function(){},s.specialPlantUpdateForce=function(n,o,t){var i,e=this;null==(i=this.inLnC)||i.get3x3().forEach((function(o){null==o||o.setShadowBuff(20*n)})),this.foodShields.forEach((function(n,o){var t=o%3,i=o%2;n.worldPositionX=e.worldPositionX+v.SquareWidth*(1-2*i),n.worldPositionY=e.worldPositionY+v.SquareHeight*(1-t)}))},s.specialPlantUpdate=function(n,o,t){f.component.ExcludeListSunProducers||(this.busy>0&&(this.busy-=n),this.busy<=0&&this.playProduceAnimation())},u(o,[{key:"hurtStage",get:function(){return this._hurtStage},set:function(n){}}]),o}(y)).prototype,"soundRes",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new H}}),k=o(R.prototype,"sunSpawnpoint",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=R))||x));s._RF.pop()}}}));

System.register("chunks:///_virtual/Mouse.ts",["./rollupPluginModLoBabelHelpers.js","cc","./levelController.ts","./CharacterManager.ts"],(function(e){var n,o,t,i,s,u,r,l,c,a,p,d,f,h,v;return{setters:[function(e){n=e.applyDecoratedDescriptor,o=e.inheritsLoose,t=e.initializerDefineProperty,i=e.assertThisInitialized,s=e.createClass},function(e){u=e.cclegacy,r=e._decorator,l=e.Node,c=e.Vec2,a=e.Vec3,p=e.EventMouse,d=e.Component},function(e){f=e.LevelPlay},function(e){h=e.LineSegment,v=e.Rectangle}],execute:function(){var M,g,y,T,m,L;u._RF.push({},"d46dfCpSdtH1LPKAG1TjdAv","Mouse",void 0);var _=r.ccclass,w=r.property;e("Mouse",(M=_("Mouse"),g=w({type:l}),M(((L=function(e){function n(){for(var n,o=arguments.length,s=new Array(o),u=0;u<o;u++)s[u]=arguments[u];return n=e.call.apply(e,[this].concat(s))||this,t(n,"mouse",m,i(n)),n.oldMousePos=new c,n}o(n,e),n.judgeInUITransform=function(e){var n=v.createRectangleUITransform(e);return null==n?void 0:n.judgeInRecP(this.position)};var u=n.prototype;return u.onLoad=function(){this.node.on(l.EventType.MOUSE_MOVE,this.onMouseMove,this),this.node.on(l.EventType.MOUSE_DOWN,this.onMouseDown,this),this.node.on(l.EventType.MOUSE_UP,this.onMouseUp,this)},u.lateUpdate=function(e){var o=this.oldMousePos.clone(),t=new a(n._position.x,n._position.y,0),i=new c(t.x-o.x,t.y-o.y);n.moveLine=h.createLineLenDir(new c(o.x,o.y),i.length(),i),this.oldMousePos=t.toVec2()},u.onMouseMove=function(e){var o=e.getUILocationX(),t=e.getUILocationY(),i=(n._position.toVec3(),new a(o,t,0));this.mouse.worldPosition=i,n._position=new c(i.x,i.y)},u.onMouseDown=function(e){e.getButton()==p.BUTTON_LEFT||(e.getButton(),p.BUTTON_RIGHT)},u.onMouseUp=function(e){n.followingCart=null,e.getButton()==p.BUTTON_LEFT||(e.getButton(),p.BUTTON_RIGHT)},s(n,null,[{key:"position",get:function(){var e,n,o=this._position.clone();return null!=(e=f.component)&&e.enabled&&null!=(n=f.component)&&null!=(n=n.node)&&n.isValid&&o.add2f(f.component.uiPos.x,f.component.uiPos.y),o}}]),n}(d)).moveLine=h.createLineLenDir(new c,0),L._position=new c,L.mouseInL=-2,L.mouseInC=-2,L.mouseInLnC=null,L.followingCart=null,m=n((T=L).prototype,"mouse",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=T))||y));u._RF.pop()}}}));

System.register("chunks:///_virtual/MouseBlocker.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(o){var e,t,s,n,i;return{setters:[function(o){e=o.inheritsLoose},function(o){t=o.cclegacy,s=o._decorator,n=o.Node,i=o.Component}],execute:function(){var h;t._RF.push({},"6759f/q5pdJKKx/AsJy9qhk","MouseBlocker",void 0);var c=s.ccclass;s.property,o("MouseBlocker",c("MouseBlocker")(h=function(o){function t(){return o.apply(this,arguments)||this}e(t,o);var s=t.prototype;return s.blockMouse=function(){},s.onLoad=function(){this.node.on(n.EventType.MOUSE_DOWN,this.blockMouse,this),this.node.on(n.EventType.MOUSE_UP,this.blockMouse,this),this.node.on(n.EventType.MOUSE_MOVE,this.blockMouse,this),this.node.on(n.EventType.MOUSE_LEAVE,this.blockMouse,this),this.node.on(n.EventType.MOUSE_ENTER,this.blockMouse,this),this.node.on(n.EventType.MOUSE_WHEEL,this.blockMouse,this),this.node.on(n.EventType.TOUCH_START,this.blockMouse,this),this.node.on(n.EventType.TOUCH_END,this.blockMouse,this),this.node.on(n.EventType.TOUCH_MOVE,this.blockMouse,this),this.node.on(n.EventType.TOUCH_CANCEL,this.blockMouse,this)},t}(i))||h);t._RF.pop()}}}));

System.register("chunks:///_virtual/newplantLevelPrize.ts",["./rollupPluginModLoBabelHelpers.js","cc","./levelPrize.ts","./CardFeatureTotal.ts","./cardSelectAlmanac.ts","./levelController.ts","./PlayerProperties.ts","./Plants.ts"],(function(e){var n,t,l,r,a,i,o,c,s,u,p,f;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,l=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){a=e.cclegacy,i=e._decorator},function(e){o=e.levelPrize},function(e){c=e.CardFeatureTotal},function(e){s=e.cardSelectAlmanac},function(e){u=e.LevelPlay},function(e){p=e.AllPlayerProperties},function(e){f=e.plants}],execute:function(){var v,P,d,h,y,z,m;a._RF.push({},"2faae7snf1PQLNIwqgGQeBY","newplantLevelPrize",void 0);var w=i.ccclass,g=i.property;e("newplantLevelPrize",(v=w("newplantLevelPrize"),P=g(c),d=g(s),v((z=n((y=function(e){function n(){for(var n,t=arguments.length,a=new Array(t),i=0;i<t;i++)a[i]=arguments[i];return n=e.call.apply(e,[this].concat(a))||this,l(n,"cf",z,r(n)),l(n,"ca",m,r(n)),n}t(n,e);var a=n.prototype;return a.specialPrizeOnEnable=function(){var e,n=null==(e=u.component)||null==(e=e.levelDefinition)?void 0:e.FirstRewardParam,t=0;n&&(t=f.getPlantEnumByCodename(n)),u.thisLevelsID.length&&p.unlockPlant(t),this.cf.cardGrouper(t),this.ca.suncostShown=!1,this.ca.prizeModeOn=!0,this.ca.almanacModeOn=!0},a.specialOnCollected=function(){this.ca.prizeModeOn=!1},n}(o)).prototype,"cf",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=n(y.prototype,"ca",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=y))||h));a._RF.pop()}}}));

System.register("chunks:///_virtual/NightShade.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./SoundRescourses.ts","./Character.ts","./CharacterManager.ts","./Square.ts","./Projectiles.ts"],(function(t){var o,e,n,a,i,s,r,h,l,c,d,u,f,p,P,S,w,g,y;return{setters:[function(t){o=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,a=t.assertThisInitialized,i=t.createClass,s=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){h=t.cclegacy,l=t._decorator,c=t.AudioClip,d=t.Node,u=t.Vec2},function(t){f=t.Plant,p=t.PlantProps},function(t){P=t.sounds},function(t){S=t.CharacterType},function(t){w=t.Rectangle},function(t){g=t.Square},function(t){y=t.ProjectileShootingFunctions}],execute:function(){var j,b,_,R,m,C,D,J,O,v,x,M,k,A,N,T;h._RF.push({},"ba44aSzxQJAKZySq1yE5ZK2","NightShade",void 0);var F=l.ccclass,I=l.property,z=function(t){function o(){for(var o,e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return(o=t.call.apply(t,[this].concat(n))||this).LeafRespawnCooldown=5,o.ShootInterval=2.7,o.ShootIntervalAdditional=0,o.ShadowPoweredDamageScale=.5,o.DetectDistanceNormal=1.5,o.DetectDistanceShadow=9,o.MaxProjectiles=3,o.PlantfoodTime=3,o.PeaType="nightshade",o.PeaTypeMega="nightshade_mega",o.PeaTypePlantfood="nightshade_pf",o.PeaTypePlantfoodMega="nightshade_pf_mega",o}return e(o,t),o}(p),L=(j=F("NightShadeSound"),b=I([c]),_=I([c]),R=I([c]),j((D=o((C=function(){function t(){n(this,"shoot",D,this),n(this,"rotate",J,this),n(this,"food",O,this)}var o=t.prototype;return o.playShoot=function(){P.playArray(this.shoot,1,.1)},o.playRotate=function(){P.playArray(this.rotate,1,NaN,.4)},o.playFood=function(){P.playArray(this.food,1,NaN,.2)},t}()).prototype,"shoot",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),J=o(C.prototype,"rotate",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=o(C.prototype,"food",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),m=C))||m);t("NightShadePlant",(v=F("NightShadePlant"),x=I(L),M=I(d),v((N=o((A=function(t){function o(){for(var o,e=arguments.length,i=new Array(e),s=0;s<e;s++)i[s]=arguments[s];return o=t.call.apply(t,[this].concat(i))||this,n(o,"soundRes",N,a(o)),o._objdataOwn=new z,n(o,"peaSpawnPoint",T,a(o)),o._fooded=!1,o._leftPRJCount=3,o._prjaSlots=[],o._prj0Slots=[],o._prj1Slots=[],o._prj2Slots=[],o.prjRespawnCD=0,o.shootCD=0,o.shooting=!1,o.detectorNormal=new w,o.detectorShadow=new w,o}e(o,t);var h=o.prototype;return h.onObjdataSet=function(t,o){this.leftPRJCount=this.objdataOwn.MaxProjectiles},h.setPRJSlots=function(){var t=this;this._prjaSlots.forEach((function(o){o._setDisplayIndex(t.fooded?1:0)})),this._prj0Slots.forEach((function(o){o._setDisplayIndex(t.leftPRJCount>=1?t.fooded?1:0:-1)})),this._prj1Slots.forEach((function(o){o._setDisplayIndex(t.leftPRJCount>=2?t.fooded?1:0:-1)})),this._prj2Slots.forEach((function(o){o._setDisplayIndex(t.leftPRJCount>=3?t.fooded?1:0:-1)}))},h.specialPlantOnEnable=function(){this._fooded=!1,this.shooting=!1,this.leftPRJCount=this.objdataOwn.MaxProjectiles},h.specialPlantOnLoad=function(){var t,o=this;null==(t=this.db)||null==(t=t.armature())||null==(t=t.getSlots())||t.forEach((function(t){t.name.includes("_PRJA")?o._prjaSlots.push(t):t.name.includes("_PRJ0")?o._prj0Slots.push(t):t.name.includes("_PRJ1")?o._prj1Slots.push(t):t.name.includes("_PRJ2")&&o._prj2Slots.push(t)}))},h._shoot=function(){var t=s(r().mark((function t(o){var e,n;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===o&&(o=!1),!(this.leftPRJCount<=0)){t.next=3;break}return t.abrupt("return");case 3:if(e=this.prjS,!(e=this.fooded?o?this.prjF_Mega:this.prjF:o?this.prjS_Mega:this.prjS)){t.next=12;break}return o||this.leftPRJCount--,n=this.ShadowPowered&&!o?this.objdataOwn.ShadowPoweredDamageScale:1,t.next=10,y.shootOnePea(e,new u(this.peaSpawnPoint.worldPosition.x,this.worldPositionY),this.peaSpawnPoint.worldPosition.y-this.worldPositionY,this.inLane.prjLayer,new u(8,0),S.zombie);case 10:t.sent.damageScale=n;case 12:case"end":return t.stop()}}),t,this)})));return function(o){return t.apply(this,arguments)}}(),h.waterable=function(){return!this.shooting&&this._leftPRJCount>0},h.shootAnm=function(){var t=this.objdataOwn.ShootInterval+this.objdataOwn.ShootIntervalAdditional*Math.random();this.shootCD=t*this._cdScale,this.anmControl.playAnimation("Attack",1,.05,Math.max(1,1.667/this.shootCD)),this.shooting=!0},h.specialPlantUpdate=function(t,o,e){if(!this.fooding&&(this.leftPRJCount<this.objdataOwn.MaxProjectiles&&(this.prjRespawnCD-=t,this.prjRespawnCD<=0&&this.ShadowPowered&&(this.prjRespawnCD=this.objdataOwn.LeafRespawnCooldown*this._cdScale,this.leftPRJCount++)),this.shootCD>0&&(this.shootCD-=t),this.leftPRJCount>0&&this.shootCD<=0)){var n,a,i=this.ShadowPowered?this.detectorShadow:this.detectorNormal;(null!=(n=this.inLane)&&null!=(n=n.zombiePool())&&n.find((function(t){return i.judgeCrossRec(null==t?void 0:t.bodyRecForShooter)}))||null!=(a=this.inLane)&&null!=(a=a.tombPool())&&a.find((function(t){return i.judgeCrossRec(null==t?void 0:t.bodyRec)})))&&this.shootAnm()}},h.specialPlantFood=function(t){this.fooded=!0,this.leftPRJCount=this.objdataOwn.MaxProjectiles,this.anmControl.playAnimation("Food",this.objdataOwn.PlantfoodTime,0,1)},h.specialPlantOnSquareChange=function(t,o){o&&(this.detectorNormal=w.createRectangleSide(o.node.worldPosition.toVec2(),g.SquareWidth*Math.min(this.objdataOwn.DetectDistanceNormal,9-o.cIndex),g.SquareHeight),this.detectorShadow=w.createRectangleSide(o.node.worldPosition.toVec2(),g.SquareWidth*Math.min(this.objdataOwn.DetectDistanceShadow,9-o.cIndex),g.SquareHeight))},h.animationListener=function(t){switch(t.name){case"food":this.fooding&&(this.fooded=!0),this.soundRes.playFood();break;case"attack":this.soundRes.playRotate();break;case"shoot":this._shoot(!1);break;case"fire":this.soundRes.playShoot();break;case"foodShoot":this._shoot(!0)}},h.animationOnComplete=function(){this.shooting=!1,this.fooding&&(this.foodEnd(),this.anmControl.playIdle())},i(o,[{key:"objdataOwn",get:function(){return this._objdataOwn}},{key:"prjS",get:function(){return this._objdataOwn.PeaType}},{key:"prjF",get:function(){return this._objdataOwn.PeaTypePlantfood}},{key:"prjS_Mega",get:function(){return this._objdataOwn.PeaTypeMega}},{key:"prjF_Mega",get:function(){return this._objdataOwn.PeaTypePlantfoodMega}},{key:"fooded",get:function(){return this._fooded},set:function(t){this._fooded=t,this.setPRJSlots()}},{key:"leftPRJCount",get:function(){return this._leftPRJCount},set:function(t){this._leftPRJCount=t,this.setPRJSlots()}}]),o}(f)).prototype,"soundRes",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new L}}),T=o(A.prototype,"peaSpawnPoint",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=A))||k));h._RF.pop()}}}));

System.register("chunks:///_virtual/NodePools.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(o){var n,e,t,r,i,l;return{setters:[function(o){n=o.inheritsLoose},function(o){e=o.cclegacy,t=o._decorator,r=o.NodePool,i=o.instantiate,l=o.Component}],execute:function(){var a;o({destroyNodeArrayPooly:function(o){c.destroyNodeArrayPooly(o)},destroyPooly:function(o){c.destroyPooly(o)},instantiatePooly:function(o){return c.instantiatePooly(o)}}),e._RF.push({},"dbe74wHsARIQKLQAWoaCSwS","NodePools",void 0);var s=t.ccclass,u=(t.property,o("NodePoolExtend",function(o){function e(){for(var n,e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return(n=o.call.apply(o,[this].concat(t))||this).name="",n}return n(e,o),e}(r))),c=o("NodePools",function(){function o(){}return o.Instance=function(){return o.instance||(o.instance=new o),o.instance},o.clonePooly=function(n){for(var e=null,t=o.nodePools,r=0;r<t.length;r++)if(t[r].size()>0&&t[r].name==n.name&&(e=t[r].get()))return e;return e=i(n)},o.instantiatePooly=function(n){for(var e=null,t=o.nodePools,r=0;r<t.length;r++)if(t[r].size()>0&&t[r].name==n.name&&(e=t[r].get()))return e;return e=i(n)},o.destroyPooly=function(n){if(null!=n&&0!=(null==n?void 0:n.isValid)){for(var e=o.nodePools,t=0;t<e.length;t++)if(e[t].name==n.name)return e[t].put(n),void(e[t].size()>100&&e[t].clear());for(var r=0;r<e.length;r++)if(0==e[r].size())return e[r].name=n.name,void e[r].put(n);var i=new u;i.name=n.name,i.put(n),e.push(i)}},o.destroyNodeArrayPooly=function(o){var n=this;o.concat().forEach((function(o){n.destroyPooly(o)}))},o.clearAll=function(){this.nodePools.forEach((function(o){o.clear()})),this.nodePools=[]},o}());c.instance=void 0,c.nodePools=[];o("NodePoolsComponent",s("NodePoolsComponent")(a=function(o){function e(){return o.apply(this,arguments)||this}return n(e,o),e}(l))||a);e._RF.pop()}}}));

System.register("chunks:///_virtual/NPC_Controller.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NPC.ts","./JSONs.ts","./levelController.ts","./UI.ts","./SoundsController.ts","./SoundManager.ts","./worldMapScene.ts","./Almanac.ts","./Store.ts","./KeyListener.ts","./GemCount.ts"],(function(n){var t,e,r,o,i,c,l,a,u,s,C,h,p,f,N,d,v,P,_;return{setters:[function(n){t=n.applyDecoratedDescriptor,e=n.inheritsLoose,r=n.initializerDefineProperty,o=n.assertThisInitialized},function(n){i=n.cclegacy,c=n._decorator,l=n.Component},function(n){a=n.NPC},function(n){u=n.PvZ2Object,s=n.PvZ2ObjectContainer},function(n){C=n.LevelPlay},function(n){h=n.UIInGame},function(n){p=n.MusicController},function(n){f=n.MusicEnum},function(n){N=n.worldMapScene},function(n){d=n.Almanac},function(n){v=n.Store},function(n){P=n.KeyListener},function(n){_=n.GemCount}],execute:function(){var w,m,E,g,F;n("npc_controller",void 0),i._RF.push({},"a058bK24AJFfLzgEzJ29Zyh","NPC_Controller",void 0);var A=c.ccclass,b=c.property;n("NPC_Action",(function(){this.Character="",this.Action="",this.Lines=void 0,this.Value=0})),n("NPC_Controller",(w=A("NPC_Controller"),m=b([a]),w((F=t((g=function(t){function i(){for(var n,e=arguments.length,i=new Array(e),c=0;c<e;c++)i[c]=arguments[c];return n=t.call.apply(t,[this].concat(i))||this,r(n,"npcs",F,o(n)),n.CurrentFlow=[],n.CurrentFlowStep=0,n.CurrentNPC=void 0,n}e(i,t);var c=i.prototype;return c.Getflow=function(n){var t,e,r,o=null==(t=u.getObjects(n,s.CurrentLevel,"NarrativeProperties")[0])?void 0:t.objdata;return o||(o=null==(e=u.getObjects(n,s.NarrativeList,"NarrativeProperties")[0])?void 0:e.objdata),null==(r=o)?void 0:r.Flow},c.SetFlow=function(n){n||(n=[]),this.CurrentFlowStep=0;var t=n.concat(),e=[];t.forEach((function(t){var r=e.indexOf(t.Character);if("NPC_ENTER"==t.Action&&-1==r)e.push(t.Character);else if("NPC_EXIT"==t.Action&&-1!=r);else if("NPC_ENTER"!=t.Action&&-1==r){var o={Character:t.Character,Action:"NPC_ENTER",Lines:void 0,Value:void 0},i=n.indexOf(t);if(-1!=i){var c=n.slice(0,i),l=n.slice(i,n.length);n=c.concat([o],l)}}})),this.CurrentFlow=n.concat(),this.RunFlow()},c.DiscardOtherNPC=function(n,t){this.npcs.forEach((function(e){e!=n&&(e.HideLineBubble(),e.WillNextStep=!1,e.NPC_WhenOtherIsActioning(n,t))}))},c.HasFlow=function(){return this.CurrentFlow.length>0},c.RunFlow=function(){var n;if(null!=(n=this.CurrentFlow)&&n.length){P.clearGameTips();var t=this.CurrentFlow[this.CurrentFlowStep],e=this.CurrentFlow[this.CurrentFlowStep+1],r="NPC_ENTER"==(null==e?void 0:e.Action)||"NPC_EXIT"==(null==e?void 0:e.Action);if(t){var o,i=this.npcs.find((function(n){return n.NPC_Name==t.Character}));if(null!=(o=this.CurrentNPC)&&o.UnSkippable||i&&(i.NPC_Entering||i.NPC_Exiting||i.UnSkippable))return;switch(this.CurrentFlowStep++,t.Action){case"START_DIALOG_MUSIC":return p.playMusic(f.Dialogue_Dave_LP,!1),C.component&&(C.component.startingMusicChanged=!0),p.soundManager().currentMusicSort=NaN,void this.RunFlow();case"POINT_AT_ALMANAC":var c=N.component;return c&&c.pointAtAlmanac(),void this.RunFlow();case"POINT_AT_STORE":var l=N.component;return l&&l.pointAtStore(),void this.RunFlow();case"GIVE_GEM":var a;if(t.Value)null==(a=_.component)||a.addGemCount(t.Value);return void this.RunFlow()}if(null!=i&&i.enabled)switch(this.CurrentNPC=i,t.Action){case"NPC_ENTER":this.CurrentNPC.node.active=!0,this.CurrentNPC.NPC_Enter(),this.DiscardOtherNPC(i,t),r&&this.RunFlow();break;case"NPC_EXIT":this.CurrentNPC.HideLineBubble(),this.CurrentNPC.NPC_Exit(),this.DiscardOtherNPC(i,t),r&&this.RunFlow();break;default:this.CurrentNPC.NPC_ReadAction(t),this.DiscardOtherNPC(i,t)}else this.RunFlow()}else{var u,s,w,m;if(this.CurrentFlow=[],this.npcs.forEach((function(n){n.HideLineBubble(),n.node.active&&!n.NPC_Exiting&&n.NPC_Exit()})),null!=(u=C.component)&&null!=(u=u.node)&&u.active)if(C.component.isIntroNarrating)C.component.isIntroNarrating=!1,C.component.judgeMoveCamera(),null!=(m=C.component)&&m.startingMusicChanged&&C.component.playStartingMusic(),null!=h&&h.component&&(h.component.pauseButton.node.active=!0);else if(C.component.isOutroNarrating){var E;C.component.isOutroNarrating=!1,null==h||null==(E=h.component)||E.victoryExitTween()}null==(s=d.component)||s.npc_off(),null==(w=v.component)||w.npc_off()}}else this.CurrentFlow=[]},c.onLoad=function(){var t=this;n("npc_controller",this),this.npcs.forEach((function(n){n.HideLineBubble(),n.Controller=t,n.node.active=!1}))},i}(l)).prototype,"npcs",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),E=g))||E));i._RF.pop()}}}));

System.register("chunks:///_virtual/NPC.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ArrayGet.ts","./MultiLanguage.ts","./SoundsController.ts"],(function(e){var i,t,n,r,o,l,a,u,c,p,b,d,f,s,_;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized,o=e.createClass},function(e){l=e.cclegacy,a=e._decorator,u=e.dragonBones,c=e.AudioClip,p=e.Label,b=e.AudioSource,d=e.Component},function(e){f=e.ArrayGet},function(e){s=e.MultiLanguage},function(e){_=e.SoundFXController}],execute:function(){var y,g,h,S,m,C,P,E,N,L,w,z,x,v,M,A,k,T,O,B,F,I,R,U,W,D,V,j,G,H,X,q,J,K,Q,Y,Z;l._RF.push({},"9588aG/+qVF7bk9yd5L9VpB","NPC",void 0);var $=a.ccclass,ee=a.property;e("NPC",(y=$("NPC"),g=ee(u.ArmatureDisplay),h=ee([c]),S=ee([c]),m=ee([c]),C=ee([c]),P=ee([c]),E=ee([c]),N=ee([c]),L=ee([c]),w=ee([c]),z=ee([c]),x=ee([c]),v=ee([c]),M=ee([c]),A=ee([c]),k=ee(p),T=ee(p),y((F=i((B=function(e){function i(){for(var i,t=arguments.length,o=new Array(t),l=0;l<t;l++)o[l]=arguments[l];return i=e.call.apply(e,[this].concat(o))||this,n(i,"db",F,r(i)),i.audioSource=void 0,n(i,"Excited_Long",I,r(i)),n(i,"Excited_Med",R,r(i)),n(i,"Excited_Short",U,r(i)),n(i,"Playful_Long",W,r(i)),n(i,"Playful_Med",D,r(i)),n(i,"Playful_Short",V,r(i)),n(i,"Say_Long",j,r(i)),n(i,"Say_Med",G,r(i)),n(i,"Say_Short",H,r(i)),n(i,"Tired_Long",X,r(i)),n(i,"Tired_Med",q,r(i)),n(i,"Tired_Short",J,r(i)),n(i,"Enter",K,r(i)),n(i,"Exit",Q,r(i)),i.Controller=void 0,n(i,"line",Y,r(i)),n(i,"click_to_continue",Z,r(i)),i.UnSkippable=!1,i.WillNextStep=!1,i.IdleAnim=["Idle"],i.NPC_Entering=!1,i.NPC_Exiting=!1,i}t(i,e);var l=i.prototype;return l.playSaySounds=function(e){this.audioSource.stop(),this.audioSource.loop=!1,this.audioSource.clip=f.getRandom(e),this.audioSource.play()},l.specialNPCUpdate=function(e){},l.update=function(e){this.audioSource.volume=_.SoundFXVolume,this.specialNPCUpdate(e)},l.HideLineBubble=function(){this.line.node.parent.active=!1},l.ShowLineBubble=function(){this.line.node.parent.active=!0},l.onEnable=function(){var e;null==(e=this.audioSource)||e.stop(),this.HideLineBubble(),this.click_to_continue&&(this.click_to_continue.string=s.getStringByProps("NPC","ClickToContinue")),this.UnSkippable=!1,this.WillNextStep=!1,this.NPC_Exiting=!1,this.NPC_Entering=!1,this.NPC_OnEnable()},l.NPC_OnEnable=function(){},l.onLoad=function(){var e=this;this.audioSource=this.addComponent(b),this.db.on(u.EventObject.COMPLETE,(function(){e.NPC_Entering=!1,e.UnSkippable=!1,e.PlayIdle(),e.NPC_Exiting?e.node.active=!1:e.WillNextStep?e.Controller.RunFlow():e.animationOnComplete(),e.NPC_Exiting=!1,e.WillNextStep=!1}),this),this.db.on(u.EventObject.FRAME_EVENT,(function(i){e.animationListener(i)}),this)},l.PlayIdle=function(){this.db.playAnimation(f.getRandom(this.IdleAnim))},l.animationListener=function(e){},l.animationOnComplete=function(){},l.NPC_Enter=function(){},l.NPC_ReadAction=function(e){},l.NPC_WhenOtherIsActioning=function(e,i){},l.NPC_Exit=function(){},o(i,[{key:"NPC_Name",get:function(){return""}}]),i}(d)).prototype,"db",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=i(B.prototype,"Excited_Long",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=i(B.prototype,"Excited_Med",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),U=i(B.prototype,"Excited_Short",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),W=i(B.prototype,"Playful_Long",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=i(B.prototype,"Playful_Med",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),V=i(B.prototype,"Playful_Short",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j=i(B.prototype,"Say_Long",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),G=i(B.prototype,"Say_Med",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),H=i(B.prototype,"Say_Short",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),X=i(B.prototype,"Tired_Long",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),q=i(B.prototype,"Tired_Med",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),J=i(B.prototype,"Tired_Short",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),K=i(B.prototype,"Enter",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Q=i(B.prototype,"Exit",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Y=i(B.prototype,"line",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=i(B.prototype,"click_to_continue",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=B))||O));l._RF.pop()}}}));

System.register("chunks:///_virtual/Parsnip.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./CharacterManager.ts","./Square.ts","./NodePools.ts","./Character.ts","./SoundRescourses.ts","./Projectiles.ts"],(function(t){var n,i,e,o,a,r,s,l,u,h,c,d,p,f,S,y,m,b,g,P,C;return{setters:[function(t){n=t.applyDecoratedDescriptor,i=t.inheritsLoose,e=t.initializerDefineProperty,o=t.assertThisInitialized,a=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){s=t.cclegacy,l=t._decorator,u=t.AudioClip,h=t.Prefab,c=t.Vec2},function(t){d=t.Plant,p=t.PlantProps},function(t){f=t.Rectangle,S=t.ZombieDamageDetails,y=t.ZombieDamageType},function(t){m=t.Square},function(t){b=t.NodePools},function(t){g=t.CharacterType},function(t){P=t.sounds},function(t){C=t.ProjectileShootingFunctions}],execute:function(){var w,L,R,v,k,A,D,E,j,z,_,I,F,O,T,q,x,N,M,B,H,K,V,W;s._RF.push({},"5e369i6Ll1NsKEvWwK5RNFV","Parsnip",void 0);var Z=l.ccclass,G=l.property,U=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),o=0;o<i;o++)e[o]=arguments[o];return(n=t.call.apply(t,[this].concat(e))||this).AttackInterval=.8,n.DamagePerSnip=70,n.PlantfoodSummonCount=2,n.ChildType="parsnip_child",n.ChildTypeSmall="parsnip_child_small",n}return i(n,t),n}(p),X=(w=Z("parsnipSound"),L=G([u]),R=G([u]),v=G([u]),k=G([u]),A=G([u]),D=G([u]),E=G([u]),w((_=n((z=function(){function t(){e(this,"snipSound",_,this),e(this,"snipIdleSound",I,this),e(this,"scratchIdleSound",F,this),e(this,"snipSaySound",O,this),e(this,"popSound",T,this),e(this,"popSaySound",q,this),e(this,"foodEndSound",x,this)}var n=t.prototype;return n.playSnip=function(){P.playArray(this.snipSound,1,.1)},n.playSnipIdle=function(){P.playArray(this.snipIdleSound,.5,.1)},n.playScratchIdle=function(){P.playArray(this.scratchIdleSound,.3,.1)},n.playSnipSay=function(){P.playArray(this.snipSaySound,.5,.1)},n.playPopSound=function(){P.playArray(this.popSound,1,.1)},n.playPopSaySound=function(){P.playArray(this.popSaySound,.5,.1)},n.playFoodEndSound=function(){P.playArray(this.foodEndSound,1,.1)},t}()).prototype,"snipSound",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),I=n(z.prototype,"snipIdleSound",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=n(z.prototype,"scratchIdleSound",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=n(z.prototype,"snipSaySound",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),T=n(z.prototype,"popSound",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),q=n(z.prototype,"popSaySound",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),x=n(z.prototype,"foodEndSound",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j=z))||j);t("ParsnipPlant",(N=Z("ParsnipPlant"),M=G(X),B=G(h),N((V=n((K=function(t){function n(){for(var n,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return n=t.call.apply(t,[this].concat(a))||this,e(n,"soundRes",V,o(n)),n.attackCD=0,n.detector=new f,n.foodLeftCount=2,n._objdataOwn=new U,n.attacking=!1,e(n,"dirtsPar",W,o(n)),n}i(n,t);var s=n.prototype;return s.specialPlantOnEnable=function(){this.deathAnm="Death",this.attackCD=0},s.specialPlantOnSquareChange=function(t,n){this.detector=f.createRectangleNodeSide(n.node,2.5*m.SquareWidth,m.SquareHeight)},s.waterable=function(){return!this.attacking},s.animationListener=function(t){"hit"==t.name?(this.snipEnemies(),this.attacking=!1):"scratch"==t.name?this.soundRes.playScratchIdle():"idleSnip"==t.name?this.soundRes.playSnipIdle():"summon"==t.name?(this.throwCS(!0),this.foodLeftCount--,this.foodLeftCount<=0&&(this.anmControl.playAnimation("FoodEnd",1),this.soundRes.playFoodEndSound())):"foodEnd"==t.name&&this.foodEnd()},s.detectEnemies=function(){var t,n,i=this;if(null!=(t=this.inLnC)&&null!=(t=t.righter)&&t.tombStone&&!this.inLnC.righter.tombStone.hidden)return!0;if(null!=(n=this.inLnC)&&null!=(n=n.righter)&&null!=(n=n.righter)&&n.tombStone&&!this.inLnC.righter.righter.tombStone.hidden)return!0;var e=!1;return this.inLane.zombiePool().forEach((function(t){e||t.bodyRecForShooter.judgeCrossRec(i.detector)&&(e=!0)})),e},s.snipEnemies=function(){var t=this,n=!1,i=1/0,e=null;this.inLane.zombiePool().forEach((function(n){var o=n.bodyRecForShooter.prjX().x;o<i&&n.bodyRecForShooter.judgeCrossRec(t.detector)&&(e=n,i=o)}));var o,a,r,s=this._objdataOwn.DamagePerSnip*this._dmgScale,l=new S(s,!0,!0,!0,null,y.physicle);if(e)e.dealDamage(l),n=!0;else if(null!=(o=this.inLnC)&&null!=(o=o.righter)&&o.tombStone&&!this.inLnC.righter.tombStone.hidden)null==(r=this.inLnC)||null==(r=r.righter)||r.tombStone.dealDamage(l),n=!0;else if(null!=(a=this.inLnC)&&null!=(a=a.righter)&&null!=(a=a.righter)&&a.tombStone&&!this.inLnC.righter.righter.tombStone.hidden){var u;null==(u=this.inLnC)||null==(u=u.righter)||null==(u=u.righter)||u.tombStone.dealDamage(l),n=!0}this.soundRes.playSnip(),n&&this.soundRes.playSnipSay()},s.specialPlantUpdate=function(t,n,i){if(!this.fooding&&!this.attacking&&(this.attackCD>0&&(this.attackCD-=t),this.attackCD<=0&&i>0&&this.detectEnemies())){var e=this.attackCD=this._objdataOwn.AttackInterval*this._cdScale;this.anmControl.playAnimation("Attack",1,.1*e/.8,Math.max(1,1/e)),this.attacking=!0}},s.animationOnComplete=function(){this.attacking=!1},s.specialPlantFood=function(t){this.attacking=!1,this.soundRes.playPopSound(),this.anmControl.playAnimation("FoodStart",1),this.foodLeftCount=this._objdataOwn.PlantfoodSummonCount},s.throwCS=function(){var t=a(r().mark((function t(n){var i,e=this;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===n&&(n=!1),this.soundRes.playPopSaySound(),this.soundRes.playPopSound(),this.inLane.zombiePool().forEach((function(t){t.bodyRec.judgeCrossRec(e.bodyRec)&&t.leapBy(new c(1,0),!0,.7,50,!0,!0)})),(i=b.instantiatePooly(this.dirtsPar)).parent=this.fooding?this.foodParent:this.inLane.prjLayer,i.worldPosition=this.node.worldPosition,t.next=9,C.shootOnePea(n?this._objdataOwn.ChildTypeSmall:this._objdataOwn.ChildType,this.worldPosition,0,this.inLane.prjLayer,new c(4.5,0),g.zombie);case 9:t.sent;case 10:case"end":return t.stop()}}),t,this)})));return function(n){return t.apply(this,arguments)}}(),s.specialPlantOnEaten=function(t,n,i,e){e<=0&&(this.deathAnm="",this.throwCS(),this.die(),this.node.destroy())},n}(d)).prototype,"soundRes",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new X}}),W=n(K.prototype,"dirtsPar",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=K))||H));s._RF.pop()}}}));

System.register("chunks:///_virtual/Particles.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FrontYard.ts","./NodePools.ts","./Square.ts","./SoundRescourses.ts","./GroundFire.ts","./levelController.ts"],(function(e){var r,n,t,i,l,a,o,u,c,p,s,f,b,w,m,h,y,g,z;return{setters:[function(e){r=e.applyDecoratedDescriptor,n=e.initializerDefineProperty,t=e.inheritsLoose,i=e.assertThisInitialized},function(e){l=e.cclegacy,a=e._decorator,o=e.Prefab,u=e.Vec3,c=e.Label,p=e.Color,s=e.tween,f=e.Component},function(e){b=e.FrontYard},function(e){w=e.NodePools,m=e.instantiatePooly},function(e){h=e.Square},function(e){y=e.sounds},function(e){g=e.GroundFireColorEnum},function(e){z=e.LevelPlay}],execute:function(){var S,d,R,P,v,L,x,F,B,W,k,J,C,E,H,I,T,D,j,q,M,K,_,G,N,V,A,Y,O,Z,Q,U,X,$,ee,re,ne,te,ie,le,ae,oe,ue,ce,pe,se,fe,be,we,me,he,ye,ge,ze,Se,de,Re,Pe,ve,Le,xe,Fe,Be,We,ke,Je,Ce,Ee,He,Ie,Te,De,je,qe,Me,Ke,_e,Ge,Ne,Ve,Ae,Ye,Oe,Ze,Qe,Ue,Xe,$e,er,rr,nr,tr,ir,lr,ar,or,ur,cr,pr,sr,fr,br,wr,mr,hr,yr,gr,zr,Sr,dr,Rr,Pr,vr,Lr,xr,Fr;l._RF.push({},"231e0c3RANLja/9snTaiZpJ","Particles",void 0);var Br=a.ccclass,Wr=a.property,kr=(S=Br("CowboyFencePrefabs"),d=Wr(o),R=Wr(o),S((L=r((v=function(){n(this,"FenceHere",L,this),n(this,"FenceThere",x,this)}).prototype,"FenceHere",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=r(v.prototype,"FenceThere",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=v))||P),Jr=e("particle",function(){function e(){}return e.cowboyFence=function(){return this.particleRes.cowboyFence},e.sniperKey=function(){return this.particleRes.sniperKey},e.foodLight=function(){return this.particleRes.foodLight},e.portal=function(){return this.particleRes.portal},e.chiHole=function(){return this.particleRes.chiHole},e.peaBuff=function(){return this.particleRes.peaBuff},e.darkBuff=function(){return this.particleRes.darkBuff},e.prjPeaBuff=function(){return this.particleRes.prjPeaBuff},e.deadPlant=function(){return this.particleRes.deadPlant},e.strengthenPlant=function(){return this.particleRes.strengthenPlant},e.empEffect=function(){return this.particleRes.empEffect},e.plantHeat=function(){return this.particleRes.plantHeat},e.plantBurnt=function(){return this.particleRes.plantBurnt},e.zombieWaterWave=function(){return this.particleRes.zombieWaterWave},e.plantWaterWave=function(){return this.particleRes.plantWaterWave},e.mowerSpawn=function(){return this.particleRes.mowerSpawn},e.sporeShroomSpawn=function(){return this.particleRes.sporeShroomSpawn},e.plantIcePrepare=function(){return this.particleRes.plantIcePrepare},e.chillWind=function(){return this.particleRes.chillWind},e.zombieIceTrap=function(){return this.particleRes.zombieIceTrap},e.seaSplash=function(){return this.particleRes.seaSplash},e.spawnSeaSplash=function(e,r){var n,t=null==(n=b.CurrentLawn)?void 0:n.getSeaSplashParent(e);if(t){y.playSeaSplash();var i=w.instantiatePooly(this.seaSplash());i.parent=t;var l=r.y-40,a=h.getSquareWorldPosition(0,5).x,o=h.getSquareWorldPosition(0,8,.25).x,c=r.x;c=(c=c<a?a:c)>o?o:c,i.worldPosition=new u(c,l,0)}},e.waterSplash=function(){return this.particleRes.waterSplash},e.spawnWaterSplash=function(e,r){var n=w.instantiatePooly(this.waterSplash()),t=h.getLane(e).glitterLayer;y.playWaterSplash(),n.parent=t,n.scale=new u(.3,.3,.3),n.setSiblingIndex(0),n.worldPosition=new u(r.x,r.y)},e.freeLocator=function(){return this.particleRes.freeLocator},e.spudow=function(){return this.particleRes.spudowExplosion},e.spudowPrimal=function(){return this.particleRes.spudowExplosionPrimal},e.explosion=function(e){return void 0===e&&(e=!0),e?this.particleRes.cherryExplosion:this.particleRes.explosion},e.explosionRear=function(){return this.particleRes.explosionRear},e.plantDirts=function(){return this.particleRes.plantDirts},e.graveSpawn=function(){return this.particleRes.graveSpawn},e.dirtSpawn=function(){return this.particleRes.dirtSpawn},e.PFLightning=function(){return this.particleRes.PFLightning},e.arrow=function(){return this.particleRes.arrow},e.sandStorm=function(){return this.particleRes.SandStorm},e.snowStorm=function(){return this.particleRes.SnowStorm},e.zombieFart=function(){return this.particleRes.zombieFart},e.zombieChiliBeanStun=function(){return this.particleRes.zombieChiliBeanStun},e.zombieSunBean=function(){return this.particleRes.zombieSunBean},e.zombiePerfumeSlow=function(){return this.particleRes.zombiePerfumeSlow},e.zombieHypnoBubble=function(){return this.particleRes.zombieHypno},e.zombiePoisonBubble=function(){return this.particleRes.zombiePoison},e.prizeSpawn=function(){return this.particleRes.prizeSpawn},e.prizeCollectLight=function(){return this.particleRes.prizeCollectLight},e.playPointShower=function(e,r,n,t,i,l,a,o){var f=m(this.particleRes.PointShowerLabel);f.parent=z.PointLayer,f.worldPosition=r.toVec3(),f.scale=new u(t.x,t.x,1);var b=f.getComponent(c);return b.enableOutline=o,b.color=new p(a.r,a.g,a.b,i.x),b.string=e,s(f).to(Math.max(.1,l.x),{}).to(Math.max(.1,l.y),{worldPosition:r.clone().add2f(n.x,n.y).toVec3(),scale:new u(t.y,t.y,1)},{easing:"quadIn"}).start(),s(b).to(Math.max(.1,l.x),{}).to(Math.max(.1,l.y),{color:new p(a.r,a.g,a.b,i.y)}).call((function(){w.destroyPooly(f)})).start(),b},e}());Jr.particleRes=void 0;e("tileLiquids",function(){function e(){}return e.cranJellyJuice=function(){return Jr.particleRes.cranJellyJuice},e.butterJuice=function(){return Jr.particleRes.butterJuice},e.sapflingJuice=function(){return Jr.particleRes.sapflingJuice},e.softLava=function(){return Jr.particleRes.softLava},e.deadlyLava=function(){return Jr.particleRes.deadlyLava},e.brokenTile=function(){return Jr.particleRes.crackle},e.brokenTileSparkles=function(){return Jr.particleRes.crackleSparkles},e}()),e("groundFireParticles",function(){function e(){}return e.getParticleByGFEnum=function(e){var r=Jr.particleRes;switch(e){case g.green:return r.greenFire;default:return r.yellowFire}},e}()),e("Particles",(F=Br("Particles"),B=Wr(kr),W=Wr(o),k=Wr(o),J=Wr(o),C=Wr(o),E=Wr(o),H=Wr(o),I=Wr(o),T=Wr(o),D=Wr(o),j=Wr(o),q=Wr(o),M=Wr(o),K=Wr(o),_=Wr(o),G=Wr(o),N=Wr(o),V=Wr(o),A=Wr(o),Y=Wr(o),O=Wr(o),Z=Wr(o),Q=Wr(o),U=Wr(o),X=Wr(o),$=Wr(o),ee=Wr(o),re=Wr(o),ne=Wr(o),te=Wr(o),ie=Wr(o),le=Wr(o),ae=Wr(o),oe=Wr(o),ue=Wr(o),ce=Wr(o),pe=Wr(o),se=Wr(o),fe=Wr(o),be=Wr(o),we=Wr(o),me=Wr(o),he=Wr(o),ye=Wr(o),ge=Wr(o),ze=Wr(o),Se=Wr(o),de=Wr(o),Re=Wr(o),Pe=Wr(o),ve=Wr(o),Le=Wr(o),xe=Wr(o),F((We=r((Be=function(e){function r(){for(var r,t=arguments.length,l=new Array(t),a=0;a<t;a++)l[a]=arguments[a];return r=e.call.apply(e,[this].concat(l))||this,n(r,"cowboyFence",We,i(r)),n(r,"sniperKey",ke,i(r)),n(r,"sapflingJuice",Je,i(r)),n(r,"butterJuice",Ce,i(r)),n(r,"cranJellyJuice",Ee,i(r)),n(r,"softLava",He,i(r)),n(r,"deadlyLava",Ie,i(r)),n(r,"crackle",Te,i(r)),n(r,"crackleSparkles",De,i(r)),n(r,"PointShowerLabel",je,i(r)),n(r,"peaBuff",qe,i(r)),n(r,"darkBuff",Me,i(r)),n(r,"foodLight",Ke,i(r)),n(r,"portal",_e,i(r)),n(r,"chiHole",Ge,i(r)),n(r,"prjPeaBuff",Ne,i(r)),n(r,"deadPlant",Ve,i(r)),n(r,"strengthenPlant",Ae,i(r)),n(r,"empEffect",Ye,i(r)),n(r,"plantHeat",Oe,i(r)),n(r,"plantBurnt",Ze,i(r)),n(r,"seaSplash",Qe,i(r)),n(r,"freeLocator",Ue,i(r)),n(r,"spudowExplosion",Xe,i(r)),n(r,"spudowExplosionPrimal",$e,i(r)),n(r,"explosion",er,i(r)),n(r,"explosionRear",rr,i(r)),n(r,"cherryExplosion",nr,i(r)),n(r,"zombieIceTrap",tr,i(r)),n(r,"waterSplash",ir,i(r)),n(r,"zombieWaterWave",lr,i(r)),n(r,"plantWaterWave",ar,i(r)),n(r,"mowerSpawn",or,i(r)),n(r,"sporeShroomSpawn",ur,i(r)),n(r,"plantIcePrepare",cr,i(r)),n(r,"chillWind",pr,i(r)),n(r,"plantDirts",sr,i(r)),n(r,"graveSpawn",fr,i(r)),n(r,"dirtSpawn",br,i(r)),n(r,"yellowFire",wr,i(r)),n(r,"greenFire",mr,i(r)),n(r,"PFLightning",hr,i(r)),n(r,"arrow",yr,i(r)),n(r,"SandStorm",gr,i(r)),n(r,"SnowStorm",zr,i(r)),n(r,"zombieFart",Sr,i(r)),n(r,"zombieChiliBeanStun",dr,i(r)),n(r,"zombieSunBean",Rr,i(r)),n(r,"zombiePerfumeSlow",Pr,i(r)),n(r,"prizeSpawn",vr,i(r)),n(r,"prizeCollectLight",Lr,i(r)),n(r,"zombieHypno",xr,i(r)),n(r,"zombiePoison",Fr,i(r)),r}return t(r,e),r.prototype.onLoad=function(){Jr.particleRes=this},r}(f)).prototype,"cowboyFence",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new kr}}),ke=r(Be.prototype,"sniperKey",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Je=r(Be.prototype,"sapflingJuice",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ce=r(Be.prototype,"butterJuice",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ee=r(Be.prototype,"cranJellyJuice",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),He=r(Be.prototype,"softLava",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ie=r(Be.prototype,"deadlyLava",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Te=r(Be.prototype,"crackle",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),De=r(Be.prototype,"crackleSparkles",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),je=r(Be.prototype,"PointShowerLabel",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),qe=r(Be.prototype,"peaBuff",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Me=r(Be.prototype,"darkBuff",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ke=r(Be.prototype,"foodLight",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_e=r(Be.prototype,"portal",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ge=r(Be.prototype,"chiHole",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ne=r(Be.prototype,"prjPeaBuff",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ve=r(Be.prototype,"deadPlant",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ae=r(Be.prototype,"strengthenPlant",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ye=r(Be.prototype,"empEffect",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Oe=r(Be.prototype,"plantHeat",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ze=r(Be.prototype,"plantBurnt",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Qe=r(Be.prototype,"seaSplash",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ue=r(Be.prototype,"freeLocator",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Xe=r(Be.prototype,"spudowExplosion",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$e=r(Be.prototype,"spudowExplosionPrimal",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),er=r(Be.prototype,"explosion",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),rr=r(Be.prototype,"explosionRear",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),nr=r(Be.prototype,"cherryExplosion",[re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),tr=r(Be.prototype,"zombieIceTrap",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ir=r(Be.prototype,"waterSplash",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),lr=r(Be.prototype,"zombieWaterWave",[ie],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ar=r(Be.prototype,"plantWaterWave",[le],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),or=r(Be.prototype,"mowerSpawn",[ae],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ur=r(Be.prototype,"sporeShroomSpawn",[oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),cr=r(Be.prototype,"plantIcePrepare",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pr=r(Be.prototype,"chillWind",[ce],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),sr=r(Be.prototype,"plantDirts",[pe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),fr=r(Be.prototype,"graveSpawn",[se],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),br=r(Be.prototype,"dirtSpawn",[fe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),wr=r(Be.prototype,"yellowFire",[be],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),mr=r(Be.prototype,"greenFire",[we],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),hr=r(Be.prototype,"PFLightning",[me],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),yr=r(Be.prototype,"arrow",[he],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),gr=r(Be.prototype,"SandStorm",[ye],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),zr=r(Be.prototype,"SnowStorm",[ge],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Sr=r(Be.prototype,"zombieFart",[ze],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),dr=r(Be.prototype,"zombieChiliBeanStun",[Se],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Rr=r(Be.prototype,"zombieSunBean",[de],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pr=r(Be.prototype,"zombiePerfumeSlow",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),vr=r(Be.prototype,"prizeSpawn",[Pe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Lr=r(Be.prototype,"prizeCollectLight",[ve],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xr=r(Be.prototype,"zombieHypno",[Le],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fr=r(Be.prototype,"zombiePoison",[xe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fe=Be))||Fe));l._RF.pop()}}}));

System.register("chunks:///_virtual/ParticleSelfdestroy.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NodePools.ts","./SoundRescourses.ts","./Materials.ts","./ArrayGet.ts"],(function(e){var t,i,n,a,s,o,l,r,c,u,h,d,f,p,m,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.initializerDefineProperty,n=e.inheritsLoose,a=e.assertThisInitialized,s=e.createClass},function(e){o=e.cclegacy,l=e._decorator,r=e.AudioClip,c=e.dragonBones,u=e.Material,h=e.Vec4,d=e.Component},function(e){f=e.NodePools},function(e){p=e.sounds},function(e){m=e.materialRes},function(e){b=e.ArrayGet}],execute:function(){var y,g,v,E,B,R,_,G,C,O,A,D,L,H,T,w,P,S;o._RF.push({},"4c2fccq7FZO2IEkVgOAvEZ1","ParticleSelfdestroy",void 0);var N=l.ccclass,z=l.property,I=(y=N("SoundPlayEvent"),g=z(String),v=z([r]),E=z(Number),B=z(Number),y((G=t((_=function(){i(this,"eventName",G,this),i(this,"clips",C,this),i(this,"cdByClipDuration",O,this),i(this,"volume",A,this)}).prototype,"eventName",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),C=t(_.prototype,"clips",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=t(_.prototype,"cdByClipDuration",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),A=t(_.prototype,"volume",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),R=_))||R);e("ParticleSelfdestroy",(D=N("ParticleSelfdestroy"),L=z([String]),H=z([I]),D((P=t((w=function(e){function t(){for(var t,n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(t=e.call.apply(e,[this].concat(s))||this).material=void 0,t._Golden=!1,t._HighRed=0,t._TotalRGB=0,t.willBeKilled=!1,i(t,"IdleAnmList",P,a(t)),i(t,"soundEvents",S,a(t)),t.db=void 0,t}n(t,e);var o=t.prototype;return o.getEnableBatch=function(){this.db.enableBatch=this._HighRed<=0&&this._TotalRGB<=0&&!this._Golden},o.specialBeforeSelfDestroy=function(){},o.selfDestroy=function(e){var t;"die"==e.name&&(this.specialBeforeSelfDestroy(),f.destroyPooly(this.node)),this.animationListener(e),null==(t=this.soundEvents)||t.forEach((function(t){e.name==t.eventName&&p.playArray(t.clips,t.volume,NaN,t.cdByClipDuration)}))},o.animationListener=function(e){},o.animationOnComplete=function(e){},o._animationOnComplete=function(e){this.playIdle(),this.willBeKilled?f.destroyPooly(this.node):this.animationOnComplete(e)},o.playIdle=function(){this.IdleAnmList.length&&this.db.playAnimation(b.getRandom(this.IdleAnmList),1)},o.specialOnLoad=function(){},o.onLoad=function(){this.db=this.getComponent(c.ArmatureDisplay),this.db.enableBatch=!0,this.db.addEventListener(c.EventObject.FRAME_EVENT,this.selfDestroy,this),this.db.addEventListener(c.EventObject.COMPLETE,this._animationOnComplete,this);var e=new u;e.initialize({effectAsset:m.addColorEffect,defines:{USE_TEXTURE:!0}}),this.material=e,this.specialOnLoad()},o.update=function(e){var t=new h(0,0,0,1),i=this.material.passes[0].getHandle("addColor");this.material.passes[0].setUniform(i,t);var n=this.material.passes[0].getHandle("TotalRGB");this.material.passes[0].setUniform(n,this.TotalRGB);var a=this.material.passes[0].getHandle("HighRed");this.material.passes[0].setUniform(a,this.HighRed);var s=this.material.passes[0].getHandle("goldColor");this.material.passes[0].setUniform(s,this.Golden?1:0),this.db.customMaterial=this.material,this.specialUpdate(e)},o.specialUpdate=function(e){},o.specialOnDisable=function(){},o.onDisable=function(){this.specialOnDisable()},o.specialOnEnable=function(){},o.onEnable=function(){this.willBeKilled=!1,this.HighRed=0,this.TotalRGB=0,this.specialOnEnable(),this.playIdle()},s(t,[{key:"Golden",get:function(){return this._Golden},set:function(e){this._Golden=e,this.getEnableBatch()}},{key:"TotalRGB",get:function(){return this._TotalRGB},set:function(e){this._TotalRGB=e,this.getEnableBatch()}},{key:"HighRed",get:function(){return this._HighRed},set:function(e){this._HighRed=e,this.getEnableBatch()}}]),t}(d)).prototype,"IdleAnmList",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),S=t(w.prototype,"soundEvents",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),T=w))||T));o._RF.pop()}}}));

System.register("chunks:///_virtual/PauseScreen.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SoundsController.ts","./UI.ts","./MultiLanguage.ts","./Mouse.ts","./SettingWindow.ts","./SoundRescourses.ts"],(function(i){var e,t,s,r,o,n,l,u,a,c,h,p,m,d,b,f,S,g,y,M,T,k,w,x,B;return{setters:[function(i){e=i.applyDecoratedDescriptor,t=i.inheritsLoose,s=i.initializerDefineProperty,r=i.assertThisInitialized},function(i){o=i.cclegacy,n=i._decorator,l=i.Label,u=i.UIOpacity,a=i.Node,c=i.AudioClip,h=i.Slider,p=i.ProgressBar,m=i.UITransform,d=i.dragonBones,b=i.instantiate,f=i.Vec3,S=i.Button,g=i.Component},function(i){y=i.MusicController,M=i.SoundFXController},function(i){T=i.UIInGame},function(i){k=i.MultiLanguage},function(i){w=i.Mouse},function(i){x=i.Setting},function(i){B=i.sounds}],execute:function(){var E,v,P,z,O,U,V,C,F,R,_,X,L,I,N,H,W,A,D,G,j,q,J,K,Q,Y,Z,$,ii,ei,ti,si,ri,oi,ni,li,ui,ai,ci,hi,pi,mi;o._RF.push({},"9d461LCOI9JqbcKNG6Qt3N2","PauseScreen",void 0);var di=n.ccclass,bi=n.property,fi=(E=di("pauseTooltips"),v=bi(l),P=bi(l),z=bi(l),O=bi(l),U=bi(l),V=bi(l),E((R=e((F=function(){function i(){s(this,"Title",R,this),s(this,"ExitToMap",_,this),s(this,"Restart",X,this),s(this,"Resume",L,this),s(this,"Music",I,this),s(this,"SoundFX",N,this)}return i.prototype.setString=function(){this.Title&&(this.Title.string=k.getStringByPropsWithoutTricks("GamePaused","Title")),this.ExitToMap&&(this.ExitToMap.string=k.getStringByPropsWithoutTricks("GamePaused","ExitToMap")),this.Restart&&(this.Restart.string=k.getStringByPropsWithoutTricks("GamePaused","Restart")),this.Resume&&(this.Resume.string=k.getStringByPropsWithoutTricks("GamePaused","Resume")),this.Music&&(this.Music.string=k.getStringByPropsWithoutTricks("SettingLyrics","Music")),this.SoundFX&&(this.SoundFX.string=k.getStringByPropsWithoutTricks("SettingLyrics","SoundFX"))},i}()).prototype,"Title",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=e(F.prototype,"ExitToMap",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=e(F.prototype,"Restart",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=e(F.prototype,"Resume",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=e(F.prototype,"Music",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=e(F.prototype,"SoundFX",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=F))||C);i("PauseScreen",(H=di("PauseScreen"),W=bi(fi),A=bi(u),D=bi(l),G=bi(a),j=bi(a),q=bi(c),J=bi(h),K=bi(p),Q=bi(m),Y=bi(h),Z=bi(p),$=bi(d.ArmatureDisplay),H((ti=e((ei=function(i){function e(){for(var e,t=arguments.length,o=new Array(t),n=0;n<t;n++)o[n]=arguments[n];return e=i.call.apply(i,[this].concat(o))||this,s(e,"tooltips",ti,r(e)),s(e,"MouseBlockerOpa",si,r(e)),s(e,"mission0",ri,r(e)),e.missions=[],s(e,"mainbody",oi,r(e)),s(e,"mouseblocker",ni,r(e)),s(e,"MusicSettingSound",li,r(e)),s(e,"musicSlider",ui,r(e)),s(e,"musicSliderBar",ai,r(e)),s(e,"MainUITransform",ci,r(e)),s(e,"sfxSlider",hi,r(e)),s(e,"sfxSliderBar",pi,r(e)),s(e,"sunflower",mi,r(e)),e.sunflowerTime=0,e}t(e,i);var o=e.prototype;return o.blockMouse=function(){},o.exit=function(){this.MouseBlockerOpa.opacity=255,T.component.exitNextTick=!0},o.restart=function(){this.MouseBlockerOpa.opacity=255,T.component.restartNextTick=!0},o.setTips=function(i){var e=this;if(this.missions.forEach((function(i,e){var t;e>0&&(null==(t=i.node)||null==(t=t.parent)||t.destroy())})),this.missions=[this.mission0],i.length){var t=[this.mission0];i.forEach((function(i,s){var r=e.mission0;if(s>0){var o=b(e.mission0.node.parent);o.parent=e.mission0.node.parent.parent,r=o.getChildByName(e.mission0.node.name).getComponent(l),t.push(r)}r.string=i})),this.missions=t}else this.mission0.node.parent.parent.parent.active=!1},o.resume=function(){var i;null==T||null==(i=T.component)||i.pauseMenu()},o.start=function(){var i=this;this.tooltips.setString(),this.mainbody.position=new f(0,1e3,0),this.mouseblocker.on(a.EventType.MOUSE_DOWN,this.blockMouse,this),this.mouseblocker.on(a.EventType.MOUSE_ENTER,this.blockMouse,this),this.mouseblocker.on(a.EventType.MOUSE_LEAVE,this.blockMouse,this),this.mouseblocker.on(a.EventType.MOUSE_MOVE,this.blockMouse,this),this.mouseblocker.on(a.EventType.MOUSE_UP,this.blockMouse,this),this.mouseblocker.on(a.EventType.TOUCH_CANCEL,this.blockMouse,this),this.mouseblocker.on(a.EventType.TOUCH_END,this.blockMouse,this),this.mouseblocker.on(a.EventType.TOUCH_MOVE,this.blockMouse,this),this.mouseblocker.on(a.EventType.TOUCH_START,this.blockMouse,this),this.mouseblocker.addComponent(S),this.musicSlider.progress=y.MusicVolume,this.musicSliderBar.progress=y.MusicVolume,this.sfxSlider.progress=M.SoundFXVolume,this.sfxSliderBar.progress=M.SoundFXVolume,this.musicSliderBar.node.on(a.EventType.TOUCH_END,(function(){B.playOneShot(i.MusicSettingSound,1,0,0,!0)}),this)},o.musicSlide=function(){var i=w.position.x-this.musicSliderBar.barSprite.node.worldPosition.x,e=this.musicSliderBar.totalLength*this.musicSliderBar.barSprite.node.worldScale.x;y.MusicVolume=Math.min(1,Math.max(0,i/e)),this.musicSlider.progress=y.MusicVolume,this.musicSliderBar.progress=y.MusicVolume,x.saveSettings()},o.sfxSlide=function(){var i=w.position.x-this.sfxSliderBar.barSprite.node.worldPosition.x,e=this.sfxSliderBar.totalLength*this.sfxSliderBar.barSprite.node.worldScale.x;M.SoundFXVolume=Math.min(1,Math.max(0,i/e)),this.sfxSlider.progress=M.SoundFXVolume,this.sfxSliderBar.progress=M.SoundFXVolume,x.saveSettings()},o.correctHeight=function(){var i=this.MainUITransform.height,e=.6*Math.min(1,660/i);this.MainUITransform.node.scale=new f(e,e,e)},o.update=function(i){this.musicSliderBar.progress=y.MusicVolume,this.sfxSliderBar.progress=M.SoundFXVolume,this.musicSlider.progress=y.MusicVolume,this.sfxSlider.progress=M.SoundFXVolume,this.musicSlider.handle.node.angle=360*-this.musicSlider.progress,this.sfxSlider.handle.node.angle=360*-this.sfxSlider.progress,this.sunflowerTime+=.0166667;var e=this.sunflower.armature().animation;this.sunflowerTime>160/30&&(this.sunflowerTime=0),e.gotoAndPlayByTime("idle",this.sunflowerTime),this.correctHeight()},o.onEnable=function(){this.correctHeight()},e}(g)).prototype,"tooltips",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new fi}}),si=e(ei.prototype,"MouseBlockerOpa",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ri=e(ei.prototype,"mission0",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),oi=e(ei.prototype,"mainbody",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ni=e(ei.prototype,"mouseblocker",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),li=e(ei.prototype,"MusicSettingSound",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ui=e(ei.prototype,"musicSlider",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ai=e(ei.prototype,"musicSliderBar",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ci=e(ei.prototype,"MainUITransform",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),hi=e(ei.prototype,"sfxSlider",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pi=e(ei.prototype,"sfxSliderBar",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),mi=e(ei.prototype,"sunflower",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ii=ei))||ii));o._RF.pop()}}}));

System.register("chunks:///_virtual/Peanut.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./SoundRescourses.ts","./Character.ts","./CharacterManager.ts","./Square.ts","./Projectiles.ts"],(function(t){var o,n,e,a,i,r,h,s,l,u,d,c,f,m,p,g,S,y,b,P;return{setters:[function(t){o=t.applyDecoratedDescriptor,n=t.inheritsLoose,e=t.initializerDefineProperty,a=t.assertThisInitialized,i=t.createClass,r=t.asyncToGenerator,h=t.regeneratorRuntime},function(t){s=t.cclegacy,l=t._decorator,u=t.AudioClip,d=t.Node,c=t.tween,f=t.Vec2},function(t){m=t.Plant,p=t.PlantProps},function(t){g=t.sounds},function(t){S=t.CharacterType},function(t){y=t.Rectangle},function(t){b=t.Square},function(t){P=t.ProjectileShootingFunctions}],execute:function(){var C,v,A,w,_,I,R,D,L,O,j,x,H,k,E,F;s._RF.push({},"3c3569kz0JJV7/l/0gJloWU","Peanut",void 0);var M=l.ccclass,z=l.property,T=function(t){function o(){for(var o,n=arguments.length,e=new Array(n),a=0;a<n;a++)e[a]=arguments[a];return(o=t.call.apply(t,[this].concat(e))||this).ShootInterval=1.35,o.ShootIntervalAdditional=.15,o.ShootIntervalSemi=2.7,o.ShootIntervalSemiAdditional=.15,o.ArmorToughness=4e3,o.PlantfoodPeaCount=60,o.PeaType="peanut",o}return n(o,t),o}(p),N=(C=M("PeanutSound"),v=z(u),A=z(u),w=z([u]),C((R=o((I=function(){function t(){e(this,"foodEnd",R,this),e(this,"food",D,this),e(this,"shoot",L,this)}var o=t.prototype;return o.playFoodEnd=function(){g.playOneShot(this.foodEnd,1,.1)},o.playFood=function(){g.playOneShot(this.food,1,.1)},o.playShoot=function(){g.playArray(this.shoot,1,NaN,.5)},t}()).prototype,"foodEnd",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=o(I.prototype,"food",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=o(I.prototype,"shoot",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=I))||_);t("PeanutPlant",(O=M("PeanutPlant"),j=z(N),x=z(d),O((E=o((k=function(t){function o(){for(var o,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return o=t.call.apply(t,[this].concat(i))||this,e(o,"soundRes",E,a(o)),o._objdataOwn=new T,o._foodLeftPeaCount=0,o.detector=null,e(o,"peaSpawnPoint",F,a(o)),o.armorSlot=void 0,o.shooting=!1,o.shootAnms=[],o.shootAnmIndex=0,o.shootCD=0,o._hurtStage=0,o._armorStage=3,o.armorHealth=0,o}n(o,t);var s=o.prototype;return s.foodShooting=function(){var t=this;this._foodLeftPeaCount=this._objdataOwn.PlantfoodPeaCount;c(this).to(2,{foodLeftPeaCount:0}).call((function(){t.foodEnd()})).start()},s.beghouledMatchNow=function(t){var o=t.filter((function(t){var o=t;return o.fooding||o.armorHealth>0}));return this.armorHealth<=0||o.length>=3},s.beghouledMatchSunCountExtra=function(t){var o=0;return t.forEach((function(t){t.armorHealth>0&&(o+=1)})),o},s.setDetecter=function(t,o){this.detector=y.createRectangleNodeSide(o.node,b.SquareWidth*(9-o.cIndex),b.SquareHeight)},s.detectEnemy=function(){for(var t=this.inLane.zombiePool(),o=0;o<t.length;o++)if(this.detector.judgeCrossRec(t[o].bodyRecForShooter))return!0;for(var n=this.inLane.tombPool(),e=0;e<n.length;e++)if(this.detector.judgeCrossRec(n[e].bodyRec))return!0;return!1},s.specialPlantUpdate=function(t,o,n){this.shootCD>0&&(this.shootCD-=t),this.shootCD<=0&&n>0&&!this.dead&&!this.fooding&&(this.shootCD=0,this.detectEnemy()&&this.shootAnimation())},s.specialPlantFood=function(t){this.hurtStage=0,this.armorStage=0,this.armorHealth=this._objdataOwn.ArmorToughness,this.anmControl.playAnimation("FoodStart",1/0),this.shootCD=1/0},s.animationListener=function(t){"foodShoot"==t.name?(this.foodShooting(),this.anmControl.playAnimation("FoodLoop",1/0),this.soundRes.playFood()):"Shoot"==t.name&&(this._shoot(),this.soundRes.playShoot())},s.specialPlantFoodEnd=function(){this.anmControl.playAnimation("FoodEnd",1),this.soundRes.playFoodEnd(),this.shootCD=0},s.specialPlantOnLoad=function(){this.armorSlot=this.anmControl.db.armature().getSlot("ARMOR")},s._shoot=function(){var t=r(h().mark((function t(o,n,e){var a,i,r,s,l,u;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===o&&(o=!1),void 0===n&&(n=!1),void 0===e&&(e=this._objdataOwn.PeaType),i=0,o&&(i=15-30*Math.random()),r=0,n&&(r=3*Math.random()),s=null==(a=this.inLnC)?void 0:a.havePeaBuff,l=this._dmgScale,t.next=12,P.shootOnePea(e,new f(this.peaSpawnPoint.worldPosition.x,this.worldPositionY),Math.max(1,this.peaSpawnPoint.worldPosition.y-this.worldPositionY+i),this.inLane.prjLayer,new f(8+r,0),S.zombie);case 12:return u=t.sent,s&&u.addPeaBuff(),l&&u.setDamage(u.damage*l),t.abrupt("return",u);case 16:case"end":return t.stop()}}),t,this)})));return function(o,n,e){return t.apply(this,arguments)}}(),s.specialPlantOnEnable=function(){this._hurtStage=1,this.hurtStage=0,this.armorHealth=0,this.armorStage=3,this.shootCD=0},s.animationOnComplete=function(){this.shooting=!1},s.shootAnimation=function(){var t=this.shootAnmIndex++%this.shootAnms.length,o=this.hurtStage<2?this._objdataOwn.ShootInterval+Math.random()*this._objdataOwn.ShootIntervalAdditional:this._objdataOwn.ShootIntervalSemi+Math.random()*this._objdataOwn.ShootIntervalSemiAdditional;o*=this._cdScale,this.shootCD=o,this.anmControl.playAnimation(this.shootAnms[t],1,.1*this._cdScale,Math.max(1,.75/o)),this.shooting=!0},s.replantable=function(){return this.hurtStage>0},s.replant=function(){this.health=this.toughness,this.hurtStage=0,this.anmControl.playIdle()},s.specialPlantOnSquareChange=function(t,o){this.setDetecter(t,o)},s.dealNormalDamage=function(t,o){if(!this.invincible){var n=this.health+0;if(this.armorHealth>0){var e=this.armorHealth+0;this.armorHealth-=t,this.armorHealth!=this._objdataOwn.ArmorToughness&&(this.foodable=!0);for(var a=0;a<=3;a++)e>=this.toughness/3*a&&this.armorHealth<=this.toughness/3*a&&(this.armorStage=3-a)}else this.health-=t,t>0&&(this.hurting=this.defaultHurtLightStrength(0==o),this.onDamaged(t,n,this.health+0)),this.health<=0&&this.die();return this.health}},s.onDamaged=function(t,o,n){for(var e=this.hurtStage,a=1;a<=4;a++)if(n<=this.toughness/4*a){this.hurtStage=4-a;break}e!=this.hurtStage&&this.waterable()&&this.anmControl.playIdle()},s.waterable=function(){return 0==this.hurtStage&&!this.shooting},i(o,[{key:"foodLeftPeaCount",get:function(){return this._foodLeftPeaCount},set:function(t){for(var o=Math.floor(this._foodLeftPeaCount)-Math.floor(t),n=0;n<o;n++)this._shoot(!0,!0);this._foodLeftPeaCount=t}},{key:"hurtStage",get:function(){return this._hurtStage},set:function(t){if(t!=this._hurtStage){switch(t){case 1:this.shootAnms=["Shoot10","Shoot11"],this.anmControl.IdleAnim="Idle1",this.anmControl.RandomAnim=["Rand10","Rand11"],this.deathAnm="Death01";break;case 2:this.shootAnms=["Shoot20"],this.anmControl.IdleAnim="Idle2",this.anmControl.RandomAnim=["Rand20"],this.deathAnm="Death23";break;case 3:this.shootAnms=["Shoot30"],this.anmControl.IdleAnim="Idle3",this.anmControl.RandomAnim=["Rand30"],this.deathAnm="Death23";break;default:this.shootAnms=["Shoot00","Shoot01"],this.anmControl.IdleAnim="Idle0",this.anmControl.RandomAnim=["Rand01","Rand02","Rand03"],this.deathAnm="Death01",t=0}var o;if(this._hurtStage=t,!this.dead)this.replantable()&&(null==(o=this.plantInLnC)||o.readIndex())}}},{key:"armorStage",get:function(){return this._armorStage},set:function(t){var o,n,e;switch(t){case 0:null==(o=this.armorSlot)||o._setDisplayIndex(0);break;case 1:null==(n=this.armorSlot)||n._setDisplayIndex(1);break;case 2:null==(e=this.armorSlot)||e._setDisplayIndex(2);break;default:var a;null==(a=this.armorSlot)||a._setDisplayIndex(-1),t=3}this._armorStage=t}}]),o}(m)).prototype,"soundRes",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new N}}),F=o(k.prototype,"peaSpawnPoint",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=k))||H));s._RF.pop()}}}));

System.register("chunks:///_virtual/PeaPod.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Peashooter.ts","./UI.ts","./LevelTaskCount.ts","./CharacterManager.ts","./Plants.ts"],(function(t){var o,n,e,a,i,s,h,l,u,r,d,c,p;return{setters:[function(t){o=t.applyDecoratedDescriptor,n=t.inheritsLoose,e=t.initializerDefineProperty,a=t.assertThisInitialized,i=t.createClass},function(t){s=t.cclegacy,h=t._decorator,l=t.Prefab},function(t){u=t.PeashooterPlant},function(t){r=t.UIInGame},function(t){d=t.LevelTaskCountModeEnum},function(t){c=t.PlantPool},function(t){p=t.plants}],execute:function(){var m,f,P,S,C;s._RF.push({},"14255L3cwtLGojVLkpzxzcd","PeaPod",void 0);var y=h.ccclass,v=h.property;t("PeaPodPlant",(m=y("PeaPodPlant"),f=v(l),m((C=o((S=function(t){function o(){for(var o,n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return o=t.call.apply(t,[this].concat(i))||this,e(o,"peaMega",C,a(o)),o.headSlots=[],o.headBones=[],o._haveHeadCount=1,o}n(o,t);var s=o.prototype;return s.animationListener=function(t){"Shoot0"==t.name?this.headCount>0&&(this._shoot(),this.soundRes.playShootSound()):"Shoot1"==t.name?this.headCount>1&&(this._shoot(),this.soundRes.playShootSound()):"Shoot2"==t.name?this.headCount>2&&(this._shoot(),this.soundRes.playShootSound()):"Shoot3"==t.name?this.headCount>3&&(this._shoot(),this.soundRes.playShootSound()):"Shoot4"==t.name?this.headCount>4&&(this._shoot(),this.soundRes.playShootSound()):"ShootMega"==t.name?(this._shoot(!1,!1,this._objdataOwn.PeaTypePlantfood),this.soundRes.playShootMegaPeapod()):"toFoodShoot"==t.name?(this.anmControl.playAnimation("FoodShoot",5),this.anmControl.IdleAnim="FoodEnd",this.anmControl.RandomAnim=[]):"foodEnd"==t.name?(this.foodEnd(),this.anmControl.IdleAnim="Idle",this.anmControl.RandomAnim=[]):"foodEndSound"==t.name&&this.soundRes.playFoodEnd()},s.specialPlantOnEnable=function(){var t=this;this.initialize();var o=this.anmControl.db.armature();this.headSlots=[],[0,1,2,3,4].forEach((function(n){t.headSlots.push(o.getSlot("HEAD"+n.toString())),t.headBones.push(o.getBone("HEAD"+n.toString()))})),this.headCount=1},s.specialPlantFood=function(t){this.anmControl.playAnimation("FoodStart",2),this.soundRes.playFood()},s.specialPlantFoodEnd=function(){this.busy=0},s.replantableListensFirstAid=function(){return!1},s.plantCount=function(){return this.headCount},s.replantable=function(){var t,o=null==r||null==(t=r.component)||null==(t=t.getLevelTaskStartingObject(d.PlantCountLimit))?void 0:t.MaximumPlants;return this.headCount<5&&(isNaN(o)||c.getPlantAmount()<o)},s.replant=function(){this.headCount++},s.specialPeashooterUpdate=function(t){},i(o,[{key:"headCount",get:function(){return this._haveHeadCount},set:function(t){var o;t>5&&(t=5),t<1&&(t=1);var n=t-this._haveHeadCount;this.headSlots.forEach((function(o,n){var e=-1;n<t&&(e=0),o.displayIndex=e})),this._haveHeadCount=t,this.health=this.toughness,p.registerPlant(this.ID,n),null==(o=this.plantInLnC)||o.readIndex()}}]),o}(u)).prototype,"peaMega",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=S))||P));s._RF.pop()}}}));

System.register("chunks:///_virtual/Peashooter.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./Character.ts","./Projectiles.ts","./CharacterManager.ts","./Square.ts","./Plants.ts","./SoundRescourses.ts"],(function(t){var o,n,e,i,a,s,r,u,h,l,d,c,p,f,S,m,y,g,P,b,v;return{setters:[function(t){o=t.inheritsLoose,n=t.applyDecoratedDescriptor,e=t.initializerDefineProperty,i=t.assertThisInitialized,a=t.createClass,s=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){u=t.cclegacy,h=t._decorator,l=t.AudioClip,d=t.Node,c=t.tween,p=t.Vec2},function(t){f=t.PlantProps,S=t.Plant},function(t){m=t.CharacterType},function(t){y=t.ProjectileShootingFunctions},function(t){g=t.Rectangle},function(t){P=t.Square},function(t){b=t.PlantEnum},function(t){v=t.sounds}],execute:function(){var w,C,_,A,R,z,L,M,O,j,E,T,I,D,F,x,G,k,N,q,B,U,H,Y;u._RF.push({},"f5589tQxwBJ46m8vhGguza6","Peashooter",void 0);var J=h.ccclass,Q=h.property,V=t("PeashooterProps",function(t){function n(){for(var o,n=arguments.length,e=new Array(n),i=0;i<n;i++)e[i]=arguments[i];return(o=t.call.apply(t,[this].concat(e))||this).ShootInterval=1.35,o.ShootIntervalAdditional=.15,o.PlantfoodPeaCount=60,o.ChanceToPlantfood=0,o.RedAttackStunDuration=.5,o.PeaType="pea",o.PeaTypePlantfood="pea",o}return o(n,t),n}(f)),W=t("peashooterSound",(w=J("peashooterSound"),C=Q(l),_=Q(l),A=Q([l]),R=Q(l),z=Q(l),L=Q(l),M=Q([l]),w((E=n((j=function(){function t(){e(this,"foodSound",E,this),e(this,"foodEndSound",T,this),e(this,"shootSound",I,this),e(this,"shoot5Sound",D,this),e(this,"shootMegaSound",F,this),this.volumeScale=1,e(this,"upgradeSound",x,this),e(this,"shootMegaSounds",G,this)}var o=t.prototype;return o.playUpgrade=function(){v.playOneShot(this.upgradeSound,this.volumeScale,.1)},o.playFood=function(){v.playOneShot(this.foodSound,this.volumeScale,.1)},o.playFoodEnd=function(){v.playOneShot(this.foodEndSound,this.volumeScale,.1)},o.playShootSound=function(t){void 0===t&&(t=1),v.playArray(this.shootSound,t*this.volumeScale,.1)},o.playShoot5Sound=function(t){void 0===t&&(t=1),v.playOneShot(this.shoot5Sound,this.volumeScale*t)},o.playShootMega=function(){v.playOneShot(this.shootMegaSound,this.volumeScale,.1)},o.playShootMegaPeapod=function(){v.playArray(this.shootMegaSounds,this.volumeScale,.1)},t}()).prototype,"foodSound",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=n(j.prototype,"foodEndSound",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=n(j.prototype,"shootSound",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=n(j.prototype,"shoot5Sound",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=n(j.prototype,"shootMegaSound",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=n(j.prototype,"upgradeSound",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=n(j.prototype,"shootMegaSounds",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=j))||O));t("PeashooterPlant",(k=J("PeashooterPlant"),N=Q(W),q=Q(d),k((H=n((U=function(t){function n(){for(var o,n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(o=t.call.apply(t,[this].concat(a))||this).minShootInterval=1.1,o._foodLeftPeaCount=0,o._objdataOwn=new V,o.upgraded=!1,e(o,"soundRes",H,i(o)),o.shootAnimationName="Shoot",o.foodAnimationName="Food",o.detector=new g,o.projectileSpeed=1,e(o,"peaSpawnpoint",Y,i(o)),o.busy=0,o.shooting=!1,o}o(n,t);var u=n.prototype;return u.onFoodLeftPeaCountDec=function(){this._shoot(!0,!0,this._objdataOwn.PeaTypePlantfood)},u.isGatling=function(){return this.ID==b.MegaGatlingPea||this.ID==b.GatlingPea},u._shoot=function(){var t=s(r().mark((function t(o,n,e,i,a,s){var u,h,l,d,c,f,S;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===o&&(o=!1),void 0===n&&(n=!1),void 0===e&&(e=this.defaultPea),void 0===i&&(i=8),void 0===a&&(a=new p(1,0)),void 0===s&&(s=this.peaSpawnpoint),s||(s=this.peaSpawnpoint),u=0,o&&(u=15-30*Math.random()),h=0,n&&(h=3*Math.random()-1.5),l=this.inLnC.havePeaBuff,d=this.highRedCD,c=this._objdataOwn.RedAttackStunDuration,f=this._dmgScale,t.next=18,y.shootOnePea(e,new p(s.worldPosition.x,this.worldPositionY),Math.max(1,s.worldPosition.y-this.worldPositionY+u),this.inLane.prjLayer,a.normalize().multiplyScalar((i+h)*(n?1:this.projectileSpeed)),m.zombie);case 18:return S=t.sent,this.shotInitialize(S),d>0&&(S.setStun(c),S.HighRed=1),l&&S.addPeaBuff(),f&&S.setDamage(S.damage*f),t.abrupt("return",S);case 24:case"end":return t.stop()}}),t,this)})));return function(o,n,e,i,a,s){return t.apply(this,arguments)}}(),u.shotInitialize=function(t){},u.upgrade=function(){this.upgraded||(this.upgraded=!0,this.anmControl.db.armature().getSlot("helmet").displayIndex=1,this.anmControl.db.armature().getSlot("gunTube").displayIndex=1)},u.specialPlantFoodEnd=function(){this.anmControl.playIdle(),this.busy=0,this.soundRes.playFoodEnd()},u.foodShooting=function(){var t=this;this._foodLeftPeaCount=this._objdataOwn.PlantfoodPeaCount;c(this).to(2,{foodLeftPeaCount:0}).call((function(){t.foodEnd()})).start()},u.specialPlantFood=function(t){this.isGatling()&&this.upgrade(),this.anmControl.playAnimation(this.foodAnimationName,1/0),this.soundRes.playFood(),this.busy=1/0,this.foodShooting()},u.waterable=function(){return!this.shooting},u._shootPeaAnimation=function(){var t=Math.random();this.isGatling()&&t<=this._objdataOwn.ChanceToPlantfood?this.food():(this.anmControl.playAnimation(this.shootAnimationName,1,.1*this._cdScale,Math.max(this.minShootInterval/this.busy,1)),this.onShootAnmPlayed())},u.onShootAnmPlayed=function(){},u.shootToTNTSpark=function(){return!1},u.animationListenerAdd=function(t){},u.animationListener=function(t){"Shoot"==t.name||this.upgraded&&"Shoot5"==t.name?this.shootToTNTSpark()||this._shoot():"ShootSound"==t.name&&(this.upgraded?this.soundRes.playShoot5Sound(this.isGatling()?.3:1):this.soundRes.playShootSound(this.isGatling()?.3:1)),this.animationListenerAdd(t)},u.setDetecter=function(t,o){this.detector=g.createRectangleNodeSide(o.node,P.SquareWidth*(9-o.cIndex),P.SquareHeight)},u.initialize=function(){this.upgraded=!1,this.busy=0,this.projectileSpeed=this.isGatling()?1.7:1},u.animationCompleteAdd=function(){},u.animationOnComplete=function(){this.shooting=!1},u.specialPlantOnSquareChange=function(t,o){this.setDetecter(t,o)},u.specialPlantOnEnable=function(){this.initialize(),this.specialPeashooterOnEnable()},u.startShooting=function(){this.shooting=!0;var t=this._objdataOwn.ShootInterval+this._objdataOwn.ShootIntervalAdditional*Math.random();this._cdScale&&(t*=this._cdScale),this.busy=t,this._shootPeaAnimation()},u.detectEnemy=function(){var t=this,o=this.inLane.zombiePool(),n=this.inLane.tombPool();return o.some((function(o){return t.detector.judgeCrossRec(o.bodyRecForShooter)}))||n.some((function(o){return t.detector.judgeCrossRec(o.bodyRec)}))||this.detectEnemyExtra()},u.detectEnemyExtra=function(){return!1},u.specialPeashooterOnEnable=function(){},u.specialPeashooterUpdate=function(t){},u.specialPlantUpdate=function(t,o,n){this.busy>0&&(this.busy-=t),this.busy<=0&&!this.dead&&!this.fooding&&(this.busy=0,n>0&&this.detectEnemy()&&this.startShooting()),this.specialPeashooterUpdate(t)},a(n,[{key:"foodLeftPeaCount",get:function(){return this._foodLeftPeaCount},set:function(t){for(var o=Math.floor(this._foodLeftPeaCount)-Math.floor(t),n=0;n<o;n++)this.onFoodLeftPeaCountDec();this._foodLeftPeaCount=t}},{key:"defaultPea",get:function(){return this._objdataOwn.PeaType}}]),n}(S)).prototype,"soundRes",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new W}}),Y=n(U.prototype,"peaSpawnpoint",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=U))||B));u._RF.pop()}}}));

System.register("chunks:///_virtual/PeaVine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Peashooter.ts"],(function(e){var t,n,a,i;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,a=e._decorator},function(e){i=e.PeashooterPlant}],execute:function(){var r;n._RF.push({},"791bdit6+hBd5l2f2ZtvXkZ","PeaVine",void 0);var o=a.ccclass;a.property,e("PeaVinePlant",o("PeaVinePlant")(r=function(e){function n(){return e.apply(this,arguments)||this}t(n,e);var a=n.prototype;return a.specialPlantOnSquareChange=function(e,t){this.setDetecter(e,t),e.addBuff("peaBuff",!1),t.addBuff("peaBuff")},a.specialPlantDie=function(e){this.inLnC.addBuff("peaBuff",!1)},n}(i))||r);n._RF.pop()}}}));

System.register("chunks:///_virtual/PepperPult.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SoundRescourses.ts","./CabbagePult.ts","./CharacterManager.ts","./Character.ts","./Square.ts","./ArrayGet.ts","./Projectiles.ts"],(function(o){var n,e,t,a,i,r,l,c,s,u,b,p,d,f,P,y,h,w,g;return{setters:[function(o){n=o.applyDecoratedDescriptor,e=o.inheritsLoose,t=o.initializerDefineProperty,a=o.assertThisInitialized,i=o.createClass},function(o){r=o.cclegacy,l=o._decorator,c=o.AudioClip,s=o.Vec2},function(o){u=o.sounds},function(o){b=o.cabbagePultSound,p=o.CabbagePultPlant,d=o.CabbagePultProps},function(o){f=o.ZombiePool,P=o.TombPool},function(o){y=o.CharacterType},function(o){h=o.Square},function(o){w=o.ArrayGet},function(o){g=o.ProjectileShootingFunctions}],execute:function(){var m,L,O,C,S,j,v,A,R,z,x,I,_,k;r._RF.push({},"4329cvIFyBDFp0Zti4IHRcn","PepperPult",void 0);var F=l.ccclass,T=l.property,Y=function(o){function n(){return o.apply(this,arguments)||this}return e(n,o),n}(d),M=(m=F("PepperPultSound"),L=T([c]),O=T([c]),C=T([c]),m((v=n((j=function(o){function n(){for(var n,e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return n=o.call.apply(o,[this].concat(i))||this,t(n,"hit",v,a(n)),t(n,"ignite",A,a(n)),t(n,"reload",R,a(n)),n}e(n,o);var i=n.prototype;return i.playHit=function(){u.playArray(this.hit,.5,.1)},i.playIgnite=function(){u.playArray(this.ignite,1,.1)},i.playReload=function(){u.playArray(this.reload,.5,.1)},n}(b)).prototype,"hit",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=n(j.prototype,"ignite",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=n(j.prototype,"reload",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),S=j))||S);o("PepperPultPlant",(z=F("PepperPultPlant"),x=T(M),z((k=n((_=function(o){function n(){for(var n,e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return n=o.call.apply(o,[this].concat(i))||this,t(n,"soundRes",k,a(n)),n._objdataOwn=new Y,n}e(n,o);var r=n.prototype;return r.onObjdataSet=function(o,n){},r.foodLobOnArea=function(o,n){var e=this,t=0;if(w.randomize(f.pool()).forEach((function(a){t>=3||a.cIndex>=o&&a.cIndex<=n&&(g.lobOneCabbageOnZombie(e._objdataOwn.CabbageTypePlantfood,new s(e.cabbageSpawnPoint.worldPosition.x,e.worldPositionY),e.cabbageSpawnPoint.worldPosition.y-e.worldPositionY,e.inLane.prjLayer,a,.4444,y.zombie,!1,90),t++)})),t<3&&w.randomize(P.pool()).forEach((function(a){t>=3||a.cIndex>=o&&a.cIndex<=n&&(g.lobOneCabbageOnNode(e._objdataOwn.CabbageTypePlantfood,new s(e.cabbageSpawnPoint.worldPosition.x,e.worldPositionY),e.cabbageSpawnPoint.worldPosition.y-e.worldPositionY,e.inLane.prjLayer,a.node,.6666,y.zombie,!1,90),t++)})),t<3){for(var a=[],i=0;i<5;i++)for(var r=Math.max(o,0);r<=Math.min(9,n);r++)a.push(h.getLnC(i,r));w.randomize(a).forEach((function(o){t>=3||(g.lobOneCabbageOnNode(e._objdataOwn.CabbageTypePlantfood,new s(e.cabbageSpawnPoint.worldPosition.x,e.worldPositionY),e.cabbageSpawnPoint.worldPosition.y-e.worldPositionY,e.inLane.prjLayer,o.node,.6666,y.zombie,!1,90),t++)}))}},r.specialAnimationListener=function(o){switch(o.name){case"reload":this.soundRes.playReload();break;case"hit":this.soundRes.playHit();break;case"ignite":this.soundRes.playIgnite();break;case"foodLobL":this.foodLobOnArea(-1,3);break;case"foodLobR":this.foodLobOnArea(5,9);break;case"foodLobM":this.foodLobOnArea(2,6);break;case"foodSound":this.soundRes.playFood()}},i(n,[{key:"objdataOwn",get:function(){return this._objdataOwn}}]),n}(p)).prototype,"soundRes",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new M}}),I=_))||I));r._RF.pop()}}}));

System.register("chunks:///_virtual/PerfumeFire.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GroundFire.ts","./Square.ts"],(function(e){var r,n,t,o,u;return{setters:[function(e){r=e.inheritsLoose},function(e){n=e.cclegacy,t=e._decorator},function(e){o=e.GroundFire},function(e){u=e.Square}],execute:function(){var i;n._RF.push({},"2f04d64YKFKN5XsGneUuyg3","PerfumeFire",void 0);var c=t.ccclass;t.property,e("PerfumeFire",c("PerfumeFire")(i=function(e){function n(){return e.apply(this,arguments)||this}return r(n,e),n.prototype.updateAsJalapenoFire=function(e,r){if(!this.dead){var n,t=u.getLane(this.inLnC.lIndex);null==t||null==(n=t.dinosaurPool())||n.forEach((function(e){if(!e.charmed&&e.charmableCD<=0&&e.canbeCharmedNow()){var n=e.getRectangleAccordingToRectBox(e.HitRect);null!=r&&r.judgeCrossRec(n)&&(e.charmed=!0)}}))}},n}(o))||i);n._RF.pop()}}}));

System.register("chunks:///_virtual/PerfumeShroom.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Jalapeno.ts","./SoundRescourses.ts","./GroundFire.ts"],(function(e){var n,r,t,o,a,i,u,s,l,c,p,f,d,h,m;return{setters:[function(e){n=e.applyDecoratedDescriptor,r=e.inheritsLoose,t=e.initializerDefineProperty,o=e.assertThisInitialized,a=e.createClass},function(e){i=e.cclegacy,u=e._decorator,s=e.Prefab,l=e.AudioClip},function(e){c=e.jalapeno,p=e.JalapenoPlant,f=e.JalapenoProps},function(e){d=e.sounds},function(e){h=e.GroundFireColorEnum,m=e.GroundFireSpreadStyleEnum}],execute:function(){var y,b,S,g,w,P,F;i._RF.push({},"c3880jU5g5E97rx/5I5FqoT","PerfumeShroom",void 0);var _=u.ccclass,j=u.property,v=function(e){function n(){for(var n,r=arguments.length,t=new Array(r),o=0;o<r;o++)t[o]=arguments[o];return(n=e.call.apply(e,[this].concat(t))||this).Damage=0,n.Duration=9,n}return r(n,e),n}(f);e("PerfumeShroomPlant",(y=_("PerfumeShroomPlant"),b=j(s),S=j([l]),y((P=n((w=function(e){function n(){for(var n,r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=e.call.apply(e,[this].concat(a))||this)._objdataOwn=new v,t(n,"perfumeFire",P,o(n)),t(n,"fadeSounds",F,o(n)),n}r(n,e);var i=n.prototype;return i.onObjdataSet=function(e,n){},i.explode=function(){var e=this._objdataOwn.Damage;this._dmgScale&&(e*=this._dmgScale),this.deathAnm="Death",d.playOneShot(this.burnSound,1,.1),c.burnFromLnC(this.inLnC,e,!1,this._objdataOwn.Duration,15,h.yellow,m.split,18,9,[],0,!1,!1,!1,this.perfumeFire),this.die()},i.specialCherryBombAnimationListener=function(e){switch(e.name){case"fade":d.playArray(this.fadeSounds)}},a(n,[{key:"objdataOwn",get:function(){return this._objdataOwn}}]),n}(p)).prototype,"perfumeFire",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=n(w.prototype,"fadeSounds",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),g=w))||g));i._RF.pop()}}}));

System.register("chunks:///_virtual/PhatBeet.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./SoundRescourses.ts","./NodePools.ts","./Square.ts","./ParticleSelfdestroy.ts","./CharacterManager.ts","./levelController.ts"],(function(t){var e,a,n,o,i,r,c,l,s,h,u,d,p,f,m,P,b,y,L,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,a=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized,i=t.createClass},function(t){r=t.cclegacy,c=t._decorator,l=t.AudioClip,s=t.Prefab,h=t.Vec2},function(t){u=t.Plant,d=t.PlantProps},function(t){p=t.sounds},function(t){f=t.instantiatePooly},function(t){m=t.Square},function(t){P=t.ParticleSelfdestroy},function(t){b=t.Rectangle,y=t.ZombieDamageDetails,L=t.ZombieDamageType},function(t){g=t.LevelPlay}],execute:function(){var w,v,C,k,R,O,z,D,S,H,j,A,E,F,U,_,x,q,I,W;r._RF.push({},"675af47qJxI3KeHPsgcWnpp","PhatBeet",void 0);var B=c.ccclass,N=c.property,T=function(t){function e(){for(var e,a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this).Damage=15,e.DamageHeavy=45,e.TimesHeavy=4,e.TimesHeavyAdditional=2,e.AttackInterval=1,e.PlantfoodDamageNear=800,e.PlantfoodDamageFar=200,e}return a(e,t),e}(d),X=(w=B("PhatBeetSound"),v=N(l),C=N(l),k=N(l),R=N([l]),w((D=e((z=function(){function t(){n(this,"attack",D,this),n(this,"attackPF",S,this),n(this,"impactPF",H,this),n(this,"hit",j,this)}var e=t.prototype;return e.playAttack=function(){p.playOneShot(this.attack,1,.1)},e.playAttackPF=function(){p.playOneShot(this.attackPF,1,.1)},e.playImpactPF=function(){p.playOneShot(this.impactPF,1,.1)},e.playHit=function(){p.playArray(this.hit,1,.1)},t}()).prototype,"attack",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=e(z.prototype,"attackPF",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=e(z.prototype,"impactPF",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=e(z.prototype,"hit",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=z))||O);t("PhatBeetPlant",(A=B("PhatBeetPlant"),E=N(X),F=N(s),U=N(s),A((q=e((x=function(t){function e(){for(var e,a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return e=t.call.apply(t,[this].concat(i))||this,n(e,"soundRes",q,o(e)),e._objdataOwn=new T,n(e,"wavePar",I,o(e)),n(e,"hitPar",W,o(e)),e.detector=new b,e.attacking=!1,e.attactCD=0,e.heavyLeft=2,e}a(e,t);var r=e.prototype;return r.onObjdataSet=function(t,e){},r.playWave=function(t){var e="Play";switch(t){case 1:e="Play_Heavy";break;case 2:e="Play_PF"}var a=f(this.wavePar);a.parent=m.getLane(4).tombLayer,a.worldPosition=this.inLnC.node.worldPosition,a.getComponent(P).db.playAnimation(e,1/0)},r.playHitOnCharacter=function(t){var e=f(this.hitPar);e.parent=t.inLane.prjLayer,e.worldPosition=t.worldPosition.toVec3()},r.specialPlantOnSquareChange=function(t,e){this.detector=b.createRectangleNodeCenter(e.node,3*m.SquareWidth,3*m.SquareHeight)},r.attack=function(t){var e=this,a=!1,n=[];this.inLane.zombiePool().concat(this.inLane.UpperLane.zombiePool(),this.inLane.LowerLane.zombiePool()).forEach((function(t){-1==n.indexOf(t)&&e.detector.judgeCrossRec(t.bodyRecReal)&&n.push(t)}));var o=new y((t?this.objdataOwn.DamageHeavy:this.objdataOwn.Damage)*this._dmgScale,!0,!0,!0,null,L.physicle);n.forEach((function(t){t.dealDamage(o.replaceDirection(new h(t.worldPositionX-e.worldPositionX,t.zombieHeight+t.worldPositionY-e.worldPositionY).normalize().multiplyScalar(20))),e.playHitOnCharacter(t),a=!0}));var i=[];this.inLane.tombPool().concat(this.inLane.UpperLane.tombPool(),this.inLane.LowerLane.tombPool()).forEach((function(t){-1==i.indexOf(t)&&e.detector.judgeCrossRec(t.bodyRec)&&i.push(t)})),i.forEach((function(t){t.dealDamage(o),e.playHitOnCharacter(t),a=!0})),a&&this.soundRes.playHit()},r.foodAttack=function(){var t=this,e=!1,a=b.createRectangleNodeCenter(this.inLnC.node,3*m.SquareHeight,3*m.SquareHeight),n=[];this.inLane.zombiePool().concat(this.inLane.UpperLane.zombiePool(),this.inLane.LowerLane.zombiePool()).forEach((function(t){-1==n.indexOf(t)&&a.judgeCrossRec(t.bodyRecReal)&&n.push(t)}));var o=new y(this.objdataOwn.PlantfoodDamageNear*this._dmgScale,!0,!0,!0,null,L.physicle);n.forEach((function(a){a.dealDamage(o.replaceDirection(new h(a.worldPositionX-t.worldPositionX,a.zombieHeight+a.worldPositionY-t.worldPositionY).normalize().multiplyScalar(30))),t.playHitOnCharacter(a),e=!0}));var i=[];this.inLane.tombPool().concat(this.inLane.UpperLane.tombPool(),this.inLane.LowerLane.tombPool()).forEach((function(t){-1==i.indexOf(t)&&a.judgeCrossRec(t.bodyRec)&&i.push(t)})),i.forEach((function(a){a.dealDamage(o),t.playHitOnCharacter(a),e=!0}));var r=b.createRectangleNodeCenter(this.inLnC.node,5*m.SquareWidth,5*m.SquareHeight),c=[];this.inLane.zombiePool().concat(this.inLane.UpperLane.UpperLane.zombiePool(),this.inLane.UpperLane.zombiePool(),this.inLane.LowerLane.zombiePool(),this.inLane.LowerLane.LowerLane.zombiePool()).forEach((function(t){-1==n.indexOf(t)&&-1==c.indexOf(t)&&r.judgeCrossRec(t.bodyRecReal)&&c.push(t)}));var l=new y(this.objdataOwn.PlantfoodDamageFar*this._dmgScale,!0,!0,!0,null,L.physicle);c.forEach((function(a){a.dealDamage(l.replaceDirection(new h(a.worldPositionX-t.worldPositionX,a.zombieHeight+a.worldPositionY-t.worldPositionY).normalize().multiplyScalar(20))),t.playHitOnCharacter(a),e=!0}));var s=[];this.inLane.tombPool().concat(this.inLane.UpperLane.UpperLane.tombPool(),this.inLane.UpperLane.tombPool(),this.inLane.LowerLane.tombPool(),this.inLane.LowerLane.LowerLane.tombPool()).forEach((function(t){-1==i.indexOf(t)&&-1==s.indexOf(t)&&r.judgeCrossRec(t.bodyRec)&&s.push(t)})),s.forEach((function(a){a.dealDamage(l),t.playHitOnCharacter(a),e=!0})),e&&this.soundRes.playHit()},r.specialPlantFood=function(t){this.anmControl.playAnimation("Food",1/0)},r.detectEnemies=function(){var t=this;return!!this.inLane.zombiePool().concat(this.inLane.UpperLane.zombiePool(),this.inLane.LowerLane.zombiePool()).some((function(e){return t.detector.judgeCrossRec(e.bodyRec)}))||!!this.inLane.tombPool().concat(this.inLane.UpperLane.tombPool(),this.inLane.LowerLane.tombPool()).some((function(e){return t.detector.judgeCrossRec(e.bodyRec)}))},r.animationListener=function(t){switch(t.name){case"foodEnd":this.foodEnd(),this.anmControl.playIdle();break;case"attackStart":this.soundRes.playAttack();break;case"foodStart":this.soundRes.playAttackPF();break;case"attack":var e=!1;this.heavyLeft--,this.heavyLeft<=0&&(e=!0,this.heavyLeft=this.objdataOwn.TimesHeavy+Math.floor(Math.random()*(this.objdataOwn.TimesHeavyAdditional+1))),this.attack(e),this.playWave(e?1:0);break;case"foodWave":this.playWave(2),this.soundRes.playImpactPF();break;case"foodAttack":g.shakeScreen(),this.foodAttack()}},r.specialPlantOnEnable=function(){this.attacking=!1},r.waterable=function(){return!this.attacking},r.animationOnComplete=function(){this.attacking=!1},r.specialPlantUpdate=function(t,e,a){a>0&&!this.fooding&&(this.attactCD-=t,this.attactCD<=0&&this.detectEnemies()&&(this.attactCD=this.objdataOwn.AttackInterval*this._cdScale,this.anmControl.playAnimation("Attack",1,0,Math.max(1,1/this.attactCD)),this.attacking=!0))},i(e,[{key:"objdataOwn",get:function(){return this._objdataOwn}}]),e}(u)).prototype,"soundRes",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new X}}),I=e(x.prototype,"wavePar",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=e(x.prototype,"hitPar",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=x))||_));r._RF.pop()}}}));

System.register("chunks:///_virtual/PhatBeetRhythm.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./Mouse.ts","./NodePools.ts","./CharacterManager.ts","./Square.ts","./KeyListener.ts"],(function(t){var e,n,i,o,a,r,s,c,u,h,l,d,P,f,p,y,w,m;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized,a=t.createClass},function(t){r=t.cclegacy,s=t._decorator,c=t.Prefab,u=t.KeyCode,h=t.input,l=t.Input},function(t){d=t.Plant,P=t.PlantProps},function(t){f=t.Mouse},function(t){p=t.instantiatePooly},function(t){y=t.Rectangle},function(t){w=t.Square},function(t){m=t.KeyListener}],execute:function(){var b,g,R,L,v,K,_,B;r._RF.push({},"aa580Sf6YxLDrdmpaaD6nxZ","PhatBeetRhythm",void 0);var j=s.ccclass,C=s.property,E=function(t){function e(){return t.apply(this,arguments)||this}return n(e,t),e}(P),O=j("PhatBeetRhythmSound")(b=function(){})||b;t("PhatBeetRhythmPlant",(g=j("PhatBeetRhythmPlant"),R=C(O),L=C(c),g((_=e((K=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return e=t.call.apply(t,[this].concat(a))||this,i(e,"soundRes",_,o(e)),e._objdataOwn=new E,i(e,"hitPar",B,o(e)),e.KeyPushing=!1,e}n(e,t);var r=e.prototype;return r.onObjdataSet=function(t,e){},r.specialPlantOnEnable=function(){this.foodable=!1},r.specialPlantOnMouseDown=function(){var t=y.createRectangleCenter(this.inLnC.node.worldPosition.toVec2().add2f(w.SquareWidth/2,0),2*w.SquareWidth,w.SquareHeight),e=this.inLane.zombiePool().sort((function(t,e){return t.worldPositionX-e.worldPositionX})).find((function(e){return e.health>50&&t.judgeInRecP(e.worldPosition)}));if(e){e.chomp();var n=p(this.hitPar);n.parent=e.inLane.prjLayer,n.worldPosition=e.worldPosition.toVec3()}return!0},r.judgeKeyAllowed=function(t){var e=m.KeyBinds;switch(this.inLane.LaneIndex){case 0:switch(t){case u[e.Rhythm_PhatBeet1]:return!0}break;case 1:switch(t){case u[e.Rhythm_PhatBeet2]:return!0}break;case 2:switch(t){case u[e.Rhythm_PhatBeet3]:return!0}break;case 3:switch(t){case u[e.Rhythm_PhatBeet4]:return!0}break;case 4:switch(t){case u[e.Rhythm_PhatBeet5]:return!0}}return!1},r.specialPlantOnLoad=function(){var t=this;h.on(l.EventType.KEY_DOWN,(function(e){t.judgeKeyAllowed(e.keyCode)&&(t.KeyPushing=!0,t.specialPlantOnMouseDown())}),this),h.on(l.EventType.KEY_UP,(function(e){t.judgeKeyAllowed(e.keyCode)&&(t.KeyPushing=!1)}),this)},r.detectEnemies=function(t){var e=this.inLnC.rec;this.inLane.zombiePool().forEach((function(t){t.health<50&&e.judgeInRecP(t.worldPosition)&&t.chomp()}))},r.specialPlantFood=function(t){this.foodEnd()},r.specialPlantUpdate=function(t,e,n){f.mouseInLnC==this.plantInLnC||this.KeyPushing?(this.detectEnemies(t),this.extraHolo=1):this.extraHolo=-1},a(e,[{key:"objdataOwn",get:function(){return this._objdataOwn}}]),e}(d)).prototype,"soundRes",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new O}}),B=e(K.prototype,"hitPar",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=K))||v));r._RF.pop()}}}));

System.register("chunks:///_virtual/PirateBarrelPusherZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./Zombies.ts"],(function(e){var r,t,n,i,a,o,l,s,u,h,c,d,b,p,m;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized,a=e.createClass,o=e.asyncToGenerator,l=e.regeneratorRuntime},function(e){s=e.cclegacy,u=e._decorator,h=e.Node,c=e.Vec2},function(e){d=e.Zombie,b=e.ZombieProps},function(e){p=e.zombies,m=e.ZombieEnum}],execute:function(){var f,y,w,S,I;s._RF.push({},"62094xn7ndNQrsIS13oRF/l","PirateBarrelPusherZombie",void 0);var g=u.ccclass,P=u.property,_=function(e){function r(){for(var r,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return(r=e.call.apply(e,[this].concat(n))||this).SmashIdleTime=.5,r}return t(r,e),r}(b);e("PirateBarrelPusherZombie",(f=g("PirateBarrelPusherZombie"),y=P(h),f((I=r((S=function(e){function r(){for(var r,t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return(r=e.call.apply(e,[this].concat(a))||this)._objdataOwn=new _,r._objdataOwnOrg=new _,n(r,"barrelSlot",I,i(r)),r.SmashIdleCD=0,r._barrel=null,r}t(r,e);var s=r.prototype;return s.specialZombieOnEnable=function(){this.barrel=null},s.onKnockBackStart=function(){this.barrel&&(this.barrel.pusher=null)},s.specialZombieOnShrinked=function(e,r){this.barrel&&(this.barrel.pusher=null),this.barrel=null},s.setSmashIdleCD=function(){this.SmashIdleCD=this.objdataOwn.SmashIdleTime},s.specialZombieUpdate=function(e,r,t){this.SmashIdleCD>0&&(this.SmashIdleCD-=e)},s.spawnAlmanacBarrel=function(){var e=o(l().mark((function e(r){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.getZombieCompByID(m.pirate_barrel,!0);case 2:(t=e.sent).node.parent=r,t.node.setSiblingIndex(0),t.worldPosition=new c(this.barrelSlot.worldPosition.x,this.node.worldPosition.y),t.node.scale=this.node.scale;case 7:case"end":return e.stop()}}),e,this)})));return function(r){return e.apply(this,arguments)}}(),s.specialAlmanac=function(e){this.spawnAlmanacBarrel(e),this.body.IdleAnm="Idle_Barrel",this.body.playAnimation(this.body.IdleAnm,1/0)},s.playSpecialZombieDieForced=function(){this.barrel&&(this.barrel.pusher=null)},s.onLaneChangeTweenStart=function(){this.barrel&&(this.barrel.pusher=null)},s.shouldSpeedScale=function(){var e=1;return this.barrel&&this.barrel.freeze>0&&(e=.5),e*this.defaultShouldSpeedScale()},s.playWalk=function(e,r){this.SmashIdleCD>0?this.playIdle(e,r,!1):this.defaultPlayWalk(e,r)},s.additionalZombies=function(){var e=o(l().mark((function e(){var r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.getZombieCompByID(m.pirate_barrel);case 2:return(r=e.sent).node.parent=this.node.parent,r.node.setSiblingIndex(this.node.getSiblingIndex()),r&&(this.barrel=r),e.abrupt("return",r?[r]:[]);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),a(r,[{key:"objdataOwn",get:function(){return this._objdataOwn}},{key:"objdataOwnOrg",get:function(){return this._objdataOwnOrg}},{key:"barrel",get:function(){return this._barrel},set:function(e){this.barrel!=e&&(e?(e.worldPosition=new c(this.barrelSlot.worldPosition.x,this._worldPositionY),e.pusher=this,this.body.IdleAnm="Idle_Barrel",this.body.WalkAnm="Walk_Barrel",this.body.EatAnm="Eat_Barrel"):(this.body.IdleAnm="Idle",this.body.WalkAnm="Walk",this.body.EatAnm="Eat"),this._barrel=e,(this.isAlive()||this.displayed)&&this.replayAnimation())}}]),r}(d)).prototype,"barrelSlot",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=S))||w));s._RF.pop()}}}));

System.register("chunks:///_virtual/PirateBarrelZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./CharacterManager.ts","./GargantuarZombie.ts","./Zombies.ts"],(function(e){var t,i,n,s,r,o,a,h,u,l,c,p;return{setters:[function(e){t=e.inheritsLoose,i=e.createClass,n=e.asyncToGenerator,s=e.regeneratorRuntime},function(e){r=e.cclegacy,o=e._decorator,a=e.Vec2},function(e){h=e.Zombie},function(e){u=e.ZombieDamageType,l=e.ZombieDamageDetails},function(e){c=e.gargantuar},function(e){p=e.ZombieEnum}],execute:function(){var d;r._RF.push({},"3127dv2H/FEnYvJqUlnoqYE","PirateBarrelZombie",void 0);var f=o.ccclass;o.property,e("PirateBarrelZombie",f("PirateBarrelZombie")(d=function(e){function r(){for(var t,i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return(t=e.call.apply(e,[this].concat(n))||this).faceSlot=void 0,t._pusher=null,t.lifeSpan=10,t.deathCD=10,t}t(r,e);var o=r.prototype;return o.throwImps=function(){var e=n(s().mark((function e(){var t,i,n,r=this;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.reversed,i=this._usedToBeHypnotized,n=this.ShrinkProps.concat(),e.next=5,c.throwOneImpByLnC(p.pirate_imp,this.inLane,this.worldPosition,new a(this.reversed?1:-1,0==this.lIndex?0:1),1,20,.5);case 5:return e.t0=e.sent,e.next=8,c.throwOneImpByLnC(p.pirate_imp,this.inLane,this.worldPosition,new a(this.reversed?1:-1,4==this.lIndex?0:-1),1,20,.5);case 8:e.t1=e.sent,[e.t0,e.t1].forEach((function(e){e.onThrownByGargantuar(r),e.reversed=t,e.hypnotized=i,e.shrink(n,0)}));case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),o.beforeSpecialZombieDie=function(e,t,i,n,s,r){this.throwImps()},o.playSpecialZombieDie=function(e){this.judgeDeath(0)},o.whenStabbedBySpikeWeed=function(e){var t=this;this.playDie(),e.forEach((function(e){e.normalSmash(t)}))},o.setChiliStun=function(e){return!1},o.playSpecialZombieDieForced=function(){this.pusher=null},o.specialZombieOnEnable=function(){var e;this.deathCD=this.lifeSpan,this.pusher=null,null==(e=this.faceSlot)||e._setDisplayIndex(0)},o.specialZombieOnLoad=function(){var e;this.faceSlot=null==(e=this.db.armature())?void 0:e.getSlot("face")},o.onDamaged=function(e,t,i){var n,s=Math.max(0,2-Math.floor(3*t/this.toughness));null==(n=this.faceSlot)||n._setDisplayIndex(s)},o.onKnockBackStart=function(){this.pusher=null},o.onLaneChangeTweenStart=function(){this.pusher=null},o.specialZombieUpdateForced=function(e,t,i,n){},o.shouldSpeedScale=function(){return this._pusher?this.pusher.shouldSpeedScale()*(this.pusher.isWalking?1:0):this.defaultShouldSpeedScale()},o.specialZombieUpdate=function(e,t,i){var n;this._pusher?(this.node.setParent(null==(n=this._pusher)||null==(n=n.node)?void 0:n.parent,!0),this.worldPositionX=this.pusher.barrelSlot.worldPosition.x,this.worldPositionY=this._pusher.worldPositionY,this.node.setSiblingIndex(this._pusher.node.getSiblingIndex()-1)):this.deathCD>0&&(this.deathCD-=e,this.deathCD<=0&&this.playDie(!1,null,!0,u.physicle,!1,!1,!1))},o.detectPlant=function(e){var t=this;if(this.inLane){if(this.pusher){this.hypnotized=this.pusher.hypnotized;var i=new l(500*e,!0,!1,!1,null);this.hypnotized?this.inLane.zombiePool().forEach((function(e){t.bodyRec.judgeCrossRec(e.bodyRec)&&e.dealDamage(i)})):(this.inLane.plantPool().forEach((function(e){var i;e.smasherDetectable&&t.bodyRec.judgeCrossRec(e.bodyRec)&&(null==(i=t.pusher)||i.setSmashIdleCD(),e.hurting=e.defaultHurtLightStrength(!1),e.smash(t,!1))})),this.inLane.hypnoZombiePool().forEach((function(e){t.bodyRec.judgeCrossRec(e.bodyRec)&&e.dealDamage(i)}))),this.inLane.tombPool(this.hypnotized?0:1).forEach((function(e){t.bodyRec.judgeCrossRec(e.bodyRec)&&e.dealDamage(i)}))}}else this.playWalk()},o.lobberTarget=function(){return this.pusher?this.pusher:this},i(r,[{key:"pusher",get:function(){return this._pusher},set:function(e){this.pusher&&this.pusher!=e&&(this.pusher.barrel=null),null!=e?(this._pusher=e,this.randomWalkSpeedRate=e.randomWalkSpeedRate):this._pusher=null}},{key:"squarePerSec",get:function(){return this.pusher?this.pusher.squarePerSec:.01}}]),r}(h))||d);r._RF.pop()}}}));

System.register("chunks:///_virtual/PirateCaptainParrotZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./CharacterManager.ts","./Plant.ts","./NodePools.ts","./ArrayGet.ts","./Square.ts","./SoundRescourses.ts"],(function(t){var i,e,n,o,a,l,r,s,h,u,c,d,p,g,P,f,y,w,b;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized,a=t.createClass},function(t){l=t.cclegacy,r=t._decorator,s=t.AudioClip,h=t.Vec2,u=t.Vec3},function(t){c=t.Zombie,d=t.ZombieProps},function(t){p=t.PlantPool,g=t.ZombieDamageType},function(t){P=t.PlantType},function(t){f=t.NodePools},function(t){y=t.ArrayGet},function(t){w=t.Square},function(t){b=t.sounds}],execute:function(){var v,_,m,S,C;l._RF.push({},"b1388sOiqVNAo9pYaZUS1g8","PirateCaptainParrotZombie",void 0);var D=r.ccclass,Z=r.property,j=t("parrotCapture",function(){function t(){}return t.judgePlantCapturable=function(t){if(t)return!t.objdataOwn.CannotBeGrabbedByParrot&&!t.dead&&!t.short_&&t.eaterDetectable&&!t.fooding&&t.plantType==P.plant&&!t.invincible},t.getRandomPlantCapturable=function(){for(var t,i=this,e=[0,1,2,3,4],n=function(){var t=y.getRandom(e);e.splice(e.indexOf(t),1);for(var n=w.getLane(t).plantPool(),o=[],a=0;a<n.length;a++)i.judgePlantCapturable(n[a])&&o.push(n[a]);if(o.length>0){var l=o[0];return o.forEach((function(t){t._worldPositionX>l._worldPositionX&&(l=t)})),{v:l}}};e.length>0;)if(t=n())return t.v;return null},t.judgeHaveCapturablePlant=function(){for(var t=p.pool().concat(),i=0;i<t.length;i++)if(this.judgePlantCapturable(t[i]))return!0;return!1},t}()),x=function(t){function i(){for(var i,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return(i=t.call.apply(t,[this].concat(n))||this).FlyingSpeed=1.4,i}return e(i,t),i}(d);t("PirateCaptainParrotZombie",(v=D("PirateCaptainParrotZombie"),_=Z(s),v((C=i((S=function(t){function i(){for(var i,e=arguments.length,a=new Array(e),l=0;l<e;l++)a[l]=arguments[l];return(i=t.call.apply(t,[this].concat(a))||this).isBrainEater=!1,i.bindsToLane=!1,i._objdataOwn=new x,n(i,"captureSound",C,o(i)),i.orgHeight=60,i.finalWaveVictoryCountdown=0,i.targetPlant=void 0,i.captain=void 0,i.followedPlant=null,i.captureCD=0,i.captured=!1,i._vx=0,i._vy=0,i.fleeing=!1,i}e(i,t);var l=i.prototype;return l.correctDepth=function(t){},l.playSpecialZombieDie=function(t){this.judgeDeath(0),this.shadeAlphaScale=0},l.detectPlantOn=function(){return!1},l.playWalk=function(t){},l.specialZombieOnEnable=function(){this.followedPlant=null,this.captain=null,this.fleeing=!1,this.captured=!1,this.switching=!0,this.playIdle(),this.height_depth=this.orgHeight,this.shadeAlphaScale=1},l.onLaneSpawnSettled=function(t,i){this.height_depth=this.orgHeight},l.onPutDirectly=function(t){this.height_depth=this.orgHeight,this.targetPlant=j.getRandomPlantCapturable()},l.onDirtSpawned=function(t){this.height_depth=this.orgHeight},l.playSpecialZombieDieForced=function(){this.followedPlant&&(this.followedPlant.node.destroy(),this.followedPlant=null)},l.specialZombieUpdate=function(t,i,e){var n,o,a;(j.judgePlantCapturable(this.targetPlant)||(this.targetPlant=null,this.captured=!1),(null==(n=this.captain)||!n.isAlive()||this.captain.ShrinkProps.length>0)&&(this.captain=null),this.fleeing)?(this.height_depth+=300*t,null!=(o=this.followedPlant)&&o.isValid&&(this.followedPlant.height=this.height_depth-this.orgHeight),this.height_depth>2100&&(this.followedPlant&&(this.followedPlant.node.destroy(),this.followedPlant=null),null!=(a=this.captain)&&a.isAlive()?(this.fleeing=!1,this.height_depth=this.orgHeight,this.worldPositionX=w.getSquareWorldPosition(0,8).x+2*w.SquareWidth,this.worldPositionY=this.captain.worldPositionY,this.targetPlant=null):(this.playDie(!0,null,!1,g.physicle,!1,!1,!1),f.destroyPooly(this.node)))):(Math.abs(this.height_depth-this.orgHeight)>30&&(this.height_depth+=100*t*(this.height_depth>this.orgHeight?-1:1)),this.targetPlant&&!this.hypnotized?this.captured?(this._vx=0,this._vy=0):(this.moveTo(this.targetPlant,t),this.targetPlant.worldPosition.clone().add(this.worldPosition.clone().negative()).length()<=6&&(this.captured=!0,b.playOneShot(this.captureSound),this.captureCD=5)):this.captain&&this.hypnotized==this.captain.hypnotized?(this.moveTo(this.captain,t),this.captain.worldPosition.clone().add(this.worldPosition.clone().negative()).length()<=6&&this.captain.returnParrot(this)):(this.fleeing=!0,this._vx=0,this._vy=0));this.captured&&(this.targetPlant.worldPosition.clone().add(this.worldPosition.clone().negative()).length()>6&&(this.captured=!1),this.captureCD-=t,this.captureCD<=0&&(this.fleeing=!0,this.targetPlant&&(this.targetPlant.die(!1),this.followedPlant=this.targetPlant,this.targetPlant.anmControl.setTimeScale(0),this.targetPlant=null)))},l.onButtered=function(t){this.playDie()},l.specialDisblowable=function(t){return this.fleeing},l.currentFarBodyRec=function(){return this.fleeing},l.lobberToPos=function(t){return new h(this.worldPositionX+this._vx*t,this.worldPositionY+this._vy*t)},l.moveTo=function(t,i){var e=new h(t._worldPositionX-this._worldPositionX,t._worldPositionY-this._worldPositionY).normalize().multiplyScalar(this.objdataOwn.FlyingSpeed*w.SquareWidth*i);this._vx=e.x,this._vy=e.y;var n=1;e.x>0&&(n=-1);var o=this.body.node.scale.clone();this.body.node.scale=new u(Math.abs(o.x)*n,o.y,o.z),this.worldPosition=this.worldPosition.clone().add(e)},a(i,[{key:"objdataOwn",get:function(){return this._objdataOwn}}]),i}(c)).prototype,"captureSound",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=S))||m));l._RF.pop()}}}));

System.register("chunks:///_virtual/PirateCaptainZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./NodePools.ts","./Zombies.ts","./PirateCaptainParrotZombie.ts"],(function(t){var o,a,r,n,e,i,s,h,c,u,l,p,d;return{setters:[function(t){o=t.inheritsLoose,a=t.createClass,r=t.asyncToGenerator,n=t.regeneratorRuntime},function(t){e=t.cclegacy,i=t._decorator},function(t){s=t.Zombie,h=t.ZombieProps},function(t){c=t.NodePools},function(t){u=t.zombies,l=t.ZombieEnum},function(t){p=t.parrotCapture,d=t.PirateCaptainParrotZombie}],execute:function(){var P;e._RF.push({},"4d566STzN1PH4DfXdxb2aT9","PirateCaptainZombie",void 0);var f=i.ccclass,b=(i.property,function(t){function a(){for(var o,a=arguments.length,r=new Array(a),n=0;n<a;n++)r[n]=arguments[n];return(o=t.call.apply(t,[this].concat(r))||this).ParrotCooldown=7,o.ParrotRetryCooldown=1,o}return o(a,t),a}(h));t("PirateCaptainZombie",f("PirateCaptainZombie")(P=function(t){function e(){for(var o,a=arguments.length,r=new Array(a),n=0;n<a;n++)r[n]=arguments[n];return(o=t.call.apply(t,[this].concat(r))||this)._objdataOwn=new b,o._parrotSlots=[],o._haveParrot=!0,o.parrotHealth=300,o._cd=0,o.oldGroanSound=[],o.waiting=!1,o}o(e,t);var i=e.prototype;return i.specialZombieOnLoad=function(){var t,o=this;this.oldGroanSound=this.groanSound,null==(t=this.db.armature())||null==(t=t.getSlots())||t.forEach((function(t){t.name.includes("Parrot")&&o._parrotSlots.push(t)}))},i.playSpecialZombieDie=function(t){this.judgeDeath()},i.specialZombieOnShrinked=function(t,o){this.haveParrot=!1},i.specialZombieOnEnable=function(){this.haveParrot=!0,this.parrotHealth=300,this.groanSound=this.oldGroanSound,this._cd=this.objdataOwn.ParrotCooldown,this.waiting=!1},i.createParrot=function(){var t=r(n().mark((function t(){var o,a;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.waiting=!0,t.next=3,u.spawnZombieFromLane(this.lIndex,l.pirate_captain_parrot);case 3:if(!(o=t.sent)){t.next=13;break}return(a=o.getComponent(d)).worldPosition=this.worldPosition,a.captain=this,this.haveParrot=!1,this.groanSound=[],a.health=this.parrotHealth,a.targetPlant=p.getRandomPlantCapturable(),t.abrupt("return",a);case 13:this.waiting=!1;case 14:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),i.returnParrot=function(t){this.groanSound=this.oldGroanSound,this.haveParrot=!0,this.parrotHealth=t.health,this._cd=this.objdataOwn.ParrotCooldown,t.playDie(!0),c.destroyPooly(t.node)},i.specialZombieUpdate=function(t,o,a){!this.haveParrot||this.hypnotized||this.waiting||(this._cd>0&&(this._cd-=t),this._cd<=0&&(p.judgeHaveCapturablePlant()?this.createParrot():this._cd=this.objdataOwn.ParrotRetryCooldown))},a(e,[{key:"objdataOwn",get:function(){return this._objdataOwn}},{key:"haveParrot",get:function(){return this._haveParrot},set:function(t){this._parrotSlots.forEach((function(o){o._setDisplayIndex(t?0:-1)})),this._haveParrot=t}}]),e}(s))||P);e._RF.pop()}}}));

System.register("chunks:///_virtual/PirateGargantuarZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GargantuarZombie.ts","./ArrayGet.ts","./Zombies.ts"],(function(t){var r,e,n,a,i,o,u,s,c,p,h,l;return{setters:[function(t){r=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,a=t.assertThisInitialized,i=t.asyncToGenerator,o=t.regeneratorRuntime},function(t){u=t.cclegacy,s=t._decorator,c=t.AudioClip},function(t){p=t.GargantuarZombie},function(t){h=t.ArrayGet},function(t){l=t.ZombieEnum}],execute:function(){var m,f,d,y,g;u._RF.push({},"e2284uKBI9GQpaHbL+zvftu","PirateGargantuarZombie",void 0);var b=s.ccclass,v=s.property;t("PirateGargantuarZombie",(m=b("PirateGargantuarZombie"),f=v([c]),m((g=r((y=function(t){function r(){for(var r,e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return r=t.call.apply(t,[this].concat(i))||this,n(r,"steadySounds",g,a(r)),r.impEnum=l.pirate_imp,r}e(r,t);var u=r.prototype;return u.specialGargantuarAnimationListener=function(t){"steady"==t.name&&this.playOneShot(h.getRandom(this.steadySounds))},u.throwImp=function(){var t=i(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._throwImp(Math.floor(5*Math.random()),this.reversed?6:2,350);case 2:return this._haveImp=!0,t.next=5,this._throwImp(Math.floor(5*Math.random()),4,350);case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r}(p)).prototype,"steadySounds",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),d=y))||d));u._RF.pop()}}}));

System.register("chunks:///_virtual/PirateImpCannonZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./Square.ts","./Zombies.ts","./GargantuarZombie.ts","./levelController.ts","./ArrayGet.ts","./SoundRescourses.ts"],(function(t){var o,n,e,i,a,r,s,l,h,u,d,p,c,m,f,b,S,v,w,C;return{setters:[function(t){o=t.applyDecoratedDescriptor,n=t.inheritsLoose,e=t.initializerDefineProperty,i=t.assertThisInitialized,a=t.createClass,r=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){l=t.cclegacy,h=t._decorator,u=t.AudioClip,d=t.tween,p=t.Vec2},function(t){c=t.Zombie,m=t.ZombieProps},function(t){f=t.Square},function(t){b=t.ZombieEnum},function(t){S=t.gargantuar},function(t){v=t.LevelPlay},function(t){w=t.ArrayGet},function(t){C=t.sounds}],execute:function(){var y,g,x,I,O,T,P,E,j,M,A;l._RF.push({},"317a8MCv7NEjpaQruuwM9bq","PirateImpCannonZombie",void 0);var D=h.ccclass,Z=h.property,k=function(t){function o(){for(var o,n=arguments.length,e=new Array(n),i=0;i<n;i++)e[i]=arguments[i];return(o=t.call.apply(t,[this].concat(e))||this).TimeBefore=3,o.TimeBeforeAdditional=1,o.ShootInterval=7.5,o.ShootIntervalAdditional=.5,o.MaxImpCount=5,o.MaxImpCountAdditional=0,o.ShootColumns=[5,4],o.ExplodeColumns=[2,3,4,5],o.ExplodeImpCount=5,o.ExplodeImpCountAdditional=0,o}return n(o,t),o}(m);t("PirateImpCannonZombie",(y=D("PirateImpCannonZombie"),g=Z(u),x=Z(u),I=Z(u),O=Z([u]),y((E=o((P=function(t){function o(){for(var o,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(o=t.call.apply(t,[this].concat(a))||this).isBrainEater=!1,e(o,"RollSound",E,i(o)),e(o,"ShootSound",j,i(o)),e(o,"ExplodeSound",M,i(o)),e(o,"ImpExplodeSounds",A,i(o)),o.moveToShipTween=null,o._objdataOwn=new k,o.knockBackable=!1,o.leapable=!1,o.shootCD=7.5,o.maxShootCount=5,o.shotCount=0,o.shooting=!1,o.impEnum=b.pirate_imp,o}n(o,t);var l=o.prototype;return l.specialZombieLeapable=function(){return!1},l.specialZombieKnockbackable=function(){return!1},l.onObjdataSet=function(t){this.maxShootCount=this.objdataOwn.MaxImpCount+Math.floor(Math.random()*(this.objdataOwn.MaxImpCountAdditional+1)),this.shootCD=this.objdataOwn.TimeBefore+Math.random()*this.objdataOwn.TimeBeforeAdditional},l.specialZombieOnEnable=function(){this.shotCount=0,this.shooting=!1,this.shootCD=this.objdataOwn.TimeBefore+Math.random()*this.objdataOwn.TimeBeforeAdditional,this.maxShootCount=this.objdataOwn.MaxImpCount+Math.floor(Math.random()*(this.objdataOwn.MaxImpCountAdditional+1)),this.body.DeathAnm="Death",this.currentFlyZombie=!1,this.flying=!1},l.moveToPos=function(t){var o=this;void 0===t&&(t=!1);var n=t?f.getLnC(0,0).node.worldPosition.x-f.SquareWidth:f.getLnC(0,8).node.worldPosition.x+f.SquareWidth;this.displayed||(this.moveToShipTween=d(this).to(4,{worldPositionX:n},{easing:"quadIn"}).call((function(){o.moveToShipTween=null})).start(),this.playOneShot(this.RollSound),this.playIdle())},l.onReversedSet=function(t){this.moveToPos(t)},l.onLaneSpawnSettled=function(){this.moveToPos(this.reversed)},l.detectPlant=function(t){},l.playSpecialZombieDie=function(t){this.judgeDeath(0)},l.playSpecialZombieDieForced=function(){var t;null==(t=this.moveToShipTween)||t.stop()},l.getInterval=function(){return this.objdataOwn.ShootInterval+this.objdataOwn.ShootIntervalAdditional*Math.random()},l.getShootColumn=function(){var t=w.getRandom(this.objdataOwn.ShootColumns);return isNaN(+t)&&(t=w.getRandom([5,4])),this.reversed&&(t=8-t),t},l.getExplodeColumn=function(){var t=w.getRandom(this.objdataOwn.ExplodeColumns);return isNaN(+t)&&(t=w.getRandom([2,3,4,5])),this.reversed&&(t=8-t),t},l.lockedTimeScale=function(){return 1},l.specialZombieUpdate=function(t,o,n){this.moveToShipTween||this.shooting||(this.shootCD>0&&(this.shootCD-=t),this.shootCD<=0&&(this.shotCount<this.maxShootCount?(this.shooting=!0,this.shootCD=this.getInterval(),this.body.playAnimation("Shoot",2),this.shotCount++):(this.body.DeathAnm="Explode",this.playDie(!1,null,!1,null,!1),v.component.setLevelVictoryCountDown(3))))},l._shoot=function(){var t=r(s().mark((function t(o,n,e,i,a){var r;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===e&&(e=-30),void 0===i&&(i=45),void 0===a&&(a=1),t.next=5,S.throwOneImpToLnC(this.impEnum,this.inLane,new p(this.headDropPoint.worldPosition.x,this._worldPositionY),f.getLnC(o,n),this.headDropPoint.worldPosition.y-this._worldPositionY+e,i,a);case 5:return(r=t.sent).tallNutBlock=!0,r.reversed=this.reversed,r.hypnotized=this._usedToBeHypnotized,r.shrink(this.ShrinkProps,0),r.onThrownByGargantuar(this),t.abrupt("return",r);case 12:case"end":return t.stop()}}),t,this)})));return function(o,n,e,i,a){return t.apply(this,arguments)}}(),l.playWalk=function(t){},l.animationOnLPComplete=function(){this.shooting=!1},l.specialAnimationListener=function(t){if("Shoot"==t.name)this.playOneShot(this.ShootSound,1,!1,.2),this._shoot(this.inLane.LaneIndex,this.getShootColumn());else if("shootingOff"==t.name)this.shooting=!1,this.playIdle();else if("Explode"==t.name){this.playOneShot(this.ExplodeSound),C.playArray(this.ImpExplodeSounds,1,.1);for(var o=this.objdataOwn.ExplodeImpCount+Math.floor(Math.random()*(this.objdataOwn.ExplodeImpCountAdditional+1)),n=0;n<o;n++)this.explodeOutOneImp()}},l.explodeOutOneImp=function(){var t=r(s().mark((function t(){var o,n;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=100+150*Math.random(),n=o/150,t.next=4,this._shoot(Math.floor(5*Math.random()),this.getExplodeColumn(),-10,o,n);case 4:t.sent.tallNutBlock=!1;case 6:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),a(o,[{key:"objdataOwn",get:function(){return this._objdataOwn}}]),o}(c)).prototype,"RollSound",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=o(P.prototype,"ShootSound",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=o(P.prototype,"ExplodeSound",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=o(P.prototype,"ImpExplodeSounds",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),T=P))||T));l._RF.pop()}}}));

System.register("chunks:///_virtual/PirateSeagullZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./NodePools.ts","./ArrayGet.ts","./SoundRescourses.ts"],(function(e){var t,l,a,i,n,r,o,s,u,d,c,h,p,g;return{setters:[function(e){t=e.applyDecoratedDescriptor,l=e.inheritsLoose,a=e.initializerDefineProperty,i=e.assertThisInitialized,n=e.createClass},function(e){r=e.cclegacy,o=e._decorator,s=e.AudioClip,u=e.Prefab,d=e.Vec3},function(e){c=e.Zombie},function(e){h=e.NodePools},function(e){p=e.ArrayGet},function(e){g=e.sounds}],execute:function(){var f,m,y,S,b,v,H,P,w;r._RF.push({},"dec02612ItEKJCfPpyA9YNR","PirateSeagullZombie",void 0);var D=o.ccclass,A=o.property;e("PirateSeagullZombie",(f=D("PirateSeagullZombie"),m=A([s]),y=A([s]),S=A(u),f((H=t((v=function(e){function t(){for(var t,l=arguments.length,n=new Array(l),r=0;r<l;r++)n[r]=arguments[r];return t=e.call.apply(e,[this].concat(n))||this,a(t,"seagullButteredSounds",H,i(t)),a(t,"seagullIdleSounds",P,i(t)),t.seagullIdleSayCD=3,t._seagullHaveHead=!0,a(t,"birdExplParticle",w,i(t)),t.seagullArmature=void 0,t}l(t,e);var r=t.prototype;return r.specialZombieUpdate=function(e,t,l){this.seagullIdleSayCD>0?this.seagullIdleSayCD-=e:(this.seagullIdleSayCD=5+3*Math.random(),g.playArray(this.seagullIdleSounds,.7,1))},r.setButter=function(e,t){var l;e>0&&(this.playDie(!1,this.defaultDirection()),g.playOneShot(p.getRandom(this.seagullButteredSounds)),null==(l=this.seagullArmature)||null==(l=l.animation)||l.play("Death",1));return!0},r.lockedTimeScale=function(){return this.isWalking&&this.walkRouteBufferDistance?1.5:NaN},r.walkSpeedScaleEnteringLawn=function(){return this.walkRouteBufferDistance?1.5:2},r.walkTimeScale=function(e,t,l){return 1.5},r.specialPlantEatAllowed=function(e){return!this.walkRouteBufferDistance&&!e.short_},r.specialZombieOnShrinked=function(e,t){var l;this.playDie(),null==(l=this.seagullArmature)||null==(l=l.animation)||l.play("Explode",1)},r._dropHeadSeagull=function(e){void 0===e&&(e=1),this.zombieHead&&this.seagullHaveHead&&(this.seagullHaveHead=!1,this.playBreakSound(),this.drop(this.zombieHead,e,new d(this.shadeSocket.worldPosition.x,this._worldPositionY,0),null,this.node.parent))},r.specialAnimationListener=function(e){"dropHead"==e.name&&this._dropHeadSeagull()},r.dropHead=function(e,t){var l=this;return void 0===t&&(t=this.zombieHeight),this.armors.length&&(this.armors.concat().forEach((function(e){l.throwArmor(e,null),h.destroyPooly(e.node)})),this.armors=[]),null},r.playSpecialZombieDie=function(e){var t;this.judgeDeath(0);var l="Escape";if(e){l="Explode",g.playBirdExpl(),g.playArray(this.seagullButteredSounds);var a=h.instantiatePooly(this.birdExplParticle);a.parent=this.node.parent,a.worldPosition=this.node.worldPosition,a.worldScale=this.node.worldScale,a.setSiblingIndex(this.node.getSiblingIndex()+1)}else this._dropHeadSeagull(10);null==(t=this.seagullArmature)||null==(t=t.animation)||t.play(l,1)},r.specialZombieOnEnable=function(){var e;this.seagullIdleSayCD=3*Math.random(),this.seagullHaveHead=!0,null==(e=this.seagullArmature)||null==(e=e.animation)||e.play("Idle",1/0)},r.specialZombieOnLoad=function(){var e;this.seagullArmature=null==(e=this.db.armature().getSlot("Seagull"))?void 0:e.childArmature},n(t,[{key:"seagullHaveHead",get:function(){return this._seagullHaveHead},set:function(e){var t;null==(t=this.body)||null==(t=t.db)||null==(t=t.armature())||null==(t=t.getSlots())||t.forEach((function(t){t.name.includes("_head")&&t._setDisplayIndex(e?0:-1)})),this._seagullHaveHead=e}}]),t}(c)).prototype,"seagullButteredSounds",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),P=t(v.prototype,"seagullIdleSounds",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),w=t(v.prototype,"birdExplParticle",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=v))||b));r._RF.pop()}}}));

System.register("chunks:///_virtual/PirateSwashbucklerZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./ArrayGet.ts","./Square.ts"],(function(t){var i,n,e,a,s,r,o,l,u,h,d,c;return{setters:[function(t){i=t.applyDecoratedDescriptor,n=t.inheritsLoose,e=t.initializerDefineProperty,a=t.assertThisInitialized,s=t.createClass},function(t){r=t.cclegacy,o=t._decorator,l=t.AudioClip},function(t){u=t.Zombie,h=t.ZombieProps},function(t){d=t.ArrayGet},function(t){c=t.Square}],execute:function(){var m,f,S,g,w;r._RF.push({},"b79edvrTFZGVLeVacR4otOc","PirateSwashbucklerZombie",void 0);var p=o.ccclass,b=o.property,y=function(t){function i(){for(var i,n=arguments.length,e=new Array(n),a=0;a<n;a++)e[a]=arguments[a];return(i=t.call.apply(t,[this].concat(e))||this).LandingColumns=[4],i.ChanceToFallIntoSea=0,i}return n(i,t),i}(h);t("PirateSwashbucklerZombie",(m=p("PirateSwashbucklerZombie"),f=b([l]),m((w=i((g=function(t){function i(){for(var i,n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(i=t.call.apply(t,[this].concat(s))||this).willLandColumn=4,i._objdataOwn=new y,i._objdataOwnOrg=new y,e(i,"swingSounds",w,a(i)),i}n(i,t);var r=i.prototype;return r.onSandStormStart=function(){this.switching=!1,this.smartShadeHider=!1,this.flying=!1},r.onObjdataSet=function(t){this.resetWillLandColume()},r.specialZombieKnockbackable=function(){return!this.smartShadeHider},r.specialZombieLeapable=function(){return!this.smartShadeHider},r.LiesImmediatelyWhenHeavyDamaged=function(){return!this.smartShadeHider},r.onButtered=function(t){this.smartShadeHider&&(this.butterStun=0)},r.onChiliStunned=function(t){this.smartShadeHider&&(this.chiliStun=0)},r.specialAnimationListener=function(t){if("swing"==t.name)this.playOneShot(d.getRandom(this.swingSounds));else if("swingJudge"==t.name){var i;null!=(i=this.inLane)&&i.isSea&&Math.random()<this.objdataOwnOrg.ChanceToFallIntoSea?(this.worldPositionX+=2*c.SquareWidth,this.body.DeathAnm="SwingFailure",this.playDie(!0),this.judgeDeath()):this.body.playAnimation("SwingSuccess",1)}else"dropHead"==t.name?this.dropHead(null,1):"switchingFalse"==t.name&&this.judgeDeath(0)},r.onDirtSpawned=function(t){this.smartShadeHider=!1,this.flying=!1},r.specialOnLeapEnd=function(){this.smartShadeHider=!1},r.prevDistance=function(){return 0},r.CanBeReversedBySweetPotato=function(){return!this.smartShadeHider},r.swing=function(){this.isIdling=!1,this.playIdle(),this.flying=!0,this.body.playAnimation("SwingBack",1/0),this.worldPositionX=c.getSquareWorldPosition(0,this.willLandColumn).x,this.switching=!0,this.setBodyRec(!0)},r.resetWillLandColume=function(){var t=d.getRandom(this.objdataOwn.LandingColumns);isNaN(+t)||(this.willLandColumn=t)},r.specialZombieOnEnable=function(){this.smartShadeHider=!0,this.flying=!1,this.body.DeathAnm="Death",this.resetWillLandColume()},r.onLaneSpawnSettled=function(t,i){this.resetWillLandColume(),this.swing()},r.onPutDirectly=function(t){this.willLandColumn=t.cIndex,this.swing()},s(i,[{key:"objdataOwn",get:function(){return this._objdataOwn}},{key:"objdataOwnOrg",get:function(){return this._objdataOwnOrg}}]),i}(u)).prototype,"swingSounds",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),S=g))||S));r._RF.pop()}}}));

System.register("chunks:///_virtual/PirateZombossMechZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZombossMechZombie.ts","./GargantuarZombie.ts","./Zombies.ts","./Square.ts","./ArrayGet.ts","./levelController.ts"],(function(o){var e,t,n,r,i,a,s,h,u,l,c,d,p,m,S,f,b;return{setters:[function(o){e=o.applyDecoratedDescriptor,t=o.inheritsLoose,n=o.initializerDefineProperty,r=o.assertThisInitialized,i=o.asyncToGenerator,a=o.regeneratorRuntime},function(o){s=o.cclegacy,h=o._decorator,u=o.AudioClip,l=o.Node,c=o.Vec2},function(o){d=o.ZombossMechZombie},function(o){p=o.gargantuar},function(o){m=o.ZombieEnum},function(o){S=o.Square},function(o){f=o.ArrayGet},function(o){b=o.LevelPlay}],execute:function(){var y,w,g,v,Z,M,P,z,O,L,q,x,F,R,_;s._RF.push({},"a356f7aqqhEJqb/dbWFI5Ud","PirateZombossMechZombie",void 0);var A=h.ccclass,B=h.property;o("PirateZombossMechZombie",(y=A("PirateZombossMechZombie"),w=B(u),g=B(u),v=B(u),Z=B(u),M=B([u]),P=B(l),y((L=e((O=function(o){function e(){for(var e,t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return e=o.call.apply(o,[this].concat(i))||this,n(e,"introSmashSound",L,r(e)),n(e,"introFallSound",q,r(e)),n(e,"afterShootSound",x,r(e)),n(e,"waveBeforeShootSound",F,r(e)),n(e,"addShootSounds",R,r(e)),n(e,"shooter",_,r(e)),e}t(e,o);var s=e.prototype;return s.specialZombossMechAnimationListener=function(o){"introSmashSound"==o.name?(this.playOneShot(this.introSmashSound,1,!0),b.shakeScreen(),this.playOneShot(f.getRandom(this.worldZombossSpawnSaySounds),1,!0),this.playOneShot(f.getRandom(this.worldZombossMechLeapEndSounds),1,!0)):"introFallSound"==o.name?this.playOneShot(this.introFallSound,1,!0):"shootReadySound"==o.name&&this.playOneShot(this.waveBeforeShootSound,1,!0)},s.throwOneImp=function(){var o=i(a().mark((function o(e){var t;return a().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,p.throwOneImpToWP(m.pirate_imp,this.inLane,new c(this.shooter.worldPosition.x,this._worldPositionY),new c(e,S.getLane(Math.floor(5*Math.random())).floorY),this.shooter.worldPosition.y-this._worldPositionY,300+50*Math.random(),.8+.5*Math.random());case 2:(t=o.sent).onThrownByGargantuar(this),t.reversed=this.reversed,t.hypnotized=this.hypnotized;case 6:case"end":return o.stop()}}),o,this)})));return function(e){return o.apply(this,arguments)}}(),s.dropMissile=function(){var o=i(a().mark((function o(){var e,t,n;return a().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:for(e=6,1==this.mechToChoose&&(e=10),t=0;t<e;t++)n=this.reversed?S.getLnC(0,6).node.worldPosition.x-S.SquareWidth*Math.random()*3:S.getLnC(0,2).node.worldPosition.x+S.SquareWidth*Math.random()*3,this.throwOneImp(n);this.playOneShot(f.getRandom(this.addShootSounds),1,!0),this.playOneShot(this.afterShootSound,1,!0);case 5:case"end":return o.stop()}}),o,this)})));return function(){return o.apply(this,arguments)}}(),e}(d)).prototype,"introSmashSound",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=e(O.prototype,"introFallSound",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=e(O.prototype,"afterShootSound",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=e(O.prototype,"waveBeforeShootSound",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=e(O.prototype,"addShootSounds",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=e(O.prototype,"shooter",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=O))||z));s._RF.pop()}}}));

System.register("chunks:///_virtual/Plant.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plants.ts","./Tiles.ts","./MultiLanguage.ts","./CharacterManager.ts","./Droppings.ts","./FrontYard.ts","./KeyListener.ts","./LevelTaskCount.ts","./Materials.ts","./Particles.ts","./SoundRescourses.ts","./Square.ts","./UI.ts","./levelController.ts","./NodePools.ts","./AnimationController.ts","./Character.ts","./ParticleSelfdestroy.ts","./PlayerProperties.ts","./LnC.ts"],(function(t){var n,i,e,a,o,s,l,h,r,d,u,c,p,f,g,w,P,b,m,v,y,C,S,L,D,I,T,O,_,A,k,B,x,E,F,q,R,W,M,j,N;return{setters:[function(t){n=t.applyDecoratedDescriptor,i=t.inheritsLoose,e=t.initializerDefineProperty,a=t.assertThisInitialized,o=t.createClass},function(t){s=t.cclegacy,l=t._decorator,h=t.AudioClip,r=t.Size,d=t.Color,u=t.tween,c=t.dragonBones,p=t.Material,f=t.Vec2,g=t.Vec3,w=t.Vec4,P=t.EventMouse},function(t){b=t.PlantEnum,m=t.plants},function(t){v=t.tiles},function(t){y=t.MultiLanguage},function(t){C=t.Rectangle,S=t.PlantPool},function(t){L=t.droppings},function(t){D=t.FrontYard},function(t){I=t.KeyListener},function(t){T=t.LevelTaskCountModeEnum},function(t){O=t.materialRes},function(t){_=t.particle},function(t){A=t.sounds},function(t){k=t.Square},function(t){B=t.UIInGame},function(t){x=t.LevelPlay},function(t){E=t.instantiatePooly,F=t.NodePools,q=t.destroyPooly},function(t){R=t.AnimationController},function(t){W=t.Character},function(t){M=t.ParticleSelfdestroy},function(t){j=t.AllPlayerProperties},function(t){N=t.TileType}],execute:function(){var H,U,z,X,G,Y,K,V,J,Z,Q,$,tt,nt,it,et,at;s._RF.push({},"de59daihTVDgJBO/PJ5zQ6J","Plant",void 0);var ot=l.ccclass,st=l.property,lt=t("PlantType",function(t){return t[t.plant=0]="plant",t[t.vine=1]="vine",t[t.pot=2]="pot",t[t.lilyPad=3]="lilyPad",t[t.tile=4]="tile",t}({})),ht=t("PlantFamily",function(t){return t[t.Peashooter=0]="Peashooter",t[t.Melee=1]="Melee",t[t.Cold=2]="Cold",t[t.Sun=3]="Sun",t[t.Poison=4]="Poison",t[t.Shadow=5]="Shadow",t[t.Slow=6]="Slow",t[t.Defence=7]="Defence",t[t.Electricity=8]="Electricity",t[t.Fire=9]="Fire",t[t.Explosive=10]="Explosive",t[t.Sharp=11]="Sharp",t[t.Lobber=12]="Lobber",t[t.Magic=13]="Magic",t[t.None=14]="None",t}({})),rt=t("PlantProps",(function(){this.SunCost=0,this.BeghouledCost=500,this.Cooldown=5,this.CooldownFrom=0,this.Toughness=300,this.Family="Nope",this.StartingHeight=0,this.CannotBeKilledBySurfboard=!1,this.CannotBePushedByFootballMech=!1,this.CannotBeSheepenedByWizard=!1,this.CannotBeDetectedByCatapult=!1,this.CannotBeGrabbedByParrot=!1,this.ImmuneToSpeakerHit=!1,this.ImmuneToSpeakerWave=!1,this.ImmuneToIceblock=!1,this.WarmingRadius=null,this.WarmingRadiusPlantfood=null,this.ImmuneToBoomBox=!1,this.CallsElectricCurrant=!1}));t("PlantWarmingRadius",(function(){this.PulseInitialDelay=.5,this.PulseCooldown=6,this.GridItemDamage=200})),t("Plant",(H=ot("Plant"),U=st(Boolean),z=st(Boolean),X=st([h]),G=st(Boolean),Y=st(r),K=st(d),V=st(Boolean),H((Q=n((Z=function(t){function n(){for(var n,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return(n=t.call.apply(t,[this].concat(o))||this).schedulerX=0,n.isTeacher=!1,n.arrowCountdown=0,n.arrow=void 0,n.fooding=!1,n._objdata={},n._objdataOwn=new rt,n._intensiveCarrot=void 0,n.shaking=!1,n._endangered=!1,n._endangerdTile=void 0,n.anmControl=null,n._darkSlots=[],n.bodyTweens=[],n.allowOverlap=!1,n.disallowOtherPlants=[],n.leapTween=null,n.family=ht.None,n._foodable=!0,n.foodLightParticle=null,n._dmgScale=1,n._cdScaleByPlant=1,n._cdScaleByPlantCD=0,n._cdScaleFightAlone=1,n.foodParent=void 0,e(n,"tall",Q,a(n)),n.tall_=!1,e(n,"short",$,a(n)),n.short_=!1,n.ID=b.Peashooter,n.TYPE=[],n.SUNCOST=0,n.plantType=lt.plant,n.dead=!1,n.flyingPlant=!1,n.aquaticPlant=!1,n.deepAquatic=!1,n.potatoPlant=!1,n.amphibiousPlant=!1,n.deathAnm="Death",e(n,"deadSound",tt,a(n)),n.eatDamagable=!0,n.eaterDetectable=!0,n.smasherDetectable=!0,n.plantInLnC=null,n.SpawnAnming=void 0,n.beghouledHintLeftTime=0,n.dragTween=void 0,n.hidden=0,n.bodyRecHiddenCD=0,n.ShadowPowered=!1,e(n,"haveDarkMode",nt,a(n)),n.threwAway=!1,e(n,"bodySize",it,a(n)),n._bodyRec=new C,n.toughness=300,n.health=300,n.hurting=0,n.countDownInvincible=0,n.countDownInvincibleGlitter=0,n.damagable=!0,n._invincible=!1,n.extraHolo=0,n.addColor=new d,n.highRedCD=0,n.material=void 0,e(n,"baseColor",et,a(n)),e(n,"haveWaterAnimation",at,a(n)),n.waterAnm="Water",n.waterAnmFadeinTime=.1,n.body=null,n.shovelDropSun=!0,n._boomboxCD=0,n.boomboxPar=void 0,n.hot=0,n.plantWave=null,n.depthScale=13,n}i(n,t);var s=n.prototype;return s.clearScheduler=function(){this.schedulerX=0},s.getScheduler=function(t){void 0===t&&(t=1);var n=Math.sin(this.schedulerX/(t+.314));return n*n},s.canbeIceBlocked=function(){return!this.fooding&&!this.objdataOwn.ImmuneToIceblock&&!this.invincible},s.isAttackingAsAGrimrose=function(){return!1},s.teach=function(){this.defaultTeach(1)},s.defaultTeach=function(t){this.isTeacher=!1;var n=m.getPlantAlmanac(this.ID);I.gameTip(n.Introduction,5);var i=j.getPlantProgressByID(this.ID);i.tutorialLevel=Math.max(i.tutorialLevel,t)},s.addArrow=function(t){if(void 0===t&&(t=0),this.arrowCountdown=t,!this.arrow){var n=E(_.arrow());n.parent=L.layer,n.worldPosition=this.node.worldPosition.clone().add3f(0,20,1),n.angle=0,this.arrow=n}},s.onObjdataSet=function(t,n){},s.modObjdataOwn=function(t){var n=this;Object.getOwnPropertyNames(this._objdataOwn).forEach((function(i){null!=t[i]&&(n._objdataOwn[i]=t[i])})),this.objdataOwn.WarmingRadius&&(this.hot=this.objdataOwn.WarmingRadius.PulseInitialDelay),this.onObjdataSet(this._objdata,this._objdataOwn),this.SUNCOST=this.objdataOwn.SunCost},s.deathTimeScale=function(){return 1},s.defaultShouldSpeedScale=function(){return this.fallingInSky||this.threwAway?0:this.dead?this.deathTimeScale():this.sheepend?0:1},s.onCallingElectricCurrant=function(){this.highRedCD=.3},s.shouldSpeedScale=function(){return this.defaultShouldSpeedScale()},s.sheepen=function(){this.fooding&&this.foodEnd(),this.db&&(this.db.timeScale=this.shouldSpeedScale()),this.specialPlantOnSheepend()},s.unsheepen=function(){this.pushTideListener(),this.specialPlantOnUnsheepend()},s.specialPlantOnUnsheepend=function(){},s.specialPlantOnSheepend=function(){},s.shake=function(){var t=this;if(!this.shaking){this.shaking=!0;var n=this.worldPositionX,i=1-2*Math.random(),e=.1*Math.random();u(this).to(e,{worldPositionX:n+15*i}).to(e,{worldPositionX:n-15*i}).to(e,{worldPositionX:n}).call((function(){t.shaking=!1})).start()}},s.canBeChied=function(){return!0},s.onChiedFailed=function(){},s.heal=function(t){var n=this.health+0;this.health=Math.min(this.health+t,this.toughness),this.onDamaged(n-this.health,n,this.health)},s.shovelable=function(){return!this.fooding&&this.specialPlantShovelable()&&!this._invincible&&!this.endangered&&!this.sheepend},s.specialPlantShovelable=function(){return!0},s.specialPlantOnLoad=function(){},s.characterOnLoadForced=function(){this.body=this.node.getChildByName("Body"),this.anmControl=this.getComponent(R),this.anmControl.setBody(),this.db=this.anmControl.db},s.characterOnLoad=function(){var t,n=this;this.anmControl.db.on(c.EventObject.FRAME_EVENT,(function(t){n.animationListener(t)}),this),this.anmControl.db.on(c.EventObject.SOUND_EVENT,(function(t){n.animationListener(t)}),this),this.anmControl.anmCompleteListenerOn(),this.anmControl.db.on(c.EventObject.COMPLETE,this.animationOnComplete,this);var i=new p;i.initialize({effectAsset:O.addColorEffect,defines:{USE_TEXTURE:!0}}),this.material=i;var e=null==(t=this.db)?void 0:t.armature();e&&(null==e||e.getSlots().forEach((function(t){t.name.includes("_DARK")&&n._darkSlots.push(t)}))),this.specialPlantOnLoad()},s.inLnCArray=function(){return this.plantType==lt.vine?this.plantInLnC.vineInSquare:this.plantType==lt.pot||this.plantType==lt.lilyPad?[]:this.plantInLnC.plantInSquare},s.leapDisable=function(t){return void 0===t&&(t=!1),this.dead||!!this.leapTween||this.fooding&&!t},s.leapTo=function(t,n,i,e,a,o,s,l){var h=this;if(void 0===n&&(n=.5),void 0===i&&(i=200),void 0===a&&(a=!1),void 0===o&&(o="linear"),void 0===s&&(s=function(t){}),void 0===l&&(l=function(t){}),!this.leapDisable(a)&&this.plantType!=lt.tile){var r,d,c=this.plantInLnC;null==(r=this.dragTween)||r.stop();var p,g=t.plantPoint,w=t.plantInSquare;if(null==(d=this.anmControl.plantUpperDB)||null==(d=d.node)||d.setParent(t.inLane.plantUpperLayer,!0),this.plantType==lt.vine)g=t.vinePoint,w=t.vineInSquare,null!=(p=this.anmControl.vinebackDB)&&null!=(p=p.node)&&p.active&&this.anmControl.vinebackDB.node.setParent(t.vineBackPoint,!0);else if(this.plantType==lt.pot){var P;g=t.potPoint,w=[],t.floawerPot=this,this.plantInLnC.floawerPot=null,null!=(P=this.anmControl.potFrontDB)&&null!=(P=P.node)&&P.active&&this.anmControl.potFrontDB.node.setParent(t.potPointUpper,!0)}else this.plantType==lt.lilyPad&&(g=t.potPoint,w=[],t.lilyPad=this,this.plantInLnC.lilyPad=null);this.node.setParent(g,!0),this.body.setParent(this.node,!0);var b=this.inLnCArray().indexOf(this);-1!=b&&this.inLnCArray().splice(b,1),-1==w.indexOf(this)&&w.push(this),this.plantInLnC=t,this._endangerdTile&&(this._endangerdTile.node.parent=this.plantInLnC.inLane.tileLayer,this._endangerdTile.node.worldPosition=this.plantInLnC.node.worldPosition),t.readIndex();if(n>0)if(this.onLeapStart(c,t),this.leapTween=u(this).to(n,{worldPositionX:g.worldPosition.x,worldPositionY:g.worldPosition.y},{easing:o}).call((function(){h.leapTween=null,s(h),h.pushTideListener(),h.dead||h.onLeapEnd(),l(h)})).start(),i>0){var m=u(this).to(n/2,{height:i},{easing:"quadOut"}).to(n/2,{height:0},{easing:"quadIn"}).start();this.bodyTweens.push(m,this.leapTween)}else this.height=0;else this.leapTween=null,this.worldPosition=new f(g.worldPosition.x,g.worldPosition.y),this.body.worldPosition=this.node.worldPosition,this.plantInLnC=t,this.inLnC=t,this.height=0,this.foodLightParticle&&(this.foodLightParticle.worldPosition=this.node.worldPosition),this.fooding||this.pushTideListener();c.readIndex()}},s.onLeapStart=function(t,n){},s.onLeapEnd=function(){},s.animationListener=function(t){},s.animationOnComplete=function(){},s.strengthen=function(){},s.smash=function(t,n){void 0===n&&(n=!1),n?this.inLnC.getAllPlants().forEach((function(n){n.normalSmash(t)})):this.plantType==lt.vine?this.normalSmash(t):this.plantType==lt.plant?this.inLnC.vineInSquare.length?this.inLnC.vineInSquare[0].normalSmash(t):this.normalSmash(t):this.plantType!=lt.pot&&this.plantType!=lt.lilyPad||(this.inLnC.vineInSquare.length?this.inLnC.vineInSquare[0].normalSmash(t):this.inLnC.plantInSquare.length?this.inLnC.plantInSquare[0].normalSmash(t):this.normalSmash(t))},s.normalSmash=function(t){this.smasherDetectable&&this.kill()},s.specialPlantOnSquareChange=function(t,n){},s.getPlantWaveParent=function(){return this.anmControl.potFrontDB?this.anmControl.potFrontDB.node.parent:this.node.parent},s.characterOnSquareChange=function(t,n){if(!this.dead){var i;this.plantWave&&this.plantWave.node.setParent(this.getPlantWaveParent(),!0);var e=null==n||null==(i=n.node)?void 0:i.worldPosition;e&&this.setBodyRec(new f(e.x,e.y)),this.specialPlantOnSquareChange(t,n)}},s.plantCDScaleSetter=function(t,n){this._cdScaleByPlantCD=Math.max(n,this._cdScaleByPlantCD),this._cdScaleByPlantCD>0&&(this._cdScaleByPlant=t)},s.fightAloneStrengthen=function(t){var n=Number(null==t?void 0:t.DamageScale),i=Number(null==t?void 0:t.ShootIntervalScale);!isNaN(n)&&n>=0&&(this._dmgScale=n),!isNaN(i)&&i>=0&&(this._cdScaleFightAlone=i),this.specialFightAloneStrengthen(t)},s.specialFightAloneStrengthen=function(t){},s.characterOnLaneChange=function(t,n){t.deletePlant(this),n.addPlant(this),this.foodParent=n.foodPlantLayer,this.specialOnLaneChange(t,n),this.boomboxPar&&n&&this.boomboxPar.setParent(n.prjLayer,!0),this.foodLightParticle&&n&&(this.foodLightParticle.setParent(this.foodParent?this.foodParent:this.inLane.foodPlantLayer,!0),this.foodLightParticle.setSiblingIndex(0))},s.specialOnLaneChange=function(t,n){},s.onBurnt=function(){},s.defaultBurn=function(){if(!this.fooding&&!this.invincible){A.playPlantBurn(),this.dieOnLnC(),this.onBurnt();var t=F.instantiatePooly(_.plantBurnt());t.parent=this.inLnC.plantPoint,t.worldPosition=this.inLnC.node.worldPosition,t.setSiblingIndex(0),this.die(!1),this.anmControl.throwAllBackNFront(),this.node.destroy()}},s.burn=function(){this.defaultBurn()},s.getFamily=function(t){var n=ht.None;switch(t){case"Defence":n=ht.Defence;break;case"Peashooter":n=ht.Peashooter;break;case"Sun":n=ht.Sun;break;case"Explosive":n=ht.Explosive;break;case"Melee":n=ht.Melee;break;case"Slow":n=ht.Slow;break;case"Electricity":n=ht.Electricity;break;case"Shadow":n=ht.Shadow;break;case"Poison":n=ht.Poison;break;case"Lobber":n=ht.Lobber;break;case"Magic":n=ht.Magic;break;case"Sharp":n=ht.Sharp;break;case"Cold":n=ht.Cold}this.family=n},s.isAlive=function(){return!this.dead},s.playDeathSound=function(){this.deadSound.length&&A.playArray(this.deadSound,1,.1)},s.dieOnLnC=function(){var t=this.plantInLnC;t&&(t.deadPlant=this.ID,x.isBeghouled&&(t.crackleCountdown=1/0))},s.kill=function(){this.fooding||this.invincible||(this.dieOnLnC(),this.die())},s.specialPlantOnEaten=function(t,n,i,e){},s.eat=function(t,n){var i=this.health+0;this.dealDamage(t,0),i!=this.health&&this.specialPlantOnEaten(t,n,i,this.health),this.health<=0&&n.chewSoundWhenEat&&A.playZombieGulp()},s.plantCount=function(){return 1},s.onCommonshotHit=function(t){return!0},s.levelTaskWarnPlantLose=function(){return!0},s.playSpawnAnmTween=function(t){switch(t){case"fall":var n;null==(n=this.SpawnAnming)||n.stop();var i=this.body.scale.x;this.body.position=new g(0,2e3,0),this.bodyTweens.push(this.SpawnAnming=u(this.body).to(.4,{position:new g(0,0,0),scale:new g(.7*i,1.43*i,1)},{easing:"quadIn"}).to(.2,{scale:new g(1.67*i,.6*i,1)},{easing:"quadOut"}).to(.1,{scale:new g(.7*i,1.43*i,1)},{easing:"quadInOut"}).to(.1,{scale:new g(i,i,1)},{easing:"quadInOut"}).start());break;case"jump":var e;null==(e=this.SpawnAnming)||e.stop();var a=this.body.scale.x;this.body.position=new g(0,0,0),this.body.scale=new g(.01,.01,1),this.bodyTweens.push(this.SpawnAnming=u(this.body).to(.1,{scale:new g(.7*a,1.43*a,1)},{easing:"quadIn"}).to(.2,{scale:new g(a,a,1),position:new g(0,160,0)},{easing:"quadOut"}).to(.2,{scale:new g(.9*a,1.1*a,1),position:new g(0,0,0)},{easing:"quadIn"}).to(.1,{scale:new g(1.2*a,.8*a,1)},{easing:"quadOut"}).to(.1,{scale:new g(a,a,1)},{easing:"quadInOut"}).start());break;case"grow":var o;null==(o=this.SpawnAnming)||o.stop();var s=this.body.scale.x;this.body.scale=new g(.01,.01,1),this.bodyTweens.push(this.SpawnAnming=u(this.body).to(.2,{scale:new g(1.2*s,1.2*s,1)},{easing:"quadOut"}).to(.2,{scale:new g(s,s,1)},{easing:"quadInOut"}).start())}},s.onSpawnedByBamboozleShot=function(){},s.beghouledDragFail=function(t){var n;if(this.plantInLnC){null==(n=this.dragTween)||n.stop();var i=this.plantInLnC.plantPoint.worldPosition.clone().add(t.multiplyScalar(k.SquareWidth/3).toVec3());this.worldPositionX=i.x,this.worldPositionY=i.y,this.dragTween=u(this).to(.3,{worldPosition:this.plantInLnC.plantPoint.worldPosition.toVec2()},{easing:"quadOut"}).start()}},s.beghouledMatchNow=function(t){return!0},s.beghouledMatchSunCountExtra=function(t){return 0},s.beghouledMatch=function(t){!this.foodLightParticle&&this.beghouledMatchNow(t)&&(this.die(!1,!1,!1,!1),this.node.destroy())},s.die=function(t,n,i,e,a){var o=this;if(void 0===t&&(t=!0),void 0===n&&(n=!0),void 0===i&&(i=!0),void 0===e&&(e=!0),void 0===a&&(a=!1),!this.dead){var s;if(this.endangered&&(n&&this.levelTaskWarnPlantLose()&&x.component.killEndangeredPlant(this),this.endangered=!1),this.boomboxCD=0,n&&this.levelTaskWarnPlantLose())B.component.calculateLevelTask(T.PlantLoseLimit,{}),(null==(s=x.component)?void 0:s.fightAlonePlant)==this&&(B.component.loseDarken(null,y.getStringByPropsWithoutTricks("InGameScene","GameLoseTip","PlantEaten")),x.component.fightAlonePlant=null);this.arrow&&(q(this.arrow),this.arrow=null),this.fooding&&!a&&this.foodEnd(),this.isTeacher&&(j.getPlantProgressByID(this.ID).tutorialLevel=0),S.deletePlant(this),this.inLane.deletePlant(this),m.registerPlant(this.ID,-this.plantCount()),B.component.calculateLevelTask(T.PlantCountLimit,{AllPlantCount:S.getPlantAmount()});var l=this.plantInLnC;if(this.plantType==lt.plant){var h=l.plantInSquare.indexOf(this);-1!=h&&l.plantInSquare.splice(h,1)}else if(this.plantType==lt.vine){var r=l.vineInSquare.indexOf(this);-1!=r&&l.vineInSquare.splice(r,1)}else if(this.plantType==lt.tile){var d=l.tilePlantInSquare.indexOf(this);-1!=d&&l.tilePlantInSquare.splice(d,1)}else this.plantType==lt.lilyPad?l.lilyPad=null:this.plantType==lt.pot&&(l.floawerPot=null);t&&n&&!a&&this.specialPlantOnKilled(),l.readIndex(),t&&this.playDeathSound(),this.dead=!0,this.specialPlantDie(a),t&&(""==this.deathAnm?(i&&this.playDeathParticle(l),this.node.destroy()):(e&&-1!=this.anmControl.db.armature().animation.animationNames.indexOf(this.deathAnm)&&this.anmControl.playAnimation(this.deathAnm,1),this.anmControl.db.on(c.EventObject.COMPLETE,(function(t){i&&o.playDeathParticle(l),o.node.destroy()}),this)))}},s.playDeathParticle=function(t){var n=F.instantiatePooly(_.deadPlant());n.parent=t.squareLower.node,n.worldPosition=new g(this.worldPositionX,this.worldPositionY,0)},s.specialPlantDie=function(t){},s.specialPlantOnKilled=function(){},s.setHidden=function(t){this.hidden=this.hidden>t?this.hidden:t},s.onShadowPoweredChanged=function(){},s.judgeDarkPlantMode=function(){var t,n;this.haveDarkMode&&((null==(t=this.inLnC)?void 0:t.shadowCD)>0&&!this.ShadowPowered?(this.ShadowPowered=!0,this._darkSlots.forEach((function(t){t.displayIndex=1})),this.onShadowPoweredChanged()):(null==(n=this.inLnC)?void 0:n.shadowCD)<=0&&this.ShadowPowered&&(this.ShadowPowered=!1,this._darkSlots.forEach((function(t){t.displayIndex=0})),this.onShadowPoweredChanged()))},s.characterOnTileTypeChange=function(t,n){this.dead||this.specialOnTileTypeChange(t,n)},s.specialOnTileTypeChange=function(t,n){},s.onTileTypeChange=function(t,n,i){this.dead||this.fooding||this.invincible||this.pushTideListener(),this.dead||this.specialOnTileTypeChange(n,i)},s.onSkyFallEnd=function(){this.node.destroy()},s.fall=function(){this.dead||(this.die(!1),this.dieOnLnC(),this.anmControl.setTimeScale(0),this.anmControl.throwAllBackNFront(),this.fallInSky(!1))},s.absorbedByChiHole=function(t,n){var i=this;void 0===n&&(n=.5),this.dead||this.fooding||this.invincible||(this.die(!1,!0,!1),this.anmControl.setTimeScale(0),this.anmControl.throwAllBackNFront(),A.playPlantThrow(),this.threwAway=!0,u(this).to(n,{worldPositionX:t.worldPositionX,worldPositionY:t.worldPositionY,scale:.01*this.scale}).call((function(){i.node.destroy()})).start())},s.normalThrowAway=function(t,n,i,e){var a=this;if(void 0===t&&(t=!0),void 0===i&&(i=1),void 0===e&&(e=150),!this.dead&&!this.fooding&&!this.invincible){this.die(!1,!0,!1),this.anmControl.setTimeScale(0),this.anmControl.throwAllBackNFront(),A.playPlantThrow();var o=t?this.inLane.toLeft.worldPosition.x:this.inLane.toRight.worldPosition.x;this.threwAway=!0,u(this).to(i,{worldPositionX:o}).start(),u(this).to(i/2,{height:e},{easing:"quadOut"}).to(i/2,{height:0},{easing:"quadIn"}).call((function(){a.node.destroy()})).start(),u(this.node).by(i,{angle:90*(t?1:-1)}).start()}},s.throwAway=function(t,n,i,e){void 0===t&&(t=!0),void 0===n&&(n=null),void 0===i&&(i=1),void 0===e&&(e=150),this.normalThrowAway(t,n,i,e)},s.cannotBeKilledBySurfboard=function(){return this.objdataOwn.CannotBeKilledBySurfboard||this.invincible||this.fooding},s.pushTideListener=function(){var t,n;if(!this.invincible)if((null==(t=this.plantInLnC)?void 0:t.crackleCountdown)>0)this.burn();else{var i=null==(n=this.plantInLnC)?void 0:n.putPlantAvailable(!1,this.ID),e=this.plantInLnC.getTileType();if(e!=N.sea){if(!i){if(e==N.sky)return void this.fall();if(e==N.water&&!this.flyingPlant&&!this.amphibiousPlant)return void this.drown();this.dieOnLnC(),this.die()}}else this.drown(!0)}},s.drown=function(t){void 0===t&&(t=!1),this.die(!1),this.dieOnLnC(),t?_.spawnSeaSplash(this.lIndex,new g(this._worldPositionX,this._worldPositionY,10)):_.spawnWaterSplash(this.lIndex,new g(this._worldPositionX,this._worldPositionY,10)),this.node.destroy()},s.food=function(t){if(void 0===t&&(t=!0),!this.fooding&&this.foodable&&!this.dead&&!this.leapTween&&!this.sheepend){var n;if(null==(n=this.SpawnAnming)||n.stop(),this.body.position=new g(0,0,0),this.body.scale=new g(1,1,1),t){var i=F.instantiatePooly(_.foodLight());i.parent=this.inLnC.particleLowerPoint,i.setPosition(0,0,0);var e=i.getComponent(c.ArmatureDisplay);e.playAnimation("Start",1);var a=new d(255,255,255,255),o=this.inLnC.FoodLinkTile;o&&(a=o.foodLightColor),e.color=a;var s=this.foodParent?this.foodParent:this.inLane.foodPlantLayer;i.setParent(s,!0),i.setSiblingIndex(0),this.foodLightParticle=i,this.body.setParent(s,!0),A.playPlantFoodStart()}return this.hurting=60,this.fooding=!0,this.health=this.toughness,this.objdataOwn.WarmingRadiusPlantfood?this.hot=this.objdataOwn.WarmingRadiusPlantfood.PulseInitialDelay:this.objdataOwn.WarmingRadius&&(this.hot=this.objdataOwn.WarmingRadius.PulseInitialDelay),this.specialPlantFood(t),!0}return!1},s.specialPlantFood=function(t){},s.specialPlantFoodEnd=function(){},s.foodEnd=function(){var t;this.foodLightParticle&&this.foodLightParticle.getComponent(c.ArmatureDisplay).playAnimation("End",1),this.fooding=!1,this.hurting=60,this.foodLightParticle=null,this.node.isValid?this.body.setParent(this.node,!0):this.body.destroy(),this.body.position=new g(0,0,0),this.specialPlantFoodEnd(),this.pushTideListener(),null==(t=this.plantInLnC)||t.readIndex(),x.isBeghouled&&k.beghouledPlantDetect(this,this.plantInLnC,!0)},s.setBodyRec=function(t){this.bodyRec=C.createRectangleCenter(t,this.bodySize.width,this.bodySize.height)},s.isUmbrella=function(){return!1},s.umbrella=function(){return!1},s.haveUmbrellaNearby=function(){return this.inLnC.get3x3().some((function(t){var n;return null==t||null==(n=t.plantInSquare)?void 0:n.some((function(t){return t.isUmbrella()}))}))},s.dealDamage=function(t,n,i){if(void 0===t&&(t=0),void 0===n&&(n=0),void 0===i&&(i=0),!this.invincible&&this.damagable){if(this.fooding)return;if(1==n){var e=!1;if(this.inLnC.get3x3().forEach((function(t){var n;e||null==t||null==(n=t.plantInSquare)||n.forEach((function(t){e||t.umbrella()&&(e=!0)}))})),e)return;this.plantType==lt.plant?this.dealNormalDamage(t,n):this.plantType==lt.vine?this.inLnC.plantInSquare.length?this.inLnC.plantInSquare[0].dealDamage(t,n):this.dealNormalDamage(t,n):this.plantType!=lt.pot&&this.plantType!=lt.lilyPad||(this.inLnC.plantInSquare.length?this.inLnC.plantInSquare[0].dealDamage(t,n):this.inLnC.vineInSquare.length?this.inLnC.vineInSquare[0].dealDamage(t,n):this.dealNormalDamage(t,n))}else for(var a=this.inLnC.getAllPlants(),o=0;o<a.length;o++){var s;if(null!=(s=a[o])&&s.eaterDetectable||a[0]==this){var l;null==(l=a[o])||l.dealNormalDamage(t,n);break}}3==n&&this.health<=0&&this.burn()}return i>0&&!this.fooding&&(this.plantInLnC.iceblockPrepareLevel+=i),this.health},s.defaultHurtLightStrength=function(t){return t&&this.hurting>0?this.hurting:20},s.onDamaged=function(t,n,i){},s.setCountDownInvincible=function(t){this.countDownInvincible=this.countDownInvincible>t?this.countDownInvincible:t},s.setCountDownInvincibleGolden=function(t){this.countDownInvincibleGlitter=this.countDownInvincibleGlitter>t?this.countDownInvincibleGlitter:t},s.extraInvincible=function(){return!1},s.defaultDealNormalDamage=function(t,n){if(void 0===t&&(t=0),void 0===n&&(n=0),!this.invincible){var i=0==n;if(!i||this.eatDamagable){var e=this.health+0;return this.health-=t*this.damageScale(t,n),t>0&&(this.hurting=this.defaultHurtLightStrength(i),this.onDamaged(t,e,this.health+0)),this.health<=0&&this.onDamagedToHealthO(),this.health}}},s.damageScale=function(t,n){return 1},s.dealNormalDamage=function(t,n){return void 0===t&&(t=0),void 0===n&&(n=0),this.defaultDealNormalDamage(t,n)},s.onDamagedToHealthO=function(){this.dieOnLnC(),this.die()},s.shouldMaterial=function(){var t,n=new w(0,0,0,1),i=0,e=0,a=0;this.hurting>0&&(n.x+=this.hurting/60,n.y+=this.hurting/60,n.z+=this.hurting/60,e+=this.hurting/20),this.isAlive()&&null!=(t=this.plantInLnC)&&t.iceblock&&(i=1),this._cdScaleByPlantCD>0&&(e+=.5),this.hidden>0&&(n.x+=.4,n.y+=.4,n.z-=.2),a+=this.extraHolo;var o=0;this.highRedCD>0&&(o=1);this.countDownInvincibleGlitter>0&&(n.x=194/255,n.y=0,n.z=178/255);var s=this.material.passes[0].getHandle("addColor");this.material.passes[0].setUniform(s,n);var l=this.material.passes[0].getHandle("chillColor");this.material.passes[0].setUniform(l,i);var h=this.material.passes[0].getHandle("saturation");this.material.passes[0].setUniform(h,e);var r=this.material.passes[0].getHandle("holo");this.material.passes[0].setUniform(r,a);var d=this.material.passes[0].getHandle("HighRed");this.material.passes[0].setUniform(d,o);var u=this.material.passes[0].getHandle("goldColor");this.material.passes[0].setUniform(u,0),this.anmControl.db.customMaterial=this.material},s._getShouldColor=function(){var t;return this.isAlive()?null!=(t=this.plantInLnC)&&t.iceblock?new d(255,255,255,255):this.sheepend?new d(255,255,255,0):this.baseColor:new d(255,255,255,255)},s.shouldColor=function(){var t=this._getShouldColor();this.anmControl.bodyPartsDB.forEach((function(n){n.color=t}))},s.specialPlantOnMouseDown=function(){return!1},s.onMouseDown=function(t){if(!B.component.paused){if(t.getButton()==P.BUTTON_RIGHT)this.water();else if(x.gameStarted&&t.getButton()==P.BUTTON_LEFT&&-1==B.index&&!this.sheepend)return this.specialPlantOnMouseDown();return!1}},s.waterable=function(){return!0},s.water=function(){!this.fooding&&this.haveWaterAnimation&&!this.dead&&this.waterable()&&this.anmControl.playAnimation(this.waterAnm,1,this.waterAnmFadeinTime)},s.specialPlantOnEnable=function(){},s.lncStayable=function(t){},s.readLastDeadPlantInLnC=function(t,n){},s.characterOnEnable=function(){this.shaking=!1,this.boomboxCD=0,this.boomboxPar=null,this.countDownInvincible=0,this.countDownInvincibleGlitter=0,this._intensiveCarrot=null,this.shovelDropSun=!0,this._cdScaleByPlant=1,this._cdScaleByPlantCD=0,this._cdScaleFightAlone=1,this.short_=this.short,this.tall_=this.tall,this.bodyTweens=[],this.dead=!1,this.eaterDetectable=!0,this.smasherDetectable=!0,this.deathAnm="Death",this.ShadowPowered=!1,this.damagable=!0,S.registerPlant(this),this.fooding=!1,this.health=this.toughness,this.ShadowPowered=!this.haveDarkMode,this._invincible=!1,this.eatDamagable=!0,this.hidden=0,this.threwAway=!1,this.endangered=!1,this.isTeacher=!(j.getPlantProgressByID(this.ID).tutorialLevel>0),m.registerPlant(this.ID,this.plantCount()),this.specialPlantOnEnable()},s.specialPlantOnDisable=function(){},s.characterOnDisable=function(){this.fooding&&this.foodEnd(),this.die(!1,!1,!1,!1,!0),this.plantWave&&(this.plantWave.willBeKilled=!0,this.plantWave.getComponent(c.ArmatureDisplay).playAnimation("Fade"),this.plantWave=null),this.specialPlantOnDisable(),S.deletePlant(this),this.bodyTweens.forEach((function(t){null==t||t.stop()})),this.arrow&&(q(this.arrow),this.arrow=null)},s.specialPlantUpdate=function(t,n,i){},s.specialPlantLateUpdate=function(t){},s.lateUpdate=function(t){this.specialPlantLateUpdate(t)},s.blowStart=function(){return!1},s.plantHeat=function(t){this.hot>0&&(this.hot-=t);var n=this.objdataOwn.WarmingRadius;this.fooding&&this.objdataOwn.WarmingRadiusPlantfood&&(n=this.objdataOwn.WarmingRadiusPlantfood),n&&this.hot<=0&&(this.hot=0,this.inLnC.plantHeat(n)&&(this.hot=n.PulseCooldown))},s._replantableForLnC=function(){return this.replantable()&&(x.FirstAidSupplied||x.sandBoxModeOn||!this.replantableListensFirstAid())},s.replantable=function(){return!1},s.replantableListensFirstAid=function(){return!0},s.replant=function(){},s.divingStart=function(){},s.divingEnd=function(){},s.addWave=function(t){if(!this.flyingPlant){var n,i;if(t!=N.water||this.plantWave||!(this._depth>0)||this.inLnC.haveLilyPad||this.ID!=b.FloawerPot&&this.inLnC.haveFloawerPot||(this.plantWave=F.instantiatePooly(_.plantWaterWave()).getComponent(M),this.plantWave.getComponent(c.ArmatureDisplay).playAnimation("Idle",1/0),this.plantWave.node.parent=this.getPlantWaveParent()),this.plantWave){this.plantWave.node.worldPosition=new g(this._worldPositionX,this._worldPositionY);var e=3*this.originalShadeScale.x-.3;this.plantWave.node.scale=new g(e,e,1),(t!=N.water||this._depth<=0)&&(this.plantWave.db.playAnimation("Fade"),this.plantWave=null)}var a=this.depth;null!=(n=this.plantInLnC)&&n.lilyPad||null!=(i=this.plantInLnC)&&i.floawerPot||((this.amphibiousPlant||this.sheepend)&&(t==N.water||this.inLnC.currentTileLiquid)&&this.height<=0&&!this.threwAway?this.depth=this.depthScale*D.depth(this.worldPositionX,this.inLnC):this.plantType!=lt.pot&&(this.depth=0)),a<=0&&this.depth>0?this.divingStart():a>0&&this.depth<=0&&this.divingEnd()}},s.specialFloawerpotHeightScale=function(){return 1},s.bindsToPots=function(){return!0},s.characterUpdate=function(t){var n;this.schedulerX+=t;var i=null==(n=this.inLnC)?void 0:n.getTileType();if(this.countDownInvincible>0&&(this.countDownInvincible-=t,this.countDownInvincible<=0&&this.pushTideListener()),this.countDownInvincibleGlitter>0&&(this.countDownInvincibleGlitter-=t,this.countDownInvincibleGlitter<=0&&this.pushTideListener()),this.hidden>0&&this.hidden--,this.bodyRecHiddenCD>0&&(this.bodyRecHiddenCD-=t),this.judgeDarkPlantMode(),!this.dead&&this.bindsToPots()&&!this.leapTween&&(this.plantInLnC.haveFloawerPot&&this.plantType!=lt.pot||this.plantInLnC.haveLilyPad&&this.plantType!=lt.lilyPad)){var e=this.specialFloawerpotHeightScale()*(this.plantInLnC.orgPlantPoint.worldPosition.y-this.plantInLnC.plantPoint.worldPosition.y);this.plantInLnC.haveFloawerPot?(this.worldPosition=this.plantInLnC.floawerPot.worldPosition,i==N.water?this.height_depth=e:(this.depth=0,this.height=e)):this.plantInLnC.haveLilyPad&&(this.worldPosition=this.plantInLnC.lilyPad.worldPosition,this.depth=0,this.height=e)}var a=this.shouldSpeedScale();if(this.anmControl.fixTimeScale(a),this.boomboxPar&&(this.boomboxPar.worldPosition=this.worldPosition.toVec3()),this.boomboxCD>0&&!this.objdataOwn.ImmuneToBoomBox&&(a=0,this.boomboxCD-=t),x.gameStarted&&!x.component.gameWon&&!this.dead&&!this.leapTween&&this.inLnC&&this.inLane&&(this.specialPlantUpdate(t*a,t,a),this.plantHeat(t)),x.gaming&&this.isTeacher&&this.teach(),this._cdScaleByPlantCD>0&&(this._cdScaleByPlantCD-=t,this._cdScaleByPlantCD<=0&&(this._cdScaleByPlant=1)),this.arrow&&(this.arrow.worldPosition=this.node.worldPosition.clone().add3f(0,20,1),this.arrowCountdown-=t,this.arrowCountdown<=0&&(q(this.arrow),this.arrow=null)),this.foodLightParticle&&(this.foodLightParticle.worldPosition=this.worldPosition.toVec3()),this.hurting>0?this.hurting-=60*t*(this.fooding?4:1):this.hurting=0,this.beghouledHintLeftTime>0&&this.hurting<=0&&(this.hurting=this.defaultHurtLightStrength(!1),this.beghouledHintLeftTime--),this.shouldMaterial(),this.shouldColor(),this.addWave(i),this.specialPlantUpdateForce(t*a,t,a),this.body.parent!=this.node&&(this.body.worldPosition=new g(this.worldPositionX,this.worldPositionY+this.height,0)),this.highRedCD>0&&(this.highRedCD-=t),this.body.parent!=this.node){this._scaleForCharacter;this.body.worldScale=this.node.worldScale,this.body.worldRotation=this.node.worldRotation}},s.specialPlantUpdateForce=function(t,n,i){},o(n,[{key:"objdataOwn",get:function(){return this._objdataOwn}},{key:"objdata",get:function(){return this._objdata},set:function(t){this.modObjdataOwn(t),this._objdata=t}},{key:"sheepend",get:function(){return this.plantInLnC&&(null!=this.plantInLnC.sheep||null!=this.plantInLnC.octopus||null!=this.plantInLnC.iceblock||null!=this._intensiveCarrot)}},{key:"endangered",get:function(){return this._endangered},set:function(t){var n;if(this._endangered&&!t)null==(n=this._endangerdTile)||null==(n=n.db)||n.playAnimation("Die",1),this._endangerdTile=null;else if(!this._endangered&&t){var i,e=E(v.endangeredTile());e.parent=this.plantInLnC.inLane.tileLayer,e.worldPosition=this.plantInLnC.node.worldPosition,this._endangerdTile=e.getComponent(M),null==(i=this._endangerdTile)||null==(i=i.db)||i.playAnimation("Idle",1/0)}this._endangered=t}},{key:"foodable",get:function(){return this._foodable&&!this.sheepend},set:function(t){var n;this._foodable=t,null==(n=this.plantInLnC)||n.readIndex()}},{key:"_cdScale",get:function(){return this._cdScaleByPlant*this._cdScaleFightAlone}},{key:"suncost",get:function(){return this.SUNCOST*this.plantCount()}},{key:"bodyRecForSnowball",get:function(){var t;return null!=(t=this.inLnC)&&t.iceblock?this._bodyRec:this.realBodyRec}},{key:"realBodyRec",get:function(){return this.sheepend?new C:this._bodyRec}},{key:"bodyRec",get:function(){return this.leapTween?new C:this.bodyRecForAnkyloKnockedZombies},set:function(t){this._bodyRec=t}},{key:"bodyRecForAnkyloKnockedZombies",get:function(){return this.hidden>0||this.sheepend||this.bodyRecHiddenCD>0?new C:this._bodyRec}},{key:"invincible",get:function(){return this._invincible||this.extraInvincible()||this.countDownInvincible>0||this.countDownInvincibleGlitter>0||this.sheepend||!!this.leapTween||this.fooding},set:function(t){this._invincible=t,this.plantInLnC&&this.pushTideListener()}},{key:"boomboxCD",get:function(){return this._boomboxCD},set:function(t){t<=0&&this._boomboxCD>=0&&this.boomboxPar&&(F.destroyPooly(this.boomboxPar),this.boomboxPar=null),this._boomboxCD=t}}]),n}(W)).prototype,"tall",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),$=n(Z.prototype,"short",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),tt=n(Z.prototype,"deadSound",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),nt=n(Z.prototype,"haveDarkMode",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),it=n(Z.prototype,"bodySize",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new r(48,72)}}),et=n(Z.prototype,"baseColor",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new d(255,255,255,255)}}),at=n(Z.prototype,"haveWaterAnimation",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),J=Z))||J));s._RF.pop()}}}));

System.register("chunks:///_virtual/Plantern.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./SoundRescourses.ts","./CharacterManager.ts","./ParticleSelfdestroy.ts","./NodePools.ts","./Square.ts","./levelController.ts"],(function(n){var t,o,e,i,a,l,r,s,u,d,c,h,f,p,P,m;return{setters:[function(n){t=n.applyDecoratedDescriptor,o=n.inheritsLoose,e=n.initializerDefineProperty,i=n.assertThisInitialized},function(n){a=n.cclegacy,l=n._decorator,r=n.AudioClip,s=n.Prefab},function(n){u=n.Plant},function(n){d=n.sounds},function(n){c=n.Rectangle,h=n.ZombiePool},function(n){f=n.ParticleSelfdestroy},function(n){p=n.NodePools},function(n){P=n.Square},function(n){m=n.LevelPlay}],execute:function(){var g,L,v,b,y,S,A;a._RF.push({},"3829aoV15JHDaouu54xOnZQ","Plantern",void 0);var C=l.ccclass,R=l.property;n("PlanternPlant",(g=C("PlanternPlant"),L=R(r),v=R(s),g((S=t((y=function(n){function t(){for(var t,o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return(t=n.call.apply(n,[this].concat(a))||this).fooded=!1,t.sunAdd=25,t.detecter=new c,e(t,"sunBlastSound",S,i(t)),e(t,"lightLoopPrefab",A,i(t)),t.lightLoop=void 0,t}o(t,n);var a=t.prototype;return a.specialPlantOnEnable=function(){this.fooded=!1,this.anmControl.IdleAnim="Idle",this.anmControl.RandomAnim=["Rand"],this.lightLoop=null},a.specialPlantFood=function(n){this.anmControl.playAnimation("Food",1),this.fooded=!0,this.anmControl.IdleAnim="Idle_Food",this.anmControl.RandomAnim=[],this.foodable=!1},a.animationListener=function(n){var t=this;"foodEnd"==n.name?this.foodEnd():"SunBlast"==n.name&&(this.fooded=!0,d.playOneShot(this.sunBlastSound,1,.2),h.pool().concat().forEach((function(n){n.isRealZombie&&(n.haveSun=n.haveSun>t.sunAdd?n.haveSun:t.sunAdd)})))},a.specialPlantOnSquareChange=function(n,t){var o;if(null==(o=this.lightLoop)||null==(o=o.db)||o.playAnimation("Die"),this.lightLoop=null,this.detecter=c.createRectangleNodeCenter(t.node,3*P.SquareWidth,3*P.SquareHeight),!this.dead){var e=p.instantiatePooly(this.lightLoopPrefab);e.parent=this.inLane.prjLayer,e.worldPosition=t.node.worldPosition,this.lightLoop=e.getComponent(f),this.lightLoop.db.playAnimation("Idle",1/0)}},a.specialPlantDie=function(n){var t;null==(t=this.lightLoop)||null==(t=t.db)||t.playAnimation("Die"),this.lightLoop=null},a.waterable=function(){return!this.fooded},a.specialPlantUpdate=function(n,t,o){var e,i,a,l=this;this.fooded&&(null==(a=this.inLnC)||a.get3x3().forEach((function(n){var t;null==n||null==(t=n.getAllPlants())||t.forEach((function(n){n.ID!=l.ID&&n.setHidden(3)}))})));[this.inLane,null==(e=this.inLane)?void 0:e.UpperLane,null==(i=this.inLane)?void 0:i.LowerLane].forEach((function(n){n.zombiePool().forEach((function(n){n.isRealZombie&&n.isAlive()&&l.detecter.judgeCrossRec(n.bodyRecReal)&&(m.component.ExcludeListSunProducers||(n.haveSun=Math.max(l.sunAdd,n.haveSun)),n.setSunBeanParticleCD(.5))}))}))},a.specialPlantFoodEnd=function(){this.anmControl.playIdle()},t}(u)).prototype,"sunBlastSound",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=t(y.prototype,"lightLoopPrefab",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=y))||b));a._RF.pop()}}}));

System.register("chunks:///_virtual/plantFood.ts",["./rollupPluginModLoBabelHelpers.js","cc","./dropping.ts","./PlantFoodCount.ts","./SoundRescourses.ts","./levelController.ts","./SandBoxLevelSettingWindow.ts","./Materials.ts","./KeyListener.ts","./MultiLanguage.ts"],(function(n){var o,t,e,i,a,l,r,u,c,p,s,d,f,g,F,y,h;return{setters:[function(n){o=n.applyDecoratedDescriptor,t=n.inheritsLoose,e=n.initializerDefineProperty,i=n.assertThisInitialized,a=n.createClass},function(n){l=n.cclegacy,r=n._decorator,u=n.AudioClip,c=n.Color},function(n){p=n.dropping},function(n){s=n.PlantFoodCount},function(n){d=n.sounds},function(n){f=n.LevelPlay},function(n){g=n.SandBoxLevelSettingWindow},function(n){F=n.materialRes},function(n){y=n.KeyListener},function(n){h=n.MultiLanguage}],execute:function(){var v,m,L,C,D,S;l._RF.push({},"5176faDmB5OmZE/e9j24mx+","plantFood",void 0);var P=r.ccclass,_=r.property;n("plantFood",(v=P("plantFood"),m=_(u),v(((S=function(n){function o(){for(var o,t=arguments.length,a=new Array(t),l=0;l<t;l++)a[l]=arguments[l];return o=n.call.apply(n,[this].concat(a))||this,e(o,"startingSound",D,i(o)),o}t(o,n);var l=o.prototype;return l.specialDroppingOnLoad=function(){var n;null!=(n=s.component)&&null!=(n=n.icon)&&null!=(n=n.node)&&n.active&&(this.ui=s.component.icon.node)},l.onGroundHit=function(){},l.specialDroppingOnEnable=function(){this.fadingOn(),d.playOneShot(this.startingSound)},l.specialCollectable=function(){var n=!s.component.full()||g.freePF;return n||f.component.gameWon||(o.PlantFoodFullWarned||(o.PlantFoodFullWarned=!0,y.gameTipString(h.getDirectQuote("[ADVICE_PLANT_FOOD_BANK_FULL]"),5)),d.playCardChooseFailed(!0)),n},l.specialDroppingUpdate=function(n,o){this.db.color=this.fadingCountdown<=3?F.plantfoodWarnColor:new c(255,255,255,255)},l.specialGoToUI=function(n){s.component.plantFoodAdd()},a(o,[{key:"DroppingType",get:function(){return"plantfood"}}]),o}(p)).PlantFoodFullWarned=!1,D=o((C=S).prototype,"startingSound",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=C))||L));l._RF.pop()}}}));

System.register("chunks:///_virtual/PlantFoodCount.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UI.ts","./NodePools.ts","./SandBoxLevelSettingWindow.ts","./SettingWindow.ts","./levelController.ts","./PlayerProperties.ts","./SoundRescourses.ts","./KeyListener.ts"],(function(t){var o,n,i,e,s,l,a,d,h,r,u,c,p,y,m,f,v,w,g,C,P,F,k,b,N,T,S,B,I,A;return{setters:[function(t){o=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,e=t.assertThisInitialized,s=t.createClass},function(t){l=t.cclegacy,a=t._decorator,d=t.AudioClip,h=t.Prefab,r=t.dragonBones,u=t.Node,c=t.Color,p=t.Vec3,y=t.AnimationComponent,m=t.EventMouse,f=t.tween,v=t.KeyCode,w=t.find,g=t.Label,C=t.UITransform,P=t.instantiate,F=t.Component},function(t){k=t.UIInGame},function(t){b=t.NodePools},function(t){N=t.SandBoxLevelSettingWindow},function(t){T=t.SettingWindow},function(t){S=t.LevelPlay},function(t){B=t.AllPlayerProperties},function(t){I=t.sounds},function(t){A=t.KeyListener}],execute:function(){var L,x,E,U,O,D,_,W,K,z,M,G,R,H,j,J,Y,V;l._RF.push({},"954fdB0gXpF/Jaj7g2CsJh0","PlantFoodCount",void 0);var X=a.ccclass,q=a.property;t("PlantFoodCount",(L=X("PlantFoodCount"),x=q(d),E=q(d),U=q(d),O=q(h),D=q(r.ArmatureDisplay),_=q(r.ArmatureDisplay),W=q(u),L(((V=function(t){function o(){for(var o,n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(o=t.call.apply(t,[this].concat(s))||this).initialSunCount=0,i(o,"collectSound",M,e(o)),i(o,"activateSound",G,e(o)),i(o,"cheatAddSound",R,e(o)),i(o,"plantFoodInHand",H,e(o)),o.maxCount=3,o.slot=[],o.plantFoodNum=0,o.chosen=void 0,o.keyTip=void 0,o.ui=void 0,o.keyRED=new c(255,100,100,255),o.keyGREEN=new c(100,255,100,255),o.keyYELLOW=new c(245,255,0,255),i(o,"collectLight",j,e(o)),i(o,"icon",J,e(o)),i(o,"addButton",Y,e(o)),o.busyCollecting=!1,o.oldpos=new p(0,0,0),o.conveyorpos=new p(0,75,0),o.shown=!0,o}n(o,t),o.plantfoodWarn=function(){this.component.plantfoodWarn()};var l=o.prototype;return l.plantfoodWarn=function(){this.getComponent(y).play("plantfoodWarn")},l.setKeyTipColor=function(){if(this.keyTip){if(!T.showKeyTips)return void(this.keyTip.color=new c(0,0,0,0));this.plantFoodNum>0||N.freePF?this.keyTip.color=this.chosen?this.keyGREEN:this.keyYELLOW:this.keyTip.color=this.keyRED,this.keyTip.node.scale=this.chosen?new p(.9,.9):new p(.7,.7)}},l.addMouseChild=function(){I.playOneShot(this.activateSound,1,0);var t=b.instantiatePooly(this.plantFoodInHand);t.parent=this.ui.plantInHandLayer,t.setPosition(-14,-20,0)},l.choose=function(){this.chosen=-3==this.ui.index,this.chosen?this.icon.playAnimation("Pushed"):this.icon.playAnimation("Idle")},l.setPlantFoodNum=function(t){var o=t+0;o>this.maxCount?o=this.maxCount:o<0&&(o=0),this.plantFoodNum=o;for(var n=0;n<this.maxCount;n++)n<o?this.slot[n].playAnimation("Collecting"):this.slot[n].playAnimation("Empty");this.choose()},l.plantFoodAdd=function(){this.shown||this._show(S.component.conveyor),this.plantFoodNum<this.maxCount&&(this.plantFoodNum++,I.playOneShot(this.collectSound,1,.1),this.slot[this.plantFoodNum-1].playAnimation("Collecting"),this.busyCollecting||(this.collectLight.playAnimation("IconCollecting",1),this.busyCollecting=!0),this.choose(),S.component.gameWon&&S.component.saveDangerroomPlayerProperties(),B.savePP())},l.plantFoodDec=function(){this.plantFoodNum>0&&(this.slot[this.plantFoodNum-1].playAnimation("Empty"),this.plantFoodNum--,this.choose())},l.onMouseDown=function(t){if(t.preventSwallow=!0,t.getButton()==m.BUTTON_LEFT){var o=this.plantFoodNum;this.plantFoodAdd(),o<this.plantFoodNum&&I.playOneShot(this.cheatAddSound,1,.1)}},o.show=function(t,n){var i;void 0===t&&(t=!1),void 0===n&&(n=null),null==(i=o.component)||i._show(t,n)},o.hide=function(){var t;null==(t=o.component)||t._hide()},o.keyOn=function(){var t;null==(t=o.component)||t._keyOn()},l._show=function(t,o){var n;(void 0===t&&(t=!1),void 0===o&&(o=null),this.shown)||(null!=(n=this.keyTip)&&n.node&&(this.keyTip.node.active=!0),T.allowCheat||S.sandBoxModeOn||this.addButton.position.add(new p(-1e3,1e3,0)),this.shown=!0,f(this.node).to(.4,{position:!k.PocketUI&&t?this.conveyorpos:this.oldpos},{easing:"cubicOut"}).call((function(){o&&o()})).start())},l._hide=function(){var t;this.shown&&(null!=(t=this.keyTip)&&null!=(t=t.node)&&t.active&&(this.keyTip.node.active=!1),this.shown=!1,f(this.node).by(.4,{position:new p(0,k.PocketUI?-600:600,0)},{easing:"cubicIn"}).start())},l.start=function(){this.keyTip.string=A.KeyCodeToString(v[A.KeyBinds.Game_Plantfood])},l.full=function(){return this.maxCount<=this.plantFoodNum},l._keyOn=function(){this.keyTip&&(this.keyTip.node.worldPosition=new p(this.node.worldPosition.x,this.node.worldPosition.y-20,0))},l.rotate=function(t){if(void 0===t&&(t=!0),!k.PocketUI){var o=this.node.getChildByName("slotParent");t?(o.angle=0,o.scale=new p(1,1,1)):(o.angle=-90,o.scale=new p(1,-1,1))}},l.update=function(t){this.setKeyTipColor()},l.onLoad=function(){var t,n=this;if(this.maxCount=S.BasePFSlotcount,this.node.position=k.PocketUI?new p(-350,-280,0):new p(-440,200,0),o.component=this,this.oldpos=this.node.position.clone(),this.conveyorpos.add(this.oldpos),this.rotate(),this.node.position.add3f(0,k.PocketUI?-600:600,0),this.shown=!1,this.ui=this.node.parent.getComponent(k),this.chosen=!1,w("Canvas/UIInGameUpper/KeyTip/KeyF")&&(this.keyTip=null==(t=w("Canvas/UIInGameUpper/KeyTip/KeyF"))?void 0:t.getComponent(g)),this.keyTip&&(this.keyTip.node.worldPosition=new p(this.node.worldPosition.x,this.node.worldPosition.y-20,0)),!T.allowCheat&&this.addButton&&(this.addButton.active=!1),!k.PocketUI){var i=w("Canvas/UIInGame/SunSlot/add");i&&this.addButton.setWorldPosition(i.worldPosition.x,this.addButton.worldPosition.y,0)}this.slot.push(this.node.getChildByName("slotParent").getChildByName("slots").getChildByName("slot").getComponent(r.ArmatureDisplay)),this.node.getChildByName("slotParent").getChildByName("plantFoodSlots").getComponent(C).width=316+48*(this.maxCount-3);for(var e=1;e<this.maxCount;e++){var s=P(this.slot[0].node);s.parent=this.slot[0].node.parent,s.setPosition(this.slot[e-1].node.position.x+48,this.slot[e-1].node.position.y,0),this.slot.push(s.getComponent(r.ArmatureDisplay))}this.node.getChildByName("add").on(u.EventType.MOUSE_DOWN,this.onMouseDown,this),this.collectLight.on(r.EventObject.COMPLETE,(function(){n.busyCollecting=!1}),this),this.choose()},s(o,null,[{key:"plantFoodNum",get:function(){return this.component.plantFoodNum}}]),o}(F)).component=void 0,M=o((z=V).prototype,"collectSound",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=o(z.prototype,"activateSound",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=o(z.prototype,"cheatAddSound",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=o(z.prototype,"plantFoodInHand",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=o(z.prototype,"collectLight",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=o(z.prototype,"icon",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=o(z.prototype,"addButton",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=z))||K));l._RF.pop()}}}));

System.register("chunks:///_virtual/PlantIcon.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CardFeatureTotal.ts","./Materials.ts"],(function(t){var e,r,n,a,i,c,o,l,s,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,n=t.initializerDefineProperty,a=t.assertThisInitialized,i=t.createClass},function(t){c=t.cclegacy,o=t._decorator,l=t.Component},function(t){s=t.CardFeatureTotal},function(t){u=t.materialRes}],execute:function(){var p,f,y,h,g;c._RF.push({},"618abk4o/lCirOmyspVGilh","PlantIcon",void 0);var d=o.ccclass,_=o.property;t("PlantIcon",(p=d("PlantIcon"),f=_(s),p((g=e((h=function(t){function e(){for(var e,r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return e=t.call.apply(t,[this].concat(i))||this,n(e,"cf",g,a(e)),e._grey=!1,e}r(e,t);var c=e.prototype;return c.start=function(){this.cf.ca.almanacModeOn=!0},c.switchPlant=function(t){this.cf.cardGrouper(t,!1)},i(e,[{key:"grey",get:function(){return this._grey},set:function(t){this._grey=t,this.cf.ca._plant.customMaterial=t?u.greyMaterial:null}}]),e}(l)).prototype,"cf",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=h))||y));c._RF.pop()}}}));

System.register("chunks:///_virtual/Plants.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CardFeatureTotal.ts","./MultiLanguage.ts","./foodLinkTile.ts","./Square.ts","./Tiles.ts","./SandBoxLevelSettingWindow.ts","./SettingWindow.ts","./PlayerProperties.ts","./PlantIcon.ts","./JSONs.ts"],(function(e){var t,n,a,r,o,i,l,u,s,p,c,h,P,d,g,S,m,f,T,b,w,B,y,k;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,a=e.initializerDefineProperty,r=e.assertThisInitialized,o=e.asyncToGenerator,i=e.regeneratorRuntime},function(e){l=e.cclegacy,u=e._decorator,s=e.SpriteFrame,p=e.JsonAsset,c=e.Prefab,h=e.instantiate,P=e.Component,d=e.resources},function(e){g=e.PlantsInCard},function(e){S=e.MultiLanguage},function(e){m=e.FoodLinkTileTypeEnum},function(e){f=e.Square},function(e){T=e.TileEnum},function(e){b=e.SandBoxLevelSettingWindow},function(e){w=e.SettingWindow},function(e){B=e.AllPlayerProperties},function(e){y=e.PlantIcon},function(e){k=e.PvZ2Object}],execute:function(){var C,E,v,G,D,I,L,M,A,R,O,F,N;l._RF.push({},"69863LwbzhG4o6A+BjtBkHR","Plants",void 0);var x=u.ccclass,W=u.property,_=e("PlantEnum",function(e){return e[e.Peashooter=0]="Peashooter",e[e.Sunflower=1]="Sunflower",e[e.Wallnut=2]="Wallnut",e[e.PotatoMine=3]="PotatoMine",e[e.CabbagePult=4]="CabbagePult",e[e.Bloomerang=5]="Bloomerang",e[e.IcebergLettuce=6]="IcebergLettuce",e[e.BonkChoy=7]="BonkChoy",e[e.Repeater=8]="Repeater",e[e.MegaGatlingPea=9]="MegaGatlingPea",e[e.ScaredyShroom=10]="ScaredyShroom",e[e.FumeShroom=11]="FumeShroom",e[e.GraveBuster=12]="GraveBuster",e[e.Pumpkin=13]="Pumpkin",e[e.PeaVine=14]="PeaVine",e[e.FloawerPot=15]="FloawerPot",e[e.FirePeashooter=16]="FirePeashooter",e[e.ThreePeater=17]="ThreePeater",e[e.PrimalPea=18]="PrimalPea",e[e.Rotobaga=19]="Rotobaga",e[e.HomingThistle=20]="HomingThistle",e[e.StarFruit=21]="StarFruit",e[e.ShootingStarfruit=22]="ShootingStarfruit",e[e.LilyPad=23]="LilyPad",e[e.SunShroom=24]="SunShroom",e[e.TwinSunflower=25]="TwinSunflower",e[e.Dragonbruit=26]="Dragonbruit",e[e.Moonflower=27]="Moonflower",e[e.SnowPea=28]="SnowPea",e[e.LightningReed=29]="LightningReed",e[e.KernelPult=30]="KernelPult",e[e.MeteorFlower=31]="MeteorFlower",e[e.SpringBean=32]="SpringBean",e[e.UmbrellaLeaf=33]="UmbrellaLeaf",e[e.MelonPult=34]="MelonPult",e[e.WinterMelon=35]="WinterMelon",e[e.Blover=36]="Blover",e[e.Spikeweed=37]="Spikeweed",e[e.Spikerock=38]="Spikerock",e[e.Chomper=39]="Chomper",e[e.GlacierShroom=40]="GlacierShroom",e[e.PrimalWallnut=41]="PrimalWallnut",e[e.Buttercup=42]="Buttercup",e[e.BananaLauncher=43]="BananaLauncher",e[e.MissileToe=44]="MissileToe",e[e.CherryBomb=45]="CherryBomb",e[e.DoomShroom=46]="DoomShroom",e[e.CranJelly=47]="CranJelly",e[e.BabyDragonbruit=48]="BabyDragonbruit",e[e.Torchwood=49]="Torchwood",e[e.Jalapeno=50]="Jalapeno",e[e.PuffShroom=51]="PuffShroom",e[e.GloomVine=52]="GloomVine",e[e.Vamporcini=53]="Vamporcini",e[e.PrimalPotatoMine=54]="PrimalPotatoMine",e[e.Cactus=55]="Cactus",e[e.PowerLily=56]="PowerLily",e[e.CoconutCannon=57]="CoconutCannon",e[e.PeaPod=58]="PeaPod",e[e.SnapDragon=59]="SnapDragon",e[e.GatlingPea=60]="GatlingPea",e[e.SplitPea=61]="SplitPea",e[e.ChiliBean=62]="ChiliBean",e[e.Tallnut=63]="Tallnut",e[e.Hurrikale=64]="Hurrikale",e[e.Stallia=65]="Stallia",e[e.ElectricPeashooter=66]="ElectricPeashooter",e[e.Squash=67]="Squash",e[e.GloomShroom=68]="GloomShroom",e[e.MagnifyingGrass=69]="MagnifyingGrass",e[e.CeleryStalker=70]="CeleryStalker",e[e.Sapfling=71]="Sapfling",e[e.Parsnip=72]="Parsnip",e[e.ExplodeONut=73]="ExplodeONut",e[e.Grapeshot=74]="Grapeshot",e[e.Plantern=75]="Plantern",e[e.HeavenlyPeach=76]="HeavenlyPeach",e[e.JackOLantern=77]="JackOLantern",e[e.Dandelion=78]="Dandelion",e[e.ChardGuard=79]="ChardGuard",e[e.HypnoShroom=80]="HypnoShroom",e[e.ElectricCurrant=81]="ElectricCurrant",e[e.EscapeRoot=82]="EscapeRoot",e[e.Imitater=83]="Imitater",e[e.ShadowShroom=84]="ShadowShroom",e[e.MagnetShroom=85]="MagnetShroom",e[e.Turnip=86]="Turnip",e[e.EMPeach=87]="EMPeach",e[e.Citron=88]="Citron",e[e.LaserBean=89]="LaserBean",e[e.SolarTomato=90]="SolarTomato",e[e.TileTurnipAlpha=91]="TileTurnipAlpha",e[e.TileTurnipBeta=92]="TileTurnipBeta",e[e.TileTurnipGamma=93]="TileTurnipGamma",e[e.TileTurnipDelta=94]="TileTurnipDelta",e[e.TileTurnipEpsilon=95]="TileTurnipEpsilon",e[e.InfiNut=96]="InfiNut",e[e.TileTurnip=97]="TileTurnip",e[e.MariGold=98]="MariGold",e[e.MariGoldRed=99]="MariGoldRed",e[e.MariGoldOrange=100]="MariGoldOrange",e[e.MariGoldYellow=101]="MariGoldYellow",e[e.MariGoldGreen=102]="MariGoldGreen",e[e.MariGoldBlue=103]="MariGoldBlue",e[e.MariGoldPink=104]="MariGoldPink",e[e.MariGoldPurple=105]="MariGoldPurple",e[e.AppleMortar=106]="AppleMortar",e[e.RedStinger=107]="RedStinger",e[e.Skyshooter=108]="Skyshooter",e[e.SunBean=109]="SunBean",e[e.Peanut=110]="Peanut",e[e.PotionSpeed=111]="PotionSpeed",e[e.PotionToughness=112]="PotionToughness",e[e.PotionInvisibility=113]="PotionInvisibility",e[e.TangleKelp=114]="TangleKelp",e[e.BowlingBulb=115]="BowlingBulb",e[e.BowlingBulbSpawner1=116]="BowlingBulbSpawner1",e[e.BowlingBulbSpawner2=117]="BowlingBulbSpawner2",e[e.BowlingBulbSpawner3=118]="BowlingBulbSpawner3",e[e.BowlingBulbSpawnerExplode=119]="BowlingBulbSpawnerExplode",e[e.Guacodile=120]="Guacodile",e[e.BowlingSpawnerWallNut=121]="BowlingSpawnerWallNut",e[e.BowlingSpawnerExplodeONut=122]="BowlingSpawnerExplodeONut",e[e.BowlingSpawnerInfiNut=123]="BowlingSpawnerInfiNut",e[e.BowlingSpawnerPrimalWallNut=124]="BowlingSpawnerPrimalWallNut",e[e.BowlingBulbSpawnerIceberg=125]="BowlingBulbSpawnerIceberg",e[e.BowlingSpawnerTallNut=126]="BowlingSpawnerTallNut",e[e.GhostPepper=127]="GhostPepper",e[e.SweetPotato=128]="SweetPotato",e[e.PepperPult=129]="PepperPult",e[e.HotPotato=130]="HotPotato",e[e.Stunion=131]="Stunion",e[e.GoldLeaf=132]="GoldLeaf",e[e.AKEE=133]="AKEE",e[e.Endurian=134]="Endurian",e[e.Toadstool=135]="Toadstool",e[e.LavaGuava=136]="LavaGuava",e[e.PhatBeet=137]="PhatBeet",e[e.Strawburst=138]="Strawburst",e[e.ThymeWarp=139]="ThymeWarp",e[e.PhatBeetRhythm=140]="PhatBeetRhythm",e[e.SeaShroom=141]="SeaShroom",e[e.Garlic=142]="Garlic",e[e.ElectricBlueBerry=143]="ElectricBlueBerry",e[e.SporeShroom=144]="SporeShroom",e[e.IntensiveCarrot=145]="IntensiveCarrot",e[e.PrimalSunflower=146]="PrimalSunflower",e[e.MoonBean=147]="MoonBean",e[e.ColdSnapDragon=148]="ColdSnapDragon",e[e.NightShade=149]="NightShade",e[e.DuskLobber=150]="DuskLobber",e[e.Grimrose=151]="Grimrose",e[e.GoldBloom=152]="GoldBloom",e[e.BloomingHeart=153]="BloomingHeart",e[e.ShrinkingViolet=154]="ShrinkingViolet",e[e.HotDate=155]="HotDate",e[e.FireGourd=156]="FireGourd",e[e.BambooShoot=157]="BambooShoot",e[e.Snowdrop=158]="Snowdrop",e[e.Lychee=159]="Lychee",e[e.PerfumeShroom=160]="PerfumeShroom",e[e.SolarSage=161]="SolarSage",e[e.Bamboozle=162]="Bamboozle",e[e.BambooBusket=163]="BambooBusket",e[e.Cantaloupe=164]="Cantaloupe",e[e.Iceweed=165]="Iceweed",e[e.amount=166]="amount",e}({})),H=function(e){return e[e.default=0]="default",e[e.egypt=1]="egypt",e[e.pirate=2]="pirate",e[e.cowboy=3]="cowboy",e[e.kongfu=4]="kongfu",e[e.future=5]="future",e[e.dark=6]="dark",e[e.beach=7]="beach",e[e.beach_water=8]="beach_water",e[e.ice=9]="ice",e[e.lostcity=10]="lostcity",e[e.eighties=11]="eighties",e[e.dino=12]="dino",e[e.modern=13]="modern",e[e.boost=14]="boost",e[e.market=15]="market",e[e.sky=16]="sky",e}(H||{}),J=function(){this.ID=0,this.amount=0},j=e("plants",function(){function e(){}return e.getPlantIcon=function(e){var t=h(this.plantRes.plantIcon);return t.parent=e,t.getComponent(y)},e.reorderPlants=function(e){var t=this;return e.sort((function(e,n){return t.defaultPlantChooserOrder.indexOf(e)-t.defaultPlantChooserOrder.indexOf(n)}))},e.getPlantsInCard=function(){var e=o(i().mark((function e(t,n){var a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===n&&(n=!1),t!=_.TileTurnip){e.next=5;break}return e.next=4,this.getPlantsInCard(this.getTileTurnipID(),n);case 4:return e.abrupt("return",e.sent);case 5:return e.next=7,this.loadPlantsInCard(t,n);case 7:if(a=e.sent){e.next=10;break}return e.abrupt("return",this.loadPlantsInCard(_.Peashooter,n));case 10:return e.abrupt("return",a);case 11:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),e.getTileTurnipID=function(){switch(this.TileTurnipType){case m.alpha:return _.TileTurnipAlpha;case m.beta:return _.TileTurnipBeta;case m.gamma:return _.TileTurnipGamma;case m.delta:return _.TileTurnipDelta;default:return _.TileTurnipEpsilon}},e.getPlantFeature=function(e){return e==_.TileTurnip?this.getPlantFeature(this.getTileTurnipID()):e<this.plantRes.PlantFeatures.length&&e>=0?this.plantRes.PlantFeatures[e]:this.plantRes.PlantFeatures[0]},e.getPlantAmount=function(e,t){void 0===t&&(t=1/0);var n=!1,a=0;return f.getAllLnC().forEach((function(r){n||(r.getAllPlants().forEach((function(r){n||r.ID==e&&(a+=r.plantCount(),n=a>=t)})),r.tilesInSquare.forEach((function(r){n||((e==_.TileTurnipAlpha&&r.tileID==T.foodLinker&&r.foodLinkID==m.alpha||e==_.TileTurnipBeta&&r.tileID==T.foodLinker&&r.foodLinkID==m.beta||e==_.TileTurnipDelta&&r.tileID==T.foodLinker&&r.foodLinkID==m.delta||e==_.TileTurnipGamma&&r.tileID==T.foodLinker&&r.foodLinkID==m.gamma||e==_.TileTurnipEpsilon&&r.tileID==T.foodLinker&&r.foodLinkID==m.epsilon)&&a++,n=a>=t)})))})),a},e.getPlantEnumByCodename=function(e,t){void 0===t&&(t=!0);var n=e.concat(),a=-1;return"tool_powertile_alpha"==n?this.TileTurnipType==m.alpha?_.TileTurnipEpsilon:_.TileTurnipAlpha:"tool_powertile_beta"==n?this.TileTurnipType==m.beta?_.TileTurnipEpsilon:_.TileTurnipBeta:"tool_powertile_gamma"==n?this.TileTurnipType==m.gamma?_.TileTurnipEpsilon:_.TileTurnipGamma:"tool_powertile_delta"==n?this.TileTurnipType==m.delta?_.TileTurnipEpsilon:_.TileTurnipDelta:"tool_powertile_epsilon"==n?this.getPlantEnumByCodename("powerplant"):(this.plantRes.PlantFeatures.forEach((function(e,t){-1==a&&e.CODENAME==n&&(a=t)})),-1==a&&console.warn("Can't find '"+e+"' as a Plant Codename."),-1==a&&t&&(a=0),a)},e.getPlantByRTID=function(e){if(!e)return 0;var t=e.concat(),n=t.indexOf("RTID("),a=t.indexOf("@PlantTypes)"),r="";return-1!=n&&(r=t.slice(n+5,a)),this.getPlantEnumByCodename(r)},e.getPlantAlmanac=function(e){var t,n=null==(t=k.getObjectsByRTID(this.getPlantFeature(e).ALMANAC,"PlantAlmanacProperties")[0])?void 0:t.objdata;return n||(n=this.getPlantAlmanac(_.Peashooter)),n},e.getPlantProps=function(e){var t,n=null==(t=k.getObjectsByRTID(this.getPlantFeature(e).PROPS,"PlantProperties")[0])?void 0:t.objdata;return n||(n=this.getPlantProps(_.Peashooter)),n},e.unloadPlantsInCard=function(){for(var e=0;e<_.amount;e++)if(z[e]){var t,n,a=z[e];z[e]=void 0,null==(t=a.plantDIS)||t.decRef(),null==(n=a.plantPLANT)||n.decRef()}},e.loadPlantsInCard=function(){var e=o(i().mark((function e(t,n){var a,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===n&&(n=!1),!z[t]){e.next=3;break}return e.abrupt("return",z[t]);case 3:return a=this.getPlantFeature(t).RES,r=new g,e.next=7,new Promise((function(e,t){d.load("plants/"+a.Disabled+"DIS",(function(n,a){a?e(a):t(n)}))}));case 7:if(r.plantDIS=e.sent,n){e.next=12;break}return e.next=11,new Promise((function(e,t){d.load("plants/"+a.Plant+"PLANT",(function(n,a){a?e(a):t(n)}))}));case 11:r.plantPLANT=e.sent;case 12:return z[t]=r,e.abrupt("return",r);case 14:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),e.getPlantBGSprite=function(e){var t=this.getPlantFeature(e).OBTAINWORLD;return this.getPlantBGSpriteByObtainWorld(t)},e.getPlantBGSpriteByObtainWorld=function(e){var t=this.bgSprites[H.modern];if("water"==e&&(t=this.bgSprites[H.beach_water]),!w.classicCardBG)switch(e){case"modern":t=this.bgSprites[H.modern];break;case"egypt":t=this.bgSprites[H.egypt];break;case"pirate":t=this.bgSprites[H.pirate];break;case"cowboy":t=this.bgSprites[H.cowboy];break;case"kongfu":t=this.bgSprites[H.kongfu];break;case"future":t=this.bgSprites[H.future];break;case"dark":t=this.bgSprites[H.dark];break;case"water":t=this.bgSprites[H.beach_water];break;case"beach":t=this.bgSprites[H.beach];break;case"ice":t=this.bgSprites[H.ice];break;case"lostcity":t=this.bgSprites[H.lostcity];break;case"eighties":t=this.bgSprites[H.eighties];break;case"dino":t=this.bgSprites[H.dino];break;case"sky":t=this.bgSprites[H.sky];break;case"epic":case"market":t=this.bgSprites[H.market]}return t},e.getPotionCount=function(){var e=0;return f.getAllLnC().forEach((function(t){t.getAllPlants().forEach((function(t){switch(t.ID){case _.PotionSpeed:case _.PotionInvisibility:case _.PotionToughness:e++}}))})),e},e.registerPlant=function(e,t){var n=this,a=!1,r=null;if(this.plantAmounts.concat().forEach((function(o){if(!a&&o.ID==e)if(a=!0,o.amount+=t,o.amount<=0){var i=n.plantAmounts.indexOf(o);-1!=i&&n.plantAmounts.splice(i,1)}else r=o})),r)return r;var o=new J;return o.ID=e,!a&&t>0&&(o.amount=t,this.plantAmounts.push(o)),o},e}());j.defaultPlantChooserOrder=[],j.plantRes=void 0,j.sunProducers=[],j.plantCommodities=[],j.TileTurnipType=m.epsilon,j.bgSprites=[],j.plantAmounts=[];e("PlantFeature",(function(){this.ID=-1,this.NAME=new S,this._CARDSPRITENAME="",this.CODENAME="",this.OBTAINWORLD="",this.TYPE=[],this.ZENGARDEN=null,this.ALMANAC="",this.COSTUME=0,this.BOOST=0,this.PROPS="",this.RES={Disabled:"",Plant:""}}));var z=e("PlantRes",(function(){}));e("Plants",(C=x("Plants"),E=W(Boolean),v=W([s]),G=W(p),D=W(c),I=W(p),C((A=t((M=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return t=e.call.apply(e,[this].concat(o))||this,a(t,"showPlants",A,r(t)),a(t,"bgSprite",R,r(t)),a(t,"CommodityFeaturesJson",O,r(t)),a(t,"plantIcon",F,r(t)),a(t,"CardsFeatureJson",N,r(t)),t.PlantFeatures=[],t}n(t,e);var o=t.prototype;return o.onLoad=function(){var e;j.plantAmounts=[],j.plantRes=this,j.plantCommodities=this.CommodityFeaturesJson.json.Plants,j.bgSprites=this.bgSprite;var t=this.CardsFeatureJson.json;this.PlantFeatures=t.PLANTS;var n=t.SEEDCHOOSERDEFAULTORDER,a=[],r=[];n.forEach((function(e){var t=j.getPlantEnumByCodename(e),n=j.getPlantFeature(t);a.push(t),-1!=n.TYPE.indexOf("sunProducer")&&r.push(t)})),j.defaultPlantChooserOrder=a,j.sunProducers=r;var o=[];null==(e=t.SANDBOX)||e.forEach((function(e){o.push(j.getPlantEnumByCodename(e))})),b.plantList=o},o.start=function(){var e;null==(e=this.CardsFeatureJson.json.BASEUNLOCKLIST)||e.forEach((function(e){B.unlockPlant(j.getPlantEnumByCodename(e))}));for(var t=0;t<_.amount;t++)if(B.currentPlayer.plantProps[t]){var n=j.getPlantFeature(t).CODENAME;B.currentPlayer.plantProps[n]=B.currentPlayer.plantProps[t],B.currentPlayer.plantProps[t]=void 0}},t}(P)).prototype,"showPlants",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),R=t(M.prototype,"bgSprite",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=t(M.prototype,"CommodityFeaturesJson",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=t(M.prototype,"plantIcon",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=t(M.prototype,"CardsFeatureJson",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=M))||L));l._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerProperties.ts",["cc","./Plants.ts","./Zombies.ts","./ZenGardenFeatures.ts","./Prizes.ts","./ArrayGet.ts","./mainScene.ts"],(function(e){var r,t,s,i,n,o,a,l,P;return{setters:[function(e){r=e.cclegacy,t=e.sys},function(e){s=e.plants,i=e.PlantEnum},function(e){n=e.zombies},function(e){o=e.ZenGardenPlayerProperties},function(e){a=e.prizeRes},function(e){l=e.ArrayGet},function(e){P=e.mainScene}],execute:function(){e("isJSON",(function(e){try{return JSON.parse(e),!0}catch(e){return!1}})),r._RF.push({},"e4e03O6w5BJTotU0w9qk5Av","PlayerProperties",void 0);e("CardDeckContents",(function(){this.plants=[],this.leader_index=0,this.name=""}));var u=e("_PlayerTutorialProps",(function(){this.plantfood=!1,this.almanac_open=!1,this.almanac_intro=!1,this.store_open=!1,this.store_intro=!1,this.premium_light_up=!1,this.premium_bring_out=!1,this.premium_unlock=!1})),c=e("LevelProgress",function(e){return e[e.locked=0]="locked",e[e.unlocked_neverPlayed=1]="unlocked_neverPlayed",e[e.unlocked_played=2]="unlocked_played",e[e.unlocked_willbeFinished=3]="unlocked_willbeFinished",e[e.finished=4]="finished",e}({})),d=e("LevelComplishmentData",(function(){this.levelID="",this.progress=c.locked})),h=e("UpgradeProgress",function(e){return e[e.locked=0]="locked",e[e.unlocked_willBeObtained=1]="unlocked_willBeObtained",e[e.obtained=2]="obtained",e}({})),p=e("UpgradeInPlayerProps",(function(){this.upgradeID=0,this.progress=h.locked,this.enabled=!0})),y=e("TrophyProgress",function(e){return e[e.locked=0]="locked",e[e.unlocked_willBeObtained=1]="unlocked_willBeObtained",e[e.obtained=2]="obtained",e}({})),g=e("TrophyInPlayerProps",(function(){this.trophyID=0,this.progress=y.locked})),v=e("UserDataDocument","PvZ2_PlayerProperties");var m=e("EndlessZoneProperties",(function(){this.level=1,this.obtainedPlants=[],this.plantfood=0,this.mower=[!0,!0,!0,!0,!0],this.initialPlants=[],this.plantChosen=!1,this.plantsToChoose=null})),w=e("EndlessZoneMiniGameProperties",(function(){this.level=1})),f=e("PlantInPlayerProps",(function(){this.plantID=0,this.progress=0,this.tutorialLevel=0,this.costume=-1,this.costumes=[],this.boost=0})),b=e("PlantObtainProgress",function(e){return e[e.locked=0]="locked",e[e.obtained_toBeUnlocked=1]="obtained_toBeUnlocked",e[e.obtained=2]="obtained",e}({})),M=e("ZombieInPlayerProps",(function(){this.progress=0})),k=(e("ZombieKillProgress",function(e){return e[e.hidden=0]="hidden",e[e.met_unknown=1]="met_unknown",e[e.known=2]="known",e}({})),e("WorldInPlayerProps",(function(){this.worldID=0,this.unlocked=!1,this.viewed=!1,this.wmx=0,this.endlessProps=new m,this.endlessMiniGameProps=new w}))),E=e("WorldMapSceneDisplayEnum",function(e){return e[e.chooser=0]="chooser",e[e.egypt=1]="egypt",e[e.pirate=2]="pirate",e[e.cowboy=3]="cowboy",e[e.future=4]="future",e[e.dark=5]="dark",e[e.beach=6]="beach",e[e.iceage=7]="iceage",e[e.lostcity=8]="lostcity",e[e.epic=9]="epic",e[e.eighties=10]="eighties",e[e.dino=11]="dino",e[e.modern=12]="modern",e[e.kongfu=13]="kongfu",e[e.amount=14]="amount",e}({})),D=function(){this.date=1,this.month=1,this.year=1,this.plantCostumeToday=[]},I=function(){},W=function(){},G=function(){},N=function(){},X=function(){this.currentWM=0,this.worldChooserPos=0},C=function(){},O=e("PlayerProperties",(function(){this.name="",this.version="",this.worldkey=0,this.gem=0,this.sprout=0,this.coin=0,this.time=0,this.tutorial=new u,this.date=new D,this.zombieProps=new W,this.plantProps=new I,this.obtainedPlants=[],this.upgradeProps=new G,this.obtainedUpgrades=[],this.trophyProps=new N,this.obtainedTrophies=[],this.worldProgress=[],this.levelProps=new C,this.advancedLevels=[],this.zengarden=new o,this.cardDecks=[],this.memorySeedChoose=[],this.difficulty=3,this.worldProps=new X,this.currentWM=0,this.worldChooserI=0,this.egyptWMX=0,this.egyptEndlessProperties=new m,this.egyptEndlessMiniGameProperties=new w,this.pirateWMX=0,this.pirateEndlessProperties=new m,this.pirateEndlessMiniGameProperties=new w,this.cowboyWMX=0,this.cowboyEndlessProperties=new m,this.cowboyEndlessMiniGameProperties=new w,this.futureWMX=0,this.futureEndlessProperties=new m,this.futureEndlessMiniGameProperties=new w,this.darkWMX=0,this.darkEndlessProperties=new m,this.darkEndlessMiniGameProperties=new w,this.beachWMX=0,this.beachEndlessProperties=new m,this.beachEndlessMiniGameProperties=new w,this.iceageWMX=0,this.iceageEndlessProperties=new m,this.iceageEndlessMiniGameProperties=new w,this.lostcityWMX=0,this.lostcityEndlessProperties=new m,this.lostcityEndlessMiniGameProperties=new w,this.epicWMX=0})),_=e("AllPlayerProperties",function(){function e(){}return e.getCardDecks=function(){var e;return null!=(e=this.currentPlayer.cardDecks)&&e.length||(this.currentPlayer.cardDecks=[]),this.currentPlayer.cardDecks},e.savePP=function(){var r=e.allPlayers.concat(),s=JSON.stringify(r);t.localStorage.setItem(v,s)},e.getPlayer=function(r){var s,i=null==(s=t.localStorage)?void 0:s.getItem(v),n=[];return i&&(n=JSON.parse(i)),e.allPlayers=n,isNaN(e.allPlayers.length)||e.allPlayers.length-1<r?(e.currentPlayer=new O,e.allPlayers.push(e.currentPlayer),e.currentPlayer.name="New Player"):e.currentPlayer=e.allPlayers[r],this.getPlantProgressProps(),this.getTrophyProgressProps(),this.getLevelProps(),this.getUpgradeProgressProps(),this.updateAllWorldProgress(),this.getToday(),this.currentPlayer.version=P.version,this.currentPlayer.time=(new Date).getTime(),e.currentPlayer},e.getDangerRoomProperty=function(r,t){void 0===t&&(t=!1);var s=e.getWorldProgressByID(r);return s.endlessProps&&!t||(s.endlessProps=new m),s.endlessProps?s.endlessProps:new m},e.getDangerRoomMiniGameProperty=function(r,t){void 0===t&&(t=!1);var s=e.getWorldProgressByID(r);return s.endlessMiniGameProps&&!t||(s.endlessMiniGameProps=new w),s.endlessMiniGameProps?s.endlessMiniGameProps:new w},e.pushPlantToEndlessProperty=function(r,t){for(var i=[],n=0;n<s.defaultPlantChooserOrder.length;n++)-1==t.obtainedPlants.indexOf(s.defaultPlantChooserOrder[n])&&s.defaultPlantChooserOrder[n]!=r||i.push(s.defaultPlantChooserOrder[n]);t.obtainedPlants=i,e.savePP()},e.getLevelProps=function(){var e=this;this.currentPlayer.levelProps||(this.currentPlayer.levelProps=new C);var r=this.currentPlayer.advancedLevels;return null!=r&&r.length&&(r.forEach((function(r){var t=new d;t.levelID=void 0,isNaN(+r.progress)||(t.progress=r.progress),e.currentPlayer.levelProps[r.levelID]=t})),this.savePP()),this.currentPlayer.advancedLevels=void 0,this.currentPlayer.levelProps},e.getPlantProgressProps=function(){var e=this;this.currentPlayer.plantProps||(this.currentPlayer.plantProps=new I);var r=this.currentPlayer.obtainedPlants;return null!=r&&r.length&&(r.forEach((function(r){var t=new f;t.plantID=void 0,isNaN(+r.progress)||(t.progress=r.progress),isNaN(+r.tutorialLevel)||(t.tutorialLevel=r.tutorialLevel),isNaN(+r.boost)||(t.boost=r.boost);var i=s.getPlantFeature(r.plantID);e.currentPlayer.plantProps[i.CODENAME]=t})),this.currentPlayer.obtainedPlants=void 0,this.savePP()),this.currentPlayer.obtainedPlants=void 0,this.currentPlayer.plantProps},e.getZombieKilledProps=function(){return this.currentPlayer.zombieProps||(this.currentPlayer.zombieProps=new W),this.currentPlayer.zombieProps},e.getWorldProps=function(){var e=this;this.currentPlayer.worldProps||(this.currentPlayer.worldProps=new X),isNaN(this.currentPlayer.worldProps.currentWM)&&(this.currentPlayer.worldProps.currentWM=0),isNaN(this.currentPlayer.worldProps.worldChooserPos)&&(this.currentPlayer.worldProps.worldChooserPos=0);var r=this.currentPlayer.worldProgress;return null!=r&&r.length&&(r.forEach((function(r){var t=new k;t.worldID=void 0,r.unlocked&&(t.unlocked=!0),isNaN(+r.wmx)||(t.wmx=r.wmx),e.currentPlayer.worldProps[r.worldID]=t})),this.currentPlayer.worldProgress=void 0,this.savePP()),this.currentPlayer.worldProps},e.getUpgradeProgressProps=function(){var e=this;this.currentPlayer.upgradeProps||(this.currentPlayer.upgradeProps=new G);var r=this.currentPlayer.obtainedUpgrades;return null!=r&&r.length&&(r.forEach((function(r){var t=new p;t.upgradeID=void 0,isNaN(+r.progress)||(t.progress=r.progress),e.currentPlayer.upgradeProps[r.upgradeID]=t})),this.currentPlayer.obtainedUpgrades=void 0,this.savePP()),this.currentPlayer.obtainedUpgrades=void 0,this.currentPlayer.upgradeProps},e.getTrophyProgressProps=function(){var e=this;this.currentPlayer.trophyProps||(this.currentPlayer.trophyProps=new N);var r=this.currentPlayer.obtainedTrophies;return null!=r&&r.length&&(r.forEach((function(r){var t=new g;t.trophyID=void 0,isNaN(+r.progress)||(t.progress=r.progress),e.currentPlayer.trophyProps[r.trophyID]=t})),this.currentPlayer.obtainedTrophies=void 0,this.savePP()),this.currentPlayer.obtainedTrophies=void 0,this.currentPlayer.trophyProps},e.getLevelProgressByID=function(e){var r=new d;r.levelID=void 0;var t=this.getLevelProps(),s=t[e];return s?(isNaN(s.progress)&&(s.progress=0),this.savePP()):(s=r,t[e]=r,this.savePP()),s},e.getPlantProgressByID=function(e){var r=new f;r.plantID=void 0;var t,i=this.getPlantProgressProps(),n=s.getPlantFeature(e).CODENAME,o=i[n];o?(o.plantID=void 0,isNaN(o.progress)&&(o.progress=0),o.tutorialLevel||(o.tutorialLevel=0),o.boost||(o.boost=0),isNaN(o.costume)&&(o.costume=-1),isNaN(null==(t=o.costumes)?void 0:t.length)&&(o.costumes=[]),this.savePP()):((o=i[e])?(i[n]=o,i[e.toString()]=void 0):(i[n]=r,o=r),this.savePP());return o},e.getZombieKilledByID=function(e){var r=new M,t=this.getZombieKilledProps(),s=n.getZombieFeature(e).CODENAME,i=t[s];return i?(isNaN(i.progress)&&(i.progress=0),this.savePP()):(t[s]=r,i=r,this.savePP()),i},e.updateAllWorldProgress=function(){for(var e=0;e<E.amount;e++)this.getWorldProgressByID(e)},e.getWorldProgressByID=function(e){var r=new k;if(r.worldID=void 0,isNaN(e))return r;var t=this.getWorldProps(),s=t[e];switch(s?(s.unlocked||(s.unlocked=!1),s.endlessMiniGameProps||(s.endlessMiniGameProps=new w),s.endlessProps||(s.endlessProps=new m),s.wmx||(s.wmx=0),s.worldID&&(s.worldID=void 0),this.savePP()):(t[e]=r,s=r,this.savePP()),e){case E.chooser:isNaN(this.currentPlayer.worldChooserI)||(this.currentPlayer.worldProps.worldChooserPos=this.currentPlayer.worldChooserI,this.currentPlayer.worldChooserI=void 0),isNaN(this.currentPlayer.currentWM)||(this.currentPlayer.worldProps.currentWM=this.currentPlayer.currentWM,this.currentPlayer.currentWM=void 0);break;case E.egypt:this.currentPlayer.egyptWMX&&(s.wmx=this.currentPlayer.egyptWMX,this.currentPlayer.egyptWMX=void 0),this.currentPlayer.egyptEndlessProperties&&(s.endlessProps=this.currentPlayer.egyptEndlessProperties,this.currentPlayer.egyptEndlessProperties=void 0),this.currentPlayer.egyptEndlessMiniGameProperties&&(s.endlessMiniGameProps=this.currentPlayer.egyptEndlessMiniGameProperties,this.currentPlayer.egyptEndlessMiniGameProperties=void 0);break;case E.pirate:this.currentPlayer.pirateWMX&&(s.wmx=this.currentPlayer.pirateWMX,this.currentPlayer.pirateWMX=void 0),this.currentPlayer.pirateEndlessProperties&&(s.endlessProps=this.currentPlayer.pirateEndlessProperties,this.currentPlayer.pirateEndlessProperties=void 0),this.currentPlayer.pirateEndlessMiniGameProperties&&(s.endlessMiniGameProps=this.currentPlayer.pirateEndlessMiniGameProperties,this.currentPlayer.pirateEndlessMiniGameProperties=void 0);break;case E.cowboy:this.currentPlayer.cowboyWMX&&(s.wmx=this.currentPlayer.cowboyWMX,this.currentPlayer.cowboyWMX=void 0),this.currentPlayer.cowboyEndlessProperties&&(s.endlessProps=this.currentPlayer.cowboyEndlessProperties,this.currentPlayer.cowboyEndlessProperties=void 0),this.currentPlayer.cowboyEndlessMiniGameProperties&&(s.endlessMiniGameProps=this.currentPlayer.cowboyEndlessMiniGameProperties,this.currentPlayer.cowboyEndlessMiniGameProperties=void 0);break;case E.future:this.currentPlayer.futureWMX&&(s.wmx=this.currentPlayer.futureWMX,this.currentPlayer.futureWMX=void 0),this.currentPlayer.futureEndlessProperties&&(s.endlessProps=this.currentPlayer.futureEndlessProperties,this.currentPlayer.futureEndlessProperties=void 0),this.currentPlayer.futureEndlessMiniGameProperties&&(s.endlessMiniGameProps=this.currentPlayer.futureEndlessMiniGameProperties,this.currentPlayer.futureEndlessMiniGameProperties=void 0);break;case E.dark:this.currentPlayer.darkWMX&&(s.wmx=this.currentPlayer.darkWMX,this.currentPlayer.darkWMX=void 0),this.currentPlayer.darkEndlessProperties&&(s.endlessProps=this.currentPlayer.darkEndlessProperties,this.currentPlayer.darkEndlessProperties=void 0),this.currentPlayer.darkEndlessMiniGameProperties&&(s.endlessMiniGameProps=this.currentPlayer.darkEndlessMiniGameProperties,this.currentPlayer.darkEndlessMiniGameProperties=void 0);break;case E.beach:this.currentPlayer.beachWMX&&(s.wmx=this.currentPlayer.beachWMX,this.currentPlayer.beachWMX=void 0),this.currentPlayer.beachEndlessProperties&&(s.endlessProps=this.currentPlayer.beachEndlessProperties,this.currentPlayer.beachEndlessProperties=void 0),this.currentPlayer.beachEndlessMiniGameProperties&&(s.endlessMiniGameProps=this.currentPlayer.beachEndlessMiniGameProperties,this.currentPlayer.beachEndlessMiniGameProperties=void 0);break;case E.iceage:this.currentPlayer.iceageWMX&&(s.wmx=this.currentPlayer.iceageWMX,this.currentPlayer.iceageWMX=void 0),this.currentPlayer.iceageEndlessProperties&&(s.endlessProps=this.currentPlayer.iceageEndlessProperties,this.currentPlayer.iceageEndlessProperties=void 0),this.currentPlayer.iceageEndlessMiniGameProperties&&(s.endlessMiniGameProps=this.currentPlayer.iceageEndlessMiniGameProperties,this.currentPlayer.iceageEndlessMiniGameProperties=void 0);break;case E.lostcity:this.currentPlayer.lostcityWMX&&(s.wmx=this.currentPlayer.lostcityWMX,this.currentPlayer.lostcityWMX=void 0),this.currentPlayer.lostcityEndlessProperties&&(s.endlessProps=this.currentPlayer.lostcityEndlessProperties,this.currentPlayer.lostcityEndlessProperties=void 0),this.currentPlayer.lostcityEndlessMiniGameProperties&&(s.endlessMiniGameProps=this.currentPlayer.lostcityEndlessMiniGameProperties,this.currentPlayer.lostcityEndlessMiniGameProperties=void 0);break;case E.epic:this.currentPlayer.epicWMX&&(s.wmx=this.currentPlayer.epicWMX,this.currentPlayer.epicWMX=void 0)}return s},e.getUpgradeProgressByID=function(e){var r=new p;r.upgradeID=void 0;var t=this.getUpgradeProgressProps(),s=t[e];return s?(s.upgradeID=void 0,isNaN(s.progress)&&(s.progress=0),0!=s.enabled&&(s.enabled=!0),this.savePP()):(t[e]=r,s=r,this.savePP()),s},e.getTrophyProgressByID=function(e){var r=new g;r.trophyID=void 0;var t=this.getTrophyProgressProps(),s=t[e];return s?(s.trophyID=void 0,isNaN(s.progress)&&(s.progress=0),this.savePP()):(t[e]=r,s=r,this.savePP()),s},e.unlockTrophy=function(r){var t=this.getTrophyProgressByID(r),s=a.trophyFeatures()[r];switch(s.TROPHYTYPE){case"worldkey":e.currentPlayer.worldkey||(e.currentPlayer.worldkey=0),e.currentPlayer.worldkey++;break;case"dangerroom":var i;null==(i=s.objdata.UnlockLevel)||i.forEach((function(r){var t=e.getLevelProgressByID(r);t.progress<=0&&(t.progress=c.unlocked_neverPlayed)}));break;default:t.progress=y.unlocked_willBeObtained}e.savePP()},e.unlockUpgrade=function(r){this.getUpgradeProgressByID(r).progress=h.unlocked_willBeObtained,e.savePP()},e.unlockPlant=function(r){this.getPlantProgressByID(r).progress=b.obtained_toBeUnlocked,e.savePP()},e.unlockWorld=function(r){this.getWorldProgressByID(r).unlocked=!0,e.savePP()},e.getObtainedPlantList=function(){for(var e=[],r=[],t=this.getPlantProgressProps(),n=0;n<i.amount;n++){var o=t[s.getPlantFeature(n).CODENAME];(null==o?void 0:o.progress)>0&&-1!=s.defaultPlantChooserOrder.indexOf(n)&&(e.push(o),r.push(n))}return{PPs:e,IDs:r}},e.getObtainedPlantEnumList=function(){return this.getObtainedPlantList().IDs.sort((function(e,r){return s.defaultPlantChooserOrder.indexOf(e)-s.defaultPlantChooserOrder.indexOf(r)}))},e.judgePlantCostumeIsUnlocked=function(e,r){return-1!=r.costumes.indexOf(e.costume)},e.getAvailablePlantCostumeList=function(){var e=this,r=this.getObtainedPlantList(),t=[];return r.IDs.forEach((function(i,n){for(var o=r.PPs[n],a=s.getPlantFeature(i),l=0;l<a.COSTUME;l++)e.judgePlantCostumeIsUnlocked({plantID:i,costume:l},o)||t.push({plantID:i,costume:l})})),t},e.unlockPlantCostume=function(r){var t=this.getPlantProgressByID(r.plantID);t.costumes.push(r.costume),t.costume=r.costume,e.savePP()},e.getToday=function(){var e;this.currentPlayer.date||(this.currentPlayer.date=new D);var r=new Date,t=r.getDate(),s=r.getMonth(),i=r.getFullYear(),n=!1;return this.currentPlayer.date.date==t&&this.currentPlayer.date.month==s&&this.currentPlayer.date.year==i||(n=!0),!n&&null!=(e=this.currentPlayer.date.plantCostumeToday)&&e.length||(this.currentPlayer.date.plantCostumeToday=l.randomize(this.getAvailablePlantCostumeList()).filter((function(e,r){return r<8}))),this.currentPlayer.date.date=t,this.currentPlayer.date.month=s,this.currentPlayer.date.year=i,this.savePP(),this.currentPlayer.date},e.getTutorialProps=function(){return this.currentPlayer.tutorial||(this.currentPlayer.tutorial=new u),this.savePP(),this.currentPlayer.tutorial},e}());_.currentPlayer=new O,_.allPlayers=[],r._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerPropertiesWindow.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MultiLanguage.ts","./PlayerProperties.ts"],(function(t){var e,i,r,o,n,l,a,s,p,u,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){n=t.cclegacy,l=t._decorator,a=t.Label,s=t.EditBox,p=t.Component},function(t){u=t.MultiLanguage},function(t){c=t.AllPlayerProperties}],execute:function(){var y,P,b,f,g,h,d,v,w,T,S,L,m,z;n._RF.push({},"b0b9am89Z5HLapzqEppb/wM","PlayerPropertiesWindow",void 0);var W=l.ccclass,x=l.property,B=(y=W("PlayerPropertiesWindowToolTips"),P=x(a),b=x(a),y((h=e((g=function(){function t(){r(this,"Save",h,this),r(this,"Title",d,this)}return t.prototype.start=function(){this.Title&&(this.Title.string=u.getStringByPropsWithoutTricks("PlayerPropsLyrics","Title")),this.Save&&(this.Save.string=u.getStringByPropsWithoutTricks("PlayerPropsLyrics","Save"))},t}()).prototype,"Save",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=e(g.prototype,"Title",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=g))||f);t("PlayerPropertiesWindow",(v=W("PlayerPropertiesWindow"),w=x(B),T=x(s),v((m=e((L=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),l=0;l<i;l++)n[l]=arguments[l];return e=t.call.apply(t,[this].concat(n))||this,r(e,"tooltips",m,o(e)),r(e,"editbox",z,o(e)),e}i(e,t);var n=e.prototype;return n.start=function(){this.tooltips.start()},n.onEnable=function(){this.editbox.string=JSON.stringify(c.currentPlayer,null,"\t")},e}(p)).prototype,"tooltips",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new B}}),z=e(L.prototype,"editbox",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=L))||S));n._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerSelector.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PlayerProperties.ts","./SettingWindow.ts","./SoundRescourses.ts","./MultiLanguage.ts","./mainScene.ts"],(function(e){var t,i,r,l,a,n,s,o,c,y,u,P,p,h,g,b,f,m,d,L;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,l=e.assertThisInitialized},function(e){a=e.cclegacy,n=e._decorator,s=e.Label,o=e.Node,c=e.EditBox,y=e.AudioClip,u=e.instantiate,P=e.Color,p=e.Component},function(e){h=e.AllPlayerProperties},function(e){g=e.createImportElement,b=e.createExportElement,f=e.Setting},function(e){m=e.sounds},function(e){d=e.MultiLanguage},function(e){L=e.mainScene}],execute:function(){var v,S,E,D,x,N,w,C,T,z,B,I,O,k,_,j,H,R,A,M,U,F,W,J,Y,q,G,K,Q,V,X,Z,$,ee,te,ie,re,le,ae;a._RF.push({},"ba299j+kYJNa7j+rim9jPnb","PlayerSelector",void 0);var ne=n.ccclass,se=n.property,oe=e("importPP",g((function(e){var t;e&&(h.allPlayers.push(e),h.savePP(),null==(t=ye.cp)||t.restartPlayerLabels())}))),ce=(v=ne("PlayerListWindow Labels"),S=se(s),E=se(s),D=se(s),x=se(s),N=se(s),w=se(s),C=se(s),T=se(s),z=se(s),B=se(s),I=se(s),v((_=t((k=function(){function e(){r(this,"Title",_,this),r(this,"Create",j,this),r(this,"Edit",H,this),r(this,"Import",R,this),r(this,"Export",A,this),r(this,"Delete",M,this),r(this,"Confirm",U,this),r(this,"Cancel",F,this),r(this,"DeleteTitle",W,this),r(this,"DeleteSure",J,this),r(this,"DeleteIllustration",Y,this)}return e.prototype.setToolTip=function(){this.Confirm.string=d.getString(d.lyrics.PlayerListLyrics.Confirm,!1),this.Title.string=d.getString(d.lyrics.PlayerListLyrics.Title,!1),this.Create.string=d.getString(d.lyrics.PlayerListLyrics.Create,!1),this.Edit.string=d.getString(d.lyrics.PlayerListLyrics.Edit,!1),this.Import.string=d.getString(d.lyrics.PlayerListLyrics.Import,!1),this.Export.string=d.getString(d.lyrics.PlayerListLyrics.Export,!1),this.Delete.string=d.getString(d.lyrics.PlayerListLyrics.Delete,!1),this.DeleteSure.string=d.getString(d.lyrics.PlayerListLyrics.Delete,!1),this.Cancel.string=d.getString(d.lyrics.PlayerListLyrics.Cancel,!1),this.DeleteTitle.string=d.getString(d.lyrics.PlayerListLyrics.DeleteTitle,!1),this.DeleteIllustration.string=d.getString(d.lyrics.PlayerListLyrics.DeleteIllustration,!1)},e}()).prototype,"Title",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=t(k.prototype,"Create",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=t(k.prototype,"Edit",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=t(k.prototype,"Import",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=t(k.prototype,"Export",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=t(k.prototype,"Delete",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=t(k.prototype,"Confirm",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=t(k.prototype,"Cancel",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=t(k.prototype,"DeleteTitle",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=t(k.prototype,"DeleteSure",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=t(k.prototype,"DeleteIllustration",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=k))||O),ye=e("PlayerSelector",(q=ne("PlayerSelector"),G=se(s),K=se(o),Q=se(ce),V=se(c),X=se(y),q(((ae=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),n=0;n<i;n++)a[n]=arguments[n];return t=e.call.apply(e,[this].concat(a))||this,r(t,"Player0Label",ee,l(t)),t.PlayerLabels=[],r(t,"DeleteSure",te,l(t)),r(t,"tooltip",ie,l(t)),r(t,"PlayerNameEditBox",re,l(t)),r(t,"clickSound",le,l(t)),t}i(t,e);var a=t.prototype;return a.restartPlayerLabels=function(){var e,t=this;if(null==(e=h.allPlayers)||!e.length)h.getPlayer(0);h.allPlayers.length&&(h.allPlayers=h.allPlayers.sort((function(e,t){return isNaN(e.time)&&(e.time=0),isNaN(t.time)&&(t.time=0),t.time-e.time})),h.allPlayers.forEach((function(e,i){e.name||(e.name="New Player");var r=!0,l=t.PlayerLabels[i];if(!l){var a=u(t.Player0Label.node.parent);a.parent=t.Player0Label.node.parent.parent,l=a.getChildByName("PlayerName").getComponent(s),t.PlayerLabels.push(l),r=!1}l&&(r||l.node.parent.on(o.EventType.TOUCH_END,(function(){var e=t.PlayerLabels.indexOf(l);-1!=e&&t.changePlayer(e),m.playOneShot(t.clickSound,1,.1)}),t),l.string=e.name)}))),this.PlayerLabels.concat().forEach((function(e,i){if(!h.allPlayers[i]){e.node.parent.destroy();var r=t.PlayerLabels.indexOf(e);-1!=r&&t.PlayerLabels.splice(r,1)}}));h.allPlayers.indexOf(h.currentPlayer);this.readPlayer(),h.savePP()},a.onLoad=function(){t.cp=this},a.addPlayer=function(){this.PlayerNameEditBox.node.active=!1,h.getPlayer(h.allPlayers.length),this.changePlayer(h.allPlayers.length-1)},a.exportPP=function(){b(h.currentPlayer,(h.currentPlayer.name?h.currentPlayer.name:"pp")+"(v"+L.version+")")},a.importPP=function(){null==oe||oe.click()},a.editPlayer=function(){this.PlayerNameEditBox.string||(this.PlayerNameEditBox.string="New Player"),h.currentPlayer.name=this.PlayerNameEditBox.string,h.currentPlayer.time=(new Date).getTime(),h.savePP(),this.PlayerNameEditBox.node.active=!1,this.restartPlayerLabels()},a.deletePlayerReally=function(){this.PlayerNameEditBox.node.active=!1;var e=h.allPlayers.indexOf(h.currentPlayer);-1!=e&&(h.allPlayers.splice(e,1),h.savePP(),h.getPlayer(0),f.saveSettings(),this.restartPlayerLabels()),this.DeleteSure.active=!1},a.deletePlayer=function(){this.PlayerNameEditBox.node.active=!1,this.DeleteSure.active=!0},a.cancel=function(){this.DeleteSure.active=!1},a.editStart=function(){this.PlayerNameEditBox.node.active=!0,this.PlayerNameEditBox.string=h.currentPlayer.name},a.onEnable=function(){this.DeleteSure.active=!1},a.readPlayer=function(){var e=h.allPlayers.indexOf(h.currentPlayer);this.PlayerLabels.forEach((function(t,i){var r=e==i;t.color=r?new P(0,255,0,255):new P(255,255,255,255),t.isUnderline=r,t.isItalic=r,t.node.parent.getChildByName("HighLight").active=r}))},a.changePlayer=function(e){this.PlayerNameEditBox.node.active=!1,h.getPlayer(e).time=(new Date).getTime(),this.restartPlayerLabels(),this.readPlayer(),f.saveSettings()},a.start=function(){var e=this;this.tooltip.setToolTip(),this.PlayerNameEditBox.node.active=!1,this.PlayerLabels=[this.Player0Label],this.Player0Label.node.parent.on(o.EventType.TOUCH_END,(function(){e.changePlayer(0),m.playOneShot(e.clickSound,1,.1)}),this),this.restartPlayerLabels()},t}(p)).cp=void 0,ee=t(($=ae).prototype,"Player0Label",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),te=t($.prototype,"DeleteSure",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ie=t($.prototype,"tooltip",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),re=t($.prototype,"PlayerNameEditBox",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),le=t($.prototype,"clickSound",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=$))||Z));a._RF.pop()}}}));

System.register("chunks:///_virtual/Portal.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Character.ts","./SoundRescourses.ts","./levelController.ts","./ArrayGet.ts"],(function(e){var t,n,o,r,i,a,s,u,c;return{setters:[function(e){t=e.inheritsLoose,n=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){r=e.cclegacy,i=e._decorator},function(e){a=e.Character},function(e){s=e.sounds},function(e){u=e.LevelPlay},function(e){c=e.ValueRange}],execute:function(){var l;r._RF.push({},"0ae86mAniBJU6Me50V8X04Q","Portal",void 0);var m=i.ccclass,h=(i.property,e("PortalProps",(function(){this.TimeBeforeFirst=new c(5,6),this.TimeBetween=new c(10,12),this.World="modern",this.ZombieTypesToSpawn=[],this.Scale=1}))),p=function(e){return e[e.egypt=0]="egypt",e[e.pirate=1]="pirate",e[e.west=2]="west",e[e.future=3]="future",e[e.dark=4]="dark",e[e.beach=5]="beach",e[e.iceage=6]="iceage",e[e.lostcity=7]="lostcity",e[e.eighties=8]="eighties",e[e.dino=9]="dino",e[e.modern=10]="modern",e[e.gargantuar=11]="gargantuar",e[e.imp=12]="imp",e[e.kongfu=13]="kongfu",e}(p||{});e("Portal",m("Portal")(l=function(e){function r(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=e.call.apply(e,[this].concat(o))||this).CurrentProp=new h,t.ZombieList=[],t.SummonCD=100,t}t(r,e);var i=r.prototype;return i.characterOnEnable=function(){var e;null==(e=this.db)||e.playAnimation("Spawn"),s.playPortalStart()},i.characterOnSquareChange=function(e,t){t&&t.bounceAllPlants()},i.setProps=function(e,t){var n;void 0===t&&(t=NaN);var o=new h;e.TimeBeforeFirst&&(o.TimeBeforeFirst=e.TimeBeforeFirst),e.TimeBetween&&(o.TimeBetween=e.TimeBetween),e.ZombieTypesToSpawn.length&&(o.ZombieTypesToSpawn=e.ZombieTypesToSpawn),e.World&&(o.World=e.World),null!=e&&e.Scale&&(this.scale=e.Scale);var r=this.db.armature().getSlot("Content"),i=p[o.World];isNaN(i)&&(i=-1),null==r||r._setDisplayIndex(i);var a=[],s=o.ZombieTypesToSpawn.concat();isNaN(t)&&(t=1/0);for(var l=function(){var e=[],t=0;s.forEach((function(n){var o=n.Weight;e.push(t+o),t+=o}));for(var n=Math.random()*t,o=0;o<e.length;o++)if(n<e[o]){a.push(s[o].ZombieTypeName),s.splice(o,1);break}};s.length>0&&a.length<t;)l();this.ZombieList=a,this.SummonCD=c.getRandomFromRange(o.TimeBeforeFirst),null==(n=u.component)||n.setLevelVictoryCountDown(this.SummonCD+1),this.CurrentProp=o},i.characterUpdate=function(e){isFinite(this.SummonCD)&&s.playPortalLoop(),this.SummonCD-=e,this.SummonCD<=0&&(this.SummonCD=c.getRandomFromRange(this.CurrentProp.TimeBetween),this.SummonOneZombie())},i.SummonOneZombie=function(){var e=n(o().mark((function e(){var t,n,r=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.ZombieList.length>0)){e.next=9;break}if(null==(t=this.inLnC)||!t.isInLawn()){e.next=7;break}return e.next=4,this.inLnC.SpawnZombieByZombieType(this.ZombieList.shift());case 4:e.sent.forEach((function(e){e.playTeleportSpawn(r.inLnC.node.worldPosition.x)})),null==(n=u.component)||n.setLevelVictoryCountDown(this.SummonCD+1);case 7:e.next=12;break;case 9:this.SummonCD=1/0,this.db.playAnimation("Die"),s.playPortalEnd();case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),r}(a))||l);r._RF.pop()}}}));

System.register("chunks:///_virtual/PotatoMine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./CharacterManager.ts","./Square.ts","./SoundRescourses.ts","./ArrayGet.ts"],(function(t){var n,e,o,a,i,r,s,l,h,c,d,u,p,f,g,w;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,o=t.initializerDefineProperty,a=t.assertThisInitialized,i=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){s=t.cclegacy,l=t._decorator,h=t.AudioClip},function(t){c=t.Plant,d=t.PlantProps},function(t){u=t.Rectangle,p=t.ZombiePool},function(t){f=t.Square},function(t){g=t.sounds},function(t){w=t.ArrayGet}],execute:function(){var m,C,b,y,v,P,S;s._RF.push({},"8e90bzMJCRDvKfgEIWRnVBn","PotatoMine",void 0);var A=l.ccclass,_=l.property,D=function(t){function n(){for(var n,e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];return(n=t.call.apply(t,[this].concat(o))||this).ChargeTime=14,n.Damage=1800,n.PlantfoodChildrenCount=2,n}return e(n,t),n}(d);t("PotatoMinePlant",(m=A("PotatoMinePlant"),C=_(h),b=_(h),m((P=n((v=function(t){function n(){for(var n,e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return(n=t.call.apply(t,[this].concat(i))||this)._objdataOwn=new D,n.growthCountdown_=14,o(n,"foodSound",P,a(n)),o(n,"landSound",S,a(n)),n.grown=!1,n.activated=!1,n.detector=void 0,n}e(n,t);var s=n.prototype;return s.onObjdataSet=function(t,n){this.growthCountdown_=n.ChargeTime},s.specialPlantOnEnable=function(){this.activated=!1,this.grown=!1,this.growthCountdown_=this._objdataOwn.ChargeTime,this.anmControl.playAnimation("Spawn_Baby",1),this.anmControl.IdleAnim="Idle_Baby",this.anmControl.RandomAnim=[],this.deathAnm="Death_Baby"},s.specialPlantFood=function(t){this.grown||this.grow(),this.activated=!0,this.anmControl.playAnimation("Food")},s.grow=function(){this.grown=!0,this.eatDamagable=!1,this.growSound(),this.anmControl.playAnimation("Grow",1),this.anmControl.IdleAnim="Idle",this.deathAnm="Charging",this.eaterDetectable=!1,this.smasherDetectable=!1},s.growSound=function(){g.playDirtRise()},s.explodeAction=function(){this.inLnC.explodeSqudow1x1(this._objdataOwn.Damage)},s.animationListener=function(t){switch(t.name){case"activate":this.activated=!0;break;case"explode":this.explodeAction();break;case"die":this.deathAnm="",this.die();break;case"throw":this.throwChildren();break;case"foodEnd":this.foodEnd();break;case"foodSound":g.playOneShot(this.foodSound,1,.1)}},s.throwChildren=function(){var t=i(r().mark((function t(){var n,e,o,a,i,s,l,h,c,d,u=this;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=this._objdataOwn.PlantfoodChildrenCount,e=[],p.inLawnPool().forEach((function(t){e.length>=n||t.inLnC.isInLawn()&&-1==e.indexOf(t.inLnC)&&t.inLnC.putPlantAvailable(!0,u.ID)&&e.push(t.inLnC)})),e.length<n)for(o=w.randomize(f.getAllLnC()),a=0;e.length<n&&a<o.length;a++)i=o[a],-1==e.indexOf(i)&&i.putPlantAvailable(!0,this.ID)&&e.push(i);s=this.worldPosition,l=0,h=e;case 6:if(!(l<h.length)){t.next=15;break}return c=h[l],t.next=10,c.SpawnPlant(this.ID,!0);case 10:(d=t.sent)&&(d.worldPosition=s,d.anmControl.playAnimation("Flying",1/0),d.damagable=!1,d.leapTo(c,.8,200));case 12:l++,t.next=6;break;case 15:case 16:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s.onLeapStart=function(t,n){this.activated=!1},s.onLeapEnd=function(){var t;this.grow(),g.playOneShot(this.landSound,1,.1),this.anmControl.playAnimation("Spawn",1),(null==(t=this.plantInLnC)||null==(t=t.plantInSquare)||null==(t=t.filter((function(t){return!t.allowOverlap})))?void 0:t.length)>1&&this.die(!0,!1)},s.specialPlantOnSquareChange=function(t,n){this.detector=u.createRectangleNodeCenter(n.node,f.SquareWidth,f.SquareHeight)},s.detectEnemy=function(){var t,n=this,e=!1;null==(t=this.inLane)||t.zombiePool().forEach((function(t){e||t.flying||!t.plantDetectorRecForPotatoMine.judgeCrossRec(n.bodyRec)&&!t.bodyRec.judgeCrossRec(n.detector)||(e=!0)})),e&&(this.activated=!1,this.die())},s.waterable=function(){return this.activated},s.specialPlantUpdate=function(t,n,e){this.grown||(this.growthCountdown_>0&&(this.growthCountdown_-=t),this.growthCountdown_<=0&&this.grow()),!this.activated||this.fooding||this.sheepend||this.detectEnemy()},n}(c)).prototype,"foodSound",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=n(v.prototype,"landSound",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=v))||y));s._RF.pop()}}}));

System.register("chunks:///_virtual/PotatoMinePrimal.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PotatoMine.ts","./SoundRescourses.ts"],(function(t){var o,n,e,i,a;return{setters:[function(t){o=t.inheritsLoose},function(t){n=t.cclegacy,e=t._decorator},function(t){i=t.PotatoMinePlant},function(t){a=t.sounds}],execute:function(){var r;n._RF.push({},"7830fHqmAFNxJYmzEaUai+2","PotatoMinePrimal",void 0);var s=e.ccclass;e.property,t("PotatoMinePrimalPlant",s("PotatoMinePrimalPlant")(r=function(t){function n(){return t.apply(this,arguments)||this}o(n,t);var e=n.prototype;return e.explodeAction=function(){this.inLnC.explodeSpudow3x3(this._objdataOwn.Damage)},e.growSound=function(){a.playOneShot(this.landSound,1,.1)},n}(i))||r);n._RF.pop()}}}));

System.register("chunks:///_virtual/Potion.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./SoundRescourses.ts","./levelController.ts","./Zombies.ts"],(function(t){var n,e,i,o,a,r,s,l,u,c,p,h,f;return{setters:[function(t){n=t.inheritsLoose,e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty,o=t.assertThisInitialized,a=t.createClass},function(t){r=t.cclegacy,s=t._decorator,l=t.AudioClip},function(t){u=t.PlantProps,c=t.Plant},function(t){p=t.sounds},function(t){h=t.LevelPlay},function(t){f=t.ZombieEnum}],execute:function(){var d,y,m,b,P,v,w,g,A,D,C,S,L,O;r._RF.push({},"95405k2XLxO4aSdd8oXbP5N","Potion",void 0);var R=s.ccclass,z=s.property,_=t("PotionProps",function(t){function e(){for(var n,e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return(n=t.call.apply(t,[this].concat(i))||this).MaxEnchantLevel=3,n}return n(e,t),e}(u)),j=(d=R("PotionSound"),y=z([l]),m=z([l]),b=z([l]),d((w=e((v=function(){function t(){i(this,"drop",w,this),i(this,"splat",g,this),i(this,"consume",A,this)}var n=t.prototype;return n.playDrop=function(){p.playArray(this.drop,1,.1)},n.playSplat=function(){p.playArray(this.splat,1,.1)},n.playConsume=function(){p.playArray(this.consume,1,.1)},t}()).prototype,"drop",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),g=e(v.prototype,"splat",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=e(v.prototype,"consume",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),P=v))||P);t("PotionPlant",(D=R("PotionPlant"),C=z(j),D((O=e((L=function(t){function e(){for(var n,e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return n=t.call.apply(t,[this].concat(a))||this,i(n,"soundRes",O,o(n)),n._objdataOwn=new _,n}n(e,t);var r=e.prototype;return r.plantCount=function(){return 0},r.specialPlantOnEnable=function(){this.deathAnm="Splat",this.foodable=!1,this.eaterDetectable=!1,this.smasherDetectable=!1,this.anmControl.playAnimation("Spawn")},r.onCommonshotHit=function(t){return!1},r.animationListener=function(t){"drop"==t.name&&(this.soundRes.playDrop(),this.eaterDetectable=!0,this.smasherDetectable=!0)},r.specialPlantShovelable=function(){return h.sandBoxModeOn},r.dealZombieStrengthen=function(t){},r.throwAway=function(t,n,e,i){this.die()},r.leapTo=function(t,n,e,i,o,a){this.die()},r.specialPlantDie=function(t){this.soundRes.playSplat()},r.playDeathParticle=function(t){},r.levelTaskWarnPlantLose=function(){return!1},r.setHidden=function(t){},r.specialPlantOnEaten=function(t,n,e,i){var o=!0;switch(n.ID){case f.piano:o=!1}i<=0&&o&&(this.deathAnm="Consume",this.anmControl.playAnimation(this.deathAnm,1),this.dealZombieStrengthen(n),this.soundRes.playConsume())},r.specialPlantUpdate=function(t,n,e){var i;null==(i=this.plantInLnC)||i.setOccupied(.03)},a(e,[{key:"objdataOwn",get:function(){return this._objdataOwn}}]),e}(c)).prototype,"soundRes",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new j}}),S=L))||S));r._RF.pop()}}}));

System.register("chunks:///_virtual/PotionInvisibility.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Potion.ts"],(function(t){var n,i,o,e,r;return{setters:[function(t){n=t.inheritsLoose},function(t){i=t.cclegacy,o=t._decorator},function(t){e=t.PotionPlant,r=t.PotionProps}],execute:function(){var c;i._RF.push({},"6719eugBhlCDqAwzghJTPpl","PotionInvisibility",void 0);var l=o.ccclass,s=(o.property,function(t){function i(){return t.apply(this,arguments)||this}return n(i,t),i}(r));t("PotionInvisibilityPlant",l("PotionInvisibilityPlant")(c=function(t){function i(){for(var n,i=arguments.length,o=new Array(i),e=0;e<i;e++)o[e]=arguments[e];return(n=t.call.apply(t,[this].concat(o))||this)._objdataOwn=new s,n}return n(i,t),i.prototype.dealZombieStrengthen=function(t){t.potionInvisible=!0},i}(e))||c);i._RF.pop()}}}));

System.register("chunks:///_virtual/PotionSpeed.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Potion.ts"],(function(t){var n,o,e,r,i;return{setters:[function(t){n=t.inheritsLoose},function(t){o=t.cclegacy,e=t._decorator},function(t){r=t.PotionPlant,i=t.PotionProps}],execute:function(){var c;o._RF.push({},"ef364dct+dCxIfjFp92E2xR","PotionSpeed",void 0);var p=e.ccclass,u=(e.property,function(t){function o(){return t.apply(this,arguments)||this}return n(o,t),o}(i));t("PotionSpeedPlant",p("PotionSpeedPlant")(c=function(t){function o(){for(var n,o=arguments.length,e=new Array(o),r=0;r<o;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this)._objdataOwn=new u,n}return n(o,t),o.prototype.dealZombieStrengthen=function(t){t.potionSpeedLevel++},o}(r))||c);o._RF.pop()}}}));

System.register("chunks:///_virtual/PotionToughness.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Potion.ts"],(function(n){var o,t,e,r,i;return{setters:[function(n){o=n.inheritsLoose},function(n){t=n.cclegacy,e=n._decorator},function(n){r=n.PotionPlant,i=n.PotionProps}],execute:function(){var s;t._RF.push({},"02356yvzo9GL4xtxrdvnD/i","PotionToughness",void 0);var u=e.ccclass,c=(e.property,function(n){function t(){return n.apply(this,arguments)||this}return o(t,n),t}(i));n("PotionToughnessPlant",u("PotionToughnessPlant")(s=function(n){function t(){for(var o,t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return(o=n.call.apply(n,[this].concat(e))||this)._objdataOwn=new c,o}return o(t,n),t.prototype.dealZombieStrengthen=function(n){n.potionToughnessLevel++},t}(r))||s);t._RF.pop()}}}));

System.register("chunks:///_virtual/PowerLily.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CherryBomb.ts","./Sunflower.ts"],(function(t){var n,o,r,e,i,a;return{setters:[function(t){n=t.inheritsLoose},function(t){o=t.cclegacy,r=t._decorator},function(t){e=t.CherryBombPlant,i=t.CherryBombProps},function(t){a=t.sunflower}],execute:function(){var c;o._RF.push({},"f51283ku6ZAkLASU1ALEGbz","PowerLily",void 0);var u=r.ccclass,l=(r.property,function(t){function o(){for(var n,o=arguments.length,r=new Array(o),e=0;e<o;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).ProduceCount=1,n}return n(o,t),o}(i));t("PowerLilyPlant",u("PowerLilyPlant")(c=function(t){function o(){for(var n,o=arguments.length,r=new Array(o),e=0;e<o;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this)._objdataOwn=new l,n}n(o,t);var r=o.prototype;return r.explode=function(){this.deathAnm="Death";for(var t=0;t<this._objdataOwn.ProduceCount;t++)a.producePlantFood(this.worldPosition)},r.animationListener=function(t){"produce"==t.name&&(this.explode(),this.die())},o}(e))||c);o._RF.pop()}}}));

System.register("chunks:///_virtual/PowerupFingers.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UI.ts","./Square.ts","./Mouse.ts","./SoundRescourses.ts","./CharacterManager.ts","./SettingWindow.ts","./levelController.ts","./ParticleSelfdestroy.ts","./NodePools.ts","./GroundFire.ts","./LnC.ts","./Plant.ts","./Tombs.ts","./Particles.ts","./ShovelUIController.ts"],(function(e){var n,t,o,i,a,r,s,l,u,h,d,c,p,w,f,g,m,b,y,v,P,S,C,B,x,F,I,z,U,j,D,L,T,R,_,k,O,E,M,N,Z,A,G,W,H;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized,a=e.createClass,r=e.asyncToGenerator,s=e.regeneratorRuntime},function(e){l=e.cclegacy,u=e._decorator,h=e.Button,d=e.JsonAsset,c=e.Prefab,p=e.AudioClip,w=e.Node,f=e.Vec3,g=e.Sprite,m=e.Vec2,b=e.HALF_PI,y=e.UITransform,v=e.Widget,P=e.find,S=e.instantiate,C=e.tween,B=e.Component,x=e.Color},function(e){F=e.UIInGame},function(e){I=e.Square},function(e){z=e.Mouse},function(e){U=e.sounds},function(e){j=e.Rectangle,D=e.ZombiePool,L=e.TombPool,T=e.ZombieDamageDetails,R=e.ZombieDamageType,_=e.LineSegment},function(e){k=e.SettingWindow},function(e){O=e.LevelPlay},function(e){E=e.ParticleSelfdestroy},function(e){M=e.instantiatePooly},function(e){N=e.GroundFireColorEnum},function(e){Z=e.TileType},function(e){A=e.PlantWarmingRadius},function(e){G=e.TombEnum},function(e){W=e.particle},function(e){H=e.ShovelUIController}],execute:function(){var q,K,V,J,X,Y,Q,$,ee,ne,te,oe,ie,ae,re,se,le,ue,he,de,ce,pe,we,fe,ge,me,be,ye,ve,Pe,Se,Ce,Be,xe,Fe,Ie,ze,Ue;l._RF.push({},"18097APbSZKvbjiWDz1LyEh","PowerupFingers",void 0);var je=u.ccclass,De=u.property,Le=function(e){return e[e.Flame=0]="Flame",e[e.Snow=1]="Snow",e[e.Toss=2]="Toss",e[e.Zap=3]="Zap",e[e.Cherry=4]="Cherry",e[e.Shovel=5]="Shovel",e[e.Shuffle=6]="Shuffle",e}(Le||{});e("PowerupFingers",(q=je("PowerupFingers"),K=De(h),V=De(h),J=De(h),X=De(h),Y=De(h),Q=De(h),$=De(h),ee=De(h),ne=De(d),te=De(c),oe=De(c),ie=De(c),ae=De(c),re=De(c),se=De(p),le=De(w),ue=De(w),q(((Ue=function(e){function n(){for(var n,t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return(n=e.call.apply(e,[this].concat(a))||this).oldPos=new f(0,0,0),o(n,"fireButton",ce,i(n)),o(n,"snowButton",pe,i(n)),o(n,"tossButton",we,i(n)),o(n,"zapButton",fe,i(n)),o(n,"cherryButton",ge,i(n)),o(n,"shovelButton",me,i(n)),o(n,"shuffleButton",be,i(n)),o(n,"zap2Button",ye,i(n)),o(n,"pupjson",ve,i(n)),n.PowerUpProperties=[],n.powerUpBorder=new g,n.powerUpBG=new g,n.mousePushed=!1,o(n,"wizardFinger",Pe,i(n)),n._wizardFinger=void 0,o(n,"wizardPoint",Se,i(n)),n._wizardPoint=[],n.tossedZombies=[],o(n,"tossPar",Ce,i(n)),o(n,"flameFinger",Be,i(n)),o(n,"flameSquare",xe,i(n)),n._flameFinger=void 0,n.thrownFires=[],n.plantHeatCD=0,o(n,"flameLPSound",Fe,i(n)),n.totalTime=5,n.countDown=0,n.index=-1,n.waiting=!1,n.oldAlpha=0,n._mode=0,o(n,"PowerUpSlots",Ie,i(n)),o(n,"BeghouledSlots",ze,i(n)),n.shown=!1,n.arrows=[],n}t(n,e);var l=n.prototype;return l.getWizardRec=function(){return j.createRectangleCenter(z.position,3*I.SquareWidth,3*I.SquareHeight)},l.getFlameRec=function(){return j.createRectangleCenter(z.position,3*I.SquareWidth,3*I.SquareHeight)},l.judgeMouseDownStart=function(){switch(this.index){case Le.Shovel:var e=z.mouseInLnC,n=!1;if(e.getAllPlants().length>0&&(e.removePlant(),U.playBeghouledShovel(),n=!0),e.crackleCountdown>0&&(e.crackleCountdown=0,U.playShovelDig(),U.playBeghouledShovel(),n=!0),n){var t=M(W.dirtSpawn());t.parent=e.inLane.prjLayer,t.worldPosition=e.plantPoint.worldPosition,this.tryChangingIndex(-1,null)}return!1;case Le.Cherry:return I.lawnRec.judgeInRecP(z.position)}return!1},l.judgeMouseMoveStart=function(){switch(this.index){case Le.Flame:var e;return null==(e=z.mouseInLnC)?void 0:e.isInLawn();case Le.Snow:var n=!1;return D.pool().forEach((function(e){n||e.bodyRec.judgeCrossLine(z.moveLine)&&(n=!0)})),n||L.pool().forEach((function(e){n||e.bodyRec.judgeCrossLine(z.moveLine)&&(n=!0)})),n;case Le.Toss:var t,o=!1;return(null==(t=z.moveLine)||null==(t=t.getVec())?void 0:t.length())>5&&D.pool().forEach((function(e){o||!e.objdataOwn.CannotBeDetectedByPowerToss&&e.leapable&&e.specialZombieLeapable()&&e.bodyRec.judgeCrossLine(z.moveLine)&&(o=!0)})),o;case Le.Zap:var i=this.getWizardRec(),a=!1;return D.pool().forEach((function(e){a||i.judgeCrossRec(e.bodyRecReal)&&(a=!0)})),a||L.pool().forEach((function(e){a||i.judgeCrossRec(e.bodyRec)&&(a=!0)})),a}return!1},l.snowBallUpdate=function(e,n){if(this.mousePushed)for(var t=this.getObjdataByIndex(1).TimePerUse,o=Math.floor(e/t)-Math.floor(n/t),i=0;i<o;i++)this.throwOneSnowBall()},l.throwOneSnowBall=function(){n.prjManager.throwSnowBall(350,z.position.clone())},l.update=function(e){if(this.countDown>0&&e>0){var n=this.countDown+0,t=Math.floor(7*this.countDown/this.totalTime);this.countDown-=e;var o=this.countDown+0;switch(t!=Math.floor(7*this.countDown/this.totalTime)&&U.playPowerUpCD(this.countDown/this.totalTime),this.powerUpBG.fillRange=this.countDown/this.totalTime,this.index){case Le.Flame:this.flameUpdate(e);break;case Le.Snow:this.snowBallUpdate(n,o);break;case Le.Toss:this.tossUpdate(e);break;case Le.Zap:this.wizardUpdate(e)}this.countDown<=0&&this.tryChangingIndex(-1,null)}-5==F.index&&-1!=this.index&&this.mousePushed&&this.countDown<=0&&e>0&&this.judgeMouseMoveStart()&&this.powerUpStart(),this.flameUpdateForce(e)},l.powerUpStart=function(){var e,n=null==(e=this.getObjdataByIndex(this.index))?void 0:e.TotalTime;this.totalTime=isNaN(n)?4:n,this.countDown=this.totalTime,this.allButtons.forEach((function(e){e.interactable=!1})),U.playPowerUpStart(this.index),this.plantHeatCD=0},l.spawnWizardPar=function(){if(!this._wizardFinger){var e=M(this.wizardFinger);e.parent=this.node.parent,e.worldPosition=new f(z.position.x,z.position.y,10),this._wizardFinger=e.getComponent(E),this._wizardFinger.db.playAnimation("Idle",1/0)}},l.killWizardPar=function(){var e;(this._wizardPoint.concat().forEach((function(e){var n;e&&(null==(n=e.db)||n.playAnimation("Die"),e.willBeKilled=!0)})),this._wizardPoint=[],this._wizardFinger)&&(this._wizardFinger.willBeKilled=!0,null==(e=this._wizardFinger)||null==(e=e.db)||e.playAnimation("Die"),this._wizardFinger=null)},l.tossUpdate=function(e){var n=this;this.mousePushed&&(this.tossedZombies=this.tossedZombies.filter((function(e){return e.bodyRec.judgeCrossLine(z.moveLine)})),D.pool().forEach((function(e){var t;if(n.mousePushed&&!e.objdataOwn.CannotBeDetectedByPowerToss){var o,i=null==(t=z.moveLine)?void 0:t.getVec();if((null==i?void 0:i.length())>3)if(-1==(null==(o=n.tossedZombies)?void 0:o.indexOf(e))&&e.leapable&&e.specialZombieLeapable()&&e.bodyRec.judgeCrossLine(z.moveLine)){var a=Math.sign(i.x);if(!e.leapHeightTween||a<=0||e.objdataOwn.CannotBeFlickedByPowerToss){n.tossedZombies.push(e);var r=i.y/i.x,s=0;Math.abs(r)>=1&&!e.objdataOwn.CannotChangeLaneByPowerToss&&(a=(s=Math.sign(i.y))/r);var l=I.getLnC(e.lIndex-s,Math.round(e.cIndex+a));null!=l&&l.isInLawn()||l.getTileType()==Z.sea&&!e.currentFlyZombie||(s=0),U.playPowerToss(),e.leapBy(new m(a,-s),!0,1,100)}else e.tossAway(2,i),U.playPowerToss();var u=M(n.tossPar);u.parent=e.inLane.prjLayer,u.worldPosition=z.moveLine.getP1().toVec3(),u.angle=90*-i.signAngle(m.UNIT_X)/b}}})))},l.wizardUpdate=function(e){var n=this;if(this.mousePushed){this._wizardFinger?this._wizardFinger.node.worldPosition=new f(z.position.x,z.position.y,10):this.spawnWizardPar();var t=Number(this.getObjdataByIndex(3).DPS)*e,o=[],i=this.getWizardRec();D.pool().forEach((function(e){-1==o.indexOf(e)&&i.judgeCrossRec(e.bodyRecReal)&&o.push(e)}));var a=[],r=new T(t,!0,!1,!0,null,R.electricity);r.shockRGB=3,o.forEach((function(e){e&&(e.dealDamage(r),a.push(new m(e.worldPositionX,e.worldPositionY+e.height+e.zombieHeight/2)))}));var s=[];L.pool().forEach((function(e){-1==s.indexOf(e)&&i.judgeCrossRec(e.bodyRec)&&s.push(e)})),s.forEach((function(e){e&&(e.dealDamage(r),a.push(new m(e.worldPositionX,e.worldPositionY+e.height+40)))}));for(var l=this._wizardPoint.concat(),u=a.length;u<l.length;u++){l[u].db.playAnimation("Die"),l[u].willBeKilled=!0;var h=this._wizardPoint.indexOf(l[u]);-1!=h&&this._wizardPoint.splice(h,1)}var d=z.position.clone();a.forEach((function(e,t){var o=n._wizardPoint[t];o||((o=M(n.wizardPoint).getComponent(E)).node.parent=n.node.parent,o.db.playAnimation("Idle",1/0),o.node.setSiblingIndex(0),n._wizardPoint.push(o)),o.node.worldPosition=new f(d.x,d.y);var i=new m(e.x-d.x,e.y-d.y);o.node.angle=90*Math.atan2(i.y,i.x)/b,o.node.scale=new f(i.length()/175,1,1)}))}},l.onMouseInLnCChanged=function(e,n){null!=n&&n.isInLawn()&&this.countDown>0&&0==this.index&&this.spawnFlameSquarePar(n)},l.spawnFlamePar=function(){if(!this._flameFinger){var e=M(this.flameFinger);e.parent=this.node.parent,e.worldPosition=new f(z.position.x,z.position.y,10),this._flameFinger=e.getComponent(E),this._flameFinger.db.playAnimation("Idle",1/0)}},l.spawnFlameSquarePar=function(e){if(this.mousePushed){var n=M(this.flameSquare);n.parent=e.inLane.prjLayer,n.worldPosition=e.node.worldPosition}},l.killFlamePar=function(){var e;this._flameFinger&&(this._flameFinger.willBeKilled=!0,null==(e=this._flameFinger)||null==(e=e.db)||e.playAnimation("Die"),this._flameFinger=null)},l.flameUpdateForce=function(e){var n=this,t=this.getObjdataByIndex(0),o=Number(t.GroundFlameNormalDPS)*e;if(!isNaN(o)){var i=new T(o,!1,!1,!0,null,R.fire,!0,!0);this.thrownFires.concat().forEach((function(e){if(e.dead){var t=n.thrownFires.indexOf(e);-1!=t&&n.thrownFires.splice(t,1)}else if(e.inLnC){var o,a,r=e.inLnC.rec;null==(o=e.inLnC.inLane)||null==(o=o.zombiePool())||o.forEach((function(e){r.judgeCrossRec(e.bodyRecReal)&&e.dealDamage(i)})),null==(a=e.inLnC.inLane)||null==(a=a.tombPool())||a.forEach((function(e){r.judgeCrossRec(e.bodyRec)&&e.dealDamage(i)}))}}))}},l.flameUpdate=function(e){if(this.mousePushed){U.playOneShot(this.flameLPSound,1,NaN,.9),this._flameFinger?this._flameFinger.node.worldPosition=new f(z.position.x,z.position.y,10):this.spawnFlamePar();var n=this.getObjdataByIndex(0),t=Number(n.FlamethrowerNormalDPS)*e,o=[],i=this.getFlameRec();D.pool().forEach((function(e){-1==o.indexOf(e)&&i.judgeCrossRec(e.bodyRec)&&o.push(e)}));var a=new T(t,!1,!1,!0,null,R.fire,!0,!0);o.forEach((function(e){e&&e.dealDamage(a)}));var r=[];L.pool().forEach((function(e){-1==r.indexOf(e)&&i.judgeCrossRec(e.bodyRec)&&r.push(e)})),r.forEach((function(e){e&&(e.ID==G.iceblock_plant||e.ID==G.iceblock_zombie?e.dealDamage(a.replaceDamage(2*a.damage)):e.dealDamage(a))}));var s=Number(n.GroundFlameDuration);if(this.mousePushed){var l=z.mouseInLnC;if(null!=l&&l.isInLawn()){var u=this.thrownFires.find((function(e){return e.inLnC==l}));if(u)u.duration=s;else{var h=l.addGroundFire(s,15,N.yellow,0);u=h,this.thrownFires.push(h)}if(this.plantHeatCD>0)this.plantHeatCD-=e;else l.plantHeat(new A)&&(this.plantHeatCD=+n.FlamethrowerWarmingInterval)}}}else this.killFlamePar()},l.onMouseDown=function(e){if(!j.createRectangleUITransform(this.AllModes.find((function(e){return e.active})).getComponent(y)).judgeInRecP(z.position)&&(this.mousePushed=!0,this.tossedZombies=[],-5==F.index&&-1!=this.index&&(this.countDown<=0&&this.judgeMouseDownStart()&&this.powerUpStart(),this.countDown>0)))switch(this.index){case Le.Snow:this.throwOneSnowBall();break;case Le.Toss:z.moveLine=new _(z.position,z.position);break;case Le.Zap:U.playPowerUpStart(this.index)}},l.onMouseUp=function(e){this.mousePushed=!1,this.tossedZombies=[],this.killWizardPar(),this.killFlamePar()},l.onLoad=function(){var e=JSON.stringify(this.pupjson);this.PowerUpProperties=JSON.parse(e).json.objects;var t=this.getComponent(v);t&&(t.left=F.PocketUI?520:0),this.countDown=0,n.component=this,this.oldPos=this.node.position.clone(),this.node.position=this.oldPos.clone().add3f(0,-300,0)},l.start=function(){var e,n,t=this;this.mousePushed=!1,this.powerUpBG=null==(e=P("Canvas/LawnCommon/lawnTotal/powerUpBG"))?void 0:e.getComponent(g),this.powerUpBorder=null==(n=P("Canvas/LawnCommon/lawnTotal/powerUpBorder"))?void 0:n.getComponent(g),this.tryChangingIndex(-1,null,!1),this.allButtons.forEach((function(e,n){e.node.on(w.EventType.MOUSE_DOWN,(function(){t.shown&&F.LawnMowersRelease()}),t),e.node.on(w.EventType.MOUSE_UP,(function(e){t.onMouseUp(e)}),t)}))},n.gameStart=function(){var e;null==(e=n.component)||e._gameStart()},l.judgeUIIndex=function(){-5!=F.index&&this.tryChangingIndex(-1,null,!1)},l.tryChangingIndex=function(){var e=r(s().mark((function e(n,t,o){var i,a,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===o&&(o=!0),!(this.countDown>0||this.waiting)){e.next=3;break}return e.abrupt("return");case 3:-1!=this.index&&-1!=n&&this.tryChangingIndex(-1,null),e.t0=n,e.next=e.t0===Le.Shuffle?7:e.t0===Le.Shovel||e.t0===Le.Flame||e.t0===Le.Snow||e.t0===Le.Toss||e.t0===Le.Zap||e.t0===Le.Cherry?13:25;break;case 7:return this.waiting=!0,e.next=10,null==(i=O.component)||null==(i=i.BeghouledProps)||null==(i=i.BeghouledPresetProps)?void 0:i.shufflePlants();case 10:return this.tryChangingIndex(-1,null),this.waiting=!1,e.abrupt("break",33);case 13:if(this.arrows.forEach((function(e){e.destroy()})),this.arrows=[],t&&n!=this.index){e.next=18;break}return this.tryChangingIndex(-1,null),e.abrupt("break",33);case 18:return o&&-5!=F.index&&F.component.tryChangingIndex(-5),this.index=n,a=t.BoardTimerColor,this.powerUpBG.color=new x(a.mRed,a.mGreen,a.mBlue,a.mAlpha),this.powerUpBorder.color=new x(a.mRed,a.mGreen,a.mBlue,255),n==Le.Shovel&&(null==(r=H.shovelUI)||r.shovelSelectPowerUp(),U.playShovelActive()),e.abrupt("break",33);case 25:this.killWizardPar(),this.killFlamePar(),this.allButtons.forEach((function(e){e.interactable=!0})),this.index=-1,this.powerUpBG.color=new x(255,255,255,0),this.powerUpBorder.color=new x(255,255,255,0),o&&F.component.tryChangingIndex(-1),this.powerUpBG.fillRange=1;case 33:case"end":return e.stop()}}),e,this)})));return function(n,t,o){return e.apply(this,arguments)}}(),l.getObjdataByIndex=function(e){var n=null;return this.PowerUpProperties.forEach((function(t){var o,i,a,r,s,l,u;n||(e==Le.Flame&&"powerupflamethrower"==(null==t||null==(o=t.objdata)?void 0:o.TypeName)||e==Le.Snow&&"powerupsnowball"==(null==t||null==(i=t.objdata)?void 0:i.TypeName)||e==Le.Toss&&"powerupflickzombie"==(null==t||null==(a=t.objdata)?void 0:a.TypeName)||e==Le.Zap&&"powerupwizardfinger"==(null==t||null==(r=t.objdata)?void 0:r.TypeName)||e==Le.Cherry&&"powerupcherrybomb"==(null==t||null==(s=t.objdata)?void 0:s.TypeName)||e==Le.Shovel&&"powerupbeghouledshovel"==(null==t||null==(l=t.objdata)?void 0:l.TypeName)||e==Le.Shuffle&&"powerupbeghouledshuffle"==(null==t||null==(u=t.objdata)?void 0:u.TypeName))&&(n=t.objdata)})),n},l.powerUpFlame=function(){if(this.shown){var e=this.getObjdataByIndex(Le.Flame);this.tryChangingIndex(Le.Flame,e)}},l.powerUpSnow=function(){if(this.shown){var e=this.getObjdataByIndex(Le.Snow);this.tryChangingIndex(Le.Snow,e)}},l.powerUpToss=function(){if(this.shown){var e=this.getObjdataByIndex(Le.Toss);this.tryChangingIndex(Le.Toss,e)}},l.powerUpZap=function(){if(this.shown){var e=this.getObjdataByIndex(Le.Zap);this.tryChangingIndex(Le.Zap,e)}},l.powerUpCherry=function(){if(this.shown){var e=this.getObjdataByIndex(Le.Cherry);this.tryChangingIndex(Le.Cherry,e)}},l.powerUpShuffle=function(){if(this.shown){var e=this.getObjdataByIndex(Le.Shuffle);this.tryChangingIndex(Le.Shuffle,e)}},l.powerUpShovel=function(){if(this.shown){var e=this.getObjdataByIndex(Le.Shovel);this.tryChangingIndex(Le.Shovel,e)}},l._gameStart=function(){this.show()},l.show=function(){var e,n=this;!k.allowCheat&&!O.component.PowerUpsForceShow||O.component.PowerUpsForceHide||this.shown||(this.shown=!0,null!=(e=O.component)&&e.PowerUpsTip&&this.allButtons.forEach((function(e){if(e.node.parent.active){var t=S(W.arrow());t.parent=e.node,t.position=new f(0,20,0),t.scale=new f(1,1,2.5),n.arrows.push(t)}})),C(this.node).to(.3,{position:this.oldPos},{easing:"cubicOut"}).start())},l.hide=function(){this.shown&&(this.shown=!1,this.tryChangingIndex(-1,null,!0),C(this.node).by(.3,{position:new f(0,-300,0)},{easing:"cubicIn"}).start())},a(n,[{key:"allButtons",get:function(){return[this.fireButton,this.snowButton,this.tossButton,this.zapButton,this.cherryButton,this.shovelButton,this.shuffleButton,this.zap2Button]}},{key:"AllModes",get:function(){return[this.PowerUpSlots,this.BeghouledSlots]}},{key:"mode",get:function(){return this._mode},set:function(e){switch(this.AllModes.forEach((function(e){e.active=!1})),e){case 1:this.BeghouledSlots.active=!0;break;default:this.PowerUpSlots.active=!0,e=0}this._mode=e}}],[{key:"uiIndexLocked",get:function(){return this.component.countDown>0}}]),n}(B)).prjManager=void 0,Ue.component=void 0,ce=n((de=Ue).prototype,"fireButton",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pe=n(de.prototype,"snowButton",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),we=n(de.prototype,"tossButton",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fe=n(de.prototype,"zapButton",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ge=n(de.prototype,"cherryButton",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),me=n(de.prototype,"shovelButton",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),be=n(de.prototype,"shuffleButton",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ye=n(de.prototype,"zap2Button",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ve=n(de.prototype,"pupjson",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pe=n(de.prototype,"wizardFinger",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Se=n(de.prototype,"wizardPoint",[oe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ce=n(de.prototype,"tossPar",[ie],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Be=n(de.prototype,"flameFinger",[ae],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xe=n(de.prototype,"flameSquare",[re],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fe=n(de.prototype,"flameLPSound",[se],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ie=n(de.prototype,"PowerUpSlots",[le],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ze=n(de.prototype,"BeghouledSlots",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),he=de))||he));l._RF.pop()}}}));

System.register("chunks:///_virtual/preSplashScene.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ElectronAPI.ts"],(function(e){var n,t,r,c,o,s;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy,r=e._decorator,c=e.director,o=e.Component},function(e){s=e.default}],execute:function(){var p;t._RF.push({},"6e631wnaMVDZL2Rx3CcISnG","preSplashScene",void 0);var a=r.ccclass;r.property,e("preSplashScene",a("preSplashScene")(p=function(e){function t(){return e.apply(this,arguments)||this}return n(t,e),t.prototype.start=function(){s.window(),c.loadScene("splashScene")},t}(o))||p);t._RF.pop()}}}));

System.register("chunks:///_virtual/PrimalPeashooter.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Peashooter.ts","./commonShot.ts","./Zombie.ts","./SoundRescourses.ts"],(function(o){var t,n,e,a,i,s,r,c,l,h,u,d,f;return{setters:[function(o){t=o.applyDecoratedDescriptor,n=o.inheritsLoose,e=o.initializerDefineProperty,a=o.assertThisInitialized},function(o){i=o.cclegacy,s=o._decorator,r=o.AudioClip,c=o.Size},function(o){l=o.PeashooterPlant,h=o.PeashooterProps},function(o){u=o.SplashDamage},function(o){d=o.ZombiePoison},function(o){f=o.sounds}],execute:function(){var p,S,g,m,P;i._RF.push({},"47ba7dMXhNDu4+WxuxwF5lY","PrimalPeashooter",void 0);var b=s.ccclass,_=s.property,y=function(o){function t(){for(var t,n=arguments.length,e=new Array(n),a=0;a<n;a++)e[a]=arguments[a];return(t=o.call.apply(o,[this].concat(e))||this).KnockbackDistance=1,t.KnockbackChance=.5,t.PeaType="pea_primal",t}return n(t,o),t}(h);o("PrimalPeashooterPlant",(p=b("PrimalPeashooter"),S=_([r]),p((P=t((m=function(o){function t(){for(var t,n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(t=o.call.apply(o,[this].concat(i))||this)._rangeScale=0,t._objdataOwn=new y,t.foodCount=0,e(t,"foodShootSound",P,a(t)),t}n(t,o);var i=t.prototype;return i.specialFightAloneStrengthen=function(o){o.RangeScale&&(this._rangeScale=o.RangeScale)},i.shotInitialize=function(o){var t,n,e=null==(t=this._objdataOwn)?void 0:t.KnockbackDistance,a=null==(n=this._objdataOwn)?void 0:n.KnockbackChance,i=null==this?void 0:this._dmgScale;if(this.fooding)o.setKnockBack(e),o.setDamage(100*this._dmgScale),o.setSplashDamages([new u(100,new c(2,1),0,0,0,new d(0,0),3,e)]),o.setStun(3);else{var s=Math.random()<a?1:0;o.setKnockBack(s*e),o.setStun(1-s)}i&&o.setDamage(o.damage*i),this._rangeScale>0&&o.setSplashDamages([new u(0,new c(this._rangeScale,this._rangeScale),0,0,0,new d(0,0),0,e)])},i.specialPlantFood=function(){this.foodCount=0,this.anmControl.playAnimation("Food",1/0),this.busy=1/0},i.animationListenerAdd=function(o){"shootFood"==o.name&&(this._shoot(),f.playArray(this.foodShootSound,1,.1),++this.foodCount>=this._objdataOwn.PlantfoodPeaCount&&this.foodEnd())},i.specialPlantOnEnable=function(){this.initialize(),this.foodCount=0},t}(l)).prototype,"foodShootSound",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),g=m))||g));i._RF.pop()}}}));

System.register("chunks:///_virtual/PrimalWallNut.ts",["./rollupPluginModLoBabelHelpers.js","cc","./WallNut.ts"],(function(t){var i,l,s,e;return{setters:[function(t){i=t.inheritsLoose},function(t){l=t.cclegacy,s=t._decorator},function(t){e=t.WallNutPlant}],execute:function(){var a;l._RF.push({},"66600o+bKNIBIyIoFQGsqb0","PrimalWallNut",void 0);var r=s.ccclass;s.property,t("PrimalWallNutPlant",r("PrimalWallNutPlant")(a=function(t){function l(){return t.apply(this,arguments)||this}return i(l,t),l.prototype.normalSmash=function(t){if(!this.fooding&&!this.invincible)if(this.armorHealth>0)this.armorHealth=0,this.foodable=!0,this.setArmor();else if(this.hurtStage<3){for(var i=this.health+0;i-this.toughness/4>0;)i-=this.toughness/4;this.dealNormalDamage(i)}else this.die(),this.dieOnLnC()},l}(e))||a);l._RF.pop()}}}));

System.register("chunks:///_virtual/Prizes.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var r,t,i,n,o,a,u,s,l;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,u=e.Prefab,s=e.JsonAsset,l=e.Component}],execute:function(){var p,c,h,f,g,y,b,d,F,z,P,m,v,w,J;o._RF.push({},"f36f0SuWO5FcKaAAqnkCjmU","Prizes",void 0);var k=a.ccclass,A=a.property,R=e("prizeRes",function(){function e(){}return e.coinbag=function(){return this.res.coinbag},e.seedPacket=function(){return this.res.seedPacket},e.upgrade=function(){return this.res.upgrade},e.upgradeFeature=function(){return this.res.upgradeFeatures},e.trophy=function(){return this.res.trophy},e.trophyFeatures=function(){return this.res.trophyFeatures},e}());R.res=void 0;e("Prizes",(p=k("Prizes"),c=A(u),h=A(u),f=A(u),g=A(u),y=A(s),b=A(s),p((z=r((F=function(e){function r(){for(var r,t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o))||this,i(r,"coinbag",z,n(r)),i(r,"seedPacket",P,n(r)),i(r,"upgrade",m,n(r)),i(r,"trophy",v,n(r)),i(r,"upgradeFeatureJson",w,n(r)),r.upgradeFeatures=[],i(r,"trophyFeatureJson",J,n(r)),r.trophyFeatures=[],r}return t(r,e),r.prototype.onLoad=function(){R.res=this,this.upgradeFeatures=this.upgradeFeatureJson.json.UPGRADES,this.trophyFeatures=this.trophyFeatureJson.json.TROPHIES},r}(l)).prototype,"coinbag",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=r(F.prototype,"seedPacket",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=r(F.prototype,"upgrade",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=r(F.prototype,"trophy",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=r(F.prototype,"upgradeFeatureJson",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=r(F.prototype,"trophyFeatureJson",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=F))||d));o._RF.pop()}}}));

System.register("chunks:///_virtual/ProjectileManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Character.ts","./ArrayGet.ts","./Square.ts","./SoundRescourses.ts","./PowerupFingers.ts","./Projectiles.ts"],(function(e){var r,n,t,o,a,i,s,c,u,l,p,f,g,h,d,w,y,P;return{setters:[function(e){r=e.applyDecoratedDescriptor,n=e.inheritsLoose,t=e.initializerDefineProperty,o=e.assertThisInitialized,a=e.asyncToGenerator,i=e.regeneratorRuntime},function(e){s=e.cclegacy,c=e._decorator,u=e.AudioClip,l=e.Component,p=e.Vec2},function(e){f=e.CharacterType},function(e){g=e.ArrayGet},function(e){h=e.Square},function(e){d=e.sounds},function(e){w=e.PowerupFingers},function(e){y=e.projectile,P=e.ProjectileShootingFunctions}],execute:function(){var j,m,v,S,b;s._RF.push({},"e2a4aMwVmVCUL8xjgLJS6yF","ProjectileManager",void 0);var L=c.ccclass,M=c.property;e("ProjectileManager",(j=L("ProjectileManager"),m=M([u]),j((b=r((S=function(e){function r(){for(var r,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(r=e.call.apply(e,[this].concat(a))||this).prjPool=[],t(r,"snowBallThrowSound",b,o(r)),r}n(r,e);var s=r.prototype;return s.onLoad=function(){y.manager=this,w.prjManager=this},s.throwSnowBall=function(){var e=a(i().mark((function e(r,n){var t,o,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=h.getLane(2),d.playArray(this.snowBallThrowSound),e.next=4,P.lobOneCabbageOnPos("powerup_snow",new p(o.toLeft.worldPosition.x,o.floorY),10,o.prjLayer,n,2,f.zombie,26,40);case 4:a=e.sent,null==(t=a.db)||t.playAnimation(g.getRandom(["Idle","Idle1","Idle2"])),a.setDamage(r);case 7:case"end":return e.stop()}}),e,this)})));return function(r,n){return e.apply(this,arguments)}}(),r}(l)).prototype,"snowBallThrowSound",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=S))||v));s._RF.pop()}}}));

System.register("chunks:///_virtual/Projectiles.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NodePools.ts","./JSONs.ts","./Character.ts","./ArrayGet.ts","./levelController.ts"],(function(e){var t,o,r,n,a,i,s,l,c,u,p,_,b,h,g,d,f,m,w,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized,a=e.asyncToGenerator,i=e.regeneratorRuntime},function(e){s=e.cclegacy,l=e._decorator,c=e.JsonAsset,u=e.Prefab,p=e.Vec2,_=e.assetManager,b=e.Component,h=e.resources},function(e){g=e.instantiatePooly},function(e){d=e.PvZ2Object,f=e.PvZ2ObjectContainer},function(e){m=e.CharacterType},function(e){w=e.ArrayGet},function(e){y=e.LevelPlay}],execute:function(){var P,v,j,k,O,x,C;s._RF.push({},"e90648V0hJJKaOtHWFPh0Tg","Projectiles",void 0);var S=l.ccclass,D=l.property,z=e("ProjectileEnum",function(e){return e[e.pea=0]="pea",e[e.pea_flame_yellow=1]="pea_flame_yellow",e[e.pea_flame_blue=2]="pea_flame_blue",e[e.pea_mega=3]="pea_mega",e[e.pea_mega_flame_yellow=4]="pea_mega_flame_yellow",e[e.pea_mega_flame_blue=5]="pea_mega_flame_blue",e[e.iceweed_saw=6]="iceweed_saw",e[e.pea_snow=7]="pea_snow",e[e.cabbage=8]="cabbage",e[e.cabbage1=9]="cabbage1",e[e.cabbage2=10]="cabbage2",e[e.cabbage_pf=11]="cabbage_pf",e[e.boomerang=12]="boomerang",e[e.snowdrop=13]="snowdrop",e[e.snowdrop_freeze=14]="snowdrop_freeze",e[e.corn=15]="corn",e[e.corn1=16]="corn1",e[e.corn2=17]="corn2",e[e.butter=18]="butter",e[e.coconut=19]="coconut",e[e.coconut_pf=20]="coconut_pf",e[e.melon=21]="melon",e[e.melon1=22]="melon1",e[e.melon2=23]="melon2",e[e.melon_pf=24]="melon_pf",e[e.winter_melon=25]="winter_melon",e[e.winter_melon1=26]="winter_melon1",e[e.winter_melon2=27]="winter_melon2",e[e.winter_melon_pf=28]="winter_melon_pf",e[e.cantaloupe=29]="cantaloupe",e[e.cantaloupe1=30]="cantaloupe1",e[e.cantaloupe2=31]="cantaloupe2",e[e.cantaloupe_pf=32]="cantaloupe_pf",e[e.electricpea=33]="electricpea",e[e.electricpea_pf=34]="electricpea_pf",e[e.electricpea_small=35]="electricpea_small",e[e.citron=36]="citron",e[e.citron_pf=37]="citron_pf",e[e.magnifying_grass=38]="magnifying_grass",e[e.star=39]="star",e[e.star_pf=40]="star_pf",e[e.apple=41]="apple",e[e.apple_pf=42]="apple_pf",e[e.puffshroom_spore=43]="puffshroom_spore",e[e.peanut=44]="peanut",e[e.scaredyshroom_spore=45]="scaredyshroom_spore",e[e.scaredyshroom_spore1=46]="scaredyshroom_spore1",e[e.scaredyshroom_spore2=47]="scaredyshroom_spore2",e[e.bowling0=48]="bowling0",e[e.bowling1=49]="bowling1",e[e.bowling2=50]="bowling2",e[e.bowling_pf=51]="bowling_pf",e[e.bowling_explode_o_nut=52]="bowling_explode_o_nut",e[e.bowling_iceberg=53]="bowling_iceberg",e[e.bowling_infinut=54]="bowling_infinut",e[e.bowling_primal_wallnut=55]="bowling_primal_wallnut",e[e.bowling_tallnut=56]="bowling_tallnut",e[e.bowling_wallnut=57]="bowling_wallnut",e[e.guacodile=58]="guacodile",e[e.guacodile_child=59]="guacodile_child",e[e.homing_thistle=60]="homing_thistle",e[e.homing_thistle_pf=61]="homing_thistle_pf",e[e.parsnip_child=62]="parsnip_child",e[e.parsnip_child_small=63]="parsnip_child_small",e[e.seashroom_spore=64]="seashroom_spore",e[e.banana=65]="banana",e[e.missiletoe=66]="missiletoe",e[e.sapfling=67]="sapfling",e[e.pepper=68]="pepper",e[e.pepper_pf=69]="pepper_pf",e[e.blooming_heart=70]="blooming_heart",e[e.blooming_heart_pf=71]="blooming_heart_pf",e[e.rotobaga=72]="rotobaga",e[e.rotobaga_pf=73]="rotobaga_pf",e[e.redstinger=74]="redstinger",e[e.redstinger_weak=75]="redstinger_weak",e[e.akee=76]="akee",e[e.akee_pf=77]="akee_pf",e[e.dandelion=78]="dandelion",e[e.dandelion_pf=79]="dandelion_pf",e[e.dandelion_blew=80]="dandelion_blew",e[e.bamboozle=81]="bamboozle",e[e.strawburst0=82]="strawburst0",e[e.strawburst1=83]="strawburst1",e[e.strawburst2=84]="strawburst2",e[e.cactus=85]="cactus",e[e.cactus_pf=86]="cactus_pf",e[e.sporeshroom_spore=87]="sporeshroom_spore",e[e.sporeshroom_spore_pf=88]="sporeshroom_spore_pf",e[e.grapeshot=89]="grapeshot",e[e.pea_primal=90]="pea_primal",e[e.pea_primal_flame_yellow=91]="pea_primal_flame_yellow",e[e.pea_primal_flame_blue=92]="pea_primal_flame_blue",e[e.meteor=93]="meteor",e[e.pea_sky=94]="pea_sky",e[e.pea_sky_flame_yellow=95]="pea_sky_flame_yellow",e[e.pea_sky_flame_blue=96]="pea_sky_flame_blue",e[e.shootingstar=97]="shootingstar",e[e.shootingstar_pf=98]="shootingstar_pf",e[e.nightshade=99]="nightshade",e[e.nightshade_mega=100]="nightshade_mega",e[e.nightshade_pf=101]="nightshade_pf",e[e.nightshade_pf_mega=102]="nightshade_pf_mega",e[e.dusklobber=103]="dusklobber",e[e.dusklobber_pf=104]="dusklobber_pf",e[e.cranjelly=105]="cranjelly",e[e.dragonfruit=106]="dragonfruit",e[e.dragonfruit1=107]="dragonfruit1",e[e.dragonfruit2=108]="dragonfruit2",e[e.dragonfruit_pf=109]="dragonfruit_pf",e[e.tombraiser_bone=110]="tombraiser_bone",e[e.octopus=111]="octopus",e[e.hunter_snowball=112]="hunter_snowball",e[e.abbot_chi=113]="abbot_chi",e[e.abbot_fan_storm=114]="abbot_fan_storm",e[e.kongfu_boss_explode_bomb=115]="kongfu_boss_explode_bomb",e[e.kongfu_boss_blade_chi=116]="kongfu_boss_blade_chi",e[e.eighties_gargantuar_wave=117]="eighties_gargantuar_wave",e[e.eighties_speaker_wave=118]="eighties_speaker_wave",e[e.busketball=119]="busketball",e[e.zomboss_lostcity_sandbag=120]="zomboss_lostcity_sandbag",e[e.zomboss_missile_egypt=121]="zomboss_missile_egypt",e[e.zomboss_missile_cowboy=122]="zomboss_missile_cowboy",e[e.zomboss_missile_future=123]="zomboss_missile_future",e[e.zomboss_missile_dark=124]="zomboss_missile_dark",e[e.zomboss_missile_iceage=125]="zomboss_missile_iceage",e[e.zomboss_missile_dino=126]="zomboss_missile_dino",e[e.powerup_snow=127]="powerup_snow",e[e.trap_boulder=128]="trap_boulder",e[e.mower_modern=129]="mower_modern",e[e.mower_egypt=130]="mower_egypt",e[e.mower_pirate=131]="mower_pirate",e[e.mower_cowboy=132]="mower_cowboy",e[e.mower_kongfu=133]="mower_kongfu",e[e.mower_future=134]="mower_future",e[e.mower_dark=135]="mower_dark",e[e.mower_beach=136]="mower_beach",e[e.mower_iceage=137]="mower_iceage",e[e.mower_lostcity=138]="mower_lostcity",e[e.mower_eighties=139]="mower_eighties",e[e.mower_dino=140]="mower_dino",e}({})),T=(e("ProjectileType",(function(){this.ProjectileBasedOn="",this.ProjectileRedirection=[],this.Props="RTID(pea@ProjectileProps)"})),e("ProjectileSplash",(function(){this.Damage=0,this.Range={w:1,h:1},this.ChillDuration=0,this.FreezeDuration=0,this.ButterDuration=0,this.Poison={DPS:0,Duration:0},this.StunDuration=0,this.KnockbackDistance=0})),e("ProjectileProps",(function(){this.Damage=0,this.DamageBowlingLevel=0,this.SplashDamage=[],this.YellowIgnitedType="",this.BlueIgnitedType="",this.SupressArmorProtection=!1,this.SuppressArmorImpactSound=!1,this.SuppressZombieImpactSound=!1,this.MeltsIceTile=!1,this.DamageScale=1,this.FootballPush=!1,this.CarriesSporeShroom=!1,this.Size={w:12,h:12},this.TileLiquid={Type:"none",Duration:0},this.DamageType="physicle",this.Poison={DPS:0,Duration:0},this.ChillDuration=0,this.FreezeDuration=0,this.ButterDuration=0,this.StunDuration=0,this.KnockbackDistance=0,this.ShakesScreenOnImpact=!1,this.DestroysBalloons=!1,this.IceBlockLevel=0,this.CannotBeReversedByJester=!1,this.WarmsOnImpact=!1,this.DetectsEaterDetectDisabledPlants=!1,this.CancelsKnockbackFlying=!1})),e("ProjectileShootingFunctions",function(){function e(){}return e.throwOneBananaOnPos=function(){var e=a(i().mark((function e(t,o,r,n,a,s){var l,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.getProjectile(t,n);case 2:return(l=e.sent).worldPosition=new p(o.x,o.y),l.height=r,c=0,y.FluidDragCoefficient&&(c=y.FluidMinGravity),l.gravity=c,l.linearVelocity=new p(0,0),l.bodyLinearVelocity=-a,F.registerProjectile(l,s),l.rotate(),e.abrupt("return",l);case 13:case"end":return e.stop()}}),e)})));return function(t,o,r,n,a,i){return e.apply(this,arguments)}}(),e.throwOneBananaOnNode=function(){var e=a(i().mark((function e(t,o,r,n,a,s){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.throwOneBananaOnPos(t,o.worldPosition.toVec2(),r,n,a,s);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,o,r,n,a,i){return e.apply(this,arguments)}}(),e.shootOnePea=function(){var e=a(i().mark((function e(t,o,r,n,a,s){var l,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.getProjectile(t,n);case 2:return(l=e.sent).height=r,l.worldPosition=new p(o.x,o.y),l.linearVelocity=a,l.bodyLinearVelocity=0,c=0,y.FluidDragCoefficient&&(c=y.FluidMinGravity),l.gravity=c,F.registerProjectile(l,s),l.JudgesZombieBodyRecForShooter=!0,l.rotate(),e.abrupt("return",l);case 14:case"end":return e.stop()}}),e)})));return function(t,o,r,n,a,i){return e.apply(this,arguments)}}(),e.lobOneCabbageOnPos=function(){var e=a(i().mark((function e(t,o,r,n,a,s,l,c,u,p){var _;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===c&&(c=60),void 0===u&&(u=0),void 0===p&&(p=!1),e.next=5,L.getProjectile(t,n);case 5:return _=e.sent,e.abrupt("return",this.lobOneCabbageOnPosAccCS(_,o,r,n,a,s,l,c,u,p));case 7:case"end":return e.stop()}}),e,this)})));return function(t,o,r,n,a,i,s,l,c,u){return e.apply(this,arguments)}}(),e.lobOneCabbageOnNode=function(){var e=a(i().mark((function e(t,o,r,n,a,s,l,c,u){var _,b;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===u&&(u=60),_=new p(a.worldPosition.x,a.worldPosition.y),e.next=4,this.lobOneCabbageOnPos(t,o,r,n,_,s,l,u,0);case 4:return(b=e.sent).targetLocked=c?a:null,b.rotate(),e.abrupt("return",b);case 8:case"end":return e.stop()}}),e,this)})));return function(t,o,r,n,a,i,s,l,c){return e.apply(this,arguments)}}(),e.lobOneCabbageOnZombie=function(){var e=a(i().mark((function e(t,o,r,n,a,s,l,c,u,p,_,b){var h,g,d;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===u&&(u=60),void 0===p&&(p=!0),void 0===_&&(_=!1),void 0===b&&(b=1),h=a.lobberTarget(),g=null==h?void 0:h.lobberToPos(u),p&&h.worldPosition.clone().add(o.clone().negative()).length()<=60&&(u/=3),e.next=9,this.lobOneCabbageOnPos(t,o,r,n,g,s,l,u,0,_);case 9:return(d=e.sent).targetLocked=c?h.node:null,d.bodyLinearVelocity+=(h.zombieHeight*Math.abs(h.scale)+h.height_depth)*b/u,d.rotate(),e.abrupt("return",d);case 14:case"end":return e.stop()}}),e,this)})));return function(t,o,r,n,a,i,s,l,c,u,p,_){return e.apply(this,arguments)}}(),e.lobOneCabbageOnTNTSpark=function(){var e=a(i().mark((function e(t,o,r,n,a,s,l,c,u,p,_){var b,h;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===u&&(u=60),void 0===p&&(p=!0),void 0===_&&(_=!1),b=null==a?void 0:a.lobberToPos(u),p&&a.worldPosition.clone().add(o.clone().negative()).length()<=60&&(u/=3),e.next=7,this.lobOneCabbageOnPos(t,o,r,n,b,s,l,u,0,_);case 7:return(h=e.sent).bodyLinearVelocity+=(Math.abs(a.scale)+a.height_depth)/u,h.rotate(),e.abrupt("return",h);case 11:case"end":return e.stop()}}),e,this)})));return function(t,o,r,n,a,i,s,l,c,u,p){return e.apply(this,arguments)}}(),e.shootOnePeaAccCS=function(e,t,o,r,n,a){if(!e)return e;e.node.parent=r,e.height=o,e.worldPosition=new p(t.x,t.y),e.linearVelocity=n,e.bodyLinearVelocity=0;var i=0;return y.FluidDragCoefficient&&(i=y.FluidMinGravity),e.gravity=i,F.registerProjectile(e,a),e.JudgesZombieBodyRecForShooter=!0,e.rotate(),e},e.lobOneCabbageOnPosAccCS=function(e,t,o,r,n,a,i,s,l,c){void 0===s&&(s=60),void 0===l&&(l=0),void 0===c&&(c=!1),e.node.parent=r,e.height=o,e.linearVelocity=new p(8,0),e.worldPosition=new p(t.x,t.y);var u=a;if(y.FluidDragCoefficient){u||(u=y.FluidMinGravity);var _=y.FluidDragCoefficient,b=n.clone().subtract(t),h=(1-Math.exp(-_*s))/_,g=l-o+u/_*(s-h),d=Math.atan(g/b.length()),f=Math.sqrt(b.lengthSqr()+Math.pow(g,2))/h,m=f*Math.cos(d),w=f*Math.sin(d);e.bodyLinearVelocity=w,e.linearVelocity=b.normalize().multiplyScalar(m)}else e.linearVelocity=new p((n.x-t.x)/s,(n.y-t.y)/s),e.bodyLinearVelocity=u*s/2+(l-o)/s;return e.gravity=u,e.FliesHorizontallyWhenBV0=c,e.JudgesZombieBodyRecForShooter=!1,F.registerProjectile(e,i),e.rotate(),e},e.lobOneCabbageOnNodeAccCS=function(e,t,o,r,n,a,i,s,l){void 0===l&&(l=60);var c=new p(n.worldPosition.x,n.worldPosition.y);return this.lobOneCabbageOnPosAccCS(e,t,o,r,c,a,i,l,0),e.targetLocked=s?n:null,e.rotate(),e},e.lobOneCabbageOnZombieAccCS=function(e,t,o,r,n,a,i,s,l,c,u,p){void 0===l&&(l=60),void 0===c&&(c=!0),void 0===u&&(u=!1),void 0===p&&(p=1);var _=n.lobberTarget(),b=null==_?void 0:_.lobberToPos(l);return c&&_.worldPosition.clone().add(t.clone().negative()).length()<=60&&(l/=3),this.lobOneCabbageOnPosAccCS(e,t,o,r,b,a,i,l,0,u),e.targetLocked=s?_.node:null,e.bodyLinearVelocity+=(_.zombieHeight*Math.abs(_.scale)+_.height_depth)*p/l,e.rotate(),e},e}()),function(){}),L=e("projectileRes",function(){function e(){}return e.unLoadProjectiles=function(){for(var e in T)T[e]&&_.releaseAsset(T[e]),T[e]=void 0},e.loadProjectile=function(){var e=a(i().mark((function e(t){var o,r,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=z[t],!T[o]){e.next=3;break}return e.abrupt("return",T[o]);case 3:if(!isNaN(o)){e.next=7;break}return e.next=6,this.loadProjectile("pea");case 6:return e.abrupt("return",e.sent);case 7:return r=this.res.PrjFeatures[o].RES,n=new Promise((function(e,t){h.load("projectiles/"+r+"PRJ",(function(r,n){n?(T[o]=n,e(n)):t(r)}))})),e.next=11,n;case 11:return e.abrupt("return",e.sent);case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),e.getProjectile=function(){var e=a(i().mark((function e(t,o){var r,n,a,s,l,c,u,p,_,b,h,m,y;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((p=null==(r=d.getObjects(t,f.CurrentLevel,"ProjectileType")[0])?void 0:r.objdata)||(p=null==(n=d.getObjects(t,f.ProjectileTypes,"ProjectileType")[0])?void 0:n.objdata),p||(p=null==(a=d.getObjects("pea",f.ProjectileTypes,"ProjectileType")[0])?void 0:a.objdata),!((null==(s=p.ProjectileRedirection)?void 0:s.length)>0)||p.ProjectileBasedOn){e.next=8;break}return e.next=6,this.getProjectile(w.getRandomByWeight(p.ProjectileRedirection.map((function(e){return{weight:e.Weight,props:e}}))).Type,o);case 6:return _=e.sent,e.abrupt("return",_);case 8:return(b=null==(l=d.getObjects(t,f.CurrentLevel,"ProjectileProperties")[0])?void 0:l.objdata)||(b=null==(c=d.getObjects(t,f.ProjectileProps,"ProjectileProperties")[0])?void 0:c.objdata),b||(b=null==(u=d.getObjects("pea",f.ProjectileProps,"ProjectileProperties")[0])?void 0:u.objdata),e.next=13,this.loadProjectile(p.ProjectileBasedOn);case 13:if(h=e.sent,e.t0=g,!h){e.next=19;break}e.t1=h,e.next=22;break;case 19:return e.next=21,this.loadProjectile("pea");case 21:e.t1=e.sent;case 22:return e.t2=e.t1,(m=(0,e.t0)(e.t2)).parent=o,(y=m.getComponent("commonShot")).objdata=b,e.abrupt("return",y);case 28:case"end":return e.stop()}}),e,this)})));return function(t,o){return e.apply(this,arguments)}}(),e}());L.res=void 0;e("Projectiles",(P=S("Projectiles"),v=D(c),j=D(u),P((x=t((O=function(e){function t(){for(var t,o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return t=e.call.apply(e,[this].concat(a))||this,r(t,"featureJson",x,n(t)),t.PrjFeatures=[],r(t,"freeLocator",C,n(t)),t}o(t,e);var a=t.prototype;return a.onLoad=function(){this.PrjFeatures=this.featureJson.json.PROJECTILES,L.res=this},a.onEnable=function(){},t}(b)).prototype,"featureJson",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=t(O.prototype,"freeLocator",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=O))||k));var F=e("projectile",function(){function e(){}return e.pool=function(){return this.manager?this.manager.prjPool:[]},e.registerProjectile=function(e,t){var o,r;e&&(t==m.plant||t==m.zombie?e.enemyType=t:e.enemyType=m.default,-1==(null==(o=this.pool())?void 0:o.indexOf(e))&&(null==(r=this.manager)||null==(r=r.prjPool)||r.push(e)))},e.deleteProjectile=function(e){var t=this.pool().indexOf(e);-1!=t&&this.manager.prjPool.splice(t,1)},e}());F.manager=void 0,s._RF.pop()}}}));

System.register("chunks:///_virtual/ProjectileSpawner.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./SoundRescourses.ts","./Character.ts","./Projectiles.ts"],(function(t){var e,n,o,r,i,a,s,c,l,u,h,p,d,f,w,b,y;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,r=t.assertThisInitialized,i=t.createClass,a=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){c=t.cclegacy,l=t._decorator,u=t.AudioClip,h=t.Color,p=t.Vec2},function(t){d=t.Plant,f=t.PlantProps},function(t){w=t.sounds},function(t){b=t.CharacterType},function(t){y=t.ProjectileShootingFunctions}],execute:function(){var S,P,g,j,v,O,_,m;c._RF.push({},"2d4cdkWXBNBaL/wlv0fzqgg","ProjectileSpawner",void 0);var C=l.ccclass,R=l.property,z=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))||this).SpeedX=5,e.SpeedY=0,e.ProjectileType="bowling_wallnut",e}return n(e,t),e}(f),A=C("ProjectileSpawnerSound")(S=function(){})||S;t("ProjectileSpawnerPlant",(P=C("ProjectileSpawnerPlant"),g=R(A),j=R([u]),P((_=e((O=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i))||this,o(e,"soundRes",_,r(e)),e._objdataOwn=new z,o(e,"shootSounds",m,r(e)),e}n(e,t);var c=e.prototype;return c.onObjdataSet=function(t,e){},c.specialPlantOnEnable=function(){this.deathAnm="",this.foodable=!1,this.eaterDetectable=!1,this.smasherDetectable=!1,this.baseColor=new h(0,0,0,0),this.shadeAlphaScale=0,this.height=this.objdataOwn.StartingHeight},c.specialPlantOnSquareChange=function(t,e){this._shoot(),this.die(!1,!1,!1,!1),this.node.destroy()},c._shoot=function(){var t=a(s().mark((function t(){var e;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return w.playArray(this.shootSounds,1,.1),t.next=3,y.shootOnePea(this._objdataOwn.ProjectileType,this.worldPosition,this.objdataOwn.StartingHeight,this.inLane.prjLayer,new p(this.objdataOwn.SpeedX,this.objdataOwn.SpeedY),b.zombie);case 3:(e=t.sent)&&(e.JudgesZombieBodyRecForShooter=!0);case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),i(e,[{key:"objdataOwn",get:function(){return this._objdataOwn}}]),e}(d)).prototype,"soundRes",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new A}}),m=e(O.prototype,"shootSounds",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=O))||v));c._RF.pop()}}}));

System.register("chunks:///_virtual/PteroDinosaur.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Dinosaur.ts","./SoundRescourses.ts","./Square.ts","./ArrayGet.ts"],(function(i){var t,e,n,o,a,s,r,l,h,b,d,u,c,g;return{setters:[function(i){t=i.applyDecoratedDescriptor,e=i.inheritsLoose,n=i.initializerDefineProperty,o=i.assertThisInitialized,a=i.createClass},function(i){s=i.cclegacy,r=i._decorator,l=i.AudioClip},function(i){h=i.Dinosaur,b=i.DinosaurProps},function(i){d=i.sounds},function(i){u=i.Square},function(i){c=i.ValueRange,g=i.ArrayGet}],execute:function(){var y,p,f,m,P,w,S,v,Z,D,A,G,C,O,F,I,R,k,L;s._RF.push({},"5902dkswrVDH5BKLKzdFG1E","PteroDinosaur",void 0);var x=r.ccclass,X=r.property,M=function(i){function t(){for(var t,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return(t=i.call.apply(i,[this].concat(n))||this).FlyingTimes=3,t.MaxCarryZombies=1,t.DropColumn=0,t.IdleColumn=8.5,t.FlySPS=2.5,t.AttackRect="RTID(DinoPteroAttackRect@RectangleProps)",t}return e(t,i),t}(b);i("PteroDinosaur",(y=x("PteroDinosaur"),p=X([l]),f=X([l]),m=X([l]),P=X([l]),w=X([l]),S=X([l]),v=X([l]),Z=X([l]),y((G=t((A=function(i){function t(){for(var t,e=arguments.length,a=new Array(e),s=0;s<e;s++)a[s]=arguments[s];return(t=i.call.apply(i,[this].concat(a))||this)._objdataOwnOrg=new M,t._objdataOwn=new M,t.GrabbedZombies=[],t.entering=!1,t.exiting=!1,t.LeftFlies=3,n(t,"dropSounds",G,o(t)),n(t,"yawnSounds",C,o(t)),n(t,"cleanSounds",O,o(t)),n(t,"introSounds",F,o(t)),n(t,"flapSounds",I,o(t)),n(t,"grabSounds",R,o(t)),n(t,"stabSounds",k,o(t)),n(t,"lookAtFloorSounds",L,o(t)),t.flyingXRange=new c(-100,1e3),t.walkXRange=new c(500,500),t.ZombieDroppingX=0,t}e(t,i);var s=t.prototype;return s.playFlyStart=function(){var i=(this.reversed?-1:1)*(this.charmed?-1:1);this.worldPositionX=i>0?this.flyingXRange.Max:this.flyingXRange.Min,this.scale=i*Math.abs(this.scale),this.exiting=!1,this.flying=!0,this.playFlyLP()},s.playFlyLP=function(i){void 0===i&&(i=!1),i?this.dbAnimation.gotoAndPlayByProgress(this.FlyAnm,this.getCurrentAnimationProgress()):this.db.playAnimation(this.FlyAnm,1)},s.playDrop=function(){var i=this;this.GrabbedZombies.forEach((function(t){t.bodyRecHiddenCD=0,t.onDroppedByPtero(i),t.grabbingPtero==i&&(t.grabbingPtero=null)})),d.playArray(this.dropSounds,1,.1),this.GrabbedZombies=[],this.playFlyLP()},s.playGrab=function(i,t){i<=0&&t>0&&this.playFlyLP(),i!=t&&d.playArray(this.grabSounds,1,.1)},s.specialDinosaurOnLoad=function(){this.flyingXRange=new c(u.getSquareWorldPosition(0,18).x,u.getSquareWorldPosition(0,-10).x)},s.detectIdleZombies=function(){var i=this;if(this.entering)this.entering=!1;else{if(!this.exiting)return this.inLane.zombiePool().concat(this.inLane.hypnoZombiePool()).some((function(t){return i.ZombieCanBeGrabbed(t)&&t.worldPositionX<i.flyingXRange.Max&&t.worldPositionX>i.flyingXRange.Min}));this.exiting=!1}},s.specialDinosaurDieForce=function(){var i=this;this.GrabbedZombies.forEach((function(t){t.grabbingPtero==i&&(t.onDroppedByPtero(i),t.grabbingPtero=null)})),this.GrabbedZombies=[]},s.animationOnComplete=function(){this.switching=!1,this.leaving?this.chomp():this.flying?this.playFlyLP():this.exiting?this.playFlyStart():this.LeftFlies<=0?this.playLeave():this.detectIdleZombies()?(this.LeftFlies--,this.LeaveCD=this.objdataOwn.MaxWonderingTime,this.playOutro()):this.playIdle()},s.onReverseSet=function(i){this.setPosition()},s.onObjdataSet=function(i){this.setPosition(),this.LeftFlies=this.objdataOwn.FlyingTimes},s.onLaneSpawnSettled=function(i){this.setPosition()},s.playIntro=function(){this.correctDepth(1e3),this.LeaveCD=this.objdataOwn.MaxWonderingTime,this.flying=!1,this.playSwitching(),this.GrabbedZombies=[];var i="Intro"+this.CharmedTail,t=0;this.entering&&(t=this.getCurrentAnimationProgress()),this.entering=!0,this.dbAnimation.gotoAndPlayByProgress(i,t,1)},s.playOutro=function(){this.flying=!1,this.playSwitching();var i="Outro"+this.CharmedTail,t=0;this.exiting&&(t=this.getCurrentAnimationProgress()),this.exiting=!0,this.dbAnimation.gotoAndPlayByProgress(i,t,1)},s.setPosition=function(){var i=this.objdataOwn.IdleColumn;isNaN(i)&&(i=8.5),this.reversed&&(i=8-i);var t=u.getSquareWorldPosition(0,i).x;this.worldPositionX=t,this.scale=(this.reversed?-1:1)*Math.abs(this.scale);var e=this.objdataOwn.DropColumn;isNaN(e)&&(e=0),this.reversed&&(e=8-e);var n=u.getSquareWorldPosition(0,e).x;this.ZombieDroppingX=n},s.playSwitching=function(){this.switching=!0},s.playIdle=function(){this.switching=!1,this.entering=!1,this.exiting=!1,this.leaving=!1,this.flying=!1,this.db.playAnimation(this.IdleAnm,1)},s.getZombiesInRange=function(i){var t=this;return this.inLane.zombiePool().concat(this.inLane.hypnoZombiePool()).filter((function(e){return t.ZombieCanBeGrabbed(e)&&i.judgeCrossRec(e.bodyRec)}))},s.detectZombie=function(i){var t=this;if(!this.switching&&this.inLane&&i>0){var e=this.getRectangleAccordingToRectBox(this.AttackRect,this.worldPositionX),n=this.GrabbedZombies.length;this.getZombiesInRange(e).forEach((function(i){t.GrabbedZombies.length<t.objdataOwn.MaxCarryZombies&&(t.GrabbedZombies.push(i),i.reversed=t.scale>0,i.onGrabbedByPtero(t),i.grabbingPtero=t)}));var o=this.GrabbedZombies.length;this.playGrab(n,o)}},s.ZombieCanBeGrabbed=function(i){return-1==this.GrabbedZombies.indexOf(i)&&(null==i?void 0:i.isInLawn())&&i.bodyRecHiddenCD<=0&&!i.iceblocked&&!i.objdataOwnOrg.CannotBeGrabbedByPtero&&(this.charmed||i.reversed==this.reversed)&&this.GrabbedZombies.length<=this.objdataOwn.MaxCarryZombies&&i.knockBackable&&i.specialZombieLeapable()&&!i.knockBackTween&&i.leapable},s.canLeaveNow=function(){return!this.flying},s.specialDinosaurLeave=function(){this.flying||this.playOutro()},s.animationListener=function(i){switch(i.name){case"stab":d.playArray(this.stabSounds,1,.1);break;case"grab":d.playArray(this.grabSounds,1,.1);break;case"clean":d.playArray(this.cleanSounds,1,NaN,.2);break;case"flap":d.playArray(this.flapSounds,1,NaN,.4);break;case"yawn":d.playArray(this.yawnSounds,1,.2);break;case"look_at_floor":d.playArray(this.lookAtFloorSounds,1,.1);break;case"outro":case"enter":d.playArray(this.introSounds,1,.2)}},s.onCharmedSet=function(i){this.entering?this.playIntro():this.exiting?this.playOutro():this.flying?this.playFlyLP():this.switching||this.playIdle(),this.LeftFlies=this.objdataOwn.FlyingTimes},s.specialDinosaurDisplay=function(){this.playIntro()},s.specialDinosaurOnEnable=function(){this.GrabbedZombies=[],this.playIdle(),this.playIntro()},s.specialDinosaurUpdateForce=function(i,t,e){var n=this;if(e>0&&!this.leaving&&!this.fallingInSky&&this.flying){var o=this.charmed||this.worldPositionX>this.ZombieDroppingX&&this.scale>0||this.worldPositionX<this.ZombieDroppingX&&this.scale<=0;o&&this.detectZombie(i);var a=this.GrabbedZombies.concat();this.GrabbedZombies=this.GrabbedZombies.filter((function(i){var t=i.isAlive();return t||(i.bodyRecHiddenCD=0,i.onDroppedByPtero(n),i.grabbingPtero==n&&(i.grabbingPtero=null)),t})),!this.charmed&&a.length>0&&(this.GrabbedZombies.length<=0||!o)&&this.playDrop(),this.GrabbedZombies.forEach((function(i){i.worldPositionX=n.worldPositionX,i.worldPositionY=n.worldPositionY,i.height_depth=Math.max(i.shouldDepth(),n.height_depth-i.zombieHeight*Math.abs(i.scale)),i.updateWhenBeingGrabbedByPetero(n),i.bodyRecHiddenCD=.1})),this.worldPositionX-=this.objdataOwn.FlySPS*u.SquareWidth*i*Math.sign(this.scale),(this.worldPositionX<this.flyingXRange.Min&&this.scale>0||this.worldPositionX>this.flyingXRange.Max&&this.scale<=0||this.height>=1e3)&&(this.killAllZombiesGrabbed(),this.LeftFlies>0&&!this.leaving?(this.setPosition(),this.playIntro()):this.chomp())}},s.killAllZombiesGrabbed=function(){this.GrabbedZombies.forEach((function(i){i.chomp()})),this.GrabbedZombies=[]},s.shouldDepth=function(){if(this.flying){if(!this.GrabbedZombies.length)return-90;if((this.charmed||this.leaving)&&this.GrabbedZombies.length>=this.objdataOwn.MaxCarryZombies)return 1.1*-Math.max(1,this.height_depth);var i=0;return this.GrabbedZombies.forEach((function(t){i=Math.max(i,t.zombieHeight*Math.abs(t.scale))})),-i}return this.defaultShouldDepth()},s.displayXOffset=function(){return-20},a(t,[{key:"objdataOwn",get:function(){return this._objdataOwn}},{key:"objdataOwnOrg",get:function(){return this._objdataOwnOrg}},{key:"FlyAnm",get:function(){return this.GrabbedZombies.length?"Rise"+this.CharmedTail:"Fly"+this.CharmedTail}},{key:"IdleAnm",get:function(){return g.getRandom(this.charmed?["Idle0_Charmed","Idle1_Charmed"]:["Idle0","Idle1","Idle2","Idle3","Idle4","Idle5","Idle6"])}}]),t}(h)).prototype,"dropSounds",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C=t(A.prototype,"yawnSounds",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=t(A.prototype,"cleanSounds",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=t(A.prototype,"introSounds",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),I=t(A.prototype,"flapSounds",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=t(A.prototype,"grabSounds",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=t(A.prototype,"stabSounds",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=t(A.prototype,"lookAtFloorSounds",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=A))||D));s._RF.pop()}}}));

System.register("chunks:///_virtual/PuffShroom.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Peashooter.ts","./CharacterManager.ts","./Square.ts","./SoundRescourses.ts","./Plants.ts"],(function(t){var o,n,e,i,a,r,s,u,l,f,d,c,h,p,S,m,y;return{setters:[function(t){o=t.inheritsLoose,n=t.applyDecoratedDescriptor,e=t.initializerDefineProperty,i=t.assertThisInitialized,a=t.createClass},function(t){r=t.cclegacy,s=t._decorator,u=t.AudioClip,l=t.Color},function(t){f=t.PeashooterProps,d=t.peashooterSound,c=t.PeashooterPlant},function(t){h=t.PlantPool,p=t.Rectangle},function(t){S=t.Square},function(t){m=t.sounds},function(t){y=t.PlantEnum}],execute:function(){var g,P,C,b,D,v,F,w,A,_,L,R;r._RF.push({},"34ee0ldRRtFW6EvDX/mfEQ7","PuffShroom",void 0);var I=s.ccclass,x=s.property,E=t("PuffShroomProps",function(t){function n(){for(var o,n=arguments.length,e=new Array(n),i=0;i<n;i++)e[i]=arguments[i];return(o=t.call.apply(t,[this].concat(e))||this).LifeSpan=60,o}return o(n,t),n}(f)),z=(g=I("puffShroomSound"),P=x([u]),C=x([u]),g((v=n((D=function(t){function n(){for(var o,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return o=t.call.apply(t,[this].concat(a))||this,e(o,"foodStartSounds",v,i(o)),e(o,"fadeSounds",F,i(o)),o}o(n,t);var a=n.prototype;return a.playFood=function(){m.playArray(this.foodStartSounds,1,.1)},a.playFadeSound=function(){m.playArray(this.fadeSounds,1,.1)},n}(d)).prototype,"foodStartSounds",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=n(D.prototype,"fadeSounds",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),b=D))||b);t("PuffShroomPlant",(w=I("PuffShroomPlant"),A=x(z),w((R=n((L=function(t){function n(){for(var o,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return o=t.call.apply(t,[this].concat(a))||this,e(o,"soundRes",R,i(o)),o.foodDuration=0,o._objdataOwn=new E,o._lifeCD=60,o}o(n,t);var r=n.prototype;return r.specialPlantFood=function(t){var o=this;void 0===t&&(t=!0),t&&(this.soundRes.playFood(),h.pool().concat().forEach((function(t){if(!t.fooding&&(t.ID==y.PuffShroom||t.ID==y.SeaShroom)){var n=t,e=n.inLnC.cIndex-o.inLnC.cIndex,i=n.inLnC.lIndex-o.inLnC.lIndex,a=Math.sqrt(e*e+i*i);n.foodDuration=a/8,n.food(!1)}}))),this.lifeCD=this._objdataOwn.LifeSpan,this.anmControl.playAnimation("FoodStart",2,0,1/(this.foodDuration+.05))},r.setDetecter=function(t,o){this.detector=p.createRectangleNodeSide(o.node,3.5*S.SquareWidth,S.SquareHeight)},r.shotInitialize=function(t){t.maxDistance=4},r.getFadeTimeMult=function(){return 1},r.specialPeashooterUpdate=function(t){this.fooding||(this.lifeCD-=t*this.getFadeTimeMult())},r.specialPeashooterOnEnable=function(){this.lifeCD=this._objdataOwn.LifeSpan,this.deathAnm="Death"},r.specialPlantFoodEnd=function(){this.anmControl.playAnimation("FoodEnd",1)},r.animationListenerAdd=function(t){"toFooding"==t.name&&(this.anmControl.playAnimation("Fooding",1/0,0,1),this.foodShooting())},a(n,[{key:"lifeCD",get:function(){return this._lifeCD},set:function(t){var o,n=0;if(this._lifeCD=t,t<=0)return this.deathAnm="Fade",this.soundRes.playFadeSound(),void this.die();for(n=0;n<3;n++){var e=this._objdataOwn.LifeSpan;if(t>e/3*n&&t<=e/3*(n+1))break}null==(o=this.anmControl.db.armature().getSlot("head"))||o._setDisplayIndex(2-n);var i=1==(!this.fooding&&t<10&&t>0&&Math.floor(4*t)%4)?100:255,a=this.baseColor.clone();this.baseColor=new l(a.r,a.g,a.b,i)}}]),n}(c)).prototype,"soundRes",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new z}}),_=L))||_));r._RF.pop()}}}));

System.register("chunks:///_virtual/Pumpkin.ts",["./rollupPluginModLoBabelHelpers.js","cc","./WallNut.ts"],(function(t){var n,i,e,a;return{setters:[function(t){n=t.inheritsLoose},function(t){i=t.cclegacy,e=t._decorator},function(t){a=t.WallNutPlant}],execute:function(){var o;i._RF.push({},"4a226yglb9CeIyVMLO4Q5/8","Pumpkin",void 0);var s=e.ccclass;e.property,t("PumpkinPlant",s("PumpkinPlant")(o=function(t){function i(){return t.apply(this,arguments)||this}n(i,t);var e=i.prototype;return e.onDamaged=function(t,n,i){for(var e=1;e<=3;e++)if(i<=this.toughness/3*e){this.setAnimation(3-e);break}},e.specialPlantFood=function(t){this.armorHealth=this.armorToughness,this.foodable=!1,this.setArmor(0),this.setAnimation(),this.soundRes.playFoodSound(),this.foodEnd()},e.setAnimation=function(t){if(void 0===t&&(t=0),this.hurtStage!=t){this.deathAnm="";var n,i=this.anmControl;switch(i.RandomAnim=[],this.hurtStage=t,t){case 1:i.IdleAnim="Idle2";break;case 2:i.IdleAnim="Idle3";break;default:i.IdleAnim="Idle1",this.hurtStage=0}if(!this.dead)i.playIdle(),null==(n=this.plantInLnC)||n.readIndex()}},i}(a))||o);i._RF.pop()}}}));

System.register("chunks:///_virtual/railway.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Tile.ts"],(function(t){var n,r,e,i,o;return{setters:[function(t){n=t.inheritsLoose,r=t.createClass},function(t){e=t.cclegacy,i=t._decorator},function(t){o=t.Tile}],execute:function(){var s;e._RF.push({},"8e662qRxuJEY6bPNsUBbW5R","railway",void 0);var c=i.ccclass;i.property,t("railway",c("railway")(s=function(t){function e(){for(var n,r=arguments.length,e=new Array(r),i=0;i<r;i++)e[i]=arguments[i];return(n=t.call.apply(t,[this].concat(e))||this)._pos=1,n.carts=[],n.group=[],n}n(e,t);var i=e.prototype;return i.setTileParent=function(t){},i.getCartInLnC=function(t){return this.carts.find((function(n){return n.inLnC==t}))},i.specialTileOnEnable=function(){this.group=[]},i.specialTileOnLoad=function(){this.carts=[]},r(e,[{key:"pos",get:function(){return this._pos},set:function(t){this._pos=t}}]),e}(o))||s);e._RF.pop()}}}));

System.register("chunks:///_virtual/RaptorDinosaur.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Dinosaur.ts","./SoundRescourses.ts","./Square.ts","./CharacterManager.ts","./ArrayGet.ts"],(function(i){var t,e,a,n,s,o,r,l,h,c,u,d,p,g,k;return{setters:[function(i){t=i.applyDecoratedDescriptor,e=i.inheritsLoose,a=i.initializerDefineProperty,n=i.assertThisInitialized,s=i.createClass},function(i){o=i.cclegacy,r=i._decorator,l=i.AudioClip,h=i.Vec2},function(i){c=i.Dinosaur,u=i.DinosaurProps},function(i){d=i.sounds},function(i){p=i.Square},function(i){g=i.Rectangle},function(i){k=i.ValueRange}],execute:function(){var y,S,f,m,b,w,v,R,W,A,P,C,I,T,D;o._RF.push({},"8ce8fAiyLlMjZg30xQ9+nrs","RaptorDinosaur",void 0);var L=r.ccclass,O=r.property,j=function(i){function t(){for(var t,e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];return(t=i.call.apply(i,[this].concat(a))||this).ZombiesToKick=5,t.ZombiesToFlickCharmed=5,t.WalkSPS=1,t.LeaveSpeedScale=2,t.ZombieKickDistance=4,t.KickEdgeColumn=2,t.WalkEdgeColumn=4,t.ReservedColumn=1,t}return e(t,i),t}(u);i("RaptorDinosaur",(y=L("RaptorDinosaur"),S=O([l]),f=O([l]),m=O([l]),b=O([l]),w=O([l]),v=O([l]),y((A=t((W=function(i){function t(){for(var t,e=arguments.length,s=new Array(e),o=0;o<e;o++)s[o]=arguments[o];return(t=i.call.apply(i,[this].concat(s))||this)._objdataOwnOrg=new j,t._objdataOwn=new j,t.isIdling=!1,t.isWalking=!1,t.LeftKicks=5,t.detectStarted=!1,a(t,"leapSounds",A,n(t)),a(t,"stepSounds",P,n(t)),a(t,"leapCharmSounds",C,n(t)),a(t,"idleSaySounds",I,n(t)),a(t,"kickSaySounds",T,n(t)),a(t,"rubSounds",D,n(t)),t.randomWalkSpeedRate=0,t.IdleSayCD=0,t.walkXRange=new k(500,500),t}e(t,i);var o=t.prototype;return o.animationOnComplete=function(){this.switching=!1,this.LeftKicks<=0&&!this.leaving?this.playLeave():!this.charmed&&!this.displayed||this.leaving?this.playWalk(0):this.playIdle(0)},o.onReverseSet=function(i){this.setWalkRange()},o.onObjdataSet=function(i){this.setWalkRange(),this.LeftKicks=this.objdataOwn.ZombiesToKick},o.onLaneSpawnSettled=function(i){this.playWalk()},o.setWalkRange=function(){var i=this.objdataOwn.WalkEdgeColumn;this.reversed&&(i=8-i);var t=p.getSquareWorldPosition(0,i).x,e=this.reversed?0:8,a=p.getSquareWorldPosition(0,e).x;this.walkXRange=new k(Math.max(t,a),Math.min(t,a))},o.playSwitching=function(){this.switching=!0,this.isIdling=!1,this.isWalking=!1},o.playTurn=function(){this.playSwitching(),this.db.playAnimation(this.TurnAnm,1)},o.playKick=function(){this.playSwitching(),this.db.playAnimation(this.KickAnm,1)},o.playIdle=function(i){void 0===i&&(i=NaN),this.isIdling&&isNaN(i)||(this.isIdling=!0,this.isWalking=!1,isNaN(i)&&(i=0),this.dbAnimation.gotoAndPlayByProgress(this.IdleAnm,i,1))},o.playWalk=function(i){void 0===i&&(i=NaN),this.isWalking&&isNaN(i)||(this.isWalking=!0,this.isIdling=!1,isNaN(i)&&(i=0),this.dbAnimation.gotoAndPlayByProgress(this.WalkAnm,i,1))},o.getZombiesInRange=function(i){return this.inLane.zombiePool().concat(this.inLane.hypnoZombiePool()).filter((function(t){return t.knockBackable&&t.specialZombieLeapable()&&!t.knockBackTween&&t.leapable&&i.judgeCrossRec(t.bodyRec)}))},o.detectZombie=function(i){if(!this.switching&&this.inLane&&i>0){var t=this.scale,e=Math.abs(t),a=this.AttackRect,n=g.createRectangleCenter(new h(this.shadeSocket.worldPosition.x+a.x*e*(this.charmed?Math.sign(t):this.reversed?-1:1),this._worldPositionY+a.y*e+this.height_depth),a.w*e,a.h*e);if(this.getZombiesInRange(n).length){var s=this.reversed?-1:1;!this.charmed&&s*this.scale<=0?this.playTurn():this.playKick()}}},o.specialDinosaurLeave=function(){(this.reversed?1:-1)*this.scale<=0?this.playTurn():this.playWalk()},o._kick=function(){var i=this;if(!this.leaving&&this.inLane){var t=this.getRectangleAccordingToRectBox({x:this.AttackRect.x,y:this.AttackRect.y,w:2.5*this.AttackRect.w,h:this.AttackRect.h}),e=this.getZombiesInRange(t).sort((function(t,e){return(e.worldPositionX-t.worldPositionX)*i.scale})).find((function(){return!0}));if(e){if(this.charmed)e.tossAway(.75,new h(-this.scale,0));else{var a=e.worldPositionX-this.objdataOwn.ZombieKickDistance*p.SquareWidth*Math.sign(this.scale),n=this.objdataOwn.KickEdgeColumn;this.scale<0&&(n=8-n);var s=p.getSquareWorldPosition(0,n).x;this.scale*(s-a)>0&&(a=s),e.leapTo(new h(a,e.worldPositionY),!0,.5)}this.LeaveCD=this.objdataOwn.MaxWonderingTime,this.LeftKicks--}}},o.animationListener=function(i){switch(i.name){case"turn":this.scale*=-1;break;case"leap":d.playArray(this.charmed?this.leapCharmSounds:this.leapSounds,1,.1);break;case"step":d.playArray(this.stepSounds,1,NaN);break;case"kick":d.playArray(this.kickSaySounds,1),this._kick();break;case"scratch":d.playArray(this.rubSounds,1,.2)}},o.onCharmedSet=function(i){if(i){this.detectStarted=!0;var t=this.reversed?1:-1;this.scale*t<=0?this.playTurn():this.playIdle()}else this.isWalking&&this.playWalk(this.getCurrentAnimationProgress());this.LeftKicks=this.objdataOwn.ZombiesToKick},o.specialDinosaurDisplay=function(){this.playSwitching(),this.db.playAnimation("Intro",1)},o.specialDinosaurOnEnable=function(){this.playWalk(),this.detectStarted=!1,this.setRandomSpeed()},o.walkTimeScale=function(i,t,e){return 0==this.squarePerSec?e:i/t/Math.abs(this.scaleMultedOrgScale)*e},o.setRandomSpeed=function(i){void 0===i&&(i=.1),this.randomWalkSpeedRate=i*(1-2*Math.random())},o.extraSpeedScale=function(){return this.leaving&&this.isWalking?this.objdataOwn.LeaveSpeedScale:1},o.canbeCharmedNow=function(){var i;return null==(i=this.inLnC)?void 0:i.isInLawn()},o.specialDinosaurUpdateForce=function(i,t,e){if(e>0&&!this.fallingInSky&&!this.switching)if(this.detectStarted&&!this.leaving&&(this.charmed||this.worldPositionX<this.walkXRange.Max&&this.worldPositionX>this.walkXRange.Min)&&this.detectZombie(i),this.isWalking&&!this.fallingInSky){var a=this.randomSpeed*p.SquareWidth/60*e;this.db.timeScale=this.walkTimeScale(a,this.anmSpeed,e);var n=a*i*60*Math.sign(this.scale);if(this.worldPositionX-=n,this.leaving){(this.worldPositionX-(p.zombieSpawnX+p.SquareWidth)>0&&this.scale<0||this.worldPositionX-Math.max(p.zombieWinX-p.SquareWidth,0)<0&&this.scale>0||this.worldPositionY<=-100||this.worldPositionY>=800)&&this.chomp()}else{var s=!1;this.worldPositionX-this.walkXRange.Min<0&&this.scale>0&&(s=!0),this.worldPositionX-this.walkXRange.Max>0&&this.scale<0&&(s=!0),s&&(this.detectStarted=!0,this.playTurn())}this.IdleSayCD-=t,this.IdleSayCD<=0&&(this.IdleSayCD=3,d.playArray(this.idleSaySounds,1,NaN,1))}else this.db.timeScale=e},s(t,[{key:"objdataOwn",get:function(){return this._objdataOwn}},{key:"objdataOwnOrg",get:function(){return this._objdataOwnOrg}},{key:"WalkAnm",get:function(){return"Walk"+this.CharmedTail}},{key:"IdleAnm",get:function(){return"Idle"+this.CharmedTail}},{key:"KickAnm",get:function(){return"Kick"+this.CharmedTail}},{key:"TurnAnm",get:function(){return"Turn"+this.CharmedTail}},{key:"squarePerSec",get:function(){return this.objdataOwn.WalkSPS}},{key:"randomSpeed",get:function(){return this.squarePerSec+this.randomWalkSpeedRate}},{key:"anmSpeed",get:function(){return.33}}]),t}(c)).prototype,"leapSounds",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),P=t(W.prototype,"stepSounds",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C=t(W.prototype,"leapCharmSounds",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),I=t(W.prototype,"idleSaySounds",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),T=t(W.prototype,"kickSaySounds",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=t(W.prototype,"rubSounds",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=W))||R));o._RF.pop()}}}));

System.register("chunks:///_virtual/RedStinger.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./CharacterManager.ts","./Square.ts","./SoundRescourses.ts","./Character.ts","./Projectiles.ts"],(function(t){var e,n,a,o,i,r,s,h,l,u,d,c,f,g,p,S,m,y,b,D,A,_;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,a=t.initializerDefineProperty,o=t.assertThisInitialized,i=t.createClass,r=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){h=t.cclegacy,l=t._decorator,u=t.AudioClip,d=t.dragonBones,c=t.Node,f=t.Vec2},function(t){g=t.Plant,p=t.PlantProps},function(t){S=t.Rectangle,m=t.ZombieDamageDetails,y=t.ZombieDamageType},function(t){b=t.Square},function(t){D=t.sounds},function(t){A=t.CharacterType},function(t){_=t.ProjectileShootingFunctions}],execute:function(){var w,P,C,R,v,I,O,j,E,F,z,T,B,L,H,x,k,M,q,W,N,V,Y,Z;h._RF.push({},"1503bEf9zlKybbD/WTeTtI3","RedStinger",void 0);var G=l.ccclass,K=l.property,U=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))||this).ShootInterval=.2,e.ShootIntervalAdditional=.25,e.DamageScale0=1,e.DamageScale1=.3333333,e.DamageScale2=.2,e.PFDuration=5,e.PFDPS=200,e.PeaType="redstinger",e.PeaTypeWeak="redstinger_weak",e}return n(e,t),e}(p),J=(w=G("Red Stinger Sound"),P=K(u),C=K(u),R=K([u]),v=K([u]),I=K(u),O=K(u),w((F=e((E=function(){function t(){a(this,"foodCharge",F,this),a(this,"foodStart",z,this),a(this,"shootSounds",T,this),a(this,"shootSoundsScared",B,this),a(this,"rayEnd",L,this),a(this,"rayStart",H,this)}var e=t.prototype;return e.playFoodCharge=function(){D.playOneShot(this.foodCharge,1,.2)},e.playFoodStart=function(){D.playOneShot(this.foodStart,1,.1)},e.playShoot=function(t){void 0===t&&(t=!1),D.playArray(t?this.shootSoundsScared:this.shootSounds,.3,.1)},e.playRayEnd=function(){D.playOneShot(this.rayEnd,1,.1)},e.playRayStart=function(){D.playOneShot(this.rayStart,1,.1)},t}()).prototype,"foodCharge",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=e(E.prototype,"foodStart",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=e(E.prototype,"shootSounds",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B=e(E.prototype,"shootSoundsScared",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=e(E.prototype,"rayEnd",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=e(E.prototype,"rayStart",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=E))||j);t("RedStingerPlant",(x=G("RedStingerPlant"),k=K(J),M=K(d.ArmatureDisplay),q=K(c),x((V=e((N=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))||this)._hurtStage=0,a(e,"soundRes",V,o(e)),e.shootAnm="Shoot",e._inArea=0,e.shooting=!1,e.detector=new S,e.shootCD=0,e._objdataOwn=new U,a(e,"rayDB",Y,o(e)),e.foodCD=10,a(e,"peaPoint",Z,o(e)),e}n(e,t);var h=e.prototype;return h.getHurtStage=function(t){for(var e=0;e<4;e++)if(t<this.toughness*(e+1)/4)return 3-e;return 0},h.getIdleAnm=function(t,e){switch(e){case 1:return"Idle_Scared";case 2:switch(t){case 1:return"Idle_Hide_1";case 2:return"Idle_Hide_2";case 3:return"Idle_Hide_3";default:return"Idle_Hide_0"}default:return"Idle"}},h.getRandAnm=function(t,e){switch(e){case 1:return["Rand_Scared"];case 2:return[];default:return["Rand"]}},h.getShootAnm=function(t){switch(t){case 1:return"Shoot_Scared";case 2:return null;default:return"Shoot"}},h.getDeathAnm=function(t){switch(t){case 1:return"Death_Scared";case 2:return"Death_Hide";default:return"Death"}},h.waterable=function(){return 0==this.inArea&&!this.shooting},h.replantable=function(){return this.hurtStage>0&&2==this.inArea},h.replant=function(){this.heal(this.toughness)},h.animationOnComplete=function(){this.shooting=!1},h.specialPlantOnEnable=function(){this.shooting=!1,this._hurtStage=0,this._inArea=0,this.rayDB.node.active=!1},h.specialPlantOnSquareChange=function(t,e){this.detector=S.createRectangleNodeSide(e.node,b.SquareWidth*(9-e.cIndex),b.SquareHeight),this.inArea=Math.floor(e.cIndex/3)},h.onDamaged=function(t,e,n){var a,o=this.getHurtStage(n);o!=this.hurtStage&&(this.hurtStage=o,2==this.inArea&&(null==(a=this.plantInLnC)||a.readIndex()))},h.detectEnemy=function(){if(2==this.inArea)return!1;for(var t=this.inLane.zombiePool(),e=0;e<t.length;e++){var n;if(this.detector.judgeCrossRec(null==(n=t[e])?void 0:n.bodyRecForShooter))return!0}for(var a=this.inLane.tombPool(),o=0;o<a.length;o++){var i;if(this.detector.judgeCrossRec(null==(i=a[o])?void 0:i.bodyRec))return!0}return!1},h.damageScale=function(t,e){switch(this.inArea){case 1:return this._objdataOwn.DamageScale1;case 2:return this._objdataOwn.DamageScale2;default:return this._objdataOwn.DamageScale0}},h.specialPlantOnLoad=function(){var t,e=this;null==(t=this.rayDB)||t.on(d.EventObject.FRAME_EVENT,(function(t){"die"==t.name&&(e.rayDB.node.active=!1)}),this)},h.specialPlantFood=function(t){this.onDamaged(0,this.toughness,this.toughness),this.anmControl.playAnimation("FoodStart",1/0),this.rayDB.playAnimation("Idle",1/0),this.foodCD=1/0},h.specialPlantFoodEnd=function(){this.anmControl.playAnimation("FoodEnd",1),this.rayDB.playAnimation("Die",2),this.soundRes.playRayEnd()},h.foodRay=function(t){var e=this,n=this._objdataOwn.PFDPS*t*this._dmgScale,a=new m(n,!0,!1,!1,null,y.ray);this.inLane.zombiePool().forEach((function(t){e.detector.judgeCrossRec(t.bodyRecReal)&&(t.dealDamage(a),t.sapflingCD=.5)})),this.inLane.tombPool().forEach((function(t){e.detector.judgeCrossRec(t.bodyRec)&&t.dealDamage(a)}))},h._shoot=function(){var t=r(s().mark((function t(e,n){var a,o,i,r,h;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===e&&(e=this._objdataOwn.PeaType),o=null==(a=this.inLnC)?void 0:a.havePeaBuff,i=this._dmgScale,t.next=6,_.shootOnePea(e,new f(this.peaPoint.worldPosition.x,this.worldPositionY),this.peaPoint.worldPosition.y-this.worldPositionY,this.inLane.prjLayer,new f(11,0),A.zombie);case 6:r=t.sent,h=r.damage,r.setDamage(h*i),o&&r.addPeaBuff();case 10:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}(),h.animationListener=function(t){if("ShootSound"==t.name)this.soundRes.playShoot(1==this.inArea);else if("Shoot"==t.name){var e=1==this.inArea;this._shoot(e?this._objdataOwn.PeaTypeWeak:this._objdataOwn.PeaType,e)}else"foodShoot"==t.name?(this.soundRes.playRayStart(),this.rayDB.node.active=!0,this.foodCD=this._objdataOwn.PFDuration):"foodChargeSound"==t.name?this.soundRes.playFoodCharge():"foodStartSound"==t.name?this.soundRes.playFoodStart():"tweenToIdle"==t.name&&this.anmControl.playIdle(.1)},h.specialPlantUpdate=function(t,e,n){if(this.fooding)this.foodCD>0?(this.foodCD-=t,isFinite(this.foodCD)&&this.foodRay(t)):this.foodEnd();else if(this.shootCD>0&&(this.shootCD-=t),this.shootCD<=0&&n>0&&this.detectEnemy()){var a=this._objdataOwn.ShootInterval+Math.random()*this._objdataOwn.ShootIntervalAdditional;a*=this._cdScale,this.shootCD=a,this.shooting=!0,this.anmControl.playAnimation(this.shootAnm,1,0,Math.max(1,(1==this.inArea?1:2)/a))}},i(e,[{key:"hurtStage",get:function(){return this._hurtStage},set:function(t){this.anmControl.IdleAnim=this.getIdleAnm(t,this.inArea),this.anmControl.RandomAnim=this.getRandAnm(t,this.inArea),this._hurtStage==t||this.shooting||this.fooding||this.anmControl.playIdle(),this._hurtStage=t}},{key:"inArea",get:function(){return this._inArea},set:function(t){this.shootAnm=this.getShootAnm(t),this.deathAnm=this.getDeathAnm(t),this.anmControl.IdleAnim=this.getIdleAnm(this.hurtStage,t),this.anmControl.RandomAnim=this.getRandAnm(this.hurtStage,t),this._inArea==t||this.shooting||this.fooding||this.anmControl.playIdle(),this._inArea=t}}]),e}(g)).prototype,"soundRes",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new J}}),Y=e(N.prototype,"rayDB",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=e(N.prototype,"peaPoint",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=N))||W));h._RF.pop()}}}));

System.register("chunks:///_virtual/Repeater.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Peashooter.ts"],(function(t){var o,n,e,a,r,s,i;return{setters:[function(t){o=t.inheritsLoose},function(t){n=t.cclegacy,e=t._decorator,a=t.tween,r=t.dragonBones},function(t){s=t.PeashooterPlant,i=t.PeashooterProps}],execute:function(){var c;n._RF.push({},"0ce4bS4im9AmLSjGLyc0BdI","Repeater",void 0);var l=e.ccclass,u=(e.property,function(t){function n(){for(var o,n=arguments.length,e=new Array(n),a=0;a<n;a++)e[a]=arguments[a];return(o=t.call.apply(t,[this].concat(e))||this).PeaTypeMega="pea_mega",o}return o(n,t),n}(i));t("RepeaterPlant",l("RepeaterPlant")(c=function(t){function n(){for(var o,n=arguments.length,e=new Array(n),a=0;a<n;a++)e[a]=arguments[a];return(o=t.call.apply(t,[this].concat(e))||this)._objdataOwn=new u,o}o(n,t);var e=n.prototype;return e.specialPlantFood=function(){var t=this;this.anmControl.playAnimation("Food",1/0),this.soundRes.playFood(),this.busy=1/0,this._foodLeftPeaCount=this._objdataOwn.PlantfoodPeaCount;a(this).to(2,{foodLeftPeaCount:0}).call((function(){t.anmControl.playAnimation("FoodBig",1),t.anmControl.db.once(r.EventObject.COMPLETE,t.foodEnd,t)})).start()},e.animationListener=function(t){"Shoot"==t.name&&this._shoot(),"shootMega"==t.name&&(this._shoot(!1,!1,this._objdataOwn.PeaTypeMega),this.soundRes.playShootMega()),"ShootSound"==t.name&&this.soundRes.playShootSound()},n}(s))||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/Rotobaga.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Peashooter.ts","./Character.ts","./Square.ts","./CharacterManager.ts","./SoundRescourses.ts","./Projectiles.ts"],(function(o){var t,n,e,i,a,r,s,u,c,h,l,d,f,p,y,S,b,w,g,m;return{setters:[function(o){t=o.applyDecoratedDescriptor,n=o.inheritsLoose,e=o.initializerDefineProperty,i=o.assertThisInitialized,a=o.asyncToGenerator,r=o.regeneratorRuntime},function(o){s=o.cclegacy,u=o._decorator,c=o.AudioClip,h=o.Prefab,l=o.Vec2,d=o.HALF_PI},function(o){f=o.PeashooterPlant},function(o){p=o.CharacterType},function(o){y=o.Square},function(o){S=o.Rectangle,b=o.ZombiePool,w=o.TombPool},function(o){g=o.sounds},function(o){m=o.ProjectileShootingFunctions}],execute:function(){var P,v,R,F,x,E,M,C,z,_,q,A,I,L,j,D,X,N,T,B;s._RF.push({},"7c365RLDvtKUKsmFwtGwl+1","Rotobaga",void 0);var H=u.ccclass,W=u.property,Y=o("rotobagaSound",(P=H("rotobagaSound"),v=W(c),R=W([c]),F=W([c]),x=W([c]),E=W([c]),P((z=t((C=function(){function o(){e(this,"foodSound",z,this),e(this,"shootSound",_,this),e(this,"breathSound",q,this),e(this,"foodEndSound",A,this),e(this,"shootFoodSound",I,this),this.volumeScale=.5}var t=o.prototype;return t.playFood=function(){g.playOneShot(this.foodSound,this.volumeScale,.1)},t.playBreath=function(){g.playArray(this.breathSound,this.volumeScale,NaN,.5)},t.playFoodEnd=function(){g.playArray(this.foodEndSound,this.volumeScale,.1)},t.playShootSound=function(){g.playArray(this.shootSound,this.volumeScale,NaN,.5)},t.playFoodShoot=function(){g.playArray(this.shootFoodSound,this.volumeScale,.1)},o}()).prototype,"foodSound",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(C.prototype,"shootSound",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),q=t(C.prototype,"breathSound",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=t(C.prototype,"foodEndSound",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),I=t(C.prototype,"shootFoodSound",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),M=C))||M));o("RotobagaPlant",(L=H("Rotobaga"),j=W(Y),D=W(h),L((T=t((N=function(o){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(t=o.call.apply(o,[this].concat(a))||this).detectors=[],e(t,"soundResRotobaga",T,i(t)),e(t,"peaMega",B,i(t)),t}n(t,o);var s=t.prototype;return s._shootX=function(){var o=a(r().mark((function o(t,n,e,i){var a,s,u,c,h;return r().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return void 0===t&&(t=new l(1,1)),void 0===n&&(n=!1),void 0===e&&(e=this._objdataOwn.PeaType),void 0===i&&(i=15),a=0,n&&(a=1.5-3*Math.random()),i=8+a,s=new l(y.SquareWidth*t.x+2*a,y.SquareHeight*t.y).normalize().multiplyScalar(i),c=null==(u=this.inLnC)?void 0:u.havePeaBuff,o.next=12,m.shootOnePea(e,new l(this.peaSpawnpoint.worldPosition.x,this.worldPositionY),Math.max(1,this.peaSpawnpoint.worldPosition.y-this.inLnC.plantPoint.worldPosition.y),this.inLane.prjLayer,s,p.zombie);case 12:h=o.sent,c&&h.addPeaBuff();case 14:case"end":return o.stop()}}),o,this)})));return function(t,n,e,i){return o.apply(this,arguments)}}(),s.onFoodLeftPeaCountDec=function(){var o=this;[new l(1,1),new l(-1,1),new l(1,-1),new l(-1,-1)].forEach((function(t){o._shootX(t,!0,o._objdataOwn.PeaTypePlantfood)}))},s.setDetecter=function(o,t){this.detectors=[],this.detectors.push(S.createRectangleNodeCenter(t.node,16*y.SquareWidth,30,90*Math.atan2(y.SquareHeight,y.SquareWidth)/d),S.createRectangleNodeCenter(t.node,16*y.SquareWidth,30,90*Math.atan2(-y.SquareHeight,y.SquareWidth)/d))},s.specialPlantFoodEnd=function(){this.soundResRotobaga.playFoodEnd(),this.busy=0},s.specialPlantFood=function(){this.anmControl.playAnimation("Food",1),this.soundResRotobaga.playFood(),this.busy=1/0},s.detectEnemy=function(){var o=this,t=!1;return this.detectors.forEach((function(n){t||(b.pool().forEach((function(o){t||n.judgeCrossRec(o.bodyRecForShooter)&&(t=!0)})),w.pool().forEach((function(n){t||Math.abs(n.cIndex-o.cIndex)==Math.abs(n.lIndex-o.lIndex)&&(t=!0)})))})),t},s.getDirections=function(){var o=this,t=[];return this.detectors.forEach((function(n){b.pool().forEach((function(e){if(n.judgeCrossRec(e.bodyRecForShooter)){var i=Math.sign(e.worldPositionX-o.worldPositionX),a=Math.sign(e.worldPositionY-o.worldPositionY);(0==i?0==a?[new l(1,1),new l(1,-1),new l(-1,1),new l(-1,-1)]:[new l(1,a),new l(-1,a)]:0==a?[new l(i,1),new l(i,-1)]:[new l(i,a)]).forEach((function(o){t.every((function(t){return t.x!=o.x||t.y!=o.y}))&&t.push(o)}))}})),w.pool().forEach((function(n){if(Math.abs(n.cIndex-o.cIndex)==Math.abs(n.lIndex-o.lIndex)){var e=Math.sign(n.worldPositionX-o.worldPositionX),i=Math.sign(n.worldPositionY-o.worldPositionY);t.every((function(o){return o.x!=e||o.y!=i}))&&t.push(new l(e,i))}}))})),t},s._shootPeaAnimation=function(){this.soundResRotobaga.playBreath(),this.anmControl.playAnimation("Shoot",1,.1,Math.max(.66/this.busy,1))},s.animationListener=function(o){var t=this;"Shoot"==o.name&&this.getDirections().forEach((function(o){t._shootX(o,!1)})),"ShootSound"==o.name&&this.soundResRotobaga.playShootSound(),"shootStart"==o.name&&(this.soundResRotobaga.playFoodShoot(),this.foodShooting()),"shootEnd"==o.name&&this.foodEnd()},t}(f)).prototype,"soundResRotobaga",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Y}}),B=t(N.prototype,"peaMega",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=N))||X));s._RF.pop()}}}));

System.register("chunks:///_virtual/runningGuacodile.ts",["./rollupPluginModLoBabelHelpers.js","cc","./commonShot.ts","./SoundRescourses.ts","./CharacterManager.ts","./FrontYard.ts","./NodePools.ts","./Particles.ts","./ParticleSelfdestroy.ts","./levelController.ts","./LnC.ts","./Projectiles.ts"],(function(e){var t,i,n,a,o,r,s,l,c,h,u,d,p,f,w,m,y,g,v,b,P,S,C;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized,o=e.createClass,r=e.asyncToGenerator,s=e.regeneratorRuntime},function(e){l=e.cclegacy,c=e._decorator,h=e.AudioClip,u=e.dragonBones,d=e.Vec3},function(e){p=e.commonShot},function(e){f=e.sounds},function(e){w=e.ZombieDamageDetails,m=e.ZombieDamageType},function(e){y=e.FrontYard},function(e){g=e.instantiatePooly},function(e){v=e.particle},function(e){b=e.ParticleSelfdestroy},function(e){P=e.LevelPlay},function(e){S=e.TileType},function(e){C=e.ProjectileProps}],execute:function(){var A,D,L,j,F,R,k;l._RF.push({},"359263ox5pLNpkP+IJuxjQY","runningGuacodile",void 0);var I=c.ccclass,H=c.property,T=function(e){function t(){for(var t,i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).DamagePerHit=70,t}return i(t,e),t}(C);e("runningGuacodile",(A=I("runningGuacodile"),D=H([h]),L=H(Number),A((R=t((F=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return(t=e.call.apply(e,[this].concat(o))||this)._objdata=new T,t.depthScale=12,t.wave=null,n(t,"biteSound",R,a(t)),n(t,"damagePerHit",k,a(t)),t}i(t,e);var l=t.prototype;return l.specialOnObjdataSet=function(e){this.damagePerHit=this.objdataOwn.DamagePerHit},l.pop=function(){var e=r(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l.detectEnemy=function(e){},l.hitFloor=function(e){this.height=0,this.depth=0,this.gravity=this.bodyLinearVelocity=0,this.wave&&(this.wave.getComponent(u.ArmatureDisplay).playAnimation("Fade"),this.wave.willBeKilled=!0,this.wave=null)},l.onFaded=function(){this.wave&&(this.wave.getComponent(u.ArmatureDisplay).playAnimation("Fade"),this.wave.willBeKilled=!0,this.wave=null)},l.hitWater=function(){if(this.height<=0){var e;if(this.depth=this.depthScale*y.depth(this.worldPositionX,this.inLnC),!this.wave)this.wave=null==(e=g(v.plantWaterWave()))?void 0:e.getComponent(b),this.wave&&(this.wave.getComponent(u.ArmatureDisplay).playAnimation("Idle",1/0),this.wave.node.parent=this.node.parent);this.wave&&(this.wave.node.scale=new d(.5,.5,1),this.wave.node.worldPosition=new d(this.worldPositionX,this.worldPositionY,0))}else this.depth=0,this.wave&&(this.wave.getComponent(u.ArmatureDisplay).playAnimation("Fade"),this.wave.willBeKilled=!0,this.wave=null)},l.animationListener=function(e){var t;if("switchingFalse"==e.name)this.switching=!1,null==(t=this.db)||t.playAnimation("Idle",1/0);else if("bite"==e.name){if(this.fallingInSky)return;this.bite()}else if("biteSound"==e.name){if(this.fallingInSky)return;f.playArray(this.biteSound,this.popSoundVolume,.1)}},l.animationCompleteListener=function(){var e;this.switching=!1,null==(e=this.db)||e.playAnimation("Idle",1/0)},l.bite=function(){var e=this.bodyRec(),t=new w(this.damagePerHit,!0,!0,!0,null,m.physicle);this.inLane.zombiePool().forEach((function(i){i.bodyRecReal.judgeCrossRec(e)&&i.dealDamage(t)})),this.inLane.tombPool().forEach((function(i){i.bodyRec.judgeCrossRec(e)&&i.dealDamage(t)})),this.screenShaker&&(P.shakeScreen(),this.inLnC.getTileType()==S.water&&v.spawnWaterSplash(this.lIndex,new d(this.worldPositionX+10*this.linearVelocity.x,this.worldPositionY,0)))},l.specialOnLaneChange=function(e,t){this.wave&&this.wave.node.setParent(this.node.parent)},l.characterOnEnable=function(){this.initialize(),this.fallingInSky=!1},o(t,[{key:"objdataOwn",get:function(){return this._objdata}}]),t}(p)).prototype,"biteSound",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=t(F.prototype,"damagePerHit",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 70}}),j=F))||j));l._RF.pop()}}}));

System.register("chunks:///_virtual/runningParsnip.ts",["./rollupPluginModLoBabelHelpers.js","cc","./commonShot.ts","./CharacterManager.ts","./SoundRescourses.ts","./ParticleSelfdestroy.ts","./FrontYard.ts","./NodePools.ts","./Particles.ts","./Projectiles.ts"],(function(t){var e,i,n,a,o,r,s,l,h,u,c,p,d,f,y,w,m,g,v,b,P,S;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,a=t.assertThisInitialized,o=t.createClass,r=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){l=t.cclegacy,h=t._decorator,u=t.AudioClip,c=t.CCFloat,p=t.dragonBones,d=t.Vec3},function(t){f=t.commonShot},function(t){y=t.ZombieDamageDetails,w=t.ZombieDamageType},function(t){m=t.sounds},function(t){g=t.ParticleSelfdestroy},function(t){v=t.FrontYard},function(t){b=t.instantiatePooly},function(t){P=t.particle},function(t){S=t.ProjectileProps}],execute:function(){var A,C,D,j,F,R,z,L,H;l._RF.push({},"4f43cV93zhB97o8Wvzwp42H","runningParsnip",void 0);var I=h.ccclass,B=h.property,O=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];return(e=t.call.apply(t,[this].concat(n))||this).DamagePerHit=140,e}return i(e,t),e}(S);t("runningParsnip",(A=I("runningParsnip"),C=B([u]),D=B([u]),j=B(c),A((z=e((R=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))||this)._objdata=new O,e.depthScale=12,e.wave=null,n(e,"rushSnipSounds",z,a(e)),n(e,"rushSnipSaySounds",L,a(e)),n(e,"damagePerHit",H,a(e)),e}i(e,t);var l=e.prototype;return l.specialOnObjdataSet=function(t){this.damagePerHit=this.objdataOwn.DamagePerHit},l.pop=function(){var t=r(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),l.detectEnemy=function(t){},l.hitFloor=function(t){this.height=0,this.depth=0,this.gravity=this.bodyLinearVelocity=0,this.wave&&(this.wave.getComponent(p.ArmatureDisplay).playAnimation("Fade"),this.wave.willBeKilled=!0,this.wave=null)},l.onFaded=function(){this.wave&&(this.wave.getComponent(p.ArmatureDisplay).playAnimation("Fade"),this.wave.willBeKilled=!0,this.wave=null)},l.hitWater=function(){if(this.height<=0){var t;if(this.depth=this.depthScale*v.depth(this.worldPositionX,this.inLnC),!this.wave)this.wave=null==(t=b(P.plantWaterWave()))?void 0:t.getComponent(g),this.wave&&(this.wave.getComponent(p.ArmatureDisplay).playAnimation("Idle",1/0),this.wave.node.parent=this.node.parent);this.wave&&(this.wave.node.scale=new d(.5,.5,1),this.wave.node.worldPosition=new d(this.worldPositionX,this.worldPositionY,0))}else this.depth=0,this.wave&&(this.wave.getComponent(p.ArmatureDisplay).playAnimation("Fade"),this.wave.willBeKilled=!0,this.wave=null)},l.specialOnLaneChange=function(t,e){this.wave&&this.wave.node.setParent(this.node.parent)},l.animationListener=function(t){var e;if("Idle"==t.name)this.switching=!1,null==(e=this.db)||e.playAnimation("Idle",1/0);else if("hit"==t.name){if(this.fallingInSky)return;this.hit(),m.playArray(this.rushSnipSaySounds,1,.1),m.playArray(this.rushSnipSounds,1,.1)}},l.animationCompleteListener=function(){var t;this.switching=!1,null==(t=this.db)||t.playAnimation("Idle",1/0)},l.hit=function(){var t=this,e=new y(this.damagePerHit,!0,!0,!0,null,w.physicle);this.inLane.zombiePool().forEach((function(i){i.bodyRec.judgeCrossRec(t.bodyRec())&&i.dealDamage(e)})),this.inLane.tombPool().forEach((function(i){i.bodyRec.judgeCrossRec(t.bodyRec())&&i.dealDamage(e)}))},l.characterOnEnable=function(){this.initialize(),this.db.playAnimation("Spawn",1),this.fallingInSky=!1,this.switching=!0},o(e,[{key:"objdataOwn",get:function(){return this._objdata}}]),e}(f)).prototype,"rushSnipSounds",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=e(R.prototype,"rushSnipSaySounds",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),H=e(R.prototype,"damagePerHit",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 70}}),F=R))||F));l._RF.pop()}}}));

System.register("chunks:///_virtual/SandBoxLevelSettingWindow.ts",["./rollupPluginModLoBabelHelpers.js","cc","./levelController.ts","./SettingWindow.ts","./LnC.ts","./UI.ts","./MultiLanguage.ts","./KeyListener.ts"],(function(e){var t,i,n,r,o,l,a,s,S,u,c,g,p,h,b,d,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized,o=e.createClass},function(e){l=e.cclegacy,a=e._decorator,s=e.Label,S=e.Sprite,u=e.KeyCode,c=e.Component},function(e){g=e.LevelPlay},function(e){p=e.SettingWindow},function(e){h=e.LnCSpawnZombieStyleEnum},function(e){b=e.UIInGame},function(e){d=e.MultiLanguage},function(e){y=e.KeyListener}],execute:function(){var f,w,C,P,m,L,_,T,x,D,v,z,E,F,k,K,R,B,M,G,N,O,Z,W,I,q,J,U,j,A,H,V,Q,X,Y,$,ee,te,ie,ne,re,oe,le,ae,se,Se,ue;l._RF.push({},"fe53aD9ndVEk5T/aGwBI+tn","SandBoxLevelSettingWindow",void 0);var ce=a.ccclass,ge=a.property,pe=(f=ce("SandBoxLevelSettingToolTip"),w=ge(s),C=ge(s),P=ge(s),m=ge(s),L=ge(s),_=ge(s),T=ge(s),x=ge(s),D=ge(s),v=ge(s),z=ge(s),E=ge(s),F=ge(s),k=ge(s),f((B=t((R=function(){function e(){n(this,"Title",B,this),n(this,"SwitchStageEffect",M,this),n(this,"PushTide",G,this),n(this,"PullTide",N,this),n(this,"ChangeCards",O,this),n(this,"ChangeCardsKeyTip",Z,this),n(this,"SuperSlow",W,this),n(this,"SpawnZombies",I,this),n(this,"SwitchLawn",q,this),n(this,"FreePlant",J,this),n(this,"CoolDownOff",U,this),n(this,"FreePlantfood",j,this),n(this,"DropSunFromSky",A,this),n(this,"SwitchMusic",H,this)}return e.prototype.setToolTip=function(){this.SwitchMusic&&(this.SwitchMusic.string=d.getString(d.lyrics.SandboxLevelSettingLyrics.SwitchMusic,!1)),this.Title&&(this.Title.string=d.getString(d.lyrics.SandboxLevelSettingLyrics.Title,!1)),this.SwitchStageEffect&&(this.SwitchStageEffect.string=d.getString(d.lyrics.SandboxLevelSettingLyrics.SwitchStageEffect,!1)),this.PushTide&&(this.PushTide.string=d.getString(d.lyrics.SandboxLevelSettingLyrics.PushTide,!1)),this.PullTide&&(this.PullTide.string=d.getString(d.lyrics.SandboxLevelSettingLyrics.PullTide,!1)),this.ChangeCards&&(this.ChangeCards.string=d.getString(d.lyrics.SandboxLevelSettingLyrics.ChangeCards,!1)),this.ChangeCardsKeyTip&&(this.ChangeCardsKeyTip.string=d.getString(d.lyrics.SandboxLevelSettingLyrics.ChangeCardsKeyTip,!1)),this.SuperSlow&&(this.SuperSlow.string=d.getString(d.lyrics.SandboxLevelSettingLyrics.SuperSlow,!1)),this.SpawnZombies&&(this.SpawnZombies.string=d.getString(d.lyrics.SandboxLevelSettingLyrics.SpawnZombies,!1)),this.SwitchLawn&&(this.SwitchLawn.string=d.getString(d.lyrics.SandboxLevelSettingLyrics.SwitchLawn,!1)),this.FreePlant&&(this.FreePlant.string=d.getString(d.lyrics.SandboxLevelSettingLyrics.FreePlant,!1)),this.CoolDownOff&&(this.CoolDownOff.string=d.getString(d.lyrics.SandboxLevelSettingLyrics.CoolDownOff,!1)),this.FreePlantfood&&(this.FreePlantfood.string=d.getString(d.lyrics.SandboxLevelSettingLyrics.FreePlantfood,!1)),this.DropSunFromSky&&(this.DropSunFromSky.string=d.getString(d.lyrics.SandboxLevelSettingLyrics.DropSunFromSky,!1))},e}()).prototype,"Title",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=t(R.prototype,"SwitchStageEffect",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=t(R.prototype,"PushTide",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=t(R.prototype,"PullTide",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=t(R.prototype,"ChangeCards",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=t(R.prototype,"ChangeCardsKeyTip",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=t(R.prototype,"SuperSlow",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=t(R.prototype,"SpawnZombies",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=t(R.prototype,"SwitchLawn",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=t(R.prototype,"FreePlant",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=t(R.prototype,"CoolDownOff",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=t(R.prototype,"FreePlantfood",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=t(R.prototype,"DropSunFromSky",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=t(R.prototype,"SwitchMusic",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=R))||K);e("SandBoxLevelSettingWindow",(V=ce("SandBoxLevelSettingWindow"),Q=ge(pe),X=ge(S),Y=ge(S),$=ge(S),ee=ge(S),te=ge([s]),V(((ue=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return t=e.call.apply(e,[this].concat(o))||this,n(t,"tooltips",re,r(t)),n(t,"skySetter",oe,r(t)),n(t,"fpSetter",le,r(t)),n(t,"noCDSetter",ae,r(t)),n(t,"fpfSetter",se,r(t)),n(t,"labelsToStandardize",Se,r(t)),t}i(t,e);var l=t.prototype;return l.onLoad=function(){t.cp=this},l.reverseSkySunDrop=function(){t._skySunDrop=!t._skySunDrop,this.skySetter.color=t._skySunDrop?p.GREEN:p.RED},l.reverseFreePlant=function(){t._freePlant=!t._freePlant,this.fpSetter.color=t._freePlant?p.GREEN:p.RED},l.reverseNoCDPlant=function(){t._noCDPlant=!t._noCDPlant,this.noCDSetter.color=t._noCDPlant?p.GREEN:p.RED},l.reverseFreePF=function(){t._freePF=!t._freePF,this.fpfSetter.color=t._freePF?p.GREEN:p.RED},l.onEnable=function(){t._zombieSpawnStyle=0,this.skySetter.color=t._skySunDrop?p.GREEN:p.RED,this.fpSetter.color=t._freePlant?p.GREEN:p.RED,this.noCDSetter.color=t._noCDPlant?p.GREEN:p.RED,this.fpfSetter.color=t._freePF?p.GREEN:p.RED},l.start=function(){this.labelsToStandardize.forEach((function(e){var t=e.string,i=y.KeyBinds;t=t.replace("<Sandbox_PushTide>",y.KeyCodeToString(u[i.Sandbox_PushTide])).replace("<Sandbox_PullTide>",y.KeyCodeToString(u[i.Sandbox_PullTide])).replace("<Sandbox_PushTideBy1Square>",y.KeyCodeToString(u[i.Sandbox_PushTideBy1Square])+"(by 1)").replace("<Sandbox_PullTideBy1Square>",y.KeyCodeToString(u[i.Sandbox_PullTideBy1Square])+"(by 1)").replace("<Sandbox_ChangeJam>",y.KeyCodeToString(u[i.Sandbox_ChangeJam])).replace("<Sandbox_SummonZombies>",y.KeyCodeToString(u[i.Sandbox_SummonZombies])).replace("<Sandbox_ChangeLawn>",y.KeyCodeToString(u[i.Sandbox_ChangeLawn])).replace("<Sandbox_TimeFreeze>",y.KeyCodeToString(u[i.Sandbox_TimeFreeze])).replace("<Sandbox_SwitchMusic>",y.KeyCodeToString(u[i.Sandbox_SwitchMusic])).replace("<Sandbox_Settings>",y.KeyCodeToString(u[i.Sandbox_Settings])),e.string=t})),this.tooltips.setToolTip()},o(t,null,[{key:"freePlant",get:function(){return this._freePlant&&g.sandBoxModeOn}},{key:"noCDPlant",get:function(){return this._noCDPlant&&g.sandBoxModeOn}},{key:"freePF",get:function(){return this._freePF&&g.sandBoxModeOn}},{key:"skySunDrop",get:function(){return this._skySunDrop||!g.sandBoxModeOn}},{key:"zombieSpawnStyle",get:function(){return this._zombieSpawnStyle},set:function(e){e>=h.amount&&(e=h.directPut),b.component.readSBZombieSpawnStyle(e),this._zombieSpawnStyle=e}}]),t}(c)).plantList=[],ue._freePlant=!0,ue._noCDPlant=!0,ue._freePF=!0,ue._skySunDrop=!0,ue._zombieSpawnStyle=0,ue.zombieReversed=!1,ue.cp=void 0,re=t((ne=ue).prototype,"tooltips",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new pe}}),oe=t(ne.prototype,"skySetter",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),le=t(ne.prototype,"fpSetter",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ae=t(ne.prototype,"noCDSetter",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),se=t(ne.prototype,"fpfSetter",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Se=t(ne.prototype,"labelsToStandardize",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ie=ne))||ie));l._RF.pop()}}}));

System.register("chunks:///_virtual/SandBoxZombieCards.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CardFeatureTotalZombie.ts","./cardSelectAlmanac.ts","./Zombies.ts","./UI.ts","./BodyGrouper.ts","./SoundRescourses.ts","./Mouse.ts"],(function(n){var e,o,t,r,a,i,s,c,u,d,m,l,p,f,h,b,y,C,g,x,I,v,E,_;return{setters:[function(n){e=n.applyDecoratedDescriptor,o=n.inheritsLoose,t=n.initializerDefineProperty,r=n.assertThisInitialized,a=n.asyncToGenerator,i=n.regeneratorRuntime},function(n){s=n.cclegacy,c=n._decorator,u=n.UITransform,d=n.Node,m=n.EventMouse,l=n.Component,p=n.instantiate,f=n.Vec3,h=n.dragonBones,b=n.Color},function(n){y=n.CardFeatureTotalZombie},function(n){C=n.cardSelectAlmanac},function(n){g=n.ZombieEnum,x=n.zombies},function(n){I=n.UIInGame},function(n){v=n.BodyGrouper},function(n){E=n.sounds},function(n){_=n.Mouse}],execute:function(){var B,S,T,D,w,z;s._RF.push({},"99826QbZU5LHoKNL0lEg500","SandBoxZombieCards",void 0);var A=c.ccclass,Z=c.property;n("SandBoxZombieCards",(B=A("SandBoxZombieCards"),S=Z([y]),B(((z=function(n){function e(){for(var e,o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return e=n.call.apply(n,[this].concat(a))||this,t(e,"zombieCards",w,r(e)),e.uitransform=void 0,e.currentID=0,e.index=-1,e}o(e,n);var s=e.prototype;return s.onLoad=function(){this.uitransform=this.getComponent(u),e.component=this,this.index=-1},s.judgeMouseIsIn=function(){return!!this.uitransform&&_.judgeInUITransform(this.uitransform)},s.onMouseScroll=function(n){var e=n.getScrollY()<0?1:-1,o=this.zombieCards[0].ID;this.zombieCards.forEach((function(n,t){n.cardGrouper(o+t+e,!1)}))},s.zombieGhost=function(){var n=a(i().mark((function n(e){var o,t,r,a,s,c,u,d,m;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return this.currentID=e,n.next=3,x.getZombieCompByID(e,!0);case 3:r=n.sent,a=r.node.getChildByName("Body"),(s=p(a)).parent=I.component.plantInHandLayer,s.position=new f(0,-20,0),s.worldScale=new f(.45,.45,.45),null==(o=s.getChildByName("butterFacePAR"))||null==(o=o.getComponent(h.ArmatureDisplay))||null==(o=o.color)||o.set(new b(0,0,0,0)),c=s.getComponent(h.ArmatureDisplay),(u=c.getComponent(v)).db=c,null==(t=c.armature().getSlot("POISONFACE"))||t._setDisplayIndex(-1),d=[],m=[],n.t0=e,n.next=n.t0===g.cowboy_armor4||n.t0===g.cowboy_armor2||n.t0===g.cowboy_armor1?19:n.t0===g.abbot_armor3||n.t0===g.monk_armor3||n.t0===g.kongfu_armor3?21:23;break;case 19:return d=["hat_HEAD"],n.abrupt("break",23);case 21:return m=["HELMET_THERE_HEAD"],n.abrupt("break",23);case 23:u.db.armature().getSlots().forEach((function(n){-1!=m.indexOf(n.name)?n.displayIndex=0:-1!=d.indexOf(n.name)&&(n.displayIndex=-1)})),c.playAnimation(u.IdleAnm,1/0),u.showArm(!0);case 26:case"end":return n.stop()}}),n,this)})));return function(e){return n.apply(this,arguments)}}(),s.update=function(n){var e=this;this.zombieCards.forEach((function(n,o){n.getComponent(C).index=e.index==o?1:0}))},s.start=function(){var n=this;this.zombieCards.forEach((function(e,o){e.cardGrouper(o,!1),e.getComponent(C).suncostShown=!1,e.node.on(d.EventType.MOUSE_DOWN,(function(t){if(!I.component.indexLocked)if(t.getButton()==m.BUTTON_LEFT){var r=9!=I.index||o!=n.index?9:-1;I.component.index=-1,I.component.tryChangingIndex(r),9==I.index?(n.zombieGhost(e.ID),E.playCardChosen(),n.index=o):(E.playCardCancel(),n.index=-1)}else t.getButton()==m.BUTTON_RIGHT&&I.component.tryChangingIndex(-1)}),n)}))},e}(l)).component=void 0,w=e((D=z).prototype,"zombieCards",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),T=D))||T));s._RF.pop()}}}));

System.register("chunks:///_virtual/Sapfling.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CabbagePult.ts","./CharacterManager.ts","./Character.ts","./Square.ts","./SoundRescourses.ts","./Projectiles.ts"],(function(e){var n,t,o,a,r,i,s,u,l,c,p,b,d,f,h,y,S;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,o=e.initializerDefineProperty,a=e.assertThisInitialized,r=e.asyncToGenerator,i=e.regeneratorRuntime,s=e.createForOfIteratorHelperLoose},function(e){u=e.cclegacy,l=e._decorator,c=e.AudioClip},function(e){p=e.cabbagePultSound,b=e.CabbagePultPlant},function(e){d=e.ZombiePool},function(e){f=e.CharacterType},function(e){h=e.Square},function(e){y=e.sounds},function(e){S=e.ProjectileShootingFunctions}],execute:function(){var g,P,w,m,v,z,C,L,O,x,R,j;u._RF.push({},"222f3qIX7xPWIkhmZpcd8dW","Sapfling",void 0);var k=l.ccclass,T=l.property,_=e("sapflingSound",(g=k("sapflingSound"),P=T(c),w=T(c),g((z=n((v=function(e){function n(){for(var n,t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return n=e.call.apply(e,[this].concat(r))||this,o(n,"sneezeSound",z,a(n)),o(n,"brushSound",C,a(n)),n}t(n,e);var r=n.prototype;return r.playLob=function(){y.playArray(this.lobSound,.6,.1)},r.playSneezeSound=function(){y.playOneShot(this.sneezeSound,.2,.1)},r.playBrushSound=function(){y.playOneShot(this.brushSound,.1,.5)},n}(p)).prototype,"sneezeSound",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=n(v.prototype,"brushSound",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=v))||m));e("SapflingPlant",(L=k("SapflingPlant"),O=T(_),L((j=n((R=function(e){function n(){for(var n,t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return n=e.call.apply(e,[this].concat(r))||this,o(n,"soundRes",j,a(n)),n}t(n,e);var u=n.prototype;return u.zombieIsVisible=function(e){var n;return!(e.flying||null!=(n=e.objdataOwn)&&n.CannotBeDetectedBySapfling)},u.detectsTomb=function(){return!1},u.foodLob=function(){var e=r(i().mark((function e(){var n,t,o,a,r,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=s(d.pool().concat());case 1:if((t=n()).done){e.next=8;break}return o=t.value,e.next=5,S.lobOneCabbageOnZombie(this._objdataOwn.CabbageTypePlantfood,this.worldPosition,this.cabbageSpawnPoint.worldPosition.y-this.node.worldPosition.y,this.inLane.prjLayer,o,.4444,f.zombie,!0);case 5:e.sent;case 6:e.next=1;break;case 8:a=s(h.getRandomSquares(20));case 9:if((r=a()).done){e.next=16;break}return u=r.value,e.next=13,S.lobOneCabbageOnNode(this._objdataOwn.CabbageTypePlantfood,this.worldPosition,this.cabbageSpawnPoint.worldPosition.y-this.node.worldPosition.y,this.inLane.prjLayer,u,.4444,f.zombie,!0);case 13:e.sent;case 14:e.next=9;break;case 16:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),u.specialAnimationListener=function(e){"sneeze"==e.name?this.soundRes.playSneezeSound():"brush"==e.name&&this.soundRes.playBrushSound()},n}(b)).prototype,"soundRes",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new _}}),x=R))||x));u._RF.pop()}}}));

System.register("chunks:///_virtual/ScaredyShroom.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./Character.ts","./CharacterManager.ts","./Square.ts","./Lane.ts","./Plants.ts","./SoundRescourses.ts","./Projectiles.ts"],(function(t){var o,n,e,i,a,r,s,h,d,c,u,l,f,p,S,m,y,P,g,b,C,v,w,L;return{setters:[function(t){o=t.applyDecoratedDescriptor,n=t.inheritsLoose,e=t.initializerDefineProperty,i=t.assertThisInitialized,a=t.createClass,r=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){h=t.cclegacy,d=t._decorator,c=t.AudioClip,u=t.Node,l=t.macro,f=t.tween,p=t.dragonBones,S=t.Vec2},function(t){m=t.Plant,y=t.PlantProps},function(t){P=t.CharacterType},function(t){g=t.Rectangle},function(t){b=t.Square},function(t){C=t.Lane},function(t){v=t.PlantEnum},function(t){w=t.sounds},function(t){L=t.ProjectileShootingFunctions}],execute:function(){var R,_,A,k,E,j,I,O,D,H,x,z,F,T,M,q;h._RF.push({},"bb74fHTzXNArIOYLe9wP4Rc","ScaredyShroom",void 0);var K=d.ccclass,N=d.property,U=function(t){function o(){for(var o,n=arguments.length,e=new Array(n),i=0;i<n;i++)e[i]=arguments[i];return(o=t.call.apply(t,[this].concat(e))||this).ShootInterval=1.35,o.ShootIntervalAdditional=.15,o.PlantfoodSporeCount=40,o.KnockbackChance=.2,o.KnockbackDistance=.2,o.SporeType="scaredyshroom_spore",o.SporeTypePlantfood="scaredyshroom_spore2",o}return n(o,t),o}(y),B=t("scaredyShroomSound",(R=K("scaredyShroomSound"),_=N([c]),A=N([c]),k=N([c]),R((I=o((j=function(){function t(){e(this,"shootSound",I,this),e(this,"foodSound",O,this),e(this,"hideSound",D,this)}var o=t.prototype;return o.playHideSound=function(){w.playArray(this.hideSound,1,.1)},o.playShootSound=function(){w.playArray(this.shootSound,1,.1)},o.playFoodSound=function(){w.playArray(this.foodSound,1,.1)},t}()).prototype,"shootSound",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=o(j.prototype,"foodSound",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=o(j.prototype,"hideSound",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),E=j))||E));t("ScaredyShroomPlant",(H=K("ScaredyShroomPlant"),x=N(B),z=N(u),H((M=o((T=function(t){function o(){for(var o,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(o=t.call.apply(t,[this].concat(a))||this)._objdataOwn=new U,o._foodLeftPeaCount=0,e(o,"soundRes",M,i(o)),o.detector=null,o.projectileSpeed=1,o.oldIdle="",o.oldRandom=[],o.scaryDetector=null,o.hiding=!1,e(o,"sporeSpawnPointUp",q,i(o)),o.busy=0,o.shooting=!1,o}n(o,t);var h=o.prototype;return h.waterable=function(){return!this.hiding&&!this.shooting},h._shoot=function(){var t=r(s().mark((function t(o,n,e,i){var a,r,h,d;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===o&&(o=!1),void 0===n&&(n=!1),void 0===e&&(e=this._objdataOwn.SporeType),void 0===i&&(i=!1),a=0,o&&(a=15-30*Math.random()),r=0,n&&(r=3*Math.random()),h=this._objdataOwn.KnockbackDistance,t.next=12,L.shootOnePea(e,new S(this.sporeSpawnPointUp.worldPosition.x,this.worldPositionY),this.sporeSpawnPointUp.getWorldPosition().y-this.inLnC.plantPoint.worldPosition.y+a,this.inLane.prjLayer,new S((8+(n?1:0)*r)*this.projectileSpeed,0*(n?1:0)*r),P.zombie);case 12:d=t.sent,i&&d.setKnockBack(h);case 14:case"end":return t.stop()}}),t,this)})));return function(o,n,e,i){return t.apply(this,arguments)}}(),h.specialPlantFoodEnd=function(){var t;(t=this.detectScary())?this.hide(t):this.anmControl.playIdle(),this.busy=0},h.onFoodLeftPeaCountDec=function(){this._shoot(!0,!0,this._objdataOwn.SporeTypePlantfood,!0)},h.specialPlantFood=function(t){var o=this;if(void 0===t&&(t=!0),t){var n;this.soundRes.playFoodSound();var e=[];null==(n=this.inLnC)||null==(n=n.get3x3())||n.forEach((function(t){t.getAllPlants().forEach((function(t){t!=o&&t.ID==o.ID&&e.push(t)}))})),e.forEach((function(t){t.food(!1)}))}this.anmControl.playAnimation("Food",l.REPEAT_FOREVER),this.busy=1/0,this._foodLeftPeaCount=this._objdataOwn.PlantfoodSporeCount;f(this).to(2,{foodLeftPeaCount:0}).call((function(){o.foodEnd()})).start()},h._shootPeaAnimation=function(){var t="Shoot2";Math.random()<=this._objdataOwn.KnockbackChance&&(t="Shoot"),this.anmControl.playAnimation(t,1,.1,Math.max(1.1/this.busy,1))},h.animationListener=function(t){"Shoot"!=t.name&&"ShootKnockback"!=t.name||this._shoot(!1,!1,"ShootKnockback"==t.name?this._objdataOwn.SporeTypePlantfood:this._objdataOwn.SporeType,"ShootKnockback"==t.name),"ShootSound"==t.name&&this.soundRes.playShootSound(),"HideEnd"==t.name&&(this.hiding=!1)},h.setDetecter=function(){this.detector=g.createRectangleNodeSide(this.inLnC.node,b.SquareWidth*(9-this.cIndex),b.SquareHeight),this.scaryDetector=g.createRectangleNodeCenter(this.inLnC.node,3*b.SquareWidth,3*b.SquareHeight)},h.specialPlantOnEnable=function(){var t=this;this.shooting=!1,this.hiding=!1,this.oldIdle=this.anmControl.IdleAnim,this.oldRandom=this.anmControl.RandomAnim,this.projectileSpeed=1,this.anmControl.db.addEventListener(p.EventObject.COMPLETE,(function(o){t.shooting=!1}),this)},h.detectScary=function(){var t=this,o=0;if(this.havePumpkin())return 0;var n=this.inLane.zombiePool(),e=b.getLaneNode(this.inLane.LaneIndex-1).getComponent(C).zombiePool(),i=b.getLaneNode(this.inLane.LaneIndex+1).getComponent(C).zombiePool();return n.concat(e,i).forEach((function(n){if(1!=o&&t.scaryDetector.judgeCrossRec(n.bodyRecForShooter)){if(n.node.worldPosition.x<t.node.worldPosition.x)return void(o=1);if(n.node.worldPosition.x>=t.node.worldPosition.x)return void(o=2)}})),o},h.specialPlantOnSquareChange=function(t,o){this.setDetecter()},h.startShooting=function(){this.shooting=!0,this.busy=this._objdataOwn.ShootInterval+Math.random()*this._objdataOwn.ShootIntervalAdditional,this._shootPeaAnimation()},h.hideEnd=function(){this.hiding=!1,this.short_=this.short,this.soundRes.playHideSound(),this.anmControl.IdleAnim=this.oldIdle,this.anmControl.RandomAnim=this.oldRandom,this.fooding?this.hiding=!1:this.anmControl.playAnimation("HideEnd",1)},h.hide=function(t){this.soundRes.playHideSound(),this.hiding=!0,this.short_=!0,this.deathAnm="DeathHiding",this.anmControl.IdleAnim="Hiding",this.anmControl.RandomAnim=["Hiding"],this.fooding||(1==t?this.anmControl.playAnimation("HideStartL",1):2==t&&this.anmControl.playAnimation("HideStartR",1))},h.detectEnemy=function(){for(var t=this.inLane.zombiePool(),o=0;o<t.length;o++)if(this.detector.judgeCrossRec(t[o].bodyRecForShooter))return!0;for(var n=this.inLane.tombPool(),e=0;e<n.length;e++)if(this.detector.judgeCrossRec(n[e].bodyRec))return!0;return!1},h.havePumpkin=function(){for(var t=this.inLnC.vineInSquare.concat(),o=0;o<t.length;o++)if(t[o].ID==v.Pumpkin)return!0;return!1},h.specialPlantUpdate=function(t,o,n){if(this.busy>0&&(this.busy-=t),this.busy<=0&&!this.hiding&&n>0&&this.detectEnemy()&&this.startShooting(),n>0){var e=this.detectScary();!this.hiding&&e&&!this.shooting&&n>0&&this.hide(e),this.hiding&&0==e&&n>0&&this.hideEnd()}},a(o,[{key:"foodLeftPeaCount",get:function(){return this._foodLeftPeaCount},set:function(t){for(var o=Math.floor(this._foodLeftPeaCount)-Math.floor(t),n=0;n<o;n++)this.onFoodLeftPeaCountDec();this._foodLeftPeaCount=t}}]),o}(m)).prototype,"soundRes",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new B}}),q=o(T.prototype,"sporeSpawnPointUp",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=T))||F));h._RF.pop()}}}));

System.register("chunks:///_virtual/ScrollViewHorizontalWheelReversed.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var r,o,l,t;return{setters:[function(e){r=e.inheritsLoose},function(e){o=e.cclegacy,l=e._decorator,t=e.ScrollView}],execute:function(){var i;o._RF.push({},"e3c1ekQoeVG06vgXUxi1SS9","ScrollViewHorizontalWheelReversed",void 0);var c=l.ccclass;l.property,e("ScrollViewHorizontalWheelReversed",c("ScrollViewHorizontalWheelReversed")(i=function(e){function o(){return e.apply(this,arguments)||this}return r(o,e),o}(t))||i);o._RF.pop()}}}));

System.register("chunks:///_virtual/ScrollViewWithoutTouchevent.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(o){var t,e,n,c;return{setters:[function(o){t=o.inheritsLoose},function(o){e=o.cclegacy,n=o._decorator,c=o.ScrollView}],execute:function(){var u;e._RF.push({},"80311OHvhFO54C5ub8cMLg6","ScrollViewWithoutTouchevent",void 0);var i=n.ccclass;n.property,o("ScrollViewWithoutTouchevent",i("ScrollViewWithoutTouchevent")(u=function(o){function e(){return o.apply(this,arguments)||this}t(e,o);var n=e.prototype;return n._onTouchMoved=function(o,t){},n._onTouchBegan=function(o,t){},n._onTouchCancelled=function(o,t){},n._onTouchEnded=function(o,t){},e}(c))||u);e._RF.pop()}}}));

System.register("chunks:///_virtual/SeagullZombieAshParticle.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZombieAshParticle.ts","./SoundRescourses.ts"],(function(e){var t,i,o,r,s;return{setters:[function(e){t=e.inheritsLoose},function(e){i=e.cclegacy,o=e._decorator},function(e){r=e.ZombieAshParticle},function(e){s=e.sounds}],execute:function(){var n;i._RF.push({},"29924/V30VDGZlGTJp/vFVt","SeagullZombieAshParticle",void 0);var c=o.ccclass;o.property,e("SeagullZombieAshParticle",c("SeagullZombieAshParticle")(n=function(e){function i(){return e.apply(this,arguments)||this}return t(i,e),i.prototype.zombieAshDBListener=function(e){"birdExpl"==e.name&&s.playBirdExpl()},i}(r))||n);i._RF.pop()}}}));

System.register("chunks:///_virtual/SeaShroom.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PuffShroom.ts","./LnC.ts"],(function(t){var n,o,e,a,i,r,s;return{setters:[function(t){n=t.inheritsLoose,o=t.createClass},function(t){e=t.cclegacy,a=t._decorator},function(t){i=t.PuffShroomPlant,r=t.PuffShroomProps},function(t){s=t.TileType}],execute:function(){var h;e._RF.push({},"d682cyWuD1DH5tIhF0d6R2s","SeaShroom",void 0);var l=a.ccclass,u=(a.property,function(t){function o(){for(var n,o=arguments.length,e=new Array(o),a=0;a<o;a++)e[a]=arguments[a];return(n=t.call.apply(t,[this].concat(e))||this).FadeSpeedMultInWater=.5,n}return n(o,t),o}(r));t("SeaShroomPlant",l("SeaShroomPlant")(h=function(t){function e(){for(var n,o=arguments.length,e=new Array(o),a=0;a<o;a++)e[a]=arguments[a];return(n=t.call.apply(t,[this].concat(e))||this)._objdataOwn=new u,n._isInWater=!0,n.depthScale=6,n}n(e,t);var a=e.prototype;return a.onObjdataSet=function(t,n){},a.getFadeTimeMult=function(){return this.plantInLnC.getTileType()!=s.water||this.plantInLnC.lilyPad?(this.isInWater=!1,1):(this.isInWater=!0,this.objdataOwn.FadeSpeedMultInWater)},o(e,[{key:"objdataOwn",get:function(){return this._objdataOwn}},{key:"isInWater",get:function(){return this._isInWater},set:function(t){t!=this.isInWater&&(t?(this.anmControl.IdleAnim="Idle",this.anmControl.RandomAnim=["Random"],this.shootAnimationName="Shoot"):(this.anmControl.IdleAnim="Idle_Sad",this.anmControl.RandomAnim=["Random_Sad"],this.shootAnimationName="Shoot_Sad"),this.shooting||this.fooding||this.anmControl.playIdle()),this._isInWater=t}}]),e}(i))||h);e._RF.pop()}}}));

System.register("chunks:///_virtual/SeedChooser.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CardFeatureTotal.ts","./NodePools.ts","./cardSelectAlmanac.ts","./SoundRescourses.ts","./Plants.ts","./MultiLanguage.ts","./UI.ts","./AnimationController.ts","./PlayerProperties.ts","./levelController.ts","./GemCount.ts","./Materials.ts","./Cards.ts"],(function(t){var e,o,n,i,r,a,l,s,u,c,p,h,d,b,f,g,m,y,C,w,S,P,B,v,D,O,T,L,I,_,E,F,G,z,A;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,n=t.initializerDefineProperty,i=t.assertThisInitialized,r=t.asyncToGenerator,a=t.regeneratorRuntime},function(t){l=t.cclegacy,s=t._decorator,u=t.Sprite,c=t.Node,p=t.ScrollView,h=t.Label,d=t.Button,b=t.SpriteFrame,f=t.Vec3,g=t.EventMouse,m=t.UITransform,y=t.Vec2,C=t.Component,w=t.instantiate,S=t.Color},function(t){P=t.CardFeatureTotal},function(t){B=t.NodePools},function(t){v=t.cardSelectAlmanac},function(t){D=t.sounds},function(t){O=t.plants,T=t.PlantEnum},function(t){L=t.MultiLanguage},function(t){I=t.UIInGame},function(t){_=t.AnimationController},function(t){E=t.AllPlayerProperties},function(t){F=t.LevelPlay},function(t){G=t.GemCount},function(t){z=t.materialRes},function(t){A=t.Cards}],execute:function(){var N,M,V,U,k,x,R,j,W,H,K,Q,q,J,X,Y,Z,$,tt,et,ot,nt,it,rt,at,lt,st,ut,ct,pt,ht;l._RF.push({},"e1b80ReMENKi7VVz0yCcde6","SeedChooser",void 0);var dt=s.ccclass,bt=s.property;t("SeedChooser",(N=dt("SeedChooser"),M=bt(u),V=bt(c),U=bt(p),k=bt(c),x=bt(h),R=bt(h),j=bt(h),W=bt(h),H=bt(d),K=bt(h),Q=bt([c]),q=bt(c),J=bt(b),X=bt(c),N(($=e((Z=function(t){function e(){for(var e,o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))||this).currentSeedBank=[],n(e,"displayBG",$,i(e)),e.CFs=[],n(e,"card0",tt,i(e)),e.ca0=null,n(e,"scrollView",et,i(e)),n(e,"plantDisplayer",ot,i(e)),e.plantDisplayed=void 0,n(e,"plantNameLabel",nt,i(e)),n(e,"briefIntroLabel",it,i(e)),n(e,"boostLabel",rt,i(e)),n(e,"boostGemLabel",at,i(e)),n(e,"boostButton",lt,i(e)),n(e,"boostCountLabel",st,i(e)),n(e,"moveButtons",ut,i(e)),n(e,"costumeRoller",ct,i(e)),e.current_card_index=-1,e.current_id=-1,e.waiting=!1,n(e,"boostBG",pt,i(e)),n(e,"imitatorSlot",ht,i(e)),e}o(e,t);var l=e.prototype;return l.start=function(){var t=this;this.costumeRoller.on(c.EventType.MOUSE_DOWN,(function(){t.rollCostume()}),this)},l.rollCostume=function(){var t,e=null==(t=this.plantDisplayed)?void 0:t.getComponent(_);e&&e.rollCostumeUp(O.getPlantFeature(e.ID).COSTUME)},l.openDeckDisplayer=function(){F.component.openCardDeckDisplayer()},l.onLoad=function(){this.ca0=this.card0.getComponent(v),this.imitatorSlot.parent.position=I.PocketUI?new f(0,-275,0):new f(-295,-195,0),this.imitatorSlot.position=new f(I.PocketUI?0:-60,0,0)},l.judgeAllowed=function(t,e){},l.layCards=function(t){var e=this;void 0===t&&(t=this.currentSeedBank),(!t||t.length<=0)&&(t=O.defaultPlantChooserOrder);var o=this.ca0.getComponent(P);o.cardGrouper(t[0]),this.CFs.push(o),E.getPlantProgressByID(o.ID).boost>0&&(o.PP_BOOSTED=!0);var n=this.ca0;n.seedChooserModeOn=!0,this.ca0.node.on(c.EventType.MOUSE_DOWN,(function(t){t.getButton()==g.BUTTON_LEFT&&(e.switchPlant(0,n.disallowed),D.playCardChosen())})),this.judgeAllowed(o,n);for(var i=function(o){var n=w(e.ca0.node);n.parent=e.ca0.node.parent;var i=n.getComponent(P);i.cardGrouper(t[o],i.ID!=T.Imitater);var r=n.getComponent(v);E.getPlantProgressByID(i.ID).boost>0&&(i.PP_BOOSTED=!0),i.ID==T.Imitater&&(e.imitatorSlot.parent.active=!0,n.parent=e.imitatorSlot,n.position=new f(0,0,0),r.suncostShown=!1,r.defaultSunCostShown=!1),r.seedChooserModeOn=!0,e.judgeAllowed(i,r),e.CFs.push(n.getComponent(P)),n.on(c.EventType.MOUSE_DOWN,(function(t){t.getButton()==g.BUTTON_LEFT&&(e.switchPlant(o,r.disallowed),D.playCardChosen())}))},r=1;r<t.length;r++)i(r);this.scrollView.scrollToTop(0),this.scrollView.stopAutoScroll();var a=this.scrollView.content.getComponent(m).height>this.scrollView.content.parent.getComponent(m).height;this.moveButtons.forEach((function(t){t.active=a}))},l.scrowUp=function(){this.scrollView.scrollToOffset(new y(0,this.scrollView.getScrollOffset().y-100),.2)},l.scrowDown=function(){this.scrollView.scrollToOffset(new y(0,this.scrollView.getScrollOffset().y+100),.2)},l.switchPlant=function(){var t=r(a().mark((function t(e,o){var n,i,r,l,s,u,c,p,h,d;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.waiting||!(e<this.CFs.length)||this.current_card_index==e){t.next=32;break}return this.waiting=!0,this.plantDisplayed&&B.destroyNodeArrayPooly(this.plantDisplayed.parent.children),i=this.CFs[e],t.t0=B,t.next=7,i.thisCard();case 7:if(t.t1=t.sent.plantDIS,this.plantDisplayed=t.t0.instantiatePooly.call(t.t0,t.t1),null!=(n=this.plantDisplayer)&&n.active){t.next=12;break}return this.waiting=!1,t.abrupt("return");case 12:this.plantDisplayed.parent=this.plantDisplayer,r=i.ID,this.current_id=r,l=O.getPlantAlmanac(r),this.plantDisplayed.position=new f(l.DisplayOffset.x,l.DisplayOffset.y,0),s=L.getString(i.PF.NAME),this.plantNameLabel.string=s,this.briefIntroLabel.string=1==o?L.getDirectQuote("[PLANT_DISALLOWED]").replace("<PLANTNAME>",s):L.getString(l.BriefIntroduction),this.current_card_index=e,u=O.getPlantBGSprite(r),this.displayBG.spriteFrame=u,p=new S(c=o>0?122:255,c,c,255),this.displayBG.color=p,null!=(h=this.plantDisplayed.getComponent(_))&&h.db&&h.db.color.set(c,c,c,255),null==h||h.readCostume(r),d=E.getPlantProgressByID(r),this.costumeRoller.active=d.costumes.length>0,this.readPlantBoost(r,d,o>0);case 32:this.waiting=!1;case 33:case"end":return t.stop()}}),t,this)})));return function(e,o){return t.apply(this,arguments)}}(),l.readPlantBoost=function(t,e,o){void 0===o&&(o=!1);var n=O.getPlantFeature(t),i=e.boost,r=i>0,a=!o;if(a){var l=L.getStringByProps("SeedChooser","BoostCount").replace("<BOOST>",i.toString()),s=L.getStringByProps("SeedChooser","BoostButton");this.boostCountLabel.string=l,this.boostGemLabel.string=n.BOOST.toString(),this.boostLabel.string=s,this.boostButton.getComponent(u).customMaterial=G.component.value<n.BOOST?z.greyMaterial:null}this.boostButton.node.active=!r&&a&&n.BOOST>0,this.boostCountLabel.node.active=r&&a;var c=r?this.boostBG:O.getPlantBGSprite(t);this.displayBG.spriteFrame=c},l.boost=function(){var t=this.current_id,e=O.getPlantFeature(t),o=E.getPlantProgressByID(t);G.component.value<e.BOOST||(o.boost++,A.component.CFs.forEach((function(e){e.ID==t&&(e.PP_BOOSTED=!0)})),this.CFs.forEach((function(e){e.ID==t&&(e.PP_BOOSTED=!0)})),G.component.decGemCount(e.BOOST),this.readPlantBoost(t,o))},l.onEnable=function(){this.waiting=!1,this.current_card_index=-1,this.plantDisplayed=null,this.imitatorSlot.parent.active=!1,this.layCards(),this.switchPlant(0,this.ca0.disallowed)},e}(C)).prototype,"displayBG",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),tt=e(Z.prototype,"card0",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),et=e(Z.prototype,"scrollView",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ot=e(Z.prototype,"plantDisplayer",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),nt=e(Z.prototype,"plantNameLabel",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),it=e(Z.prototype,"briefIntroLabel",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rt=e(Z.prototype,"boostLabel",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),at=e(Z.prototype,"boostGemLabel",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),lt=e(Z.prototype,"boostButton",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),st=e(Z.prototype,"boostCountLabel",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ut=e(Z.prototype,"moveButtons",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ct=e(Z.prototype,"costumeRoller",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pt=e(Z.prototype,"boostBG",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ht=e(Z.prototype,"imitatorSlot",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=Z))||Y));l._RF.pop()}}}));

System.register("chunks:///_virtual/SettingWindow.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SoundsController.ts","./UI.ts","./ElectronAPI.ts","./levelController.ts","./Square.ts","./PlayerProperties.ts","./KeyListener.ts","./MultiLanguage.ts","./index.mjs_cjs=&original=.js","./foodLinkTile.ts","./Plants.ts","./SoundManager.ts","./SoundRescourses.ts","./ArrayGet.ts","./index.js"],(function(e){var i,t,n,r,l,a,o,s,u,c,d,p,g,S,h,m,y,b,f,T,w,M,L,v,C,P,R,E,A,D,N,F,B,K,x,z,U,I,G,k,O,W,_,V,Z;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.createForOfIteratorHelperLoose,n=e.inheritsLoose,r=e.initializerDefineProperty,l=e.assertThisInitialized,a=e.createClass},function(e){o=e.cclegacy,s=e._decorator,u=e.Label,c=e.director,d=e.assetManager,p=e.AudioClip,g=e.Sprite,S=e.AudioSource,h=e.EditBox,m=e.SpriteComponent,y=e.Slider,b=e.Color,f=e.sys,T=e.Vec2,w=e.game,M=e.tween,L=e.input,v=e.Input,C=e.KeyCode,P=e.ProgressBar,R=e.Component},function(e){E=e.MusicController,A=e.SoundFXController},function(e){D=e.setExitToMapScene,N=e.UIInGame},function(e){F=e.default},function(e){B=e.LevelPlay},function(e){K=e.Square},function(e){x=e.AllPlayerProperties},function(e){z=e.KeyListener,U=e.CursorStyleEnum},function(e){I=e.MultiLanguage,G=e.LanguageEnum},null,function(e){k=e.FoodLinkTileTypeEnum},function(e){O=e.plants},function(e){W=e.MusicEnum},function(e){_=e.sounds},function(e){V=e.ValueRange},function(e){Z=e.default}],execute:function(){var q,X,j,Y,Q,H,J,$,ee,ie,te,ne,re,le,ae,oe,se,ue,ce,de,pe,ge,Se,he,me,ye,be,fe,Te,we,Me,Le,ve,Ce,Pe,Re,Ee,Ae,De,Ne,Fe,Be,Ke,xe,ze,Ue,Ie,Ge,ke,Oe,We,_e,Ve,Ze,qe,Xe,je,Ye,Qe,He,Je,$e,ei,ii,ti,ni,ri,li,ai,oi,si,ui,ci,di,pi,gi,Si,hi,mi,yi,bi,fi,Ti,wi,Mi,Li,vi,Ci,Pi,Ri,Ei,Ai,Di,Ni,Fi,Bi,Ki,xi,zi,Ui,Ii,Gi,ki,Oi,Wi,_i,Vi,Zi,qi,Xi,ji;e({addDropImportFileListener:function(e,i){void 0===e&&(e=function(e){});void 0===i&&(i=function(e){});var n=document.defaultView;function r(n){switch(n.preventDefault(),n.type){case"drop":for(var r,l=function(){var t=r.value;console.log(t.path);var n=new FileReader;n.onload=function(n){var r,l=null==n||null==(r=n.target)?void 0:r.result;try{var a=Z.parse(l);i(t),e(a)}catch(e){console.error("JSON",e)}},n.readAsText(t)},a=t(n.dataTransfer.files);!(r=a()).done;)l()}}n.addEventListener("dragenter",r),n.addEventListener("dragover",r),n.addEventListener("drop",r),n.addEventListener("dragleave",r)},cancelDropImportFileListener:function(){var e=document.defaultView;e.removeEventListener("dragenter",(function(e){})),e.removeEventListener("dragover",(function(e){})),e.removeEventListener("drop",(function(e){})),e.removeEventListener("dragleave",(function(e){}))},createExportElement:et,createImportElement:it,createImportMP3:at}),o._RF.push({},"1978cSMPitG/7HCQRS5rNTh","SettingWindow",void 0);var Yi=s.ccclass,Qi=s.property,Hi="PvZ2_Settings",Ji=(e("WindowSize",16/9),function(){this.MusicSpeedMin=1,this.MusicSpeedMax=1,this.MusicVolume=1,this.SFXVolume=1,this.CardsAtUpper=!1,this.LnCSelectionMode=0,this.AllowCheat=!0,this.AnimationFrameRate=0,this.ShowKeyTips=!0,this.PlantKeyTips=!0,this.ShowFPS=!1,this.Language=0,this.cursor=0,this.bilibiliNumber=null,this.TileTurnipType=k.epsilon,this.ClassicCardBG=!1,this.CamelPlayedTime=0,this.PocketUI=!1,this.PlayerIndex=0,this.AudioLoadMode=p.AudioType.WEB_AUDIO,this.KeyBinds=z.KeyBinds,this.ZombieAlert=B.ZombieWarnOn}),$i=(q=Yi("Settingwindow Labels"),X=Qi(u),j=Qi(u),Y=Qi(u),Q=Qi(u),H=Qi(u),J=Qi(u),$=Qi(u),ee=Qi(u),ie=Qi(u),te=Qi(u),ne=Qi(u),re=Qi(u),le=Qi(u),ae=Qi(u),oe=Qi(u),se=Qi(u),ue=Qi(u),ce=Qi(u),de=Qi(u),pe=Qi(u),ge=Qi(u),Se=Qi(u),he=Qi(u),me=Qi(u),ye=Qi(u),q((Te=i((fe=function(){function e(){r(this,"Title",Te,this),r(this,"Music",we,this),r(this,"SoundFX",Me,this),r(this,"Language",Le,this),r(this,"CursorStyle",ve,this),r(this,"UpperCardLayer",Ce,this),r(this,"AllowCheat",Pe,this),r(this,"ShowKeyboardTip",Re,this),r(this,"PlantKeyboardTip",Ee,this),r(this,"ShowFPS",Ae,this),r(this,"SquareTipMode",De,this),r(this,"FullScreen",Ne,this),r(this,"AnimationMaxFrameRate",Fe,this),r(this,"QuitGame",Be,this),r(this,"Difficulty",Ke,this),r(this,"EnterBilibili",xe,this),r(this,"Confirm",ze,this),r(this,"WhiteListRequire",Ue,this),r(this,"AnimationMaxFrameRateSuggestion",Ie,this),r(this,"TileTurnip",Ge,this),r(this,"ClassicCardBG",ke,this),r(this,"PocketUI",Oe,this),r(this,"AudioLoadMode",We,this),r(this,"KeyBinds",_e,this),r(this,"ZombieAlert",Ve,this)}return e.prototype.setToolTip=function(){this.KeyBinds.string=I.getString(I.lyrics.SettingLyrics.KeyBinds,!1),this.ClassicCardBG.string=I.getString(I.lyrics.SettingLyrics.ClassicCardBG,!1),this.TileTurnip.string=I.getString(I.lyrics.SettingLyrics.TileTurnip,!1),this.Difficulty.string=I.getString(I.lyrics.SettingLyrics.Difficulty,!1),this.Title.string=I.getString(I.lyrics.SettingLyrics.Title,!1),this.Music.string=I.getString(I.lyrics.SettingLyrics.Music,!1),this.SoundFX.string=I.getString(I.lyrics.SettingLyrics.SoundFX,!1),this.Language.string=I.getString(I.lyrics.SettingLyrics.Language,!1),this.CursorStyle.string=I.getString(I.lyrics.SettingLyrics.CursorStyle,!1),this.UpperCardLayer.string=I.getString(I.lyrics.SettingLyrics.UpperCardLayer,!1),this.AllowCheat.string=I.getString(I.lyrics.SettingLyrics.AllowCheat,!1),this.ShowKeyboardTip.string=I.getString(I.lyrics.SettingLyrics.ShowKeyboardTip,!1),this.PlantKeyboardTip.string=I.getString(I.lyrics.SettingLyrics.PlantKeyboardTip,!1),this.ShowFPS.string=I.getString(I.lyrics.SettingLyrics.ShowFPS,!1),this.SquareTipMode.string=I.getString(I.lyrics.SettingLyrics.SquareTipMode,!1),this.FullScreen.string=I.getString(I.lyrics.SettingLyrics.FullScreen,!1),this.AnimationMaxFrameRate.string=I.getString(I.lyrics.SettingLyrics.AnimationMaxFrameRate,!1),this.QuitGame.string=I.getString(I.lyrics.SettingLyrics.QuitGame,!1),this.AnimationMaxFrameRateSuggestion.string=I.getString(I.lyrics.SettingLyrics.AnimationMaxFrameRateSuggestion,!1),this.AudioLoadMode.string=I.getString(I.lyrics.SettingLyrics.AudioLoadMode,!1),this.EnterBilibili.string=I.getString(I.lyrics.SettingLyrics.Bilibili.EnterBilibili,!1),this.Confirm.string=I.getString(I.lyrics.SettingLyrics.Bilibili.Confirm,!1),this.WhiteListRequire.string=I.isWhiteList?"":I.getString(I.lyrics.SettingLyrics.Bilibili.WhiteListRequire,!1),this.PocketUI.string=I.getString(I.lyrics.SettingLyrics.PocketUI,!1),this.ZombieAlert.string=I.getString(I.lyrics.SettingLyrics.ZombieAlert,!1)},e}()).prototype,"Title",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),we=i(fe.prototype,"Music",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Me=i(fe.prototype,"SoundFX",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Le=i(fe.prototype,"Language",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ve=i(fe.prototype,"CursorStyle",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ce=i(fe.prototype,"UpperCardLayer",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pe=i(fe.prototype,"AllowCheat",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Re=i(fe.prototype,"ShowKeyboardTip",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ee=i(fe.prototype,"PlantKeyboardTip",[ie],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ae=i(fe.prototype,"ShowFPS",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),De=i(fe.prototype,"SquareTipMode",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ne=i(fe.prototype,"FullScreen",[re],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fe=i(fe.prototype,"AnimationMaxFrameRate",[le],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Be=i(fe.prototype,"QuitGame",[ae],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ke=i(fe.prototype,"Difficulty",[oe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xe=i(fe.prototype,"EnterBilibili",[se],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ze=i(fe.prototype,"Confirm",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ue=i(fe.prototype,"WhiteListRequire",[ce],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ie=i(fe.prototype,"AnimationMaxFrameRateSuggestion",[de],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ge=i(fe.prototype,"TileTurnip",[pe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ke=i(fe.prototype,"ClassicCardBG",[ge],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Oe=i(fe.prototype,"PocketUI",[Se],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),We=i(fe.prototype,"AudioLoadMode",[he],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_e=i(fe.prototype,"KeyBinds",[me],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ve=i(fe.prototype,"ZombieAlert",[ye],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),be=fe))||be);function et(e,i){var t=document.createElement("a");t.download=i+".json",t.href="data:text/plain,"+JSON.stringify(e,null,"\t"),t.click()}function it(e){var i=document.createElement("input");return i.type="file",i.accept=".json,.json5",i.id="fileInput",i.style.display="none",i.onchange=function(t){var n=null==t?void 0:t.target,r=null==n?void 0:n.files[0];if(r){var l=new FileReader;l.onload=function(i){var t,n=null==i||null==(t=i.target)?void 0:t.result;try{var r=Z.parse(n);e(r)}catch(e){console.error("JSON",e)}},l.readAsText(r)}i.value=""},document.body.appendChild(i),i}var tt=e("importKeyBinds",it((function(e){z.KeyBinds=e,_.playLevelTaskWarn(),ot.saveSettings()}))),nt=e("leveldataOnImport",(function(e){var i;B.levelData=e,B.thisLevelsID=[],B.nextLevelsID=[];var t=e.objects,n=B.getLevelDefinition(t).objdata.Modules,r=null==(i=B.getLevelModule(t,n).find((function(e){return"RhythmGameProperties"==e.objclass})))?void 0:i.objdata;if(r){var l=W[null==r?void 0:r.MusicName];if(isNaN(l))return rt=t,void(null==lt||lt.click())}D(c.getScene().name),z.darken((function(){z.goToGame([t])}))})),rt=(e("importLevel",it(nt)),[]),lt=at((function(e){B.rhythmMusicClip=e,D(c.getScene().name),z.darken((function(){z.goToGame([rt])}))}));function at(e){var i=document.createElement("input");return i.type="file",i.accept=".mp3",i.id="fileInput",i.style.display="none",i.onchange=function(t){var n,r=null==t||null==(n=t.target)?void 0:n.files[0];if(r){var l=new FileReader;l.onload=function(i){var t;null==i||null==(t=i.target)||t.result;try{var n=URL.createObjectURL(r);d.loadRemote(n,{audioLoadMode:p.AudioType.DOM_AUDIO,ext:".mp3"},(function(i,t){t?e(t):console.log(i)}))}catch(e){console.error("",e)}},l.readAsText(r)}i.value=""},document.body.appendChild(i),i}e("READ_FILE_TYPE",function(e){return e[e.DATA_URL=0]="DATA_URL",e[e.TEXT=1]="TEXT",e[e.BINARY=2]="BINARY",e[e.ARRAYBUFFER=3]="ARRAYBUFFER",e}({}));var ot=e("Setting",function(){function e(){}return e.saveSettings=function(){var e={MusicSpeedMax:E.MusicSpeedRange.Max,MusicSpeedMin:E.MusicSpeedRange.Min,MusicVolume:E.MusicVolume,SFXVolume:A.SoundFXVolume,CardsAtUpper:N.cardsAtUpper,LnCSelectionMode:K.lncSelectionMode,AllowCheat:st.allowCheat,ShowKeyTips:st.showKeyTips,PlantKeyTips:st.plantKeyTips,ShowFPS:st.showFPS,cursor:st.cursor,AnimationFrameRate:st.animationFrameRate,Language:I.currentLanguage,bilibiliNumber:I.bilibiliNumber,TileTurnipType:O.TileTurnipType,ClassicCardBG:st.classicCardBG,CamelPlayedTime:I.camelGamingTime,PocketUI:N.PocketUI,AudioLoadMode:_.loadmode,PlayerIndex:x.allPlayers.indexOf(x.currentPlayer),KeyBinds:z.KeyBinds,ZombieAlert:B.ZombieWarnOn};f.localStorage.setItem(Hi,JSON.stringify(e))},e.getSettings=function(){var e=f.localStorage.getItem(Hi),i=JSON.parse(e);return i||new Ji},e}()),st=e("SettingWindow",(Ze=Yi("SettingWindow"),qe=Qi($i),Xe=Qi(u),je=Qi(u),Ye=Qi(g),Qe=Qi(u),He=Qi(u),Je=Qi(u),$e=Qi(u),ei=Qi(S),ii=Qi(p),ti=Qi(g),ni=Qi(g),ri=Qi(g),li=Qi(g),ai=Qi(g),oi=Qi(g),si=Qi(h),ui=Qi(m),ci=Qi(m),di=Qi(y),pi=Qi(y),gi=Qi(y),Si=Qi(u),hi=Qi(y),mi=Qi(u),yi=Qi(m),bi=Qi(u),Ze(((ji=function(e){function i(){for(var i,t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return i=e.call.apply(e,[this].concat(n))||this,r(i,"tooltips",wi,l(i)),r(i,"animationFrameRateToolTip",Mi,l(i)),r(i,"audioLoadModeToolTip",Li,l(i)),r(i,"TurnipBG",vi,l(i)),r(i,"TurnipPattern",Ci,l(i)),r(i,"cursorStyleName",Pi,l(i)),r(i,"languageName",Ri,l(i)),r(i,"languageTipLabel",Ei,l(i)),r(i,"audioSource",Ai,l(i)),r(i,"failSound",Di,l(i)),r(i,"showFPSButton",Ni,l(i)),r(i,"pocketUIButton",Fi,l(i)),r(i,"zombieAlertButton",Bi,l(i)),r(i,"showKeyTipButton",Ki,l(i)),r(i,"plantKeyTipButton",xi,l(i)),r(i,"classicCardBGSprite",zi,l(i)),r(i,"bilibiliEnter",Ui,l(i)),r(i,"uiCardsAtUpperSprite",Ii,l(i)),r(i,"fullScreenSprite",Gi,l(i)),r(i,"musicSlider",ki,l(i)),r(i,"musicSPDMaxSlider",Oi,l(i)),r(i,"musicSPDMinSlider",Wi,l(i)),r(i,"musicTitleLabel",_i,l(i)),r(i,"sfxSlider",Vi,l(i)),r(i,"ssmodeToolTip",Zi,l(i)),r(i,"allowCheatSprite",qi,l(i)),r(i,"difficultyLevel",Xi,l(i)),i}n(i,e),i.getDefaultResolution=function(){var e=F.getCurrentResolution();if(null!=e&&e.length){var i=e.indexOf(""),t=e.concat().slice(0,i),n=e.concat().slice(i+1,e.length),r=Number(t),l=Number(n);if(!isNaN(r)&&!isNaN(l))return new T(r,l)}return new T(1920,1200)};var t=i.prototype;return t.readAnimationFrameRate=function(){var e=i.frameRate,t=e.toString()+" FPS";isFinite(e)||(t=I.getString(I.lyrics.SettingLyrics.AnimationMaxFrameRateUnlimited,!1)),this.animationFrameRateToolTip.string=t,w.frameRate=e},t.switchAnimationFrameRate=function(){i.animationFrameRate=(i.animationFrameRate+1)%4,this.readAnimationFrameRate(),ot.saveSettings()},t.readAudioLoadMode=function(){this.audioLoadModeToolTip.string=I.getStringByPropsWithoutTricks("SettingLyrics",_.loadmode==p.AudioType.WEB_AUDIO?"WebAudio":"DomAudio")},t.switchAudioLoadMode=function(){_.loadmode=_.loadmode==p.AudioType.DOM_AUDIO?p.AudioType.WEB_AUDIO:p.AudioType.DOM_AUDIO,this.readAudioLoadMode(),ot.saveSettings()},t.setTileTurnip=function(){var e="A",i=new b(31,255,0,255);switch(O.TileTurnipType){case k.beta:e="B",i=new b(255,0,0,255);break;case k.delta:e="",i=new b(255,235,0,255);break;case k.gamma:e="",i=new b(0,245,255,255);break;case k.epsilon:e="E",i=new b(194,0,255,255)}this.TurnipBG.color=i,this.TurnipPattern.string=e},t.switchTileTurnip=function(){O.TileTurnipType++,O.TileTurnipType>=k.amount&&(O.TileTurnipType=0),this.setTileTurnip(),ot.saveSettings()},t.readCursor=function(){switch(i.cursor){case U.default:this.cursorStyleName.string=I.getString(I.lyrics.SettingLyrics.CursorStyleOptions.Default,!1);break;case U.soft:this.cursorStyleName.string=I.getString(I.lyrics.SettingLyrics.CursorStyleOptions.Soft,!1);break;default:this.cursorStyleName.string=I.getString(I.lyrics.SettingLyrics.CursorStyleOptions.Unchanged,!1)}},t.switchCursor=function(){i.cursor=(i.cursor+1)%(U.unchanged+1),this.readCursor(),z.loadCursor(i.cursor),ot.saveSettings()},t.readLanguage=function(){switch(I.currentLanguage){case G.EN:this.languageName.string="English";break;case G.ZH:this.languageName.string=""}},t.switchLanguage=function(){if(I.currentLanguage+1==G.ZH&&!I.isWhiteList){_.playOneShot(this.failSound,1,0,0);var e=Math.round(I.camelGamingTime/36)/100,i=new b(199,143,0,255);return this.tooltips.EnterBilibili.color=new b(255,0,0,255),M(this.tooltips.EnterBilibili).to(1,{color:i}).start(),this.languageTipLabel.node.active=!0,void(this.languageTipLabel.string=" 3  <TIME> ".replace("<TIME>",e.toString()))}I.currentLanguage=(I.currentLanguage+1)%G.amount,this.readLanguage(),z.restartScene(),ot.saveSettings()},t.switchFPSShower=function(){i.showFPS=!i.showFPS,this.showFPSButton.color=i.showFPS?i.GREEN:i.RED,ot.saveSettings()},t.switchPocketUI=function(){N.PocketUI=!N.PocketUI,this.readPocketUI(),ot.saveSettings()},t.readPocketUI=function(){this.pocketUIButton.color=N.PocketUI?i.GREEN:i.RED},t.switchZombieAlert=function(){B.ZombieWarnOn=!B.ZombieWarnOn,this.readZombieAlert(),ot.saveSettings()},t.readZombieAlert=function(){this.zombieAlertButton.color=B.ZombieWarnOn?i.GREEN:i.RED},t.switchKeyTipShower=function(){i.showKeyTips=!i.showKeyTips,this.readKeyTipShower(),ot.saveSettings()},t.readKeyTipShower=function(){this.showKeyTipButton.color=i.showKeyTips?i.GREEN:i.RED},t.switchPlantKeyTipShower=function(){i.plantKeyTips=!i.plantKeyTips,this.readPlantKeyTipShower(),ot.saveSettings()},t.readPlantKeyTipShower=function(){this.plantKeyTipButton.color=i.plantKeyTips?i.GREEN:i.RED},t.readClassicCardBG=function(){this.classicCardBGSprite.color=i.classicCardBG?i.GREEN:i.RED},t.switchClassicCardBG=function(){i.classicCardBG=!i.classicCardBG,this.readClassicCardBG(),ot.saveSettings()},t.blockMouse=function(){},t.onLoad=function(){var e=ot.getSettings();z.KeyBinds=null==e?void 0:e.KeyBinds,I.bilibiliNumber=null==e?void 0:e.bilibiliNumber,_.loadmode=isNaN(null==e?void 0:e.AudioLoadMode)?p.AudioType.WEB_AUDIO:e.AudioLoadMode,I.camelGamingTime=isNaN(e.CamelPlayedTime)?0:e.CamelPlayedTime,I.isWhiteList&&(I.camelGamingTime=99999999999),I.currentLanguage=isNaN(e.Language)||!I.isWhiteList?0:e.Language,null==i.defaultResolution&&(i.defaultResolution=i.getDefaultResolution()),E.MusicVolume=isNaN(e.MusicVolume)?1:e.MusicVolume,A.SoundFXVolume=isNaN(e.SFXVolume)?1:e.SFXVolume,E.MusicSpeedRange=new V(isNaN(e.MusicSpeedMax)?1:e.MusicSpeedMax,isNaN(e.MusicSpeedMin)?1:e.MusicSpeedMin),N.cardsAtUpper=e.CardsAtUpper,N.PocketUI=!!e.PocketUI,B.ZombieWarnOn=!!e.ZombieAlert,i.allowCheat=e.AllowCheat,i.classicCardBG=!!e.ClassicCardBG,i.plantKeyTips=null==e.PlantKeyTips||e.PlantKeyTips,i.showKeyTips=null==e.ShowKeyTips||e.ShowKeyTips,i.showFPS=null!=e.ShowFPS&&e.ShowFPS,i.animationFrameRate=isNaN(e.AnimationFrameRate)?0:e.AnimationFrameRate,this.readAnimationFrameRate(),i.cursor=isNaN(e.cursor)?U.default:e.cursor,K.lncSelectionMode=isNaN(e.LnCSelectionMode)?0:e.LnCSelectionMode,O.TileTurnipType=isNaN(e.TileTurnipType)?k.epsilon:e.TileTurnipType,ot.saveSettings(),L.on(v.EventType.KEY_DOWN,(function(e){e.keyCode,C.NUM_0}),this)},t.enterBilibili=function(){var e;null!=(e=this.bilibiliEnter)&&null!=(e=e.string)&&e.length&&(I.bilibiliNumber=this.bilibiliEnter.string,ot.saveSettings(),z.restartScene())},t.exportKeyBinds=function(){var e=z.KeyBinds;e.__KeyCodeList__="https://docs.cocos.com/creator/3.8/api/zh/enumeration/KeyCode",et(e,"KeyBinds")},t.importKeyBinds=function(){null==tt||tt.click()},t.gotoWebSiteKeyBinds=function(){F.openURL(I.getDirectQuote("[WEBSITE_KEYBINDS]"))},t.start=function(){var e=this;this.tooltips.setToolTip(),this.musicSlider.progress=E.MusicVolume,this.sfxSlider.progress=A.SoundFXVolume,this.musicSPDMaxSlider.progress=(E.MusicSpeedRange.Max-.5)/1.5,this.musicSPDMinSlider.progress=(E.MusicSpeedRange.Min-.5)/1.5,this.readMusicSPD(),this.uiCardsAtUpperSprite.color=N.cardsAtUpper?i.GREEN:i.RED,this.allowCheatSprite.color=i.allowCheat?i.GREEN:i.RED,this.readKeyTipShower(),this.readPlantKeyTipShower(),this.showFPSButton.color=i.showFPS?i.GREEN:i.RED,this.fullScreenSprite.color=null!=F&&F.isFullScreen()?i.GREEN:i.RED,this.sfxSlider.handle.node.angle=360*-this.sfxSlider.progress,this.musicSlider.handle.node.angle=360*-this.musicSlider.progress,this.musicSPDMaxSlider.handle.node.angle=360*-this.musicSPDMaxSlider.progress,this.musicSPDMinSlider.handle.node.angle=360*-this.musicSPDMinSlider.progress,this.readClassicCardBG(),this.readPocketUI(),this.readZombieAlert(),isNaN(x.currentPlayer.difficulty)&&(x.currentPlayer.difficulty=3);var t,n=x.currentPlayer.difficulty;(n<0&&(n=3),n>3&&(n=0),x.currentPlayer.difficulty=n,this.readDifficulty(n),this.readCursor(),this.readLanguage(),this.readAnimationFrameRate(),this.readAudioLoadMode(),"3.1415926535897932384626"==I.bilibiliNumber)?(this.bilibiliEnter.node.active=this.tooltips.WhiteListRequire.node.active=!1,this.tooltips.Language.node.parent.active=!1,I.currentLanguage=G.EN):(this.bilibiliEnter.node.active=isNaN(null==(t=I.bilibiliNumber)?void 0:t.length),this.tooltips.WhiteListRequire.node.active=!this.bilibiliEnter.node.active);this.setTileTurnip(),L.on(v.EventType.KEY_DOWN,(function(i){e.node.active&&z.shiftDown&&z.altDown&&z.ctrlDown&&(i.keyCode==C.KEY_R&&z.numEnterDown?(I.bilibiliNumber=null,I.camelGamingTime=0,ot.saveSettings(),z.restartScene()):i.keyCode==C.KEY_C?(I.bilibiliNumber="3.1415926535897932384626",I.currentLanguage=G.EN,ot.saveSettings(),z.restartScene()):i.keyCode==C.KEY_P&&"3.1415926535897932384626"!=I.bilibiliNumber&&(I.bilibiliNumber="31415926535897932384626",ot.saveSettings(),z.restartScene()))}),this)},t.onEnable=function(){this.languageTipLabel.string=""},t.uiCardsAtUpper=function(){N.cardsAtUpper=!N.cardsAtUpper,this.uiCardsAtUpperSprite.color=N.cardsAtUpper?i.GREEN:i.RED,ot.saveSettings()},t.quit=function(){F.quit()},i.fullScreen=function(){F.isFullScreen()?F.window():F.fullScreen()},t.fullScreen=function(){i.fullScreen()},t.musicSPDClear=function(){E.MusicSpeedRange=new V(1,1),this.musicSPDMaxSlider.getComponent(P).progress=this.musicSPDMinSlider.getComponent(P).progress=1/3,this.musicSPDMaxSlider.handle.node.angle=this.musicSPDMinSlider.handle.node.angle=-120,this.readMusicSPD(),ot.saveSettings()},t.musicSPDMaxSlide=function(){E.MusicSpeedRange.Max=1.5*this.musicSPDMaxSlider.progress+.5,this.musicSPDMaxSlider.handle.node.angle=360*-this.musicSPDMaxSlider.progress,this.musicSPDMaxSlider.getComponent(P).progress=this.musicSPDMaxSlider.progress,this.readMusicSPD(),ot.saveSettings()},t.musicSPDMinSlide=function(){E.MusicSpeedRange.Min=1.5*this.musicSPDMinSlider.progress+.5,this.musicSPDMinSlider.handle.node.angle=360*-this.musicSPDMinSlider.progress,this.musicSPDMinSlider.getComponent(P).progress=this.musicSPDMinSlider.progress,this.readMusicSPD(),ot.saveSettings()},t.readMusicSPD=function(){this.musicTitleLabel.string=I.getStringByProps("SettingLyrics","MusicSpeed")+" ("+(Math.round(100*E.MusicSpeedRange.Min)/100).toString()+" ~ "+(Math.round(100*E.MusicSpeedRange.Max)/100).toString()+")"},t.musicSlide=function(){E.setMusicVolume(this.musicSlider.progress),this.musicSlider.handle.node.angle=360*-this.musicSlider.progress,this.musicSlider.getComponent(P).progress=E.MusicVolume},t.sfxSlide=function(){A.setSoundFxVolume(this.sfxSlider.progress),this.sfxSlider.handle.node.angle=360*-this.sfxSlider.progress,this.sfxSlider.getComponent(P).progress=A.SoundFXVolume},t.ssmodeChange=function(){K.lncSelectionMode=(K.lncSelectionMode+1)%3,ot.saveSettings()},t.setAllowCheat=function(){i.allowCheat=!i.allowCheat,this.allowCheatSprite.color=i.allowCheat?i.GREEN:i.RED,ot.saveSettings()},t.readDifficulty=function(e){var i="A";switch(e){case 0:i="D";break;case 1:i="C";break;case 2:i="B";break;default:i="A"}this.difficultyLevel.string=i},t.setDifficulty=function(){var e=x.currentPlayer.difficulty-1;e<0&&(e=3),e>3&&(e=0),x.currentPlayer.difficulty=e,this.readDifficulty(e),x.savePP()},t.update=function(e){this.fullScreenSprite.color=F.isFullScreen()?i.GREEN:i.RED,this.musicSlider.getComponent(P).progress=E.MusicVolume,this.sfxSlider.getComponent(P).progress=A.SoundFXVolume,this.musicSPDMaxSlider.getComponent(P).progress=(E.MusicSpeedRange.Max-.5)/1.5,this.musicSPDMinSlider.getComponent(P).progress=(E.MusicSpeedRange.Min-.5)/1.5;var t="Nothing";switch(K.lncSelectionMode){case 0:t=I.getString(I.lyrics.SettingLyrics.SquareTipModeOptions.EachSquare,!1);break;case 1:t=I.getString(I.lyrics.SettingLyrics.SquareTipModeOptions.Crossing,!1);break;default:t=I.getString(I.lyrics.SettingLyrics.SquareTipModeOptions.None,!1)}this.ssmodeToolTip.string=t},a(i,null,[{key:"frameRate",get:function(){switch(i.animationFrameRate){case 1:return 24;case 2:return 30;case 3:return 60}return i.animationFrameRate=0,1/0}}]),i}(R)).showFPS=!1,ji.defaultResolution=null,ji.animationFrameRate=0,ji.cursor=U.default,ji.showKeyTips=!0,ji.plantKeyTips=!0,ji.allowCheat=!0,ji.classicCardBG=!1,ji.GREEN=new b(20,255,0,255),ji.RED=new b(255,0,0,255),wi=i((Ti=ji).prototype,"tooltips",[qe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new $i}}),Mi=i(Ti.prototype,"animationFrameRateToolTip",[Xe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Li=i(Ti.prototype,"audioLoadModeToolTip",[je],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),vi=i(Ti.prototype,"TurnipBG",[Ye],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ci=i(Ti.prototype,"TurnipPattern",[Qe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pi=i(Ti.prototype,"cursorStyleName",[He],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ri=i(Ti.prototype,"languageName",[Je],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ei=i(Ti.prototype,"languageTipLabel",[$e],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ai=i(Ti.prototype,"audioSource",[ei],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Di=i(Ti.prototype,"failSound",[ii],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ni=i(Ti.prototype,"showFPSButton",[ti],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fi=i(Ti.prototype,"pocketUIButton",[ni],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Bi=i(Ti.prototype,"zombieAlertButton",[ri],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ki=i(Ti.prototype,"showKeyTipButton",[li],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xi=i(Ti.prototype,"plantKeyTipButton",[ai],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),zi=i(Ti.prototype,"classicCardBGSprite",[oi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ui=i(Ti.prototype,"bilibiliEnter",[si],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ii=i(Ti.prototype,"uiCardsAtUpperSprite",[ui],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Gi=i(Ti.prototype,"fullScreenSprite",[ci],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ki=i(Ti.prototype,"musicSlider",[di],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Oi=i(Ti.prototype,"musicSPDMaxSlider",[pi],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Wi=i(Ti.prototype,"musicSPDMinSlider",[gi],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_i=i(Ti.prototype,"musicTitleLabel",[Si],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Vi=i(Ti.prototype,"sfxSlider",[hi],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Zi=i(Ti.prototype,"ssmodeToolTip",[mi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qi=i(Ti.prototype,"allowCheatSprite",[yi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Xi=i(Ti.prototype,"difficultyLevel",[bi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fi=Ti))||fi));o._RF.pop()}}}));

System.register("chunks:///_virtual/shadeFloor.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var o,t,r,n,a,i,s,c,l,u;return{setters:[function(e){o=e.applyDecoratedDescriptor,t=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){a=e.cclegacy,i=e._decorator,s=e.Prefab,c=e.NodePool,l=e.instantiate,u=e.Component}],execute:function(){var h,p,d,f,v,y;a._RF.push({},"4558f9UNahIf6cuVw5c+xaB","shadeFloor",void 0);var g=i.ccclass,P=i.property;e("shadeFloor",(h=g("shadeFloor"),p=P(s),h(((y=function(e){function o(){for(var o,t=arguments.length,a=new Array(t),i=0;i<t;i++)a[i]=arguments[i];return o=e.call.apply(e,[this].concat(a))||this,r(o,"shade",v,n(o)),o.shadePool=new c,o}t(o,e);var a=o.prototype;return a.giveShade=function(){var e=this.shadePool.get();return e||(e=l(this.shade)),e},a.putShade=function(e){this.shadePool.put(e)},a.onLoad=function(){o.component=this},o}(u)).component=void 0,v=o((f=y).prototype,"shade",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=f))||d));a._RF.pop()}}}));

System.register("chunks:///_virtual/ShadowShroom.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./Zombie.ts","./CharacterManager.ts","./NodePools.ts","./SoundRescourses.ts"],(function(o){var n,t,i,e,a,r,s,l,u,d,p,c,h,f,P,y;return{setters:[function(o){n=o.applyDecoratedDescriptor,t=o.inheritsLoose,i=o.initializerDefineProperty,e=o.assertThisInitialized},function(o){a=o.cclegacy,r=o._decorator,s=o.AudioClip,l=o.Prefab},function(o){u=o.Plant,d=o.PlantProps},function(o){p=o.ZombiePoison},function(o){c=o.ZombiePool,h=o.ZombieDamageDetails,f=o.ZombieDamageType},function(o){P=o.instantiatePooly},function(o){y=o.sounds}],execute:function(){var m,S,b,w,g,D,v,x,E,_,R,j,O,z;a._RF.push({},"8d400Hs9RdLfoEUYaSQ+giS","ShadowShroom",void 0);var A=r.ccclass,F=r.property,L=(m=A("shadowshroomSound"),S=F([s]),b=F([s]),m((D=n((g=function(){function o(){i(this,"deathExplodeSounds",D,this),i(this,"foodExplodeSounds",v,this)}var n=o.prototype;return n.playExplode=function(){y.playArray(this.deathExplodeSounds,1,.1)},n.playFood=function(){y.playArray(this.foodExplodeSounds,1,.1)},o}()).prototype,"deathExplodeSounds",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=n(g.prototype,"foodExplodeSounds",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),w=g))||w),Z=function(o){function n(){for(var n,t=arguments.length,i=new Array(t),e=0;e<t;e++)i[e]=arguments[e];return(n=o.call.apply(o,[this].concat(i))||this).PoisonDuration=30,n.PoisonDPS=30,n}return t(n,o),n}(d);o("ShadowShroomPlant",(x=A("ShadowShroomPlant"),E=F(L),_=F(l),x((O=n((j=function(o){function n(){for(var n,t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return n=o.call.apply(o,[this].concat(a))||this,i(n,"soundRes",O,e(n)),n._objdataOwn=new Z,i(n,"explPar",z,e(n)),n}t(n,o);var a=n.prototype;return a.specialPlantOnEaten=function(o,n,t,i){i<=0&&(n.setPoison(this._objdataOwn.PoisonDPS*this._dmgScale,this._objdataOwn.PoisonDuration,this.ShadowPowered),this.playParticle(),this.soundRes.playExplode(),this.die(!1,!0,!1),this.node.destroy())},a.playParticle=function(){var o,n=P(this.explPar);n.parent=null==(o=this.inLane)?void 0:o.prjLayer,n.worldPosition=this.node.worldPosition},a.specialPlantFood=function(o){this.anmControl.playAnimation("Food",1)},a.animationOnComplete=function(){this.fooding&&this.foodEnd()},a.animationListener=function(o){var n=this;"foodExplode"==o.name?c.pool().concat().forEach((function(o){var t=o.poison.isValid();o.setPoison(n._objdataOwn.PoisonDPS,n._objdataOwn.PoisonDuration),t&&(o.dealDamage(new h(o.poison.DPS*o.poison.duration,!1,!1,!1,null,f.physicle,!0,!0)),o.poison=new p(0,0))})):"foodSound"==o.name?this.soundRes.playFood():"playPar"==o.name&&this.playParticle()},n}(u)).prototype,"soundRes",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new L}}),z=n(j.prototype,"explPar",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=j))||R));a._RF.pop()}}}));

System.register("chunks:///_virtual/ShootingStarfruit.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Square.ts","./CharacterManager.ts","./StarFruit.ts","./Lane.ts"],(function(t){var o,n,e,r,s,a,i,u,h,c,d;return{setters:[function(t){o=t.inheritsLoose,n=t.asyncToGenerator,e=t.regeneratorRuntime},function(t){r=t.cclegacy,s=t._decorator,a=t.Vec2},function(t){i=t.Square},function(t){u=t.ZombiePool,h=t.TombPool},function(t){c=t.StarFruitPlant},function(t){d=t.Lane}],execute:function(){var f;r._RF.push({},"37416Pe9UdD54fshPVpOQxg","ShootingStarfruit",void 0);var p=s.ccclass;s.property,t("ShootingStarfruitPlant",p("ShootingStarfruit")(f=function(t){function r(){return t.apply(this,arguments)||this}o(r,t);var s=r.prototype;return s.specialPlantFood=function(){this.anmControl.playAnimation("Food",1),this.busy=1/0},s.specialPlantFoodEnd=function(){this.busy=0},s.animationListener=function(t){var o=this;if("Shoot"==t.name)this._shootStars(),this.fooding||this.soundResStar.playShootSound();else if("foodEnd"==t.name)this.foodEnd();else if("foodStart"==t.name){this.soundResStar.playFoodSound(),this.anmControl.playAnimation("Fooding",1/0);var n=this._objdataOwn.PlantfoodPeaCount;this.anmControl.playAnimation("Fooding",1/0);var e=0;this.schedule((function(){o._shootStars(!0,!0,o._objdataOwn.PeaTypePlantfood,11),++e>=n&&o.foodEnd()}),1/n,n,.01)}else"do"==t.name?this.shootDO():"re"==t.name?this.shootRE():"mi"==t.name?this.shootMI():"fa"==t.name?this.shootFA():"so"==t.name?this.shootSO():"la"==t.name&&this.shootLA()},s.shootDO=function(){var t=n(e().mark((function t(){var o;return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this._shootStars(),this.soundResStar.playPiano(1),t.next=4,this._shoot(!1,!1,this._objdataOwn.PeaTypePlantfood,8,new a(1,0));case 4:(o=t.sent).worldPosition=new a(o._worldPositionX,i.getLaneNode(4).getComponent(d).floorY);case 6:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s.shootRE=function(){var t=n(e().mark((function t(){var o;return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._shootStars();case 2:return this.soundResStar.playPiano(2),t.next=5,this._shoot(!1,!1,this._objdataOwn.PeaTypePlantfood,8,new a(1,0));case 5:(o=t.sent).worldPosition=new a(o._worldPositionX,i.getLaneNode(3).getComponent(d).floorY);case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s.shootMI=function(){var t=n(e().mark((function t(){var o;return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._shootStars();case 2:return this.soundResStar.playPiano(3),t.next=5,this._shoot(!1,!1,this._objdataOwn.PeaTypePlantfood,8,new a(1,0));case 5:(o=t.sent).worldPosition=new a(o._worldPositionX,i.getLaneNode(2).getComponent(d).floorY);case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s.shootFA=function(){var t=n(e().mark((function t(){var o;return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._shootStars();case 2:return this.soundResStar.playPiano(4),t.next=5,this._shoot(!1,!1,this._objdataOwn.PeaTypePlantfood,8,new a(1,0));case 5:(o=t.sent).worldPosition=new a(o._worldPositionX,i.getLaneNode(1).getComponent(d).floorY);case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s.shootSO=function(){var t=n(e().mark((function t(){var o;return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._shootStars();case 2:return this.soundResStar.playPiano(5),t.next=5,this._shoot(!1,!1,this._objdataOwn.PeaTypePlantfood,8,new a(1,0));case 5:(o=t.sent).worldPosition=new a(o._worldPositionX,i.getLaneNode(0).getComponent(d).floorY);case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s.shootLA=function(){var t=n(e().mark((function t(){var o;return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._shootStars();case 2:return this.soundResStar.playPiano(6),t.next=5,this._shoot(!1,!1,this._objdataOwn.PeaTypePlantfood,8,new a(1,0));case 5:(o=t.sent).worldPosition=new a(o._worldPositionX,i.getLaneNode(0).getComponent(d).floorY+i.SquareHeight);case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s.detectEnemy=function(){var t=this,o=!1;return u.pool().forEach((function(n){var e;if(!o){var r=null==(e=n.bodyRecForShooter)?void 0:e.prjX();r&&r.y>t.worldPositionX&&r.x<i.lawnRec.prjX().y+i.SquareWidth/2&&(o=!0)}})),!!o||(h.pool().forEach((function(n){o||n.inLnC.cIndex>t.inLnC.cIndex&&(o=!0)})),o)},s._shootStars=function(){var t=n(e().mark((function t(o,n,r,s){var u,h;return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:void 0===o&&(o=!1),void 0===n&&(n=!1),void 0===r&&(r=this._objdataOwn.PeaType),void 0===s&&(s=11),u=0;case 5:if(!(u<=4)){t.next=13;break}return t.next=8,this._shoot(o,n,r,s,new a(1,0));case 8:(h=t.sent).worldPosition=new a(h._worldPositionX,i.getLaneNode(u).getComponent(d).floorY);case 10:u++,t.next=5;break;case 13:case"end":return t.stop()}}),t,this)})));return function(o,n,e,r){return t.apply(this,arguments)}}(),r}(c))||f);r._RF.pop()}}}));

System.register("chunks:///_virtual/Shovel.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var n,e,i,s,o,r,a,l,c;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,s=t.assertThisInitialized},function(t){o=t.cclegacy,r=t._decorator,a=t.Node,l=t.dragonBones,c=t.Component}],execute:function(){var h,u,d,p,b,f,y;o._RF.push({},"9ac6bbxNX5PRbmn33VVbBXO","Shovel",void 0);var v=r.ccclass,x=r.property;t("Shovel",(h=v("Shovel"),u=x(a),d=x(l.ArmatureDisplay),h((f=n((b=function(t){function n(){for(var n,e=arguments.length,o=new Array(e),r=0;r<e;r++)o[r]=arguments[r];return(n=t.call.apply(t,[this].concat(o))||this).index=0,n.indexPoint=0,i(n,"listener",f,s(n)),n.sunback=!1,i(n,"db",y,s(n)),n}e(n,t);var o=n.prototype;return o.select=function(){0==this.index?1==this.indexPoint?this.db.playAnimation("Pointed"+(this.sunback?"Sunback":""),-1):this.db.playAnimation("Idle"+(this.sunback?"Sunback":""),-1):1==this.index&&this.db.playAnimation("Chosen"+(this.sunback?"Sunback":""),-1)},o.choose=function(){this.index=1,this.select()},o.unchoose=function(){this.index=0,this.select()},o.switchMode=function(t){},o.onBtnEnter=function(){this.indexPoint=1,this.select()},o.onBtnLeave=function(){this.indexPoint=0,this.select()},o.onEnable=function(){this.index=0,this.select()},o.onLoad=function(){this.listener||(this.listener=this.node),this.db||(this.db=this.getComponent(l.ArmatureDisplay)),this.listener.on(a.EventType.MOUSE_ENTER,this.onBtnEnter,this),this.listener.on(a.EventType.MOUSE_LEAVE,this.onBtnLeave,this),this.index=0,this.indexPoint=0},n}(c)).prototype,"listener",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=n(b.prototype,"db",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=b))||p));o._RF.pop()}}}));

System.register("chunks:///_virtual/ShovelUIController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Shovel.ts","./UI.ts","./NodePools.ts","./SettingWindow.ts","./KeyListener.ts"],(function(e){var t,o,n,i,s,l,r,a,h,c,d,u,p,v,y,f,I,S,g,m,w;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){s=e.cclegacy,l=e._decorator,r=e.Prefab,a=e.Label,h=e.Vec3,c=e.Color,d=e.math,u=e.KeyCode,p=e.UITransform,v=e.instantiate,y=e.Widget,f=e.Component},function(e){I=e.Shovel},function(e){S=e.UIInGame},function(e){g=e.NodePools},function(e){m=e.SettingWindow},function(e){w=e.KeyListener}],execute:function(){var C,P,U,K,T,b,k,x,L,H;s._RF.push({},"229dc/E+75CkLChHl2JtR8h","ShovelUIController",void 0);var R=l.ccclass,_=l.property;e("ShovelUIController",(C=R("ShovelUIController"),P=_(r),U=_(r),K=_(a),C(((H=function(e){function t(){for(var t,o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];return(t=e.call.apply(e,[this].concat(s))||this).index=0,t.UIParent=null,n(t,"Shovel",k,i(t)),n(t,"shovelInHand",x,i(t)),n(t,"KeyTip",L,i(t)),t.keyOffset=new h(30,-20,0),t.shovelIcon=null,t.shovelReady=null,t.uiTransform=void 0,t.gameStarted=!1,t.oldpos=new h(0,0,0),t}o(t,e),t.gameStart=function(e){void 0===e&&(e=!1),this.shovelUI._gameStart(e)};var s=t.prototype;return s._gameStart=function(e){void 0===e&&(e=!1),this.shovelIcon.sunback=e,this.shovelIcon.select(),this.gameStarted||(this.gameStarted=!0,this.node.position=this.oldpos,this.KeyTip.node.worldPosition=this.node.worldPosition.clone().add(this.keyOffset))},s.keyScale=function(){return this.index?new h(.9,.9):new h(.7,.7)},s.keyColor=function(){return m.showKeyTips?this.index?new d.Color(100,255,100,255):new d.Color(245,255,0,255):new c(0,0,0,0)},s.shovelSelectPowerUp=function(){this.index=-5==this.UIParent.index?1:0,this.index&&(this.shovelReady=g.instantiatePooly(this.shovelInHand),this.shovelReady.parent=S.component.plantInHandLayer)},s.shovelSelect=function(){this.index=-2==this.UIParent.index?1:0,this.shovelIcon.index=this.index,this.shovelIcon.select(),this.index&&(this.shovelReady=g.instantiatePooly(this.shovelInHand),this.shovelReady.parent=S.component.plantInHandLayer),this.KeyTip.color=this.keyColor(),this.KeyTip.node.scale=this.keyScale()},s.start=function(){this.KeyTip.color=this.keyColor(),this.KeyTip.string=w.KeyCodeToString(u[w.KeyBinds.Game_Shovel])},s.onLoad=function(){this.uiTransform=this.getComponent(p),this.gameStarted=!1,t.shovelUI=this;var e=v(this.Shovel);e.setPosition(0,0),e.parent=this.node,this.shovelIcon=e.getComponent(I),this.node.position=S.PocketUI?new h(460,-270,0):new h(290,245,0);var o=this.getComponent(y);o&&(o.right=S.PocketUI?10:180),this.oldpos=this.node.position.clone(),this.node.position=new h(5e3,5e3,5e3),this.KeyTip.node.position=new h(5e3,5e3,5e3)},t}(f)).shovelUI=void 0,k=t((b=H).prototype,"Shovel",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(b.prototype,"shovelInHand",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(b.prototype,"KeyTip",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=b))||T));s._RF.pop()}}}));

System.register("chunks:///_virtual/ShrinkingViolet.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./SoundRescourses.ts","./CharacterManager.ts","./Square.ts","./NodePools.ts"],(function(e){var i,n,t,o,a,r,s,l,c,h,u,p,d,b,f,y,w,g;return{setters:[function(e){i=e.applyDecoratedDescriptor,n=e.inheritsLoose,t=e.initializerDefineProperty,o=e.assertThisInitialized,a=e.createClass},function(e){r=e.cclegacy,s=e._decorator,l=e.AudioClip,c=e.Prefab,h=e.Vec3},function(e){u=e.Plant,p=e.PlantProps},function(e){d=e.sounds},function(e){b=e.ZombiePool,f=e.Rectangle,y=e.ZombieShrinkingProps},function(e){w=e.Square},function(e){g=e.instantiatePooly}],execute:function(){var S,k,m,P,R,v,z,C,L,O,j,A,E,V,_,D,M,x,F,q;r._RF.push({},"3394aQfQVtEXam3bwMUq52B","ShrinkingViolet",void 0);var T=s.ccclass,W=s.property,I=function(e){function i(){for(var i,n=arguments.length,t=new Array(n),o=0;o<n;o++)t[o]=arguments[o];return(i=e.call.apply(e,[this].concat(t))||this).ShrinkTime=1.5,i.DamageMultiplier=2,i.SpeedScale=.75,i}return n(i,e),i}(p),U=(S=T("ShrinkingVioletSound"),k=W(l),m=W(l),P=W(l),R=W(l),v=W([l]),S((L=i((C=function(){function e(){t(this,"open",L,this),t(this,"explode",O,this),t(this,"grow",j,this),t(this,"shrink",A,this),t(this,"wisp",E,this)}var i=e.prototype;return i.playOpen=function(){d.playOneShot(this.open,1,.1)},i.playExplode=function(){d.playOneShot(this.explode,1,.1)},i.playGrow=function(){d.playOneShot(this.grow,1,.1)},i.playShrink=function(){d.playOneShot(this.shrink,1,.1)},i.playWisp=function(){d.playArray(this.wisp,1,.1)},e}()).prototype,"open",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=i(C.prototype,"explode",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=i(C.prototype,"grow",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=i(C.prototype,"shrink",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=i(C.prototype,"wisp",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=C))||z);e("ShrinkingVioletPlant",(V=T("ShrinkingVioletPlant"),_=W(U),D=W(c),V((F=i((x=function(e){function i(){for(var i,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return i=e.call.apply(e,[this].concat(a))||this,t(i,"soundRes",F,o(i)),i._objdataOwn=new I,i.switching=!1,t(i,"shrinkPar",q,o(i)),i}n(i,e);var r=i.prototype;return r.onObjdataSet=function(e,i){},r.specialPlantOnEnable=function(){this.shadeAlphaScale=1,this.eaterDetectable=!1,this.smasherDetectable=!1,this.deathAnm="Attack"},r.zombieCanbeShrinked=function(e){return e.ShrinkProps.length<=0&&!e.objdataOwn.ImmuneToShrinkingViolet},r.detectEnemies=function(){var e,i=this;return null==(e=this.inLane)?void 0:e.zombiePool().some((function(e){return i.zombieCanbeShrinked(e)&&(i.bodyRec.judgeCrossRec(e.bodyRec)||i.bodyRec.judgeCrossRec(e.plantDetectorRecForPotatoMine))}))},r.waterable=function(){return!this.switching},r.shrink=function(e){var i=this;void 0===e&&(e=!1);var n=[];if(e)n=b.pool().concat();else if(this.inLnC&&this.inLane){var t=f.createRectangleCenter(this.inLnC.node.worldPosition.toVec2(),3*w.SquareWidth,3*w.SquareHeight);n=this.inLane.zombiePool().concat(this.inLane.UpperLane.zombiePool(),this.inLane.LowerLane.zombiePool()).filter((function(e){return t.judgeCrossRec(e.bodyRec)}))}n=n.filter((function(e){return i.zombieCanbeShrinked(e)}));var o=new y;o.DamageMultiplier=this.objdataOwn.DamageMultiplier,o.Scale=.5,o.SpeedScale=this.objdataOwn.SpeedScale,n.forEach((function(e){if(e){e.shrink([o],i.objdataOwn.ShrinkTime);var n=g(i.shrinkPar);n.parent=e.inLane.prjLayer,n.worldPosition=e.worldPosition.toVec3();var t=.5*Math.abs(e._scaleForCharacter*i.originalShadeScale.width/.25);n.worldScale=new h(t,t,1)}}))},r.specialPlantUpdate=function(e,i,n){n>0&&!this.fooding&&!this.switching&&this.detectEnemies()&&(this.switching=!0,this._invincible=!0,this.anmControl.playAnimation("Attack",1))},r.specialPlantFoodEnd=function(){this.switching=!1,this.anmControl.playIdle()},r.specialPlantFood=function(e){this.anmControl.playAnimation("Food",1/0),this._invincible=!1},r.animationListener=function(e){switch(e.name){case"shrink":this.soundRes.playExplode(),this.soundRes.playShrink(),this.soundRes.playWisp(),this.shadeAlphaScale=0,this.shrink();break;case"shrink_food":this.soundRes.playExplode(),this.soundRes.playShrink(),this.soundRes.playWisp(),this.shrink(!0);break;case"foodEnd":this.foodEnd();break;case"grow":this.soundRes.playGrow();break;case"open":this.soundRes.playOpen();break;case"kill":this.die(!0,!0,!1,!1)}},a(i,[{key:"objdataOwn",get:function(){return this._objdataOwn}}]),i}(u)).prototype,"soundRes",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new U}}),q=i(x.prototype,"shrinkPar",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=x))||M));r._RF.pop()}}}));

System.register("chunks:///_virtual/SkyBasicZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts"],(function(i){var n,t,e,o;return{setters:[function(i){n=i.inheritsLoose},function(i){t=i.cclegacy,e=i._decorator},function(i){o=i.Zombie}],execute:function(){var r;t._RF.push({},"06d1cZqR9RGLpQvyXYqe4VX","SkyBasicZombie",void 0);var c=e.ccclass;e.property,i("SkyBasicZombie",c("SkyBasicZombie")(r=function(i){function t(){return i.apply(this,arguments)||this}n(t,i);var e=t.prototype;return e.playDirtSpawn=function(i){this.isWalking=!1,this.switching=!0,this.body.playAnimation("Summon",1)},e.fallInSkyTargetAngle=function(i){return 130*(this.reversed?-1:1)},e.walkTimeScale=function(i,n,t){return 1.5},e.lockedTimeScale=function(){return this.fallingInSky?.001:NaN},t}(o))||r);t._RF.pop()}}}));

System.register("chunks:///_virtual/Skyshooter.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Peashooter.ts","./LnC.ts"],(function(t){var n,o,i,e,s,a;return{setters:[function(t){n=t.inheritsLoose,o=t.createClass},function(t){i=t.cclegacy,e=t._decorator},function(t){s=t.PeashooterPlant},function(t){a=t.TileType}],execute:function(){var r;i._RF.push({},"254deDOuS9NNLGb4CSIn6ID","Skyshooter",void 0);var l=e.ccclass;e.property,t("SkyshooterPlant",l("SkyshooterPlant")(r=function(t){function i(){for(var n,o=arguments.length,i=new Array(o),e=0;e<o;e++)i[e]=arguments[e];return(n=t.call.apply(t,[this].concat(i))||this)._isFloating=!1,n.minShootInterval=.67,n}n(i,t);var e=i.prototype;return e.specialOnTileTypeChange=function(t,n){var o=n==a.solid||n==a.deck;this.isFloating=!o},e.waterable=function(){return!this.shooting&&!this.isFloating},e.specialPeashooterOnEnable=function(){this.anmControl.IdleAnim="Idle",this.isFloating=!1},o(i,[{key:"isFloating",get:function(){return this._isFloating},set:function(t){this._isFloating!=t&&(this.anmControl.IdleAnim="Idle"+(t?"_Sky":""),this.anmControl.RandomAnim=["Random"+(t?"_Sky":"")],this.shootAnimationName="Shoot"+(t?"_Sky":""),this.foodAnimationName="Food"+(t?"_Sky":""),this.deathAnm="Death"+(t?"_Sky":""),this.fooding||this.anmControl.playAnimation(t?"Fly":"Land",1,.1)),this._isFloating=t}}]),i}(s))||r);i._RF.pop()}}}));

System.register("chunks:///_virtual/SleighCartZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CharacterManager.ts","./NodePools.ts","./LnC.ts","./Icetile.ts","./Square.ts","./MechZombie.ts","./SoundRescourses.ts","./ArrayGet.ts"],(function(e){var t,i,n,o,a,r,s,l,h,u,c,d,g,p,f,m,y,b,S,I;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized,a=e.createClass},function(e){r=e.cclegacy,s=e._decorator,l=e.AudioClip,h=e.Prefab,u=e.Vec3,c=e.UITransform},function(e){d=e.ZombieDamageDetails,g=e.ZombieDamageType},function(e){p=e.NodePools},function(e){f=e.TileType},function(e){m=e.Icetile},function(e){y=e.Square},function(e){b=e.MechZombie},function(e){S=e.sounds},function(e){I=e.ArrayGet}],execute:function(){var w,k,P,W,D,A,C,v,x,B,L,R,T,_,z,E,q,M,Z;r._RF.push({},"f2cc7F3BvtLhblv4mRSDEN5","SleighCartZombie",void 0);var j=s.ccclass,H=s.property;e("ModernSleighCartZombie",(w=j("ModernSleighCartZombie"),k=H([l]),P=H([l]),W=H([l]),D=H([l]),A=H([l]),C=H([l]),v=H(h),x=H(l),w((R=t((L=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return t=e.call.apply(e,[this].concat(a))||this,n(t,"blopSound",R,o(t)),n(t,"initiateSound",T,o(t)),n(t,"explodeSound",_,o(t)),n(t,"rollingSound",z,o(t)),n(t,"smashSound",E,o(t)),n(t,"ironHitSound",q,o(t)),n(t,"ice",M,o(t)),t._hurtStage=0,t.BP1Slots=[],t.BP2Slots=[],t.growingIce=null,t.potatoMineDisappear=!1,n(t,"eruptSound",Z,o(t)),t}i(t,e);var r=t.prototype;return r.specialMechZombieOnLoad=function(){var e=this;this.BP1Slots=[],this.BP2Slots=[],this.db.armature().getSlots().forEach((function(t){t.name.includes("_BP1")?e.BP1Slots.push(t):t.name.includes("_BP2")&&e.BP2Slots.push(t)}))},r.dealHurrikale=function(e){},r.setPerfume=function(e){},r.setChiliStun=function(e){return!1},r.specialSoundEventListener=function(e){"blop"==e.name?S.playArray(this.blopSound,.5,.1):"explode"==e.name?S.playArray(this.explodeSound,2,.1):"roll"==e.name?S.playArray(this.rollingSound,1,.1):"smash"==e.name?S.playArray(this.smashSound,1,.1):"hit"==e.name&&S.playArray(this.ironHitSound,1,.1)},r.onWaveAdded=function(e){e.db.playAnimation("Idle_G")},r.playSpecialMechDie=function(e){this.judgeDeath(0),this.growingIce&&(this.growingIce.master=null),this.growingIce=null},r.breakArm=function(){},r.setChill=function(e){return!1},r.setButter=function(e){return!1},r.specialZombieOnSquareChange=function(e,t){var i=t.getTileType();(i==f.deck||i==f.solid&&!this.reversed)&&this.spawnIce(e,t)},r.judgeHitPoint=function(){var e=2;this.health>2*this.toughness/3?("Walk"!=this.body.WalkAnm&&(this.db.playAnimation("Walk"),this.body.WalkAnm="Walk"),e=0):this.health>this.toughness/3&&this.health<=2*this.toughness/3?("Walk_Broken1"!=this.body.WalkAnm&&(this.isWalking&&this.db.playAnimation("Break0_1"),this.body.WalkAnm="Walk_Broken1",this.playBreakSound()),e=1):this.health>0&&this.health<=this.toughness/3&&("Walk_Broken2"!=this.body.WalkAnm&&(this.isWalking&&this.db.playAnimation("Break1_2"),this.body.WalkAnm="Walk_Broken2",this.playBreakSound()),e=2),this.hurtStage!=e&&(this.hurtStage=e)},r.spawnIce=function(e,t){if(!(this.shouldSpeedScale()<=0)){this.growingIce&&(this.growingIce.master=null),this.growingIce=null;var i=t.getTileType();if(i!=f.sky&&i!=f.sea&&i!=f.water&&!(e.cIndex<=t.cIndex&&9!=t.cIndex)&&5!=t.lIndex&&-1!=t.lIndex&&-1!=t.cIndex)if(t.iceTile||9==t.cIndex){if(t.iceTile&&9!=t.cIndex)this.growingIce=t.iceTile;else if(9==t.cIndex){var n=this.inLane;n.meltCountdown=80;var o=null;if(n.iceTile)o=n.iceTile.node;else{(o=p.instantiatePooly(this.ice)).parent=this.inLane.Lower,o.scale=new u(-y.SquareWidth/164.5,y.SquareWidth/164.5,y.SquareWidth/164.5);var a=y.getSquareWorldPosition(n.LaneIndex,8,1,.5);o.setWorldPosition(a.x+2*y.SquareWidth,a.y,0),o.getComponent(c).width=0,o.getComponent(m).length=0,n.iceTile=o.getComponent(m),o.getComponent(m).lane=n,n.addIceTile(o.getComponent(m))}this.growingIce=o.getComponent(m)}}else{var r,s=p.instantiatePooly(this.ice);s.parent=this.inLane.Lower,s.scale=new u(-y.SquareWidth/164.5,y.SquareWidth/164.5,y.SquareWidth/164.5);var l=y.getSquareWorldPosition(t.lIndex,t.cIndex,1,.5);s.setWorldPosition(l.x,l.y,0),this.growingIce=s.getComponent(m),this.growingIce.length=0,this.growingIce.getComponent(c).width=0,t.iceTile=this.growingIce,null==t||null==(r=t.getAllPlants())||r.forEach((function(e){null==e||e.kill()})),this.growingIce.lnc=t,this.inLane.addIceTile(s.getComponent(m)),t.readIndex()}}},r.setFreeze=function(e){return!1},r.detectPlant=function(e){var t=this;if(this.detectPlantOn())if(this.inLane){if(!(e<=0)){this.isWalking||this.playWalk();var i=new d(this.dps*e,!0,!1,!1,null);this.hypnotized?this.inLane.zombiePool().forEach((function(e){t.bodyRec.judgeCrossRec(e.bodyRec)&&e.dealDamage(i)})):(this.inLane.plantPool().forEach((function(e){e.smasherDetectable&&t.bodyRec.judgeCrossRec(e.bodyRec)&&e.smash(t)})),this.inLane.hypnoZombiePool().forEach((function(e){t.bodyRec.judgeCrossRec(e.bodyRec)&&e.dealDamage(i)}))),this.inLane.tombPool(this.hypnotized?0:1).forEach((function(e){t.bodyRec.judgeCrossRec(e.bodyRec)&&e.dealDamage(i)}))}}else this.playWalk()},r.whenStabbedBySpikeWeed=function(e){var t=this;this.body.DeathAnm=Math.random()>.3?"Death":"Lie",this.playDie(),this.judgeDeath(0),e.forEach((function(e){e.normalSmash(t)}))},r.specialMechUpdate=function(e,t,i){this.isAlive()&&this.isWalking&&(this.inLane.meltCountdown=80,this.growingIce&&(this.growingIce.master||(this.growingIce.master=this)))},r.specialMechOnEnable=function(){this.judgeHitPoint(),this.playOneShot(I.getRandom(this.initiateSound)),this.body.DeathAnm="Death",this.hurtStage=0,this.deathSound=[this.eruptSound]},r.onDamaged=function(e,t,i){t<=0?(i.damage>=this.totalToughness()||i.damageType==g.fire)&&(this.body.DeathAnm="Explode",this.playDie()):this.judgeHitPoint()},a(t,[{key:"hurtStage",get:function(){return this._hurtStage},set:function(e){switch(e){case 1:case 2:break;default:e=0}this.BP2Slots.forEach((function(t){t._setDisplayIndex(e)})),this.BP1Slots.forEach((function(t){t._setDisplayIndex(e>=1?1:0)})),this._hurtStage=e}},{key:"plantDetectorRec",get:function(){return this.bodyRec},set:function(e){this._plantDetectorRec=e}}]),t}(b)).prototype,"blopSound",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),T=t(L.prototype,"initiateSound",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=t(L.prototype,"explodeSound",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=t(L.prototype,"rollingSound",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),E=t(L.prototype,"smashSound",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),q=t(L.prototype,"ironHitSound",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),M=t(L.prototype,"ice",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=t(L.prototype,"eruptSound",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=L))||B));r._RF.pop()}}}));

System.register("chunks:///_virtual/sliderTile.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Tile.ts","./CharacterManager.ts","./Square.ts","./Tiles.ts","./GridItem.ts","./ParticleSelfdestroy.ts","./NodePools.ts","./FrontYard.ts"],(function(i){var e,t,n,o,r,s,l,a,d,c,h,u,p,f,w;return{setters:[function(i){e=i.applyDecoratedDescriptor,t=i.inheritsLoose,n=i.initializerDefineProperty,o=i.assertThisInitialized},function(i){r=i.cclegacy,s=i._decorator,l=i.Prefab},function(i){a=i.Tile},function(i){d=i.Rectangle},function(i){c=i.Square},function(i){h=i.TileEnum},function(i){u=i.GridItemEnum},function(i){p=i.ParticleSelfdestroy},function(i){f=i.instantiatePooly},function(i){w=i.FrontYard}],execute:function(){var P,g,y,L,S,m,v,b,T;r._RF.push({},"2eaf2NpCFxDw4YLW30aax6G","sliderTile",void 0);var D=s.ccclass,B=s.property;i("sliderTile",(P=D("sliderTile"),g=B(Boolean),y=B(l),L=B(Boolean),P((v=e((m=function(i){function e(){for(var e,t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return e=i.call.apply(i,[this].concat(r))||this,n(e,"isUp",v,o(e)),n(e,"BG",b,o(e)),e.BGPSD=void 0,n(e,"isModern",T,o(e)),e.sliderActived=!1,e.detector=new d,e.switching=!1,e}t(e,i);var r=e.prototype;return r.setTileParent=function(i){},r.specialTileOnLoad=function(){this.tileID=this.isModern?this.isUp?h.sliderUp:h.sliderDown:this.isUp?h.sliderModernUp:h.sliderModernDown},r.onLnCChange=function(i,e){var t;e&&(this.detector=d.createRectangleNodeCenter(e.node,.05*c.SquareWidth,c.SquareHeight)),null==(t=this.gridItemCP)||t.setGridItemType([u.powertile]),this.BGPSD&&(this.BGPSD.node.worldPosition=this.node.worldPosition,this.BGPSD.node.worldScale=this.node.worldScale)},r.specialTileOnEnable=function(){if(this.switching=!1,this.sliderActived=!1,this.IdleAnmList=["Idle"],!this.BGPSD){var i=f(this.BG);i.parent=w.sliderLayer,this.BGPSD=i.getComponent(p),i.worldPosition=this.node.worldPosition,i.worldScale=this.node.worldScale}},r.animationOnComplete=function(i){this.switching=!1},r.specialTileDie=function(){this.BGPSD&&(this.BGPSD.db.playAnimation("Die",1/0),this.BGPSD=null)},r.specialTileUpdate=function(i){var e,t=this;if(null!=(e=this.inLnC)&&e.inLane){if(this.dead)return;var n=!1;this.inLnC.inLane.zombiePool().concat(this.inLnC.inLane.hypnoZombiePool()).forEach((function(i){i.objdataOwn.CannotBePushedBySliders||i.flying||i.sandStormTween||i.changeLaneTween||!t.detector.judgeCrossRec(i.bodyRecReal)||(t.isUp&&t.inLnC.lIndex>0?(i.changeLaneTo(t.inLnC.lIndex-1,.75,"quadInOut"),n=!0):!t.isUp&&t.inLnC.lIndex<4&&(i.changeLaneTo(t.inLnC.lIndex+1,.75,"quadInOut"),n=!0))})),this.switching||(n&&!this.sliderActived?(this.db.playAnimation("ActiveStart",1),this.IdleAnmList=["ActiveLoop"],this.switching=!0,this.sliderActived=!0):!n&&this.sliderActived&&(this.db.playAnimation("ActiveEnd",1),this.IdleAnmList=["Idle"],this.sliderActived=!1))}},e}(a)).prototype,"isUp",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),b=e(m.prototype,"BG",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=e(m.prototype,"isModern",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),S=m))||S));r._RF.pop()}}}));

System.register("chunks:///_virtual/SnapDragon.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./Square.ts","./CharacterManager.ts","./NodePools.ts","./SnapDragonFoodPar.ts","./SoundRescourses.ts"],(function(t){var n,a,e,o,i,r,c,s,l,d,u,h,p,f,m,g,S,b;return{setters:[function(t){n=t.applyDecoratedDescriptor,a=t.inheritsLoose,e=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){i=t.cclegacy,r=t._decorator,c=t.AudioClip,s=t.Prefab,l=t.Vec3},function(t){d=t.PlantProps,u=t.Plant},function(t){h=t.Square},function(t){p=t.Rectangle,f=t.ZombieDamageType,m=t.ZombieDamageDetails},function(t){g=t.NodePools},function(t){S=t.SnapDragonFoodPar},function(t){b=t.sounds}],execute:function(){var L,P,y,w,k,v,A,D,R,E,z,_,C,j,F,O,q,x;i._RF.push({},"453b1GI2oNCAZ6L07SmB6zz","SnapDragon",void 0);var I=r.ccclass,H=r.property,U=t("snapdragonSound",(L=I("snapdragonSound"),P=H(c),y=H([c]),w=H([c]),L((A=n((v=function(){function t(){e(this,"foodSound",A,this),e(this,"attackSound",D,this),e(this,"flapSound",R,this)}var n=t.prototype;return n.playFoodSound=function(){b.playOneShot(this.foodSound,1,.1)},n.playAttackSound=function(){b.playArray(this.attackSound,1,.2)},n.playFlapSound=function(){b.playArray(this.flapSound,1,.1)},t}()).prototype,"foodSound",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=n(v.prototype,"attackSound",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=n(v.prototype,"flapSound",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=v))||k)),Z=t("SnapDragonProps",function(t){function n(){for(var n,a=arguments.length,e=new Array(a),o=0;o<a;o++)e[o]=arguments[o];return(n=t.call.apply(t,[this].concat(e))||this).AttackInterval=1.85,n.AttackIntervalAdditional=.15,n.Damage=30,n.DamagePlantfood=1800,n}return a(n,t),n}(d));t("SnapDragonPlant",(E=I("SnapDragonPlant"),z=H(U),_=H(s),C=H(s),E((O=n((F=function(t){function n(){for(var n,a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return n=t.call.apply(t,[this].concat(i))||this,e(n,"soundRes",O,o(n)),e(n,"attPar",q,o(n)),e(n,"foodPar",x,o(n)),n._objdataOwn=new Z,n.detector=void 0,n.attacking=!1,n.cd=0,n}a(n,t);var i=n.prototype;return i.attParScale=function(){return h.SquareHeight/350},i.foodParScale=function(){return 3*h.SquareHeight/440},i.specialPlantOnSquareChange=function(t,n){this.detector=p.createRectangleNodeSide(this.inLnC.node,2.5*h.SquareWidth,3*h.SquareHeight)},i.specialPlantOnEnable=function(){this.cd=0,this.attacking=!1},i.specialPlantFood=function(t){this.cd=0,this.attacking=!1,this.anmControl.playAnimation("Food",1)},i.waterable=function(){return!this.attacking},i.snapdragonAnimationListener=function(t){},i.foodAttack=function(){var t=g.instantiatePooly(this.foodPar);t.parent=this.inLane.LowerLane.prjLayer,t.worldPosition=this.inLnC.node.worldPosition.clone().add3f(2*h.SquareWidth,0,0);var n=this.anmControl.db.node.worldScale.x;t.worldScale=new l(n,n,n),this.soundRes.playFoodSound();var a=t.getComponent(S);a.inLane=this.inLane,a.damage=this._objdataOwn.DamagePlantfood,this._dmgScale&&(a.damage*=this._dmgScale)},i.animationListener=function(t){var n=this;"attackSound"==t.name?this.soundRes.playAttackSound():"flap"==t.name?this.soundRes.playFlapSound():"attackEnd"==t.name?this.attacking=!1:"foodEnd"==t.name?this.foodEnd():"foodAttack"==t.name?this.foodAttack():"attackPar"==t.name?[this.inLane.UpperLane,this.inLane,this.inLane.LowerLane].forEach((function(t,a){if(!(t.LaneIndex<0||t.LaneIndex>4)){var e=-(a-1)*h.SquareHeight,o=g.instantiatePooly(n.attPar);o.parent=t.prjLayer,o.worldPosition=n.inLnC.node.worldPosition.clone().add3f(2.5*h.SquareWidth,e,0);var i=n.attParScale();o.worldScale=new l(i,i,i)}})):"attack"==t.name?this.attackEnemies():"attackSound"==t.name?this.soundRes.playAttackSound():"flap"==t.name&&this.soundRes.playFlapSound(),this.snapdragonAnimationListener(t)},i.ZombieOnHit=function(t){},i.getDamageType=function(){return f.fire},i.attackEnemiesExtra=function(){},i.attackEnemies=function(){var t=this,n=this._objdataOwn.Damage;this._dmgScale&&(n*=this._dmgScale);var a=new m(n/2,!0,!1,!1,null,this.getDamageType()),e=[];this.inLane.zombiePool().concat(this.inLane.UpperLane.zombiePool(),this.inLane.LowerLane.zombiePool()).forEach((function(n){n.bodyRecReal.judgeCrossRec(t.detector)&&-1==e.indexOf(n)&&(n.dealDamage(a),t.ZombieOnHit(n),e.push(n))})),this.inLane.tombPool().concat(this.inLane.UpperLane.tombPool(),this.inLane.LowerLane.tombPool()).forEach((function(n){n.bodyRec.judgeCrossRec(t.detector)&&n.dealDamage(a)})),this.attackEnemiesExtra()},i.detectEnemyExtra=function(){return!1},i.detectEnemy=function(){var t=this;return this.inLane.zombiePool().concat(this.inLane.UpperLane.zombiePool(),this.inLane.LowerLane.zombiePool()).some((function(n){return n.bodyRecForShooter.judgeCrossRec(t.detector)}))||this.inLane.tombPool().concat(this.inLane.UpperLane.tombPool(),this.inLane.LowerLane.tombPool()).some((function(n){return n.bodyRec.judgeCrossRec(t.detector)}))||this.detectEnemyExtra()},i.specialPlantUpdate=function(t,n,a){if(!this.fooding&&(this.cd>0&&(this.cd-=t),this.cd<=0&&a>0&&this.detectEnemy())){this.attacking=!0,this.cd=this._objdataOwn.AttackInterval+this._objdataOwn.AttackIntervalAdditional*Math.random();var e=.1;this._cdScale&&(this.cd*=this._cdScale,e*=this._cdScale);var o=1.33/this.cd;this.anmControl.playAnimation("Attack",1,e,Math.max(o,1))}},n}(u)).prototype,"soundRes",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new U}}),q=n(F.prototype,"attPar",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=n(F.prototype,"foodPar",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=F))||j));i._RF.pop()}}}));

System.register("chunks:///_virtual/SnapDragonFoodPar.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ParticleSelfdestroy.ts","./NodePools.ts","./Square.ts","./CharacterManager.ts"],(function(e){var a,n,i,o,t,r,l,s,c,d,u,f,h,p;return{setters:[function(e){a=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){t=e.cclegacy,r=e._decorator,l=e.Prefab,s=e.dragonBones},function(e){c=e.ParticleSelfdestroy},function(e){d=e.NodePools},function(e){u=e.Square},function(e){f=e.Rectangle,h=e.ZombieDamageDetails,p=e.ZombieDamageType}],execute:function(){var b,m,g,L,v;t._RF.push({},"dc80fH7moFB7aL6Kk0BRt3H","SnapDragonFoodPar",void 0);var y=r.ccclass,P=r.property;e("SnapDragonFoodPar",(b=y("SnapDragonFoodPar"),m=P(l),b((v=a((L=function(e){function a(){for(var a,n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];return(a=e.call.apply(e,[this].concat(t))||this).inLane=void 0,i(a,"ballFire",v,o(a)),a.damage=1800,a.dealtZombies=[],a.dealtTombs=[],a.burning=!0,a}n(a,e);var t=a.prototype;return t.specialOnEnable=function(){this.dealtTombs=[],this.dealtZombies=[],this.burning=!1},t.animationListener=function(e){var a=this;"burn"==e.name&&(this.burning=!0,[-1,0,1].forEach((function(e){[-1,0,1].forEach((function(n){var i=a.inLane;if(-1==e?i=a.inLane.UpperLane:1==e&&(i=a.inLane.LowerLane),!(i.LaneIndex<0||i.LaneIndex>4)){var o=d.instantiatePooly(a.ballFire);o.parent=i.prjLayer,o.getComponent(s.ArmatureDisplay).playAnimation("Play"+(1+Math.round(Math.random())).toString()),o.worldPosition=a.node.worldPosition.clone().add3f(n*u.SquareWidth,-e*u.SquareHeight,0)}}))})))},t.update=function(e){var a=this;if(this.dealtZombies.concat().forEach((function(e){if(!e.isAlive()){var n=a.dealtZombies.indexOf(e);a.dealtZombies.splice(n,1)}})),this.dealtTombs.concat().forEach((function(e){if(null==e||!e.isAlive()){var n=a.dealtTombs.indexOf(e);a.dealtTombs.splice(n,1)}})),this.burning){var n=f.createRectangleNodeCenter(this.node,3*u.SquareWidth,3*u.SquareHeight),i=new h(this.damage,!1,!1,!1,null,p.fire);[this.inLane.UpperLane,this.inLane,this.inLane.LowerLane].forEach((function(e){e.zombiePool().forEach((function(e){-1==a.dealtZombies.indexOf(e)&&e.bodyRecReal.judgeCrossRec(n)&&(e.dealDamage(i),e.isAlive()&&a.dealtZombies.push(e))})),e.tombPool().forEach((function(e){-1==a.dealtTombs.indexOf(e)&&e.bodyRec.judgeCrossRec(n)&&(e.dealDamage(i),null!=e&&e.isAlive()&&a.dealtTombs.push(e))}))}))}},a}(c)).prototype,"ballFire",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=L))||g));t._RF.pop()}}}));

System.register("chunks:///_virtual/SniperPlant.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./NodePools.ts","./UI.ts","./SoundRescourses.ts","./levelController.ts","./Square.ts","./SettingWindow.ts","./Particles.ts","./KeyListener.ts"],(function(n){var e,t,o,i,a,l,c,r,s,p,u,h,d,S,f,y,P,g,b,C,L,m,w,v;return{setters:[function(n){e=n.applyDecoratedDescriptor,t=n.inheritsLoose,o=n.initializerDefineProperty,i=n.assertThisInitialized},function(n){a=n.cclegacy,l=n._decorator,c=n.Prefab,r=n.Vec3,s=n.Color,p=n.input,u=n.Input,h=n.game,d=n.director,S=n.Label},function(n){f=n.Plant},function(n){y=n.instantiatePooly,P=n.NodePools},function(n){g=n.UIInGame},function(n){b=n.sounds},function(n){C=n.LevelPlay},function(n){L=n.Square},function(n){m=n.SettingWindow},function(n){w=n.particle},function(n){v=n.KeyListener}],execute:function(){var I,N,k,K,x;a._RF.push({},"60bc59fo5ZBs5/odIcq+Yex","SniperPlant",void 0);var O=l.ccclass,D=l.property;n("SniperPlant",(I=O("SniperPlant"),N=D(c),I((x=e((K=function(n){function e(){for(var e,t=arguments.length,a=new Array(t),l=0;l<t;l++)a[l]=arguments[l];return(e=n.call.apply(n,[this].concat(a))||this).key=void 0,o(e,"locator",x,i(e)),e.locatorNode=null,e.playSoundWhenCancel=!0,e}t(e,n);var a=e.prototype;return a.specialPlantUpdateForce=function(n,e,t){if(this.key){var o=this.keyColor();if(this.key.color=o.color,this.key.node.scale=new r(o.scale,o.scale,1),this.db.node.parent==this.key.node.parent){var i=this.db.node.getSiblingIndex();this.key.node.getSiblingIndex()<i&&this.key.node.setSiblingIndex(i)}}this.specialSniperUpdateForce(n,e,t)},a.specialSniperUpdateForce=function(n,e,t){},a.baseLocatable=function(){return!(this.fooding||this.dead||this.sheepend||-1!=g.index||this.leapTween||this.locatorNode||g.component.paused)},a.showKey=function(){return!isNaN(this.LocateStartKeyCode())&&this.sniperPlantLocatable()},a.keyColor=function(){return m.plantKeyTips&&C.gaming&&this.isAlive()&&this.showKey()?this.locatorNode?{scale:1.2,color:new s(100,255,100,255)}:{scale:1,color:new s(245,255,0,255)}:{scale:1,color:new s(0,0,0,0)}},a.specialPlantOnSheepend=function(){g.component.currentSniperPlant==this&&(g.component.tryChangingIndex(-1),this.locateCancel())},a.specialPlantFood=function(n){g.component.currentSniperPlant==this&&(g.component.tryChangingIndex(-1),this.locateCancel()),this.specialSniperFood(n)},a.specialSniperFood=function(n){},a.LocateStartKeyCode=function(){return null},a.specialPlantOnLoad=function(){var n=this;p.on(u.EventType.KEY_DOWN,(function(e){e.keyCode!=n.LocateStartKeyCode()||!C.gameStarted||h.isPaused()||d.isPaused()||n.sniperPlantLocatable()&&n.baseLocatable()&&n.locateStart()}),this);var e=this.LocateStartKeyCode();if(!isNaN(e)){var t=y(w.sniperKey());t.parent=this.node,t.position=new r(50,20,0),this.key=t.getComponent(S),this.key.string=v.KeyCodeToString(e),this.key.color=new s(255,255,255,0)}this.specialSniperOnLoad()},a.specialSniperOnLoad=function(){},a.specialSniperPlantDie=function(n){},a.specialPlantDie=function(n){void 0===n&&(n=!1),g.component.currentSniperPlant==this&&(g.component.tryChangingIndex(-1),this.locateCancel()),this.specialSniperPlantDie(n)},a.teach=function(){this.sniperPlantLocatable()&&this.baseLocatable()?(this.addArrow(1/0),this.defaultTeach(1)):this.arrowCountdown=0},a.sniperPlantLocatable=function(){return!1},a.specialPlantOnMouseDown=function(){return!(!this.sniperPlantLocatable()||!this.baseLocatable())&&(this.locateStart(),this.arrowCountdown=0,!0)},a.locateCancel=function(){this.locatorNode=null,this.playSoundWhenCancel&&b.playSniperPlantCancelSound(),this.specialSniperPlantLocateCancel()},a.locateStart=function(){this.locatorNode=P.instantiatePooly(this.locator),this.locatorNode.parent=g.component.plantInHandLayer,g.component.tryChangingIndex(-4),g.component.currentSniperPlant=this,b.playLocateSound(),1!=L.lncSelectionMode&&g.component.squares.plantGhost(),this.specialSniperPlantLocateStart()},a.trigger=function(n){this.specialSniperPlantTrigger(n),g.component.currentSniperPlant=null,this.locatorNode=null,g.component.tryChangingIndex(-1)},a.specialPlantOnEnable=function(){this.locatorNode=null,this.specialSniperPlantOnEnable(),this.playSoundWhenCancel=!0},a.specialSniperPlantOnEnable=function(){},a.specialSniperPlantLocateStart=function(){},a.specialSniperPlantLocateCancel=function(){},a.specialSniperPlantTrigger=function(n){},e}(f)).prototype,"locator",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=K))||k));a._RF.pop()}}}));

System.register("chunks:///_virtual/SnowPea.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Peashooter.ts","./NodePools.ts","./Character.ts","./Projectiles.ts"],(function(o){var n,t,e,i,a,r,s,l,c,d,h,P,u,p,f,w,y,F;return{setters:[function(o){n=o.applyDecoratedDescriptor,t=o.inheritsLoose,e=o.initializerDefineProperty,i=o.assertThisInitialized,a=o.createClass},function(o){r=o.cclegacy,s=o._decorator,l=o.Prefab,c=o.Sprite,d=o.tween,h=o.Vec3,P=o.Vec2,u=o.AnimationComponent},function(o){p=o.PeashooterPlant,f=o.PeashooterProps},function(o){w=o.NodePools},function(o){y=o.CharacterType},function(o){F=o.ProjectileShootingFunctions}],execute:function(){var g,m,b,C,S;r._RF.push({},"827e88tbrhBe4CasTGWMNaj","SnowPea",void 0);var v=s.ccclass,L=s.property,T=function(o){function n(){for(var n,t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return(n=o.call.apply(o,[this].concat(e))||this).ChanceToFreeze=.2,n.PeaFreezeType="pea_snow",n}return t(n,o),n}(f);o("SnowPeaPlant",(g=v("SnowPeaPlant"),m=L(l),g((S=n((C=function(o){function n(){for(var n,t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return n=o.call.apply(o,[this].concat(a))||this,e(n,"snowPeaFoodPar",S,i(n)),n.snowPeaFoodIce=null,n._objdataOwn=new T,n}t(n,o);var r=n.prototype;return r.specialPlantFoodEnd=function(){if(this.anmControl.playAnimation("Water",1),this.busy=0,this.soundRes.playFoodEnd(),this.snowPeaFoodIce){var o=this.snowPeaFoodIce,n=o.getChildByName("bg"),t=o.getChildByName("face").getComponent(c);d(t.color).to(1,{a:0}).start(),d(n).to(1,{position:new h(3e3)}).call((function(){n.position=new h,w.destroyPooly(o)})).start()}this.snowPeaFoodIce=null},r.specialPeashooterUpdate=function(o){var n=this;this.inLane&&this.fooding&&(this.inLane.zombiePool().forEach((function(o){o.node.worldPosition.x>n.node.worldPosition.x&&o.setChill(5)})),this.inLane.tntPool().forEach((function(o){o.ignited&&o.ropeSideWP.x>n.worldPositionX&&(o.ignited=!1)})))},r.shootToTNTSpark=function(){var o,n=this,t=null==(o=this.inLane)?void 0:o.tntPool().find((function(o){return(null==o?void 0:o.ignited)&&n.detector.judgeInRecP(o.ropeSideWP)}));if(t){F.lobOneCabbageOnTNTSpark(this.defaultPea,new P(this.peaSpawnpoint.worldPosition.x,this.worldPositionY),this.peaSpawnpoint.worldPosition.y-this.worldPositionY,this.inLane.prjLayer,t,.222,y.zombie,!0,30,!0);return!0}return!1},r.detectEnemyExtra=function(){var o,n=this;return null==(o=this.inLane)?void 0:o.tntPool().some((function(o){return(null==o?void 0:o.ignited)&&n.detector.judgeInRecP(o.ropeSideWP)}))},r.specialPlantFood=function(){this.anmControl.playAnimation("FoodStart",2,0,1.2),this.soundRes.playFood(),this.snowPeaFoodPar&&(this.snowPeaFoodIce=w.instantiatePooly(this.snowPeaFoodPar),this.snowPeaFoodIce.parent=this.inLane.Lower,this.snowPeaFoodIce.worldPosition=this.inLnC.node.worldPosition,this.snowPeaFoodIce.getComponent(u).play()),this.busy=1/0},r.animationListenerAdd=function(o){"foodStart"==o.name&&(this.anmControl.playAnimation("Food",1/0),this.foodShooting())},a(n,[{key:"defaultPea",get:function(){return Math.random()<this._objdataOwn.ChanceToFreeze?this._objdataOwn.PeaFreezeType:this._objdataOwn.PeaType}}]),n}(p)).prototype,"snowPeaFoodPar",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=C))||b));r._RF.pop()}}}));

System.register("chunks:///_virtual/SolarSage.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./SoundRescourses.ts","./Zombie.ts","./ArrayGet.ts","./NodePools.ts","./solarsageEnlighten.ts","./Square.ts","./CharacterManager.ts"],(function(t){var e,n,i,a,r,o,s,l,c,h,u,g,f,d,b,p,m,y,w,P,S;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,a=t.assertThisInitialized,r=t.createClass},function(t){o=t.cclegacy,s=t._decorator,l=t.AudioClip,c=t.Prefab,h=t.Vec2},function(t){u=t.Plant,g=t.PlantProps},function(t){f=t.sounds},function(t){d=t.ZombieSort},function(t){b=t.ArrayGet,p=t.ValueRange},function(t){m=t.instantiatePooly},function(t){y=t.solarsageEnlighten},function(t){w=t.Square},function(t){P=t.Rectangle,S=t.ZombiePool}],execute:function(){var k,A,v,C,E,R,j,z,T,O,B,D,L,F,Z,_,I,M,W,q;o._RF.push({},"e66133OGeBINqJRhjjYL89M","SolarSage",void 0);var x=s.ccclass,Y=s.property,H=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))||this).MaxAttackTime=1,e.PlantfoodEnlightenCount=3,e.EnlightenWalkSPS=.3,e.EnlightenChanceToInfect=.2,e.EnlightenProduceInterval=new p(14,10),e}return n(e,t),e}(g),G=(k=x("SolarSageSound"),A=Y([l]),v=Y([l]),C=Y([l]),E=Y([l]),R=Y([l]),k((T=e((z=function(){function t(){i(this,"chargePF",T,this),i(this,"charge",O,this),i(this,"death",B,this),i(this,"enlighten",D,this),i(this,"water",L,this)}var e=t.prototype;return e.playCharge=function(t){f.playArray(t?this.chargePF:this.charge,1,.1)},e.playDeath=function(){f.playArray(this.death,1,.1)},e.playEnlighten=function(){f.playArray(this.enlighten,1,.1)},e.playWater=function(){f.playArray(this.water,1,.1)},t}()).prototype,"chargePF",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=e(z.prototype,"charge",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B=e(z.prototype,"death",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=e(z.prototype,"enlighten",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=e(z.prototype,"water",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j=z))||j);t("SolarSagePlant",(F=x("SolarSagePlant"),Z=Y(G),_=Y(c),F((W=e((M=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r))||this,i(e,"soundRes",W,a(e)),e._objdataOwn=new H,e.triggerer=void 0,e.switching=!1,e.leftAttackTime=1,i(e,"saintPFB",q,a(e)),e}n(e,t);var o=e.prototype;return o.onObjdataSet=function(t,e){this.leftAttackTime=this.objdataOwn.MaxAttackTime},o.specialPlantOnEnable=function(){this.triggerer=null,this._invincible=!1,this.bodyRecHiddenCD=.5},o.detectEnemies=function(){var t,e=this,n=P.createRectangleCenter(new h(this.worldPositionX,this.inLane.midY),w.SquareWidth,w.SquareHeight);return null==(t=this.inLane)?void 0:t.zombiePool().some((function(t){return!(!e.zombieCanBeTrans(t)||!n.judgeCrossRec(t.bodyRec))&&(e.triggerer=t,!0)}))},o.waterable=function(){return!this.switching},o.attackAnm=function(){this.eaterDetectable=!1,this.smasherDetectable=!1,this.switching=!0,this._invincible=!0,this.anmControl.playAnimation("Attack",1)},o.specialPlantUpdate=function(t,e,n){n>0&&!this.fooding&&!this.switching&&this.detectEnemies()&&this.attackAnm()},o.specialPlantFood=function(t){this.triggerer=null,this.leftAttackTime=this.objdataOwn.MaxAttackTime,this.attackAnm()},o.animationOnComplete=function(){this.fooding&&this.foodEnd(),this._invincible=!1,this.triggerer=null,this.switching=!1,this.eaterDetectable=!0,this.smasherDetectable=!0,this.leftAttackTime<=0&&this.die()},o.transZombie=function(t){var e=m(this.saintPFB);e.parent=this.inLane.prjLayer;var n=e.getComponent(y);n.worldPositionX=t.shadeWorldPosition.x,n.worldPositionY=t.worldPositionY,n.WalkSPS=this.objdataOwn.EnlightenWalkSPS,n.ProduceInterval=this.objdataOwn.EnlightenProduceInterval,n.ChanceToInfect=this.objdataOwn.EnlightenChanceToInfect,n.db.timeScale=.9+.2*Math.random(),n.scale=-Math.abs(t.scale),t.chomp(!0)},o.zombieCanBeTrans=function(t){return t.ZombieSort!=d.Zomboss&&!t.objdataOwn.CannotBeEnlightenedBySolarSage},o.attack=function(){var t,e=this;null!=(t=this.triggerer)&&t.isAlive()||(this.triggerer=null);var n=P.createRectangleCenter(new h(this.worldPositionX,this.inLane.midY),w.SquareWidth,w.SquareHeight),i=this.inLane.zombiePool().filter((function(t){return e.zombieCanBeTrans(t)&&n.judgeCrossRec(t.bodyRec)}));(i.length||this.triggerer)&&(this.leftAttackTime--,i.filter((function(t){return t!=e.triggerer})).forEach((function(t){e.transZombie(t)})),this.triggerer&&(this.transZombie(this.triggerer),this.triggerer=null))},o.foodAttack=function(){var t=this,e=this.objdataOwn.PlantfoodEnlightenCount;b.randomize(S.pool()).forEach((function(n){e<=0||t.zombieCanBeTrans(n)&&(t.transZombie(n),e--)}))},o.animationListener=function(t){switch(t.name){case"charge":this.soundRes.playCharge(this.fooding);break;case"water":this.soundRes.playWater();break;case"shrink":this.soundRes.playDeath();break;case"attack":this.fooding?this.foodAttack():this.attack()}},r(e,[{key:"objdataOwn",get:function(){return this._objdataOwn}}]),e}(u)).prototype,"soundRes",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new G}}),q=e(M.prototype,"saintPFB",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=M))||I));o._RF.pop()}}}));

System.register("chunks:///_virtual/solarsageEnlighten.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Character.ts","./SoundRescourses.ts","./Sunflower.ts","./ArrayGet.ts","./Square.ts","./NodePools.ts","./Zombie.ts","./CharacterManager.ts","./levelController.ts"],(function(n){var e,t,i,o,a,r,s,c,l,u,h,d,p,f,g,S,b,m,P,y;return{setters:[function(n){e=n.applyDecoratedDescriptor,t=n.inheritsLoose,i=n.initializerDefineProperty,o=n.assertThisInitialized},function(n){a=n.cclegacy,r=n._decorator,s=n.Prefab,c=n.AudioClip,l=n.Vec2,u=n.dragonBones},function(n){h=n.Character},function(n){d=n.sounds},function(n){p=n.sunflower},function(n){f=n.ValueRange},function(n){g=n.Square},function(n){S=n.instantiatePooly,b=n.NodePools},function(n){m=n.ZombieSort},function(n){P=n.Rectangle},function(n){y=n.LevelPlay}],execute:function(){var w,v,C,E,W,L,A,R,k,I,O;a._RF.push({},"05e83+QHElGsZmUmOamFcAE","solarsageEnlighten",void 0);var z=r.ccclass,F=r.property;n("solarsageEnlighten",(w=z("solarsageEnlighten"),v=F(s),C=F([c]),E=F([c]),W=F([c]),w((R=e((A=function(n){function e(){for(var e,t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return e=n.call.apply(n,[this].concat(a))||this,i(e,"saintPFB",R,o(e)),e.isWalking=!1,e.WalkSPS=.3,e.ChanceToInfect=.2,e.ProduceInterval=new f(14,10),i(e,"spawnSounds",k,o(e)),i(e,"produceSounds",I,o(e)),i(e,"chargeSounds",O,o(e)),e.produceCD=6,e}t(e,n);var a=e.prototype;return a.animationOnComplete=function(){this.isWalking=!0,this.db.playAnimation("Idle",1)},a.animationListener=function(n){var e=this;switch(n.name){case"produce":d.playArray(this.produceSounds,1,.1),y.ExcludeListSunProducers||p.produceSun(50,this.worldPosition,40,!0);var t=P.createRectangleCenter(new l(this.worldPositionX,this.inLane.midY),g.SquareWidth/2,g.SquareHeight);this.inLane.zombiePool().filter((function(n){return Math.random()<e.ChanceToInfect&&!n.objdataOwn.CannotBeEnlightenedBySolarSage&&n.ZombieSort!=m.Zomboss&&t.judgeCrossRec(n.bodyRec)})).forEach((function(n){e.transZombie(n)}))}},a.transZombie=function(n){var t=S(this.saintPFB);t.parent=this.inLane.prjLayer;var i=t.getComponent(e);i.worldPositionX=n.shadeWorldPosition.x,i.worldPositionY=n.worldPositionY,i.WalkSPS=this.WalkSPS,i.ProduceInterval=this.ProduceInterval,i.ChanceToInfect=this.ChanceToInfect,i.scale=this.scale,n.chomp(!0)},a.characterOnEnable=function(){d.playArray(this.spawnSounds,1,.1),this.isWalking=!1,this.scale=-1,this.db.playAnimation("Spawn",1)},a.characterOnLaneChange=function(n,e){e&&this.node.setParent(e.prjLayer,!0)},a.characterUpdate=function(n){if(this.isWalking){var e=-this.WalkSPS*g.SquareWidth*n*this.scale;this.worldPositionX+=e,(e>0&&this.worldPositionX>g.zombieSpawnX+g.SquareWidth/2||e<0&&this.worldPositionX<g.zombieWinX-g.SquareWidth)&&b.destroyPooly(this.node),this.produceCD-=n,this.produceCD<=0&&(this.isWalking=!1,this.produceCD=f.getRandomFromRange(this.ProduceInterval),this.db.playAnimation("Produce",1),d.playArray(this.chargeSounds,1,.1))}},a.characterOnLoad=function(){var n=this;this.db.on(u.EventObject.COMPLETE,(function(){n.animationOnComplete()}),this),this.db.on(u.EventObject.FRAME_EVENT,(function(e){n.animationListener(e)}),this)},e}(h)).prototype,"saintPFB",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=e(A.prototype,"spawnSounds",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),I=e(A.prototype,"produceSounds",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=e(A.prototype,"chargeSounds",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=A))||L));a._RF.pop()}}}));

System.register("chunks:///_virtual/SolarTomato.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CherryBomb.ts","./CharacterManager.ts","./Square.ts","./Sunflower.ts","./SoundRescourses.ts","./NodePools.ts"],(function(e){var t,n,a,o,r,i,l,u,c,s,p,d,h,f,S,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,a=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,i=e._decorator,l=e.Prefab,u=e.AudioClip,c=e.Vec3},function(e){s=e.CherryBombPlant,p=e.CherryBombProps},function(e){d=e.Rectangle},function(e){h=e.Square},function(e){f=e.sunflower},function(e){S=e.sounds},function(e){b=e.instantiatePooly}],execute:function(){var y,P,m,w,g,L,v,C,k,x,D;r._RF.push({},"f9d91TaBxdCSLkIe7EdpG5d","SolarTomato",void 0);var O=i.ccclass,R=i.property,_=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(t=e.call.apply(e,[this].concat(a))||this).StunDuration=8,t.SunValuePerZombie=50,t}return n(t,e),t}(p);e("SolarTomatoPlant",(y=O("SolarTomatoPlant"),P=R(l),m=R(u),w=R(u),g=R(u),y((C=t((v=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this)._objdataOwn=new _,a(t,"splatPar",C,o(t)),a(t,"attackPreSound",k,o(t)),a(t,"attackSound",x,o(t)),a(t,"explodeSound",D,o(t)),t}n(t,e);var r=t.prototype;return r.specialCherryBombOnEnable=function(){this.shadeAlphaScale=1},r.explode=function(){var e=this,t=d.createRectangleNodeCenter(this.inLnC.node,3*h.SquareWidth,3*h.SquareHeight);[this.inLane,this.inLane.UpperLane,this.inLane.LowerLane].forEach((function(n){var a;n.isInLawn()&&([-1,0,1].forEach((function(t){var a=b(e.splatPar);a.parent=n.prjLayer,a.worldPosition=new c(e.worldPositionX+t*h.SquareWidth,n.floorY,10)})),null==(a=n.zombiePool())||a.forEach((function(n){t.judgeCrossRec(n.bodyRecReal)&&(n.setStun(e._objdataOwn.StunDuration),n.setSunBeanParticleCD(e._objdataOwn.StunDuration),f.produceSun(e._objdataOwn.SunValuePerZombie,n.worldPosition,0,!0))})))}))},r.animationListener=function(e){"explode"==e.name?(this.explode(),this.deathAnm="Death",this.die(!0,!0,!1),this.shadeAlphaScale=0,S.playOneShot(this.explodeSound,1,.2)):"charge"==e.name?S.playOneShot(this.attackPreSound,1,.2):"shout"==e.name&&S.playOneShot(this.attackSound,1,.2)},t}(s)).prototype,"splatPar",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=t(v.prototype,"attackPreSound",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=t(v.prototype,"attackSound",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=t(v.prototype,"explodeSound",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=v))||L));r._RF.pop()}}}));

System.register("chunks:///_virtual/SoundManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SoundsController.ts","./levelController.ts","./FrontYard.ts","./ArrayGet.ts"],(function(t){var e,a,_,S,o,r,i,g,s,n,u,L,c,P,l,h,M,y,B;return{setters:[function(t){e=t.applyDecoratedDescriptor,a=t.inheritsLoose,_=t.initializerDefineProperty,S=t.assertThisInitialized,o=t.createClass},function(t){r=t.cclegacy,i=t._decorator,g=t.Enum,s=t.JsonAsset,n=t.AudioClip,u=t.resources,L=t.assetManager,c=t.AudioSource,P=t.Component},function(t){l=t.MusicController},function(t){h=t.LevelPlay},function(t){M=t.FrontYard},function(t){y=t.ArrayGet,B=t.ValueRange}],execute:function(){var m,C,p,d,E,f,k,D,I;r._RF.push({},"1d62fK5aZxCqp3U26v5DPCm","SoundManager",void 0);var b=i.ccclass,Z=i.property,Y=t("Music",b("Music")(m=function(){this.name="",this.clip=null,this.path="",this.musicLength=10,this.type=[],this.world=""})||m),V=t("MusicGroup",(function(){this.musicStart=v.MusicAmount,this.musicLoop=v.MusicAmount})),U=t("WorldMusic",function(t){return t.Modern="Modern",t.Egypt="Egypt",t.Pirate="Pirate",t.Cowboy="Cowboy",t.Future="Future",t.Dark="Dark",t.Beach="Beach",t.Ice="Iceage",t.Lostcity="Lostcity",t.Eighties="Eighties",t.Punk="Punk",t.Pop="Pop",t.Rap="Rap",t.Eightbit="Eightbit",t.Metal="Metal",t.Ballad="Ballad",t.Dino="Dino",t.Sky="Sky",t.Kongfu="Kongfu",t}({})),w=t("MusicSortEnum",function(t){return t[t.UltimateBattle=0]="UltimateBattle",t[t.Victory=1]="Victory",t[t.DemonstrateMinigame=2]="DemonstrateMinigame",t[t.Leave=3]="Leave",t[t.Lose=4]="Lose",t[t.ZombossIntro=5]="ZombossIntro",t[t.ZombossStage0=6]="ZombossStage0",t[t.ZombossStage1=7]="ZombossStage1",t[t.ZombossStage2_start=8]="ZombossStage2_start",t[t.ZombossStage2=9]="ZombossStage2",t[t.KongfuBossStage1=10]="KongfuBossStage1",t[t.KongfuBossStage2=11]="KongfuBossStage2",t[t.KongfuBossStage3=12]="KongfuBossStage3",t[t.CYS_Start=13]="CYS_Start",t[t.CYS_LP=14]="CYS_LP",t[t.Stage1_Start=15]="Stage1_Start",t[t.Stage1_LP=16]="Stage1_LP",t[t.Stage2_Start=17]="Stage2_Start",t[t.Stage2_LP=18]="Stage2_LP",t[t.Stage3_Start=19]="Stage3_Start",t[t.Stage3_LP=20]="Stage3_LP",t[t.Stage4_Start=21]="Stage4_Start",t[t.Stage4_LP=22]="Stage4_LP",t}({})),v=t("MusicEnum",function(t){return t[t.WorldMap=0]="WorldMap",t[t.UB_Egypt=1]="UB_Egypt",t[t.UB_Pirate=2]="UB_Pirate",t[t.UB_Cowboy=3]="UB_Cowboy",t[t.UB_Kongfu=4]="UB_Kongfu",t[t.UB_Future=5]="UB_Future",t[t.UB_Dark=6]="UB_Dark",t[t.UB_Beach=7]="UB_Beach",t[t.UB_Ice=8]="UB_Ice",t[t.UB_Lost=9]="UB_Lost",t[t.UB_Sky=10]="UB_Sky",t[t.UB_Dino=11]="UB_Dino",t[t.UB_Modern=12]="UB_Modern",t[t.UB_Punk=13]="UB_Punk",t[t.UB_Ballad=14]="UB_Ballad",t[t.UB_Pop=15]="UB_Pop",t[t.UB_Rap=16]="UB_Rap",t[t.UB_EightBit=17]="UB_EightBit",t[t.UB_Metal=18]="UB_Metal",t[t.MG_Egypt=19]="MG_Egypt",t[t.MG_Pirate=20]="MG_Pirate",t[t.MG_Cowboy=21]="MG_Cowboy",t[t.MG_Kongfu=22]="MG_Kongfu",t[t.MG_Future=23]="MG_Future",t[t.MG_Dark=24]="MG_Dark",t[t.MG_Beach=25]="MG_Beach",t[t.MG_Ice=26]="MG_Ice",t[t.MG_Lost=27]="MG_Lost",t[t.MG_Sky=28]="MG_Sky",t[t.MG_Dino=29]="MG_Dino",t[t.MG_Modern=30]="MG_Modern",t[t.MG_Punk=31]="MG_Punk",t[t.MG_Ballad=32]="MG_Ballad",t[t.MG_Pop=33]="MG_Pop",t[t.MG_Rap=34]="MG_Rap",t[t.MG_EightBit=35]="MG_EightBit",t[t.MG_Metal=36]="MG_Metal",t[t.UB_Victory=37]="UB_Victory",t[t.MG_Victory=38]="MG_Victory",t[t.Piano=39]="Piano",t[t.LEAVE_Egypt=40]="LEAVE_Egypt",t[t.LEAVE_Pirate=41]="LEAVE_Pirate",t[t.LEAVE_Cowboy=42]="LEAVE_Cowboy",t[t.LEAVE_Kongfu=43]="LEAVE_Kongfu",t[t.LEAVE_Future=44]="LEAVE_Future",t[t.LEAVE_Dark=45]="LEAVE_Dark",t[t.LEAVE_Beach=46]="LEAVE_Beach",t[t.LEAVE_Ice=47]="LEAVE_Ice",t[t.LEAVE_Lost=48]="LEAVE_Lost",t[t.LEAVE_Sky=49]="LEAVE_Sky",t[t.LEAVE_Eighties=50]="LEAVE_Eighties",t[t.LEAVE_Dino=51]="LEAVE_Dino",t[t.LEAVE_Modern=52]="LEAVE_Modern",t[t.LOSE_Egypt=53]="LOSE_Egypt",t[t.LOSE_Pirate=54]="LOSE_Pirate",t[t.LOSE_Cowboy=55]="LOSE_Cowboy",t[t.LOSE_Kongfu=56]="LOSE_Kongfu",t[t.LOSE_Future=57]="LOSE_Future",t[t.LOSE_Dark=58]="LOSE_Dark",t[t.LOSE_Beach=59]="LOSE_Beach",t[t.LOSE_Ice=60]="LOSE_Ice",t[t.LOSE_Lost=61]="LOSE_Lost",t[t.LOSE_Sky=62]="LOSE_Sky",t[t.LOSE_Eighties=63]="LOSE_Eighties",t[t.LOSE_Dino=64]="LOSE_Dino",t[t.LOSE_Modern=65]="LOSE_Modern",t[t.Dialogue_Zomboss_Start=66]="Dialogue_Zomboss_Start",t[t.Dialogue_Zomboss_LP=67]="Dialogue_Zomboss_LP",t[t.ZBI_Egypt=68]="ZBI_Egypt",t[t.ZBI_Pirate=69]="ZBI_Pirate",t[t.ZBI_Cowboy=70]="ZBI_Cowboy",t[t.ZBI_Future=71]="ZBI_Future",t[t.ZBI_Dark=72]="ZBI_Dark",t[t.ZBI_Beach=73]="ZBI_Beach",t[t.ZBI_Ice=74]="ZBI_Ice",t[t.ZBI_Lost=75]="ZBI_Lost",t[t.ZBI_Sky=76]="ZBI_Sky",t[t.ZBI_Eighties=77]="ZBI_Eighties",t[t.ZBI_Dino=78]="ZBI_Dino",t[t.ZBI_Modern=79]="ZBI_Modern",t[t.ZB_Stage0=80]="ZB_Stage0",t[t.ZB_Stage0_Lostcity=81]="ZB_Stage0_Lostcity",t[t.ZB_Stage1=82]="ZB_Stage1",t[t.ZB_Stage2_Start=83]="ZB_Stage2_Start",t[t.ZB_Stage2=84]="ZB_Stage2",t[t.ZB_Victory=85]="ZB_Victory",t[t.CYS_Start_Egypt=86]="CYS_Start_Egypt",t[t.CYS_Start_Pirate=87]="CYS_Start_Pirate",t[t.CYS_Start_Cowboy=88]="CYS_Start_Cowboy",t[t.CYS_Start_Kongfu=89]="CYS_Start_Kongfu",t[t.CYS_Start_Future=90]="CYS_Start_Future",t[t.CYS_Start_Dark=91]="CYS_Start_Dark",t[t.CYS_Start_Beach=92]="CYS_Start_Beach",t[t.CYS_Start_Ice=93]="CYS_Start_Ice",t[t.CYS_Start_Lost=94]="CYS_Start_Lost",t[t.CYS_Start_Sky=95]="CYS_Start_Sky",t[t.CYS_Start_Eighties=96]="CYS_Start_Eighties",t[t.CYS_Start_Dino=97]="CYS_Start_Dino",t[t.CYS_Start_Modern=98]="CYS_Start_Modern",t[t.CYS_LP_Egypt=99]="CYS_LP_Egypt",t[t.CYS_LP_Pirate=100]="CYS_LP_Pirate",t[t.CYS_LP_Cowboy=101]="CYS_LP_Cowboy",t[t.CYS_LP_Kongfu=102]="CYS_LP_Kongfu",t[t.CYS_LP_Future=103]="CYS_LP_Future",t[t.CYS_LP_Dark=104]="CYS_LP_Dark",t[t.CYS_LP_Beach=105]="CYS_LP_Beach",t[t.CYS_LP_Ice=106]="CYS_LP_Ice",t[t.CYS_LP_Lost=107]="CYS_LP_Lost",t[t.CYS_LP_Sky=108]="CYS_LP_Sky",t[t.CYS_LP_Eighties=109]="CYS_LP_Eighties",t[t.CYS_LP_Dino=110]="CYS_LP_Dino",t[t.CYS_LP_Modern=111]="CYS_LP_Modern",t[t.Stage1_Start_Egypt=112]="Stage1_Start_Egypt",t[t.Stage1_Start_Pirate=113]="Stage1_Start_Pirate",t[t.Stage1_Start_Cowboy=114]="Stage1_Start_Cowboy",t[t.Stage1_Start_Kongfu=115]="Stage1_Start_Kongfu",t[t.Stage1_Start_Future=116]="Stage1_Start_Future",t[t.Stage1_Start_Dark=117]="Stage1_Start_Dark",t[t.Stage1_Start_Beach=118]="Stage1_Start_Beach",t[t.Stage1_Start_Ice=119]="Stage1_Start_Ice",t[t.Stage1_Start_Lost=120]="Stage1_Start_Lost",t[t.Stage1_Start_Sky=121]="Stage1_Start_Sky",t[t.Stage1_Start_Eighties=122]="Stage1_Start_Eighties",t[t.Stage1_Start_Dino=123]="Stage1_Start_Dino",t[t.Stage1_Start_Modern=124]="Stage1_Start_Modern",t[t.Stage1_LP_Egypt=125]="Stage1_LP_Egypt",t[t.Stage1_LP_Pirate=126]="Stage1_LP_Pirate",t[t.Stage1_LP_Cowboy=127]="Stage1_LP_Cowboy",t[t.Stage1_LP_Kongfu=128]="Stage1_LP_Kongfu",t[t.Stage1_LP_Future=129]="Stage1_LP_Future",t[t.Stage1_LP_Dark=130]="Stage1_LP_Dark",t[t.Stage1_LP_Beach=131]="Stage1_LP_Beach",t[t.Stage1_LP_Ice=132]="Stage1_LP_Ice",t[t.Stage1_LP_Lost=133]="Stage1_LP_Lost",t[t.Stage1_LP_Sky=134]="Stage1_LP_Sky",t[t.Stage1_LP_Eighties=135]="Stage1_LP_Eighties",t[t.Stage1_LP_Dino=136]="Stage1_LP_Dino",t[t.Stage1_LP_Modern=137]="Stage1_LP_Modern",t[t.Stage2_Start_Egypt=138]="Stage2_Start_Egypt",t[t.Stage2_Start_Pirate=139]="Stage2_Start_Pirate",t[t.Stage2_Start_Cowboy=140]="Stage2_Start_Cowboy",t[t.Stage2_Start_Kongfu=141]="Stage2_Start_Kongfu",t[t.Stage2_Start_Future=142]="Stage2_Start_Future",t[t.Stage2_Start_Dark=143]="Stage2_Start_Dark",t[t.Stage2_Start_Beach=144]="Stage2_Start_Beach",t[t.Stage2_Start_Ice=145]="Stage2_Start_Ice",t[t.Stage2_Start_Lost=146]="Stage2_Start_Lost",t[t.Stage2_Start_Sky=147]="Stage2_Start_Sky",t[t.Stage2_Start_Eighties=148]="Stage2_Start_Eighties",t[t.Stage2_Start_Dino=149]="Stage2_Start_Dino",t[t.Stage2_Start_Modern=150]="Stage2_Start_Modern",t[t.Stage2_LP_Egypt=151]="Stage2_LP_Egypt",t[t.Stage2_LP_Pirate=152]="Stage2_LP_Pirate",t[t.Stage2_LP_Cowboy=153]="Stage2_LP_Cowboy",t[t.Stage2_LP_Kongfu=154]="Stage2_LP_Kongfu",t[t.Stage2_LP_Future=155]="Stage2_LP_Future",t[t.Stage2_LP_Dark=156]="Stage2_LP_Dark",t[t.Stage2_LP_Beach=157]="Stage2_LP_Beach",t[t.Stage2_LP_Ice=158]="Stage2_LP_Ice",t[t.Stage2_LP_Lost=159]="Stage2_LP_Lost",t[t.Stage2_LP_Sky=160]="Stage2_LP_Sky",t[t.Stage2_LP_Eighties=161]="Stage2_LP_Eighties",t[t.Stage2_LP_Dino=162]="Stage2_LP_Dino",t[t.Stage2_LP_Modern=163]="Stage2_LP_Modern",t[t.Stage3_Start_Egypt=164]="Stage3_Start_Egypt",t[t.Stage3_Start_Pirate=165]="Stage3_Start_Pirate",t[t.Stage3_Start_Cowboy=166]="Stage3_Start_Cowboy",t[t.Stage3_Start_Kongfu=167]="Stage3_Start_Kongfu",t[t.Stage3_Start_Future=168]="Stage3_Start_Future",t[t.Stage3_Start_Dark=169]="Stage3_Start_Dark",t[t.Stage3_Start_Beach=170]="Stage3_Start_Beach",t[t.Stage3_Start_Ice=171]="Stage3_Start_Ice",t[t.Stage3_Start_Lost=172]="Stage3_Start_Lost",t[t.Stage3_Start_Sky=173]="Stage3_Start_Sky",t[t.Stage3_Start_Eighties=174]="Stage3_Start_Eighties",t[t.Stage3_Start_Dino=175]="Stage3_Start_Dino",t[t.Stage3_Start_Modern=176]="Stage3_Start_Modern",t[t.Stage3_LP_Egypt=177]="Stage3_LP_Egypt",t[t.Stage3_LP_Pirate=178]="Stage3_LP_Pirate",t[t.Stage3_LP_Cowboy=179]="Stage3_LP_Cowboy",t[t.Stage3_LP_Kongfu=180]="Stage3_LP_Kongfu",t[t.Stage3_LP_Future=181]="Stage3_LP_Future",t[t.Stage3_LP_Dark=182]="Stage3_LP_Dark",t[t.Stage3_LP_Beach=183]="Stage3_LP_Beach",t[t.Stage3_LP_Ice=184]="Stage3_LP_Ice",t[t.Stage3_LP_Lost=185]="Stage3_LP_Lost",t[t.Stage3_LP_Sky=186]="Stage3_LP_Sky",t[t.Stage3_LP_Eighties=187]="Stage3_LP_Eighties",t[t.Stage3_LP_Dino=188]="Stage3_LP_Dino",t[t.Stage3_LP_Modern=189]="Stage3_LP_Modern",t[t.Stage4_Start_Egypt=190]="Stage4_Start_Egypt",t[t.Stage4_Start_Pirate=191]="Stage4_Start_Pirate",t[t.Stage4_Start_Cowboy=192]="Stage4_Start_Cowboy",t[t.Stage4_Start_Kongfu=193]="Stage4_Start_Kongfu",t[t.Stage4_Start_Future=194]="Stage4_Start_Future",t[t.Stage4_Start_Dark=195]="Stage4_Start_Dark",t[t.Stage4_Start_Beach=196]="Stage4_Start_Beach",t[t.Stage4_Start_Ice=197]="Stage4_Start_Ice",t[t.Stage4_Start_Lost=198]="Stage4_Start_Lost",t[t.Stage4_Start_Sky=199]="Stage4_Start_Sky",t[t.Stage4_Start_Eighties=200]="Stage4_Start_Eighties",t[t.Stage4_Start_Dino=201]="Stage4_Start_Dino",t[t.Stage4_Start_Modern=202]="Stage4_Start_Modern",t[t.Stage4_LP_Egypt=203]="Stage4_LP_Egypt",t[t.Stage4_LP_Pirate=204]="Stage4_LP_Pirate",t[t.Stage4_LP_Cowboy=205]="Stage4_LP_Cowboy",t[t.Stage4_LP_Kongfu=206]="Stage4_LP_Kongfu",t[t.Stage4_LP_Future=207]="Stage4_LP_Future",t[t.Stage4_LP_Dark=208]="Stage4_LP_Dark",t[t.Stage4_LP_Beach=209]="Stage4_LP_Beach",t[t.Stage4_LP_Ice=210]="Stage4_LP_Ice",t[t.Stage4_LP_Lost=211]="Stage4_LP_Lost",t[t.Stage4_LP_Sky=212]="Stage4_LP_Sky",t[t.Stage4_LP_Eighties=213]="Stage4_LP_Eighties",t[t.Stage4_LP_Dino=214]="Stage4_LP_Dino",t[t.Stage4_LP_Modern=215]="Stage4_LP_Modern",t[t.VIC_Egypt=216]="VIC_Egypt",t[t.VIC_Pirate=217]="VIC_Pirate",t[t.VIC_Cowboy=218]="VIC_Cowboy",t[t.VIC_Kongfu=219]="VIC_Kongfu",t[t.VIC_Future=220]="VIC_Future",t[t.VIC_Dark=221]="VIC_Dark",t[t.VIC_Beach=222]="VIC_Beach",t[t.VIC_Ice=223]="VIC_Ice",t[t.VIC_Lost=224]="VIC_Lost",t[t.VIC_Sky=225]="VIC_Sky",t[t.VIC_Eighties=226]="VIC_Eighties",t[t.VIC_Dino=227]="VIC_Dino",t[t.VIC_Modern=228]="VIC_Modern",t[t.Punk_Start=229]="Punk_Start",t[t.Punk_LP=230]="Punk_LP",t[t.Pop_LP0=231]="Pop_LP0",t[t.Pop_LP1=232]="Pop_LP1",t[t.Pop_LP2=233]="Pop_LP2",t[t.Pop_LP3=234]="Pop_LP3",t[t.Rap_LP0=235]="Rap_LP0",t[t.Rap_LP1=236]="Rap_LP1",t[t.Rap_LP2=237]="Rap_LP2",t[t.Rap_LP3=238]="Rap_LP3",t[t.EightBit_LP=239]="EightBit_LP",t[t.Ballad_Start=240]="Ballad_Start",t[t.Ballad_LP=241]="Ballad_LP",t[t.Metal_Start0=242]="Metal_Start0",t[t.Metal_Start1=243]="Metal_Start1",t[t.Metal_LP0=244]="Metal_LP0",t[t.Metal_LP1=245]="Metal_LP1",t[t.Metal_LP2=246]="Metal_LP2",t[t.Metal_LP3=247]="Metal_LP3",t[t.Metal_LP4=248]="Metal_LP4",t[t.Metal_LP5=249]="Metal_LP5",t[t.ZB_Kongfu_Stage1=250]="ZB_Kongfu_Stage1",t[t.ZB_Kongfu_Stage2=251]="ZB_Kongfu_Stage2",t[t.ZB_Kongfu_Stage3=252]="ZB_Kongfu_Stage3",t[t.Dialogue_Dave_LP=253]="Dialogue_Dave_LP",t[t.MusicAmount=254]="MusicAmount",t}({}));g(V),g(w);t("SoundManager",(C=b("SoundManager"),p=Z(s),d=Z(s),C(((I=function(t){function e(){for(var e,a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))||this).currentMusicSort=NaN,e.currentWorldMusic=null,e.isJam=!1,e._insertedMusic=null,e._insertedMusicDuration=1/0,e.leftRepeat=0,e.nextToPlay=null,e.nextSortToPlay=null,e._audioSource=void 0,e._audioSourceReplay=void 0,e._audioSourcePiano=void 0,e._audioSourceInsert=void 0,e.currentPlayingComponent=null,e.currentMusic=null,e.currentMusicType=v.UB_Victory,e.keepupMusic=null,_(e,"musicJson",k,S(e)),_(e,"lawnJson",D,S(e)),e.CurrentMusicSPD=1,e.pianoCountDown=0,e.normalPianoSizeCountDown=0,e.pianoCountUp=0,e}a(e,t);var r=e.prototype;return r.switchMusic=function(t,e,a,_,S,o){if(void 0===a&&(a=!1),void 0===_&&(_=!1),void 0===S&&(S=!0),void 0===o&&(o=!1),t!=this.currentWorldMusic||e!=this.currentMusicSort||a){var r=v.UB_Victory,i=1/0,g=!1,s=null,n=null;if(this.isJam=!1,e==w.Victory&&this.currentMusicSort==w.UltimateBattle)r=v.UB_Victory,g=!1,i=1;else if(e==w.Victory&&this.currentMusicSort==w.DemonstrateMinigame)r=v.MG_Victory,g=!1,i=1;else if(e==w.Victory&&(this.currentMusicSort==w.KongfuBossStage1||this.currentMusicSort==w.KongfuBossStage2||this.currentMusicSort==w.KongfuBossStage3||this.currentMusicSort==w.ZombossIntro||this.currentMusicSort==w.ZombossStage0||this.currentMusicSort==w.ZombossStage1||this.currentMusicSort==w.ZombossStage2||this.currentMusicSort==w.ZombossStage2_start&&(e=w.ZombossStage2)))r=v.ZB_Victory,g=!1,i=1;else if(e==w.ZombossStage0)r=t==U.Lostcity?v.ZB_Stage0_Lostcity:v.ZB_Stage0,g=!0,i=1/0;else if(e==w.ZombossStage1)r=v.ZB_Stage1,g=!0,i=1/0;else if(e==w.ZombossStage2)r=v.ZB_Stage2,g=!0,i=1/0;else if(e==w.ZombossStage2_start)r=v.ZB_Stage2_Start,s=v.ZB_Stage2,g=!0,i=1/0,e=w.ZombossStage2;else if(e==w.KongfuBossStage1)r=v.ZB_Kongfu_Stage1,g=!0,i=1/0;else if(e==w.KongfuBossStage2)r=v.ZB_Kongfu_Stage2,g=!0,i=1/0;else if(e==w.KongfuBossStage3)r=v.ZB_Kongfu_Stage3,g=!0,i=1/0;else switch(t){case U.Egypt:e==w.UltimateBattle?(r=v.UB_Egypt,g=!0):e==w.DemonstrateMinigame?(r=v.MG_Egypt,g=!0):e==w.Leave?(r=v.LEAVE_Egypt,g=!1,i=1):e==w.Lose?(r=v.LOSE_Egypt,g=!1,i=1):e==w.ZombossIntro?(r=v.ZBI_Egypt,g=!1,s=v.ZB_Stage0,e=w.ZombossStage0):e==w.Victory?(r=v.VIC_Egypt,g=!1,i=1):e==w.Stage1_Start?(r=v.Stage1_Start_Egypt,n=w.Stage1_LP,g=!1):e==w.Stage1_LP?(r=v.Stage1_LP_Egypt,g=!0):e==w.Stage2_Start?(r=v.Stage2_Start_Egypt,n=w.Stage2_LP,g=!1):e==w.Stage2_LP?(r=v.Stage2_LP_Egypt,g=!0):e==w.Stage3_Start?(r=v.Stage3_Start_Egypt,n=w.Stage3_LP,g=!1):e==w.Stage3_LP?(r=v.Stage3_LP_Egypt,g=!0):e==w.Stage4_Start?(r=v.Stage4_Start_Egypt,n=w.Stage4_LP,g=!1):e==w.Stage4_LP?(r=v.Stage4_LP_Egypt,g=!0):e==w.CYS_Start?(r=v.CYS_Start_Egypt,n=w.CYS_LP,g=!1):e==w.CYS_LP&&(r=v.CYS_LP_Egypt,g=!0);break;case U.Pirate:e==w.UltimateBattle?(r=v.UB_Pirate,g=!0):e==w.DemonstrateMinigame?(r=v.MG_Pirate,g=!0):e==w.Leave?(r=v.LEAVE_Pirate,g=!1,i=1):e==w.Lose?(r=v.LOSE_Pirate,g=!1,i=1):e==w.ZombossIntro?(r=v.ZBI_Pirate,g=!1,s=v.ZB_Stage0,e=w.ZombossStage0):e==w.Victory?(r=v.VIC_Pirate,g=!1,i=1):e==w.Stage1_Start?(r=v.Stage1_Start_Pirate,n=w.Stage1_LP,g=!1):e==w.Stage1_LP?(r=v.Stage1_LP_Pirate,g=!0):e==w.Stage2_Start?(r=v.Stage2_Start_Pirate,n=w.Stage2_LP,g=!1):e==w.Stage2_LP?(r=v.Stage2_LP_Pirate,g=!0):e==w.Stage3_Start?(r=v.Stage3_Start_Pirate,n=w.Stage3_LP,g=!1):e==w.Stage3_LP?(r=v.Stage3_LP_Pirate,g=!0):e==w.Stage4_Start?(r=v.Stage4_Start_Pirate,n=w.Stage4_LP,g=!1):e==w.Stage4_LP?(r=v.Stage4_LP_Pirate,g=!0):e==w.CYS_Start?(r=v.CYS_Start_Pirate,n=w.CYS_LP,g=!1):e==w.CYS_LP&&(r=v.CYS_LP_Pirate,g=!0);break;case U.Cowboy:e==w.UltimateBattle?(r=v.UB_Cowboy,g=!0):e==w.DemonstrateMinigame?(r=v.MG_Cowboy,g=!0):e==w.Leave?(r=v.LEAVE_Cowboy,g=!1,i=1):e==w.Lose?(r=v.LOSE_Cowboy,g=!1,i=1):e==w.ZombossIntro?(r=v.ZBI_Cowboy,g=!1,s=v.ZB_Stage0,e=w.ZombossStage0):e==w.Victory?(r=v.VIC_Cowboy,g=!1,i=1):e==w.Stage1_Start?(r=v.Stage1_Start_Cowboy,n=w.Stage1_LP,g=!1):e==w.Stage1_LP?(r=v.Stage1_LP_Cowboy,g=!0):e==w.Stage2_Start?(r=v.Stage2_Start_Cowboy,n=w.Stage2_LP,g=!1):e==w.Stage2_LP?(r=v.Stage2_LP_Cowboy,g=!0):e==w.Stage3_Start?(r=v.Stage3_Start_Cowboy,n=w.Stage3_LP,g=!1):e==w.Stage3_LP?(r=v.Stage3_LP_Cowboy,g=!0):e==w.Stage4_Start?(r=v.Stage4_Start_Cowboy,n=w.Stage4_LP,g=!1):e==w.Stage4_LP?(r=v.Stage4_LP_Cowboy,g=!0):e==w.CYS_Start?(r=v.CYS_Start_Cowboy,n=w.CYS_LP,g=!1):e==w.CYS_LP&&(r=v.CYS_LP_Cowboy,g=!0);break;case U.Future:e==w.UltimateBattle?(r=v.UB_Future,g=!0):e==w.DemonstrateMinigame?(r=v.MG_Future,g=!0):e==w.Leave?(r=v.LEAVE_Future,g=!1,i=1):e==w.Lose?(r=v.LOSE_Future,g=!1,i=1):e==w.ZombossIntro?(r=v.ZBI_Future,g=!1,s=v.ZB_Stage0,e=w.ZombossStage0):e==w.Victory?(r=v.VIC_Future,g=!1,i=1):e==w.Stage1_Start?(r=v.Stage1_Start_Future,n=w.Stage1_LP,g=!1):e==w.Stage1_LP?(r=v.Stage1_LP_Future,g=!0):e==w.Stage2_Start?(r=v.Stage2_Start_Future,n=w.Stage2_LP,g=!1):e==w.Stage2_LP?(r=v.Stage2_LP_Future,g=!0):e==w.Stage3_Start?(r=v.Stage3_Start_Future,n=w.Stage3_LP,g=!1):e==w.Stage3_LP?(r=v.Stage3_LP_Future,g=!0):e==w.Stage4_Start?(r=v.Stage4_Start_Future,n=w.Stage4_LP,g=!1):e==w.Stage4_LP?(r=v.Stage4_LP_Future,g=!0):e==w.CYS_Start?(r=v.CYS_Start_Future,n=w.CYS_LP,g=!1):e==w.CYS_LP&&(r=v.CYS_LP_Future,g=!0);break;case U.Dark:e==w.UltimateBattle?(r=v.UB_Dark,g=!0):e==w.DemonstrateMinigame?(r=v.MG_Dark,g=!0):e==w.Leave?(r=v.LEAVE_Dark,g=!1,i=1):e==w.Lose?(r=v.LOSE_Dark,g=!1,i=1):e==w.ZombossIntro?(r=v.ZBI_Dark,g=!1,s=v.ZB_Stage0,e=w.ZombossStage0):e==w.Victory?(r=v.VIC_Dark,g=!1,i=1):e==w.Stage1_Start?(r=v.Stage1_Start_Dark,n=w.Stage1_LP,g=!1):e==w.Stage1_LP?(r=v.Stage1_LP_Dark,g=!0):e==w.Stage2_Start?(r=v.Stage2_Start_Dark,n=w.Stage2_LP,g=!1):e==w.Stage2_LP?(r=v.Stage2_LP_Dark,g=!0):e==w.Stage3_Start?(r=v.Stage3_Start_Dark,n=w.Stage3_LP,g=!1):e==w.Stage3_LP?(r=v.Stage3_LP_Dark,g=!0):e==w.Stage4_Start?(r=v.Stage4_Start_Dark,n=w.Stage4_LP,g=!1):e==w.Stage4_LP?(r=v.Stage4_LP_Dark,g=!0):e==w.CYS_Start?(r=v.CYS_Start_Dark,n=w.CYS_LP,g=!1):e==w.CYS_LP&&(r=v.CYS_LP_Dark,g=!0);break;case U.Beach:e==w.UltimateBattle?(r=v.UB_Beach,g=!0):e==w.DemonstrateMinigame?(r=v.MG_Beach,g=!0):e==w.Leave?(r=v.LEAVE_Beach,g=!1,i=1):e==w.Lose?(r=v.LOSE_Beach,g=!1,i=1):e==w.ZombossIntro?(r=v.ZBI_Beach,g=!1,s=v.ZB_Stage0,e=w.ZombossStage0):e==w.Victory?(r=v.VIC_Beach,g=!1,i=1):e==w.Stage1_Start?(r=v.Stage1_Start_Beach,n=w.Stage1_LP,g=!1):e==w.Stage1_LP?(r=v.Stage1_LP_Beach,g=!0):e==w.Stage2_Start?(r=v.Stage2_Start_Beach,n=w.Stage2_LP,g=!1):e==w.Stage2_LP?(r=v.Stage2_LP_Beach,g=!0):e==w.Stage3_Start?(r=v.Stage3_Start_Beach,n=w.Stage3_LP,g=!1):e==w.Stage3_LP?(r=v.Stage3_LP_Beach,g=!0):e==w.Stage4_Start?(r=v.Stage4_Start_Beach,n=w.Stage4_LP,g=!1):e==w.Stage4_LP?(r=v.Stage4_LP_Beach,g=!0):e==w.CYS_Start?(r=v.CYS_Start_Beach,n=w.CYS_LP,g=!1):e==w.CYS_LP&&(r=v.CYS_LP_Beach,g=!0);break;case U.Ice:e==w.UltimateBattle?(r=v.UB_Ice,g=!0):e==w.DemonstrateMinigame?(r=v.MG_Ice,g=!0):e==w.Leave?(r=v.LEAVE_Ice,g=!1,i=1):e==w.Lose?(r=v.LOSE_Ice,g=!1,i=1):e==w.ZombossIntro?(r=v.ZBI_Ice,g=!1,s=v.ZB_Stage0,e=w.ZombossStage0):e==w.Victory?(r=v.VIC_Ice,g=!1,i=1):e==w.Stage1_Start?(r=v.Stage1_Start_Ice,n=w.Stage1_LP,g=!1):e==w.Stage1_LP?(r=v.Stage1_LP_Ice,g=!0):e==w.Stage2_Start?(r=v.Stage2_Start_Ice,n=w.Stage2_LP,g=!1):e==w.Stage2_LP?(r=v.Stage2_LP_Ice,g=!0):e==w.Stage3_Start?(r=v.Stage3_Start_Ice,n=w.Stage3_LP,g=!1):e==w.Stage3_LP?(r=v.Stage3_LP_Ice,g=!0):e==w.Stage4_Start?(r=v.Stage4_Start_Ice,n=w.Stage4_LP,g=!1):e==w.Stage4_LP?(r=v.Stage4_LP_Ice,g=!0):e==w.CYS_Start?(r=v.CYS_Start_Ice,n=w.CYS_LP,g=!1):e==w.CYS_LP&&(r=v.CYS_LP_Ice,g=!0);break;case U.Lostcity:e==w.UltimateBattle?(r=v.UB_Lost,g=!0):e==w.DemonstrateMinigame?(r=v.MG_Lost,g=!0):e==w.Leave?(r=v.LEAVE_Lost,g=!1,i=1):e==w.Lose?(r=v.LOSE_Lost,g=!1,i=1):e==w.ZombossIntro?(r=v.ZBI_Lost,g=!1,s=v.ZB_Stage0_Lostcity,e=w.ZombossStage0):e==w.Victory?(r=v.VIC_Lost,g=!1,i=1):e==w.Stage1_Start?(r=v.Stage1_Start_Lost,n=w.Stage1_LP,g=!1):e==w.Stage1_LP?(r=v.Stage1_LP_Lost,g=!0):e==w.Stage2_Start?(r=v.Stage2_Start_Lost,n=w.Stage2_LP,g=!1):e==w.Stage2_LP?(r=v.Stage2_LP_Lost,g=!0):e==w.Stage3_Start?(r=v.Stage3_Start_Lost,n=w.Stage3_LP,g=!1):e==w.Stage3_LP?(r=v.Stage3_LP_Lost,g=!0):e==w.Stage4_Start?(r=v.Stage4_Start_Lost,n=w.Stage4_LP,g=!1):e==w.Stage4_LP?(r=v.Stage4_LP_Lost,g=!0):e==w.CYS_Start?(r=v.CYS_Start_Lost,n=w.CYS_LP,g=!1):e==w.CYS_LP&&(r=v.CYS_LP_Lost,g=!0);break;case U.Eighties:e==w.UltimateBattle?(r=v.UB_Ballad,g=!0):e==w.DemonstrateMinigame?(r=v.MG_Ballad,g=!0):e==w.Leave?(r=v.LEAVE_Eighties,g=!1,i=1):e==w.Lose?(r=v.LOSE_Eighties,g=!1,i=1):e==w.ZombossIntro?(r=v.ZBI_Future,g=!1,s=v.ZB_Stage0,e=w.ZombossStage0):e==w.Victory?(r=v.VIC_Eighties,g=!1,i=1):e==w.Stage1_Start?(r=v.Stage1_Start_Eighties,n=w.Stage1_LP,g=!1):e==w.Stage1_LP?(r=v.Stage1_LP_Eighties,g=!0):e==w.Stage2_Start?(r=v.Stage2_Start_Eighties,n=w.Stage2_LP,g=!1):e==w.Stage2_LP?(r=v.Stage2_LP_Eighties,g=!0):e==w.Stage3_Start?(r=v.Stage3_Start_Eighties,n=w.Stage3_LP,g=!1):e==w.Stage3_LP?(r=v.Stage3_LP_Eighties,g=!0):e==w.Stage4_Start?(r=v.Stage4_Start_Eighties,n=w.Stage4_LP,g=!1):e==w.Stage4_LP?(r=v.Stage4_LP_Eighties,g=!0):e==w.CYS_Start?(r=v.CYS_Start_Eighties,n=w.CYS_LP,g=!1):e==w.CYS_LP&&(r=v.CYS_LP_Eighties,g=!0);break;case U.Sky:e==w.UltimateBattle?(r=v.UB_Sky,g=!0):e==w.DemonstrateMinigame?(r=v.MG_Sky,g=!0):e==w.Leave?(r=v.LEAVE_Sky,g=!1,i=1):e==w.Lose?(r=v.LOSE_Sky,g=!1,i=1):e==w.ZombossIntro?(r=v.ZBI_Sky,g=!1,s=v.ZB_Stage0,e=w.ZombossStage0):e==w.Victory?(r=v.VIC_Sky,g=!1,i=1):e==w.Stage1_Start?(r=v.Stage1_Start_Sky,n=w.Stage1_LP,g=!1):e==w.Stage1_LP?(r=v.Stage1_LP_Sky,g=!0):e==w.Stage2_Start?(r=v.Stage2_Start_Sky,n=w.Stage2_LP,g=!1):e==w.Stage2_LP?(r=v.Stage2_LP_Sky,g=!0):e==w.Stage3_Start?(r=v.Stage3_Start_Sky,n=w.Stage3_LP,g=!1):e==w.Stage3_LP?(r=v.Stage3_LP_Sky,g=!0):e==w.Stage4_Start?(r=v.Stage4_Start_Sky,n=w.Stage4_LP,g=!1):e==w.Stage4_LP?(r=v.Stage4_LP_Sky,g=!0):e==w.CYS_Start?(r=v.CYS_Start_Sky,n=w.CYS_LP,g=!1):e==w.CYS_LP&&(r=v.CYS_LP_Sky,g=!0);break;case U.Kongfu:e==w.UltimateBattle?(r=v.UB_Kongfu,g=!0):e==w.DemonstrateMinigame?(r=v.MG_Kongfu,g=!0):e==w.Leave?(r=v.LEAVE_Kongfu,g=!1,i=1):e==w.Lose?(r=v.LOSE_Kongfu,g=!1,i=1):e==w.ZombossIntro?(r=v.ZBI_Egypt,g=!1,s=v.ZB_Stage0,e=w.ZombossStage0):e==w.Victory?(r=v.VIC_Kongfu,g=!1,i=1):e==w.Stage1_Start?(r=v.Stage1_Start_Kongfu,n=w.Stage1_LP,g=!1):e==w.Stage1_LP?(r=v.Stage1_LP_Kongfu,g=!0):e==w.Stage2_Start?(r=v.Stage2_Start_Kongfu,n=w.Stage2_LP,g=!1):e==w.Stage2_LP?(r=v.Stage2_LP_Kongfu,g=!0):e==w.Stage3_Start?(r=v.Stage3_Start_Kongfu,n=w.Stage3_LP,g=!1):e==w.Stage3_LP?(r=v.Stage3_LP_Kongfu,g=!0):e==w.Stage4_Start?(r=v.Stage4_Start_Kongfu,n=w.Stage4_LP,g=!1):e==w.Stage4_LP?(r=v.Stage4_LP_Kongfu,g=!0):e==w.CYS_Start?(r=v.CYS_Start_Kongfu,n=w.CYS_LP,g=!1):e==w.CYS_LP&&(r=v.CYS_LP_Kongfu,g=!0);break;case U.Ballad:if(e==w.UltimateBattle)r=v.UB_Ballad,this.isJam=!0,g=!0;else{if(e!=w.DemonstrateMinigame)return o?(r=y.getRandom([v.Ballad_Start]),this.playBGM(r,!1,1/0),this.isJam=!0,r):this.switchMusicSort(e,a,_,S);r=v.MG_Ballad,this.isJam=!0,g=!0}break;case U.Punk:if(e==w.UltimateBattle)r=v.UB_Punk,this.isJam=!0,g=!0;else{if(e!=w.DemonstrateMinigame)return o?(r=y.getRandom([v.Punk_Start]),this.playBGM(r,!1,1/0),this.isJam=!0,r):this.switchMusicSort(e,a,_,S);r=v.MG_Punk,this.isJam=!0,g=!0}break;case U.Pop:if(e==w.UltimateBattle)r=v.UB_Pop,this.isJam=!0,g=!0;else{if(e!=w.DemonstrateMinigame)return o?(r=y.getRandom([v.Pop_LP0]),this.playBGM(r,!1,1/0),this.isJam=!0,r):this.switchMusicSort(e,a,_,S);r=v.MG_Pop,this.isJam=!0,g=!0}break;case U.Rap:if(e==w.UltimateBattle)r=v.UB_Rap,this.isJam=!0,g=!0;else{if(e!=w.DemonstrateMinigame)return o?(r=y.getRandom([v.Rap_LP0]),this.playBGM(r,!1,1/0),this.isJam=!0,r):this.switchMusicSort(e,a,_,S);r=v.MG_Rap,this.isJam=!0,g=!0}break;case U.Eightbit:if(e==w.UltimateBattle)r=v.UB_EightBit,this.isJam=!0,g=!0;else{if(e!=w.DemonstrateMinigame)return o?(r=y.getRandom([v.EightBit_LP]),this.playBGM(r,!1,1/0),this.isJam=!0,r):this.switchMusicSort(e,a,_,S);r=v.MG_EightBit,this.isJam=!0,g=!0}break;case U.Metal:if(e==w.UltimateBattle)r=v.UB_Metal,this.isJam=!0,g=!0;else{if(e!=w.DemonstrateMinigame)return o?(r=y.getRandom([v.Metal_Start0,v.Metal_Start1]),this.playBGM(r,!1,1/0),this.isJam=!0,r):this.switchMusicSort(e,a,_,S);r=v.MG_Metal,this.isJam=!0,g=!0}break;case U.Dino:e==w.UltimateBattle?(r=v.UB_Dino,g=!0):e==w.DemonstrateMinigame?(r=v.MG_Dino,g=!0):e==w.Leave?(r=v.LEAVE_Dino,g=!1,i=1):e==w.Lose?(r=v.LOSE_Dino,g=!1,i=1):e==w.ZombossIntro?(r=v.ZBI_Dino,g=!1,s=v.ZB_Stage0,e=w.ZombossStage0):e==w.Victory?(r=v.VIC_Dino,g=!1,i=1):e==w.Stage1_Start?(r=v.Stage1_Start_Dino,n=w.Stage1_LP,g=!1):e==w.Stage1_LP?(r=v.Stage1_LP_Dino,g=!0):e==w.Stage2_Start?(r=v.Stage2_Start_Dino,n=w.Stage2_LP,g=!1):e==w.Stage2_LP?(r=v.Stage2_LP_Dino,g=!0):e==w.Stage3_Start?(r=v.Stage3_Start_Dino,n=w.Stage3_LP,g=!1):e==w.Stage3_LP?(r=v.Stage3_LP_Dino,g=!0):e==w.Stage4_Start?(r=v.Stage4_Start_Dino,n=w.Stage4_LP,g=!1):e==w.Stage4_LP?(r=v.Stage4_LP_Dino,g=!0):e==w.CYS_Start?(r=v.CYS_Start_Dino,n=w.CYS_LP,g=!1):e==w.CYS_LP&&(r=v.CYS_LP_Dino,g=!0);break;default:e==w.UltimateBattle?(r=v.UB_Modern,g=!0):e==w.DemonstrateMinigame?(r=v.MG_Modern,g=!0):e==w.Leave?(r=v.LEAVE_Modern,g=!1,i=1):e==w.Lose?(r=v.LOSE_Modern,g=!1,i=1):e==w.ZombossIntro?(r=v.ZBI_Modern,g=!1,s=v.ZB_Stage0,e=w.ZombossStage0):e==w.Victory?(r=v.VIC_Modern,g=!1,i=1):e==w.Stage1_Start?(r=v.Stage1_Start_Modern,n=w.Stage1_LP,g=!1):e==w.Stage1_LP?(r=v.Stage1_LP_Modern,g=!0):e==w.Stage2_Start?(r=v.Stage2_Start_Modern,n=w.Stage2_LP,g=!1):e==w.Stage2_LP?(r=v.Stage2_LP_Modern,g=!0):e==w.Stage3_Start?(r=v.Stage3_Start_Modern,n=w.Stage3_LP,g=!1):e==w.Stage3_LP?(r=v.Stage3_LP_Modern,g=!0):e==w.Stage4_Start?(r=v.Stage4_Start_Modern,n=w.Stage4_LP,g=!1):e==w.Stage4_LP?(r=v.Stage4_LP_Modern,g=!0):e==w.CYS_Start?(r=v.CYS_Start_Modern,n=w.CYS_LP,g=!1):e==w.CYS_LP&&(r=v.CYS_LP_Modern,g=!0)}return S&&this.playBGM(r,g&&!_,i),this.nextToPlay=s,this.nextSortToPlay=n,this.currentMusicSort=e,this.isJam||(this.currentWorldMusic=t),r}},r.switchWorldMusic=function(t,e,a){return void 0===e&&(e=!0),void 0===a&&(a=!1),t==this.currentWorldMusic?this.currentMusicType:this.switchMusic(t,this.currentMusicSort,!1,!1,e,a)},r.switchMusicSort=function(t,e,a,_){return void 0===e&&(e=!1),void 0===a&&(a=!1),void 0===_&&(_=!0),t==this.currentMusicSort||this.isJam?this.currentMusicType:this.switchMusic(this.currentWorldMusic,t,e,a,_)},r.insertMusic=function(t){t&&(t.loadMode=n.AudioType.DOM_AUDIO,this.audioSourceInsert.clip=t,this.audioSourceInsert.play(),this.audioSourceInsert.volume=l.MusicVolume*l._volumeScalePause,this._insertedMusic=t,this._insertedMusicDuration=t.getDuration()-1)},r.playBGM=function(t,e,a){var _;if(void 0===e&&(e=!1),void 0===a&&(a=1/0),!(t>=v.MusicAmount)){t==v.Piano&&(this.pianoCountUp=0),this.leftRepeat=a-1;var S=this.currentPlayingComponent&&e?this.currentPlayingComponent.currentTime:0;if(this.audioSource.stop(),this.audioSourceReplay.stop(),this.audioSourceReplay.currentTime=0,this.currentMusic=this.BackgroundMusic[t],this.keepupMusic=this.BackgroundMusic[t],null!=(_=this.currentMusic.clip)&&_._nativeAsset){var o=this.currentMusic.clip;this.audioSource.clip=o,this.audioSourceReplay.clip=o}this.currentPlayingComponent=this.audioSource,this.nextToPlay=null,this.currentPlayingComponent.play(),this.audioSource.playbackRate=this.audioSourceReplay.playbackRate=Math.min(4,Math.max(.1,this.CurrentMusicSPD*h.LevelMusicPlaybackRate)),this.currentPlayingComponent.currentTime=S,this.currentPlayingComponent.volume=l.MusicVolume*l._volumeScalePause,this.currentMusicType=t}},r.pauseBGM=function(){var t,e;null!=(t=this.audioSource)&&t.playing&&this.audioSource.pause(),null!=(e=this.audioSourceReplay)&&e.playing&&this.audioSourceReplay.pause()},r.resumeBGM=function(){this.currentMusic&&this.currentPlayingComponent&&(this.currentPlayingComponent.play(),this.currentPlayingComponent.volume=l.MusicVolume*l._volumeScalePause)},r.changeLoopPlayer=function(){var t=this;this.currentPlayingComponent=this.currentPlayingComponent==this.audioSource?this.audioSourceReplay:this.audioSource,l.BalladList.find((function(e){return t.currentMusic==t.BackgroundMusic[e]}))?this.currentMusic=this.BackgroundMusic[y.getRandom([v.Ballad_LP])]:l.RapList.find((function(e){return t.currentMusic==t.BackgroundMusic[e]}))?this.currentMusic=this.BackgroundMusic[y.getRandom([v.Rap_LP0,v.Rap_LP1,v.Rap_LP2,v.Rap_LP3].filter((function(e){return t.currentMusic!=t.BackgroundMusic[e]})))]:l.PopList.find((function(e){return t.currentMusic==t.BackgroundMusic[e]}))?this.currentMusic=this.BackgroundMusic[y.getRandom([v.Pop_LP0,v.Pop_LP1,v.Pop_LP2,v.Pop_LP3].filter((function(e){return t.currentMusic!=t.BackgroundMusic[e]})))]:l.PunkList.find((function(e){return t.currentMusic==t.BackgroundMusic[e]}))?this.currentMusic=this.BackgroundMusic[y.getRandom([v.Punk_LP])]:l.MetalList.find((function(e){return t.currentMusic==t.BackgroundMusic[e]}))?this.currentMusic=this.BackgroundMusic[y.getRandom([v.Metal_LP0,v.Metal_LP1,v.Metal_LP2,v.Metal_LP3,v.Metal_LP4,v.Metal_LP5].filter((function(e){return t.currentMusic!=t.BackgroundMusic[e]})))]:null!=this.nextToPlay?this.currentMusic=this.BackgroundMusic[this.nextToPlay]:null!=this.nextSortToPlay&&this.pianoCountDown<=0&&(this.currentMusic=this.BackgroundMusic[this.switchMusicSort(this.nextSortToPlay,!0,!0,!1)]),this.currentPlayingComponent.clip=this.currentMusic.clip,this.currentPlayingComponent.play(),this.currentPlayingComponent.currentTime=0,this.currentPlayingComponent.volume=l.MusicVolume*l._volumeScalePause,this.leftRepeat--},e.loadMusicDirectly=function(t,a){var _=this,S=t.length;S>0?t.forEach((function(t){var o=_.bgms[t];u.load("music/"+o.path,(function(t,_){if(!t){_.loadMode=n.AudioType.DOM_AUDIO,S--;var r=e.bgms.indexOf(o);-1!=r&&(e.bgms[r].clip=_),t?console.log(t):console.log(o.path),S<=0&&a()}}))})):a()},e.loadMusic=function(t,a,_,S){var o;void 0===_&&(_=!1),null!=(o=M.frontYardFeatures)&&o.length||!this.component||M.setFrontYardFeatures(this.component.lawnJson.json.LAWNS);var r=e.bgms.filter((function(e){var S;return(!e.clip||+(null==(S=e.clip)?void 0:S.refCount)<=0)&&(_||-1!=a.indexOf(e.world))&&e.type.some((function(e){return-1!=t.indexOf(e)}))})),i=r.length;i>0?r.forEach((function(t){u.load("music/"+t.path,(function(a,_){if(!a){_.loadMode=n.AudioType.DOM_AUDIO,i--;var o=e.bgms.indexOf(t);-1!=o&&(e.bgms[o].clip=_),a?console.log(a):console.log(t.path),i<=0&&S()}}))})):S()},e.unLoadMusic=function(){e.bgms.forEach((function(t){var e=t.clip;t.clip=null,e&&L.releaseAsset(e)}))},r.onLoad=function(){this.CurrentMusicSPD=B.getRandomFromRange(l.MusicSpeedRange),M.setFrontYardFeatures(this.lawnJson.json.LAWNS),this._audioSource=this.node.getChildByName("player1").getComponent(c),this._audioSourceReplay=this.node.getChildByName("player2").getComponent(c),this._insertedMusic=null,this._insertedMusicDuration=1/0,e.component=this,e.musicFeatures=this.musicJson.json.Musics,e.bgms.length<v.MusicAmount&&(e.bgms=[],e.musicFeatures.forEach((function(t,a){var _=new Y;_.name=t.name,_.type=t.type,_.world=t.world,_.path=t.path,_.musicLength=t.musicLength,e.bgms.push(_)})))},r.update=function(t){if(this.currentMusic&&this.currentPlayingComponent&&(this.currentPlayingComponent.volume=this._insertedMusic||this.pianoCountDown>0?0:l.MusicVolume*l._volumeScalePause,this.leftRepeat>0&&this.currentPlayingComponent.currentTime>=this.currentMusic.musicLength&&this.changeLoopPlayer()),this.pianoCountDown>0&&h.gaming)if(this.pianoCountUp+=t,this.pianoCountDown-=t,this.pianoCountDown<=0)this.audioSourcePiano.stop(),this.audioSourcePiano.volume=0;else{if(this.normalPianoSizeCountDown>0&&(this.normalPianoSizeCountDown-=t),this.audioSourcePiano.playbackRate=this.normalPianoSizeCountDown>0?1:2,!this.audioSourcePiano.playing){var e=this.BackgroundMusic[v.Piano].clip;this.audioSourcePiano.clip=e,this.audioSourcePiano.play()}this.audioSourcePiano.volume=l.MusicVolume*l._volumeScalePause}this.pianoCountDown<=0&&this.audioSourcePiano.playing&&this.audioSourcePiano.stop(),this._insertedMusic&&this.audioSourceInsert.currentTime>=this._insertedMusicDuration&&(this._insertedMusic=null,this._insertedMusicDuration=1/0,this.audioSourceInsert.volume=l.MusicVolume*l._volumeScalePause)},r.start=function(){l._volumeScalePause=1},o(e,[{key:"BackgroundMusic",get:function(){return e.bgms}},{key:"audioSource",get:function(){return this._audioSource||(this._audioSource=this.node.getChildByName("player1").getComponent(c)),this._audioSource}},{key:"audioSourceReplay",get:function(){return this._audioSourceReplay||(this._audioSourceReplay=this.node.getChildByName("player2").getComponent(c)),this._audioSourceReplay}},{key:"audioSourcePiano",get:function(){return this._audioSourcePiano||(this._audioSourcePiano=this.node.getChildByName("piano").getComponent(c)),this._audioSourcePiano}},{key:"audioSourceInsert",get:function(){return this._audioSourceInsert||(this._audioSourceInsert=this.node.getChildByName("insert").getComponent(c)),this._audioSourceInsert}}]),e}(P)).bgms=[],I.musicFeatures=[],I.component=void 0,k=e((f=I).prototype,"musicJson",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=e(f.prototype,"lawnJson",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=f))||E));r._RF.pop()}}}));

System.register("chunks:///_virtual/SoundRescourses.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SoundsController.ts","./ArrayGet.ts","./UI.ts"],(function(e){var i,t,l,a,o,n,r,p,u,s,h,c,y,d;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,l=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){o=e.cclegacy,n=e._decorator,r=e.AudioClip,p=e.AudioSource,u=e.game,s=e.Component},function(e){h=e.SoundFXController,c=e.MusicController},function(e){y=e.ArrayGet},function(e){d=e.gamingSpeed}],execute:function(){var b,f,m,w,S,g,v,C,z,P,k,F,A,R,D,W,L,N,O,T,M,E,B,H,U,G,Z,x,I,_,V,X,j,Y,q,J,K,Q,$,ee,ie,te,le,ae,oe,ne,re,pe,ue,se,he,ce,ye,de,be,fe,me,we,Se,ge,ve,Ce,ze,Pe,ke,Fe,Ae,Re,De,We,Le,Ne,Oe,Te,Me,Ee,Be,He,Ue,Ge,Ze,xe,Ie,_e,Ve,Xe,je,Ye,qe,Je,Ke,Qe,$e,ei,ii,ti,li,ai,oi,ni,ri,pi,ui,si,hi,ci,yi,di,bi,fi,mi,wi,Si,gi,vi,Ci,zi,Pi,ki,Fi,Ai,Ri,Di,Wi,Li,Ni,Oi,Ti,Mi,Ei,Bi,Hi,Ui,Gi,Zi,xi,Ii,_i,Vi,Xi,ji,Yi,qi,Ji,Ki,Qi,$i,et,it,tt,lt,at,ot,nt,rt,pt,ut,st,ht,ct,yt,dt,bt,ft,mt,wt,St,gt,vt,Ct,zt,Pt,kt,Ft,At,Rt,Dt,Wt,Lt,Nt,Ot,Tt,Mt,Et,Bt,Ht,Ut,Gt,Zt,xt,It,_t,Vt;o._RF.push({},"904d1auYeNBHZ5TOCP4aBg3","SoundRescourses",void 0);var Xt=n.ccclass,jt=n.property,Yt=function(e,i,t,l,a){void 0===l&&(l=!1),void 0===a&&(a=1),this.clip=void 0,this.speed=1,this.volume=1,this.cooldown=0,this.isMusic=!1,this.clip=e,this.isMusic=l,this.volume=i,this.cooldown=t,this.speed=a},qt=function(e,i,t,l){void 0===l&&(l=1),this.clips=[],this.speed=1,this.volume=1,this.cooldown=0,this.clips=e,this.volume=i,this.cooldown=t,this.speed=l},Jt=e("sounds",function(){function e(){}return e.playLocateSound=function(){this.sr.playLocateSound()},e.playGiftboxOpenSound=function(){this.sr.playGiftboxOpenSound()},e.playSniperPlantCancelSound=function(){this.sr.playSniperPlantCancelSound()},e.playChillWindSound=function(){this.sr.playChillWindSound()},e.playPlantIceblockedSound=function(){this.sr.playPlantIceblockedSound()},e.playLavaIdle=function(){this.sr.playLavaIdle()},e.playLavaFade=function(){this.sr.playLavaFade()},e.playCameraMove=function(){this.sr.playCameraMove()},e.playAwooga=function(){this.sr.playAwooga()},e.playPlantBurn=function(){this.sr.playPlantBurn()},e.playPlantGrow=function(){this.sr.playPlantGrow()},e.playReadySetPlant=function(){this.sr.playReadySetPlant()},e.playHugeWave=function(){this.sr.playHugeWave()},e.playFinalWave=function(){this.sr.playFinalWave()},e.playSeedChooserOn=function(){this.sr.playSeedChooserOn()},e.playSeedChooserOff=function(){this.sr.playSeedChooserOff()},e.playLetsRock=function(){this.sr.playLetsRock()},e.playZombieTooCloseWarn=function(e){this.sr.playZombieTooCloseWarn(e)},e.playButterOn=function(){this.sr.playButterOn()},e.playTombBreak=function(){this.sr.playTombBreak()},e.playTombRiseHeavy=function(){this.sr.playTombRiseHeavy()},e.playEmpSpark=function(e){void 0===e&&(e=1),this.sr.playEmpSpark(e)},e.playZombieGulp=function(){this.sr.playZombieGulp()},e.playPowerToss=function(){this.sr.playPowerToss()},e.playZombieChew=function(e){this.sr.playzombieChew(e)},e.playTileShadowSpawn=function(){this.sr.playTileShadowSpawn()},e.playSeaSplash=function(){this.sr.playSeaSplash()},e.playWaterSplash=function(){this.sr.playWaterSplash()},e.playZombossHPFillStart=function(){this.sr.playZombossHPFillStart()},e.playZombossHPFilling=function(){this.sr.playZombossHPFilling()},e.playPlantFoodStart=function(){this.sr.playPlantFoodStart()},e.playZombieLie=function(){this.sr.playZombieLie()},e.playZombieLimbPop=function(){this.sr.playZombieLimbPop()},e.playCardChooseFailed=function(e){void 0===e&&(e=!1),this.sr.playCardChooseFailed(e)},e.playCardCancel=function(){this.sr.playCardCancel()},e.playCardChosen=function(){this.sr.playCardChosen()},e.playRightButtonCancel=function(){this.sr.playRightButtonCancel()},e.playShovelActive=function(){this.sr.playShovelActive()},e.playSpeedUp=function(){this.sr.playSpeedUp()},e.playPlantOnWater=function(){this.sr.playPlantOnWater()},e.playRhythmHit=function(){this.sr.playRhythmHit()},e.playPlantOnFloor=function(){this.sr.playPlantOnFloor()},e.playBeghouledMatch=function(e){void 0===e&&(e=0),this.sr.playBeghouledMatch(e)},e.playBeghouledMatchFail=function(){this.sr.playBeghouledMatchFail()},e.playBeghouledShovel=function(){this.sr.playBeghouledShovel()},e.playBeghouledRefresh=function(){this.sr.playBeghouledRefresh()},e.playShovelDig=function(){this.sr.playShovelDig()},e.playPlantThrow=function(){this.sr.playPlantThrow()},e.playShovelDigWater=function(){this.sr.playShovelDigWater()},e.playZombieShock=function(e){void 0===e&&(e=!1),this.sr.playZombieShock(e)},e.playGargantuarAsh=function(){this.sr.playGargantuarAsh()},e.playLevelExit=function(){this.sr.playLevelExit()},e.playDirtRise=function(e,i){void 0===e&&(e=!1),void 0===i&&(i=!0),this.sr.playDirtRise(e,i)},e.playTombRiseMagical=function(){this.sr.playTombRiseMagical()},e.playSpudow=function(){this.sr.playSpudow()},e.playPlantStrengthen=function(){this.sr.playPlantStrengthen()},e.playExplosion=function(){this.sr.playExplosion()},e.playArmorHitPlastic=function(){this.sr.playArmorHitPlastic()},e.playArmorHitShield=function(){this.sr.playArmorHitShield()},e.playConveyorArrive=function(){this.sr.playConveyorArrive()},e.playPause=function(){this.sr.playPause()},e.playWorldMapStart=function(){this.sr.playWorldMapStart()},e.playWorldEnterWind=function(){this.sr.playWorldEnterWind()},e.playSandStormWarn=function(){this.sr.playSandStormWarn()},e.playReadyOrSet=function(){this.sr.playReadyOrSet()},e.playPowerUpCD=function(e){this.sr.playPowerUpCD(e)},e.playPowerUpStart=function(e){this.sr.playPowerUpStart(e)},e.playBirdExpl=function(){this.sr.playBirdExpl()},e.playGemSpawn=function(){this.sr.playGemSpawn()},e.playZombieFart=function(){this.sr.playZombieFart()},e.playLevelTaskComplete=function(){this.sr.playLevelTaskComplete()},e.playLevelTaskFail=function(){this.sr.playLevelTaskFail()},e.playLevelTaskWarn=function(){this.sr.playLevelTaskWarn()},e.playMowerSpawn=function(){this.sr.playMowerSpawn()},e.playLevelEnter=function(){this.sr.playLevelEnter()},e.playPlantNodeUnlock=function(){this.sr.playPlantNodeUnlock()},e.playLevelPathPush=function(){this.sr.playLevelPathPush()},e.playPortalStart=function(){this.sr.playPortalStart()},e.playPortalLoop=function(){this.sr.playPortalLoop()},e.playPortalEnd=function(){this.sr.playPortalEnd()},e.playLevelNodeReveal=function(e){this.sr.playLevelNodeReveal(e)},e.playLevelNodeFinish=function(e){this.sr.playLevelNodeFinish(e)},e.playOneShot=function(e,i,t,l,a,o,n){void 0===i&&(i=1),void 0===t&&(t=NaN),void 0===l&&(l=.5),void 0===a&&(a=!1),void 0===o&&(o=!1),void 0===n&&(n=1),e&&this.sr.play(e,i,t,l,a,o,n)},e.playArray=function(e,i,t,l,a,o){void 0===i&&(i=1),void 0===t&&(t=NaN),void 0===l&&(l=.5),void 0===a&&(a=!1),void 0===o&&(o=1),null!=e&&e.length&&this.sr.playArray(e,i,t,l,a,o)},e}());Jt.loadmode=r.AudioType.WEB_AUDIO,Jt.sr=void 0;e("SoundRescourses",(b=Xt("SoundRescourses"),f=jt(r),m=jt([r]),w=jt(r),S=jt(r),g=jt([r]),v=jt([r]),C=jt(r),z=jt(r),P=jt(r),k=jt(r),F=jt(r),A=jt(r),R=jt(r),D=jt(r),W=jt([r]),L=jt([r]),N=jt([r]),O=jt([r]),T=jt(r),M=jt([r]),E=jt([r]),B=jt([r]),H=jt(r),U=jt(r),G=jt([r]),Z=jt(p),x=jt(r),I=jt([r]),_=jt([r]),V=jt(r),X=jt([r]),j=jt([r]),Y=jt([r]),q=jt([r]),J=jt([r]),K=jt(r),Q=jt(r),$=jt(r),ee=jt(r),ie=jt(r),te=jt(r),le=jt(r),ae=jt(r),oe=jt(r),ne=jt(r),re=jt(r),pe=jt(r),ue=jt(r),se=jt([r]),he=jt([r]),ce=jt(r),ye=jt([r]),de=jt([r]),be=jt(r),fe=jt(r),me=jt(r),we=jt([r]),Se=jt(r),ge=jt([r]),ve=jt([r]),Ce=jt([r]),ze=jt([r]),Pe=jt([r]),ke=jt([r]),Fe=jt(r),Ae=jt(r),Re=jt(r),De=jt(r),We=jt(r),Le=jt(r),Ne=jt(r),Oe=jt(r),Te=jt(r),Me=jt(r),Ee=jt([r]),Be=jt(r),He=jt(r),Ue=jt(r),Ge=jt(r),Ze=jt([r]),xe=jt(r),Ie=jt(r),_e=jt(r),Ve=jt(r),Xe=jt(r),je=jt(r),Ye=jt(r),qe=jt(r),Je=jt(r),Ke=jt([r]),Qe=jt([r]),$e=jt([r]),ei=jt([r]),ii=jt([r]),ti=jt([r]),b((oi=i((ai=function(e){function i(){for(var i,t=arguments.length,o=new Array(t),n=0;n<t;n++)o[n]=arguments[n];return i=e.call.apply(e,[this].concat(o))||this,l(i,"plantFoodStart",oi,a(i)),l(i,"zombieLie",ni,a(i)),l(i,"zombieLimbPop",ri,a(i)),l(i,"seaSplash",pi,a(i)),l(i,"waterSplash",ui,a(i)),l(i,"zombossHPFilling",si,a(i)),l(i,"zombossHPFillStart",hi,a(i)),l(i,"cardChooseFailed",ci,a(i)),i.cardChooseFailedCD=0,l(i,"cardChosen",yi,a(i)),l(i,"cardCancel",di,a(i)),l(i,"rightButtonCancel",bi,a(i)),l(i,"shovelActive",fi,a(i)),l(i,"speedUp",mi,a(i)),l(i,"speedLower",wi,a(i)),l(i,"shovelDig",Si,a(i)),l(i,"plantThrow",gi,a(i)),l(i,"shovelDigWater",vi,a(i)),l(i,"plantOnWater",Ci,a(i)),l(i,"rhythmHit",zi,a(i)),l(i,"plantOnFloor",Pi,a(i)),l(i,"beghouledMatch",ki,a(i)),l(i,"beghouledShovel",Fi,a(i)),l(i,"beghouledMatchFail",Ai,a(i)),l(i,"beghouledRefresh",Ri,a(i)),l(i,"tileShadowSpawn",Di,a(i)),l(i,"audioSource0",Wi,a(i)),i.coolingDownSounds=[],i.coolingDownSoundArrays=[],i.tickPlaySounds=[],i.tickPlaySoundArrays=[],l(i,"levelExit",Li,a(i)),l(i,"zombieShock",Ni,a(i)),l(i,"gargantuarShock",Oi,a(i)),l(i,"gargantuarAsh",Ti,a(i)),l(i,"dirtRise",Mi,a(i)),l(i,"dirtRiseHeavy",Ei,a(i)),i.dirtRiseCooldown=0,l(i,"tombRiseMagical",Bi,a(i)),l(i,"spudow",Hi,a(i)),l(i,"explosion",Ui,a(i)),l(i,"plantStrengthen",Gi,a(i)),l(i,"cameraMove",Zi,a(i)),l(i,"plantBurn",xi,a(i)),l(i,"plantGrow0",Ii,a(i)),l(i,"plantGrow1",_i,a(i)),l(i,"awooga",Vi,a(i)),l(i,"hugeWave",Xi,a(i)),l(i,"finalWave",ji,a(i)),l(i,"readySetPlant",Yi,a(i)),l(i,"seedChooserOn",qi,a(i)),l(i,"seedChooserOff",Ji,a(i)),l(i,"letsRock",Ki,a(i)),l(i,"zombieTooCloseWarn",Qi,a(i)),l(i,"butterOn",$i,a(i)),l(i,"tombBreak",et,a(i)),l(i,"tombRiseHeavy",it,a(i)),l(i,"lavaIdle",tt,a(i)),l(i,"lavaFade",lt,a(i)),l(i,"giftboxOpenSound",at,a(i)),l(i,"locateSound",ot,a(i)),l(i,"sniperPlantCancelSound",nt,a(i)),l(i,"plantIceBlocked",rt,a(i)),l(i,"chillWind",pt,a(i)),i.audioSource=void 0,l(i,"zombieChew",ut,a(i)),i.zombieChewCoolDown=0,l(i,"empSpark",st,a(i)),i.empSparkCoolDown=0,l(i,"zombieGulp",ht,a(i)),l(i,"powerToss",ct,a(i)),l(i,"armorHitPlastic",yt,a(i)),l(i,"armorHitShield",dt,a(i)),l(i,"conveyorArrive",bt,a(i)),l(i,"pause",ft,a(i)),l(i,"worldMapStart",mt,a(i)),l(i,"worldMapEnterWind",wt,a(i)),l(i,"sandStormWarn",St,a(i)),l(i,"readyOrSet",gt,a(i)),l(i,"portalStart",vt,a(i)),l(i,"portalLoop",Ct,a(i)),l(i,"portalEnd",zt,a(i)),l(i,"powerUpEnd",Pt,a(i)),l(i,"powerUpCD",kt,a(i)),l(i,"powerUpSnowStart",Ft,a(i)),l(i,"powerUpCherryStart",At,a(i)),l(i,"powerUpWizardStart",Rt,a(i)),l(i,"powerUpFlameStart",Dt,a(i)),l(i,"birdExpl",Wt,a(i)),l(i,"gemSpawn",Lt,a(i)),l(i,"zombieFart",Nt,a(i)),l(i,"levelTaskComplete",Ot,a(i)),l(i,"levelTaskFail",Tt,a(i)),l(i,"levelTaskWarn",Mt,a(i)),l(i,"mowerSpawn",Et,a(i)),l(i,"levelEnter",Bt,a(i)),l(i,"plantNodeUnlock",Ht,a(i)),l(i,"levelPathPush",Ut,a(i)),l(i,"levelNodeReveal",Gt,a(i)),l(i,"levelNodeGargReveal",Zt,a(i)),l(i,"levelNodeZombossReveal",xt,a(i)),l(i,"levelNodeFinish",It,a(i)),l(i,"levelNodeGargFinish",_t,a(i)),l(i,"levelNodeZombossFinish",Vt,a(i)),i}t(i,e);var o=i.prototype;return o.playPlantFoodStart=function(){Jt.playOneShot(this.plantFoodStart,1,.2)},o.playZombieLie=function(){this.play(y.getRandom(this.zombieLie),1,.2)},o.playZombieLimbPop=function(){this.play(this.zombieLimbPop)},o.playSeaSplash=function(){this.play(this.seaSplash,1,.1)},o.playWaterSplash=function(){this.playArray(this.waterSplash,1,.1)},o.playZombossHPFilling=function(){this.playArray(this.zombossHPFilling,1,.1)},o.playZombossHPFillStart=function(){this.play(this.zombossHPFillStart,1,.1)},o.playCardChooseFailed=function(e){void 0===e&&(e=!1),(!e||this.cardChooseFailedCD<=0)&&(this.play(this.cardChooseFailed,1,0),this.cardChooseFailedCD=.5)},o.playCardChosen=function(){this.play(this.cardChosen,1,.02)},o.playCardCancel=function(){this.play(this.cardCancel,1,0)},o.playRightButtonCancel=function(){this.play(this.rightButtonCancel,1,0)},o.playShovelActive=function(){this.play(this.shovelActive,1,.01)},o.playSpeedUp=function(){1==d?this.play(this.speedLower,1,0):this.play(this.speedUp,1,0)},o.playShovelDig=function(){this.playArray(this.shovelDig,1,.1)},o.playPlantThrow=function(){this.playArray(this.plantThrow,1,.1)},o.playShovelDigWater=function(){this.playArray(this.shovelDigWater,1,.1)},o.playPlantOnWater=function(){this.playArray(this.plantOnWater,1,.1)},o.playRhythmHit=function(){this.playOneShot(this.rhythmHit,.4,h.SoundFXVolume,r.AudioType.WEB_AUDIO)},o.playPlantOnFloor=function(){this.playArray(this.plantOnFloor,1,.1)},o.playBeghouledMatch=function(e){void 0===e&&(e=0),this.play(this.beghouledMatch[Math.min(e,this.beghouledMatch.length-1)],1,.1)},o.playBeghouledShovel=function(){this.playArray(this.beghouledShovel,1,.1)},o.playBeghouledMatchFail=function(){this.play(this.beghouledMatchFail,1,.1)},o.playBeghouledRefresh=function(){this.play(this.beghouledRefresh,1,.1)},o.playTileShadowSpawn=function(){this.playArray(this.tileShadowSpawn,1,NaN,.5)},o.update=function(e){var i=u.deltaTime;this.empSparkCoolDown>0&&(this.empSparkCoolDown-=i),this.empSparkCoolDown<0&&(this.empSparkCoolDown=0),this.cardChooseFailedCD>0&&(this.cardChooseFailedCD-=i),this.cardChooseFailedCD<0&&(this.cardChooseFailedCD=0),this.dirtRiseCooldown>0&&(this.dirtRiseCooldown-=i),this.dirtRiseCooldown<0&&(this.dirtRiseCooldown=0),this.zombieChewCoolDown>0&&(this.zombieChewCoolDown-=i),this.zombieChewCoolDown<0&&(this.zombieChewCoolDown=0)},o.playOneShot=function(e,i,t,l,a){var o;if(void 0===t&&(t=h.SoundFXVolume),void 0===l&&(l=NaN),void 0===a&&(a=1),this.audioSource.volume=1,i>1)i=1;else if(i<=0)return;e&&(isNaN(l)?e.loadMode=Jt.loadmode:e.loadMode=l,null==(o=this.audioSource)||o.playOneShot(e,t*i,a))},o.lateUpdate=function(e){var i=this,t=u.deltaTime;this.tickPlaySounds.forEach((function(e){e&&i.playOneShot(e.clip,e.volume,e.isMusic?c.MusicVolume:h.SoundFXVolume,NaN,e.speed)})),this.tickPlaySounds=[],this.coolingDownSounds.concat().forEach((function(e){if(e.cooldown>0&&(e.cooldown-=t*e.speed),e.cooldown<=0){var l=i.coolingDownSounds.indexOf(e);-1!=l&&i.coolingDownSounds.splice(l,1)}})),this.tickPlaySoundArrays.forEach((function(e){e&&i.playOneShot(y.getRandom(e.clips),e.volume,h.SoundFXVolume,NaN,e.speed)})),this.tickPlaySoundArrays=[],this.coolingDownSoundArrays.concat().forEach((function(e){if(e.cooldown>0&&(e.cooldown-=t*e.speed),e.cooldown<=0){var l=i.coolingDownSoundArrays.indexOf(e);-1!=l&&i.coolingDownSoundArrays.splice(l,1)}}))},o.playLevelExit=function(){Jt.playOneShot(this.levelExit)},o.playZombieShock=function(e){void 0===e&&(e=!1),this.playArray(e?this.gargantuarShock:this.zombieShock,1,.1)},o.playGargantuarAsh=function(){this.play(this.gargantuarAsh,1,.1)},o.playDirtRise=function(e,i){void 0===i&&(i=!0),(this.dirtRiseCooldown<=0||!i)&&(this.playArray(e?this.dirtRiseHeavy:this.dirtRise),this.dirtRiseCooldown=1)},o.playTombRiseMagical=function(){this.playArray(this.tombRiseMagical,1,.1)},o.playSpudow=function(){this.playArray(this.spudow,1,.1)},o.playExplosion=function(){this.playArray(this.explosion,1,.1)},o.playPlantStrengthen=function(){this.play(this.plantStrengthen,2,.1)},o.playCameraMove=function(){this.play(this.cameraMove,1,.1)},o.playPlantBurn=function(){this.play(this.plantBurn)},o.playPlantGrow=function(){this.play(this.plantGrow0,1,.2),this.play(this.plantGrow1,1,.2)},o.playAwooga=function(){this.play(this.awooga,1,0)},o.playHugeWave=function(){this.play(this.hugeWave,1,0)},o.playFinalWave=function(){this.play(this.finalWave,1,0)},o.playReadySetPlant=function(){this.play(this.readySetPlant,1,0)},o.playSeedChooserOn=function(){this.play(this.seedChooserOn,1,0)},o.playSeedChooserOff=function(){this.play(this.seedChooserOff,1,0)},o.playLetsRock=function(){this.play(this.letsRock,1,0)},o.playZombieTooCloseWarn=function(e){this.play(this.zombieTooCloseWarn,1,.1)},o.playButterOn=function(){this.play(y.getRandom(this.butterOn))},o.playTombBreak=function(){this.play(y.getRandom(this.tombBreak))},o.playTombRiseHeavy=function(){this.play(this.tombRiseHeavy,1,.1)},o.playLavaIdle=function(){this.playArray(this.lavaIdle,1,5*Math.random()+2.5)},o.playLavaFade=function(){this.playArray(this.lavaFade,1,.5)},o.playGiftboxOpenSound=function(){this.play(this.giftboxOpenSound,1,.1)},o.playLocateSound=function(){this.play(this.locateSound,1,.1)},o.playSniperPlantCancelSound=function(){this.play(this.sniperPlantCancelSound,1,.1)},o.playPlantIceblockedSound=function(){this.playArray(this.plantIceBlocked,1,.1)},o.playChillWindSound=function(){this.play(this.chillWind,1,.1)},o.onLoad=function(){Jt.sr=this,this.getComponent(p)||this.addComponent(p),this.audioSource=this.getComponent(p)},o.playzombieChew=function(e){if(void 0===e&&(e=[]),0==this.zombieChewCoolDown){var i=y.getRandom(e);i||(i=y.getRandom(this.zombieChew)),this.play(i,1,0),this.zombieChewCoolDown=.5}},o.playEmpSpark=function(e){if(void 0===e&&(e=1),0==this.empSparkCoolDown){var i=y.getRandom(this.empSpark);this.play(i,e,.1),this.empSparkCoolDown=.4*Math.random()}},o.playZombieGulp=function(){this.playArray(this.zombieGulp)},o.playPowerToss=function(){this.playArray(this.powerToss,1,NaN,.2)},o.playArmorHitPlastic=function(){this.playArray(this.armorHitPlastic,1,NaN,1)},o.playArmorHitShield=function(){this.playArray(this.armorHitShield,1)},o.playConveyorArrive=function(){this.play(this.conveyorArrive,1,.1)},o.playPause=function(){this.play(this.pause,1,.1)},o.playWorldMapStart=function(){this.play(this.worldMapStart,1,.1)},o.playWorldEnterWind=function(){this.play(this.worldMapEnterWind,1,.1)},o.playSandStormWarn=function(){this.play(this.sandStormWarn,1,.1)},o.playReadyOrSet=function(){this.play(this.readyOrSet,1,.1)},o.playPortalStart=function(){this.play(this.portalStart,1,.2)},o.playPortalLoop=function(){this.play(this.portalLoop,1,NaN,.8)},o.playPortalEnd=function(){this.play(this.portalEnd,1,.2)},o.playPowerUpCD=function(e){if(e<=0)this.play(this.powerUpEnd,1,.1);else if(this.powerUpCD.length>0){var i=Math.ceil(e*(this.powerUpCD.length-1));this.play(this.powerUpCD[this.powerUpCD.length-1-i])}},o.playPowerUpStart=function(e){switch(e){case 0:this.play(this.powerUpFlameStart,1,.1);break;case 1:this.play(this.powerUpSnowStart,1,.1);break;case 3:this.play(this.powerUpWizardStart,1,.1);break;case 4:this.play(this.powerUpCherryStart,1,.1)}},o.playBirdExpl=function(){this.playArray(this.birdExpl)},o.playGemSpawn=function(){this.play(this.gemSpawn,1,.1)},o.playZombieFart=function(){this.play(this.zombieFart,1,.1)},o.playLevelTaskComplete=function(){this.play(this.levelTaskComplete,1,.02)},o.playLevelTaskFail=function(){this.play(this.levelTaskFail,1,.02)},o.playLevelTaskWarn=function(){this.play(this.levelTaskWarn,1,.5)},o.playMowerSpawn=function(){this.play(this.mowerSpawn,1,.02)},o.playLevelEnter=function(){this.play(this.levelEnter,1,.02)},o.playPlantNodeUnlock=function(){this.play(this.plantNodeUnlock,1,.02)},o.playLevelPathPush=function(){this.play(this.levelPathPush,1,.4)},o.playLevelNodeReveal=function(e){var i=this.levelNodeReveal;switch(e){case 2:i=this.levelNodeGargReveal;break;case 3:i=this.levelNodeZombossReveal}this.playArray(i,1,.1)},o.playLevelNodeFinish=function(e){var i=this.levelNodeFinish;switch(e){case 2:i=this.levelNodeGargFinish;break;case 3:i=this.levelNodeZombossFinish}this.playArray(i,1,.1)},o.play=function(e,i,t,l,a,o,n){if(void 0===i&&(i=1),void 0===t&&(t=NaN),void 0===l&&(l=.5),void 0===a&&(a=!1),void 0===o&&(o=!1),void 0===n&&(n=1),e&&isNaN(t)&&(t=e.getDuration()*l),e){for(var r=0;r<this.coolingDownSounds.length;r++)if(this.coolingDownSounds[r].speed==n&&this.coolingDownSounds[r].clip==e)return;for(var p=0;p<this.tickPlaySounds.length;p++)if(this.tickPlaySounds[p].clip==e)return void(o||(this.tickPlaySounds[p].volume=Math.min(1,this.tickPlaySounds[p].volume+i)));t<0&&(t=0);var u=new Yt(e,i,t,a,n);this.tickPlaySounds.push(u),t>0&&this.coolingDownSounds.push(u)}},o.playArray=function(e,i,t,l,a,o){if(void 0===i&&(i=1),void 0===t&&(t=NaN),void 0===l&&(l=.5),void 0===a&&(a=!1),void 0===o&&(o=1),null!=e&&e.length&&isNaN(t)&&(t=e[0].getDuration()*l),null!=e&&e.length){for(var n=0;n<this.coolingDownSoundArrays.length;n++)if(this.coolingDownSoundArrays[n].speed==o&&y.judgeSame(this.coolingDownSoundArrays[n].clips,e))return;for(var r=0;r<this.tickPlaySoundArrays.length;r++)if(y.judgeSame(this.tickPlaySoundArrays[r].clips,e))return void(this.tickPlaySoundArrays[r].volume=Math.min(1,this.tickPlaySoundArrays[r].volume+(a?0:i)));t<=0&&(t=0);var p=new qt(e,i,t,o);this.tickPlaySoundArrays.push(p),t>0&&this.coolingDownSoundArrays.push(p)}},i}(s)).prototype,"plantFoodStart",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ni=i(ai.prototype,"zombieLie",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ri=i(ai.prototype,"zombieLimbPop",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pi=i(ai.prototype,"seaSplash",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ui=i(ai.prototype,"waterSplash",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),si=i(ai.prototype,"zombossHPFilling",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),hi=i(ai.prototype,"zombossHPFillStart",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ci=i(ai.prototype,"cardChooseFailed",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),yi=i(ai.prototype,"cardChosen",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),di=i(ai.prototype,"cardCancel",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),bi=i(ai.prototype,"rightButtonCancel",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),fi=i(ai.prototype,"shovelActive",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),mi=i(ai.prototype,"speedUp",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),wi=i(ai.prototype,"speedLower",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Si=i(ai.prototype,"shovelDig",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),gi=i(ai.prototype,"plantThrow",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),vi=i(ai.prototype,"shovelDigWater",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ci=i(ai.prototype,"plantOnWater",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),zi=i(ai.prototype,"rhythmHit",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pi=i(ai.prototype,"plantOnFloor",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ki=i(ai.prototype,"beghouledMatch",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Fi=i(ai.prototype,"beghouledShovel",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ai=i(ai.prototype,"beghouledMatchFail",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ri=i(ai.prototype,"beghouledRefresh",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Di=i(ai.prototype,"tileShadowSpawn",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Wi=i(ai.prototype,"audioSource0",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Li=i(ai.prototype,"levelExit",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ni=i(ai.prototype,"zombieShock",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Oi=i(ai.prototype,"gargantuarShock",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ti=i(ai.prototype,"gargantuarAsh",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Mi=i(ai.prototype,"dirtRise",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ei=i(ai.prototype,"dirtRiseHeavy",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Bi=i(ai.prototype,"tombRiseMagical",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Hi=i(ai.prototype,"spudow",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ui=i(ai.prototype,"explosion",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Gi=i(ai.prototype,"plantStrengthen",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Zi=i(ai.prototype,"cameraMove",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),xi=i(ai.prototype,"plantBurn",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ii=i(ai.prototype,"plantGrow0",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_i=i(ai.prototype,"plantGrow1",[ie],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Vi=i(ai.prototype,"awooga",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Xi=i(ai.prototype,"hugeWave",[le],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ji=i(ai.prototype,"finalWave",[ae],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Yi=i(ai.prototype,"readySetPlant",[oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),qi=i(ai.prototype,"seedChooserOn",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ji=i(ai.prototype,"seedChooserOff",[re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ki=i(ai.prototype,"letsRock",[pe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Qi=i(ai.prototype,"zombieTooCloseWarn",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$i=i(ai.prototype,"butterOn",[se],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),et=i(ai.prototype,"tombBreak",[he],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),it=i(ai.prototype,"tombRiseHeavy",[ce],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),tt=i(ai.prototype,"lavaIdle",[ye],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),lt=i(ai.prototype,"lavaFade",[de],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),at=i(ai.prototype,"giftboxOpenSound",[be],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ot=i(ai.prototype,"locateSound",[fe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),nt=i(ai.prototype,"sniperPlantCancelSound",[me],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),rt=i(ai.prototype,"plantIceBlocked",[we],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),pt=i(ai.prototype,"chillWind",[Se],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ut=i(ai.prototype,"zombieChew",[ge],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),st=i(ai.prototype,"empSpark",[ve],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ht=i(ai.prototype,"zombieGulp",[Ce],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ct=i(ai.prototype,"powerToss",[ze],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),yt=i(ai.prototype,"armorHitPlastic",[Pe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),dt=i(ai.prototype,"armorHitShield",[ke],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),bt=i(ai.prototype,"conveyorArrive",[Fe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ft=i(ai.prototype,"pause",[Ae],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),mt=i(ai.prototype,"worldMapStart",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),wt=i(ai.prototype,"worldMapEnterWind",[De],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),St=i(ai.prototype,"sandStormWarn",[We],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),gt=i(ai.prototype,"readyOrSet",[Le],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),vt=i(ai.prototype,"portalStart",[Ne],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ct=i(ai.prototype,"portalLoop",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),zt=i(ai.prototype,"portalEnd",[Te],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pt=i(ai.prototype,"powerUpEnd",[Me],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),kt=i(ai.prototype,"powerUpCD",[Ee],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ft=i(ai.prototype,"powerUpSnowStart",[Be],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),At=i(ai.prototype,"powerUpCherryStart",[He],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Rt=i(ai.prototype,"powerUpWizardStart",[Ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Dt=i(ai.prototype,"powerUpFlameStart",[Ge],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Wt=i(ai.prototype,"birdExpl",[Ze],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Lt=i(ai.prototype,"gemSpawn",[xe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Nt=i(ai.prototype,"zombieFart",[Ie],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ot=i(ai.prototype,"levelTaskComplete",[_e],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Tt=i(ai.prototype,"levelTaskFail",[Ve],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Mt=i(ai.prototype,"levelTaskWarn",[Xe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Et=i(ai.prototype,"mowerSpawn",[je],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Bt=i(ai.prototype,"levelEnter",[Ye],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ht=i(ai.prototype,"plantNodeUnlock",[qe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ut=i(ai.prototype,"levelPathPush",[Je],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Gt=i(ai.prototype,"levelNodeReveal",[Ke],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Zt=i(ai.prototype,"levelNodeGargReveal",[Qe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),xt=i(ai.prototype,"levelNodeZombossReveal",[$e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),It=i(ai.prototype,"levelNodeFinish",[ei],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_t=i(ai.prototype,"levelNodeGargFinish",[ii],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Vt=i(ai.prototype,"levelNodeZombossFinish",[ti],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),li=ai))||li));o._RF.pop()}}}));

System.register("chunks:///_virtual/SoundsController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SoundManager.ts","./SettingWindow.ts","./ArrayGet.ts"],(function(t){var n,e,i,o,s,u,a,r;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,i=t._decorator,o=t.find},function(t){s=t.MusicEnum,u=t.SoundManager},function(t){a=t.Setting},function(t){r=t.ValueRange}],execute:function(){e._RF.push({},"48b91/HEXVLkrHSK09gtryZ","SoundsController",void 0);i.ccclass,i.property;var c=function(){function t(){}return t.Instance=function(){return t.instance||(t.instance=new t),t.instance},t}();c.instance=void 0,c.totalVolume=1,t("SoundFXController",function(t){function e(){return t.apply(this,arguments)||this}return n(e,t),e.setSoundFxVolume=function(t){this.SoundFXVolume=t*this.totalVolume,a.saveSettings()},e}(c)).SoundFXVolume=1;var l=t("MusicController",function(t){function e(){return t.apply(this,arguments)||this}return n(e,t),e.soundManager=function(){return u.component?u.component:o("Resources/Music").getComponent(u)},e.insertMusic=function(t){this.soundManager().insertMusic(t)},e.playMusic=function(t,n,e){void 0===n&&(n=!1),void 0===e&&(e=1/0),this.soundManager().playBGM(t,n,e)},e.switchMusic=function(t,n){this.soundManager().switchMusic(t,n,!1,!1,!0,this.soundManager().isJam)},e.switchWorldMusic=function(t,n){void 0===n&&(n=!1);var e=this.soundManager();if(e){var i=e.nextSortToPlay,o=e.nextToPlay,s=e.leftRepeat;e.switchWorldMusic(t,!0,n),e.leftRepeat=s,e.nextSortToPlay=i,e.nextToPlay=o}},e.switchMusicSort=function(t,n,e,i,o){void 0===n&&(n=!1),void 0===e&&(e=!1),void 0===i&&(i=!0),void 0===o&&(o=!1),isNaN(t)||(o&&(this.soundManager().isJam=!1),this.soundManager().switchMusicSort(t,n,e,i))},e.pauseMusic=function(){this.soundManager().pauseBGM()},e.resumeMusic=function(){this.soundManager().resumeBGM()},e.setMusicVolume=function(t){this.MusicVolume=t*this.totalVolume,a.saveSettings()},e}(c));l.MusicSpeedRange=new r(1,1),l.discoPlayed=!1,l.PunkList=[s.Punk_LP,s.Punk_Start],l.PopList=[s.Pop_LP0,s.Pop_LP1,s.Pop_LP2,s.Pop_LP3],l.RapList=[s.Rap_LP0,s.Rap_LP1,s.Rap_LP2,s.Rap_LP3],l.EightBitList=[s.EightBit_LP],l.BalladList=[s.Ballad_LP,s.Ballad_Start],l.MetalList=[s.Metal_Start0,s.Metal_Start1,s.Metal_LP0,s.Metal_LP1,s.Metal_LP2,s.Metal_LP3,s.Metal_LP4,s.Metal_LP5],l.MusicVolume=1,l._volumeScalePause=1,e._RF.pop()}}}));

System.register("chunks:///_virtual/speakerWave.ts",["./rollupPluginModLoBabelHelpers.js","cc","./commonShot.ts","./Zombies.ts"],(function(e){var o,t,n,i,c,r;return{setters:[function(e){o=e.inheritsLoose},function(e){t=e.cclegacy,n=e._decorator,i=e.Vec2},function(e){c=e.commonShot},function(e){r=e.zombies}],execute:function(){var s;t._RF.push({},"f9d97wkXzpEsoDvihcvVOPb","speakerWave",void 0);var a=n.ccclass;n.property,e("speakerWave",a("speakerWave")(s=function(e){function t(){return e.apply(this,arguments)||this}return o(t,e),t.prototype.detectEnemy=function(e){var o=this,t=this.bodyRec(),n=!1;this.inLane.plantPool().filter((function(e){return t.judgeCrossRec(e.bodyRec)})).forEach((function(e){n=!0,e.objdataOwn.ImmuneToSpeakerWave?(e.kill(),o.fade()):e.throwAway(o.linearVelocity.x<0)})),this.inLane.zombiePool().concat(this.inLane.hypnoZombiePool()).filter((function(e){return-1==r.zombossList().indexOf(e.ID)&&t.judgeCrossRec(e.bodyRec)})).forEach((function(e){n=!0,e.tossAway(1.5,new i(o.linearVelocity.x,Math.abs(o.linearVelocity.x)))})),n&&(this.playParticle(),this.playPopSound())},t}(c))||s);t._RF.pop()}}}));

System.register("chunks:///_virtual/Spikerock.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Spikeweed.ts","./CharacterManager.ts"],(function(e){var i,t,s,n,a,l;return{setters:[function(e){i=e.inheritsLoose},function(e){t=e.cclegacy,s=e._decorator},function(e){n=e.SpikeweedPlant,a=e.SpikeweedProps},function(e){l=e.spikeweed}],execute:function(){var p;t._RF.push({},"41857lcip1ILqlkdZGd44Ij","Spikerock",void 0);var o=s.ccclass,r=(s.property,function(e){function t(){for(var i,t=arguments.length,s=new Array(t),n=0;n<t;n++)s[n]=arguments[n];return(i=e.call.apply(e,[this].concat(s))||this).MaxSpike=3,i}return i(t,e),t}(a));e("SpikerockPlant",o("SpikerockPlant")(p=function(e){function t(){for(var i,t=arguments.length,s=new Array(t),n=0;n<t;n++)s[n]=arguments[n];return(i=e.call.apply(e,[this].concat(s))||this).spikeLeft=3,i._objdataOwn=new r,i.spikeL=void 0,i.spikeM=void 0,i.spikeR=void 0,i}i(t,e);var s=t.prototype;return s.specialSpikeWeedOnLoad=function(){var e=this.anmControl.db.armature();this.spikeL=e.getSlot("spikeL"),this.spikeM=e.getSlot("spikeM"),this.spikeR=e.getSlot("spikeR")},s.normalSmash=function(e){var i=this.damage;this._dmgScale&&(i*=this._dmgScale),l.stabOnZombie(null,e,i),this.fooding||this.invincible||this.setSpikeSlot(this.spikeLeft-1)},s.specialSpikeweedOnEnable=function(){this.setSpikeSlot()},s.specialSpikeweedFood=function(){this.setSpikeSlot()},s.replantable=function(){return this.spikeLeft<this._objdataOwn.MaxSpike},s.replant=function(){this.setSpikeSlot(this._objdataOwn.MaxSpike)},s.setSpikeSlot=function(e){switch(void 0===e&&(e=this._objdataOwn.MaxSpike),e=Math.ceil(e)){case 2:var i,t,s;null==(i=this.spikeL)||i._setDisplayIndex(0),null==(t=this.spikeM)||t._setDisplayIndex(0),null==(s=this.spikeR)||s._setDisplayIndex(-1),this.spikeLeft=2;break;case 1:var n,a,l;null==(n=this.spikeL)||n._setDisplayIndex(0),null==(a=this.spikeM)||a._setDisplayIndex(-1),null==(l=this.spikeR)||l._setDisplayIndex(-1),this.spikeLeft=1;break;case 0:var p,o,r;null==(p=this.spikeL)||p._setDisplayIndex(-1),null==(o=this.spikeM)||o._setDisplayIndex(-1),null==(r=this.spikeR)||r._setDisplayIndex(-1),this.spikeLeft=0,this.die();break;default:var k,c,h;null==(k=this.spikeL)||k._setDisplayIndex(0),null==(c=this.spikeM)||c._setDisplayIndex(0),null==(h=this.spikeR)||h._setDisplayIndex(0)}var d;this.dead||(null==(d=this.plantInLnC)||d.readIndex())},t}(n))||p);t._RF.pop()}}}));

System.register("chunks:///_virtual/Spikeweed.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./CharacterManager.ts","./LnC.ts","./Square.ts","./NodePools.ts","./SoundRescourses.ts"],(function(t){var e,n,i,o,a,s,r,c,l,d,u,p,f,h,S,m,g,k,b,P,y;return{setters:[function(t){e=t.inheritsLoose,n=t.applyDecoratedDescriptor,i=t.initializerDefineProperty,o=t.assertThisInitialized,a=t.createClass},function(t){s=t.cclegacy,r=t._decorator,c=t.AudioClip,l=t.Prefab,d=t.Vec2,u=t.Vec3,p=t.dragonBones},function(t){f=t.PlantProps,h=t.Plant},function(t){S=t.Rectangle,m=t.spikeweed,g=t.ZombieDamageDetails},function(t){k=t.TileType},function(t){b=t.Square},function(t){P=t.NodePools},function(t){y=t.sounds}],execute:function(){var w,D,C,v,O,A,L,_,E,R,j,F,Z,z,x,I;s._RF.push({},"4a5dc2VkfZMjLpTKsKE4QSn","Spikeweed",void 0);var T=r.ccclass,W=r.property,q=t("SpikeweedProps",function(t){function n(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))||this).Damage=10,e.AttackInterval=.5,e.PlantfoodDuration=5,e.PlantfoodDPS=400,e.PlantfoodSideDPS=20,e.PlantfoodDragSPS=3,e}return e(n,t),n}(f)),M=t("spikeweedSound",(w=T("spikeweedSound"),D=W([c]),C=W([c]),v=W([c]),w((L=n((A=function(){function t(){i(this,"attackSound",L,this),i(this,"foodSound",_,this),i(this,"foodEndSound",E,this)}var e=t.prototype;return e.playAttack=function(){y.playArray(this.attackSound,1,.2)},e.playFood=function(){y.playArray(this.foodSound,1,.1)},e.playFoodEnd=function(){y.playArray(this.foodEndSound,1,.1)},t}()).prototype,"attackSound",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=n(A.prototype,"foodSound",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),E=n(A.prototype,"foodEndSound",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=A))||O));t("SpikeweedPlant",(R=T("SpikeweedPlant"),j=W(l),F=W(M),R((x=n((z=function(t){function n(){for(var e,n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))||this)._objdataOwn=new q,i(e,"pfSpikeParticle",x,o(e)),e.detector=S.createRectangleCenter(new d(2,2),2,2),i(e,"soundRes",I,o(e)),e.foodSpikes=[],e.playsIdleWhenFoodEnd=!0,e.attacking=!1,e.attackCD=0,e}e(n,t);var s=n.prototype;return s.specialPlantOnLoad=function(){this.specialSpikeWeedOnLoad()},s.specialSpikeWeedOnLoad=function(){},s.animationListener=function(t){var e=this;"attack"==t.name&&(this.inLane.zombiePool().forEach((function(t){if(!t.flying&&t.bodyRec.judgeCrossRec(e.detector)){var n=e.damage;e._dmgScale&&(n*=e._dmgScale),e.damageOnZombie(t,n)}})),this.attacking=!1),this.specialSpikeWeedAnimationListener(t)},s.specialSpikeWeedAnimationListener=function(t){},s.setDetector=function(t){this.detector=S.createRectangleNodeCenter(t.node,b.SquareWidth,b.SquareHeight)},s.specialPlantOnSquareChange=function(t,e){this.setDetector(e)},s.specialSpikeweedFood=function(){},s.specialPlantFood=function(t){this.foodSpikes=[],this.anmControl.playAnimation("Food",1/0),this.scheduleOnce(this.foodEnd,this._objdataOwn.PlantfoodDuration),this.soundRes.playFood();for(var e=0;e<=8;e++){var n=b.getLnC(this.inLnC.lIndex,e);if(n&&n!=this.inLnC&&(n.getTileType()==k.deck||n.getTileType()==k.solid)){var i=P.instantiatePooly(this.pfSpikeParticle);i.parent=n.inLane.prjLayer,i.worldPosition=new u(n.plantPoint.worldPosition.x,n.inLane.floorY-5,10),i.getComponent(p.ArmatureDisplay).playAnimation("Idle"),this.foodSpikes.push(i.getComponent(p.ArmatureDisplay))}}this.specialSpikeweedFood()},s.specialPlantFoodEnd=function(){this.foodSpikes.forEach((function(t){t.playAnimation("Die")})),this.foodSpikes=[],this.playsIdleWhenFoodEnd&&this.anmControl.playIdle(),this.soundRes.playFoodEnd()},s.attackAnimation=function(){this.attacking=!0,this.soundRes.playAttack(),this.anmControl.playAnimation("Attack",1,0,Math.max(1,.5/this.attackCD))},s.specialPlantOnEaten=function(t,e,n,i){m.stabOnZombie(this,e,.05*t)},s.detectZombie=function(){var t=this,e=!1;return this.inLane.zombiePool().forEach((function(n){e||!n.flying&&t.detector.judgeCrossRec(n.bodyRec)&&(e=!0)})),e},s.specialPlantUpdate=function(t,e,n){if(this.attackCD>0&&(this.attackCD-=t),this.attackCD<=0&&(this.attackCD=0,!this.fooding&&this.detectZombie())){var i=this._objdataOwn.AttackInterval;this._cdScale&&(i*=this._cdScale),i=Math.max(.1,i),this.attackCD=i,this.attackAnimation()}this.fooding&&this.pullZombies(t)},s.pullZombies=function(t){var e=this,n=this._objdataOwn.PlantfoodSideDPS*t,i=this._objdataOwn.PlantfoodDPS*t;this._dmgScale&&(i*=this._dmgScale,n*=this._dmgScale);var o=new g(n);this.inLane.zombiePool().forEach((function(o){if(!o.flying)if(o.setStun(.2),e.damageOnZombie(o,n),o.bodyRec.judgeCrossRec(e.detector))e.damageOnZombie(o,i);else if(o.knockBackable){var a=e._objdataOwn.PlantfoodDragSPS*t*b.SquareWidth;o.node.worldPosition.x>e.node.worldPosition.x?o.worldPositionX-=a:o.node.worldPosition.x<=e.node.worldPosition.x&&(o.worldPositionX+=a)}})),this.inLane.tombPool().forEach((function(t){t.dealDamage(o)}))},s.specialSpikeweedOnEnable=function(){},s.specialPlantOnEnable=function(){this.attackCD=0,this.eaterDetectable=!1,this.attacking=!1,this.foodSpikes=[],this.specialSpikeweedOnEnable()},s.waterable=function(){return!this.attacking},s.normalSmash=function(t){var e=this.damage;this._dmgScale&&(e*=this._dmgScale),m.stabOnZombie(null,t,e),this.fooding||this.invincible||this.die()},s.damageOnZombie=function(t,e){m.stabOnZombie(this,t,e)},a(n,[{key:"damage",get:function(){return this._objdataOwn.Damage}}]),n}(h)).prototype,"pfSpikeParticle",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=n(z.prototype,"soundRes",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new M}}),Z=z))||Z));s._RF.pop()}}}));

System.register("chunks:///_virtual/splashScene.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SettingWindow.ts","./MultiLanguage.ts","./ArrayGet.ts","./SoundManager.ts","./KeyListener.ts","./LoaderFlower.ts"],(function(e){var r,t,n,s,o,i,a,u,c,l,p,f,d,g,h,P,b,m,w,y,S,v,L,x,M,R,_;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,s=e.assertThisInitialized,o=e.asyncToGenerator,i=e.regeneratorRuntime},function(e){a=e.cclegacy,u=e._decorator,c=e.JsonAsset,l=e.AudioClip,p=e.ProgressBar,f=e.Label,d=e.Node,g=e.Color,h=e.AudioSource,P=e.tween,b=e.Sprite,m=e.Component,w=e.resources,y=e.Prefab},function(e){S=e.Setting,v=e.SettingWindow},function(e){L=e.MultiLanguage},function(e){x=e.ArrayGet},function(e){M=e.SoundManager},function(e){R=e.KeyListener},function(e){_=e.LoaderFlower}],execute:function(){var k,C,F,D,N,z,B,G,A,T,Z,O,W,j,J,V,K;a._RF.push({},"6ca297FSrxEoo6+4c+jGGKn","splashScene",void 0);var X=u.ccclass,I=u.property;e("splashScene",(k=X("splashScene"),C=I(c),F=I(_),D=I(l),N=I(p),z=I(f),B=I([d]),G=I(c),k((Z=r((T=function(e){function r(){for(var r,t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];return r=e.call.apply(e,[this].concat(o))||this,n(r,"lyrics",Z,s(r)),n(r,"loaderFlower",O,s(r)),n(r,"introMusic",W,s(r)),r.audioSource=void 0,r.audioVol=1,r.screenColor=new g(0,0,0,255),n(r,"loadProgressBar",j,s(r)),n(r,"loadProgressLabel",J,s(r)),n(r,"fireNodes",V,s(r)),n(r,"musicFeaturesJson",K,s(r)),r}t(r,e);var a=r.prototype;return a.onLoad=function(){L.lyrics=this.lyrics.json;var e=S.getSettings();L.currentLanguage=isNaN(e.Language)?0:e.Language,this.audioVol=e.MusicVolume,this.audioSource=this.addComponent(h),this.audioSource.clip=this.introMusic,this.introMusic.loadMode=l.AudioType.DOM_AUDIO,null==v.defaultResolution&&(v.defaultResolution=v.getDefaultResolution())},a.setProgress=function(e,r){if(void 0===r&&(r=.2),this.loadProgressBar){var t=e/13;r>0?P(this.loadProgressBar).to(r,{progress:t}).start():this.loadProgressBar.progress=t}},a.loadMaterials=function(){var e=o(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setProgress(0),this.loadProgressLabel.string=L.getString(L.lyrics.LoadingScene.Materials,!1),e.next=4,new Promise((function(e,r){w.load("resouce_prefabs/MaterialsRP",y,(function(t,n){n?e(n):r(t)}))}));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),a.loadPlants=function(){var e=o(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setProgress(1),this.loadProgressLabel.string=L.getString(L.lyrics.LoadingScene.Plants,!1),e.next=4,new Promise((function(e,r){w.load("resouce_prefabs/PlantsRP",y,(function(t,n){n?e(n):r(t)}))}));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),a.loadZombies=function(){var e=o(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setProgress(2),this.loadProgressLabel.string=L.getString(L.lyrics.LoadingScene.Zombies,!1),e.next=4,new Promise((function(e,r){w.load("resouce_prefabs/ZombiesRP",y,(function(t,n){n?e(n):r(t)}))}));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),a.loadDinosaurs=function(){var e=o(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setProgress(3),this.loadProgressLabel.string=L.getString(L.lyrics.LoadingScene.Dinosaurs,!1),e.next=4,new Promise((function(e,r){w.load("resouce_prefabs/DinosaursRP",y,(function(t,n){n?e(n):r(t)}))}));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),a.loadMusics=function(){var e=o(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setProgress(4),this.loadProgressLabel.string=L.getString(L.lyrics.LoadingScene.Musics,!1),e.next=4,new Promise((function(e,r){w.load("resouce_prefabs/MusicRP",y,(function(t,n){n?e(n):r(t)}))}));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),a.loadSFXs=function(){var e=o(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setProgress(5),this.loadProgressLabel.string=L.getString(L.lyrics.LoadingScene.SFXs,!1),e.next=4,new Promise((function(e,r){w.load("resouce_prefabs/SoundsRP",y,(function(t,n){n?e(n):r(t)}))}));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),a.loadLevels=function(){var e=o(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setProgress(6),this.loadProgressLabel.string=L.getString(L.lyrics.LoadingScene.Levels,!1),e.next=4,new Promise((function(e,r){w.load("resouce_prefabs/LevelNodesRP",y,(function(t,n){n?e(n):r(t)}))}));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),a.loadDroppings=function(){var e=o(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setProgress(7),this.loadProgressLabel.string=L.getString(L.lyrics.LoadingScene.Droppings,!1),e.next=4,new Promise((function(e,r){w.load("resouce_prefabs/DroppingsRP",y,(function(t,n){n?e(n):r(t)}))}));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),a.loadTrophies=function(){var e=o(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setProgress(8),this.loadProgressLabel.string=L.getString(L.lyrics.LoadingScene.Trophies,!1),e.next=4,new Promise((function(e,r){w.load("resouce_prefabs/TrophiesRP",y,(function(t,n){n?e(n):r(t)}))}));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),a.loadParticles=function(){var e=o(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setProgress(9),this.loadProgressLabel.string=L.getString(L.lyrics.LoadingScene.Particles,!1),e.next=4,new Promise((function(e,r){w.load("resouce_prefabs/ParticlesRP",y,(function(t,n){n?e(n):r(t)}))}));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),a.loadWorldmaps=function(){var e=o(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setProgress(10),this.loadProgressLabel.string=L.getString(L.lyrics.LoadingScene.Worldmaps,!1),e.next=4,new Promise((function(e,r){w.load("resouce_prefabs/WorldMapsRP",y,(function(t,n){n?e(n):r(t)}))}));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),a.loadZenGarden=function(){var e=o(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setProgress(11),this.loadProgressLabel.string=L.getString(L.lyrics.LoadingScene.ZenGarden,!1),e.next=4,new Promise((function(e,r){w.load("resouce_prefabs/ZenGardenRP",y,(function(t,n){n?e(n):r(t)}))}));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),a.loadOthers=function(){var e=o(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setProgress(12),this.loadProgressLabel.string=L.getString(L.lyrics.LoadingScene.Others,!1),e.next=4,new Promise((function(e,r){w.load("resouce_prefabs/ScenesRP",y,(function(t,n){n?e(n):r(t)}))}));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),a.mainScene=function(){var e=o(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setProgress(13),R.darken((function(){R.goToMain()}));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),a.loadRes=function(){var e=o(i().mark((function e(){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null!=(r=M.musicFeatures)&&r.length||(M.musicFeatures=this.musicFeaturesJson.json.Musics),this.setProgress(0,0),this.loadProgressLabel.string=L.getString(L.lyrics.LoadingScene.Materials,!1),e.next=5,this.loadMaterials();case 5:return e.next=7,this.loadPlants();case 7:return e.next=9,this.loadZombies();case 9:return e.next=11,this.loadDinosaurs();case 11:return e.next=13,this.loadMusics();case 13:return e.next=15,this.loadSFXs();case 15:return e.next=17,this.loadLevels();case 17:return e.next=19,this.loadDroppings();case 19:return e.next=21,this.loadTrophies();case 21:return e.next=23,this.loadParticles();case 23:return e.next=25,this.loadWorldmaps();case 25:return e.next=27,this.loadZenGarden();case 27:return e.next=29,this.loadOthers();case 29:return e.next=31,this.mainScene();case 31:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),a.start=function(){var e=this;this.screenColor=new g(0,0,0,255),this.node.getChildByName("ScreenCover").getComponent(b).color=this.screenColor,this.loadProgressLabel.string="",this.audioSource.volume=this.audioVol,this.audioSource.playOneShot(this.introMusic),P(this.screenColor).to(1.33,{a:0}).call((function(){e.loadRes()})).start(),this.fireNodes[0]&&(x.getRandom(this.fireNodes).active=!0)},a.update=function(e){this.node.getChildByName("ScreenCover").getComponent(b).color=this.screenColor},r}(m)).prototype,"lyrics",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=r(T.prototype,"loaderFlower",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=r(T.prototype,"introMusic",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=r(T.prototype,"loadProgressBar",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=r(T.prototype,"loadProgressLabel",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=r(T.prototype,"fireNodes",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),K=r(T.prototype,"musicFeaturesJson",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=T))||A));a._RF.pop()}}}));

System.register("chunks:///_virtual/SplitPea.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Peashooter.ts","./Square.ts","./CharacterManager.ts"],(function(t){var o,e,n,a,i,r,s,c,h,u,f,l;return{setters:[function(t){o=t.inheritsLoose,e=t.createClass,n=t.asyncToGenerator,a=t.regeneratorRuntime},function(t){i=t.cclegacy,r=t._decorator,s=t.tween,c=t.Vec2},function(t){h=t.PeashooterPlant,u=t.PeashooterProps},function(t){f=t.Square},function(t){l=t.Rectangle}],execute:function(){var d;i._RF.push({},"5cfcasdZnJG5Kr0DBCWOIf5","SplitPea",void 0);var p=r.ccclass,P=(r.property,function(t){function e(){for(var o,e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return(o=t.call.apply(t,[this].concat(n))||this).PlantfoodPeaCountBack=90,o.PeaTypeMega="pea_mega",o}return o(e,t),e}(u));t("SplitPeaPlant",p("SplitPeaPlant")(d=function(t){function i(){for(var o,e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return(o=t.call.apply(t,[this].concat(n))||this)._foodLeftBackPeaCount=0,o._objdataOwn=new P,o}o(i,t);var r=i.prototype;return r.animationListenerAdd=function(t){"ShootL"==t.name?this.fooding?(this._shootBack(!1,!1,this._objdataOwn.PeaTypeMega),this.soundRes.playShootMega(),this.foodEnd()):this._shootBack(!1,!1):"ShootR"==t.name&&this._shoot()},r._shootBack=function(){var t=n(a().mark((function t(o,e,n){var i;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===n&&(n=this._objdataOwn.PeaType),t.next=3,this._shoot(o,e,n);case 3:(i=t.sent).linearVelocity.x*=-1,i.worldPositionX-=50;case 6:case"end":return t.stop()}}),t,this)})));return function(o,e,n){return t.apply(this,arguments)}}(),r.foodShooting=function(){var t=this;this._foodLeftBackPeaCount=this._objdataOwn.PlantfoodPeaCountBack,this._foodLeftPeaCount=this._objdataOwn.PlantfoodPeaCount,s(this).to(2,{foodLeftPeaCount:0,foodLeftBackPeaCount:0}).call((function(){t.anmControl.playAnimation("ShootL",1)})).start()},r.setDetecter=function(t,o){var e=f.lawnRec.prjX();this.detector=l.createRectangleCenter(new c((e.x+e.y)/2,o.node.worldPosition.y),11*f.SquareWidth,f.SquareHeight)},r.detectEnemySplit=function(){var t=this,o=0;return this.inLane.zombiePool().forEach((function(e){if(!(o>=3)&&e.bodyRecForShooter.judgeCrossRec(t.detector)){var n=e.bodyRec.prjX();if(1!=o&&n.y>t._worldPositionX&&(o+=1),o>=3)return;2!=o&&n.x<=t._worldPositionX&&(o+=2)}})),this.inLane.tombPool().forEach((function(e){if(!(o>=3)&&e.bodyRec.judgeCrossRec(t.detector)){var n=e.bodyRec.prjX();if(1!=o&&n.y>t._worldPositionX&&(o+=1),o>=3)return;2!=o&&n.x<=t._worldPositionX&&(o+=2)}})),o},r.specialPlantUpdate=function(t,o,e){if(this.busy>0&&(this.busy-=t),this.busy<=0&&!this.dead&&!this.fooding){var n=this.detectEnemySplit();if(n>0){this.shooting=!0;var a=this._objdataOwn.ShootInterval+this._objdataOwn.ShootIntervalAdditional*Math.random();this._cdScale&&(a*=this._cdScale),this.busy=a;var i=Math.max(1,1.1/this.busy);1==n&&this.anmControl.playAnimation("ShootR",1,.1,i),2==n&&this.anmControl.playAnimation("ShootL",1,.1,i),3==n&&this.anmControl.playAnimation("ShootB",1,.1,i)}}},e(i,[{key:"foodLeftBackPeaCount",get:function(){return this._foodLeftBackPeaCount},set:function(t){for(var o=Math.floor(this._foodLeftBackPeaCount)-Math.floor(t),e=0;e<o;e++)this._shootBack(!0,!0);this._foodLeftBackPeaCount=t}}]),i}(h))||d);i._RF.pop()}}}));

System.register("chunks:///_virtual/SporeShroom.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./SoundRescourses.ts","./Character.ts","./ArrayGet.ts","./Zombie.ts","./CharacterManager.ts","./Square.ts","./Projectiles.ts"],(function(o){var t,e,n,i,a,r,s,h,l,c,u,d,b,p,f,g,y,m,w,S,P,_,C,v;return{setters:[function(o){t=o.applyDecoratedDescriptor,e=o.inheritsLoose,n=o.initializerDefineProperty,i=o.assertThisInitialized,a=o.createClass,r=o.asyncToGenerator,s=o.regeneratorRuntime},function(o){h=o.cclegacy,l=o._decorator,c=o.AudioClip,u=o.Node,d=o.Prefab,b=o.Vec2},function(o){p=o.Plant,f=o.PlantProps},function(o){g=o.sounds},function(o){y=o.CharacterType},function(o){m=o.ArrayGet},function(o){w=o.ZombieSort},function(o){S=o.Rectangle,P=o.ZombiePool,_=o.TombPool},function(o){C=o.Square},function(o){v=o.ProjectileShootingFunctions}],execute:function(){var j,R,A,O,z,L,D,k,E,F,T,B,Z,x,N,I,q,M,X,Y,G,H,V,J;h._RF.push({},"54a0end1HJE97BLEVAuZ1ap","SporeShroom",void 0);var U=l.ccclass,W=l.property,K=function(o){function t(){for(var t,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return(t=o.call.apply(o,[this].concat(n))||this).ShootInterval=2.85,t.ShootIntervalAdditional=.15,t.CabbageType="sporeshroom_spore",t.CabbageTypePlantfood="sporeshroom_spore_pf",t}return e(t,o),t}(f),Q=(j=U("SporeShroomSound"),R=W(c),A=W([c]),O=W([c]),z=W([c]),L=W([c]),j((E=t((k=function(){function o(){n(this,"spawn",E,this),n(this,"breath",F,this),n(this,"shoot",T,this),n(this,"foodBreath",B,this),n(this,"foodShoot",Z,this)}var t=o.prototype;return t.playSpawn=function(){g.playOneShot(this.spawn,1,.1)},t.playBreath=function(){g.playArray(this.breath,.5,.3)},t.playShoot=function(){g.playArray(this.shoot,.5,.3)},t.playFoodBreath=function(){g.playArray(this.foodBreath,.5,.3)},t.playFoodShoot=function(){g.playArray(this.foodShoot,.5,.3)},o}()).prototype,"spawn",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=t(k.prototype,"breath",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),T=t(k.prototype,"shoot",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B=t(k.prototype,"foodBreath",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Z=t(k.prototype,"foodShoot",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=k))||D);o("SporeShroomPlant",(x=U("SporeShroomPlant"),N=W(Q),I=W(u),q=W(d),M=W(d),x((G=t((Y=function(o){function t(){for(var t,e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return t=o.call.apply(o,[this].concat(a))||this,n(t,"soundRes",G,i(t)),t._objdataOwn=new K,n(t,"cabbageSpawnPoint",H,i(t)),n(t,"prj0",V,i(t)),n(t,"prjFood",J,i(t)),t.detector=new S,t._shooting=!1,t.shootCD=0,t}e(t,o);var h=t.prototype;return h.onObjdataSet=function(o,t){},h.animationListener=function(o){switch(o.name){case"breath":this.soundRes.playBreath();break;case"foodBreath":this.soundRes.playFoodBreath();break;case"shootSound":this.soundRes.playShoot();break;case"foodShootSound":this.soundRes.playFoodShoot();break;case"gas":this.soundRes.playSpawn();break;case"foodEnd":this.foodEnd();break;case"shoot":this._shoot(this.inLane);break;case"shooting":this._shooting=!0;break;case"foodShoot":this.foodLob()}},h.foodLob=function(){var o=m.randomize(P.pool()).find((function(o){return o.ZombieSort!=w.Zomboss}));if(o)this._lobAtZ(o,this.objdataOwn.CabbageTypePlantfood);else{var t=m.getRandom(_.pool());t?this._lobAtN(t.node,this.objdataOwn.CabbageTypePlantfood):this._lobAtN(this.inLane.toRight,this.objdataOwn.CabbageTypePlantfood)}},h.specialPlantFoodEnd=function(){this.anmControl.playIdle()},h.specialPlantOnSquareChange=function(o,t){t&&(this.detector=S.createRectangleNodeSide(t.node,C.SquareWidth*(9-this.inLnC.cIndex),C.SquareHeight))},h._lobAtZ=function(){var o=r(s().mark((function o(t,e,n){var i,a;return s().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return void 0===e&&(e=this.objdataOwn.CabbageType),void 0===n&&(n=!1),i=this._dmgScale,o.next=5,v.lobOneCabbageOnZombie(e,new b(this.cabbageSpawnPoint.worldPosition.x,this.worldPositionY),this.cabbageSpawnPoint.worldPosition.y-this.worldPositionY,this.inLane.prjLayer,t,.4444,y.zombie,n,60,!0);case 5:a=o.sent,this._dmgScale&&a.setDamage(a.damage*i);case 7:case"end":return o.stop()}}),o,this)})));return function(t,e,n){return o.apply(this,arguments)}}(),h._lobAtN=function(){var o=r(s().mark((function o(t,e,n){var i,a;return s().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return void 0===e&&(e=this.objdataOwn.CabbageType),void 0===n&&(n=!1),i=this._dmgScale,o.next=5,v.lobOneCabbageOnNode(e,new b(this.cabbageSpawnPoint.worldPosition.x,this.worldPositionY),this.cabbageSpawnPoint.worldPosition.y-this.worldPositionY,this.inLane.prjLayer,t,.4444,y.zombie,n,60);case 5:a=o.sent,this._dmgScale&&a.setDamage(a.damage*i);case 7:case"end":return o.stop()}}),o,this)})));return function(t,e,n){return o.apply(this,arguments)}}(),h._shoot=function(o,t){var e=this;if(void 0===t&&(t=this.objdataOwn.CabbageType),o){var n=null,i=null,a=1/0;o.zombiePool().forEach((function(o){o.worldPositionX<a&&e.detector.judgeCrossRec(o.bodyRec)&&(n=o,a=o.worldPositionX)})),n?this._lobAtZ(n,t):(a=1/0,o.tombPool().forEach((function(o){o.worldPositionX<a&&e.detector.judgeCrossRec(o.bodyRec)&&(i=o,a=o.worldPositionX)})),i?this._lobAtN(i.node,t):o.toRight&&this._lobAtN(o.toRight,t))}},h.detectEnemies=function(o){var t=this;if(!o)return!1;var e=!1;return o.zombiePool().forEach((function(o){e||t.detector.judgeCrossRec(o.bodyRec)&&(e=!0)})),!!e||(o.tombPool().forEach((function(o){e||t.detector.judgeCrossRec(o.bodyRec)&&(e=!0)})),!!e)},h.specialPlantOnEnable=function(){this.shootCD=0,this._shooting=!1},h.waterable=function(){return!this._shooting},h.specialPlantFood=function(o){this._shooting=!1,this.anmControl.playAnimation("Food",2)},h.animationOnComplete=function(){this._shooting=!1},h.specialPlantUpdate=function(o,t,e){this.fooding||(this.shootCD>0&&(this.shootCD-=o),this.shootCD<=0&&e>0&&!this._shooting&&this.detectEnemies(this.inLane)&&(this.shootCD=this._objdataOwn.ShootInterval+Math.random()*this._objdataOwn.ShootIntervalAdditional,this._cdScale&&(this.shootCD*=this._cdScale),this.anmControl.playAnimation("Shoot",1,.1*this._cdScale,Math.max(1,1/this.shootCD)),this._shooting=!0))},a(t,[{key:"objdataOwn",get:function(){return this._objdataOwn}}]),t}(p)).prototype,"soundRes",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Q}}),H=t(Y.prototype,"cabbageSpawnPoint",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=t(Y.prototype,"prj0",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=t(Y.prototype,"prjFood",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=Y))||X));h._RF.pop()}}}));

System.register("chunks:///_virtual/SpringBean.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./CharacterManager.ts","./Square.ts","./SoundRescourses.ts"],(function(e){var n,t,i,o,a,s,r,l,c,u,d,h,p,y;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,s=e._decorator,r=e.AudioClip,l=e.Vec2},function(e){c=e.Plant,u=e.PlantProps},function(e){d=e.Rectangle,h=e.ZombiePool},function(e){p=e.Square},function(e){y=e.sounds}],execute:function(){var f,b,m,S,g,R,w,L,v,A,B,D,C,O,P,_,E,k;a._RF.push({},"a736bTbuoxA64KEceTSlBIx","SpringBean",void 0);var z=s.ccclass,F=s.property,I=(f=z("springbeanSound"),b=F(r),m=F(r),S=F(r),g=F(r),R=F(r),f((v=n((L=function(){function e(){i(this,"foodSound",v,this),i(this,"foodLeapSound",A,this),i(this,"foodBounceSound",B,this),i(this,"bounceSound",D,this),i(this,"readySound",C,this)}var n=e.prototype;return n.playFoodSound=function(){y.playOneShot(this.foodSound,1,.1)},n.playFoodLeapSound=function(){y.playOneShot(this.foodLeapSound,1,.1)},n.playFoodBounceSound=function(){y.playOneShot(this.foodBounceSound,1,.1)},n.playBounceSound=function(){y.playOneShot(this.bounceSound,1,.1)},n.playReadySound=function(){y.playOneShot(this.readySound,1,.1)},e}()).prototype,"foodSound",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=n(L.prototype,"foodLeapSound",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=n(L.prototype,"foodBounceSound",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=n(L.prototype,"bounceSound",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=n(L.prototype,"readySound",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=L))||w),q=function(e){function n(){for(var n,t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return(n=e.call.apply(e,[this].concat(i))||this).KnockbackDistance=1,n.RestTime=7,n}return t(n,e),n}(u);e("SpringBean",(O=z("SpringBean"),P=F(I),O((k=n((E=function(e){function n(){for(var n,t=arguments.length,a=new Array(t),s=0;s<t;s++)a[s]=arguments[s];return(n=e.call.apply(e,[this].concat(a))||this)._objdataOwn=new q,i(n,"soundRes",k,o(n)),n.readyDetector=void 0,n.bounceDetector=void 0,n.switching=!1,n.ready=!1,n.asleep=0,n}t(n,e);var a=n.prototype;return a.dealLeapOnZombie=function(e){var n,t,i,o;e.leapable&&((null==(n=e.inLane)||!n.isSea)&&e.inLnC.cIndex>=4&&null!=(t=e.inLane.UpperLane)&&t.isSea?e.leapBy(new l(1,-1)):(null==(i=e.inLane)||!i.isSea)&&e.inLnC.cIndex>=4&&null!=(o=e.inLane.LowerLane)&&o.isSea?e.leapBy(new l(1,1)):e.leapBy(new l(this._objdataOwn.KnockbackDistance,0),!0,.5,27,!0,!0))},a.setDetector=function(e){this.readyDetector=d.createRectangleNodeCenter(e.node,3*p.SquareWidth,p.SquareHeight),this.bounceDetector=d.createRectangleNodeCenter(e.node,p.SquareWidth,p.SquareHeight)},a.setAnimation=function(e){void 0===e&&(e=0);var n=this.anmControl;1==e?(n.IdleAnim="Idle_Ready",n.RandomAnim=["Random_Ready"]):2==e?(n.IdleAnim="Sleep",n.RandomAnim=[]):(n.IdleAnim="Idle",n.RandomAnim=["Random"])},a.animationListener=function(e){var n=this;switch(e.name){case"sleep":this.damagable=!0,this.short_=!1,this.asleep=this._objdataOwn.RestTime;break;case"foodBounce":h.pool().forEach((function(e){e.flying||n.dealLeapOnZombie(e)})),this.soundRes.playFoodBounceSound();break;case"foodLeap":this.soundRes.playFoodLeapSound();break;case"ready":this.ready=!0,this.switching=!1;break;case"recover":this.switching=!1;break;case"foodEnd":this.foodEnd()}},a.specialPlantFood=function(e){this.setAnimation(),this.anmControl.playAnimation("Food",1),this.soundRes.playFoodSound(),this.ready=!1,this.asleep=0,this.switching=!1,this.damagable=!0},a.getReady=function(){this.damagable=!1,this.short_=!0,this.switching=!0,this.soundRes.playReadySound(),this.anmControl.playAnimation("Ready",1),this.setAnimation(1),this.eaterDetectable=!1,this.smasherDetectable=!1},a.recover=function(){this.ready=!1,this.switching=!0,this.short_=!1,this.damagable=!0,this.anmControl.playAnimation("Recover",1),this.setAnimation(),this.asleep=0,this.eaterDetectable=!0,this.smasherDetectable=!0},a.bounce=function(){this.asleep=1/0,this.soundRes.playBounceSound(),this.anmControl.playAnimation("Bounce",1),this.setAnimation(2),this.eaterDetectable=!0,this.smasherDetectable=!0},a.specialPlantOnEnable=function(){this.setAnimation(),this.anmControl.playIdle(),this.ready=!1,this.switching=!1,this.asleep=0},a.detectReadyEnemy=function(){var e,n=this,t=!1;null==(e=this.inLane)||e.zombiePool().forEach((function(e){t||e.bodyRecReal.judgeCrossRec(n.readyDetector)&&(t=!0)})),t&&!this.ready?this.getReady():!t&&this.ready&&this.recover()},a.detectBounceEnemy=function(){var e,n=this,t=!1;null==(e=this.inLane)||e.zombiePool().forEach((function(e){t||e.flying||!e.leapable||e.changeLaneTween||e.bodyRec.judgeCrossRec(n.bounceDetector)&&(n.dealLeapOnZombie(e),t=!0,n.bounce())}))},a.waterable=function(){return!this.asleep&&!this.ready&&!this.switching},a.specialPlantUpdate=function(e,n,t){this.asleep>0&&(this.asleep-=e,this.asleep<=0&&(this.asleep=0,this.recover())),!this.switching&&!this.fooding&&this.asleep<=0&&t>0&&!this.leapTween&&(this.detectReadyEnemy(),this.ready&&t>0&&this.detectBounceEnemy())},a.specialPlantOnSquareChange=function(e,n){this.setDetector(n)},n}(c)).prototype,"soundRes",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new I}}),_=E))||_));a._RF.pop()}}}));

System.register("chunks:///_virtual/sprout.ts",["./rollupPluginModLoBabelHelpers.js","cc","./dropping.ts","./CoinCollecterInGame.ts","./SoundRescourses.ts","./SproutCount.ts","./GemCount.ts"],(function(n){var o,t,e,i,r,u,l,c,p,a,s,d,f;return{setters:[function(n){o=n.applyDecoratedDescriptor,t=n.inheritsLoose,e=n.initializerDefineProperty,i=n.assertThisInitialized,r=n.createClass},function(n){u=n.cclegacy,l=n._decorator,c=n.AudioClip},function(n){p=n.dropping},function(n){a=n.CoinCollecterInGame},function(n){s=n.sounds},function(n){d=n.SproutCount},function(n){f=n.GemCount}],execute:function(){var h,v,y,S,g,m,C;u._RF.push({},"b92e621HJRPHb/WhAlX1J9n","sprout",void 0);var b=l.ccclass,D=l.property;n("sprout",(h=b("sprout"),v=D(c),y=D(c),h((m=o((g=function(n){function o(){for(var o,t=arguments.length,r=new Array(t),u=0;u<t;u++)r[u]=arguments[u];return o=n.call.apply(n,[this].concat(r))||this,e(o,"dropSound",m,i(o)),e(o,"collectSound",C,i(o)),o}t(o,n);var u=o.prototype;return u.specialOnGroundHit=function(){s.playOneShot(this.dropSound,1,.1)},u.specialDroppingOnLoad=function(){var n,o;null!=(n=f.component)&&null!=(n=n.icon)&&n.active&&(this.ui=null==(o=f.component)?void 0:o.icon)},u.specialDroppingOnEnable=function(){var n,o;null!=(n=this.ui)&&n.active||(this.ui=null==(o=f.component)?void 0:o.icon)},u.specialGoToUI=function(n){var o;a.component.hidden=!1,null==(o=d.component)||o.addSproutCount(1),s.playOneShot(this.collectSound,1,.1)},r(o,[{key:"DroppingType",get:function(){return"sprout"}}]),o}(p)).prototype,"dropSound",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=o(g.prototype,"collectSound",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=g))||S));u._RF.pop()}}}));

System.register("chunks:///_virtual/SproutCount.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CurrencyCount.ts","./PlayerProperties.ts"],(function(t){var o,n,r,u,e;return{setters:[function(t){o=t.inheritsLoose},function(t){n=t.cclegacy,r=t._decorator},function(t){u=t.CurrencyCount},function(t){e=t.AllPlayerProperties}],execute:function(){var s,c;n._RF.push({},"5db1bYPsA5Am7eitse5HUKa","SproutCount",void 0);var i=r.ccclass;r.property,t("SproutCount",i("SproutCount")(((c=function(t){function n(){return t.apply(this,arguments)||this}o(n,t);var r=n.prototype;return r.start=function(){this.shownValue=isNaN(e.currentPlayer.sprout)?0:e.currentPlayer.sprout,this.value=this._shownValue},r.addSproutCount=function(t){this.value+=t},r.decSproutCount=function(t){this.value-=t},r.onValueSet=function(t){e.currentPlayer.sprout=t,e.savePP()},r.onLoad=function(){n.component=this},n}(u)).component=void 0,s=c))||s);n._RF.pop()}}}));

System.register("chunks:///_virtual/Square.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LnC.ts","./UI.ts","./LnCLower.ts","./NodePools.ts","./FrontYard.ts","./Lane.ts","./CharacterManager.ts","./Mouse.ts","./levelController.ts","./Armors.ts","./LevelTaskCount.ts","./Particles.ts","./zombossMissileLocatorFree.ts","./PowerupFingers.ts","./Tombs.ts","./SoundRescourses.ts","./ChiHole.ts","./Projectiles.ts"],(function(e){var n,t,o,r,i,a,l,s,u,c,h,g,d,f,p,m,L,C,v,w,S,b,y,P,q,I,x,D,T,A,H,N,E,R,M,B,z,W,_,F,k;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,o=e.initializerDefineProperty,r=e.assertThisInitialized,i=e.createClass,a=e.asyncToGenerator,l=e.regeneratorRuntime,s=e.createForOfIteratorHelperLoose},function(e){u=e.cclegacy,c=e._decorator,h=e.Node,g=e.dragonBones,d=e.UITransform,f=e.AudioSource,p=e.Vec2,m=e.find,L=e.Vec3,C=e.instantiate,v=e.Size,w=e.Component},function(e){S=e.LnC},function(e){b=e.UIInGame},function(e){y=e.LnCLower},function(e){P=e.instantiatePooly},function(e){q=e.FrontYard},function(e){I=e.Lane},function(e){x=e.Rectangle,D=e.PlantPool,T=e.ZombieDamageDetails,A=e.ZombieDamageType},function(e){H=e.Mouse},function(e){N=e.LevelPlay},function(e){E=e.armors},function(e){R=e.LevelTaskCountModeEnum},function(e){M=e.particle},function(e){B=e.zombossMissileLocatorFree},function(e){z=e.PowerupFingers},function(e){W=e.TombEnum},function(e){_=e.sounds},function(e){F=e.ChiHole},function(e){k=e.ProjectileShootingFunctions}],execute:function(){var G,j,O,Z,U,X,Y,V,K,J,Q,$,ee,ne,te,oe,re,ie,ae,le,se,ue,ce,he,ge,de,fe,pe,me,Le,Ce,ve;u._RF.push({},"3cbc1qLm3VDPKDOscw+4M6b","Square",void 0);var we=c.ccclass,Se=c.property;e("Square",(G=we("Square"),j=Se(h),O=Se(h),Z=Se(g.ArmatureDisplay),U=Se(g.ArmatureDisplay),X=Se(d),Y=Se(d),V=Se(h),K=Se(S),J=Se(S),Q=Se(S),$=Se(S),ee=Se(S),ne=Se(h),te=Se(f),G(((ve=function(e){function n(){for(var n,t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return(n=e.call.apply(e,[this].concat(i))||this).laneAbstract=void 0,n.laneHere=void 0,n.laneThere=void 0,n.lanesInLawn=[],o(n,"lavaGuavaCrackLayer",ie,r(n)),o(n,"eightiesZombossStageLayer",ae,r(n)),o(n,"rhythmBig",le,r(n)),o(n,"rhythmSmall",se,r(n)),o(n,"selectCrossingV",ue,r(n)),o(n,"selectCrossingH",ce,r(n)),n.UIInGame=null,n.indexShovel=0,n.indexPF=0,o(n,"square00",he,r(n)),n.squares=[],n.inLawnLnCs=[],o(n,"LnCHere",ge,r(n)),o(n,"LnCThere",de,r(n)),o(n,"LnCLeft",fe,r(n)),o(n,"LnCRight",pe,r(n)),o(n,"LnCAbstract",me,r(n)),o(n,"LilypadLayer",Le,r(n)),o(n,"ElectricLineLayer",Ce,r(n)),n.electricLineHitPar=void 0,n.electricHitCD=0,n}t(n,e),n.Square00WorldPosition=function(){return new p(this.Square00.worldPosition.x,this.Square00.worldPosition.y)},n.getSquareWorldPosition=function(e,n,t,o){var r;return void 0===t&&(t=.5),void 0===o&&(o=.5),null!=(r=this.Square00)&&r.worldPosition?new p(this.Square00.worldPosition.x+n*this.SquareWidth+(t-.5)*this.SquareWidth,this.Square00.worldPosition.y-e*this.SquareHeight+(o-.5)*this.SquareHeight):new p},n.getSquare=function(e,n){if(e>=0&&e<=4){if(n>=0&&n<=8)return this.Square00.parent.getChildByName("Square"+e.toString()+n.toString());if(9==n)return this.Square00.parent.getChildByName("SquaresRight");if(-1==n)return this.Square00.parent.getChildByName("SquaresLeft")}else{if(5==e)return this.Square00.parent.getChildByName("SquaresHere");if(-1==e)return this.Square00.parent.getChildByName("SquaresThere")}return this.Square00.parent.getChildByName("SquaresAbstract")},n.getLnC=function(e,n){if(isNaN(e)||isNaN(n))return this.component.LnCAbstract;if(e>=0&&e<=4){if(n>=0&&n<=8)return this.component.inLawnLnCs[e][n];if(9==n)return this.component.LnCRight;if(-1==n)return this.component.LnCLeft}else{if(5==e)return this.component.LnCHere;if(-1==e)return this.component.LnCThere}return this.component.LnCAbstract},n.getAllLnC=function(){for(var e=[],t=0;t<=4;t++)for(var o=0;o<=8;o++)e.push(n.getLnC(t,o));return e},n.getAllLane=function(){for(var e=[],t=0;t<=4;t++)e.push(n.getLane(t));return e},n.getRandomSquare=function(e,n,t,o){return void 0===e&&(e=0),void 0===n&&(n=4),void 0===t&&(t=0),void 0===o&&(o=8),this.getRandomLnC(e,n,t,o).node},n.getRandomLnC=function(e,n,t,o){void 0===e&&(e=0),void 0===n&&(n=4),void 0===t&&(t=0),void 0===o&&(o=8);var r=Math.floor(e);r<0&&(r=0),r>4&&(r=4);var i=Math.floor(n);i<0&&(i=0),i>4&&(i=4);var a=Math.floor(t);a<0&&(a=0),a>8&&(a=8);var l=Math.floor(o);l<0&&(l=0),l>8&&(l=8);var s=Math.floor(Math.random()*(i-r+1))+r,u=Math.floor(Math.random()*(l-a+1))+a;return this.getLnC(s,u)},n.getRandomLane=function(){return this.getLane(Math.floor(5*Math.random()))},n.getRandomSquares=function(e){for(var n=[];n.length<e&&n.length<45;){var t=this.getRandomSquare();-1==n.indexOf(t)&&n.push(t)}return n},n.getLaneNode=function(e){return m(e>=-1&&e<=5?"Canvas/LawnCommon/squaresLower/Row"+e.toString():"Canvas/LawnCommon/squaresLower/Row-2")},n.getLane=function(e){if(this.component.laneAbstract||(this.component.laneAbstract=this.getLaneNode(-2).getComponent(I)),this.component.laneHere||(this.component.laneHere=this.getLaneNode(5).getComponent(I)),this.component.laneThere||(this.component.laneThere=this.getLaneNode(-1).getComponent(I)),this.component.lanesInLawn.length<=0){this.component.lanesInLawn=[];for(var t=0;t<5;t++)this.component.lanesInLawn.push(n.getLaneNode(t).getComponent(I))}return-1==e?this.component.laneThere:5==e?this.component.laneHere:e>=0&&e<=4?this.component.lanesInLawn[e]:this.component.laneAbstract},n.placeTNT=function(e,n,t,o,r,i,a,l,s,u,c){void 0===o&&(o=!0),void 0===r&&(r=!1),void 0===i&&(i=!1),void 0===a&&(a=!0),void 0===l&&(l=!1),void 0===s&&(s=.5),void 0===u&&(u=!0),void 0===c&&(c=!0);var h=this.placeTomb(n,t,W.kongfu_TNT,o,r,i,a);h&&(h.gameloseOnExplode=l,h.burningSPS=s,h.playTNTSpawn(e),h.DamagesToPlants=u,h.DamagesToZombies=c)},n.placeTomb=function(e,t,o,r,i,a,l){void 0===r&&(r=!0),void 0===i&&(i=!1),void 0===a&&(a=!1),void 0===l&&(l=!0);var s=this.getLnC(e,t);if(null!=s&&s.isInLawn())return s.SpawnTomb(o,r,i,a,l);var u=this.getLnC(-2,-2).SpawnTomb(o,r,i,a,!1);return u&&(u.worldPositionY=this.getLane(0).floorY-e*n.SquareHeight,u.worldPositionX=this.getSquareWorldPosition(0,t).x,u.judgeInLnC()),u},n.judgeInLawn=function(e){return this.lawnRec.judgeInRecP(new p(e.x,e.y))},n.moveCrossing=function(e,n){if(void 0===e&&(e=-1),void 0===n&&(n=-1),e>=0&&e<=4&&n>=0&&n<=8){var t=this.getSquareWorldPosition(2,n);this.component.selectCrossingV.node.worldPosition=new L(t.x,t.y,10);var o=this.getSquareWorldPosition(e,4);this.component.selectCrossingH.node.worldPosition=new L(o.x,o.y,10)}else this.component.selectCrossingV.node.worldPosition=new L(-1e3,0),this.component.selectCrossingH.node.worldPosition=new L(0,-1e3)},n.armorOnAllZombies=function(){var e=a(l().mark((function e(n){var t,o,r,i,a,s,u,c;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=[],o=0;o<5;o++)(r=this.getLane(o)).zombiePool().concat(r.hypnoZombiePool()).forEach((function(e){-1==t.indexOf(e)&&t.push(e)}));i=E.features[n],a=i.CODENAME,s=0,u=t;case 5:if(!(s<u.length)){e.next=12;break}return c=u[s],e.next=9,c.addArmor(a);case 9:s++,e.next=5;break;case 12:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}(),n.calculatePlants=function(){var e;null==b||null==(e=b.component)||e.calculateLevelTask(R.PlantCountLimit,{AllPlantCount:D.getPlantAmount()})},n.foodAllPlants=function(){n.getAllLnC().forEach((function(e){e.getAllPlants().forEach((function(e){e.food()}))}))},n.allLnCSpawnPlant=function(){var e=a(l().mark((function e(t){var o,r,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=s(n.getAllLnC());case 1:if((r=o()).done){e.next=9;break}return i=r.value,e.next=5,i.SpawnPlant(t,!0,!0,!0);case 5:e.sent||i.getAllPlants().forEach((function(e){e.ID==t&&e._replantableForLnC()&&(e.replant(),e.health=e.toughness)}));case 7:e.next=1;break;case 9:case 10:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),n.shovelAllPlants=function(){n.getAllLnC().forEach((function(e){e.removePlant()}))},n.judgeCIndex=function(e){var t=n.lawnRec.prjX().x;if(e>t+9*n.SquareWidth)return 9;if(e<=t)return-1;for(var o=0;o<9;o++)if(e<=t+n.SquareWidth*(o+1))return o;return-1},n.judgeLIndex=function(e){var t=n.lawnRec.prjY().y;if(e<t-5*n.SquareHeight)return 5;if(e>=t)return-1;for(var o=0;o<5;o++)if(e>=t-n.SquareHeight*(o+1))return o;return-1},n.transFrom_ox_To_gx=function(e){return this.transFrom_ow_To_gw(e-200)+this.Square00.worldPosition.x-n.SquareWidth/2},n.transFrom_oy_To_gy=function(e){return this.transFrom_oh_To_gh(160-e)+this.Square00.worldPosition.y+n.SquareHeight/2},n.transFrom_ow_To_gw=function(e){return e/64*n.SquareWidth},n.transFrom_oh_To_gh=function(e){return e/76*n.SquareHeight},n.locatePrjOnLnC=function(e,n,t,o){if(t>0){var r=P(M.freeLocator());r.parent=e.node;var i=r.getComponent(B);i.inLnC=e,i.countdown=t,i.prjType=n,i.targetType=o}else k.throwOneBananaOnNode(n,e.plantPoint,800,e.inLane.prjLayer,8,o).then((function(e){e.gravity=.2222}))};var u=n.prototype;return u.plantGhost=function(){this.inLawnLnCs.forEach((function(e){e.forEach((function(e){1==e.indexPoint&&(e.index=1,e.ghostPoint.destroyAllChildren(),e.plantGhost())}))}))},u.readIndex=function(){this.UIInGame.index<=8&&this.UIInGame.index;this.indexShovel=-2==b.index?1:0,this.indexPF=-3==b.index?1:0,this.inLawnLnCs.forEach((function(e){e.forEach((function(e){e.readIndex()}))}))},u.deletePlantGhosts=function(){this.squares.forEach((function(e){e.getChildByName("PlantPoint").destroyAllChildren()}))},u.spawnElectricLineParticle=function(e,n){if(this.electricLineHitPar){var t=P(this.electricLineHitPar);t.parent=e,t.worldPosition=new L(n.x,n.y+30,10)}},u.dealElectricLines=function(e){var t=this;if(N.gaming&&(this.electricHitCD>0&&(this.electricHitCD-=e),this.electricHitCD<=0)){var o=[],r=[];this.electricHitCD=.25;var i=new T(1,!0,!0,!0,null,A.electricity);n.getAllLnC().forEach((function(e){(e.centerElectricCountdown>0||e.verticalElectricCountdown>0||e.horizontalElectricCountdown>0)&&(e.tombStone&&(e.tombStone.dealDamage(i.replaceDamage(e.electricLineDamage)),t.spawnElectricLineParticle(e.inLane.prjLayer,e.tombStone.worldPosition)),e.inLane.zombiePool().forEach((function(n){var t;-1==o.indexOf(n)&&null!=e&&null!=(t=e.rec)&&t.judgeCrossRec(n.bodyRec)&&(o.push(n),r.push(e.electricLineDamage))})))})),i.shockRGB=1,o.forEach((function(e,n){r[n]&&(e.dealDamage(i.replaceDamage(r[n])),t.spawnElectricLineParticle(e.inLane.prjLayer,e.worldPosition))}))}},u.onLoad=function(){var e=this;n.lavaGuavaCrackLayer=this.lavaGuavaCrackLayer,n.eightiesZombossStageLayer=this.eightiesZombossStageLayer,n.tileLayer=m("Canvas/FrontYard/tiles"),n.crackleLayer=m("Canvas/FrontYard/crackle"),n.sliderLayer=m("Canvas/FrontYard/sliders"),n.lilypadLayer=this.LilypadLayer,n.electricLineLayer=this.ElectricLineLayer.node,n._component=this;var t=this.square00;n.Square00=t;var o=null==t?void 0:t.getComponent(S);if(o){o.RowParent=this.node.parent.getChildByName("squaresLower").getChildByName("Row0"),o.inLane=o.RowParent.getComponent(I),o.lIndex=o.cIndex=0,this.squares.push(t);for(var r=0;r<=4;r++){for(var i=1;i<9;i++){var a=null;(a=C(t)).parent=this.node,a.setPosition(this.node.getChildByName("Square"+r.toString()+(i-1).toString()).getPosition().x+n.SquareWidth,this.node.getChildByName("Square"+r.toString()+(i-1).toString()).getPosition().y),a.name="Square"+r.toString()+i.toString();var l=a.getComponent(S);l.RowParent=n.getLaneNode(r),l.inLane=a.getComponent(S).RowParent.getComponent(I),l.lIndex=r,l.cIndex=i,this.squares.push(a)}if(4==r)break;var s=null;(s=C(this.node.getChildByName("Square"+r.toString()+"0"))).parent=this.node,s.setPosition(this.node.getChildByName("Square"+r.toString()+"0").getPosition().x,this.node.getChildByName("Square"+r.toString()+"0").getPosition().y-n.SquareHeight),s.name="Square"+(r+1).toString()+"0";var u=s.getComponent(S);u.RowParent=n.getLaneNode(r+1),u.inLane=s.getComponent(S).RowParent.getComponent(I),u.lIndex=r+1,u.cIndex=0,this.squares.push(s)}var c=this.node.parent.getChildByName("squaresLower").getChildByName("Row0").getChildByName("Square00");c.getComponent(y).standardize(t);for(var h=c.getSiblingIndex(),g=0;g<=4;g++){for(var d=1;d<9;d++){var f=C(c);f.parent=this.node.parent.getChildByName("squaresLower").getChildByName("Row"+g.toString()),f.setSiblingIndex(h),f.name="Square"+g.toString()+d.toString(),f.getComponent(y).standardize(this.node.getChildByName(f.name))}if(4==g)break;var p=C(c);p.parent=this.node.parent.getChildByName("squaresLower").getChildByName("Row"+(g+1).toString()),p.name="Square"+(g+1).toString()+"0",p.setSiblingIndex(h),p.getComponent(y).standardize(this.node.getChildByName(p.name))}this.UIInGame=m("Canvas/UIInGame").getComponent(b),this.indexShovel=0,this.indexPF=0;for(var L=-1;L<=5;L++)n.getLane(L).midY=n.getSquareWorldPosition(L,0).y}[0,1,2,3,4].forEach((function(n){var t=[];[0,1,2,3,4,5,6,7,8].forEach((function(o){t.push(e.squares[9*n+o].getComponent(S))})),e.inLawnLnCs.push(t)})),[this.LnCAbstract,this.LnCLeft,this.LnCRight].forEach((function(e){e.inLane=n.getLane(-2),e.lIndex=-2})),this.LnCLeft.cIndex=-1,this.LnCRight.cIndex=9,this.LnCHere.inLane=n.getLane(5),this.LnCHere.lIndex=5,this.LnCHere.cIndex=9,this.LnCThere.inLane=n.getLane(-1),this.LnCThere.lIndex=-1,this.LnCThere.cIndex=9;for(var v=-2;v<=5;v++)for(var w=-1;w<=9;w++){var P;null==(P=n.getLnC(v,w))||P.standardize()}},u.moveCart=function(){if(H.followingCart)for(var e=H.mouseInL-H.followingCart.inLnC.lIndex,n=0;n<Math.abs(e);n++)e<0&&H.followingCart.moveUp(),e>0&&H.followingCart.moveDown()},n.beghouledMouseUpdate=function(){var e=this;if(D.pool().some((function(e){return!!e.leapTween}))&&(this.beghouledMouseLnC=null),this.beghouledMouseLnC&&this.beghouledMouseLnC.getAllPlants().length){var n=H.position.clone().subtract(this.beghouledMouseClickedWP);if(n.length()>this.SquareWidth/2){var t=this.beghouledMouseLnC,o=null,r=new p,i=n.y/n.x;if(n.x>=0?i>=-1&&i<=1?(o=t.righter,r=new p(1,0)):i>1?(o=t.upper,r=new p(0,1)):i<-1&&(o=t.lower,r=new p(0,-1)):i>=-1&&i<=1?(o=t.lefter,r=new p(-1,0)):i>1?(o=t.lower,r=new p(0,-1)):i<-1&&(o=t.upper,r=new p(0,1)),o){var a=t.getAllPlants(),l=o.getAllPlants(),s=this.beghouledGetPlantsCanBeSwapToLnC(a,o),u=this.beghouledGetPlantsCanBeSwapToLnC(l,t);s.length>=3||u.length>=3?(a.forEach((function(n){n.leapTo(o,.3,0,!0,!0,"quadInOut",(function(n){e.beghouledPlantDetect(n,o)}))})),l.forEach((function(n){n.leapTo(t,.3,0,!0,!0,"quadInOut",(function(n){e.beghouledPlantDetect(n,t)}))}))):this.beghouledPlantDragFail(a,r)}else this.beghouledPlantDragFail(t.getAllPlants(),r);this.beghouledMouseLnC=null}}},n.beghouledPlantDragFail=function(e,n){e.forEach((function(e){e.beghouledDragFail(n)})),_.playBeghouledMatchFail()},n.beghouledGetPlantsCanBeSwapToLnC=function(e,n){var t=[];if(!e.every((function(e){return n.putPlantAvailable(!1,e.ID,!0)})))return[];e.forEach((function(e){var o=e.plantInLnC,r=n.upper.getAllPlants().filter((function(t){return o!=n.upper&&t.ID==e.ID})),i=n.upper.upper.getAllPlants().filter((function(n){return n.ID==e.ID})),a=n.lower.getAllPlants().filter((function(t){return o!=n.lower&&t.ID==e.ID})),l=n.lower.lower.getAllPlants().filter((function(n){return n.ID==e.ID})),s=n.lefter.getAllPlants().filter((function(t){return o!=n.lefter&&t.ID==e.ID})),u=n.lefter.lefter.getAllPlants().filter((function(n){return n.ID==e.ID})),c=n.righter.getAllPlants().filter((function(t){return o!=n.righter&&t.ID==e.ID})),h=n.righter.righter.getAllPlants().filter((function(n){return n.ID==e.ID}));r.length>0&&a.length>0&&(t=t.concat(r,a,e)),s.length>0&&c.length>0&&(t=t.concat(s,c,e)),c.length>0&&h.length>0&&(t=t.concat(c,h,e)),s.length>0&&u.length>0&&(t=t.concat(s,u,e)),r.length>0&&i.length>0&&(t=t.concat(r,i,e)),a.length>0&&l.length>0&&(t=t.concat(a,l,e))}));var o=[];return t.forEach((function(e){-1==o.indexOf(e)&&o.push(e)})),o},n.beghouledPlantDetect=function(e,n,t){void 0===t&&(t=!1);var o,r=!1,i=this.beghouledGetPlantsCanBeSwapToLnC([e],n);(i.length>=4&&e.food(),i.forEach((function(e){r=!0,e.beghouledMatch(i)})),r)&&(null==(o=N.component)||null==(o=o.BeghouledProps)||null==(o=o.BeghouledPresetProps)||o.match(e,t,i))},n.placeKongfuChiHole=function(e){var n=P(M.chiHole());n.parent=this.getLane(4).prjLayer;var t=n.getComponent(F);return t.setProps(e),t},u.update=function(e){var t=n.judgeLIndex(H.position.y),o=n.judgeCIndex(H.position.x),r=n.getLnC(t,o);if(H.mouseInL=t,H.mouseInC=o,H.mouseInLnC!=r){var i=H.mouseInLnC,a=r;z.component.onMouseInLnCChanged(i,a),null==i||i.onMouseLeave(),H.mouseInLnC=null!=a&&a.isInLawn()?a:null,null==a||a.onMouseEnter()}1==n.lncSelectionMode&&1==r.index&&r.isInLawn()?n.moveCrossing(t,o):n.moveCrossing(-1,-1),this.moveCart(),r&&null!=r&&r.mold&&N.gaming&&b.index>=0&&b.index<=8?n.getAllLnC().forEach((function(e){var n;null==e||null==(n=e.mold)||n.playHide()})):N.component.gameWon||n.getAllLnC().forEach((function(e){var n;null==e||null==(n=e.mold)||n.playIdle()})),this.dealElectricLines(e)},u.lateUpdate=function(e){n.PowerTileAnmTimer+=e},u.start=function(){n.beghouledMouseLnC=null,n.lawnRec=x.createRectangleNodeCenter(n.getSquare(2,4),9*n.SquareWidth,5*n.SquareHeight),n.zombieSpawnX=n.Square00WorldPosition().x+10.5*n.SquareWidth,n._ZombieWarningX=n.getSquareWorldPosition(0,1,1).x,this.selectCrossingV.contentSize=new v(n.SquareWidth,5*n.SquareHeight),this.selectCrossingH.contentSize=new v(9*n.SquareWidth,n.SquareHeight)},n.setSquareType=function(){q.CurrentLawn.initialize()},i(n,null,[{key:"ZombieWarningX",get:function(){return this.zombieDieInsteadOfWinning?-1/0:this._ZombieWarningX}},{key:"component",get:function(){return this._component?this._component:m("Canvas/LawnCommon/Squares").getComponent(n)}}]),n}(w)).SquareHeight=85.5,ve.SquareWidth=72,ve.Square00=null,ve._ZombieWarningX=0,ve.lavaGuavaCrackLayer=void 0,ve.eightiesZombossStageLayer=void 0,ve.tileLayer=void 0,ve.crackleLayer=void 0,ve.sliderLayer=void 0,ve.zombieWinX=0,ve.zombieDieInsteadOfWinning=!1,ve.zombieSpawnX=1e3,ve.lawnRec=x.createRectangleCenter(new p(0,0),9*ve.SquareWidth,5*ve.SquareHeight),ve.lncSelectionMode=0,ve.lilypadLayer=void 0,ve._component=void 0,ve.electricLineLayer=void 0,ve.beghouledMouseLnC=void 0,ve.beghouledMouseClickedWP=new p,ve.PowerTileAnmTimer=0,ie=n((re=ve).prototype,"lavaGuavaCrackLayer",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ae=n(re.prototype,"eightiesZombossStageLayer",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),le=n(re.prototype,"rhythmBig",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),se=n(re.prototype,"rhythmSmall",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ue=n(re.prototype,"selectCrossingV",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ce=n(re.prototype,"selectCrossingH",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),he=n(re.prototype,"square00",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ge=n(re.prototype,"LnCHere",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),de=n(re.prototype,"LnCThere",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fe=n(re.prototype,"LnCLeft",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pe=n(re.prototype,"LnCRight",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),me=n(re.prototype,"LnCAbstract",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Le=n(re.prototype,"LilypadLayer",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ce=n(re.prototype,"ElectricLineLayer",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),oe=re))||oe));u._RF.pop()}}}));

System.register("chunks:///_virtual/Squash.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./CharacterManager.ts","./Square.ts","./LnC.ts","./levelController.ts","./SoundRescourses.ts"],(function(t){var e,i,o,n,s,a,l,r,h,u,d,c,f,g,m,p,b,y;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){s=t.cclegacy,a=t._decorator,l=t.AudioClip,r=t.Vec2,h=t.tween},function(t){u=t.Plant,d=t.PlantProps},function(t){c=t.Rectangle,f=t.ZombiePool,g=t.ZombieDamageDetails},function(t){m=t.Square},function(t){p=t.TileType},function(t){b=t.LevelPlay},function(t){y=t.sounds}],execute:function(){var T,w,P,S,L,k,A,v,R,q,C,Z,j,D,I,z;s._RF.push({},"5014euUaBJHzKQjX+6VD5ps","Squash",void 0);var F=a.ccclass,X=a.property,_=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),n=0;n<i;n++)o[n]=arguments[n];return(e=t.call.apply(t,[this].concat(o))||this).PlantfoodSmashTime=2,e.SmashDamage=1800,e}return i(e,t),e}(d),E=(T=F("squashSound"),w=X([l]),P=X([l]),S=X([l]),L=X([l]),T((v=e((A=function(){function t(){o(this,"smashSounds",v,this),o(this,"lookSounds",R,this),o(this,"leapSaySounds",q,this),o(this,"foodSounds",C,this)}var e=t.prototype;return e.playSmash=function(){y.playArray(this.smashSounds,1,.1)},e.playLook=function(){y.playArray(this.lookSounds,1,.1)},e.playLeapSay=function(){y.playArray(this.leapSaySounds,1,.1)},e.playFood=function(){y.playArray(this.foodSounds,1,.1)},t}()).prototype,"smashSounds",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=e(A.prototype,"lookSounds",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),q=e(A.prototype,"leapSaySounds",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C=e(A.prototype,"foodSounds",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=A))||k);t("SquashPlant",(Z=F("SquashPlant"),j=X(E),Z((z=e((I=function(t){function e(){for(var e,i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))||this)._objdataOwn=new _,e.lockedTarget=void 0,e.lookedAtTarget=void 0,e.facingLeft=!1,e.busy=!1,o(e,"soundRes",z,n(e)),e.foodLeftTime=2,e.squashTween=null,e.detector=new c,e}i(e,t);var s=e.prototype;return s.specialPlantOnEnable=function(){var t;this.busy=!1,this.foodable=!0,null==(t=this.squashTween)||t.stop(),this.squashTween=null,this.lockedTarget=null,this.lookedAtTarget=null,this.facingLeft=!1,this.deathAnm="Death"},s.extraInvincible=function(){return!!this.squashTween},s.specialPlantShovelable=function(){return null==this.squashTween},s.normalSmash=function(t){},s.leapDisable=function(t){return!!this.squashTween},s.rejudgeTarget=function(){var t=this,e=1/0,i=null;this.inLane.zombiePool().forEach((function(o){var n=o.bodyRec.prjX().x;n<e&&o.bodyRec.judgeCrossRec(t.detector)&&(i=o,e=n)})),this.lookedAtTarget=i},s.animationListener=function(t){var e=this;if("judgeTarget"==t.name){var i,o;if(this.fooding)return;if(null!=(i=this.lookedAtTarget)&&i.isAlive())this.soundRes.playLeapSay(),this.anmControl.playAnimation("Jump"+(this.facingLeft?"L":"R"),1);else this.rejudgeTarget(),null!=(o=this.lookedAtTarget)&&o.isAlive()?(this.soundRes.playLeapSay(),this.anmControl.playAnimation("Jump"+(this.facingLeft?"L":"R"),1)):(this.anmControl.playIdle(),this.busy=!1)}else if("jump"==t.name){var n;if(this.fooding)this.foodLeftTime<0?this.smashToZombie(null):this.smashToZombie(f.pool().filter((function(t){return t.enteredLawn&&t.isInLawn()})).sort((function(t,i){return e.getZombieNearbyHealth(i)-e.getZombieNearbyHealth(t)})).find((function(){return!0})));else if(null!=(n=this.lookedAtTarget)&&n.isAlive())this.smashToZombie(this.lookedAtTarget);else{var s;this.rejudgeTarget(),null!=(s=this.lookedAtTarget)&&s.isAlive()?this.smashToZombie(this.lookedAtTarget):(this.anmControl.playIdle(),this.facingLeft=!1,this.busy=!1)}}else"die"==t.name&&this.body.setParent(this.node,!0)},s.animationOnComplete=function(){!this.busy||this.dead||this.fooding||this.smashToZombie(null),this.fooding&&(this.anmControl.playAnimation("JumpR",1),this.foodLeftTime--)},s.specialPlantFood=function(t){this.anmControl.playAnimation("LookR",1),this.soundRes.playFood(),this.foodLeftTime=this._objdataOwn.PlantfoodSmashTime},s.lookAtZombie=function(t){this.busy=!0,this.eaterDetectable=!1,this.smasherDetectable=!1,this.lookedAtTarget=t;var e="LookR";this.facingLeft=!1,t.worldPositionX<this.worldPositionX&&(e="LookL",this.facingLeft=!0),this.soundRes.playLook(),this.anmControl.playAnimation(e,2)},s.getZombiesInSmashingRange=function(t){t||(t=this);var e=c.createRectangleCenter(new r(t.worldPositionX,t.inLane.midY),2*m.SquareWidth,m.SquareHeight);return t.inLane.zombiePool().filter((function(t){return e.judgeCrossRec(t.bodyRec)}))},s.getZombieNearbyHealth=function(t){var e=0;return this.getZombiesInSmashingRange(t).forEach((function(t){e+=t.health})),e},s.smashZombies=function(){var t=!1,e=this._objdataOwn.SmashDamage;this._dmgScale>0&&(e*=this._dmgScale);var i=new g(e,!0,!0,!0,new r(0,-20));i.bugKiller=!0,this.getZombiesInSmashingRange(this.lockedTarget).forEach((function(e){e.dealDamage(i),t=!0}));var o=!1;if(!this.fooding){var n=this.inLnC.getTileType();n==p.water||n==p.sea?(this.body.setParent(this.node,!0),this.drown(n==p.sea),o=!0):n==p.sky?(this.body.setParent(this.node,!0),this.fall(),o=!0):t&&(this.deathAnm="null",this.die())}this.lockedTarget=null,this.lookedAtTarget=null,o||(b.shakeScreen(),this.soundRes.playSmash()),this.fooding&&this.foodLeftTime<0&&this.foodEnd()},s.smashToZombie=function(t){var e=this;t?(this.body.setParent(t.inLane.prjLayer,!0),this.foodable=!1,this.squashTween=h(this).to(.2,{height:120,worldPositionX:t.shadeSocket.worldPosition.x,worldPositionY:t.worldPositionY},{easing:"quadOut"}).to(.2,{}).call((function(){e.lockedTarget=t,e.anmControl.playAnimation("Fall"+(e.facingLeft?"L":"R")+(e.fooding?"":"Fade"),1)})).to(.1,{height:0}).call((function(){e.squashTween=null,e.smashZombies(),e.foodable=!0})).start()):(this.body.setParent(this.node,!0),this.facingLeft=this.plantInLnC.plantPoint.worldPosition.x<this._worldPositionX,this.foodable=!1,this.squashTween=h(this).to(.2,{height:120,worldPositionX:this.plantInLnC.plantPoint.worldPosition.x,worldPositionY:this.plantInLnC.plantPoint.worldPosition.y},{easing:"quadOut"}).to(.2,{}).call((function(){e.anmControl.playAnimation("Fall"+(e.facingLeft?"L":"R")+(e.fooding?"":"Fade"),1)})).to(.1,{height:0}).call((function(){e.busy=!1,e.squashTween=null,e.smashZombies(),e.foodable=!0})).start())},s.bindsToPots=function(){return!this.squashTween&&!this.fooding},s.specialPlantOnSquareChange=function(t,e){this.detector=c.createRectangleNodeCenter(this.plantInLnC.node,3*m.SquareWidth,m.SquareHeight),this.lookedAtTarget||this.squashTween||this.lookedAtTarget||this.busy||this.fooding||this.detectEnemies()},s.waterable=function(){return!this.busy},s.detectEnemies=function(){var t=this,e=1/0,i=null;this.inLane.zombiePool().forEach((function(o){var n=o.bodyRec.prjX().x;n<e&&o.bodyRec.judgeCrossRec(t.detector)&&(i=o,e=n)})),i&&this.lookAtZombie(i)},s.burn=function(){},s.specialPlantUpdate=function(t,e,i){this.lockedTarget&&(this.worldPositionX=this.lockedTarget.shadeSocket.worldPosition.x,this.worldPositionY=this.lockedTarget.worldPositionY),(!this.busy||this.lockedTarget&&!this.lockedTarget.isAlive())&&(this.lockedTarget=null),(!this.busy||this.lookedAtTarget&&!this.lookedAtTarget.isAlive())&&(this.lookedAtTarget=null),this.lookedAtTarget||this.lookedAtTarget||this.busy||this.fooding||!(i>0)||this.detectEnemies()},s.specialPlantUpdateForce=function(t,e,i){this.body.worldPosition=this.node.worldPosition},e}(u)).prototype,"soundRes",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new E}}),D=I))||D));s._RF.pop()}}}));

System.register("chunks:///_virtual/stageEffect.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SoundRescourses.ts"],(function(t){var i,n,e,a,r,o,s,l,p,u,c;return{setters:[function(t){i=t.applyDecoratedDescriptor,n=t.inheritsLoose,e=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){r=t.cclegacy,o=t._decorator,s=t.AudioClip,l=t.dragonBones,p=t.find,u=t.Component},function(t){c=t.sounds}],execute:function(){var d,h,f,y,m,g,A;r._RF.push({},"c9464IbAxdGdJwFFQW8KmBd","stageEffect",void 0);var S=o.ccclass,w=o.property;t("StageEffect",(d=S("stageEffect"),h=w([s]),f=w([s]),d((g=i((m=function(t){function i(){for(var i,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(i=t.call.apply(t,[this].concat(r))||this).lower=null,i.upper=null,i.initiated=!1,e(i,"startSound0",g,a(i)),e(i,"startSound1",A,a(i)),i}n(i,t);var r=i.prototype;return r.onEnable=function(){this.lower=this.getComponent(l.ArmatureDisplay),this.upper=p("Canvas/LawnCommon/stageEffect/"+this.node.name).getComponent(l.ArmatureDisplay),this.playNone()},r.playEnd=function(){this.initiated&&(this.initiated=!1,this.upper.playAnimation("End"),this.lower.playAnimation("End"))},r.playNone=function(){this.initiated&&(this.upper.playAnimation("None"),this.lower.playAnimation("None"),this.initiated=!1)},r.playIdle=function(){this.initiated||(this.upper.playAnimation("Idle"),this.lower.playAnimation("Idle"),this.initiated=!0)},r.playStart=function(){this.initiated||(this.upper.playAnimation("Start"),this.lower.playAnimation("Start"),this.startSound0.length&&c.playArray(this.startSound0,1,0),this.startSound1.length&&c.playArray(this.startSound1,1,0),this.initiated=!0)},i}(u)).prototype,"startSound0",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=i(m.prototype,"startSound1",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y=m))||y));r._RF.pop()}}}));

System.register("chunks:///_virtual/Stallia.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./CharacterManager.ts","./Square.ts","./SoundRescourses.ts","./levelController.ts"],(function(e){var n,t,o,r,i,a,l,s,u,c,p,d,h,f,b,m;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,o=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){i=e.cclegacy,a=e._decorator,l=e.AudioClip,s=e.Color,u=e.tween},function(e){c=e.Plant,p=e.PlantProps},function(e){d=e.Rectangle,h=e.ZombiePool},function(e){f=e.Square},function(e){b=e.sounds},function(e){m=e.LevelPlay}],execute:function(){var y,S,w,C,P,g,v,R,L,E,z,D,x,T,q,j;i._RF.push({},"c8ac1JjQAJDaqryEOtad9Lt","Stallia",void 0);var A=a.ccclass,F=a.property,_=function(e){function n(){for(var n,t=arguments.length,o=new Array(t),r=0;r<t;r++)o[r]=arguments[r];return(n=e.call.apply(e,[this].concat(o))||this).PerfumeDuration=12,n.PerfumeDurationPlantfood=12,n}return t(n,e),n}(p),O=(y=A("stalliaSound"),S=F([l]),w=F([l]),y((g=n((P=function(){function e(){o(this,"foodSound",g,this),o(this,"explodeSound",v,this)}var n=e.prototype;return n.playFoodSound=function(){b.playArray(this.foodSound,1,.1)},n.playExplodeSound=function(){b.playArray(this.explodeSound,1,.1)},e}()).prototype,"foodSound",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=n(P.prototype,"explodeSound",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C=P))||C);e("StalliaPlant",(R=A("StalliaPlant"),L=F(O),E=F(s),z=F(s),R((T=n((x=function(e){function n(){for(var n,t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return n=e.call.apply(e,[this].concat(i))||this,o(n,"soundRes",T,r(n)),n._objdataOwn=new _,o(n,"purple1",q,r(n)),o(n,"purple2",j,r(n)),n.screenColor=new s(0,0,0,0),n.screenColorTween=void 0,n.detector=new d,n}t(n,e);var i=n.prototype;return i.specialPlantOnEnable=function(){this.eaterDetectable=!1,this.smasherDetectable=!1,this.screenColorTween=null},i.specialPlantLateUpdate=function(e){0!=this.screenColor.a&&!this.sheepend&&this.screenColorTween&&m.screenFlashColors.push(this.screenColor)},i.specialPlantFood=function(e){this.anmControl.playAnimation("Food")},i.animationListener=function(e){var n=this;if("explode"==e.name){var t,o=d.createRectangleNodeCenter(this.inLnC.node,3*f.SquareWidth,3*f.SquareHeight);this.soundRes.playExplodeSound(),null==(t=this.inLane)||t.zombiePool().concat(this.inLane.UpperLane.zombiePool(),this.inLane.LowerLane.zombiePool()).forEach((function(e){e.bodyRecReal.judgeCrossRec(o)&&e.setPerfume(n._objdataOwn.PerfumeDuration)}))}else if("foodExplode"==e.name){h.pool().concat().forEach((function(e){e.setPerfume(n._objdataOwn.PerfumeDurationPlantfood)}));var r=u(this.screenColor).to(1/60/this.anmControl.db.timeScale,{r:this.purple2.r,g:this.purple2.g,b:this.purple2.b,a:this.purple2.a}).to(1/4/this.anmControl.db.timeScale,{a:0}).call((function(){n.screenColorTween=null})).start();this.screenColorTween=r,this.bodyTweens.push(r)}else if("foodEnd"==e.name)this.foodEnd();else if("foodExplodeStart"==e.name){this.soundRes.playFoodSound(),this.screenColor=new s(this.purple1.r,this.purple1.g,this.purple1.b,0);var i=u(this.screenColor).to(.4/this.anmControl.db.timeScale,{a:this.purple1.a}).start();this.screenColorTween=i,this.bodyTweens.push(i)}},i.specialPlantUpdate=function(e,n,t){this.fooding||this.sheepend||this.detectEnemy()},i.detectEnemy=function(){var e,n=this,t=!1;null==(e=this.inLane)||e.zombiePool().forEach((function(e){t||e.shouldSpeedScale()*e.randomSpeed>0&&e.bodyRec.judgeCrossRec(n.detector)&&(t=!0)})),t&&this.die()},i.specialPlantOnSquareChange=function(e,n){this.detector=d.createRectangleNodeCenter(n.node,.5*f.SquareWidth,f.SquareHeight)},n}(c)).prototype,"soundRes",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new O}}),q=n(x.prototype,"purple1",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new s(255,255,255,255)}}),j=n(x.prototype,"purple2",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new s(255,255,255,255)}}),D=x))||D));i._RF.pop()}}}));

System.register("chunks:///_virtual/StarFruit.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Peashooter.ts","./Square.ts","./CharacterManager.ts","./SoundRescourses.ts"],(function(t){var o,e,n,i,r,a,u,s,c,d,l,h,f,p,S,y;return{setters:[function(t){o=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,u=t.AudioClip,s=t.Prefab,c=t.HALF_PI,d=t.Vec2},function(t){l=t.PeashooterPlant},function(t){h=t.Square},function(t){f=t.Rectangle,p=t.ZombiePool,S=t.TombPool},function(t){y=t.sounds}],execute:function(){var g,b,m,F,R,P,q,v,w,D,C,_,A,E,L,j;r._RF.push({},"e7d20dLX0JKjqlLE9Yio589","StarFruit",void 0);var z=a.ccclass,H=a.property,W=(g=z("starFruitSound"),b=H([u]),m=H([u]),F=H([u]),g((q=o((P=function(){function t(){n(this,"shootSound",q,this),n(this,"foodSound",v,this),n(this,"piano",w,this)}var o=t.prototype;return o.playShootSound=function(){y.playArray(this.shootSound,1,.1)},o.playFoodSound=function(){y.playArray(this.foodSound,1,.1)},o.playPiano=function(t){t>=1&&t<=6&&this.piano.length>t-1&&y.playOneShot(this.piano[t-1],2,.1)},t}()).prototype,"shootSound",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=o(P.prototype,"foodSound",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),w=o(P.prototype,"piano",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=P))||R);t("StarFruitPlant",(D=z("StarFruit"),C=H(s),_=H(W),D((L=o((E=function(t){function o(){for(var o,e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return o=t.call.apply(t,[this].concat(r))||this,n(o,"peaFood",L,i(o)),o.sideDetectors=[],o.laneDetector=null,n(o,"soundResStar",j,i(o)),o}e(o,t);var r=o.prototype;return r.specialPlantFood=function(){this.anmControl.playAnimation("FoodStart",1/0),this.busy=1/0},r.setDetecter=function(t,o){this.sideDetectors=[],this.sideDetectors.push(f.createRectangleNodeCenter(o.node,30,5*h.SquareHeight),f.createRectangleNodeSide(o.node,10*h.SquareWidth,30,90*Math.atan2(h.SquareHeight,1.732*h.SquareWidth)/c),f.createRectangleNodeSide(o.node,10*h.SquareWidth,30,90*-Math.atan2(h.SquareHeight,1.732*h.SquareWidth)/c)),this.laneDetector=f.createRectangleNodeSide(o.node,-(o.cIndex+1)*h.SquareWidth,h.SquareHeight)},r.detectEnemy=function(){var t=this,o=!1;return this.inLane.zombiePool().forEach((function(e){o||e.isAlive()&&e.bodyRecForShooter.judgeCrossRec(t.laneDetector)&&(o=!0)})),!!o||(this.inLane.tombPool().forEach((function(e){o||e.bodyRec.judgeCrossRec(t.laneDetector)&&(o=!0)})),!!o||(p.pool().concat().forEach((function(e){o||t.sideDetectors.forEach((function(t){o||t.judgeCrossRec(e.bodyRecForShooter)&&(o=!0)}))})),!!o||(S.pool().concat().forEach((function(e){o||t.sideDetectors.forEach((function(t){o||t.judgeCrossRec(e.bodyRec)&&(o=!0)}))})),o)))},r.specialPlantFoodEnd=function(){this.busy=0,this.anmControl.playAnimation("FoodEnd",1)},r._shootStars=function(t,o,e,n){void 0===t&&(t=!1),void 0===o&&(o=!1),void 0===e&&(e=this._objdataOwn.PeaType),void 0===n&&(n=11);for(var i=0,r=[new d(-1,0),new d(0,1),new d(0,-1),new d(1.732*h.SquareWidth,h.SquareHeight),new d(1.732*h.SquareWidth,-h.SquareHeight)];i<r.length;i++){var a=r[i];this._shoot(t,o,e,n,a)}},r.onFoodLeftPeaCountDec=function(){this._shootStars(!0,!0,this._objdataOwn.PeaTypePlantfood,11)},r.animationListener=function(t){"Shoot"==t.name&&(this._shootStars(),this.soundResStar.playShootSound()),"foodStart"==t.name&&(this.soundResStar.playFoodSound(),this.anmControl.playAnimation("Fooding",1/0),this.anmControl.playAnimation("Fooding",1/0),this.foodShooting())},o}(l)).prototype,"peaFood",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=o(E.prototype,"soundResStar",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new W}}),A=E))||A));r._RF.pop()}}}));

System.register("chunks:///_virtual/StegoDinosaur.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Dinosaur.ts","./SoundRescourses.ts","./Square.ts","./CharacterManager.ts","./ArrayGet.ts","./levelController.ts"],(function(i){var n,t,e,a,o,s,r,h,l,u,d,c,g,m,y,p,b,w;return{setters:[function(i){n=i.applyDecoratedDescriptor,t=i.inheritsLoose,e=i.initializerDefineProperty,a=i.assertThisInitialized,o=i.createClass},function(i){s=i.cclegacy,r=i._decorator,h=i.AudioClip,l=i.Vec2},function(i){u=i.Dinosaur,d=i.DinosaurProps},function(i){c=i.sounds},function(i){g=i.Square},function(i){m=i.Rectangle,y=i.ZombieDamageDetails},function(i){p=i.ValueRange,b=i.ArrayGet},function(i){w=i.LevelPlay}],execute:function(){var f,S,C,A,L,T,v,P,O,D,Z,I,j,R,_,x,k;s._RF.push({},"d11b97XDj9BzrQJzwhWtd1b","StegoDinosaur",void 0);var z=r.ccclass,E=r.property,M=function(i){function n(){for(var n,t=arguments.length,e=new Array(t),a=0;a<t;a++)e[a]=arguments[a];return(n=i.call.apply(i,[this].concat(e))||this).MaxThrowingTime=3,n.MaxZombiesToSitOnce=3,n.IdleColumn=6.5,n.DirectDamage=2700,n.SplashDamage=200,n.ThrowColumn=new p(4,3),n}return t(n,i),n}(d);i("StegoDinosaur",(f=z("StegoDinosaur"),S=E([h]),C=E([h]),A=E([h]),L=E([h]),T=E([h]),v=E([h]),P=E([h]),f((Z=n((D=function(i){function n(){for(var n,t=arguments.length,o=new Array(t),s=0;s<t;s++)o[s]=arguments[s];return(n=i.call.apply(i,[this].concat(o))||this)._objdataOwnOrg=new M,n._objdataOwn=new M,n.tailEntering=!1,n.tailing=!1,n.entering=!1,n.isAnnoyed=!1,n.exiting=!1,n.LeftThrows=3,n.ZombiesContained=[],n.isSmashing=!1,e(n,"swingSounds",Z,a(n)),e(n,"yawnSounds",I,a(n)),e(n,"saySounds",j,a(n)),e(n,"stepSounds",R,a(n)),e(n,"rubSounds",_,a(n)),e(n,"smashSounds",x,a(n)),e(n,"throwSounds",k,a(n)),n.walkXRange=new p(500,500),n}t(n,i);var s=n.prototype;return s.playTailEnter=function(){this.LeaveCD=this.objdataOwn.MaxWonderingTime,this.playSwitching(),this.db.playAnimation("Intro_Tail",1),this.tailEntering=!0,this.tailing=!0,this.node.setParent(this.inLane.prjLayer,!0)},s.displayEnteringTimeScale=function(){return 2},s.animationOnComplete=function(){this.switching=!1,this.leaving?!this.tailing&&this.LeftThrows>0&&this.charmed?(this.leaving=!1,this.playTailEnter()):this.chomp():this.isAnnoyed?(this.playTailEnter(),this.isAnnoyed=!1):this.LeftThrows<=0?this.playLeave():this.ZombiesContained.length>0?this.playTailSwing():this.playIdle()},s.onReverseSet=function(i){this.setPosition()},s.onObjdataSet=function(i){this.setPosition(),this.LeftThrows=this.objdataOwn.MaxThrowingTime},s.onLaneSpawnSettled=function(i){this.setPosition()},s.playIntro=function(){this.playSwitching();var i="Intro"+this.CharmedTail,n=0;this.entering&&(n=this.getCurrentAnimationProgress()),this.entering=!0,this.dbAnimation.gotoAndPlayByProgress(i,n,1)},s.playAnnoy=function(){this.LeaveCD=1/0,this.playSwitching();var i="Annoy"+this.CharmedTail,n=0;this.isAnnoyed&&(n=this.getCurrentAnimationProgress()),this.isAnnoyed=!0,this.dbAnimation.gotoAndPlayByProgress(i,n,1)},s.playOutro=function(){this.playSwitching();var i="Outro"+this.CharmedTail,n=0;this.exiting&&(n=this.getCurrentAnimationProgress()),this.exiting=!0,this.dbAnimation.gotoAndPlayByProgress(i,n,1)},s.playTailExit=function(){this.playSwitching(),this.db.playAnimation("Outro_Tail",1)},s.setPosition=function(){var i=this.objdataOwn.IdleColumn;isNaN(i)&&(i=8),this.reversed&&(i=8-i);var n=g.getSquareWorldPosition(0,i).x;this.worldPositionX=n},s.playSwitching=function(){this.switching=!0},s.playIdle=function(){this.switching=!1,this.entering=!1,this.exiting=!1,this.leaving=!1,this.tailEntering=!1,this.isAnnoyed=!1,this.db.playAnimation(this.IdleAnm,1)},s.getZombiesInRange=function(i){var n=this;return this.inLane.zombiePool().concat(this.inLane.hypnoZombiePool()).filter((function(t){return-1==n.ZombiesContained.indexOf(t)&&t.knockBackable&&!t.grabbingPtero&&t.specialZombieLeapable()&&!t.knockBackTween&&t.leapable&&i.judgeCrossRec(t.bodyRec)}))},s.detectZombie=function(i){var n=this;if((!this.switching||this.isSmashing)&&this.inLane&&i>0){var t=this.tailing?m.createRectangleCenter(new l(this.worldPositionX,this.inLane.midY),g.SquareWidth,g.SquareHeight):m.createRectangleSide(new l(this.worldPositionX,this.inLane.midY),g.SquareWidth*(8.5-this.objdataOwn.IdleColumn)*Math.sign(this.scale),g.SquareHeight),e=this.getZombiesInRange(t);e.length&&(this.tailing?e.forEach((function(i){n.ZombiesContained.length<n.objdataOwn.MaxZombiesToSitOnce&&n.ZombiesContained.push(i)})):this.playAnnoy())}},s.playTailSwing=function(){this.isSmashing=!0,this.playSwitching(),this.LeaveCD=this.objdataOwn.MaxWonderingTime,this.charmed?this.db.playAnimation("Smash_Tail",1):this.db.playAnimation("Throw_Tail",1)},s.specialDinosaurLeave=function(){this.tailing?this.playTailExit():this.playOutro()},s.animationListener=function(i){switch(i.name){case"say":c.playArray(this.saySounds,1,NaN);break;case"step":c.playArray(this.stepSounds,1,NaN);break;case"rub":c.playArray(this.rubSounds,1,NaN);break;case"yawn":c.playArray(this.yawnSounds,1,.2);break;case"swing":c.playArray(this.swingSounds,1,NaN);break;case"smash":c.playArray(this.smashSounds,1,NaN),w.shakeScreen(),this._smash();break;case"throw":c.playArray(this.throwSounds,1,.1),this.charmed||this._throw()}},s._smash=function(){var i=this;if(this.isSmashing=!1,this.ZombiesContained.length){this.LeftThrows--;var n=m.createRectangleCenter(new l(this.worldPositionX,this.inLane.midY),4*g.SquareWidth,3*g.SquareHeight),t=new y(this.objdataOwn.DirectDamage,!0,!0,!0,null),e=new y(this.objdataOwn.SplashDamage,!0,!0,!0,null);this.inLane.zombiePool().concat(this.inLane.hypnoZombiePool(),this.inLane.UpperLane.zombiePool(),this.inLane.UpperLane.hypnoZombiePool(),this.inLane.LowerLane.zombiePool(),this.inLane.LowerLane.hypnoZombiePool()).filter((function(t){return-1==i.ZombiesContained.indexOf(t)&&n.judgeCrossRec(t.bodyRec)})).forEach((function(i){i.dealDamage(e)})),this.ZombiesContained.forEach((function(i){i.dealDamage(t)}))}this.ZombiesContained=[]},s._throw=function(){var i=this;this.isSmashing=!1,this.ZombiesContained.length&&(this.LeftThrows--,this.ZombiesContained.forEach((function(n){var t=p.getRandomFromRange(i.objdataOwn.ThrowColumn),e=g.getSquareWorldPosition(0,i.reversed?8-t:t).x;n.leapTo(new l(e,g.getRandomLane().floorY),!0,.3+.3*Math.random(),50+25*Math.random(),!0,!1)}))),this.ZombiesContained=[]},s.onCharmedSet=function(i){this.entering?this.playIntro():this.exiting?this.playOutro():this.isAnnoyed?this.playAnnoy():this.switching||this.playIdle(),this.ZombiesContained=[],this.LeftThrows=this.objdataOwn.MaxThrowingTime},s.specialDinosaurDisplay=function(){this.playIntro()},s.specialDinosaurOnEnable=function(){this.ZombiesContained=[],this.tailing=!1,this.playIdle(),this.playIntro()},s.specialDinosaurUpdate=function(i,n,t){var e=this;t>0&&!this.leaving&&(this.ZombiesContained=this.ZombiesContained.filter((function(i){return i.isAlive()&&!i.grabbingPtero})),this.detectZombie(i),this.ZombiesContained.forEach((function(n){var t=e.worldPositionX-n.worldPositionX;n.bodyRecHiddenCD=.1,n.setStun(.1);var a=t*i*3;n.worldPositionX+=a})))},s.displayXOffset=function(){return-110},o(n,[{key:"objdataOwn",get:function(){return this._objdataOwn}},{key:"objdataOwnOrg",get:function(){return this._objdataOwnOrg}},{key:"IdleAnm",get:function(){return this.tailing?"Idle_Tail":b.getRandom(this.charmed?["Idle0_Charmed","Idle1_Charmed","Idle2_Charmed"]:["Idle0","Idle1","Idle2","Idle3"])}}]),n}(u)).prototype,"swingSounds",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),I=n(D.prototype,"yawnSounds",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j=n(D.prototype,"saySounds",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=n(D.prototype,"stepSounds",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=n(D.prototype,"rubSounds",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),x=n(D.prototype,"smashSounds",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=n(D.prototype,"throwSounds",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=D))||O));s._RF.pop()}}}));

System.register("chunks:///_virtual/Store.ts",["./rollupPluginModLoBabelHelpers.js","cc","./StoreCommodity.ts","./Shovel.ts","./KeyListener.ts","./SoundRescourses.ts","./PlayerProperties.ts","./StoreCostumeSeller.ts","./NPC_Controller.ts","./SproutCount.ts"],(function(t){var e,n,i,o,r,s,c,a,u,l,h,p,f,m,w,g,d,y,b,v,P,S,I,T,x,C,_,O;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized,r=t.asyncToGenerator,s=t.regeneratorRuntime,c=t.createForOfIteratorHelperLoose},function(t){a=t.cclegacy,u=t._decorator,l=t.Prefab,h=t.Node,p=t.ScrollView,f=t.JsonAsset,m=t.AudioClip,w=t.Vec2,g=t.input,d=t.Input,y=t.KeyCode,b=t.Component,v=t.instantiate},function(t){P=t.StoreCommodity},function(t){S=t.Shovel},function(t){I=t.KeyListener},function(t){T=t.sounds},function(t){x=t.AllPlayerProperties},function(t){C=t.StoreCostumeSeller},function(t){_=t.npc_controller},function(t){O=t.SproutCount}],execute:function(){var z,k,E,L,D,F,N,U,R,M,G,W,A,K,J,Z,V,j,B,H,Y,q,Q,X,$,tt,et,nt,it,ot,rt,st;a._RF.push({},"feb4drcSKVLGIUlI2C+KmzD","Store",void 0);var ct=u.ccclass,at=u.property,ut=function(){this.Plants=[],this.Upgrade=[],this.Gem=[],this.Coin=[],this.Zen=[]};t("Store",(z=ct("Store"),k=at(l),E=at(h),L=at(p),D=at(f),F=at(S),N=at(S),U=at(S),R=at(S),M=at(S),G=at(S),W=at(m),A=at(O),K=at(l),J=at(h),z(((st=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return e=t.call.apply(t,[this].concat(r))||this,i(e,"commodityPF",j,o(e)),i(e,"commodityParent",B,o(e)),i(e,"scrollview",H,o(e)),i(e,"commodityJson",Y,o(e)),i(e,"plantIcon",q,o(e)),i(e,"upgradeIcon",Q,o(e)),i(e,"coinIcon",X,o(e)),i(e,"gemIcon",$,o(e)),i(e,"zenIcon",tt,o(e)),i(e,"costumeIcon",et,o(e)),i(e,"switchSound",nt,o(e)),e.waiting=!1,i(e,"sproutShower",it,o(e)),i(e,"costumeDisplayerPF",ot,o(e)),e.commodities=new ut,i(e,"mouseListener",rt,o(e)),e}n(e,t);var a=e.prototype;return a.scrowL=function(){var t=this.scrollview.getScrollOffset();this.scrollview.scrollToOffset(new w(-(t.x+500),t.y),.2)},a.scrowR=function(){var t=this.scrollview.getScrollOffset();this.scrollview.scrollToOffset(new w(-(t.x-500),t.y),.2)},a.exit=function(){I.darken((function(){I.goToLastScene()}))},a.switchPage=function(){var t=r(s().mark((function t(e){var n,i,o,r,a;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.sproutShower.node.active=!1,[this.plantIcon,this.upgradeIcon,this.coinIcon,this.gemIcon,this.costumeIcon,this.zenIcon].forEach((function(t){t.unchoose()})),this.commodityParent.destroyAllChildren(),n=c(e);case 4:if((i=n()).done){t.next=13;break}return o=i.value,(r=v(this.commodityPF)).parent=this.commodityParent,a=r.getComponent(P),t.next=11,a.readCommodity(o);case 11:t.next=4;break;case 13:T.playOneShot(this.switchSound,1,.1);case 14:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),a.switchToPlants=function(){var t=r(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.waiting){t.next=2;break}return t.abrupt("return");case 2:return this.waiting=!0,t.next=5,this.switchPage(this.commodities.Plants);case 5:this.plantIcon.choose(),this.waiting=!1;case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),a.switchToUpgrades=function(){var t=r(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.waiting){t.next=2;break}return t.abrupt("return");case 2:return this.waiting=!0,t.next=5,this.switchPage(this.commodities.Upgrade);case 5:this.upgradeIcon.choose(),this.waiting=!1;case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),a.switchToCoin=function(){var t=r(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.waiting){t.next=2;break}return t.abrupt("return");case 2:return this.waiting=!0,t.next=5,this.switchPage(this.commodities.Coin);case 5:this.coinIcon.choose(),this.waiting=!1;case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),a.switchToGem=function(){var t=r(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.waiting){t.next=2;break}return t.abrupt("return");case 2:return this.waiting=!0,t.next=5,this.switchPage(this.commodities.Gem);case 5:this.gemIcon.choose(),this.waiting=!1;case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),a.switchToZen=function(){var t=r(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.waiting){t.next=2;break}return t.abrupt("return");case 2:return this.waiting=!0,t.next=5,this.switchPage(this.commodities.Zen);case 5:this.sproutShower.node.active=!0,this.zenIcon.choose(),this.waiting=!1;case 8:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),a.switchToCostume=function(){var t=r(s().mark((function t(){var e,n,i,o,r,a;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.waiting){t.next=2;break}return t.abrupt("return");case 2:return this.waiting=!0,t.next=5,this.switchPage([]);case 5:e=x.getToday().plantCostumeToday,n=c(e);case 7:if((i=n()).done){t.next=16;break}return o=i.value,(r=v(this.costumeDisplayerPF)).parent=this.commodityParent,a=r.getComponent(C),t.next=14,a.readCostume(o);case 14:t.next=7;break;case 16:this.costumeIcon.choose(),this.waiting=!1;case 18:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),a.onLoad=function(){var t=this;e.component=this,this.commodities=this.commodityJson.json,g.on(d.EventType.KEY_DOWN,(function(e){var n;(null==_||null==(n=_.CurrentFlow)?void 0:n.length)>0?_.RunFlow():e.keyCode==y.ESCAPE&&t.exit()}),this)},a.start=function(){var t=this;this.plantIcon.listener.on(h.EventType.MOUSE_DOWN,(function(e){t.switchToPlants()}),this),this.upgradeIcon.listener.on(h.EventType.MOUSE_DOWN,(function(e){t.switchToUpgrades()}),this),this.gemIcon.listener.on(h.EventType.MOUSE_DOWN,(function(e){t.switchToGem()}),this),this.zenIcon.listener.on(h.EventType.MOUSE_DOWN,(function(e){t.switchToZen()}),this),this.coinIcon.listener.on(h.EventType.MOUSE_DOWN,(function(e){t.switchToCoin()}),this),this.costumeIcon.listener.on(h.EventType.MOUSE_DOWN,(function(e){t.switchToCostume()}),this),this.switchToPlants();var e=x.getTutorialProps();this.mouseListener.on(h.EventType.MOUSE_DOWN,this.runNPC,this),this.npc_off(),!e.premium_bring_out&&e.premium_unlock?(e.premium_bring_out=!0,this.mouseListener.active=!0,this.scheduleOnce((function(){var t=_.Getflow("PREMIUM_BRING_OUT");_.SetFlow(t)}),1),x.savePP()):!e.store_intro&&e.store_open&&(e.store_intro=!0,this.mouseListener.active=!0,this.scheduleOnce((function(){var t=_.Getflow("STORE_INTRO");_.SetFlow(t)}),1),x.savePP())},a.runNPC=function(t){var e;(null==_||null==(e=_.CurrentFlow)?void 0:e.length)>0&&_.RunFlow()},a.npc_off=function(){this.mouseListener&&(this.mouseListener.active=!1)},e}(b)).component=void 0,j=e((V=st).prototype,"commodityPF",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=e(V.prototype,"commodityParent",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=e(V.prototype,"scrollview",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=e(V.prototype,"commodityJson",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=e(V.prototype,"plantIcon",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=e(V.prototype,"upgradeIcon",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=e(V.prototype,"coinIcon",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=e(V.prototype,"gemIcon",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),tt=e(V.prototype,"zenIcon",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),et=e(V.prototype,"costumeIcon",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),nt=e(V.prototype,"switchSound",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),it=e(V.prototype,"sproutShower",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ot=e(V.prototype,"costumeDisplayerPF",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rt=e(V.prototype,"mouseListener",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=V))||Z));a._RF.pop()}}}));

System.register("chunks:///_virtual/StoreCommodity.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NodePools.ts","./Plants.ts","./Trophies.ts","./MultiLanguage.ts","./PlayerProperties.ts","./Droppings.ts","./Prizes.ts","./Materials.ts","./GemCount.ts","./CoinCount.ts","./UpgradeTrophy.ts","./AnimationController.ts","./SproutCount.ts"],(function(t){var e,n,o,i,r,a,u,l,s,c,m,p,y,d,b,g,h,C,w,f,S,k,B,v,L,D,P,z,N,T,W,U,I;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized,r=t.createClass,a=t.asyncToGenerator,u=t.regeneratorRuntime},function(t){l=t.cclegacy,s=t._decorator,c=t.Sprite,m=t.SpriteFrame,p=t.Prefab,y=t.Label,d=t.Node,b=t.Button,g=t.Color,h=t.Component,C=t.Vec3,w=t.dragonBones},function(t){f=t.instantiatePooly},function(t){S=t.plants},function(t){k=t.UpgradeEnum},function(t){B=t.MultiLanguage},function(t){v=t.AllPlayerProperties,L=t.LevelProgress},function(t){D=t.droppings},function(t){P=t.prizeRes},function(t){z=t.materialRes},function(t){N=t.GemCount},function(t){T=t.CoinCount},function(t){W=t.UpgradeTrophy},function(t){U=t.AnimationController},function(t){I=t.SproutCount}],execute:function(){var A,x,F,R,G,M,_,q,E,O,j,H,K,Q,V,Y,J,X,Z,$,tt,et,nt,ot,it,rt,at,ut,lt,st,ct,mt,pt,yt,dt,bt,gt,ht,Ct,wt,ft,St,kt;l._RF.push({},"2d79ejWBKpGIYqDFe7Uya5/","StoreCommodity",void 0);var Bt=s.ccclass,vt=s.property,Lt=t("StoreCommodityProps",(function(){this.CommodityType="plant",this.CommodityName="peashooter",this.CommodityDisplayName=new B,this.CommodityCount=1,this.StackLevel=0,this.CurrencyType="coin",this.CurrencyRequired=1e3,this.UnlockLevel=null}));t("StoreCommodity",(A=Bt("StoreCommodity"),x=vt(c),F=vt(m),R=vt(m),G=vt(m),M=vt(m),_=vt(p),q=vt(p),E=vt(p),O=vt(y),j=vt(y),H=vt(d),K=vt(b),Q=vt(c),V=vt(y),Y=vt(c),J=vt(c),X=vt(m),Z=vt(m),$=vt(m),tt=vt(m),A((ot=e((nt=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,o(e,"window",ot,i(e)),o(e,"plantWindow",it,i(e)),o(e,"upgradeWindow",rt,i(e)),o(e,"gemWindow",at,i(e)),o(e,"coinWindow",ut,i(e)),o(e,"coinStack",lt,i(e)),o(e,"gemStack",st,i(e)),o(e,"sproutStack",ct,i(e)),o(e,"nameLabel",mt,i(e)),o(e,"countLabel",pt,i(e)),o(e,"displaySlot",yt,i(e)),e.currentCommodity=new Lt,o(e,"buyButton",dt,i(e)),o(e,"buyButtonSprite",bt,i(e)),o(e,"buyButtonLabel",gt,i(e)),o(e,"buyGemIcon",ht,i(e)),o(e,"buyCoinIcon",Ct,i(e)),o(e,"gemButtonUp",wt,i(e)),o(e,"gemButtonDown",ft,i(e)),o(e,"coinButtonUp",St,i(e)),o(e,"coinButtonDown",kt,i(e)),e._soldout=!1,e}n(e,t);var l=e.prototype;return l.buy=function(){if(this.unlockable())switch(this.unlockCommodity(),this.currentCommodity.CurrencyType){case"coin":var t;null==(t=T.component)||t.addCoinCount(-this.currentCommodity.CurrencyRequired);break;case"gem":var e;null==(e=N.component)||e.addGemCount(-this.currentCommodity.CurrencyRequired)}},l.unlockable=function(){if(this.soldout)return!1;switch(this.currentCommodity.CurrencyType){case"coin":return v.currentPlayer.coin>=this.currentCommodity.CurrencyRequired;case"gem":return v.currentPlayer.gem>=this.currentCommodity.CurrencyRequired}return!1},l.unlockCommodity=function(){switch(this.currentCommodity.CommodityType){case"plant":var t=S.getPlantEnumByCodename(this.currentCommodity.CommodityName);v.unlockPlant(t),this.soldout=!0;break;case"upgrade":var e=k[this.currentCommodity.CommodityName];v.unlockUpgrade(e),this.soldout=!0;break;case"gem":var n;null==(n=N.component)||n.addGemCount(this.currentCommodity.CommodityCount);break;case"coin":var o;null==(o=T.component)||o.addCoinCount(this.currentCommodity.CommodityCount);break;case"sprout":var i;null==(i=I.component)||i.addSproutCount(this.currentCommodity.CommodityCount)}},l.readCommodity=function(){var t=a(u().mark((function t(e){var n,o,i,r,a,l,s,c,m,p,y,d,b,g,h,z,N;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.countLabel.string="",this.currentCommodity=e,t.t0=e.CommodityType,t.next="plant"===t.t0?5:"upgrade"===t.t0?31:"gem"===t.t0?45:"coin"===t.t0?54:"sprout"===t.t0?63:72;break;case 5:if(a=S.getPlantEnumByCodename(e.CommodityName),!(v.getPlantProgressByID(a).progress>0||e.UnlockLevel&&v.getLevelProgressByID(e.UnlockLevel).progress<L.unlocked_willbeFinished)){t.next=10;break}return this.node.destroy(),t.abrupt("return");case 10:return l=S.getPlantFeature(a),this.nameLabel.string=B.getString(l.NAME),this.window.spriteFrame=this.plantWindow,t.t1=f,t.next=16,S.getPlantsInCard(a,!0);case 16:if(t.t2=t.sent.plantDIS,s=(0,t.t1)(t.t2),c=S.getPlantAlmanac(a),m=c.DisplayOffset,null!=(n=this.displaySlot)&&n.active){t.next=22;break}return t.abrupt("return");case 22:return s.parent=this.displaySlot,s.scale=new C(1.2,1.2,1),s.position=new C(m.x,m.y-30),null==(p=s.getComponent(U))||null==(o=p.db)||null==(o=o.color)||o.set(255,255,255,255),null==p||p.switchCostume(-1),null==(y=null==(i=s.getChildByName("Body"))?void 0:i.getComponent(w.ArmatureDisplay))||null==(r=y.color)||r.set(255,255,255,255),t.abrupt("break",72);case 31:if(d=k[e.CommodityName],!(v.getUpgradeProgressByID(d).progress>0)){t.next=36;break}return this.node.destroy(),t.abrupt("return");case 36:return this.window.spriteFrame=this.upgradeWindow,b=f(D.UpgradeTrophy),g=P.upgradeFeature()[d],b.parent=this.displaySlot,b.position=new C(0,-50),b.getComponent(W).readID(d,!0),this.nameLabel.string=B.getString(g.NAME),t.abrupt("break",72);case 45:return(h=f(this.gemStack)).parent=this.displaySlot,h.position=new C(0,-50),h.getComponent(w.ArmatureDisplay).playAnimation("stack"+e.StackLevel.toString()),this.window.spriteFrame=this.gemWindow,this.nameLabel.string=B.getString(e.CommodityDisplayName),this.countLabel.string="x"+B.getNumberWithThousandComma(e.CommodityCount),t.abrupt("break",72);case 54:return(z=f(this.coinStack)).parent=this.displaySlot,z.position=new C(0,-50),z.getComponent(w.ArmatureDisplay).playAnimation("stack"+e.StackLevel.toString()),this.window.spriteFrame=this.coinWindow,this.nameLabel.string=B.getString(e.CommodityDisplayName),this.countLabel.string="x"+B.getNumberWithThousandComma(e.CommodityCount),t.abrupt("break",72);case 63:return(N=f(this.sproutStack)).parent=this.displaySlot,N.position=new C(0,-50),N.getComponent(w.ArmatureDisplay).playAnimation("stack"+e.StackLevel.toString()),this.window.spriteFrame=this.plantWindow,this.nameLabel.string=B.getString(e.CommodityDisplayName),this.countLabel.string="x"+B.getNumberWithThousandComma(e.CommodityCount),t.abrupt("break",72);case 72:t.t3=e.CurrencyType,t.next="coin"===t.t3?75:"gem"===t.t3?80:85;break;case 75:return this.buyCoinIcon.node.active=!0,this.buyGemIcon.node.active=!1,this.buyButton.hoverSprite=this.buyButton.pressedSprite=this.coinButtonDown,this.buyButton.disabledSprite=this.buyButton.normalSprite=this.coinButtonUp,t.abrupt("break",85);case 80:return this.buyCoinIcon.node.active=!1,this.buyGemIcon.node.active=!0,this.buyButton.hoverSprite=this.buyButton.pressedSprite=this.gemButtonDown,this.buyButton.disabledSprite=this.buyButton.normalSprite=this.gemButtonUp,t.abrupt("break",85);case 85:this.soldout=!1;case 86:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),l.update=function(t){var e=this.unlockable();this.buyButtonSprite.customMaterial=e?null:z.greyMaterial,this.buyButtonSprite.color=e?new g(255,255,255,255):new g(100,100,100,255)},r(e,[{key:"soldout",get:function(){return this._soldout},set:function(t){var e,n;null!=(e=this.buyButtonSprite)&&null!=(e=e.node)&&e.active&&(this.buyButtonSprite.customMaterial=t?z.greyMaterial:null),null!=(n=this.buyButtonLabel)&&null!=(n=n.node)&&n.active&&(this.buyButtonLabel.string=t?B.getDirectQuote("[SOLD_OUT]"):B.getNumberWithThousandComma(this.currentCommodity.CurrencyRequired)),this._soldout=t}}]),e}(h)).prototype,"window",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),it=e(nt.prototype,"plantWindow",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rt=e(nt.prototype,"upgradeWindow",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),at=e(nt.prototype,"gemWindow",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ut=e(nt.prototype,"coinWindow",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),lt=e(nt.prototype,"coinStack",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),st=e(nt.prototype,"gemStack",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ct=e(nt.prototype,"sproutStack",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),mt=e(nt.prototype,"nameLabel",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pt=e(nt.prototype,"countLabel",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yt=e(nt.prototype,"displaySlot",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),dt=e(nt.prototype,"buyButton",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),bt=e(nt.prototype,"buyButtonSprite",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),gt=e(nt.prototype,"buyButtonLabel",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ht=e(nt.prototype,"buyGemIcon",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ct=e(nt.prototype,"buyCoinIcon",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),wt=e(nt.prototype,"gemButtonUp",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ft=e(nt.prototype,"gemButtonDown",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),St=e(nt.prototype,"coinButtonUp",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),kt=e(nt.prototype,"coinButtonDown",[tt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),et=nt))||et));l._RF.pop()}}}));

System.register("chunks:///_virtual/StoreCostumeSeller.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plants.ts","./MultiLanguage.ts","./PlayerProperties.ts","./Materials.ts","./CoinCount.ts","./AnimationController.ts"],(function(t){var e,n,o,i,r,u,l,a,s,c,p,b,y,m,f,h,g,d,C,B,w,S,D,P;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized,r=t.createClass,u=t.asyncToGenerator,l=t.regeneratorRuntime},function(t){a=t.cclegacy,s=t._decorator,c=t.Node,p=t.Button,b=t.Sprite,y=t.Label,m=t.SpriteFrame,f=t.Color,h=t.Component,g=t.Vec3,d=t.instantiate},function(t){C=t.plants},function(t){B=t.MultiLanguage},function(t){w=t.AllPlayerProperties},function(t){S=t.materialRes},function(t){D=t.CoinCount},function(t){P=t.AnimationController}],execute:function(){var v,I,z,k,M,L,_,U,A,x,G,O,F,R,T,j,H,N,q,Q,V,W,X,E,J;a._RF.push({},"422caMyd89MX5o01p3dA5qH","StoreCostumeSeller",void 0);var K=s.ccclass,Y=s.property;t("StoreCostumeSeller",(v=K("StoreCostumeSeller"),I=Y(c),z=Y(p),k=Y(b),M=Y(y),L=Y(b),_=Y(b),U=Y(b),A=Y(m),x=Y(m),G=Y(m),O=Y(m),v((T=e((R=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),u=0;u<n;u++)r[u]=arguments[u];return e=t.call.apply(t,[this].concat(r))||this,o(e,"displayer",T,i(e)),e.cost=3e3,e.currentPlantCostume=null,o(e,"buyButton",j,i(e)),o(e,"buyButtonSprite",H,i(e)),o(e,"buyButtonLabel",N,i(e)),o(e,"buyGemIcon",q,i(e)),o(e,"buyCoinIcon",Q,i(e)),o(e,"bg",V,i(e)),o(e,"gemButtonUp",W,i(e)),o(e,"gemButtonDown",X,i(e)),o(e,"coinButtonUp",E,i(e)),o(e,"coinButtonDown",J,i(e)),e._soldout=!1,e}n(e,t);var a=e.prototype;return a.readCostume=function(){var t=u(l().mark((function t(e){var n,o,i,r,u;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=C.getPlantBGSprite(e.plantID),this.bg.spriteFrame=o,t.t0=d,t.next=5,C.getPlantsInCard(e.plantID,!0);case 5:if(t.t1=t.sent.plantDIS,i=(0,t.t0)(t.t1),null!=(n=this.displayer)&&n.active){t.next=9;break}return t.abrupt("return");case 9:i.parent=this.displayer,i.scale=new g(1.2,1.2,1),null!=(r=C.getPlantAlmanac(e.plantID))&&r.DisplayOffset&&(i.position=new g(r.DisplayOffset.x,r.DisplayOffset.y,0)),(u=i.getComponent(P)).readCostume(e.plantID),u.switchCostume(e.costume),this.soldout=w.judgePlantCostumeIsUnlocked(e,w.getPlantProgressByID(e.plantID)),this.currentPlantCostume=e;case 19:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),a.update=function(t){var e=this.unlockable();this.buyButtonSprite.customMaterial=e?null:S.greyMaterial,this.buyButtonSprite.color=e?new f(255,255,255,255):new f(100,100,100,255)},a.start=function(){this.buyCoinIcon.node.active=!0,this.buyGemIcon.node.active=!1,this.buyButton.hoverSprite=this.buyButton.pressedSprite=this.coinButtonDown,this.buyButton.disabledSprite=this.buyButton.normalSprite=this.coinButtonUp},a.buy=function(){var t;this.unlockable()&&(this.unlockCommodity(),null==(t=D.component)||t.addCoinCount(-this.cost),this.soldout=!0)},a.unlockCommodity=function(){w.unlockPlantCostume(this.currentPlantCostume)},a.unlockable=function(){return!this.soldout&&w.currentPlayer.coin>=this.cost},r(e,[{key:"soldout",get:function(){return this._soldout},set:function(t){this.buyButtonSprite.customMaterial=t?S.greyMaterial:null,this.buyButtonLabel.string=t?B.getDirectQuote("[SOLD_OUT]"):B.getNumberWithThousandComma(this.cost),this._soldout=t}}]),e}(h)).prototype,"displayer",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=e(R.prototype,"buyButton",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=e(R.prototype,"buyButtonSprite",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=e(R.prototype,"buyButtonLabel",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=e(R.prototype,"buyGemIcon",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=e(R.prototype,"buyCoinIcon",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=e(R.prototype,"bg",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=e(R.prototype,"gemButtonUp",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=e(R.prototype,"gemButtonDown",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=e(R.prototype,"coinButtonUp",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=e(R.prototype,"coinButtonDown",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=R))||F));a._RF.pop()}}}));

System.register("chunks:///_virtual/Strawburst.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./SoundRescourses.ts","./NodePools.ts","./CharacterManager.ts","./Square.ts","./Character.ts","./strawburstPFBerry.ts","./Projectiles.ts"],(function(e){var t,i,a,r,n,o,s,h,l,c,u,g,p,d,f,w,b,m,y,S,P,C,A,L,D;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,a=e.initializerDefineProperty,r=e.assertThisInitialized,n=e.createClass,o=e.asyncToGenerator,s=e.regeneratorRuntime},function(e){h=e.cclegacy,l=e._decorator,c=e.AudioClip,u=e.Prefab,g=e.Color,p=e.Vec3,d=e.Vec2},function(e){f=e.Plant,w=e.PlantProps},function(e){b=e.sounds},function(e){m=e.instantiatePooly},function(e){y=e.Rectangle,S=e.ZombieDamageDetails,P=e.ZombieDamageType},function(e){C=e.Square},function(e){A=e.CharacterType},function(e){L=e.strawburstPFBerry},function(e){D=e.ProjectileShootingFunctions}],execute:function(){var R,k,z,x,j,O,F,v,I,T,G,_,q,E,B,H,U,V,X,W,N,Z,M,Y,J,K,Q,$,ee,te,ie,ae,re,ne,oe,se,he,le,ce,ue,ge,pe;h._RF.push({},"aca54xT7SROTIcZodLHA0zI","Strawburst",void 0);var de=l.ccclass,fe=l.property,we=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))||this).GrowTime0=7.5,t.GrowTime1=10,t.GrowTime2=15,t.Damage0=200,t.Damage1=400,t.Damage2=900,t.DamagePlantfood=400,t.CabbageType0="strawburst0",t.CabbageType1="strawburst1",t.CabbageType2="strawburst2",t}return i(t,e),t}(w),be=(R=de("StrawburstSound"),k=fe([c]),z=fe([c]),x=fe([c]),j=fe([c]),O=fe([c]),F=fe([c]),v=fe([c]),I=fe([c]),T=fe([c]),G=fe([c]),_=fe([c]),q=fe([c]),E=fe([c]),R((U=t((H=function(){function e(){a(this,"fireSay0",U,this),a(this,"fireSay1",V,this),a(this,"fireSay2",X,this),a(this,"fire",W,this),a(this,"foodLaugh",N,this),a(this,"foodSummon",Z,this),a(this,"hit0",M,this),a(this,"hit1",Y,this),a(this,"hit2",J,this),a(this,"grow",K,this),a(this,"growSay0",Q,this),a(this,"growSay1",$,this),a(this,"growSay2",ee,this)}var t=e.prototype;return t.playFireSay=function(e){switch(e){case 1:b.playArray(this.fireSay1,1,.1);break;case 2:b.playArray(this.fireSay2,1,.1);break;default:b.playArray(this.fireSay0,1,.1)}},t.playFire=function(){b.playArray(this.fire,1,.2)},t.playFoodLaugh=function(){b.playArray(this.foodLaugh,1,.2)},t.playFoodSummon=function(){b.playArray(this.foodSummon,1,.2)},t.playHit=function(e){switch(e){case 1:b.playArray(this.hit1,1,.1);break;case 2:b.playArray(this.hit2,1,.1);break;default:b.playArray(this.hit0,1,.1)}},t.playGrow=function(){b.playArray(this.grow,1,.2)},t.playGrowSay=function(e){switch(e){case 1:b.playArray(this.growSay1,1,.2);break;case 2:b.playArray(this.growSay2,1,.2);break;default:b.playArray(this.growSay0,1,.2)}},e}()).prototype,"fireSay0",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),V=t(H.prototype,"fireSay1",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),X=t(H.prototype,"fireSay2",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),W=t(H.prototype,"fire",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),N=t(H.prototype,"foodLaugh",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Z=t(H.prototype,"foodSummon",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),M=t(H.prototype,"hit0",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Y=t(H.prototype,"hit1",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),J=t(H.prototype,"hit2",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),K=t(H.prototype,"grow",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Q=t(H.prototype,"growSay0",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),$=t(H.prototype,"growSay1",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ee=t(H.prototype,"growSay2",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B=H))||B);e("StrawburstPlant",(te=de("StrawburstPlant"),ie=fe(be),ae=fe(u),re=fe(u),ne=fe(u),oe=fe(u),te((le=t((he=function(e){function t(){for(var t,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return t=e.call.apply(e,[this].concat(n))||this,a(t,"soundRes",le,r(t)),t._objdataOwn=new we,t.growing=!0,t._growthStage=2,t.fireAnm="",t.growAnm="",a(t,"pfBigBerry",ce,r(t)),t.detector=new y,t.firing=!1,t.growCD=1/0,a(t,"explPar0",ue,r(t)),a(t,"explPar1",ge,r(t)),a(t,"explPar2",pe,r(t)),t}i(t,e);var h=t.prototype;return h.onObjdataSet=function(e,t){},h.specialPlantOnEnable=function(){this.growthStage=0,this.anmControl.playIdle(),this.growing=!1,this.firing=!1},h.grow=function(){this.growthStage++,this.growing=!0,this.firing=!1,this.baseColor=new g(255,255,255,255),this.anmControl.playAnimation(this.growAnm,1)},h.teach=function(){this.growthStage>=0?(this.defaultTeach(1),this.addArrow(1/0)):this.arrowCountdown=0},h.specialPlantUpdateForce=function(e,t,i){if(this.growCD>0&&this.growthStage<0){var a=200-122*this.getScheduler(this.growCD/8);this.baseColor=new g(a,a,a,255)}else this.baseColor=new g(255,255,255,255)},h.animationOnComplete=function(){this.growing=!1,this.firing=!1},h.waterable=function(){return!this.firing&&!this.growing&&2==this.growthStage},h.burn=function(){this.growthStage>=0?this.kill():this.defaultBurn()},h.foodSummon=function(){var e=m(this.pfBigBerry);e.parent=C.getLane(2).prjLayer;var t=e.getComponent(L);t.character.worldPosition=C.getSquareWorldPosition(2,4),t.damage=this.objdataOwn.DamagePlantfood*this._dmgScale},h.specialPlantFood=function(e){this.growthStage=2,this.anmControl.playAnimation("Food",1)},h.restStart=function(){this.firing=!1,this.growthStage=-1},h.specialPlantOnMouseDown=function(){if(this.sheepend||this.fooding)return!1;var e=this.growthStage>=0&&!this.firing;return e&&(this.fireAnimation(),this.arrowCountdown=0),e},h.fireAnimation=function(){this.firing=!0,this.anmControl.playAnimation(this.fireAnm,1)},h.specialPlantOnSquareChange=function(e,t){this.detector=y.createRectangleNodeSide(t.node,C.SquareWidth*(9-this.cIndex),C.SquareHeight)},h.fire=function(){var e=o(s().mark((function e(t){var i,a,r,n,o,h,l,c,u,g,p,d=this;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=this.objdataOwn.CabbageType0,e.t0=t,e.next=1===e.t0?4:2===e.t0?6:8;break;case 4:return i=this.objdataOwn.CabbageType1,e.abrupt("break",8);case 6:return i=this.objdataOwn.CabbageType2,e.abrupt("break",8);case 8:if(a=this._dmgScale,r=[],n=[],o=this.inLane.zombiePool(),h=this.inLane.tombPool(),o.forEach((function(e){d.detector.judgeCrossRec(e.bodyRec)&&r.push(e)})),h.forEach((function(e){d.detector.judgeCrossRec(e.bodyRec)&&n.push(e)})),!(r.length>0)){e.next=23;break}return l=r.sort((function(e,t){return e.worldPositionX-t.worldPositionX}))[0],e.next=19,D.lobOneCabbageOnZombie(i,this.worldPosition,10,this.inLane.prjLayer,l,.4444,A.zombie,!1,60,!0);case 19:c=e.sent,a&&(c.setDamage(c.damage*a),c.splashDamages.forEach((function(e){e.splashDamage*=a}))),e.next=35;break;case 23:if(!(n.length>0)){e.next=31;break}return u=n.sort((function(e,t){return t.worldPositionX-e.worldPositionX}))[0],e.next=27,D.lobOneCabbageOnNode(i,this.worldPosition,10,this.inLane.prjLayer,u.node,.4444,A.zombie,!1,60);case 27:g=e.sent,a&&(g.setDamage(g.damage*a),g.splashDamages.forEach((function(e){e.splashDamage*=a}))),e.next=35;break;case 31:return e.next=33,D.lobOneCabbageOnNode(i,this.worldPosition,10,this.inLane.prjLayer,this.inLane.toRight,.4444,A.zombie,!1,60);case 33:p=e.sent,a&&(p.setDamage(p.damage*a),p.splashDamages.forEach((function(e){e.splashDamage*=a})));case 35:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),h.explode=function(e){var t=this;this.soundRes.playHit(e);var i=this.explPar0,a=new S(this.objdataOwn.Damage0,!0,!0,!0,null,P.physicle),r=this.inLane.zombiePool(),n=this.inLane.tombPool(),o=y.createRectangleCenter(this.inLnC.node.worldPosition.toVec2(),C.SquareWidth,C.SquareHeight);switch(e){case 1:o=y.createRectangleCenter(this.inLnC.node.worldPosition.toVec2(),3*C.SquareWidth,3*C.SquareHeight),r=r.concat(this.inLane.UpperLane.zombiePool(),this.inLane.LowerLane.zombiePool()),n=n.concat(this.inLane.UpperLane.tombPool(),this.inLane.LowerLane.tombPool()),a=a.replaceDamage(this.objdataOwn.Damage1),i=this.explPar1;break;case 2:o=y.createRectangleCenter(this.inLnC.node.worldPosition.toVec2(),3*C.SquareWidth,3*C.SquareHeight),r=r.concat(this.inLane.UpperLane.zombiePool(),this.inLane.LowerLane.zombiePool()),n=n.concat(this.inLane.UpperLane.tombPool(),this.inLane.LowerLane.tombPool()),a=a.replaceDamage(this.objdataOwn.Damage2),i=this.explPar2}var s=m(i);s.parent=this.inLane.prjLayer;var h=this._scaleForCharacter;s.scale=new p(h,h,1),s.worldPosition=this.worldPosition.toVec3(),r.forEach((function(e){o.judgeCrossRec(e.bodyRec)&&e.dealDamage(a.replaceDirection(new d(e.worldPositionX-t.worldPositionX,e.worldPositionY-t.worldPositionY+e.zombieHeight+e.height).normalize().multiplyScalar(25)))})),n.forEach((function(e){o.judgeCrossRec(e.bodyRec)&&e.dealDamage(a)}))},h.specialPlantUpdate=function(e,t,i){this.growCD>0&&!this.firing&&this.growthStage<2&&!this.fooding&&(this.growCD-=e,this.growCD<=0&&this.grow())},h.specialPlantOnEaten=function(e,t,i,a){this.growthStage>=0&&!this.firing&&!this.growing&&this.kill()},h.animationListener=function(e){switch(e.name){case"foodSummon":this.foodSummon(),this.soundRes.playFoodSummon();break;case"foodSay":this.soundRes.playFoodLaugh();break;case"foodEnd":this.foodEnd();break;case"growSay0":this.soundRes.playGrow(),this.soundRes.playGrowSay(0);break;case"growSay1":this.soundRes.playGrow(),this.soundRes.playGrowSay(1);break;case"growSay2":this.soundRes.playGrow(),this.soundRes.playGrowSay(2);break;case"restStart":this.restStart();break;case"throw0":this.fire(0),this.soundRes.playFire();break;case"throw1":this.fire(1),this.soundRes.playFire();break;case"throw2":this.fire(2),this.soundRes.playFire();break;case"throwSay0":this.soundRes.playFireSay(0);break;case"throwSay1":this.soundRes.playFireSay(1);break;case"throwSay2":this.soundRes.playFireSay(2);break;case"explode0":this.explode(0);break;case"explode1":this.explode(1);break;case"explode2":this.explode(2)}},n(t,[{key:"objdataOwn",get:function(){return this._objdataOwn}},{key:"growthStage",get:function(){return this._growthStage},set:function(e){switch(e){case-1:this.anmControl.IdleAnim="Idle_Resting",this.anmControl.RandomAnim=[],this.deathAnm="Death",this.fireAnm="",this.growAnm="",this.growCD=this.objdataOwn.GrowTime0*this._cdScale,this.clearScheduler();break;case 0:this.anmControl.IdleAnim="Idle00",this.anmControl.RandomAnim=["Idle01","Idle02"],this.deathAnm="Death0",this.fireAnm="Shoot0",this.growAnm="Grow0",this.growCD=this.objdataOwn.GrowTime1*this._cdScale;break;case 1:this.anmControl.IdleAnim="Idle10",this.anmControl.RandomAnim=["Idle11","Idle12"],this.deathAnm="Death1",this.fireAnm="Shoot1",this.growAnm="Grow1",this.growCD=this.objdataOwn.GrowTime2*this._cdScale;break;case 2:this.anmControl.IdleAnim="Idle20",this.anmControl.RandomAnim=["Idle21","Idle22"],this.deathAnm="Death2",this.fireAnm="Shoot2",this.growAnm="Grow2",this.growCD=1/0}this._growthStage=e}}]),t}(f)).prototype,"soundRes",[ie],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new be}}),ce=t(he.prototype,"pfBigBerry",[ae],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ue=t(he.prototype,"explPar0",[re],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ge=t(he.prototype,"explPar1",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pe=t(he.prototype,"explPar2",[oe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),se=he))||se));h._RF.pop()}}}));

System.register("chunks:///_virtual/strawburstPFBerry.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ParticleSelfdestroy.ts","./SoundRescourses.ts","./CharacterManager.ts","./Character.ts","./Square.ts","./levelController.ts"],(function(e){var r,t,a,o,n,i,c,l,s,u,d,h,p,f,y,g;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,a=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){n=e.cclegacy,i=e._decorator,c=e.AudioClip,l=e.Vec2},function(e){s=e.ParticleSelfdestroy},function(e){u=e.sounds},function(e){d=e.ZombieDamageDetails,h=e.ZombiePool,p=e.TombPool},function(e){f=e.Character},function(e){y=e.Square},function(e){g=e.LevelPlay}],execute:function(){var S,b,m,P,w,v,D,L,z;n._RF.push({},"7de27C3GqdFLYkn1ct9fdX0","strawburstPFBerry",void 0);var C=i.ccclass,F=i.property;e("strawburstPFBerry",(S=C("strawburstPFBerry"),b=F(c),m=F(c),P=F([c]),S((D=r((v=function(e){function r(){for(var r,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return(r=e.call.apply(e,[this].concat(n))||this).damage=400,a(r,"chargeSound",D,o(r)),a(r,"chargeSaySound",L,o(r)),a(r,"explodeSounds",z,o(r)),r.character=void 0,r}t(r,e);var n=r.prototype;return n.specialOnLoad=function(){this.character=this.getComponent(f)},n.animationListener=function(e){var r=this;switch(e.name){case"charge":u.playOneShot(this.chargeSaySound,1,.3),u.playOneShot(this.chargeSound,1,.1);break;case"explode":var t=new d(this.damage,!0,!0,!0,null);h.pool().concat().forEach((function(e){var a=new l(e.worldPositionX-r.character.worldPositionX,e.worldPositionY-r.character.worldPositionY+e.zombieHeight);e.dealDamage(t.replaceDirection(a.clone().normalize().multiplyScalar(2500/a.length())))})),p.pool().concat().forEach((function(e){e.dealDamage(t)})),u.playArray(this.explodeSounds,1,.1),g.shakeScreen(),this.node.setParent(y.getLane(4).prjLayer,!0)}},r}(s)).prototype,"chargeSound",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=r(v.prototype,"chargeSaySound",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=r(v.prototype,"explodeSounds",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),w=v))||w));n._RF.pop()}}}));

System.register("chunks:///_virtual/Stunion.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./SoundRescourses.ts","./CharacterManager.ts","./Square.ts","./NodePools.ts"],(function(t){var e,n,o,i,a,r,s,c,l,u,h,d,f,p,g,y,b,S;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized,a=t.createClass},function(t){r=t.cclegacy,s=t._decorator,c=t.AudioClip,l=t.Prefab,u=t.Vec2,h=t.tween,d=t.Vec3},function(t){f=t.Plant,p=t.PlantProps},function(t){g=t.sounds},function(t){y=t.Rectangle},function(t){b=t.Square},function(t){S=t.instantiatePooly}],execute:function(){var w,m,P,L,R,D,v,C,j,k,E,z,A,F,O,q,W,I,_,U;r._RF.push({},"49aec5WU9NH3JOxqaXAp27I","Stunion",void 0);var x=s.ccclass,H=s.property,M=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))||this).DetectDistance=1,e.DetectDistancePlantfood=4,e.StunDuration=12,e.StunDurationPlantfood=18,e}return n(e,t),e}(p),N=(w=x("StunionSound"),m=H([c]),P=H([c]),L=H([c]),R=H([c]),w((C=e((v=function(){function t(){o(this,"fade",C,this),o(this,"attack",j,this),o(this,"foodInhale",k,this),o(this,"foodShoot",E,this)}var e=t.prototype;return e.playFade=function(){g.playArray(this.fade,1,.1)},e.playAttack=function(){g.playArray(this.attack,1,.1)},e.playFoodInhale=function(){g.playArray(this.foodInhale,1,.1)},e.playFoodShoot=function(){g.playArray(this.foodShoot,1,.1)},t}()).prototype,"fade",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j=e(v.prototype,"attack",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=e(v.prototype,"foodInhale",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),E=e(v.prototype,"foodShoot",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=v))||D);t("StunionPlant",(z=x("StunionPlant"),A=H(N),F=H(l),O=H(l),z((I=e((W=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return e=t.call.apply(t,[this].concat(a))||this,o(e,"soundRes",I,i(e)),e._objdataOwn=new M,e.detector=new y,e.shooting=!1,e.foodShooting=!1,o(e,"gasSpawn",_,i(e)),o(e,"gasPush",U,i(e)),e.foodDetectorRec=new y,e._foodDetectorWidth=0,e}n(e,t);var r=e.prototype;return r.onObjdataSet=function(t,e){},r.specialPlantOnEnable=function(){this.eaterDetectable=!1,this.smasherDetectable=!1,this.shooting=!1},r.animationOnComplete=function(){this.shooting=!1},r.waterable=function(){return!this.shooting},r.specialPlantFood=function(t){this.shooting=!0,this.foodShooting=!1,this.anmControl.playAnimation("Food",1)},r.detectEnemy=function(){var t,e=this;return null==(t=this.inLane)?void 0:t.zombiePool().some((function(t){return t.shouldSpeedScale()*t.randomSpeed>0&&t.bodyRecForShooter.judgeCrossRec(e.detector)}))},r.getEnemies=function(){var t=this;return this.inLane?this.inLane.zombiePool().filter((function(e){return t.detector.judgeCrossRec(e.bodyRecReal)})):[]},r.getFoodEnemies=function(){var t,e,n=this;return(this.inLane?this.inLane.zombiePool().filter((function(t){return n.foodDetectorRec.judgeCrossRec(t.bodyRecReal)})):[]).concat(null!=(t=this.inLane)&&t.UpperLane?this.inLane.UpperLane.zombiePool().filter((function(t){return n.foodDetectorRec.judgeCrossRec(t.bodyRecReal)})):[],null!=(e=this.inLane)&&e.LowerLane?this.inLane.LowerLane.zombiePool().filter((function(t){return n.foodDetectorRec.judgeCrossRec(t.bodyRecReal)})):[])},r.specialPlantOnSquareChange=function(t,e){this.detector=y.createRectangleSide(new u(e.node.worldPosition.x-b.SquareWidth/2,e.node.worldPosition.y),(this.objdataOwn.DetectDistance+1)*b.SquareWidth,b.SquareHeight),this.shouldSpeedScale()>0&&this.detectEnemy()},r.specialPlantUpdate=function(t,e,n){var o=this;!this.fooding&&n>0&&!this.shooting&&(this.detectEnemy()&&(this.shooting=!0,this.anmControl.playAnimation("Attack",1)));this.fooding&&this.foodShooting&&this.getFoodEnemies().forEach((function(t){t.setChiliStun(o.objdataOwn.StunDurationPlantfood)}))},r.animationListener=function(t){var e=this;switch(t.name){case"attack":this.getEnemies().forEach((function(t){t.setChiliStun(e.objdataOwn.StunDuration)}));break;case"foodLeap":this.soundRes.playFoodInhale();break;case"foodEnd":this.foodEnd();break;case"foodSound":this.soundRes.playFoodShoot();break;case"foodStart":var n,o,i;this.foodShooting=!0,this.foodDetectorWidth=0,h(this).to(1.6666/this.anmControl.timeScale,{foodDetectorWidth:this.objdataOwn.DetectDistancePlantfood},{easing:"quadOut"}).start(),null==(n=[this.inLane,null==(o=this.inLane)?void 0:o.UpperLane,null==(i=this.inLane)?void 0:i.LowerLane])||n.forEach((function(t){if(null!=t&&t.isInLawn()){var n=t.prjLayer,o=S(e.gasSpawn),i=S(e.gasPush),a=new d(e.worldPositionX,t.floorY,0);[i,o].forEach((function(t){t.parent=n,t.worldPosition=a}))}}));break;case"fade":this.soundRes.playFade();break;case"judge":this.detectEnemy()?(this.soundRes.playAttack(),this.die(!0,!0,!1,!1)):(this.anmControl.playIdle(.1),this.shooting=!1)}},a(e,[{key:"objdataOwn",get:function(){return this._objdataOwn}},{key:"foodDetectorWidth",get:function(){return this._foodDetectorWidth},set:function(t){var e;null!=(e=this.inLnC)&&e.isInLawn()&&(this.foodDetectorRec=y.createRectangleSide(new u(this.inLnC.node.worldPosition.x-b.SquareWidth/2,this.inLnC.node.worldPosition.y),(t+1)*b.SquareWidth,3*b.SquareHeight),this._foodDetectorWidth=t)}}]),e}(f)).prototype,"soundRes",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new N}}),_=e(W.prototype,"gasSpawn",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=e(W.prototype,"gasPush",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=W))||q));r._RF.pop()}}}));

System.register("chunks:///_virtual/SummerBasicZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CharacterManager.ts","./LostcityBasicZombie.ts"],(function(i){var t,e,n,o,a;return{setters:[function(i){t=i.inheritsLoose},function(i){e=i.cclegacy,n=i._decorator},function(i){o=i.ZombieDamageType},function(i){a=i.LostcityBasicZombie}],execute:function(){var s;e._RF.push({},"73b27qUivNNXb5i+qFQJHfh","SummerBasicZombie",void 0);var c=n.ccclass;n.property,i("SummerBasicZombie",c("SummerBasic")(s=function(i){function e(){for(var t,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return(t=i.call.apply(i,[this].concat(n))||this).fireSlots=[],t.ignited=void 0,t}t(e,i);var n=e.prototype;return n.specialLostCityBasicOnLoad=function(){var i=this;this.fireSlots=[],this.body.db.armature().getSlots().forEach((function(t){t.name.includes("SPK")&&i.fireSlots.push(t)}))},n.playSpecialZombieDieForced=function(){this.ignite(!1)},n.onChill=function(i){this.ignite(!1)},n.TNTRopeIgniter=function(){return!!this.ignited&&(this.ignite(!1),!0)},n.specialLostCityBasicOnEnable=function(){this.ignite()},n.specialLostCityBasicOnDamaged=function(i,t,e){e.damageType==o.fire&&this.ignite()},n.ignite=function(i){void 0===i&&(i=!0);var t=i?0:-1;this.ignited=i,this.fireSlots.forEach((function(i){i._setDisplayIndex(t)}))},n.onDamagedButArmor=function(i){i.damageType==o.fire&&this.ignite()},n.specialLostCityBasicUpdate=function(i,t,e){this.ignited&&this.fireSlots.forEach((function(i){if(i.childArmature){var e=i.childArmature.animation,n=e.lastAnimationState.currentTime;e.gotoAndPlayByTime(e.lastAnimationState.name,n+t,1/0)}}))},e}(a))||s);e._RF.pop()}}}));

System.register("chunks:///_virtual/SummerGargantuarZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GargantuarZombie.ts","./Zombies.ts","./CharacterManager.ts","./Square.ts","./Particles.ts","./NodePools.ts","./shadeFloor.ts"],(function(t){var n,e,i,a,o,r,s,c,u,h,l,f,m;return{setters:[function(t){n=t.inheritsLoose,e=t.createClass},function(t){i=t.cclegacy,a=t._decorator,o=t.Vec2},function(t){r=t.GargantuarZombie,s=t.GargantuarProps},function(t){c=t.ZombieEnum},function(t){u=t.Rectangle},function(t){h=t.Square},function(t){l=t.particle},function(t){f=t.instantiatePooly},function(t){m=t.shadeFloor}],execute:function(){var g;i._RF.push({},"c5ba1Gvnq5KaIZRKvKi2gfL","SummerGargantuarZombie",void 0);var d=a.ccclass,p=(a.property,function(t){function e(){for(var n,e=arguments.length,i=new Array(e),a=0;a<e;a++)i[a]=arguments[a];return(n=t.call.apply(t,[this].concat(i))||this).HeatInterval=1,n}return n(e,t),e}(s));t("SummerGargantuarZombie",d("SummerGargantuarZombie")(g=function(t){function i(){for(var n,e=arguments.length,i=new Array(e),a=0;a<e;a++)i[a]=arguments[a];return(n=t.call.apply(t,[this].concat(i))||this)._objdataOwn=new p,n.impEnum=c.summer_imp,n._fireSlots=[],n._ignited=!0,n.heatCD=0,n}n(i,t);var a=i.prototype;return a.setChill=function(t){return!1},a.setFreeze=function(t,n){return!1},a.specialGargantuarOnLoad=function(){var t=this;this.body.db.armature().getSlots().forEach((function(n){n.name.includes("FIRE")&&t._fireSlots.push(n)}))},a.specialGargantuarOnEnable=function(){this.ignited=!0},a.onChill=function(t){t>0&&(this.ignited=!1)},a.onFrozen=function(t){t>0&&(this.ignited=!1)},a.getHeatZombiePool=function(){return this.hypnotized?this.inLane.hypnoZombiePool().concat(this.inLane.UpperLane.hypnoZombiePool(),this.inLane.LowerLane.hypnoZombiePool()):this.inLane.zombiePool().concat(this.inLane.UpperLane.zombiePool(),this.inLane.LowerLane.zombiePool())},a.heat=function(){if(!this.inLane||!m.component)return!1;var t=new o(this.worldPositionX,this.inLane.midY),n=u.createRectangleCenter(t,3*h.SquareWidth,3*h.SquareHeight),e=this.getHeatZombiePool().filter((function(t){return(t.freeze>0||t.chill>0)&&n.judgeCrossRec(t.bodyRec)}));if(e.length>0){e.forEach((function(t){t.freeze=0,t.chill=0}));var i=f(l.plantHeat());return i.parent=m.component.node,i.worldPosition=t.toVec3(),!0}return!1},a.specialGargantuarUpdate=function(t,n,e){this.ignited&&this._fireSlots.forEach((function(t,e){if(t.childArmature){var i=t.childArmature.animation,a=i.lastAnimationState.currentTime;i.timeScale=0,i.gotoAndPlayByTime(i.lastAnimationState.name,a+n,1/0)}})),this.heatCD>0&&(this.heatCD-=n),this.heatCD<=0&&this.heat()&&(this.heatCD=this.objdataOwn.HeatInterval)},e(i,[{key:"objdataOwn",get:function(){return this._objdataOwn}},{key:"ignited",get:function(){return this._ignited},set:function(t){this._ignited=t,this._fireSlots.forEach((function(n){n._setDisplayIndex(t?0:-1)}))}}]),i}(r))||g);i._RF.pop()}}}));

System.register("chunks:///_virtual/sun.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SunCount.ts","./dropping.ts","./Square.ts","./Droppings.ts"],(function(o){var t,i,e,s,n,r,a,l,h,b,u,c,d;return{setters:[function(o){t=o.applyDecoratedDescriptor,i=o.inheritsLoose,e=o.initializerDefineProperty,s=o.assertThisInitialized,n=o.createClass},function(o){r=o.cclegacy,a=o._decorator,l=o.Vec3,h=o.Vec2},function(o){b=o.SunCount},function(o){u=o.dropping},function(o){c=o.Square},function(o){d=o.droppings}],execute:function(){var p,m,f,y,g;r._RF.push({},"36a5cpi8YZHxrqdx/7BmhHo","sun",void 0);var D=a.ccclass,R=a.property;o("sun",(p=D("sun"),m=R([Number]),p((g=t((y=function(o){function t(){for(var t,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return t=o.call.apply(o,[this].concat(n))||this,e(t,"value",g,s(t)),t.mode="Normal",t.leftGoToAbsorberRestTime=0,t.absorbRestCD=0,t.absorbGotoCD=0,t._absorber=null,t}i(t,o);var r=t.prototype;return r.specialOnGroundHit=function(){this.willFade=!0,this.fadingOn()},r.specialDroppingFadable=function(){return"Normal"==this.mode},r.specialDroppingOnEnable=function(){this.absorber=null,this.mode="Normal",this.db.playAnimation("Normal",1/0),this.willFade=!1},r.specialDroppingOnLoad=function(){var o;null!=(o=b.component)&&null!=(o=o.icon)&&null!=(o=o.node)&&o.active&&(this.ui=b.component.icon.node)},r.specialDroppingUpdate=function(o,t){var i,e;if(!this.collected&&c.judgeInLawn(this.node.worldPosition)?d.registerSun(this):d.deleteSun(this),this._absorber)if(!this.collected&&t.judgeInRecNode(this._absorber.absorber))this.shrink(.2),null==(i=this.absorber)||null==(i=i.absorbedValue)||i.push(this.value),null==(e=this.absorber)||e.onSunArrives(this);else if(this.absorbRestCD>0)this.absorbRestCD-=o;else if(this.absorbGotoCD>0){this.absorbGotoCD-=o,this.absorbGotoCD<=0&&(this.absorbGotoCD=.5,this.absorbRestCD=.3,this.leftGoToAbsorberRestTime--,this.leftGoToAbsorberRestTime<=0&&(this.absorbGotoCD=1/0));var s=new l(this.absorber.absorber.worldPosition.x,this.absorber.worldPositionY,this.absorber.absorber.worldPosition.y-this.absorber.worldPositionY).subtract3f(this.worldPositionX,this.worldPositionY,this.height),n=s.normalize().multiplyScalar(4*c.SquareWidth*o*this.absorber.shouldSpeedScale());n.length()>s.length()&&(n=s),this.worldPositionX+=n.x,this.worldPositionY+=n.y,this.height+=n.z}},r.switchMode=function(o){"Red"==o?("Normal"==this.mode?this.db.playAnimation("N-R"):"Blue"==this.mode&&this.db.playAnimation("B-R"),this.mode="Red"):"Blue"==o?("Normal"==this.mode?this.db.playAnimation("N-B"):"Red"==this.mode&&this.db.playAnimation("R-B"),this.mode="Blue"):("Blue"==this.mode?this.db.playAnimation("B-N"):"Red"==this.mode&&this.db.playAnimation("R-N"),this.mode="Normal")},r.specialGoToUI=function(o){d.deleteSun(this),this.switchMode("Normal"),b.component.playCollect(),b.component.SunAdd(this.value,!1),this.absorber=null},r.specialUICall=function(o){b.component.SunAdd()},n(t,[{key:"DroppingType",get:function(){return"sun"}},{key:"absorber",get:function(){return this._absorber},set:function(o){this._absorber=o,o?(this.leftGoToAbsorberRestTime=3,this.absorbRestCD=0,this.absorbGotoCD=.5,this.linearVelocity=new h(0,0),this.bodyLinearVelocity=0,this.gravity=0):this.switchMode("Normal")}}]),t}(u)).prototype,"value",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 25}}),f=y))||f));r._RF.pop()}}}));

System.register("chunks:///_virtual/SunBean.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./SoundRescourses.ts","./NodePools.ts"],(function(n){var t,i,o,e,a,r,l,s,u,d,f,p,c;return{setters:[function(n){t=n.applyDecoratedDescriptor,i=n.inheritsLoose,o=n.initializerDefineProperty,e=n.assertThisInitialized},function(n){a=n.cclegacy,r=n._decorator,l=n.AudioClip,s=n.Prefab,u=n.Vec3},function(n){d=n.Plant,f=n.PlantProps},function(n){p=n.sounds},function(n){c=n.instantiatePooly}],execute:function(){var h,b,y,m,P,S,w,A,g,B,O,R,z,C,v,E,F,L,_,j,I,M,D,H;a._RF.push({},"50d0c5j9tNOoLMlC8SpyjXn","SunBean",void 0);var N=r.ccclass,X=r.property,k=function(n){function t(){for(var t,i=arguments.length,o=new Array(i),e=0;e<i;e++)o[e]=arguments[e];return(t=n.call.apply(n,[this].concat(o))||this).SunPerHitpoint=.2,t}return i(t,n),t}(f),x=(h=N("sunbeanSound"),b=X(l),y=X(l),m=X(l),P=X(l),S=X(l),w=X(l),h((B=t((g=function(){function n(){o(this,"buff",B,this),o(this,"buffMusic",O,this),o(this,"food",R,this),o(this,"foodEnd",z,this),o(this,"burnStart",C,this),o(this,"burn",v,this)}var t=n.prototype;return t.playBuff=function(){p.playOneShot(this.buff,1,.1),p.playOneShot(this.buffMusic,1,.1)},t.playFood=function(){p.playOneShot(this.food,1,.1)},t.playFoodEnd=function(){p.playOneShot(this.foodEnd,1,.1)},t.playBurn=function(){p.playOneShot(this.burn,1,.1),p.playOneShot(this.burnStart,1,.1)},n}()).prototype,"buff",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=t(g.prototype,"buffMusic",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=t(g.prototype,"food",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(g.prototype,"foodEnd",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=t(g.prototype,"burnStart",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=t(g.prototype,"burn",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=g))||A);n("SunBeanPlant",(E=N("SunBeanPlant"),F=X(x),L=X(s),_=X([l]),E((M=t((I=function(n){function t(){for(var t,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return t=n.call.apply(n,[this].concat(a))||this,o(t,"soundRes",M,e(t)),t._objdataOwn=new k,t.fooded=!1,t.idleAnm="",t.randAnm=[],o(t,"blastPar",D,e(t)),o(t,"blastSounds",H,e(t)),t}i(t,n);var a=t.prototype;return a.specialPlantOnLoad=function(){this.idleAnm=this.anmControl.IdleAnim,this.randAnm=this.anmControl.RandomAnim},a.specialPlantFood=function(n){this.anmControl.playAnimation("Food"),this.soundRes.playFood(),this.fooded=!0,this.foodable=!1,this.anmControl.IdleAnim="FoodLoop",this.anmControl.RandomAnim=[]},a.specialPlantFoodEnd=function(){this.soundRes.playFoodEnd(),this.anmControl.playIdle()},a.waterable=function(){return!this.fooded},a.specialPlantOnEnable=function(){this.fooded=!1,this.foodable=!0,this.anmControl.IdleAnim=this.idleAnm,this.anmControl.RandomAnim=this.randAnm},a.specialPlantOnEaten=function(n,t,i,o){if(o<=0&&t){if(this.fooded){t.sunbeanBlast(this.blastSounds),this.soundRes.playBurn();var e=c(this.blastPar);e.parent=this.inLane.prjLayer,e.worldPosition=new u(t._worldPositionX,t._worldPositionY+t.height)}else t.setSunBeanParticleCD(1/0),this.soundRes.playBuff();t.setSunBeanSunPerHitpoint(this._objdataOwn.SunPerHitpoint),this.die(),this.node.destroy()}},a.animationListener=function(n){"foodEnd"==n.name&&this.foodEnd()},t}(d)).prototype,"soundRes",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new x}}),D=t(I.prototype,"blastPar",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=t(I.prototype,"blastSounds",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j=I))||j));a._RF.pop()}}}));

System.register("chunks:///_virtual/sunbomb.ts",["./rollupPluginModLoBabelHelpers.js","cc","./dropping.ts","./UI.ts","./levelController.ts","./ParticleSelfdestroy.ts","./Sunflower.ts","./SoundRescourses.ts","./NodePools.ts","./sunbombExplosion.ts"],(function(t){var i,o,n,e,s,a,r,l,d,u,c,h,p,f,y,b,P,g,w;return{setters:[function(t){i=t.applyDecoratedDescriptor,o=t.inheritsLoose,n=t.initializerDefineProperty,e=t.assertThisInitialized},function(t){s=t.cclegacy,a=t._decorator,r=t.AudioClip,l=t.Prefab,d=t.Vec2,u=t.Vec3,c=t.Color},function(t){h=t.dropping},function(t){p=t.UIInGame},function(t){f=t.LevelPlay},function(t){y=t.ParticleSelfdestroy},function(t){b=t.sunflower},function(t){P=t.sounds},function(t){g=t.instantiatePooly},function(t){w=t.sunbombExplosion}],execute:function(){var m,v,S,x,R,A,D,C,V,z,I,k,L;s._RF.push({},"1e38ao6MHtId7mFbgTMyktT","sunbomb",void 0);var O=a.ccclass,E=a.property;t("sunbomb",(m=O("sunbomb"),v=E(r),S=E(r),x=E(l),R=E(l),A=E(l),m((V=i((C=function(t){function i(){for(var i,o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return(i=t.call.apply(t,[this].concat(s))||this).sunbombProps=void 0,n(i,"explodeSound",V,e(i)),n(i,"defuseSound",z,e(i)),n(i,"footPar",I,e(i)),i.footPsd=void 0,n(i,"rayPar",k,e(i)),i.rayPsd=void 0,n(i,"blastPar",L,e(i)),i}o(i,t);var s=i.prototype;return s.specialCollectable=function(){return p.component.mouseDown||!f.gaming},s.collect=function(){this.collectable()&&(this.collected=!0,f.gaming?(this.explode(),this.bodyLinearVelocity=0,this.gravity=0,this.linearVelocity=new d(0,0)):this.defuse())},s.onKeyDown=function(t){},s.onFadeAwayStart=function(){},s.spawnRay=function(){this.killRay();var t=g(this.rayPar);t.parent=this.node.parent,t.setSiblingIndex(0),this.rayPsd=t.getComponent(y),this.rayPsd.db.playAnimation("Start",1/0);var i=g(this.footPar);i.parent=this.node.parent,i.setSiblingIndex(0),this.footPsd=i.getComponent(y),this.footPsd.db.playAnimation("Start",1/0),this.dealRay()},s.dealRay=function(){var t=this.node.scale.x;if(this.footPsd&&(this.footPsd.node.scale=new u(t,t,t),this.footPsd.node.worldPosition=new u(this.worldPositionX,this.worldPositionY)),this.rayPsd){var i=this.height/1410;this.rayPsd.node.scale=new u(t,i,t),this.rayPsd.node.worldPosition=new u(this.worldPositionX,this.worldPositionY)}},s.killRay=function(){if(this.footPsd&&(this.footPsd.db.playAnimation("Die",1/0),this.footPsd=null),this.rayPsd){var t=this.node.worldScale.x;this.rayPsd.node.scale=new u(t,t,t),this.rayPsd.db.playAnimation("Die",1/0),this.rayPsd=null}},s.specialOnGroundHit=function(){this.defuse()},s.specialDroppingOnEnable=function(){this.fadingStarted=!1,this.fadingCountdown=1/0,this.db.playAnimation("Purple",1/0),this.spawnRay()},s.explode=function(){P.playOneShot(this.explodeSound,1,.1),this.fadeAway();var t=g(this.blastPar);t.parent=this.node.parent,t.worldPosition=this.node.worldPosition,t.getComponent(w).sunbombProps=this.sunbombProps,this.killRay()},s.defuse=function(){var t=this;b.produceSun(50,this.worldPosition,this.height,!1).forEach((function(i){i.linearVelocity=t.linearVelocity.clone(),i.gravity=t.gravity,i.bodyLinearVelocity=t.bodyLinearVelocity,i.db.playAnimation("P-N",1/0),i.fadingOn()})),this.db.playAnimation("P-N",1/0),P.playOneShot(this.defuseSound,1,.1),this.db.color=new c(255,255,255,0),this.fade(),this.killRay()},s.specialDroppingUpdate=function(t,i){this.dealRay()},s.fadingOn=function(){},i}(h)).prototype,"explodeSound",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=i(C.prototype,"defuseSound",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=i(C.prototype,"footPar",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=i(C.prototype,"rayPar",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=i(C.prototype,"blastPar",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=C))||D));s._RF.pop()}}}));

System.register("chunks:///_virtual/sunbombExplosion.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ParticleSelfdestroy.ts","./levelController.ts","./CharacterManager.ts","./Square.ts"],(function(o){var n,e,t,a,s,r,i,c,l,u,b,m,p;return{setters:[function(o){n=o.inheritsLoose},function(o){e=o.cclegacy,t=o._decorator,a=o.Vec2},function(o){s=o.ParticleSelfdestroy},function(o){r=o.SunBombProperties},function(o){i=o.Rectangle,c=o.PlantPool,l=o.ZombieDamageDetails,u=o.ZombieDamageType,b=o.ZombiePool,m=o.TombPool},function(o){p=o.Square}],execute:function(){var f;e._RF.push({},"4ab19/Qr/lHion7Mc4qSjjz","sunbombExplosion",void 0);var h=t.ccclass;t.property,o("sunbombExplosion",h("sunbombExplosion")(f=function(o){function e(){for(var n,e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return(n=o.call.apply(o,[this].concat(t))||this).sunbombProps=new r,n}return n(e,o),e.prototype.animationListener=function(o){var n=this;if("expl"==o.name){var e=new a(this.node.worldPosition.x,this.node.worldPosition.y),t=i.createRectangleCenter(e,2*p.transFrom_ow_To_gw(this.sunbombProps.PlantBombExplosionRadius),2*p.transFrom_oh_To_gh(this.sunbombProps.PlantBombExplosionRadius)),s=i.createRectangleCenter(e,2*p.transFrom_ow_To_gw(this.sunbombProps.ZombieBombExplosionRadius),2*p.transFrom_oh_To_gh(this.sunbombProps.ZombieBombExplosionRadius)),r=[];c.pool().concat().forEach((function(o){if(o.plantInLnC&&t.judgeCrossRec(o.bodyRec)){var n=o.plantInLnC.getAllPlants(!0)[0];-1==r.indexOf(n)&&r.push(n)}})),r.forEach((function(o){o.dealDamage(n.sunbombProps.PlantDamage,3)}));var f=new l(this.sunbombProps.ZombieDamage,!0,!0,!0,null,u.ray),h=[];b.pool().concat().forEach((function(o){s.judgeCrossRec(o.bodyRec)&&-1==h.indexOf(o)&&h.push(o)})),h.forEach((function(o){o.dealDamage(f)}));var d=[];m.pool().concat().forEach((function(o){s.judgeCrossRec(o.bodyRec)&&-1==d.indexOf(o)&&d.push(o)})),d.forEach((function(o){o.dealDamage(f)}))}},e}(s))||f);e._RF.pop()}}}));

System.register("chunks:///_virtual/SunCount.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Cards.ts","./SettingWindow.ts","./levelController.ts","./UI.ts","./LevelTaskCount.ts","./SoundRescourses.ts"],(function(n){var t,o,i,e,u,s,a,d,r,h,l,c,S,C,p,f,g,m,v,y,w,T;return{setters:[function(n){t=n.applyDecoratedDescriptor,o=n.inheritsLoose,i=n.initializerDefineProperty,e=n.assertThisInitialized},function(n){u=n.cclegacy,s=n._decorator,a=n.AudioClip,d=n.Node,r=n.Vec3,h=n.EventMouse,l=n.Label,c=n.dragonBones,S=n.AnimationComponent,C=n.tween,p=n.game,f=n.Component},function(n){g=n.Cards},function(n){m=n.SettingWindow},function(n){v=n.LevelPlay},function(n){y=n.UIInGame},function(n){w=n.LevelTaskCountModeEnum},function(n){T=n.sounds}],execute:function(){var b,A,B,E,x,L,M,D,_,O;u._RF.push({},"1d63d0cB5hDTobysSOpxOPK","SunCount",void 0);var I=s.ccclass,N=s.property;n("SunCount",(b=I("SunCount"),A=N([a]),B=N(a),E=N(d),b(((O=function(n){function t(){for(var t,o=arguments.length,u=new Array(o),s=0;s<o;s++)u[s]=arguments[s];return(t=n.call.apply(n,[this].concat(u))||this).initialSunCount=1e3,t.SunCount=0,t.SunCountTarget=0,t.ExpressedSunCount=0,i(t,"addSound",M,e(t)),i(t,"cheatAddSound",D,e(t)),i(t,"addButton",_,e(t)),t.audioSource=void 0,t.icon=void 0,t.oldpos=new r(0,0,0),t.shown=!0,t.count=void 0,t}o(t,n);var u=t.prototype;return u.setSunCount=function(n){n||(n=50),this.SunCount=n,this.SunCountTarget=n,this.ExpressedSunCount=n,this.count.string=this.ExpressedSunCount.toString()},u.playCollect=function(){T.playArray(this.addSound,1,.1)},u.SunAdd=function(n,t){void 0===n&&(n=0),void 0===t&&(t=!0),this.SunCount=Math.min(this.SunCount+n,9900),this.JudgeCardAffordable(),t&&(this.SunCountTarget=this.SunCount)},u.SunDec=function(n,t,o){void 0===n&&(n=0),void 0===t&&(t=!0),void 0===o&&(o=!0),o&&n>0&&(y.component.calculateLevelTask(w.SunCostLimit,{CostSun:n}),y.component.calculateLevelTask(w.SunCostCountDownLimit,{CostSun:n})),this.SunCount=Math.max(this.SunCount-n,0),this.JudgeCardAffordable(),t&&(this.SunCountTarget=this.SunCount)},u.JudgeCardAffordable=function(){g.component.JudgeCardsSelectable()},u.onMouseDown=function(n){n.preventSwallow=!0,n.getButton()==h.BUTTON_LEFT?(9900!=this.SunCount&&(T.playOneShot(this.cheatAddSound,1,0),T.playArray(this.addSound,1,0)),this.SunAdd(1e3)):n.getButton()==h.BUTTON_RIGHT&&this.SunDec(1e3),this.SunCountTarget=this.SunCount},u.onLoad=function(){this.count=this.node.getChildByName("SunCount").getComponent(l),t.component=this,this.icon=this.node.getChildByName("SunSlotIcon").getComponent(c.ArmatureDisplay),this.oldpos=this.node.position.clone(),this.node.position.add3f(0,400,0),this.shown=!1,this.node.getChildByName("add").on(d.EventType.MOUSE_DOWN,this.onMouseDown,this),this.SunCount=this.initialSunCount,this.SunCountTarget=this.initialSunCount,this.ExpressedSunCount=this.initialSunCount,this.count.string=this.ExpressedSunCount.toString(),!m.allowCheat&&this.addButton&&(this.addButton.active=!1)},u.playWarn=function(){this.getComponent(S).play("sunCountWarn")},t.show=function(){var n;null==(n=this.component)||n._show()},t.hide=function(){var n;null==(n=this.component)||n._hide()},u._show=function(){m.allowCheat||v.sandBoxModeOn||this.addButton.position.add(new r(-1e3,1e3,0)),this.shown||(this.shown=!0,C(this.node).to(.4,{position:this.oldpos},{easing:"cubicInOut"}).start())},u._hide=function(){this.shown&&(this.shown=!1,C(this.node).by(.4,{position:new r(0,400,0)},{easing:"cubicInOut"}).start())},u.update=function(n){var t=p.deltaTime;if(this.ExpressedSunCount<this.SunCountTarget?this.icon.playAnimation("sunRising"):this.icon.playAnimation("sun"),this.ExpressedSunCount!=this.SunCountTarget){var o=this.SunCountTarget-this.ExpressedSunCount,i=o*t*10;i=o>0?Math.ceil(i):Math.floor(i),this.ExpressedSunCount+=i,this.count.string=Math.round(this.ExpressedSunCount).toString()}},t}(f)).component=void 0,M=t((L=O).prototype,"addSound",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=t(L.prototype,"cheatAddSound",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(L.prototype,"addButton",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=L))||x));u._RF.pop()}}}));

System.register("chunks:///_virtual/Sunflower.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./NodePools.ts","./dropping.ts","./Droppings.ts","./Square.ts","./sun.ts","./plantFood.ts","./coin.ts","./gem.ts","./SoundRescourses.ts","./UI.ts","./LevelTaskCount.ts","./levelController.ts","./sunbomb.ts","./sprout.ts"],(function(n){var o,t,e,i,a,r,u,l,s,c,d,y,p,h,f,P,w,S,v,m,g,b,x,C,V,j,L,M,O;return{setters:[function(n){o=n.inheritsLoose,t=n.applyDecoratedDescriptor,e=n.initializerDefineProperty,i=n.assertThisInitialized},function(n){a=n.cclegacy,r=n._decorator,u=n.AudioClip,l=n.Node,s=n.Vec2,c=n.tween,d=n.dragonBones,y=n.TWO_PI},function(n){p=n.PlantProps,h=n.Plant},function(n){f=n.NodePools},function(n){P=n.dropping},function(n){w=n.droppings},function(n){S=n.Square},function(n){v=n.sun},function(n){m=n.plantFood},function(n){g=n.coin},function(n){b=n.gem},function(n){x=n.sounds},function(n){C=n.UIInGame},function(n){V=n.LevelTaskCountModeEnum},function(n){j=n.LevelPlay,L=n.SunBombProperties},function(n){M=n.sunbomb},function(n){O=n.sprout}],execute:function(){var R,A,D,_,E,F,I,T,k,B,Y,z,X,G;a._RF.push({},"463e4u984hEbLGhv6WBjBYc","Sunflower",void 0);var q=r.ccclass,W=r.property,N=n("sunflower",function(){function n(){}return n.producePlantFood=function(n){var o=f.instantiatePooly(w.plantFood);o.parent=w.layer;var t=n.clone(),e=S.lawnRec.prjX(),i=S.lawnRec.prjY();t.x<e.x?t.x=e.x:t.x>e.y&&(t.x=e.y),t.y<i.x?t.y=i.x:t.y>i.y&&(t.y=i.y);var a=o.getComponent(m);a.worldPosition=t,a.linearVelocity=new s(Math.random()-.5,Math.random()-.5).normalize().multiplyScalar(5),a.gravity=0},n.dropOneCoin=function(n,o){void 0===o&&(o=0);var t=w.CoinSilver;1==o&&(t=w.CoinGold);var e=f.instantiatePooly(t);e.parent=w.layer;var i=n.clone(),a=S.lawnRec.prjX(),r=S.lawnRec.prjY();i.x<a.x?i.x=a.x:i.x>a.y&&(i.x=a.y),i.y<r.x?i.y=r.x:i.y>r.y&&(i.y=r.y);var u=e.getComponent(g);return u.linearVelocity=new s(6*Math.random()-3,0),u.bodyLinearVelocity=10,u.worldPosition=i,u.gravity=1,u},n.dropOneSprout=function(n){var o=w.Sprout,t=f.instantiatePooly(o);t.parent=w.layer;var e=n.clone(),i=S.lawnRec.prjX(),a=S.lawnRec.prjY();e.x<i.x?e.x=i.x:e.x>i.y&&(e.x=i.y),e.y<a.x?e.y=a.x:e.y>a.y&&(e.y=a.y);var r=t.getComponent(O);return r.linearVelocity=new s(6*Math.random()-3,0),r.bodyLinearVelocity=10,r.worldPosition=e,r.gravity=1,r},n.dropOneGem=function(n){var o=w.Gem,t=f.instantiatePooly(o);t.parent=w.layer;var e=n.clone(),i=S.lawnRec.prjX(),a=S.lawnRec.prjY();e.x<i.x?e.x=i.x:e.x>i.y&&(e.x=i.y),e.y<a.x?e.y=a.x:e.y>a.y&&(e.y=a.y);var r=t.getComponent(b);return r.linearVelocity=new s(6*Math.random()-3,0),r.bodyLinearVelocity=10,r.worldPosition=e,r.gravity=1,x.playGemSpawn(),r},n.dropOneSunBomb=function(n){var o,t,e=w.SunBomb,i=f.instantiatePooly(e);i.parent=w.layer;var a=n.clone(),r=S.lawnRec.prjX(),u=S.lawnRec.prjY();a.x<r.x?a.x=r.x:a.x>r.y&&(a.x=r.y),a.y<u.x?a.y=u.x:a.y>u.y&&(a.y=u.y);var l=null!=(o=j.component)&&o.sunbombProps?null==(t=j.component)?void 0:t.sunbombProps:new L,c=i.getComponent(M);return c.linearVelocity=new s(6*Math.random()-3,0),c.bodyLinearVelocity=10,c.worldPosition=a,c.gravity=1,c.sunbombProps=l,c},n.produceSun=function(n,o,t,e,i){void 0===e&&(e=!0),void 0===i&&(i=!1);var a=S.getSquareWorldPosition(0,0,0,0),r=S.getSquareWorldPosition(4,8,1,1),u=o.clone();u.x<a.x?u.x=a.x:u.x>r.x&&(u.x=r.x),e&&C.component.calculateLevelTask(V.SunProduceRequest,{SunProduceAdd:n});var l=[];switch(n){case 5:l=[f.instantiatePooly(w.SunTiny)];break;case 25:l=[f.instantiatePooly(w.SunSmall)];break;case 50:l=[f.instantiatePooly(w.SunMid)];break;case 75:l=[f.instantiatePooly(w.SunLarge)];break;case 100:l=[f.instantiatePooly(w.SunMid),f.instantiatePooly(w.SunMid)];break;default:for(var d=n+0;d>=75;)d-=75,l.push(f.instantiatePooly(w.SunLarge));for(;d>=50;)d-=50,l.push(f.instantiatePooly(w.SunMid));for(;d>=25;)d-=25,l.push(f.instantiatePooly(w.SunSmall));for(;d>=5;)d-=5,l.push(f.instantiatePooly(w.SunTiny))}for(var p=0;p<l.length;p++){var h=l[p],m=l.length;h.parent=w.layer;var g=h.getComponent(P);g.height=t,g.worldPosition=new s(m<=1?u.x:u.x-15+30/(m-1)*p,u.y),g.gravity=1,g.linearVelocity=new s(6*Math.random()-3,0),g.bodyLinearVelocity=10}var b=[];if(l.forEach((function(n){b.push(n.getComponent(v))})),i){var x=y/3,j=b.length-1;2==b.length?x=y/6:1==b.length&&(x=0);var L=-x/2;b.forEach((function(n,o){n.gravity=0,n.worldPositionX=u.x,n.height=0;var t=0;j>0&&(t=x*o/j+L);n.linearVelocity=new s(10*Math.sin(t),0),n.bodyLinearVelocity=10*Math.cos(t),c(n).to(.5,{linearVelocity:new s(0,0),bodyLinearVelocity:0}).start()}))}return b},n}()),U=n("SunflowerProps",function(n){function t(){for(var o,t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return(o=n.call.apply(n,[this].concat(e))||this).PlantfoodTime=3,o.SunValue=50,o.ProduceInterval=23.5,o.ProduceIntervalAdditional=1.5,o.ProduceCountdownStart=5,o.ProduceCountdownStartAdditional=5,o}return o(t,n),t}(p)),H=(R=q("sunflowerSound"),A=W(u),D=W(u),R((F=t((E=function(){function n(){e(this,"foodSound",F,this),e(this,"produceSound",I,this)}var o=n.prototype;return o.playFoodSound=function(){x.playOneShot(this.foodSound,1,.1)},o.playProduceSound=function(){x.playOneShot(this.produceSound,1,.2)},n}()).prototype,"foodSound",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=t(E.prototype,"produceSound",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=E))||_);n("SunflowerPlant",(T=q("Sunflower"),k=W(H),B=W(l),T((X=t((z=function(n){function t(){for(var o,t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return(o=n.call.apply(n,[this].concat(a))||this)._objdataOwn=new U,e(o,"soundRes",X,i(o)),o.sunValue=50,o.coinProducer=!1,e(o,"sunSpawnpoint",G,i(o)),o.producing=!1,o.foodSoundPlayed=!1,o.busy=0,o}o(t,n);var a=t.prototype;return a.playProduceAnimation=function(){this.defaultProduceAnimation()},a.getStartingCD=function(){return this._objdataOwn.ProduceCountdownStart+Math.random()*this._objdataOwn.ProduceCountdownStartAdditional},a.getBetweenCD=function(){return this._objdataOwn.ProduceInterval+Math.random()*this._objdataOwn.ProduceIntervalAdditional},a.defaultProduceAnimation=function(n){void 0===n&&(n="Produce"),this.producing=!0,this.setCD(this.getBetweenCD()),this.anmControl.playAnimation(n,1,.1,Math.max(1,1.1/this.busy))},a.specialPlantFood=function(){this.producing=!1,this.busy=1/0,this.foodSoundPlayed=!1,this.anmControl.playAnimation("Food",this._objdataOwn.PlantfoodTime),this.anmControl.db.once(d.EventObject.COMPLETE,this.foodEnd,this)},a.waterable=function(){return!this.producing},a.specialPlantFoodEnd=function(){this.producing=!1,this.setCD(this.getStartingCD()),this.anmControl.playIdle()},a.onObjdataSet=function(n,o){this.sunValue=o.SunValue,this.setCD(this.getStartingCD())},a._produce=function(n){var o;(void 0===n&&(n=this.coinProducer),this.producing=!1,null==(o=this.soundRes)||o.playProduceSound(),n)?N.dropOneCoin(new s(this.worldPositionX,this.worldPositionY),Math.random()>.1?0:1).height=this.sunSpawnpoint.worldPosition.y-this.worldPositionY:N.produceSun(this.sunValue,this.worldPosition,this.sunSpawnpoint.worldPosition.y-this.worldPositionY)},a.animationListener=function(n){var o;"Produce"==n.name?(this._produce(),this.fooding&&!this.foodSoundPlayed&&(this.foodSoundPlayed=!0,null==(o=this.soundRes)||o.playFoodSound())):this.specialSunflowerAnimationListener(n)},a.specialSunflowerAnimationListener=function(n){},a.specialPlantOnEnable=function(){this.producing=!1,this.setCD(this.getStartingCD()),this.specialSunflowerOnEnable()},a.specialSunflowerOnEnable=function(){},a.setCD=function(n){this._cdScale&&(n*=this._cdScale),this.busy=n},a.specialPlantUpdate=function(n,o,t){this.busy>0&&(this.busy-=n),this.busy<=0&&this.playProduceAnimation()},t}(h)).prototype,"soundRes",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new H}}),G=t(z.prototype,"sunSpawnpoint",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=z))||Y));a._RF.pop()}}}));

System.register("chunks:///_virtual/SunShroom.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Sunflower.ts","./SoundRescourses.ts","./FrontYard.ts"],(function(t){var o,n,i,a,e,r,s,u,h,d,l,c;return{setters:[function(t){o=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){e=t.cclegacy,r=t._decorator,s=t.AudioClip,u=t.dragonBones},function(t){h=t.SunflowerPlant,d=t.SunflowerProps},function(t){l=t.sounds},function(t){c=t.FrontYard}],execute:function(){var S,w,m,g,p,f,_,b,y,A,C,P,j,O;e._RF.push({},"6fd60koRUVMwqjBq2Zaw4u+","SunShroom",void 0);var v=r.ccclass,R=r.property,I=function(t){function o(){for(var o,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(o=t.call.apply(t,[this].concat(i))||this).SunValueList=[25,50,75],o.GrowTime0_1=18,o.GrowTime1_2=54,o.ProduceInterval_AtNight=23.5,o.ProduceIntervalAdditional_AtNight=1.5,o.ProduceCountdownStart_AtNight=5,o.ProduceCountdownStartAdditional_AtNight=5,o}return n(o,t),o}(d),F=(S=v("sunShroomSound"),w=R([s]),m=R([s]),g=R([s]),S((_=o((f=function(){function t(){i(this,"foodSound",_,this),i(this,"produceSound",b,this),i(this,"growSound",y,this)}var o=t.prototype;return o.playFoodSound=function(){l.playArray(this.foodSound,1,.2)},o.playProduceSound=function(){l.playArray(this.produceSound,1,.2)},o.playGrowSound=function(){l.playArray(this.growSound,1,.2)},t}()).prototype,"foodSound",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),b=o(f.prototype,"produceSound",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y=o(f.prototype,"growSound",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),p=f))||p);t("SunShroomPlant",(A=v("SunShroom"),C=R(F),A((O=o((j=function(t){function o(){for(var o,n=arguments.length,e=new Array(n),r=0;r<n;r++)e[r]=arguments[r];return(o=t.call.apply(t,[this].concat(e))||this)._objdataOwn=new I,i(o,"soundResSunShroom",O,a(o)),o.growthCountdown=0,o.growthStage=0,o.shouldScale=.3,o.currentScale=.3,o.produceAnm="Produce",o.step=void 0,o}n(o,t);var e=o.prototype;return e.specialPlantFood=function(){var t=this;this.busy=1/0,this.growthStage>=2?(this.anmControl.playAnimation("Food",1),this.soundResSunShroom.playFoodSound()):(this.growthStage=1,this.grow(),this.anmControl.db.once(u.EventObject.COMPLETE,(function(){t.anmControl.playAnimation("Food",1),t.soundResSunShroom.playFoodSound()}),this))},e.onObjdataSet=function(t,o){this._objdataOwn.SunValueList.length>this.growthStage?this.sunValue=this._objdataOwn.SunValueList[this.growthStage]:this.sunValue=25*(this.growthStage+1),this.growthCountdown=o.GrowTime0_1},e.specialPlantFoodEnd=function(){this.producing=!1,this.setCD(this.getStartingCD())},e.specialPlantOnEnable=function(){this.currentScale=this.shouldScale=.6,this.producing=!1,this.setCD(this.getStartingCD()),this.growthStage=0,this.growthCountdown=Math.max(.1,this._objdataOwn.GrowTime0_1),this.produceAnm="Produce_Small",this.anmControl.IdleAnim="Idle_Small",this.anmControl.RandomAnim=["Random_Small"],this.anmControl.playIdle(),this.scale=this.currentScale},e.animationListener=function(t){if("Produce"==t.name)this._produce();else if("ProduceFood"==t.name)for(var o=0;o<this._objdataOwn.PlantfoodTime;o++)this._produce();else"foodEnd"==t.name&&this.foodEnd()},e.playProduceAnimation=function(){this.producing=!0,this.setCD(this.getBetweenCD()),this.anmControl.playAnimation(this.produceAnm,1,.1,Math.max(1,1.1/this.busy)),this.soundResSunShroom.playProduceSound()},e.getStartingCD=function(){return c.atNight?this._objdataOwn.ProduceCountdownStart_AtNight+Math.random()*this._objdataOwn.ProduceCountdownStartAdditional_AtNight:this._objdataOwn.ProduceCountdownStart+Math.random()*this._objdataOwn.ProduceCountdownStartAdditional},e.getBetweenCD=function(){return c.atNight?this._objdataOwn.ProduceInterval_AtNight+Math.random()*this._objdataOwn.ProduceIntervalAdditional_AtNight:this._objdataOwn.ProduceInterval+Math.random()*this._objdataOwn.ProduceIntervalAdditional},e.grow=function(){this.soundResSunShroom.playGrowSound(),this.anmControl.playAnimation("Grow",1),this.growthCountdown=this._objdataOwn.GrowTime1_2,this.growthStage++,0==this.growthStage?(this.shouldScale=.6,this.anmControl.IdleAnim="Idle_Small",this.anmControl.RandomAnim=["Random_Small"],this.produceAnm="Produce_Small",this.growthCountdown=this._objdataOwn.GrowTime0_1):1==this.growthStage?(this.shouldScale=.8,this.anmControl.IdleAnim="Idle_Mid",this.anmControl.RandomAnim=["Random_Mid"],this.produceAnm="Produce_Mid",this.growthCountdown=this._objdataOwn.GrowTime1_2):(this.shouldScale=1,this.anmControl.IdleAnim="Idle",this.anmControl.RandomAnim=["Random"],this.produceAnm="Produce"),this._objdataOwn.SunValueList.length>this.growthStage?this.sunValue=this._objdataOwn.SunValueList[this.growthStage]:this.sunValue=25*(this.growthStage+1)},e.specialPlantUpdateForce=function(t,o,n){if(this.currentScale!=this.shouldScale){var i=this.shouldScale-this.currentScale;0==this.step&&(this.step=i/60),this.currentScale+=this.step*t*60,i*this.step<0&&(this.currentScale=this.shouldScale)}else this.step=0;this.scale=this.currentScale},e.specialPlantUpdate=function(t,o,n){this.busy>0&&(this.busy-=t),this.busy<=0&&this.playProduceAnimation(),this.growthCountdown>0&&this.growthStage<2&&(this.growthCountdown-=t),this.growthCountdown<=0&&(this.growthCountdown=0,!this.producing&&this.growthStage<2&&this.grow())},o}(h)).prototype,"soundResSunShroom",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new F}}),P=j))||P));e._RF.pop()}}}));

System.register("chunks:///_virtual/SuperFanZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CharacterManager.ts","./Zombie.ts","./SoundRescourses.ts","./ImpZombie.ts","./NodePools.ts","./ArrayGet.ts","./Square.ts"],(function(i){var e,t,n,o,a,r,s,l,u,d,c,h,p,g,m,f,b,y,S;return{setters:[function(i){e=i.applyDecoratedDescriptor,t=i.inheritsLoose,n=i.initializerDefineProperty,o=i.assertThisInitialized,a=i.createClass},function(i){r=i.cclegacy,s=i._decorator,l=i.Prefab,u=i.AudioClip,d=i.Vec2},function(i){c=i.ZombieDamageType,h=i.Rectangle,p=i.ZombieDamageDetails},function(i){g=i.ZombieProps},function(i){m=i.sounds},function(i){f=i.ImpZombie},function(i){b=i.instantiatePooly},function(i){y=i.ValueRange},function(i){S=i.Square}],execute:function(){var w,x,v,E,A,P,C,k,D,O,Z,j,L,_,F;r._RF.push({},"cee92l1re5KDZ1EOzS2lcpI","SuperFanZombie",void 0);var z=s.ccclass,N=s.property,R=function(i){function e(){for(var e,t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return(e=i.call.apply(i,[this].concat(n))||this).ExplosionDamage=301,e.MinTriggerColumn=0,e.MaxTriggerColumn=2,e}return t(e,i),e}(g);i("SuperFanZombieZombie",(w=z("SuperFanZombie"),x=N(l),v=N([u]),E=N([u]),A=N([u]),P=N([u]),C=N([u]),w((O=e((D=function(i){function e(){for(var e,t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return(e=i.call.apply(i,[this].concat(a))||this)._objdataOwn=new R,e._objdataOwnOrg=new R,e.ExplodeColumn=2,e.ExplodeX=300,e.fireSlots=[],e.ignited=void 0,n(e,"explosionPar",O,o(e)),n(e,"groundHitSound",Z,o(e)),n(e,"hurraySound",j,o(e)),n(e,"explodeSound",L,o(e)),n(e,"rotateSound",_,o(e)),n(e,"rotateEndSound",F,o(e)),e}t(e,i);var r=e.prototype;return r.onObjdataSet=function(i){this.resetExplodeColumn()},r.onReversedSet=function(i){this.resetExplodeColumn(i)},r.resetExplodeColumn=function(i){void 0===i&&(i=this.reversed),this.ExplodeColumn=this.getExplodeColumn(i),this.ExplodeX=S.getSquareWorldPosition(0,this.ExplodeColumn).x},r.getExplodeColumn=function(i){void 0===i&&(i=!1);var e=new y(this.objdataOwn.MaxTriggerColumn,this.objdataOwn.MinTriggerColumn),t=y.getRandomIntegerFromRange(e);return i&&(t=8-t),t},r.onKickedByAllstar=function(i){this.reversed=i.reversed,m.playArray(this.hurraySound,1,NaN,.8);var e=this.getExplodeColumn(i.reversed),t=S.getSquareWorldPosition(0,e).x;this.leapTo(new d(t,this.worldPositionY),!0,2,200,!0,!1,!1),this.body.playAnimation("Fly_Kicked",1/0),this.isWalking=!1,this.switching=!0},r.specialZombieOnLanding=function(){switch(this.body.currentAnimationName){case"Fly":this.isAlive()?(this.switching=!0,this.isWalking=!1,this.body.playAnimation("Land",1)):this.judgeDeath(0);break;case"Fly_Kicked":this.switching=!0,this.isWalking=!1,this.body.playAnimation("Land_Kicked",1)}},r.specialImpOnLoad=function(){var i=this;this.fireSlots=[],this.body.db.armature().getSlots().forEach((function(e){e.name.includes("SPK")&&i.fireSlots.push(e)}))},r.onDamaged=function(i,e,t){t.damageType==c.fire&&this.ignite()},r.onDamagedButArmor=function(i){i.damageType==c.fire&&this.ignite()},r.playSpecialZombieDieForced=function(){this.ignite(!1)},r.onChill=function(i){this.ignite(!1)},r.specialImpOnEnable=function(){this.ignite(),this.resetExplodeColumn()},r.ignite=function(i){void 0===i&&(i=!0);var e=i?0:-1;this.ignited=i,this.fireSlots.forEach((function(i){i._setDisplayIndex(e)}))},r.specialImpAnimationListener=function(i){switch(i.name){case"explode":if(this.ignited){var e,t;if(!this.hypnotized)if(null!=(t=this.inLnC)&&t.isInLawn()){var n=this.inLnC.getAllPlants(!0)[0];n&&n.dealDamage(this.objdataOwn.ExplosionDamage,3)}if(this.inLane){var o=h.createRectangleCenter(new d(this.worldPositionX,this.inLane.midY),S.SquareWidth,S.SquareHeight),a=this.hypnotized?this.inLane.zombiePool():this.inLane.hypnoZombiePool(),r=new p(this.objdataOwn.ExplosionDamage,!1,!1,!0,null,c.fire,!0,!0);a.filter((function(i){return o.judgeCrossRec(i.bodyRec)})).forEach((function(i){i.dealDamage(r)}))}var s=b(this.explosionPar);s.parent=null==(e=this.inLane)?void 0:e.prjLayer,s.worldPosition=this.worldPosition.toVec3(),this.playAsh()}break;case"explodeSound":this.ignited&&m.playArray(this.explodeSound,1,NaN,.3);break;case"judgeExplode":this.ignited?this.body.playAnimation("Explode"):this.switchingFalse();break;case"ro":m.playArray(this.rotateSound,1,NaN,.3);break;case"ro_end":m.playArray(this.rotateEndSound,1,NaN,.3);break;case"ground_hit":m.playArray(this.groundHitSound,1,NaN,.3)}},r.specialZombieUpdateForced=function(i,e,t,n){this.ignited&&this.fireSlots.forEach((function(i){if(i.childArmature){var t=i.childArmature.animation,n=t.lastAnimationState.currentTime;t.gotoAndPlayByTime(t.lastAnimationState.name,n+e,1/0)}}))},r.specialZombieUpdateBeforePlantDetect=function(i,e,t){this.isWalking&&(this.worldPositionX-this.ExplodeX)*(this.reversed?-1:1)<=0&&(this.body.playAnimation("Prepare"),this.isWalking=!1,this.switching=!0)},a(e,[{key:"objdataOwn",get:function(){return this._objdataOwn}},{key:"objdataOwnOrg",get:function(){return this._objdataOwnOrg}}]),e}(f)).prototype,"explosionPar",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=e(D.prototype,"groundHitSound",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j=e(D.prototype,"hurraySound",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=e(D.prototype,"explodeSound",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=e(D.prototype,"rotateSound",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=e(D.prototype,"rotateEndSound",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=D))||k));r._RF.pop()}}}));

System.register("chunks:///_virtual/SweetPotato.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./SoundRescourses.ts","./CharacterManager.ts","./LnC.ts","./Square.ts"],(function(t){var e,a,n,o,i,r,s,l,d,c,h,u,f,m;return{setters:[function(t){e=t.inheritsLoose,a=t.applyDecoratedDescriptor,n=t.initializerDefineProperty,o=t.assertThisInitialized,i=t.createClass},function(t){r=t.cclegacy,s=t._decorator,l=t.AudioClip},function(t){d=t.PlantProps,c=t.Plant},function(t){h=t.sounds},function(t){u=t.Rectangle},function(t){f=t.TileType},function(t){m=t.Square}],execute:function(){var p,y,b,g,S,w,A,P,C,D,z,R,v,I,L,F,O,j,k,T;r._RF.push({},"6c2efVn/9tGXYxpmCs5hc+j","SweetPotato",void 0);var N=s.ccclass,x=s.property,q=t("SweetPotatoProps",function(t){function a(){for(var e,a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this).PlantFoodDurationSeconds=6,e.PlantfoodAttractWidth=4,e.NormalAttractWidth=2,e.LaneChangeTime=.6,e.TimeBetweenLaneChanges=5,e.AttractsEveryFrame=!1,e}return e(a,t),a}(d)),E=t("SweetPotatoSound",(p=N("SweetPotatoSound"),y=x(l),b=x([l]),g=x([l]),S=x([l]),w=x([l]),A=x([l]),p((D=a((C=function(){function t(){n(this,"foodLP",D,this),n(this,"foodSay",z,this),n(this,"dmgSay1",R,this),n(this,"dmgSay2",v,this),n(this,"dmgSay3",I,this),n(this,"idle",L,this)}var e=t.prototype;return e.playFoodLP=function(){h.playOneShot(this.foodLP,1,NaN,.9)},e.playFoodSay=function(){h.playArray(this.foodSay,1,NaN,1)},e.playDmgSay1=function(){h.playArray(this.dmgSay1,1,.1)},e.playDmgSay2=function(){h.playArray(this.dmgSay2,1,.1)},e.playDmgSay3=function(){h.playArray(this.dmgSay3,1,.1)},e.playIdle=function(){h.playArray(this.idle,1,5)},t}()).prototype,"foodLP",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=a(C.prototype,"foodSay",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=a(C.prototype,"dmgSay1",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=a(C.prototype,"dmgSay2",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),I=a(C.prototype,"dmgSay3",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=a(C.prototype,"idle",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),P=C))||P));t("SweetPotatoPlant",(F=N("SweetPotatoPlant"),O=x(E),F((T=a((k=function(t){function a(){for(var e,a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return e=t.call.apply(t,[this].concat(i))||this,n(e,"soundRes",T,o(e)),e._objdataOwn=new q,e.foodCD=0,e.zombiesAttracted=[],e.detector=new u,e.foodDetector=new u,e.attractCD=0,e.hurtStage=0,e}e(a,t);var r=a.prototype;return r.onObjdataSet=function(t,e){},r.onDamaged=function(t,e,a){for(var n=1;n<=4;n++)if(a<=this.toughness/4*n){this.setAnimation(4-n);break}},r.zombieAttractable=function(t){return t.knockBackable&&!t.objdataOwn.ImmuneToSweetPotato&&t.specialZombieKnockbackable()&&t.CanBeReversedBySweetPotato()},r.specialPlantOnSquareChange=function(t,e){e&&(this.detector=u.createRectangleNodeCenter(e.node,m.SquareWidth*this.objdataOwn.NormalAttractWidth,3*m.SquareHeight),this.foodDetector=u.createRectangleNodeCenter(e.node,m.SquareWidth*this.objdataOwn.PlantfoodAttractWidth,3*m.SquareHeight))},r.specialPlantUpdate=function(t,e,a){var n,o=this;if(this.attractCD>0&&(this.attractCD-=t),this.attractCD<=0)if(this.attractCD=this.objdataOwn.AttractsEveryFrame?0:.1*Math.random(),a&&null!=(n=this.inLane)&&n.isInLawn()){var i=this.fooding?this.foodDetector:this.detector,r=this.inLane.UpperLane.zombiePool().concat(this.inLane.LowerLane.zombiePool());this.fooding&&(r=r.concat(this.inLane.zombiePool()));var s=this.objdataOwn.TimeBetweenLaneChanges;r.forEach((function(t){if(o.zombieAttractable(t)&&(!o.zombiesAttracted.some((function(e){if(e.zombie==t)return!0}))&&i.judgeCrossRec(t.bodyRecReal))){s>0&&o.zombiesAttracted.push({zombie:t,cd:s});var e=m.getLnC(o.lIndex,t.cIndex);t.lIndex==o.lIndex||!t.flying&&e.getTileType()==f.sea||t.changeLaneTo(o.lIndex,o.objdataOwn.LaneChangeTime,"quadInOut")}}))}else this.zombiesAttracted=[];this.zombiesAttracted.concat().forEach((function(t){var a;if(t.cd-=e,o.fooding&&t.zombie.worldPositionX<o.worldPositionX&&(t.zombie.reverseCD=.5),null==(a=t.zombie)||!a.isAlive()||t.cd<=0){var n=o.zombiesAttracted.indexOf(t);-1!=n&&o.zombiesAttracted.splice(n,1)}})),this.fooding?(this.playFoodSounds(),this.foodCD-=t,this.foodCD<=0&&this.foodEnd()):this.soundRes.playIdle(),this.specialSweetPotatoUpdate(t,e,a)},r.specialSweetPotatoUpdate=function(t,e,a){},r.playFoodSounds=function(){this.soundRes.playFoodLP(),this.soundRes.playFoodSay()},r.specialPlantFoodEnd=function(){this.anmControl.playIdle()},r.waterable=function(){return 0==this.hurtStage},r.specialPlantOnEnable=function(){this.hurtStage=1,this.setAnimation(),this.zombiesAttracted=[]},r.replantable=function(){return this.hurtStage>0},r.replant=function(){this.health=this.toughness,this.setAnimation()},r.specialSweetPotatoFood=function(t){},r.specialPlantFood=function(t){this.zombiesAttracted=[],this.setAnimation(0),this.anmControl.playAnimation("Food",1/0),this.foodCD=this.objdataOwn.PlantFoodDurationSeconds,this.specialSweetPotatoFood(t)},r.animationChanger=function(t,e){switch(e){case 1:this.soundRes.playDmgSay1(),t.IdleAnim="Idle1",t.RandomAnim=["Rand1"],this.deathAnm="Death1";break;case 2:this.soundRes.playDmgSay2(),t.IdleAnim="Idle2",t.RandomAnim=["Rand2"],this.deathAnm="Death2";break;case 3:this.soundRes.playDmgSay3(),t.IdleAnim="Idle3",t.RandomAnim=["Rand3"],this.deathAnm="Death3";break;default:t.IdleAnim="Idle0",t.RandomAnim=["Rand0"],this.deathAnm="Death0",this.hurtStage=0}},r.setAnimation=function(t){if(void 0===t&&(t=0),this.hurtStage!=t){this.hurtStage=t;var e,a=this.anmControl;if(this.animationChanger(a,t),!this.dead)a.playIdle(0,NaN,!0),this.replantable()&&(null==(e=this.plantInLnC)||e.readIndex())}},i(a,[{key:"objdataOwn",get:function(){return this._objdataOwn}}]),a}(c)).prototype,"soundRes",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new E}}),j=k))||j));r._RF.pop()}}}));

System.register("chunks:///_virtual/taichiTile.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Tile.ts","./Sunflower.ts","./SoundRescourses.ts","./GridItem.ts","./NodePools.ts","./levelController.ts"],(function(t){var e,i,n,a,o,s,r,l,u,c,d,h,p,f,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,a=t.assertThisInitialized,o=t.createClass},function(t){s=t.cclegacy,r=t._decorator,l=t.Prefab,u=t.AudioClip},function(t){c=t.Tile},function(t){d=t.sunflower},function(t){h=t.sounds},function(t){p=t.GridItemEnum},function(t){f=t.instantiatePooly},function(t){g=t.LevelPlay}],execute:function(){var w,y,L,m,P,S,b,v,C;s._RF.push({},"90ae4yLdHBFo59t5V+6FtTc","taichiTile",void 0);var T=r.ccclass,D=r.property;t("taichiTile",(w=T("taichiTile"),y=D(l),L=D([u]),m=D([u]),w((b=e((S=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))||this)._stage=0,e.LifeSpan=60,e.LifeCountDown=60,n(e,"spawnPar",b,a(e)),n(e,"spawnSounds",v,a(e)),n(e,"produceSounds",C,a(e)),e}i(e,t);var s=e.prototype;return s.specialTileOnEnable=function(){this.deathAnm="Die",this.LifeCountDown=this.LifeSpan},s.onLnCChange=function(t,e){var i;null==(i=this.gridItemCP)||i.setGridItemType([p.taichitile])},s.afterLnCChange=function(t,e){if(e&&g.gameStarted){var i=f(this.spawnPar);i.parent=e.inLane.tileLayer,i.worldPosition=this.node.worldPosition,i.worldScale=this.node.worldScale,h.playArray(this.spawnSounds)}},s.specialTileDie=function(){this.stage&&(d.producePlantFood(this.node.worldPosition.toVec2()),h.playArray(this.produceSounds))},s.specialTileUpdate=function(t){var e;if(!this.dead){var i=0;if(null==(e=this.inLnC)||null==(e=e.getAllPlants())||e.forEach((function(t){i+=t.suncost})),i>0&&g.gaming){var n=Math.log(i/25+Math.E-1);this.stage=1,this.LifeCountDown-=t*n,this.db.timeScale=n,this.LifeCountDown<=0&&this.die()}else this.stage=0}},o(e,[{key:"stage",get:function(){return this._stage},set:function(t){switch(t){case 1:this.IdleAnmList=["Idle_Lit"],this.deathAnm="Die_Lit";break;default:this.IdleAnmList=["Idle"],this.deathAnm="Die",t=0}t!=this._stage&&this.playIdle(),this._stage=t}}]),e}(c)).prototype,"spawnPar",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=e(S.prototype,"spawnSounds",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C=e(S.prototype,"produceSounds",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),P=S))||P));s._RF.pop()}}}));

System.register("chunks:///_virtual/TallNut.ts",["./rollupPluginModLoBabelHelpers.js","cc","./WallNut.ts"],(function(t){var n,e,a,i;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,a=t._decorator},function(t){i=t.WallNutPlant}],execute:function(){var s;e._RF.push({},"32029KEr/9LPa6AKkS+xB/b","TallNut",void 0);var o=a.ccclass;a.property,t("TallNutPlant",o("TallNutPlant")(s=function(t){function e(){return t.apply(this,arguments)||this}n(e,t);var a=e.prototype;return a.specialPlantFood=function(t){this.soundRes.playFoodSound(),this.setArmor(0),this.armorHealth=this.armorToughness,this.foodable=!1,this.foodEnd(),this.setAnimation(0)},a.setAnimation=function(t){if(void 0===t&&(t=0),this.hurtStage!=t){this.hurtStage=t;var n,e=this.anmControl;switch(t){case 1:e.IdleAnim="Idle1",this.deathAnm="Death1";break;case 2:e.IdleAnim="Idle2",this.deathAnm="Death2";break;default:e.IdleAnim="Idle0",this.deathAnm="Death0",this.hurtStage=0}if(!this.dead)e.playIdle(),null==(n=this.plantInLnC)||n.readIndex()}},a.onDamaged=function(t,n,e){for(var a=1;a<=3;a++)if(e<=this.toughness/3*a){this.setAnimation(3-a);break}},a.animationListener=function(t){},e}(i))||s);e._RF.pop()}}}));

System.register("chunks:///_virtual/TangleKelp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./SoundRescourses.ts","./CharacterManager.ts","./LnC.ts","./Square.ts","./tanglekelpHands.ts","./NodePools.ts","./ArrayGet.ts"],(function(e){var i,t,n,o,a,l,r,s,u,d,p,h,c,f,g,b,y,m,v,w,C;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized,a=e.createClass},function(e){l=e.cclegacy,r=e._decorator,s=e.AudioClip,u=e.Prefab,d=e.Vec3},function(e){p=e.Plant,h=e.PlantProps},function(e){c=e.sounds},function(e){f=e.Rectangle,g=e.ZombieDamageDetails,b=e.ZombiePool},function(e){y=e.TileType},function(e){m=e.Square},function(e){v=e.tanglekelpHands},function(e){w=e.instantiatePooly},function(e){C=e.ArrayGet}],execute:function(){var D,P,S,A,z,O,K,R,T,k,E,j,F,Z,x,B,L,M,H,_,q,I,W,Y,G,N;l._RF.push({},"a7347ymY/1LfryL4Y84xuF4","TangleKelp",void 0);var U=r.ccclass,V=r.property,X=function(e){function i(){for(var i,t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return(i=e.call.apply(e,[this].concat(n))||this).MaxDraggedZombieCount=1,i.MaxDraggedZombieCountPlantfood=5,i.DamageWhenDragFailed=400,i}return t(i,e),i}(h),J=(D=U("TangleKelpSound"),P=V(s),S=V(s),A=V(s),z=V([s]),O=V([s]),K=V([s]),R=V([s]),T=V([s]),D((j=i((E=function(){function e(){n(this,"foodStart",j,this),n(this,"foodKelp",F,this),n(this,"foodEnd",Z,this),n(this,"dive",x,this),n(this,"hit",B,this),n(this,"out",L,this),n(this,"pull",M,this),n(this,"swing",H,this)}var i=e.prototype;return i.playFoodStart=function(){c.playOneShot(this.foodStart,1,.1)},i.playFoodKelp=function(){c.playOneShot(this.foodKelp,1,.1)},i.playFoodEnd=function(){c.playOneShot(this.foodEnd,1,.1)},i.playDive=function(){c.playArray(this.dive,1,.1)},i.playHit=function(){c.playArray(this.hit,1,.1)},i.playOut=function(){c.playArray(this.out,1,.1)},i.playPull=function(){c.playArray(this.pull,1,.1)},i.playSwing=function(){c.playArray(this.swing,1,.1)},e}()).prototype,"foodStart",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=i(E.prototype,"foodKelp",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=i(E.prototype,"foodEnd",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=i(E.prototype,"dive",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B=i(E.prototype,"hit",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=i(E.prototype,"out",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),M=i(E.prototype,"pull",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),H=i(E.prototype,"swing",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=E))||k);e("TangleKelpPlant",(_=U("TangleKelpPlant"),q=V(J),I=V(u),_((G=i((Y=function(e){function i(){for(var i,t=arguments.length,a=new Array(t),l=0;l<t;l++)a[l]=arguments[l];return i=e.call.apply(e,[this].concat(a))||this,n(i,"soundRes",G,o(i)),i._objdataOwn=new X,i.leftTime=1,i.triggerer=void 0,i.diving=!1,i.detector=new f,n(i,"kelphands",N,o(i)),i}t(i,e);var l=i.prototype;return l.specialPlantOnEnable=function(){this.triggerer=null,this.leftTime=this.objdataOwn.MaxDraggedZombieCount,this.deathAnm="Dive",this.eaterDetectable=!1,this.smasherDetectable=!1,this.diving=!1},l.onObjdataSet=function(e,i){i.MaxDraggedZombieCount&&(this.leftTime=i.MaxDraggedZombieCount)},l.kelpKillCall=function(e){this.soundRes.playPull(),this.soundRes.playHit(),e.zombie&&this.killZombie(e.zombie),!this.fooding&&this.isAlive()&&this.anmControl.playAnimation("Appear"),this.isAlive()||this.node.destroy()},l.killZombie=function(e){if(null!=e&&e.isAlive())if(e.objdataOwn.CannotBeDraggedByTangleKelp){var i=this.objdataOwn.DamageWhenDragFailed*this._dmgScale;e.dealDamage(new g(i,!0,!0,!0,null))}else e.chomp()},l.kelpOnZombie=function(e){this.fooding||this.leftTime--,null!=e&&e.isAlive()&&(e.objdataOwn.CannotBeDraggedByTangleKelp?e.setStun(1.5):(e.switching=!0,e.correctShadeWP(),e.playIdle(),e.dirtSpawning=!0));var i=w(this.kelphands);i.parent=e.node.parent,i.worldPosition=new d(e.worldPositionX,e.worldPositionY,0),i.setSiblingIndex(e.node.getSiblingIndex()+1);var t=i.getComponent(v);t.owner=this,t.zombie=e},l.zombieCanbeKelped=function(e){return!e.flying},l.animationListener=function(e){var i=this;switch(e.name){case"dive":this.soundRes.playDive();break;case"kelp":if(this.isAlive()){var t,n=this.detectEnemySpecific();if(!n)n=null!=(t=this.triggerer)&&t.isAlive()?this.triggerer:n;n?(this.soundRes.playOut(),this.soundRes.playSwing(),this.kelpOnZombie(n),this.leftTime<=0&&this.die(!1,!0,!1,!1)):this.anmControl.playAnimation("Appear",1)}else this.node.destroy();break;case"foodEnd":this.foodEnd(),this.soundRes.playFoodEnd();break;case"foodKelp":var o=C.randomize(b.pool()),a=this.objdataOwn.MaxDraggedZombieCountPlantfood,l=!1;o.forEach((function(e,t){a>0&&i.zombieCanbeKelped(e)&&e.inLnC.getTileType()==y.water&&(i.kelpOnZombie(e),a--,l=!0)})),l&&this.soundRes.playFoodKelp();break;case"appear":this.soundRes.playDive(),this.diving=!1,this.invincible=!1;break;case"out":this.isAlive()&&(this.anmControl.playAnimation("Appear",1),this.invincible=!1,this.diving=!1)}},l.dive=function(){this.anmControl.playAnimation("Dive",2),this.invincible=!0,this.diving=!0},l.specialPlantFood=function(e){this.diving=!1,this.anmControl.playAnimation("Food"),this.soundRes.playFoodStart(),this.leftTime=this.objdataOwn.MaxDraggedZombieCount},l.specialPlantFoodEnd=function(){this.invincible=!1,this.diving=!1,this.anmControl.playIdle()},l.specialPlantOnSquareChange=function(e,i){i&&(this.detector=f.createRectangleNodeCenter(i.node,1*m.SquareWidth,m.SquareHeight))},l.detectEnemy=function(){var e=this,i=!1;return this.inLane.zombiePool().forEach((function(t){i||e.zombieCanbeKelped(t)&&e.detector.judgeCrossRec(t.bodyRec)&&(e.triggerer=t,i=!0)})),i},l.detectEnemySpecific=function(){var e=this,i=null;return this.inLane.zombiePool().forEach((function(t){e.zombieCanbeKelped(t)&&e.detector.judgeCrossRec(t.bodyRec)&&(!i||i.objdataOwn.CannotBeDraggedByTangleKelp&&!t.objdataOwn.CannotBeDraggedByTangleKelp||i.totalHealth()<t.totalHealth())&&(i=t)})),i},l.specialPlantUpdate=function(e,i,t){this.fooding||this.diving||this.sheepend||t>0&&this.detectEnemy()&&this.dive()},a(i,[{key:"objdataOwn",get:function(){return this._objdataOwn}}]),i}(p)).prototype,"soundRes",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new J}}),N=i(Y.prototype,"kelphands",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=Y))||W));l._RF.pop()}}}));

System.register("chunks:///_virtual/tanglekelpHands.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ParticleSelfdestroy.ts"],(function(e){var n,t,l,r;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy,l=e._decorator},function(e){r=e.ParticleSelfdestroy}],execute:function(){var o;t._RF.push({},"5c0ebQgHPlOTZU9HvYTWoZY","tanglekelpHands",void 0);var i=l.ccclass;l.property,e("tanglekelpHands",i("tanglekelpHands")(o=function(e){function t(){for(var n,t=arguments.length,l=new Array(t),r=0;r<t;r++)l[r]=arguments[r];return(n=e.call.apply(e,[this].concat(l))||this).zombie=void 0,n.owner=void 0,n}n(t,e);var l=t.prototype;return l.animationListener=function(e){var n;"kill"==e.name&&(null==(n=this.owner)||n.kelpKillCall(this))},l.specialOnEnable=function(){this.owner=null,this.zombie=null},t}(r))||o);t._RF.pop()}}}));

System.register("chunks:///_virtual/testScene.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CardFeatureTotal.ts"],(function(e){var t,n,a,i,r,o,l,m,s,c,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,a=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){r=e.cclegacy,o=e._decorator,l=e.Label,m=e.AudioClip,s=e.dragonBones,c=e.Component},function(e){u=e.CardFeatureTotal}],execute:function(){var p,h,d,A,y,f,N,b,T,P,g;r._RF.push({},"1d57cs/IpdP/J12KO9nu/kj","testScene",void 0);var D=o.ccclass,L=o.property;e("testScene",(p=D("testScene"),h=L(l),d=L(m),A=L(s.ArmatureDisplay),y=L(u),p((b=t((N=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,a(t,"anmNameLabel",b,i(t)),a(t,"foodSound",T,i(t)),a(t,"plant",P,i(t)),t.animations=[{Name:"Idle1",AnmName:"Idle",PlayTime:2},{Name:"Idle2",AnmName:"Rand",PlayTime:1},{Name:"PLANTFOOD",AnmName:"Food",PlayTime:3},{Name:"IDLE_PLANTFOOD",AnmName:"Idle_Food",PlayTime:10},{Name:"WATER",AnmName:"Water",PlayTime:3},{Name:"Death",AnmName:"Death",PlayTime:3}],t.currentAnimation=0,a(t,"cf",g,i(t)),t}n(t,e);var r=t.prototype;return r.switchAnimation=function(){this.anmNameLabel.string=this.animations[this.currentAnimation].Name;var e=this.animations[this.currentAnimation].AnmName;this.plant.playAnimation(e,this.animations[this.currentAnimation].PlayTime),this.currentAnimation++,this.currentAnimation>=this.animations.length&&(this.currentAnimation=0)},r.start=function(){},t}(c)).prototype,"anmNameLabel",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=t(N.prototype,"foodSound",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=t(N.prototype,"plant",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=t(N.prototype,"cf",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=N))||f));r._RF.pop()}}}));

System.register("chunks:///_virtual/ThreePeater.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Peashooter.ts","./Character.ts","./Square.ts","./CharacterManager.ts","./Projectiles.ts"],(function(t){var e,n,o,a,i,r,s,h,c,u,l,d;return{setters:[function(t){e=t.inheritsLoose,n=t.asyncToGenerator,o=t.regeneratorRuntime},function(t){a=t.cclegacy,i=t._decorator,r=t.Vec2,s=t.HALF_PI},function(t){h=t.PeashooterPlant},function(t){c=t.CharacterType},function(t){u=t.Square},function(t){l=t.Rectangle},function(t){d=t.ProjectileShootingFunctions}],execute:function(){var p;a._RF.push({},"f6610F4CzZNQrwBOcJg3XSi","ThreePeater",void 0);var f=i.ccclass;i.property,t("ThreePeaterPlant",f("ThreePeater")(p=function(t){function a(){for(var e,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))||this).minShootInterval=2,e}e(a,t);var i=a.prototype;return i._shoot3=function(){var t=n(o().mark((function t(e,n,a){var i,s,h,l,p,f,P;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===e&&(e=4),void 0===n&&(n=new r(8,0)),void 0===a&&(a=this.defaultPea),i=this.inLane.prjLayer,s=this.inLnC.havePeaBuff,h=this.highRedCD,l=this._objdataOwn.RedAttackStunDuration,p=this._dmgScale,!(f=this.inLane)){t.next=17;break}return t.next=12,d.shootOnePea(a,new r(this.peaSpawnpoint.worldPosition.x,this.worldPositionY),Math.max(1,this.peaSpawnpoint.getWorldPosition().y-this.inLnC.plantPoint.worldPosition.y),i,n,c.zombie);case 12:P=t.sent,s&&P.addPeaBuff(),p&&P.setDamage(P.damage*p),h>0&&(P.setStun(l),P.HighRed=1),0!=e&&2!=e||(0==e?P.setLockLane(f.UpperLane):2==e&&P.setLockLane(f.LowerLane),P.linearVelocity=new r(8,9*(1-e)),P.deceleration=new r(0,-Math.sign(P.linearVelocity.y)*Math.pow(P.linearVelocity.y,2)/(2*u.SquareHeight)));case 17:case"end":return t.stop()}}),t,this)})));return function(e,n,o){return t.apply(this,arguments)}}(),i.setDetecter=function(){this.detector=l.createRectangleNodeSide(this.inLnC.node,u.SquareWidth*(9-this.inLnC.cIndex),3*u.SquareHeight)},i.detectEnemy=function(){for(var t=this.inLane.zombiePool().concat(this.inLane.UpperLane.zombiePool(),this.inLane.LowerLane.zombiePool()),e=this.inLane.tombPool().concat(this.inLane.UpperLane.tombPool(),this.inLane.LowerLane.tombPool()),n=0;n<t.length;n++)if(this.detector.judgeCrossRec(t[n].bodyRecForShooter))return!0;for(var o=0;o<e.length;o++)if(e[o].inLnC.cIndex>this.inLnC.cIndex)return!0;return!1},i.animationListener=function(t){"shootM"==t.name&&(this._shoot3(1),this.soundRes.playShootSound()),"shootU"==t.name&&0!=this.inLane.LaneIndex&&this._shoot3(0),"shootD"==t.name&&5!=this.inLane.LaneIndex&&this._shoot3(2)},i.specialPlantFood=function(){var t=this;this.isGatling()&&this.upgrade(),this.anmControl.playAnimation("Food",1/0),this.soundRes.playFood(),this.busy=1/0;var e=this._objdataOwn.PlantfoodPeaCount,n=0;this.schedule((function(){var o=2*s*(e/2-Math.abs(n%e-e/2))/e;t._shoot3(3,new r(8*Math.cos(o),8*Math.sin(o)),t._objdataOwn.PeaTypePlantfood),t._shoot3(3,new r(8*Math.cos(o),-8*Math.sin(o)),t._objdataOwn.PeaTypePlantfood),t._shoot3(3,new r(8,0),t._objdataOwn.PeaTypePlantfood),++n>e&&t.foodEnd()}),2/e,e,.01)},i._shootPeaAnimation=function(){var t="Shoot111";0==this.lIndex&&(t="Shoot110"),4==this.lIndex&&(t="Shoot011");var e=Math.max(1/this.busy,1);this.anmControl.playAnimation(t,1,.1*this._cdScale,e)},a}(h))||p);a._RF.pop()}}}));

System.register("chunks:///_virtual/ThrewOctopus.ts",["./rollupPluginModLoBabelHelpers.js","cc","./commonShot.ts","./CharacterManager.ts","./DarkWizardZombie.ts","./Particles.ts","./Square.ts"],(function(t){var n,e,r,o,i,a,s,c,u,l,h;return{setters:[function(t){n=t.inheritsLoose,e=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){o=t.cclegacy,i=t._decorator,a=t.Vec3},function(t){s=t.commonShot},function(t){c=t.Umbrellas},function(t){u=t.wizard},function(t){l=t.particle},function(t){h=t.Square}],execute:function(){var p;o._RF.push({},"8e27cHVbxlNWK+P1niaAVgA","ThrewOctopus",void 0);var f=i.ccclass;i.property,t("ThrewOctopus",f("ThrewOctopus")(p=function(t){function o(){return t.apply(this,arguments)||this}n(o,t);var i=o.prototype;return i.pop=function(){var t=e(r().mark((function t(){var n,e,o,i,a=this;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=!1,e=!1,o=this.inLnC,this.height>h.SquareHeight?n=!0:null!=o&&o.isInLawn()&&(c.umbrellas.forEach((function(t){!n&&t.owner.umbrellable()&&t.detector.judgeInRecNode(a.node)&&(n=!0,t.owner.umbrella())})),n||((i=o.getAllPlants()).length||(n=!0),e=!0,i.forEach((function(t){n||u.getPlantCanbeSheepened(t,!0)||(e=!1,n=!0)})))),n&&(e=!1),e?o.octopusSpawn():this.playParticle(),this.fade(),this.playPopSound();case 9:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),i.hitWater=function(){var t;null!=(t=this.inLnC)&&null!=(t=t.getAllPlants())&&t.length?this.pop():(l.spawnWaterSplash(this.inLane.LaneIndex,new a(this._worldPositionX,this._worldPositionY,10)),this.fade())},i.detectPlant=function(t,n){},o}(s))||p);o._RF.pop()}}}));

System.register("chunks:///_virtual/ThymeWarp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./SoundRescourses.ts","./CharacterManager.ts","./Zombies.ts"],(function(t){var e,n,o,r,a,i,l,s,u,c,p,h,d,f,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,r=t.assertThisInitialized,a=t.createClass},function(t){i=t.cclegacy,l=t._decorator,s=t.AudioClip,u=t.Prefab,c=t.Vec2},function(t){p=t.Plant,h=t.PlantProps},function(t){d=t.sounds},function(t){f=t.ZombiePool},function(t){b=t.zombies}],execute:function(){var y,m,S,P,w,T,g,v,O,z,W,j,A,R;i._RF.push({},"24f83u4aopKTrGXKSrIzTsA","ThymeWarp",void 0);var D=l.ccclass,_=l.property,C=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))||this).WarpTime=5,e}return n(e,t),e}(h),E=(y=D("ThymeWarpSound"),m=_(s),y((w=e((P=function(){function t(){o(this,"teleportStartSound",w,this)}return t.prototype.playTeleportSound=function(){d.playOneShot(this.teleportStartSound,1,.1)},t}()).prototype,"teleportStartSound",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=P))||S);t("ThymeWarpPlant",(T=D("ThymeWarpPlant"),g=_(E),v=_(s),O=_(u),T((j=e((W=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a))||this,o(e,"soundRes",j,r(e)),e._objdataOwn=new C,o(e,"teleportEndSound",A,r(e)),o(e,"teleportPar",R,r(e)),e}n(e,t);var i=e.prototype;return i.onObjdataSet=function(t,e){},i.waterable=function(){return!1},i.specialPlantOnEnable=function(){var t=this;this.anmControl.playAnimation("Play",1,0,1),this.deathAnm="",this.invincible=!0,this.foodable=!1,this.eaterDetectable=!1,this.smasherDetectable=!1,this.soundRes.playTeleportSound();var e=this.teleportEndSound;f.pool().concat().forEach((function(n){n.teleporting||n.objdataOwn.IgnoredByThymeWarp||-1!=b.zombossList().indexOf(n.ID)||!n.isRealZombie||(n.teleportToPos(t.objdataOwn.WarpTime,new c(8,n.lIndex),0,t.teleportPar,t.teleportPar,(function(){d.playOneShot(e,1,.2)})),n.clearBuff(),n.heal(),n.healArmors())}))},i.animationOnComplete=function(){this.dead&&this.node.destroy()},i.animationListener=function(t){switch(t.name){case"kill":this.die(!1,!0,!1,!1)}},a(e,[{key:"objdataOwn",get:function(){return this._objdataOwn}}]),e}(p)).prototype,"soundRes",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new E}}),A=e(W.prototype,"teleportEndSound",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=e(W.prototype,"teleportPar",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=W))||z));i._RF.pop()}}}));

System.register("chunks:///_virtual/Tide.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Square.ts","./NodePools.ts","./FrontYard.ts","./ParticleSelfdestroy.ts","./SoundRescourses.ts"],(function(i){var t,e,o,n,r,s,a,u,l,d,h,c,p,f,b,y,g,m,v,w,P;return{setters:[function(i){t=i.applyDecoratedDescriptor,e=i.inheritsLoose,o=i.initializerDefineProperty,n=i.assertThisInitialized,r=i.createClass},function(i){s=i.cclegacy,a=i._decorator,u=i.Prefab,l=i.Node,d=i.AudioClip,h=i.Vec3,c=i.dragonBones,p=i.instantiate,f=i.tween,b=i.Color,y=i.Component},function(i){g=i.Square},function(i){m=i.instantiatePooly},function(i){v=i.FrontYard},function(i){w=i.ParticleSelfdestroy},function(i){P=i.sounds}],execute:function(){var S,x,T,q,C,A,z,M,_,L,W,N,B,D,j;s._RF.push({},"c9fecsnRNZLHZrYMy0mtb8t","Tide",void 0);var k=a.ccclass,F=a.property,R=function(i,t){this.master=void 0,this.db=void 0,this.db=i.getComponent(c.ArmatureDisplay),this.master=t};i("Tide",(S=k("Tide"),x=F(u),T=F(u),q=F([l]),C=F(d),A=F(d),z=F([d]),S((L=t((_=function(i){function t(){for(var t,e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return(t=i.call.apply(i,[this].concat(r))||this).blueSquares=[],o(t,"blue",L,n(t)),t._x=void 0,t._y=void 0,o(t,"lowTidePar",W,n(t)),t.db=void 0,o(t,"tideMain",N,n(t)),t.tweening=void 0,t.moving=!1,t.pos=9,o(t,"pullSound",B,n(t)),o(t,"pushSound",D,n(t)),o(t,"ambience",j,n(t)),t.busyAmb=0,t.leftestX=0,t}e(t,i);var s=t.prototype;return s.playLowTide=function(){var i=m(this.lowTidePar);i.parent=g.getLane(4).prjLayer,i.worldPosition=new h(this.x,this.db.node.worldPosition.y,this.db.node.worldPosition.z),i.worldScale=this.node.worldScale;i.getComponent(w)},s.onLoad=function(){this.db=this.node.getChildByName("Main").getComponent(c.ArmatureDisplay)},s.standardize=function(i){var t=this;void 0===i&&(i=9),this.leftestX=g.getSquareWorldPosition(0,0,0).x;var e=g.getSquareWorldPosition(2,i-1,1);this.pos=i,this.x=e.x,this.y=e.y;for(var o=0;o<5;o++)for(var n=0;n<9;n++)if((o+n)%2==0){var r=p(this.blue);r.parent=this.node.getChildByName("BlueSquares");var s=new R(r,g.getSquare(o,n)),a=g.getSquareWorldPosition(o,n);s.db.node.worldPosition=new h(a.x,a.y),this.blueSquares.push(s)}this.onPosChange(9,i),this.scheduleOnce((function(){t.onPosChange(9,i)}))},s.pushTide=function(i){i<=0||(this.pos-i<0&&(i=this.pos),this.moveTide(this.pos-i))},s.pullTide=function(i){i<=0||(this.pos+i>9&&(i=9-this.pos),this.moveTide(this.pos+i))},s.moveTide=function(i){var t=this,e=i;i>9&&(e=9),i<0&&(e=0),P.playOneShot(this.pos>e?this.pullSound:this.pushSound,1,.1);var o=g.getSquareWorldPosition(0,e,0).x;this.moving=!0;var n=f(this).to(3,{x:o},{easing:"cubicInOut"}).call((function(){t.moving=!1})).start();this.tweening=n},s.playAmbience=function(){if(this.busyAmb>0&&this.busyAmb--,this.busyAmb<=0&&(this.busyAmb=0,this.ambience.length)){var i=5+Math.round(5*Math.random());this.busyAmb=60*i,P.playArray(this.ambience,1,.1)}},s.onPosChange=function(i,t){for(var e=i>t?-1:1,o=i;o!=t+e;o+=e)for(var n=0;n<5;n++){var r=g.getLnC(n,o);null==r||r.readTileType()}},s.judgePos=function(){for(var i=this.pos,t=9,e=this.x,o=g.getSquareWorldPosition(0,0).x,n=0;n<9;n++){var r=o+g.SquareWidth*(n-1),s=o+g.SquareWidth*n;if(r<=e&&s>e){t=n;break}}this.pos=t,i!=t&&this.onPosChange(i,t)},s.update=function(i){var t=this,e=this.db.color,o=this.db.customMaterial,n=o.passes[0].getHandle("chillColor"),r=v.atNight;o.passes[0].setUniform(n,r?1:0);var s=r?177:255;this.db.color=e=new b(s,s,255,255),this.blueSquares.forEach((function(i){var o=(i.db.node.worldPosition.x-t.x)/g.SquareWidth,n=255*(o<0?0:Math.min(1,o/2));i.db.color=new b(e.r,e.g,e.b,n)})),this.judgePos(),this.playAmbience()},r(t,[{key:"x",get:function(){return this._x},set:function(i){this.tideMain.forEach((function(t){t.worldPosition=new h(i,t.worldPosition.y,t.worldPosition.z)})),this._x=i}},{key:"y",get:function(){return this._y},set:function(i){this.tideMain.forEach((function(t){t.worldPosition=new h(t.worldPosition.x,i,t.worldPosition.z)})),this._y=i}}]),t}(y)).prototype,"blue",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=t(_.prototype,"lowTidePar",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=t(_.prototype,"tideMain",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B=t(_.prototype,"pullSound",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(_.prototype,"pushSound",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(_.prototype,"ambience",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),M=_))||M));s._RF.pop()}}}));

System.register("chunks:///_virtual/Tile.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ParticleSelfdestroy.ts","./Square.ts","./Tiles.ts","./GridItem.ts"],(function(i){var e,n,t,s,r,a,l,o,h,c,u,d,p,f,C;return{setters:[function(i){e=i.applyDecoratedDescriptor,n=i.inheritsLoose,t=i.initializerDefineProperty,s=i.assertThisInitialized,r=i.createClass,a=i.asyncToGenerator,l=i.regeneratorRuntime},function(i){o=i.cclegacy,h=i._decorator,c=i.Vec2,u=i.Vec3},function(i){d=i.ParticleSelfdestroy},function(i){p=i.Square},function(i){f=i.tiles},function(i){C=i.GridItem}],execute:function(){var L,T,g,P,v;o._RF.push({},"c7175wUllRAN4BK3lvhsK+r","Tile",void 0);var _=h.ccclass,m=h.property;i("Tile",(L=_("Tile"),T=m(c),L((v=e((P=function(i){function e(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return e=i.call.apply(i,[this].concat(r))||this,t(e,"validSize",v,s(e)),e.tileID=0,e.gridItemCP=void 0,e._inLnC=void 0,e.dead=!1,e.deathAnm="Die",e}n(e,i);var o=e.prototype;return o.specialUpdate=function(i){this.specialTileUpdate(i),this.lockToTileWP(i)},o.lockToTileWP=function(i){this._inLnC&&!this.dead&&(this.node.worldPosition=this._inLnC.node.worldPosition)},o.specialTileUpdate=function(i){},o.specialTileOnLoad=function(){},o.specialOnLoad=function(){this.gridItemCP=this.getComponent(C),this.gridItemCP||(this.gridItemCP=this.addComponent(C)),this.gridItemCP._component=this,this.specialTileOnLoad()},o.setTileParent=function(i){this.node.parent=i.inLane.tileLayer},o.plantPushTideListener=function(i){var e;null==i||null==(e=i.getAllPlants())||e.forEach((function(i){i.pushTideListener()}))},o.onLnCCall=function(i){},o.specialTileDie=function(){},o.die=function(){var i,e;f.deleteTile(this);var n=this._inLnC.tilesInSquare.indexOf(this);-1!=n&&this._inLnC.tilesInSquare.splice(n,1),null==(i=this._inLnC)||i.readIndex(),this._inLnC=null,this.db.playAnimation(this.deathAnm,1/0),null==(e=this.gridItemCP)||e.delete(),this.dead=!0,this.specialTileDie()},o.onLnCChange=function(i,e){},o.afterLnCChange=function(i,e){},o.specialTileOnEnable=function(){},o.specialOnEnable=function(){var i;this.specialTileOnEnable(),this.dead=!1,null==(i=this.gridItemCP)||i.register(),this.node.worldScale=new u(p.SquareWidth/this.validSize.x,p.SquareHeight/this.validSize.y,1)},o.onFoodedByPlayer=function(){},o.spawnZombie=function(){var i=a(l().mark((function i(e,n){return l().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(!this.inLnC||!e||isNaN(n)){i.next=4;break}return i.next=3,this.inLnC.SpawnZombieByRTID(e,n,!0,.5,0,{},!0,!1,!1);case 3:return i.abrupt("return",i.sent);case 4:return i.abrupt("return",[]);case 5:case"end":return i.stop()}}),i,this)})));return function(e,n){return i.apply(this,arguments)}}(),r(e,[{key:"inLnC",get:function(){return this._inLnC},set:function(i){if(i!=this._inLnC)if(null!=i&&i.isInLawn()){f.registerTile(this);var e=this._inLnC;if(this.node.worldPosition=i.node.worldPosition,this.onLnCChange(e,i),this._inLnC=i,this.setTileParent(i),this._inLnC){var n=this._inLnC.tilesInSquare.indexOf(this);-1!=n&&this._inLnC.tilesInSquare.splice(n,1)}-1==i.tilesInSquare.indexOf(this)&&i.tilesInSquare.push(this),this.plantPushTideListener(e),this.afterLnCChange(e,i)}else{var t=this._inLnC;this.onLnCChange(this._inLnC,i),this.die(),this.plantPushTideListener(t),this.afterLnCChange(t,i)}this._inLnC=i}}]),e}(d)).prototype,"validSize",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new c(72,84)}}),g=P))||g));o._RF.pop()}}}));

System.register("chunks:///_virtual/TileLiquid.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ParticleSelfdestroy.ts","./GridItem.ts"],(function(t){var i,e,n,r,s,o,u,a,c;return{setters:[function(t){i=t.inheritsLoose,e=t.createClass,n=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){s=t.cclegacy,o=t._decorator},function(t){u=t.ParticleSelfdestroy},function(t){a=t.GridItem,c=t.GridItemEnum}],execute:function(){var l;s._RF.push({},"43ca6I6UjlIhIAo9GKd98JV","TileLiquid",void 0);var d=o.ccclass;o.property,t("TileLiquid",d("TileLiquid")(l=function(t){function s(){for(var i,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(i=t.call.apply(t,[this].concat(n))||this)._liquidID=0,i.inLnC=void 0,i.GridItemCP=void 0,i}i(s,t);var o=s.prototype;return o.specialOnLoad=function(){this.getComponent(a)||this.addComponent(a),this.GridItemCP=this.getComponent(a),this.GridItemCP._component=this},o.specialOnEnable=function(){var t;null==(t=this.db)||t.playAnimation("Spawn"),this.GridItemCP.register()},o.die=function(){var t;null==(t=this.db)||t.playAnimation("Fade",1/0),this.GridItemCP.delete()},o.setInLnC=function(t){this.inLnC=t},o.spawnZombie=function(){var t=n(r().mark((function t(i,e){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.inLnC||!i||isNaN(e)){t.next=4;break}return t.next=3,this.inLnC.SpawnZombieByRTID(i,e,!0,.5,0,{},!0,!1,!1);case 3:return t.abrupt("return",t.sent);case 4:return t.abrupt("return",[]);case 5:case"end":return t.stop()}}),t,this)})));return function(i,e){return t.apply(this,arguments)}}(),e(s,[{key:"liquidID",get:function(){return this._liquidID},set:function(t){this.GridItemCP.setGridItemType([c.tile_liquid,c.tile_liquid+t]),this._liquidID=t}}]),s}(u))||l);s._RF.pop()}}}));

System.register("chunks:///_virtual/Tiles.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NodePools.ts","./foodLinkTile.ts"],(function(e){var i,r,l,t,n,o,a,u,s,d,p;return{setters:[function(e){i=e.applyDecoratedDescriptor,r=e.inheritsLoose,l=e.initializerDefineProperty,t=e.assertThisInitialized},function(e){n=e.cclegacy,o=e._decorator,a=e.Prefab,u=e.Component},function(e){s=e.instantiatePooly},function(e){d=e.FoodLinkTileTypeEnum,p=e.foodLinkTile}],execute:function(){var c,f,b,T,h,w,g,m,y,k,L,D,z,_,P,M,U,v,A,B,N,W,F,E,x,I,R,G,C,O,S,j,H,K,V,q,J,Q,X,Y,Z,$,ee,ie,re;n._RF.push({},"aeb05Pyx3NEA6fSKLUD+AAV","Tiles",void 0);var le=o.ccclass,te=o.property,ne=(e("TileEnum",function(e){return e[e.foodLinker=0]="foodLinker",e[e.cart=1]="cart",e[e.rail=2]="rail",e[e.endangered=3]="endangered",e[e.deepwater=4]="deepwater",e[e.shallowwater=5]="shallowwater",e[e.sliderUp=6]="sliderUp",e[e.sliderDown=7]="sliderDown",e[e.sliderModernUp=8]="sliderModernUp",e[e.sliderModernDown=9]="sliderModernDown",e[e.goldtile=10]="goldtile",e[e.taichitile=11]="taichitile",e[e.trap_firetile=12]="trap_firetile",e[e.trap_bouldertile_forward=13]="trap_bouldertile_forward",e[e.trap_bouldertile_backward=14]="trap_bouldertile_backward",e[e.trap_thundertile=15]="trap_thundertile",e[e.amount=16]="amount",e}({})),e("tiles",function(){function e(){}return e.registerTile=function(e){-1==this.res.tilePool.indexOf(e)&&this.res.tilePool.push(e)},e.deleteTile=function(e){var i=this.res.tilePool.indexOf(e);-1!=i&&this.res.tilePool.splice(i,1)},e.tilePool=function(){return this.res.tilePool.concat()},e.rail=function(){return this.res.rail},e.cart=function(){return this.res.cart},e.endangeredTile=function(){return this.res.endangeredTile},e.goldTile=function(){return this.res.goldTile},e.taichiTile=function(){return this.res.taichiTile},e.trapFireTile=function(){return this.res.trapFireTile},e.trapThunderTile=function(){return this.res.trapThunderTile},e.trapBoulderTile=function(){return this.res.trapBoulderTile},e.sliderModernUpTile=function(){return this.res.sliderModernUpTile},e.sliderModernDownTile=function(){return this.res.sliderModernDownTile},e.sliderUpTile=function(){return this.res.sliderUpTile},e.sliderDownTile=function(){return this.res.sliderDownTile},e.deepWaterTile=function(){return this.res.deepWaterTile},e.shallowWaterTile=function(){return this.res.shallowWaterTile},e.foodLinkTile=function(e){var i=this.res.foodLinkAlpha,r=0;if(e&&!isNaN(Number(e.ID)))switch(r=Number(e.ID)){case d.beta:i=this.res.foodLinkBeta;break;case d.delta:i=this.res.foodLinkDelta;break;case d.gamma:i=this.res.foodLinkGamma;break;case d.epsilon:i=this.res.foodLinkEpsilon;break;default:i=this.res.foodLinkAlpha,r=d.alpha}var l=s(i).getComponent(p);return l.foodLinkID=r,isNaN(e.PropagationDelay)?l.propagationDelay=0:l.propagationDelay=e.PropagationDelay,l},e.mold=function(){return this.res.mold},e.flower=function(){return this.res.flower},e}()));ne.res=void 0;e("TileRes",(c=le("TilesRe"),f=te(a),b=te(a),T=te(a),h=te(a),w=te(a),g=te(a),m=te(a),y=te(a),k=te(a),L=te(a),D=te(a),z=te(a),_=te(a),P=te(a),M=te(a),U=te(a),v=te(a),A=te(a),B=te(a),N=te(a),W=te(a),c((x=i((E=function(e){function i(){for(var i,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return i=e.call.apply(e,[this].concat(n))||this,l(i,"sliderModernUpTile",x,t(i)),l(i,"sliderModernDownTile",I,t(i)),l(i,"sliderUpTile",R,t(i)),l(i,"sliderDownTile",G,t(i)),l(i,"deepWaterTile",C,t(i)),l(i,"shallowWaterTile",O,t(i)),l(i,"endangeredTile",S,t(i)),l(i,"goldTile",j,t(i)),l(i,"taichiTile",H,t(i)),l(i,"trapFireTile",K,t(i)),l(i,"trapThunderTile",V,t(i)),l(i,"trapBoulderTile",q,t(i)),l(i,"rail",J,t(i)),l(i,"cart",Q,t(i)),l(i,"mold",X,t(i)),l(i,"flower",Y,t(i)),l(i,"foodLinkAlpha",Z,t(i)),l(i,"foodLinkBeta",$,t(i)),l(i,"foodLinkDelta",ee,t(i)),l(i,"foodLinkGamma",ie,t(i)),l(i,"foodLinkEpsilon",re,t(i)),i.tilePool=[],i}return r(i,e),i.prototype.onLoad=function(){ne.res=this},i}(u)).prototype,"sliderModernUpTile",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=i(E.prototype,"sliderModernDownTile",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=i(E.prototype,"sliderUpTile",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=i(E.prototype,"sliderDownTile",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=i(E.prototype,"deepWaterTile",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=i(E.prototype,"shallowWaterTile",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=i(E.prototype,"endangeredTile",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=i(E.prototype,"goldTile",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=i(E.prototype,"taichiTile",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=i(E.prototype,"trapFireTile",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=i(E.prototype,"trapThunderTile",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=i(E.prototype,"trapBoulderTile",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=i(E.prototype,"rail",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=i(E.prototype,"cart",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=i(E.prototype,"mold",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=i(E.prototype,"flower",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=i(E.prototype,"foodLinkAlpha",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=i(E.prototype,"foodLinkBeta",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ee=i(E.prototype,"foodLinkDelta",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ie=i(E.prototype,"foodLinkGamma",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),re=i(E.prototype,"foodLinkEpsilon",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=E))||F));n._RF.pop()}}}));

System.register("chunks:///_virtual/TileSpawner.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts"],(function(n){var t,e,r,a,o,i;return{setters:[function(n){t=n.inheritsLoose,e=n.createClass},function(n){r=n.cclegacy,a=n._decorator},function(n){o=n.Plant,i=n.PlantProps}],execute:function(){var c;r._RF.push({},"8c543BEaMtGwIVn48Jb2nGH","TileSpawner",void 0);var u=a.ccclass,l=(a.property,function(n){function e(){return n.apply(this,arguments)||this}return t(e,n),e}(i));n("TileSpawnerPlant",u("TileSpawnerPlant")(c=function(n){function r(){for(var t,e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return(t=n.call.apply(n,[this].concat(r))||this)._objdataOwn=new l,t}t(r,n);var a=r.prototype;return a.onObjdataSet=function(n,t){},a.animationListener=function(n){n.name},e(r,[{key:"objdataOwn",get:function(){return this._objdataOwn}}]),r}(o))||c);r._RF.pop()}}}));

System.register("chunks:///_virtual/TileTurnip.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./Tiles.ts","./foodLinkTile.ts","./SoundRescourses.ts","./ArrayGet.ts"],(function(n){var e,t,i,r,o,l,a,u,s,c,p,f,d,h;return{setters:[function(n){e=n.inheritsLoose,t=n.applyDecoratedDescriptor,i=n.initializerDefineProperty,r=n.assertThisInitialized},function(n){o=n.cclegacy,l=n._decorator,a=n.Enum,u=n.AudioClip},function(n){s=n.PlantProps,c=n.Plant},function(n){p=n.TileEnum},function(n){f=n.FoodLinkTileTypeEnum},function(n){d=n.sounds},function(n){h=n.ArrayGet}],execute:function(){var y,T,b,g,v,L,m;o._RF.push({},"e7b0cdNc7tGgIn6ey2N9vVp","TileTurnip",void 0);var P=l.ccclass,S=l.property;n("TileTurnipProps",function(n){function t(){for(var e,t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];return(e=n.call.apply(n,[this].concat(i))||this).SunCostList=[0,250,500,1e3,2e3,4e3,8e3],e}return e(t,n),t}(s));a(f);n("TileTurnipPlant",(y=P("TileTurnipPlant"),T=S({type:f}),b=S([u]),y((L=t((v=function(n){function t(){for(var e,t=arguments.length,o=new Array(t),l=0;l<t;l++)o[l]=arguments[l];return e=n.call.apply(n,[this].concat(o))||this,i(e,"foodLinkType",L,r(e)),i(e,"digSounds",m,r(e)),e}e(t,n);var o=t.prototype;return o.specialPlantOnEnable=function(){this.eaterDetectable=!1,this.smasherDetectable=!1,this.invincible=!0,this.anmControl.playAnimation("Dig",1,0,1),d.playOneShot(h.getRandom(this.digSounds),1,.1)},o.shouldSpeedScale=function(){return 1},o.waterable=function(){return!1},o.animationListener=function(n){var e;if("tile"==n.name&&(this.die(!0,!0,!1),null!=(e=this.plantInLnC)&&e.tileExistable(p.foodLinker,!0))){var t,i=null==(t=this.plantInLnC)?void 0:t.putTile(p.foodLinker,{ID:this.foodLinkType,PropagationDelay:1},!1);null==i||i.flash()}},t}(c)).prototype,"foodLinkType",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return f.epsilon}}),m=t(v.prototype,"digSounds",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),g=v))||g));o._RF.pop()}}}));

System.register("chunks:///_virtual/Toadstool.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./SoundRescourses.ts","./CharacterManager.ts","./Square.ts","./Character.ts","./NodePools.ts","./Sunflower.ts"],(function(t){var e,n,o,i,a,r,s,l,u,c,h,d,p,g,b,w,f,m,P,y,C,T,S,F,L;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized,a=t.createClass},function(t){r=t.cclegacy,s=t._decorator,l=t.AudioClip,u=t.Node,c=t.Prefab,h=t.Vec3,d=t.Vec2,p=t.HALF_PI,g=t.dragonBones,b=t.tween},function(t){w=t.Plant,f=t.PlantProps},function(t){m=t.sounds},function(t){P=t.Rectangle,y=t.ZombieDamageDetails},function(t){C=t.Square},function(t){T=t.CharacterScale},function(t){S=t.instantiatePooly,F=t.NodePools},function(t){L=t.sunflower}],execute:function(){var v,A,z,R,j,I,O,k,D,M,Z,_,E,x,B,q,X,U,N,W,H,V,G,Y,J,K,Q,$,tt,et,nt,ot,it,at;r._RF.push({},"a4eaddVkhxF2abUAbV6zqFO","Toadstool",void 0);var rt=s.ccclass,st=s.property,lt=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))||this).TongueDistance=3.5,e.TongueSlapDamage=50,e.ChewTime=30,e.SunProducePerZombie=50,e.MaxZombieChewCount=1,e.WaitTimePF=6,e.TongueDistancePF=4,e.TongueSlapDamagePF=100,e.ChewTimePF=3,e.SunProducePerZombiePF=50,e.MaxZombieChewCountPF=4,e}return n(e,t),e}(f),ut=(v=rt("ToadstoolSound"),A=st([l]),z=st([l]),R=st([l]),j=st([l]),I=st([l]),O=st([l]),k=st([l]),D=st([l]),M=st([l]),Z=st([l]),_=st([l]),v((B=e((x=function(){function t(){o(this,"chew",B,this),o(this,"swallow",q,this),o(this,"stomach",X,this),o(this,"open",U,this),o(this,"grab",N,this),o(this,"tongue",W,this),o(this,"tongueFood",H,this),o(this,"tongueBack",V,this),o(this,"tongueBackFood",G,this),o(this,"produce",Y,this),o(this,"produceFood",J,this)}var e=t.prototype;return e.playChew=function(){m.playArray(this.chew,.3,.2)},e.playSwallow=function(){m.playArray(this.swallow,1,.1)},e.playStomach=function(){m.playArray(this.stomach,1,.1)},e.playOpen=function(){m.playArray(this.open,1,.1)},e.playGrab=function(){m.playArray(this.grab,1,.1)},e.playTongue=function(t){m.playArray(t?this.tongueFood:this.tongue,1,.1)},e.playTongueBack=function(t){m.playArray(t?this.tongueBackFood:this.tongueBack,1,.1)},e.playProduce=function(t){m.playArray(t?this.produceFood:this.produce,1,.1)},t}()).prototype,"chew",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),q=e(x.prototype,"swallow",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),X=e(x.prototype,"stomach",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),U=e(x.prototype,"open",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),N=e(x.prototype,"grab",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),W=e(x.prototype,"tongue",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),H=e(x.prototype,"tongueFood",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),V=e(x.prototype,"tongueBack",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),G=e(x.prototype,"tongueBackFood",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Y=e(x.prototype,"produce",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),J=e(x.prototype,"produceFood",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),E=x))||E);t("ToadstoolPlant",(K=rt("ToadstoolPlant"),Q=st(ut),$=st(u),tt=st(c),K((ot=e((nt=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return e=t.call.apply(t,[this].concat(a))||this,o(e,"soundRes",ot,i(e)),e._objdataOwn=new lt,e.willProduceCount=0,o(e,"tonguePoint",it,i(e)),o(e,"tonguePar",at,i(e)),e.tongueTween=void 0,e.foodCD=6,e.detector=new P,e.detectorPF=new P,e.caughtZombie=null,e.catching=!1,e.switching=!1,e.zombiesInMouth=[],e}n(e,t);var r=e.prototype;return r.onObjdataSet=function(t,e){},r.shouldSpeedScale=function(){return this.catching||this.switching?1:this.defaultShouldSpeedScale()},r.tongueOnCharacter=function(t){var e;if(this.inLane&&t.inLane){var n=0,o=0,i=this.inLane.prjLayer;t&&t.lIndex>this.lIndex&&(i=t.inLane.prjLayer);var a=S(this.tonguePar);a.parent=i,a.worldPosition=this.tonguePoint.worldPosition,a.scale=new h(T,T,T);var r=new d(0,0);t&&(n=(r=t.worldPosition.subtract(this.worldPosition)).signAngle(new d(1,0))),o=Math.min(10,Math.round(r.length()/C.SquareWidth)),a.angle=90*-n/p,null==(e=a.getComponent(g.ArmatureDisplay))||e.playAnimation("Play"+o.toString(),1/0)}},r.catchEnd=function(t){null!=t&&t.isAlive()&&this.zombiesInMouth.push(this.fooding?this.objdataOwn.ChewTimePF:this.objdataOwn.ChewTime),this.zombiesInMouth.length>0?(this.anmControl.IdleAnim="Chew",this.anmControl.RandomAnim=[]):this.returnToIdle(),this.anmControl.playAnimation("AttackEnd",1),this.switching=!0,this.catching=!1},r._tongue=function(){var t=this,e=this.fooding?this.detectZombiePF():this.detectZombie(),n=new y((this.fooding?this.objdataOwn.TongueSlapDamagePF:this.objdataOwn.TongueSlapDamage)*this._dmgScale);if(e)this.tongueOnCharacter(e),this.tongueTween=b(e).to(.1667,{}).call((function(){var n;t.isAlive()&&null!=(n=e)&&n.isAlive()&&e.chompable_&&e.setStun(1)})).to(.3333,{}).call((function(){var o;t.isAlive()&&(null!=(o=e)&&o.isAlive()?e.chompable_?e.easyToChomp_?(e.playDie(),e=null,t.tongueTween=null,t.catchEnd(null)):(e.setStun(1),t.tongueTween=b(e).to(.1667,{worldPositionX:t.tonguePoint.worldPosition.x,worldPositionY:t.worldPositionY}).call((function(){var n;t.isAlive()&&(t.catchEnd(e),null!=(n=e)&&n.isAlive()&&(e.playDie(!0),F.destroyPooly(e.node)),t.tongueTween=null)})).start()):(e.dealDamage(n),e=null,t.tongueTween=null,t.catchEnd(null)):(t.tongueTween=null,t.catchEnd(null)))})).start();else{var o=this.fooding?this.detectTombPF():this.detectTomb();o?(this.tongueOnCharacter(o),this.tongueTween=b(o).to(.5,{}).call((function(){t.isAlive()&&(t.catchEnd(null),t.tongueTween=null,o.dealDamage(n))})).start()):this.catchEnd(null)}},r.animationListener=function(t){switch(t.name){case"chew":this.soundRes.playChew();break;case"swallow":this.soundRes.playSwallow();break;case"stomach":this.soundRes.playStomach();break;case"attack":this._tongue(),this.soundRes.playTongue(this.fooding);break;case"tongue_back":this.soundRes.playTongueBack(this.fooding),this.soundRes.playGrab();break;case"open":this.soundRes.playOpen();break;case"produce":this.soundRes.playProduce(this.fooding);for(var e=0;e<this.willProduceCount;e++)L.produceSun(this.fooding?this.objdataOwn.SunProducePerZombiePF:this.objdataOwn.SunProducePerZombie,this.worldPosition,30,!0);this.willProduceCount=0;break;case"foodEnd":this.fooding&&this.foodEnd()}},r.animationOnComplete=function(){this.switching=!1},r.specialPlantFood=function(t){var e;this.zombiesInMouth=[],this.returnToIdle(),this.foodCD=this.objdataOwn.WaitTimePF,null==(e=this.tongueTween)||e.stop(),this.switching=!1,this.catching=!1},r.specialPlantDie=function(t){var e;null==(e=this.tongueTween)||e.stop(),this.tongueTween=null},r.specialPlantOnEnable=function(){this.willProduceCount=0,this.caughtZombie=null,this.returnToIdle(),this.switching=!1,this.zombiesInMouth=[],this.tongueTween=null},r.waterable=function(){return!this.switching&&this.zombiesInMouth.length<=0&&!this.catching},r.specialPlantOnSquareChange=function(t,e){this.detector=P.createRectangleNodeSide(e.node,C.SquareWidth*this.objdataOwn.TongueDistance,C.SquareHeight),this.detectorPF=P.createRectangleNodeSide(e.node,C.SquareWidth*this.objdataOwn.TongueDistancePF,5*C.SquareHeight)},r.detectZombie=function(){var t=this;return this.inLane.zombiePool().sort((function(t,e){return t.bodyRecForShooter.prjX().x-e.bodyRecForShooter.prjX().x})).find((function(e){return t.detector.judgeCrossRec(e.bodyRecForShooter)}))},r.detectTomb=function(){var t=this;return this.inLane.tombPool().sort((function(t,e){return t.worldPositionX-e.worldPositionX})).find((function(e){return t.detector.judgeCrossRec(e.bodyRec)}))},r.detectZombiePF=function(){var t=this;return this.inLane.zombiePool().concat(this.inLane.UpperLane.zombiePool(),this.inLane.UpperLane.UpperLane.zombiePool(),this.inLane.LowerLane.LowerLane.zombiePool(),this.inLane.LowerLane.zombiePool()).sort((function(t,e){return t.bodyRecForShooter.prjX().x-e.bodyRecForShooter.prjX().x})).find((function(e){return t.detectorPF.judgeCrossRec(e.bodyRecForShooter)}))},r.detectTombPF=function(){var t=this;return this.inLane.tombPool().concat(this.inLane.UpperLane.tombPool(),this.inLane.UpperLane.UpperLane.tombPool(),this.inLane.LowerLane.LowerLane.tombPool(),this.inLane.LowerLane.tombPool()).sort((function(t,e){return t.worldPositionX-e.worldPositionX})).find((function(e){return t.detectorPF.judgeCrossRec(e.bodyRec)}))},r.returnToIdle=function(){this.anmControl.IdleAnim="Idle",this.anmControl.RandomAnim=["Random"],this.anmControl.playIdle()},r.specialPlantUpdate=function(t,e,n){var o=this;if(n>0&&!this.catching){var i=this.zombiesInMouth.length,a=[];this.zombiesInMouth.forEach((function(e){(e-=t/o._cdScale)>0?a.push(e):o.willProduceCount++})),this.zombiesInMouth=a;var r=this.zombiesInMouth.length;r<=0&&i>0&&(this.returnToIdle(),this.anmControl.playAnimation("ChewEnd",1),this.switching=!0),r+this.willProduceCount<(this.fooding?this.objdataOwn.MaxZombieChewCountPF:this.objdataOwn.MaxZombieChewCount)&&!this.switching&&(this.fooding?this.detectZombiePF()||this.detectTombPF():this.detectZombie()||this.detectTomb())&&(this.switching=!0,this.catching=!0,this.anmControl.playAnimation("AttackStart",1),this.anmControl.IdleAnim="AttackLoop",this.anmControl.RandomAnim=[]),r+this.willProduceCount<=0&&this.fooding&&!this.switching&&(this.foodCD-=t,this.foodCD<=0&&this.foodEnd())}},a(e,[{key:"objdataOwn",get:function(){return this._objdataOwn}}]),e}(w)).prototype,"soundRes",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new ut}}),it=e(nt.prototype,"tonguePoint",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),at=e(nt.prototype,"tonguePar",[tt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),et=nt))||et));r._RF.pop()}}}));

System.register("chunks:///_virtual/Tomb.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Materials.ts","./NodePools.ts","./LnC.ts","./CharacterManager.ts","./SoundRescourses.ts","./Particles.ts","./Character.ts","./GridItem.ts","./FrontYard.ts","./Square.ts"],(function(t){var e,n,i,o,a,s,r,l,h,u,d,c,m,p,f,b,g,y,v,w,P,L,C,I,S,T,D,R,x,_,B,z,O;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized,a=t.createClass,s=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){l=t.cclegacy,h=t._decorator,u=t.Prefab,d=t.CCFloat,c=t.CCInteger,m=t.AudioClip,p=t.Size,f=t.tween,b=t.Vec3,g=t.dragonBones,y=t.Material,v=t.Color},function(t){w=t.materialRes},function(t){P=t.NodePools},function(t){L=t.TileType},function(t){C=t.Rectangle,I=t.ZombieDamageDetails,S=t.TombPool,T=t.ZombieDamageType},function(t){D=t.sounds},function(t){R=t.particle},function(t){x=t.Character},function(t){_=t.GridItem},function(t){B=t.JamStyle,z=t.FrontYard},function(t){O=t.Square}],execute:function(){var A,W,k,E,F,M,q,G,U,N,Z,j,X,Y,H,V,J,K,Q,$,tt,et,nt;l._RF.push({},"f6bb0i5zL9AkK46tHIhjk6U","Tomb",void 0);var it=h.ccclass,ot=h.property;t("Tomb",(A=it("Tomb"),W=ot(u),k=ot(d),E=ot(c),F=ot(Boolean),M=ot(Boolean),q=ot(Boolean),G=ot(Boolean),U=ot(Boolean),N=ot([m]),Z=ot(p),A((Y=e((X=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a))||this,i(e,"damageParticle",Y,o(e)),e.finalWaveVictoryCountdown=0,e.health=0,i(e,"toughness",H,o(e)),e.spawnedZomboss=void 0,e.depthStartingZ=10,e._hurting=0,e.moveTween=void 0,e.body=null,i(e,"maxStage",V,o(e)),i(e,"playsParticleWhenBroken",J,o(e)),i(e,"playsParticleWhenDestroyed",K,o(e)),e.stage=-1,i(e,"fly",Q,o(e)),i(e,"bustable",$,o(e)),i(e,"hotpotato",tt,o(e)),e.hotpotatoTween=void 0,i(e,"breakSounds",et,o(e)),e.mainSlots=[],e.GridItemCP=void 0,e.hypnotized=!1,e._ID=0,e.dead=!1,e.plantWave=void 0,i(e,"bodyRecSize",nt,o(e)),e.bodyRec=new C,e._hidden=!1,e.tombInLnC=void 0,e.material=void 0,e}n(e,t);var l=e.prototype;return l.heal=function(t){if(t>0){this.hurting=30;var e=this.health;this.health=Math.min(this.toughness,this.health+t),this.onDamaged(e,this.health,!1)}},l.zombieJam=function(){return B.jam_clear},l.pushLeft=function(t,e){var n,i=this;void 0===t&&(t=.5),void 0===e&&(e="quadOut");var o=this.cIndexReal,a=this.lIndexReal,s=O.getLane(a),r=o-1,l=null==s||null==(n=s.tombPool())?void 0:n.find((function(t){return t.cIndexReal==r}));null==l||l.pushLeft(t,e),this.moveToPos(this.lIndex,r,t,e);var h=O.getLnC(a,o),u=O.getLnC(a,r);null!=u&&u.isInLawn()&&(null==u||u.getAllPlants().forEach((function(t){t.die(),t.dieOnLnC(),t.node.setParent(i.node.parent,!0),t.node.setSiblingIndex(0)}))),null!=h&&h.isInLawn()&&null!=u&&u.isInLawn()&&h.getAllPlants().forEach((function(n){n.leapTo(u,t,0,!1,!0,e)}))},l.pushRight=function(t,e){var n,i=this;void 0===t&&(t=.5),void 0===e&&(e="quadOut");var o=this.cIndexReal,a=this.lIndexReal,s=O.getLane(a),r=o+1,l=null==s||null==(n=s.tombPool())?void 0:n.find((function(t){return t.cIndexReal==r}));null==l||l.pushRight(t,e),this.moveToPos(this.lIndex,r,t,e);var h=O.getLnC(a,o),u=O.getLnC(a,r);null!=u&&u.isInLawn()&&(null==u||u.getAllPlants().forEach((function(t){t.die(),t.dieOnLnC(),t.node.setParent(i.node.parent,!0),t.node.setSiblingIndex(0)}))),null!=h&&h.isInLawn()&&null!=u&&u.isInLawn()&&h.getAllPlants().forEach((function(n){n.leapTo(u,t,0,!1,!0,e)}))},l.canBePushedLeft=function(){var t,e=this;if(!this.inLane)return!1;var n=this.cIndexReal,i=this.lIndexReal,o=O.getLane(i),a=n-1;if(this.moveTween)return!1;if(a<0)return!1;var s,r=null==o||null==(t=o.tombPool())?void 0:t.find((function(t){return t.cIndexReal==a}));if(r)return r.ID==this.ID&&r.canBePushedLeft();if(a>=9)return!0;var l=O.getLnC(i,a);return!(!l.getAllPlants().every((function(t){return!t.invincible}))||l.slider||l.zombieShields.find((function(t){return t.hypnotized!=e.hypnotized}))||null!=(s=this.tombInLnC)&&null!=(s=s.getAllPlants())&&s.some((function(t){return t.objdataOwn.CannotBePushedByFootballMech})))},l.canBePushedRight=function(){var t,e=this;if(!this.inLane)return!1;var n=this.cIndexReal,i=this.lIndexReal,o=n+1,a=O.getLane(i);if(this.moveTween)return!1;if(o>8)return!1;var s,r=null==a||null==(t=a.tombPool())?void 0:t.find((function(t){return t.cIndexReal==o}));if(r)return r.ID==this.ID&&r.canBePushedRight();if(o<=-1)return!0;var l=O.getLnC(i,o);return!(!l.getAllPlants().every((function(t){return!t.invincible}))||l.slider||l.zombieShields.find((function(t){return t.hypnotized!=e.hypnotized}))||null!=(s=this.tombInLnC)&&null!=(s=s.getAllPlants())&&s.some((function(t){return t.objdataOwn.CannotBePushedByFootballMech})))},l.isAlive=function(){return!this.dead},l.moveToLnC=function(t,e,n){var i,o=this;void 0===e&&(e=.5),void 0===n&&(n="quadOut"),this.setInLnC(t),null==(i=this.moveTween)||i.stop(),this.moveTween=f(this).to(e,{worldPositionX:t.plantPoint.worldPosition.x,worldPositionY:t.plantPoint.worldPosition.y},{easing:n}).call((function(){o.moveTween=null,t.tombable(!1,!1)||o.die(!0)})).start()},l.moveToPos=function(t,e,n,i){var o=this;void 0===n&&(n=.5),void 0===i&&(i="quadOut");var a=O.getLnC(t,e);if(a&&a.isInLawn())this.moveToLnC(a,n,i);else{var s;this.setInLnC(O.getLnC(-2,-2));var r=O.getSquareWorldPosition(t,e).x,l=O.getLnC(0,0).plantPoint.worldPosition.y-t*O.SquareHeight;null==(s=this.moveTween)||s.stop(),this.moveTween=f(this).to(n,{worldPositionX:r,worldPositionY:l},{easing:i}).call((function(){o.moveTween=null})).start()}},l.onDamaged=function(t,e,n,i){if(void 0===n&&(n=!0),void 0===i&&(i=new I),e<=0)this.die();else{for(var o=0,a=0;a<=this.maxStage;a++)e>=a/this.maxStage*this.toughness&&(o=this.maxStage-a);o!=this.stage&&o>1&&n&&this.playBreakPar(o-1),this.stage=o,this.mainSlots.forEach((function(t){null==t||t._setDisplayIndex(o)})),this.specialTombOnDamaged(t,e,n)}},l.playBreakPar=function(t){this.playsParticleWhenBroken&&this.playParticle(t)},l.playDeathPar=function(){this.playsParticleWhenDestroyed&&this.playParticle(this.maxStage)},l.specialTombOnDamaged=function(t,e,n){},l.onHotPotatoed=function(t){var e=this;if(void 0===t&&(t=1.5),!this.hotpotatoTween){var n=this.body.node.scale.x;this.hotpotatoTween=f(this.body.node).to(t,{scale:new b(n,.01,1)}).call((function(){e.body.node.scale=new b(n,n,1),e.hotpotatoTween=null,e.die()})).start()}},l.playSpawnParticle=function(){var t=P.instantiatePooly(R.dirtSpawn());t.parent=this.node.parent,t.worldPosition=this.node.worldPosition,D.playDirtRise(!1)},l.playParticle=function(t){var e=P.instantiatePooly(this.damageParticle);e.parent=this.node.parent,e.worldPosition=new b(this.worldPositionX,this.worldPositionY);var n=this._scaleForCharacter,i=Math.abs(n);e.worldScale=new b(n,i,i),e.getComponent(g.ArmatureDisplay).playAnimation("Play"+t.toString()),this.dead?this.playDestructionSound():this.playBreakSound()},l.playBreakSound=function(){this.breakSounds.length?D.playArray(this.breakSounds,1,.1):D.playTombBreak()},l.playDestructionSound=function(){this.breakSounds.length?D.playArray(this.breakSounds,1,.1):D.playTombBreak()},l.specialTombDie=function(t,e){},l.specialTombDieLater=function(t,e){},l.die=function(t){var e,n,i;void 0===t&&(t=!0),null==(e=this.hotpotatoTween)||e.stop(),this.addWave(L.solid);var o=this.tombInLnC;this.specialTombDie(t,o),this.dead=!0,t&&this.playDeathPar(),S.deleteTomb(this),null==(n=this.inLane)||n.deleteTomb(this),null==(i=this.GridItemCP)||i.delete(),this.tombInLnC&&(this.tombInLnC.tombStone=null,this.tombInLnC.readIndex()),this.selfDestroy(),this.stage=-1,this.setBodyRec(),this.specialTombDieLater(t,o)},l.selfDestroy=function(){P.destroyPooly(this.node)},l.characterOnLoadForced=function(){this.body=this.node.getChildByName("Body").getComponent(g.ArmatureDisplay),this.db=this.body},l.characterOnLoad=function(){var t=this,e=new y;e.initialize({effectAsset:w.addColorEffect,defines:{USE_TEXTURE:!0}}),this.material=e,this.material.setProperty("chillColor",0),this.body.armature().getSlots().forEach((function(e){e.name.includes("MAIN")&&t.mainSlots.push(e)})),this.getComponent(_)||this.addComponent(_),this.GridItemCP=this.getComponent(_),this.GridItemCP._component=this,this.specialTombOnLoad(),this.db.on(g.EventObject.FRAME_EVENT,this.animationListener,this)},l.specialTombOnLoad=function(){},l.empStun=function(t){},l.animationListener=function(t){},l.characterOnEnable=function(){var t;this.spawnedZomboss=null,this.hypnotized=!1,null==(t=this.moveTween)||t.stop(),this.moveTween=null,this.dead=!1,this.hotpotatoTween=null,S.registerTomb(this),this._hidden=!1,this.body.playAnimation("Spawn"),this.health=this.toughness,this._hurting=0,this.stage=-1,this.onDamaged(this.toughness,this.toughness,!1),this.specialTombOnEnable()},l.specialTombOnEnable=function(){},l.onIDSet=function(t){},l.damageScale=function(t){var e=1;return this.hotpotato&&t.damageType==T.fire&&(e*=3),e*this.damageScaleExtra(t)},l.damageScaleExtra=function(t){return 1},l.dealDamage=function(t){var e=this.health+0;this.health-=t.damage*this.damageScale(t),this.hurting=10,this.onDamaged(e,this.health,!0,t)},l.characterUpdate=function(t){var e;this.hurting>0&&(this._hurting-=this._hurting*t*15),this.shouldMaterial(),this.setBodyRec(),this.addWave(null==(e=this.inLnC)?void 0:e.getTileType()),this.specialTombUpdate(t)},l.specialTombUpdate=function(t){},l.onRealPosChange=function(){this.specialTombOnRealPosChange()},l.specialTombOnRealPosChange=function(){},l.depthScale=function(){return 15},l.addWave=function(t){this.fly||(this.depth=z.depth(this.worldPositionX,this.inLnC)*this.depthScale(),t==L.water&&!this.plantWave&&this._height-this._depth<-2&&(this.plantWave=P.instantiatePooly(R.plantWaterWave()),this.plantWave.getComponent(g.ArmatureDisplay).playAnimation("Idle",1/0),this.plantWave.parent=this.inLane.tombLayer),this.plantWave&&(this.plantWave.worldPosition=new b(this._worldPositionX,this.worldPositionYFoot),t==L.water&&this._height-this._depth<-2||(this.plantWave.getComponent(g.ArmatureDisplay).playAnimation("Fade"),this.plantWave.scale=new b(.6,.6,1),this.plantWave=null)))},l.setBodyRec=function(){this._hidden||this.health<=0||this.dead?this.bodyRec=new C:this.bodyRec=C.createRectangleCenter(this.worldPosition.add2f(0,this.bodyRecSize.height/2+this.height_depth),this.bodyRecSize.width,this.bodyRecSize.height,0)},l.characterOnLaneChange=function(t,e){var n;(null==t||t.deleteTomb(this),null==e||e.addTomb(this),e)&&(null==(n=this.plantWave)||n.setParent(e.tombLayer,!0),this.node.setParent(e.tombLayer,!0));this.specialTombOnLaneChange(t,e)},l.specialTombOnLaneChange=function(t,e){},l.onLnCLeave=function(t){},l.onLnCSet=function(t,e){var n;(null==t?void 0:t.tombStone)==this&&(t.tombStone=null,t.readIndex(),this.onLnCLeave(t)),this.tombInLnC=e,null!=e&&e.tombStone&&null!=e&&e.isInLawn()&&e.tombStone!=this&&e.tombStone.die(),e&&e.isInLawn()&&(e.tombStone=this,e.readIndex()),null==(n=this.GridItemCP)||n.register(),this.specialTombOnLnCSet(t,e)},l.specialTombOnLnCSet=function(t,e){},l.shouldMaterial=function(){var t=new v(0,0,0,255);this.hurting>0&&(t.r+=10*this.hurting,t.g+=10*this.hurting,t.b+=10*this.hurting);var e=this.material.passes[0].getHandle("addColor");this.material.passes[0].setUniform(e,t),this.body.customMaterial=this.material},l.characterOnDisable=function(){var t;S.deleteTomb(this),null==(t=this.inLane)||t.deleteTomb(this),this.removeSelfFromLnCOnDisable(),this.addWave(L.solid)},l.removeSelfFromLnCOnDisable=function(){this.tombInLnC&&this.tombInLnC.tombStone==this&&(this.tombInLnC.tombStone=null,this.tombInLnC.readIndex())},l.characterLateUpdate=function(t){var e;this.dead?this.selfDestroy():null!=(e=this.tombInLnC)&&e.isInLawn()&&this.tombInLnC.tombStone!=this&&this.die(!1)},l.spawnZombie=function(){var t=s(r().mark((function t(e,n){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.tombInLnC||!e||isNaN(n)){t.next=4;break}return t.next=3,this.tombInLnC.SpawnZombieByRTID(e,n,!0,.5,0,{},!0,!1,!1);case 3:return t.abrupt("return",t.sent);case 4:return t.abrupt("return",[]);case 5:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}(),a(e,[{key:"spawnLight",get:function(){return R.graveSpawn()}},{key:"hurting",get:function(){return this._hurting},set:function(t){this._hurting=Math.max(this._hurting,t)}},{key:"ID",get:function(){return this._ID},set:function(t){this._ID=t,this.onIDSet(t)}},{key:"hidden",get:function(){return this._hidden},set:function(t){this._hidden=t,t?this.mainSlots.forEach((function(t){null==t||t._setDisplayIndex(-1)})):(this.stage=-1,this.onDamaged(this.health,this.health,!1),this.playSpawnParticle())}}]),e}(x)).prototype,"damageParticle",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=e(X.prototype,"toughness",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 700}}),V=e(X.prototype,"maxStage",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 4}}),J=e(X.prototype,"playsParticleWhenBroken",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),K=e(X.prototype,"playsParticleWhenDestroyed",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Q=e(X.prototype,"fly",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),$=e(X.prototype,"bustable",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),tt=e(X.prototype,"hotpotato",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),et=e(X.prototype,"breakSounds",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),nt=e(X.prototype,"bodyRecSize",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new p(50,80)}}),j=X))||j));l._RF.pop()}}}));

System.register("chunks:///_virtual/tombBone.ts",["./rollupPluginModLoBabelHelpers.js","cc","./commonShot.ts","./Tombs.ts","./CharacterManager.ts","./Character.ts","./Projectiles.ts"],(function(e){var n,t,o,r,i,c,a,s;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy,o=e._decorator},function(e){r=e.commonShot},function(e){i=e.TombEnum},function(e){c=e.Umbrellas},function(e){a=e.CharacterType},function(e){s=e.ProjectileShootingFunctions}],execute:function(){var l;t._RF.push({},"1a86fAtX2JEdLclRTAjmPcZ","tombBone",void 0);var u=o.ccclass;o.property,e("tombBone",u("tombBone")(l=function(e){function t(){for(var n,t=arguments.length,o=new Array(t),r=0;r<t;r++)o[r]=arguments[r];return(n=e.call.apply(e,[this].concat(o))||this).hypnotized=!1,n.reversed=!1,n}n(t,e);var o=t.prototype;return o.characterOnEnable=function(){this.hypnotized=!1,this.reversed=!1,this.initialize()},o.specialOnGroundHit=function(e){var n=this;if(e.isInLawn()){var t=!1;if(c.umbrellas.forEach((function(e){var o,r;!t&&e.owner.umbrellable()&&e.detector.judgeInRecNode(n.node)&&(t=!0,s.lobOneCabbageOnNodeAccCS(n,n.worldPosition,0,n.node.parent,n.linearVelocity.x>=0?null==(o=n.inLane)?void 0:o.toRight:null==(r=n.inLane)?void 0:r.toLeft,.4444,a.default,!0),e.owner.umbrella())})),t)return!1;var o=e.SpawnTomb(i.egypt,!0,!0);o&&(o.scale=this.reversed?-1:1,o.hypnotized=this.hypnotized)}return!0},t}(r))||l);t._RF.pop()}}}));

System.register("chunks:///_virtual/TombPlantfood.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Tomb.ts","./Sunflower.ts"],(function(o){var t,n,r,e,i,a,l,c;return{setters:[function(o){t=o.applyDecoratedDescriptor,n=o.inheritsLoose,r=o.initializerDefineProperty,e=o.assertThisInitialized},function(o){i=o.cclegacy,a=o._decorator},function(o){l=o.Tomb},function(o){c=o.sunflower}],execute:function(){var u,s,p,f,d;i._RF.push({},"3c7a23C7TpA/JeXvAprml3S","TombPlantfood",void 0);var b=a.ccclass,m=a.property;o("TombPlantfood",(u=b("TombPlantfood"),s=m(Number),u((d=t((f=function(o){function t(){for(var t,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return t=o.call.apply(o,[this].concat(i))||this,r(t,"plantfoodCount",d,e(t)),t}return n(t,o),t.prototype.specialTombDie=function(o,t){for(var n=0;n<this.plantfoodCount;n++)c.producePlantFood(this.worldPosition)},t}(l)).prototype,"plantfoodCount",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),p=f))||p));i._RF.pop()}}}));

System.register("chunks:///_virtual/Tombs.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GridItem.ts","./FrontYard.ts"],(function(e){var r,a,t,i,o,n,u,l,c,b,s;return{setters:[function(e){r=e.applyDecoratedDescriptor,a=e.inheritsLoose,t=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){o=e.cclegacy,n=e._decorator,u=e.Prefab,l=e.Component},function(e){c=e.GridItem,b=e.GridItemEnum},function(e){s=e.FrontYard}],execute:function(){var k,m,f,g,p,_,T,d,y,h,w,z,I,D,E,v,B,N,S,G,P,L,C,F,K,R,q,A,V,Z,M,Y,j,x,H,O,U,J,Q,W,X,$,ee,re,ae,te,ie;o._RF.push({},"cb12ei5DPtMULkKKnzbNN6d","Tombs",void 0);var oe=n.ccclass,ne=n.property,ue=e("TombEnum",function(e){return e[e.tutorial=0]="tutorial",e[e.egypt=1]="egypt",e[e.pirate=2]="pirate",e[e.cowboy=3]="cowboy",e[e.future=4]="future",e[e.dark=5]="dark",e[e.dark_sun=6]="dark_sun",e[e.dark_pf=7]="dark_pf",e[e.kongfu_rack_torch=8]="kongfu_rack_torch",e[e.kongfu_rack_blade=9]="kongfu_rack_blade",e[e.kongfu_rack_bomb=10]="kongfu_rack_bomb",e[e.kongfu_rack_flag=11]="kongfu_rack_flag",e[e.kongfu_rack_nunchaku=12]="kongfu_rack_nunchaku",e[e.kongfu_rack_hammer=13]="kongfu_rack_hammer",e[e.kongfu_rack_helmet=14]="kongfu_rack_helmet",e[e.kongfu_rack_fan=15]="kongfu_rack_fan",e[e.kongfu_TNT=16]="kongfu_TNT",e[e.surfboard=17]="surfboard",e[e.surfboard_veteran=18]="surfboard_veteran",e[e.iceage=19]="iceage",e[e.iceblock_plant=20]="iceblock_plant",e[e.iceblock_zombie=21]="iceblock_zombie",e[e.glacier_block=22]="glacier_block",e[e.squid=23]="squid",e[e.lostcity=24]="lostcity",e[e.backpack=25]="backpack",e[e.tent=26]="tent",e[e.eighties_arcade_cabinet=27]="eighties_arcade_cabinet",e[e.speaker=28]="speaker",e[e.amount=29]="amount",e}({})),le=e("tombs",function(){function e(){}return e.getTomb=function(e){switch(e){case ue.tutorial:return this.res.TutorialTomb;case ue.egypt:return this.res.EgyptTomb;case ue.pirate:return this.res.PirateTomb;case ue.cowboy:return this.res.CowboyTomb;case ue.future:return this.res.FutureTomb;case ue.dark:return this.res.DarkTomb;case ue.dark_pf:return this.res.DarkTomb_pf;case ue.kongfu_rack_nunchaku:case ue.kongfu_rack_flag:case ue.kongfu_rack_hammer:case ue.kongfu_rack_helmet:case ue.kongfu_rack_fan:case ue.kongfu_rack_torch:case ue.kongfu_rack_bomb:case ue.kongfu_rack_blade:return this.res.KongfuRack;case ue.kongfu_TNT:return this.res.KongfuTNT;case ue.dark_sun:return this.res.DarkTomb_sun;case ue.surfboard:return this.res.Surfboard;case ue.surfboard_veteran:return this.res.SurfboardVeteran;case ue.iceage:return this.res.IceageTomb;case ue.glacier_block:return this.res.GlacierBlock;case ue.lostcity:return this.res.LostcityTomb;case ue.iceblock_plant:return this.res.IceblockPlant;case ue.iceblock_zombie:return this.res.IceblockZombie;case ue.squid:return this.res.Squid;case ue.backpack:return this.res.Backpack;case ue.tent:return this.res.Tent;case ue.eighties_arcade_cabinet:return this.res.EightiesArcadeCabinet;case ue.speaker:return this.res.Speaker;default:return this.res.TutorialTomb}},e.getTombEnumByRTID=function(e){var r=c.getGridItemEnumByRTID(e);return r?this.getTombEnumByGridItemID(r):NaN},e.getTombEnumByGridItemID=function(e){var r=e-b.gravestone-1;return r<0||r>=ue.amount?NaN:r},e.getTombEnumByLawn=function(e){var r=s.getLawnFeature(e),a=c.getGridItemEnumByCodeName(r.GRAVESTONE);return this.getTombEnumByGridItemID(a)},e}());le.res=void 0;e("Tombs",(k=oe("Tombs"),m=ne(u),f=ne(u),g=ne(u),p=ne(u),_=ne(u),T=ne(u),d=ne(u),y=ne(u),h=ne(u),w=ne(u),z=ne(u),I=ne(u),D=ne(u),E=ne(u),v=ne(u),B=ne(u),N=ne(u),S=ne(u),G=ne(u),P=ne(u),L=ne(u),C=ne(u),k((R=r((K=function(e){function r(){for(var r,a=arguments.length,o=new Array(a),n=0;n<a;n++)o[n]=arguments[n];return r=e.call.apply(e,[this].concat(o))||this,t(r,"EgyptTomb",R,i(r)),t(r,"PirateTomb",q,i(r)),t(r,"CowboyTomb",A,i(r)),t(r,"FutureTomb",V,i(r)),t(r,"DarkTomb",Z,i(r)),t(r,"DarkTomb_sun",M,i(r)),t(r,"DarkTomb_pf",Y,i(r)),t(r,"KongfuRack",j,i(r)),t(r,"KongfuTNT",x,i(r)),t(r,"Surfboard",H,i(r)),t(r,"SurfboardVeteran",O,i(r)),t(r,"IceageTomb",U,i(r)),t(r,"GlacierBlock",J,i(r)),t(r,"IceblockPlant",Q,i(r)),t(r,"IceblockZombie",W,i(r)),t(r,"LostcityTomb",X,i(r)),t(r,"TutorialTomb",$,i(r)),t(r,"Squid",ee,i(r)),t(r,"Backpack",re,i(r)),t(r,"Tent",ae,i(r)),t(r,"EightiesArcadeCabinet",te,i(r)),t(r,"Speaker",ie,i(r)),r}return a(r,e),r.prototype.onLoad=function(){le.res=this},r}(l)).prototype,"EgyptTomb",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=r(K.prototype,"PirateTomb",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=r(K.prototype,"CowboyTomb",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=r(K.prototype,"FutureTomb",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=r(K.prototype,"DarkTomb",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=r(K.prototype,"DarkTomb_sun",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=r(K.prototype,"DarkTomb_pf",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=r(K.prototype,"KongfuRack",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=r(K.prototype,"KongfuTNT",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=r(K.prototype,"Surfboard",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=r(K.prototype,"SurfboardVeteran",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=r(K.prototype,"IceageTomb",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=r(K.prototype,"GlacierBlock",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=r(K.prototype,"IceblockPlant",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=r(K.prototype,"IceblockZombie",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=r(K.prototype,"LostcityTomb",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=r(K.prototype,"TutorialTomb",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ee=r(K.prototype,"Squid",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),re=r(K.prototype,"Backpack",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ae=r(K.prototype,"Tent",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),te=r(K.prototype,"EightiesArcadeCabinet",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ie=r(K.prototype,"Speaker",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=K))||F));o._RF.pop()}}}));

System.register("chunks:///_virtual/TombSun.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Tomb.ts","./Sunflower.ts"],(function(e){var n,r,t,o,i,u,c,s;return{setters:[function(e){n=e.applyDecoratedDescriptor,r=e.inheritsLoose,t=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){i=e.cclegacy,u=e._decorator},function(e){c=e.Tomb},function(e){s=e.sunflower}],execute:function(){var a,l,p,f,b;i._RF.push({},"0ac4fQX2FxDrqFSmvnp+Eqy","TombSun",void 0);var m=u.ccclass,y=u.property;e("TombSun",(a=m("TombSun"),l=y(Number),a((b=n((f=function(e){function n(){for(var n,r=arguments.length,i=new Array(r),u=0;u<r;u++)i[u]=arguments[u];return n=e.call.apply(e,[this].concat(i))||this,t(n,"sunValue",b,o(n)),n}return r(n,e),n.prototype.specialTombDie=function(e,n){s.produceSun(this.sunValue,this.worldPosition,40,!0,!0)},n}(c)).prototype,"sunValue",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),p=f))||p));i._RF.pop()}}}));

System.register("chunks:///_virtual/TombSurfboard.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Tomb.ts","./SoundRescourses.ts"],(function(n){var r,e,t,o,i,u,a,s,l;return{setters:[function(n){r=n.applyDecoratedDescriptor,e=n.inheritsLoose,t=n.initializerDefineProperty,o=n.assertThisInitialized},function(n){i=n.cclegacy,u=n._decorator,a=n.AudioClip},function(n){s=n.Tomb},function(n){l=n.sounds}],execute:function(){var c,p,b,f,d,y,S,m,h,g,w,T,v;i._RF.push({},"6cfcf33L8JOWr748Q3D8XnQ","TombSurfboard",void 0);var z=u.ccclass,A=u.property;n("TombSurfboard",(c=z("TombSurfboard"),p=A([a]),b=A([a]),f=A([a]),d=A([a]),y=A(Number),c((h=r((m=function(n){function r(){for(var r,e=arguments.length,i=new Array(e),u=0;u<e;u++)i[u]=arguments[u];return r=n.call.apply(n,[this].concat(i))||this,t(r,"spawnSounds",h,o(r)),t(r,"hitSounds",g,o(r)),t(r,"breakSounds",w,o(r)),t(r,"destructionSounds",T,o(r)),t(r,"hitVolume",v,o(r)),r}e(r,n);var i=r.prototype;return i.specialTombOnEnable=function(){l.playArray(this.spawnSounds,1,.1)},i.playSpawnParticle=function(){},i.playDestructionSound=function(){l.playArray(this.destructionSounds,1,.1)},i.playBreakSound=function(){l.playArray(this.breakSounds,1,.1)},i.specialTombOnDamaged=function(n,r,e){e&&l.playArray(this.hitSounds,this.hitVolume)},r}(s)).prototype,"spawnSounds",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),g=r(m.prototype,"hitSounds",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),w=r(m.prototype,"breakSounds",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),T=r(m.prototype,"destructionSounds",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=r(m.prototype,"hitVolume",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.4}}),S=m))||S));i._RF.pop()}}}));

System.register("chunks:///_virtual/Torchwood.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./NodePools.ts","./Character.ts","./CharacterManager.ts","./Square.ts","./GroundFire.ts","./Jalapeno.ts","./SoundRescourses.ts","./Projectiles.ts"],(function(e){var n,t,o,i,a,r,s,l,c,u,d,h,f,p,g,m,b,y,w,S,P,C,v,D,_;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized,a=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){s=e.cclegacy,l=e._decorator,c=e.AudioClip,u=e.Prefab,d=e.Vec2,h=e.Vec3},function(e){f=e.Plant,p=e.PlantProps},function(e){g=e.NodePools},function(e){m=e.CharacterType},function(e){b=e.Rectangle,y=e.ZombieDamageDetails,w=e.ZombieDamageType},function(e){S=e.Square},function(e){P=e.GroundFireColorEnum,C=e.GroundFireSpreadStyleEnum},function(e){v=e.jalapeno},function(e){D=e.sounds},function(e){_=e.ProjectileShootingFunctions}],execute:function(){var L,R,O,j,x,k,A,F,I,z,E,T,B,q,G,H,M,N;s._RF.push({},"351b4USk6JLE4y6eM9xWOiD","Torchwood",void 0);var J=l.ccclass,U=l.property,V=function(e){function n(){for(var n,t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];return(n=e.call.apply(e,[this].concat(o))||this).Damage=6.25,n.DamageScale=2,n.DamageScalePlantfooded=3,n.DamageInterval=1,n.DeathDamage=450,n.DeathFireDuration=5,n.PlantfoodDuration=5,n}return t(n,e),n}(p),W=(L=J("torchwoodSound"),R=U([c]),O=U([c]),j=U([c]),L((A=n((k=function(){function e(){o(this,"foodSounds",A,this),o(this,"igniteSounds",F,this),o(this,"attackSounds",I,this)}var n=e.prototype;return n.playFoodSound=function(){D.playArray(this.foodSounds,1,.1)},n.playIgniteSound=function(){D.playArray(this.igniteSounds,1,.5)},n.playAttackSound=function(){D.playArray(this.attackSounds,1,1)},e}()).prototype,"foodSounds",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=n(k.prototype,"igniteSounds",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),I=n(k.prototype,"attackSounds",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),x=k))||x);e("TorchwoodPlant",(z=J("TorchwoodPlant"),E=U(W),T=U(u),B=U(u),z((H=n((G=function(e){function n(){for(var n,t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return(n=e.call.apply(e,[this].concat(a))||this).ignitedCSs=[],o(n,"soundRes",H,i(n)),n._objdataOwn=new V,n.detector=b.createRectangleCenter(new d,0,0),n.busy=0,o(n,"blueParticle",M,i(n)),o(n,"yellowParticle",N,i(n)),n.fooded=!1,n}t(n,e);var s=n.prototype;return s.ignite=function(){var e=a(r().mark((function e(n,t){var o,i,a,s,l,c,u;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===t&&(t=!1),a=!1,s=null==(o=this.inLnC)?void 0:o.havePeaBuff,l=null,t||!n.YellowIgnited){e.next=15;break}return e.next=7,_.shootOnePea(n.YellowIgnited,n.worldPosition,n.height,n.node.parent,new d(8,0),m.zombie);case 7:(c=e.sent).copy(n,!0,!1,!1,!0,!0,!0,!0,!0,!0),a=!0,n.fade(),this.ignitedCSs.push(c),l=c,e.next=24;break;case 15:if(!t||!n.BlueIgnited){e.next=24;break}return e.next=18,_.shootOnePea(n.BlueIgnited,n.worldPosition,n.height,n.node.parent,new d(8,0),m.zombie);case 18:(u=e.sent).copy(n,!0,!1,!1,!0,!0,!0,!0,!0,!0),a=!0,n.fade(),this.ignitedCSs.push(u),l=u;case 24:return a&&this.soundRes.playIgniteSound(),s&&(null==(i=l)||i.addPeaBuff()),e.abrupt("return",l);case 27:case"end":return e.stop()}}),e,this)})));return function(n,t){return e.apply(this,arguments)}}(),s.animationListener=function(e){if("explode"==e.name){var n=this._objdataOwn.DeathDamage;this._dmgScale&&(n*=this._dmgScale),v.burnFromLnC(this.inLnC,n,!0,this._objdataOwn.DeathFireDuration,10,P.yellow,C.cross,9,9)}},s.spawnParticle=function(e){var n=g.instantiatePooly(this.fooded?this.blueParticle:this.yellowParticle);n.parent=e.inLane.prjLayer,n.worldPosition=new h(e.node.worldPosition.x,e.node.worldPosition.y+e.zombieHeight/2,100)},s.detectEnemies=function(){var e=this,n=[];if(this.inLane.zombiePool().concat().forEach((function(t){e.detector.judgeCrossRec(t.bodyRec)&&n.push(t)})),n.length){var t=this._objdataOwn.Damage*(this.fooded?this._objdataOwn.DamageScalePlantfooded:this._objdataOwn.DamageScale);this._dmgScale&&(t*=this._dmgScale),n.forEach((function(n){e.spawnParticle(n),n.dealDamage(new y(t,!0,!1,!1,null,w.fire))}));var o=this._objdataOwn.DamageInterval;this._cdScale>0&&(o*=this._cdScale),this.busy=o,this.soundRes.playAttackSound()}},s.specialPlantOnSquareChange=function(e,n){this.detector=b.createRectangleNodeCenter(n.node,S.SquareWidth,S.SquareHeight)},s.specialPlantOnEnable=function(){this.fooded=!1,this.anmControl.IdleAnim="Idle",this.anmControl.RandomAnim=["Random"]},s.specialPlantFood=function(e){var n=this;this.foodable=!1,this.anmControl.playAnimation("Food",1),this.soundRes.playFoodSound(),this.fooded=!0,this.anmControl.IdleAnim="Idle_Blue",this.anmControl.RandomAnim=[],this.scheduleOnce((function(){n.foodEnd()}),this._objdataOwn.PlantfoodDuration)},s.specialPlantLateUpdate=function(e){var n=this;this.sheepend||this.inLane.prjPool().concat().forEach(a(r().mark((function e(t){var o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.inLnC!=n.inLnC||-1!=n.ignitedCSs.indexOf(t)){e.next=5;break}return e.next=3,n.ignite(t,n.fooded);case 3:(o=e.sent)&&(o.inLnC=n.inLnC);case 5:case"end":return e.stop()}}),e)})))),this.ignitedCSs.concat().forEach((function(e){e.inLnC!=n.inLnC&&n.ignitedCSs.splice(n.ignitedCSs.indexOf(e),1)})),this.busy>0?this.busy-=e:this.detectEnemies()},n}(f)).prototype,"soundRes",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new W}}),M=n(G.prototype,"blueParticle",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=n(G.prototype,"yellowParticle",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=G))||q));s._RF.pop()}}}));

System.register("chunks:///_virtual/trapBoulderTile.ts",["./rollupPluginModLoBabelHelpers.js","cc","./trapTile.ts","./GridItem.ts","./Tiles.ts","./Square.ts","./Character.ts","./Projectiles.ts"],(function(r){var e,t,i,o,n,a,l,u,s,c;return{setters:[function(r){e=r.inheritsLoose},function(r){t=r.cclegacy,i=r._decorator,o=r.Vec2},function(r){n=r.trapTile},function(r){a=r.GridItemEnum},function(r){l=r.TileEnum},function(r){u=r.Square},function(r){s=r.CharacterType},function(r){c=r.ProjectileShootingFunctions}],execute:function(){var d;t._RF.push({},"51e72rav6pCZ7YwD2vzRYvZ","trapBoulderTile",void 0);var p=i.ccclass;i.property,r("trapBoulderTile",p("trapBoulderTile")(d=function(r){function t(){return r.apply(this,arguments)||this}e(t,r);var i=t.prototype;return i.specialTrapTileOnLoad=function(){var r;null==(r=this.gridItemCP)||r.setGridItemType([this.tileID==l.trap_bouldertile_forward?a.boulder_trap_falling_forward:a.boulder_trap_falling_backward])},i.onTrapTriggered=function(){var r=(this.tileID==l.trap_bouldertile_forward?1:-1)*u.SquareWidth/2+this.node.worldPosition.x,e=u.getSquareWorldPosition(0,0,0,.9).y;c.lobOneCabbageOnPos("trap_boulder",new o(r,e),500,u.getLane(0).prjLayer,new o(r,e),.75,s.default,120,0)},i.onLnCChange=function(r,e){var t;null==(t=this.gridItemCP)||t.setGridItemType([this.tileID==l.trap_bouldertile_forward?a.boulder_trap_falling_forward:a.boulder_trap_falling_backward])},t}(n))||d);t._RF.pop()}}}));

System.register("chunks:///_virtual/trapFlameTile.ts",["./rollupPluginModLoBabelHelpers.js","cc","./trapTile.ts","./GroundFire.ts","./Jalapeno.ts","./SoundRescourses.ts","./GridItem.ts"],(function(e){var r,i,n,t,a,o,l,u,s,p,c,f,d;return{setters:[function(e){r=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,t=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,l=e.AudioClip},function(e){u=e.trapTile},function(e){s=e.GroundFireColorEnum,p=e.GroundFireSpreadStyleEnum},function(e){c=e.jalapeno},function(e){f=e.sounds},function(e){d=e.GridItemEnum}],execute:function(){var h,m,y,T,S,g,b,v,F;a._RF.push({},"29e81J0T9lGGrVNT9Tx/Kih","trapFlameTile",void 0);var G=o.ccclass,L=o.property;e("trapFlameTile",(h=G("trapFlameTile"),m=L([l]),y=L([l]),T=L([l]),h((b=r((g=function(e){function r(){for(var r,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return(r=e.call.apply(e,[this].concat(a))||this).fire=void 0,n(r,"fireStartSounds",b,t(r)),n(r,"fireEndSounds",v,t(r)),n(r,"fireLoopSounds",F,t(r)),r}i(r,e);var a=r.prototype;return a.specialTrapTileOnLoad=function(){var e;null==(e=this.gridItemCP)||e.setGridItemType([d.flame_spreader_trap])},a.onLnCChange=function(e,r){var i;null==(i=this.gridItemCP)||i.setGridItemType([d.flame_spreader_trap])},a.onTrapTriggered=function(){var e=c.burnFromLnC(this.inLnC,1800,!1,3,4,s.green,p.split,9,9,[],2,!0,!0,!1);this.fire=e,f.playArray(this.fireStartSounds,1,.3)},a.specialTrapTileOnEnable=function(){this.fire=null},a.specialTrapTileUpdate=function(e){this.fire&&(this.fire.duration>0?f.playArray(this.fireLoopSounds,1,NaN,.9):(this.fire=null,f.playArray(this.fireEndSounds,1,.3)))},r}(u)).prototype,"fireStartSounds",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=r(g.prototype,"fireEndSounds",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=r(g.prototype,"fireLoopSounds",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),S=g))||S));a._RF.pop()}}}));

System.register("chunks:///_virtual/trapThunderTile.ts",["./rollupPluginModLoBabelHelpers.js","cc","./trapTile.ts","./SoundRescourses.ts","./GridItem.ts","./Square.ts","./CharacterManager.ts","./NodePools.ts","./levelController.ts"],(function(e){var n,t,r,i,o,a,l,u,c,s,d,p,f,h,y,b,g;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,l=e.AudioClip,u=e.Prefab,c=e.Vec2},function(e){s=e.trapTile},function(e){d=e.sounds},function(e){p=e.GridItemEnum},function(e){f=e.Square},function(e){h=e.ZombieDamageDetails,y=e.ZombieDamageType},function(e){b=e.instantiatePooly},function(e){g=e.LevelPlay}],execute:function(){var T,m,P,L,v,C,I,R,S;o._RF.push({},"5e383oitgZDsZJ26iKWswuW","trapThunderTile",void 0);var w=a.ccclass,D=a.property;e("trapThunderTile",(T=w("trapThunderTile"),m=D([l]),P=D([l]),L=D(u),T((I=n((C=function(e){function n(){for(var n,t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return(n=e.call.apply(e,[this].concat(o))||this).fire=void 0,r(n,"thunderSounds",I,i(n)),r(n,"thunderBGSounds",R,i(n)),r(n,"thunderPfb",S,i(n)),n}t(n,e);var o=n.prototype;return o.specialTrapTileOnLoad=function(){var e;null==(e=this.gridItemCP)||e.setGridItemType([p.thunder_trap])},o.onLnCChange=function(e,n){var t;null==(t=this.gridItemCP)||t.setGridItemType([p.thunder_trap])},o.onTrapTriggered=function(){var e=this;this.fire=null;f.getAllLnC().forEach((function(n){if(n.GoldTile||n==e.inLnC){var t=new c(n.cIndex-e.inLnC.cIndex,n.lIndex-e.inLnC.lIndex).length();e.scheduleOnce((function(){d.playArray(e.thunderSounds,1,.3);var t=n.rec,r=new h(8001,!0,!1,!1,null,y.electricity);r.shockRGB=3,n.inLane.zombiePool().concat(n.inLane.hypnoZombiePool()).filter((function(e){return t.judgeCrossRec(e.bodyRecReal)})).forEach((function(e){e.dealDamage(r)})),n.inLane.tombPool().concat(n.inLane.tombPool()).filter((function(e){return t.judgeCrossRec(e.bodyRec)})).forEach((function(e){e.dealDamage(r)})),n.inLane.plantPool().concat(n.inLane.plantPool()).filter((function(e){return t.judgeCrossRec(e.bodyRec)})).forEach((function(e){e.burn()}));var i=b(e.thunderPfb);i.parent=n.inLane.prjLayer,i.worldPosition=n.plantPoint.worldPosition,g.shakeScreen(),n.crackleCountdown=10}),.1*t)}e.scheduleOnce((function(){d.playArray(e.thunderBGSounds,1,.5)}),1.9)}))},o.specialTrapTileOnEnable=function(){},o.specialTrapTileUpdate=function(e){},n}(s)).prototype,"thunderSounds",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=n(C.prototype,"thunderBGSounds",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),S=n(C.prototype,"thunderPfb",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=C))||v));o._RF.pop()}}}));

System.register("chunks:///_virtual/trapTile.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Tile.ts","./SoundRescourses.ts"],(function(e){var i,n,t,r,o,l,a,s,c;return{setters:[function(e){i=e.applyDecoratedDescriptor,n=e.inheritsLoose,t=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,l=e._decorator,a=e.AudioClip},function(e){s=e.Tile},function(e){c=e.sounds}],execute:function(){var p,u,h,g,T;o._RF.push({},"76355546SJDmp2UzH2TW/1o","trapTile",void 0);var d=l.ccclass,f=l.property;e("trapTile",(p=d("trapTile"),u=f([a]),p((T=i((g=function(e){function i(){for(var i,n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return i=e.call.apply(e,[this].concat(o))||this,t(i,"triggerSounds",T,r(i)),i.triggerInterval=7.5,i.recoverCD=0,i}n(i,e);var o=i.prototype;return o.playTrigger=function(){c.playArray(this.triggerSounds,1,.1)},o.specialTrapTileOnEnable=function(){},o.specialTileOnLoad=function(){this.specialTrapTileOnLoad()},o.specialTrapTileOnLoad=function(){},o.specialTileOnEnable=function(){this.recoverCD=0,this.specialTrapTileOnEnable()},o.specialTileUpdate=function(e){var i=this;if(!this.dead){var n;if(this.recoverCD>0)this.recoverCD-=e,this.recoverCD<=0&&(this.playTrigger(),this.IdleAnmList=["Idle"],this.playIdle());else this.inLnC&&(!this.inLnC.floawerPot&&null!=(n=this.inLnC)&&n.getAllPlants().some((function(e){return!e.flyingPlant&&!e.leapTween}))||this.inLnC.inLane.zombiePool().concat(this.inLnC.inLane.hypnoZombiePool()).some((function(e){return!e.flying&&i.inLnC.rec.judgeCrossRec(e.bodyRecReal)}))||this.inLnC.tombStone&&!this.inLnC.tombStone.fly)&&this.trigger();this.specialTrapTileUpdate(e)}},o.trigger=function(){this.recoverCD=this.triggerInterval,this.playTrigger(),this.onTrapTriggered(),this.IdleAnmList=["Idle_Down"],this.playIdle()},o.specialTrapTileUpdate=function(e){},o.onTrapTriggered=function(){},i}(s)).prototype,"triggerSounds",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),h=g))||h));o._RF.pop()}}}));

System.register("chunks:///_virtual/Trophies.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(r){var o,e,_,a;return{setters:[function(r){o=r.inheritsLoose},function(r){e=r.cclegacy,_=r._decorator,a=r.Component}],execute:function(){var n;e._RF.push({},"85f44Xl39BGta8AE7/kY1hI","Trophies",void 0);var d=_.ccclass;_.property,r("UpgradeEnum",function(r){return r[r.upgrade_starting_sun_lvl1=0]="upgrade_starting_sun_lvl1",r[r.upgrade_starting_sun_lvl2=1]="upgrade_starting_sun_lvl2",r[r.upgrade_pf_slots_lvl1=2]="upgrade_pf_slots_lvl1",r[r.upgrade_pf_slots_lvl2=3]="upgrade_pf_slots_lvl2",r[r.upgrade_wallnut_firstaid=4]="upgrade_wallnut_firstaid",r[r.upgrade_pf_refresh=5]="upgrade_pf_refresh",r[r.upgrade_sunshovel_lvl1=6]="upgrade_sunshovel_lvl1",r[r.upgrade_sunshovel_lvl2=7]="upgrade_sunshovel_lvl2",r[r.upgrade_sunshovel_lvl3=8]="upgrade_sunshovel_lvl3",r[r.upgrade_7_slots=9]="upgrade_7_slots",r[r.upgrade_8_slots=10]="upgrade_8_slots",r[r.upgrade_manual_mowers_1=11]="upgrade_manual_mowers_1",r[r.upgrade_manual_mowers_2=12]="upgrade_manual_mowers_2",r[r.amount=13]="amount",r}({})),r("TrophyEnum",function(r){return r[r.worldkey=0]="worldkey",r[r.worldtrophy_egypt=1]="worldtrophy_egypt",r[r.worldtrophy_pirate=2]="worldtrophy_pirate",r[r.worldtrophy_cowboy=3]="worldtrophy_cowboy",r[r.worldtrophy_future=4]="worldtrophy_future",r[r.worldtrophy_dark=5]="worldtrophy_dark",r[r.worldtrophy_beach=6]="worldtrophy_beach",r[r.worldtrophy_iceage=7]="worldtrophy_iceage",r[r.worldtrophy_lostcity=8]="worldtrophy_lostcity",r[r.worldtrophy_eighties=9]="worldtrophy_eighties",r[r.worldtrophy_dino=10]="worldtrophy_dino",r[r.worldtrophy_modern=11]="worldtrophy_modern",r[r.dangerroom_egypt=12]="dangerroom_egypt",r[r.dangerroom_egypt2=13]="dangerroom_egypt2",r[r.dangerroom_egypt_minigame=14]="dangerroom_egypt_minigame",r[r.dangerroom_pirate=15]="dangerroom_pirate",r[r.dangerroom_pirate2=16]="dangerroom_pirate2",r[r.dangerroom_cowboy=17]="dangerroom_cowboy",r[r.dangerroom_cowboy2=18]="dangerroom_cowboy2",r[r.dangerroom_future=19]="dangerroom_future",r[r.dangerroom_future2=20]="dangerroom_future2",r[r.dangerroom_future_sunbomb=21]="dangerroom_future_sunbomb",r[r.dangerroom_dark=22]="dangerroom_dark",r[r.dangerroom_dark2=23]="dangerroom_dark2",r[r.dangerroom_dark_potion=24]="dangerroom_dark_potion",r[r.dangerroom_beach=25]="dangerroom_beach",r[r.dangerroom_beach_minigame=26]="dangerroom_beach_minigame",r[r.dangerroom_iceage=27]="dangerroom_iceage",r[r.dangerroom_iceage2=28]="dangerroom_iceage2",r[r.dangerroom_lostcity=29]="dangerroom_lostcity",r[r.dangerroom_eighties=30]="dangerroom_eighties",r[r.dangerroom_dino=31]="dangerroom_dino",r[r.dangerroom_modern=32]="dangerroom_modern",r[r.dangerroom_beach2=33]="dangerroom_beach2",r[r.dangerroom_dino2=34]="dangerroom_dino2",r[r.dangerroom_modern2=35]="dangerroom_modern2",r[r.dangerroom_kongfu=36]="dangerroom_kongfu",r[r.dangerroom_kongfu2=37]="dangerroom_kongfu2",r[r.dangerroom_kongfu3=38]="dangerroom_kongfu3",r[r.dangerroom_kongfu4=39]="dangerroom_kongfu4",r}({})),r("Trophies",d("Trophies")(n=function(r){function e(){return r.apply(this,arguments)||this}return o(e,r),e}(a))||n);e._RF.pop()}}}));

System.register("chunks:///_virtual/trophyPrize.ts",["./rollupPluginModLoBabelHelpers.js","cc","./levelPrize.ts","./levelController.ts","./Trophies.ts","./PlayerProperties.ts","./WorldTrophy.ts","./UI.ts"],(function(e){var r,t,n,o,i,l,c,s,a,p,u,h;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){i=e.cclegacy,l=e._decorator},function(e){c=e.levelPrize},function(e){s=e.LevelPlay},function(e){a=e.TrophyEnum},function(e){p=e.AllPlayerProperties},function(e){u=e.WorldTrophy},function(e){h=e.UIInGame}],execute:function(){var f,y,P,d,v;i._RF.push({},"17337S7m9FKrbr4P+UTju4C","trophyPrize",void 0);var z=l.ccclass,w=l.property;e("trophyPrize",(f=z("trophyPrize"),y=w(u),f((v=r((d=function(e){function r(){for(var r,t=arguments.length,i=new Array(t),l=0;l<t;l++)i[l]=arguments[l];return r=e.call.apply(e,[this].concat(i))||this,n(r,"wt",v,o(r)),r}t(r,e);var i=r.prototype;return i.specialPrizeOnEnable=function(){var e,r=null==(e=s.component)||null==(e=e.levelDefinition)?void 0:e.FirstRewardParam,t=0;r&&(t=a[r]),isNaN(t)||((s.thisLevelsID.length||t==a.worldkey)&&p.unlockTrophy(t),this.wt.readID(t),this.wt.prizeModeOn=!0)},i.showPriceLight=function(){},i.collectToWP=function(){return h.component.node.parent.worldPosition.clone().add3f(0,-150,0)},i.specialOnCollected=function(){this.wt.prizeModeOn=!1},r}(c)).prototype,"wt",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=d))||P));i._RF.pop()}}}));

System.register("chunks:///_virtual/Turnip.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./Zombies.ts","./ArrayGet.ts","./Square.ts","./SoundRescourses.ts"],(function(t){var n,o,i,e,a,l,r,s,h,c,u,d,m,p,f,g;return{setters:[function(t){n=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,e=t.assertThisInitialized,a=t.createClass,l=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){s=t.cclegacy,h=t._decorator,c=t.CCInteger,u=t.AudioClip},function(t){d=t.Plant},function(t){m=t.ZombieEnum},function(t){p=t.ArrayGet},function(t){f=t.Square},function(t){g=t.sounds}],execute:function(){var b,k,A,y,C,S,w,I,L;s._RF.push({},"6d880Lt6WJCHb4yQwDZCUtl","Turnip",void 0);var v=h.ccclass,P=h.property;t("TurnipPlant",(b=v("TurnipPlant"),k=P(c),A=P(u),y=P(u),b((w=n((S=function(t){function n(){for(var n,o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return(n=t.call.apply(t,[this].concat(a))||this)._blocking=0,n._stage=0,n.idleAnm="Idle0",n.blockStartAnm="BlockStart0",n.blockLoopAnm="BlockLoop0",i(n,"maxFoodThrowAmount",w,e(n)),i(n,"landSound",I,e(n)),i(n,"foodSound",L,e(n)),n}o(n,t);var s=n.prototype;return s.specialPlantUpdate=function(t,n,o){this.blocking>0&&(this.blocking-=t)},s.onChiedFailed=function(){!this.fooding&&this.blocking<=0&&this.anmControl.playAnimation(this.blockStartAnm),this.blocking=3},s.canBeChied=function(){return!1},s.waterable=function(){return!this.blocking&&0==this.stage},s.throwChildren=function(){var t=l(r().mark((function t(){var n,o,i,e,a,l,s,h,c;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((n=[]).length<this.maxFoodThrowAmount)for(o=p.randomize(f.getAllLnC()),i=0;n.length<this.maxFoodThrowAmount&&i<o.length;i++)e=o[i],-1==n.indexOf(e)&&e.putPlantAvailable(!0,this.ID)&&n.push(e);a=this.worldPosition,l=0,s=n;case 4:if(!(l<s.length)){t.next=13;break}return h=s[l],t.next=8,h.SpawnPlant(this.ID,!0);case 8:(c=t.sent)&&(c.worldPosition=a,c.damagable=!1,c.leapTo(h,.8,200));case 10:l++,t.next=4;break;case 13:case 14:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s.onLeapEnd=function(){var t;g.playOneShot(this.landSound,1,.1),this.damagable=!0,this.anmControl.playAnimation("LeapEnd",1),(null==(t=this.plantInLnC)||null==(t=t.plantInSquare)||null==(t=t.filter((function(t){return!t.allowOverlap})))?void 0:t.length)>1&&this.die(!0,!1)},s.onDamaged=function(t,n,o){for(var i=0,e=0;e<3;e++)o<=this.toughness*(1-e/3)&&(i=e);i!=this.stage&&(this.stage=i,this.anmControl.playIdle())},s.specialPlantFood=function(t){this.blocking=0,this.stage=0,this.anmControl.playAnimation("Food",2)},s.replantable=function(){return this.stage>0},s.replant=function(){this.stage=0,this.anmControl.playIdle(),this.health=this.toughness},s.onLeapStart=function(t,n){this.anmControl.playAnimation("Flying",1/0)},s.animationListener=function(t){"throw"==t.name?this.throwChildren():"foodEnd"==t.name?(this.anmControl.playIdle(),this.foodEnd()):"foodSound"==t.name&&g.playOneShot(this.foodSound,1,.1)},s.throwAway=function(t,n,o,i){(null==n?void 0:n.ID)==m.monk_nunchaku?this.dealNormalDamage(200):this.normalThrowAway(t,n,o,i)},s.specialPlantOnEnable=function(){this.stage=0,this.blocking=0,this.anmControl.IdleAnim=this.idleAnm,this.anmControl.playIdle()},a(n,[{key:"blocking",get:function(){return this._blocking},set:function(t){t<=0&&this._blocking>0?(t=0,this.anmControl.IdleAnim=this.idleAnm,this.fooding||this.anmControl.playIdle(.1)):t>0&&this._blocking<=0&&(this.anmControl.IdleAnim=this.blockLoopAnm,this.fooding||this.anmControl.playIdle(.1)),this._blocking=t}},{key:"stage",get:function(){return this._stage},set:function(t){switch(t){case 1:this.idleAnm="Idle1",this.blockStartAnm="BlockStart1",this.blockLoopAnm="BlockLoop1",this.deathAnm="Death1";break;case 2:this.idleAnm="Idle2",this.blockStartAnm="BlockStart2",this.blockLoopAnm="BlockLoop2",this.deathAnm="Death2";break;default:this.idleAnm="Idle0",this.blockStartAnm="BlockStart0",this.blockLoopAnm="BlockLoop0",this.deathAnm="Death0",t=0}var n;(this.anmControl.IdleAnim=this.blocking>0?this.blockLoopAnm:this.idleAnm,this._stage=t,this.dead)||(null==(n=this.plantInLnC)||n.readIndex())}}]),n}(d)).prototype,"maxFoodThrowAmount",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),I=n(S.prototype,"landSound",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=n(S.prototype,"foodSound",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=S))||C));s._RF.pop()}}}));

System.register("chunks:///_virtual/TyrannoDinosaur.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Dinosaur.ts","./SoundRescourses.ts","./Square.ts","./CharacterManager.ts","./ArrayGet.ts","./levelController.ts"],(function(t){var i,e,n,a,o,r,s,u,l,h,c,d,y,p,f,b,m;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,a=t.assertThisInitialized,o=t.createClass},function(t){r=t.cclegacy,s=t._decorator,u=t.AudioClip,l=t.Vec2},function(t){h=t.Dinosaur,c=t.DinosaurProps},function(t){d=t.sounds},function(t){y=t.Square},function(t){p=t.Rectangle},function(t){f=t.ValueRange,b=t.ArrayGet},function(t){m=t.LevelPlay}],execute:function(){var S,g,w,L,R,v,I,A,O,C,D,P,B,j,k,z,T,_,x,Z,M,q,X,W,E;r._RF.push({},"d917dCey5BPuIvSn4Vmh3bQ","TyrannoDinosaur",void 0);var H=s.ccclass,N=s.property,V=function(t){function i(){for(var i,e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return(i=t.call.apply(t,[this].concat(n))||this).MaxRoaringTime=1,i.MaxBitingTime=5,i.IdleColumn=6,i}return e(i,t),i}(c);t("TyrannoDinosaur",(S=H("TyrannoDinosaur"),g=N([u]),w=N([u]),L=N([u]),R=N([u]),v=N([u]),I=N([u]),A=N([u]),O=N([u]),C=N([u]),D=N([u]),P=N([u]),S((k=i((j=function(t){function i(){for(var i,e=arguments.length,o=new Array(e),r=0;r<e;r++)o[r]=arguments[r];return(i=t.call.apply(t,[this].concat(o))||this)._objdataOwnOrg=new V,i._objdataOwn=new V,i.entering=!1,i.exiting=!1,i.LeftIdle=2,i.LeftRoars=1,i.LeftBites=5,n(i,"brakeSounds",k,a(i)),n(i,"introSaySounds",z,a(i)),n(i,"lieSounds",T,a(i)),n(i,"idle2Sounds",_,a(i)),n(i,"eatSaySounds",x,a(i)),n(i,"biteSaySounds",Z,a(i)),n(i,"swallowSounds",M,a(i)),n(i,"biteSounds",q,a(i)),n(i,"outroSaySounds",X,a(i)),n(i,"roarSounds",W,a(i)),n(i,"jumpSounds",E,a(i)),i.charmSlots=[],i.walkXRange=new f(500,500),i}e(i,t);var r=i.prototype;return r.displayTimeAfterCameraToRightest=function(){return 2},r.detectRoarZombies=function(){return!this.displayed&&this.inLane.zombiePool().concat(this.inLane.hypnoZombiePool()).some((function(t){return t.isInLawn()&&t.enteredLawn&&t.CanBeScaredByTyranno()}))},r.animationOnComplete=function(){this.leaving?this.chomp():(this.switching||this.LeftIdle--,this.LeftIdle>0?this.playIdle():(this.switching=!1,this.LeaveCD<=0||this.LeftBites<=0&&this.charmed||this.LeftRoars<=0&&!this.charmed?this.playLeave():!this.charmed&&this.detectRoarZombies()?this.playRoar():this.playIdle()))},r.onReverseSet=function(t){this.setPosition()},r.onObjdataSet=function(t){this.setPosition(),this.LeftRoars=this.objdataOwn.MaxRoaringTime,this.LeftBites=this.objdataOwn.MaxBitingTime},r.onLaneSpawnSettled=function(t){this.setPosition()},r.specialDinosaurOnLoad=function(){var t=this;this.db.armature().getSlots().forEach((function(i){i.name.includes("_CHARM")&&t.charmSlots.push(i)}))},r.playIntro=function(){this.entering||(this.playSwitching(),this.entering=!0,this.db.playAnimation("Intro",1))},r.playOutro=function(){this.exiting||(this.playSwitching(),this.exiting=!0,this.db.playAnimation("Outro",1))},r.setPosition=function(){var t=this.objdataOwn.IdleColumn;isNaN(t)&&(t=8),this.reversed&&(t=8-t);var i=y.getSquareWorldPosition(0,t).x;this.worldPositionX=i},r.playSwitching=function(){this.switching=!0},r.playBite=function(){this.LeftIdle=2,this.LeaveCD=this.objdataOwn.MaxWonderingTime,this.playSwitching(),this.db.playAnimation("Bite",1)},r.playRoar=function(){this.LeftIdle=2,this.LeaveCD=this.objdataOwn.MaxWonderingTime,this.playSwitching(),this.db.playAnimation("Roar",1)},r.playIdle=function(){this.switching=!1,this.entering=!1,this.exiting=!1,this.leaving=!1,this.db.playAnimation(this.IdleAnm,1)},r.getZombiesInRange=function(t){return this.inLane.zombiePool().concat(this.inLane.hypnoZombiePool()).filter((function(i){return i.CanBeChompedByTyranno()&&t.judgeCrossRec(i.bodyRec)}))},r.detectBiteZombie=function(t){if(!this.switching&&this.inLane&&t>0){var i=p.createRectangleCenter(new l(this.worldPositionX,this.inLane.midY),2*y.SquareWidth,y.SquareHeight);this.getZombiesInRange(i).length>0&&this.playBite()}},r.specialDinosaurLeave=function(){this.playOutro()},r.animationListener=function(t){switch(t.name){case"intro":d.playArray(this.brakeSounds,1,.1),d.playArray(this.introSaySounds,1,.1);break;case"outro":d.playArray(this.outroSaySounds,1,.1);break;case"lie":d.playArray(this.lieSounds,1,.1);break;case"open":d.playArray(this.eatSaySounds,1,.1);break;case"jump":d.playArray(this.jumpSounds,1,.1);break;case"roar":d.playArray(this.roarSounds,1,.1),m.shakeScreen(1),this._roar();break;case"bite":d.playArray(this.biteSaySounds,1,.1),d.playArray(this.swallowSounds,1,.1),d.playArray(this.biteSounds,1,.1),this._bite();break;case"idle2":d.playArray(this.idle2Sounds,1,NaN)}},r._bite=function(){var t=this,i=p.createRectangleCenter(new l(this.worldPositionX,this.inLane.midY),2*y.SquareWidth,y.SquareHeight),e=this.getZombiesInRange(i).sort((function(i,e){return(i.worldPositionX-e.worldPositionX)*t.scale})).find((function(){return!0}));e&&(e.chomp(),this.LeftBites--)},r._roar=function(){var t=this;this.charmed||(this.LeftRoars--,this.inLane.hypnoZombiePool().concat(this.inLane.zombiePool()).forEach((function(i){i.enteredLawn&&i.onRoaredByTyranno(t)})))},r.onCharmedSet=function(t){this.charmSlots.forEach((function(i){i._setDisplayIndex(t?1:0)}))},r.specialDinosaurDisplay=function(){this.playIntro()},r.specialDinosaurOnEnable=function(){this.LeftIdle=2,this.playIdle(),this.playIntro()},r.specialDinosaurUpdate=function(t,i,e){e>0&&!this.leaving&&!this.displayed&&(!this.switching&&this.charmed&&(this.LeftBites<=0?this.playLeave():this.detectBiteZombie(t)),!this.charmed&&this.LeftRoars>0&&(this.inLane.reversedZombiesAlsoWarnCD=1))},r.displayXOffset=function(){return-180},o(i,[{key:"objdataOwn",get:function(){return this._objdataOwn}},{key:"objdataOwnOrg",get:function(){return this._objdataOwnOrg}},{key:"IdleAnm",get:function(){return b.getRandom(["Idle0","Idle1","Idle2"])}}]),i}(h)).prototype,"brakeSounds",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=i(j.prototype,"introSaySounds",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),T=i(j.prototype,"lieSounds",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=i(j.prototype,"idle2Sounds",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),x=i(j.prototype,"eatSaySounds",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Z=i(j.prototype,"biteSaySounds",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),M=i(j.prototype,"swallowSounds",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),q=i(j.prototype,"biteSounds",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),X=i(j.prototype,"outroSaySounds",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),W=i(j.prototype,"roarSounds",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),E=i(j.prototype,"jumpSounds",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B=j))||B));r._RF.pop()}}}));

System.register("chunks:///_virtual/UI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./cardSelectAlmanac.ts","./Cards.ts","./Square.ts","./ShovelUIController.ts","./NodePools.ts","./SunCount.ts","./PlantFoodCount.ts","./SoundsController.ts","./FrontYard.ts","./SoundRescourses.ts","./levelController.ts","./Plants.ts","./Conveyor.ts","./SettingWindow.ts","./SandBoxLevelSettingWindow.ts","./SandBoxZombieCards.ts","./PowerupFingers.ts","./LnC.ts","./CoinCollecterInGame.ts","./SoundManager.ts","./LevelTaskCount.ts","./KeyListener.ts","./Armors.ts","./CharacterManager.ts","./Materials.ts","./Mouse.ts","./MultiLanguage.ts","./PauseScreen.ts","./Particles.ts","./Sunflower.ts","./AnimationController.ts","./Zombies.ts","./NPC_Controller.ts"],(function(e){var t,n,o,i,a,s,r,l,u,c,h,d,p,m,S,g,f,w,b,C,v,y,x,T,I,P,B,k,L,D,A,M,E,O,_,U,F,N,Z,R,H,W,G,z,K,j,q,V,Y,J,X,Q,$,ee,te,ne,oe,ie,ae,se,re,le,ue,ce,he,de,pe,me,Se,ge,fe;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized,a=e.createClass,s=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){l=e.cclegacy,u=e._decorator,c=e.Label,h=e.dragonBones,d=e.Node,p=e.Sprite,m=e.Prefab,S=e.Button,g=e.Canvas,f=e.Vec3,w=e.find,b=e.KeyCode,C=e.Tween,v=e.EventMouse,y=e.director,x=e.Color,T=e.instantiate,I=e.tween,P=e.UITransform,B=e.input,k=e.Input,L=e.UIOpacity,D=e.Component,A=e.Layers},function(e){M=e.cardSelectAlmanac},function(e){E=e.Cards},function(e){O=e.Square},function(e){_=e.ShovelUIController},function(e){U=e.NodePools,F=e.instantiatePooly},function(e){N=e.SunCount},function(e){Z=e.PlantFoodCount},function(e){R=e.MusicController},function(e){H=e.FrontYard,W=e.LawnStageEnum,G=e.JamStyle},function(e){z=e.sounds},function(e){K=e.LevelPlay},function(e){j=e.plants},function(e){q=e.Conveyor},function(e){V=e.Setting},function(e){Y=e.SandBoxLevelSettingWindow},function(e){J=e.SandBoxZombieCards},function(e){X=e.PowerupFingers},function(e){Q=e.LnCSpawnZombieStyleEnum},function(e){$=e.CoinCollecterInGame},function(e){ee=e.MusicSortEnum,te=e.SoundManager},function(e){ne=e.LevelTaskCount},function(e){oe=e.KeyListener},function(e){ie=e.armorEnum,ae=e.armors},function(e){se=e.ZombiePool,re=e.PlantPool,le=e.ZombieDamageType},function(e){ue=e.materialRes},function(e){ce=e.Mouse},function(e){he=e.MultiLanguage},function(e){de=e.PauseScreen},function(e){pe=e.particle},function(e){me=e.sunflower},function(e){Se=e.AnimationController},function(e){ge=e.zombies},function(e){fe=e.npc_controller}],execute:function(){var we,be,Ce,ve,ye,xe,Te,Ie,Pe,Be,ke,Le,De,Ae,Me,Ee,Oe,_e,Ue,Fe,Ne,Ze,Re,He,We,Ge,ze,Ke,je,qe,Ve,Ye,Je,Xe,Qe,$e,et,tt,nt,ot,it,at,st,rt,lt,ut,ct,ht,dt,pt,mt,St,gt,ft,wt;e("setExitToMapScene",(function(t){void 0===t&&(t="worldMapScene");e("exitToMapScene",t)})),l._RF.push({},"c2160cIG6JF67sVDFCFV7Hp","UI",void 0);var bt=u.ccclass,Ct=u.property,vt=e("gamingSpeed",1),yt=e("superSlowed",!1);e("exitToMapScene","worldMapScene");var xt=(we=bt("UIInGameButtonTips"),be=Ct(c),Ce=Ct(c),we((xe=t((ye=function(){function e(){o(this,"RESTART",xe,this),o(this,"EXIT_TO_MAP",Te,this)}return e.prototype.start=function(){this.RESTART.string=he.getStringByPropsWithoutTricks("GamePaused","Restart"),this.EXIT_TO_MAP.string=he.getStringByPropsWithoutTricks("GamePaused","ExitToMap")},e}()).prototype,"RESTART",[be],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Te=t(ye.prototype,"EXIT_TO_MAP",[Ce],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ve=ye))||ve);e("UIInGame",(Ie=bt("UIInGame"),Pe=Ct(xt),Be=Ct(h.ArmatureDisplay),ke=Ct(d),Le=Ct(p),De=Ct(d),Ae=Ct(d),Me=Ct(m),Ee=Ct(S),Oe=Ct(m),_e=Ct(d),Ue=Ct(de),Fe=Ct(S),Ne=Ct(S),Ze=Ct(d),Re=Ct(d),He=Ct(p),We=Ct(c),Ge=Ct(c),ze=Ct(g),Ke=Ct(d),je=Ct(m),qe=Ct(d),Ie(((wt=function(t){function l(){for(var e,n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a))||this,o(e,"toolTips",Je,i(e)),o(e,"sbZombieSpawnIcon",Xe,i(e)),e.currentSBZombieAddArmor=0,o(e,"SBZombieArmorIconSlot",Qe,i(e)),e.currentSBZombieDirection=0,o(e,"SBZombieZombieDirectionArrow",$e,i(e)),e.currentFreeSeedPacket=null,e.cards=null,e.squares=null,e.sceneEnabled=!1,o(e,"mouse",et,i(e)),o(e,"UIUpper",tt,i(e)),o(e,"sandBoxSettingWindowPrefab",nt,i(e)),e.sandBoxSettingWindow=void 0,o(e,"sbButton",ot,i(e)),e.sbButtonOldPos=void 0,o(e,"SBZombieCards",it,i(e)),o(e,"SBZombieCardsSlot",at,i(e)),e.uiHidden=!1,e.shovel=null,e.index=-1,e.willCostSun=0,e.plantInHandType=[],e.plantReady=null,e.currentPlantID=null,e.currentPlantBoosted=!1,e.currentPlantForceBoosted=!1,e.currentPlantStartingHeight=0,e.isImitator=!1,e.shovelReady=null,e.currentSniperPlant=null,e.zombiesCloseToHouseCD=0,e.plantKeyCool=0,e.musicSortIndex=0,e.musicSortEnumGroup=[ee.Stage1_Start,ee.Stage2_Start,ee.Stage3_Start,ee.Stage4_Start,ee.DemonstrateMinigame,ee.UltimateBattle,ee.ZombossIntro,ee.KongfuBossStage1],e.stageEffIndex=0,e.paused=!1,o(e,"pauseScreen",st,i(e)),e.rhythmAudioSourceTime=0,e.mainCamelTouch=void 0,e.failedCamelTouch=[],e.matchedCamelTouch=[],e.MouseListenOffThisTick=!1,e.MouseClickCoolingDown=2,e.mouseDown=!1,o(e,"pauseButton",rt,i(e)),e.normalPause=void 0,e.hoverPause=void 0,e.pressedPause=void 0,o(e,"s2xButton",lt,i(e)),e.normal2x=void 0,e.hover2x=void 0,e.pressed2x=void 0,e.gameStarted=!1,o(e,"mouseListener",ut,i(e)),o(e,"plantInHandLayer",ct,i(e)),e.nextLevel=!1,o(e,"windowSplash",ht,i(e)),o(e,"gameLoseTip",dt,i(e)),o(e,"gameLoseTipSmall",pt,i(e)),o(e,"canvas",mt,i(e)),e.exitNextTick=!1,e.restartNextTick=!1,e._exitDealt=!1,o(e,"gameLoseButtons",St,i(e)),e.gameLoseButtonOldPos=new f,o(e,"levelTaskShower",gt,i(e)),o(e,"levelTaskShowerSlot",ft,i(e)),e.levelTasks=[],e.preStartTips=[],e}n(l,t);var u=l.prototype;return u.readSBZombieSpawnStyle=function(e){var t,n="DirectPut";switch(e){case Q.dirtSpawn:n="DirtSpawn";break;case Q.snowStorm:n="SnowStorm";break;case Q.sandStorm:n="SandStorm";break;case Q.fromLane:n="FromLane"}null==(t=this.sbZombieSpawnIcon)||t.playAnimation(n,1)},u.switchSBZombieSpawnStyle=function(){Y.zombieSpawnStyle++},u.switchSBZombieAddArmor=function(){var e=s(r().mark((function e(t){var n,o,i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=this.currentSBZombieAddArmor+t,o=this.SBZombieArmorIconSlot;n<0;)n+=ie.amount;for(;n>=ie.amount;)n-=ie.amount;return this.currentSBZombieAddArmor=n,e.t0=T,e.next=8,ae.getArmorPFB(n);case 8:if(e.t1=e.sent,i=(0,e.t0)(e.t1),null!=o&&o.isValid){e.next=12;break}return e.abrupt("return");case 12:o.destroyAllChildren(),i.layer=A.Enum.UI_2D,i.parent=o;case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),u.addArmorOnZombies_sandbox=function(){O.armorOnAllZombies(this.currentSBZombieAddArmor)},u.switchSBZombieDirection=function(){for(var e=this.currentSBZombieDirection+1;e<0||e>=3;)e=0;switch(this.currentSBZombieDirection=e,e){case 1:case 2:this.SBZombieZombieDirectionArrow.node.angle=-90;break;default:this.SBZombieZombieDirectionArrow.node.angle=90}},u.showSBSettings=function(){this.sandBoxSettingWindow?(yt=e("superSlowed",!1),U.destroyPooly(this.sandBoxSettingWindow),this.sandBoxSettingWindow=null):(yt=e("superSlowed",!0),this.sandBoxSettingWindow=U.instantiatePooly(this.sandBoxSettingWindowPrefab),this.sandBoxSettingWindow.parent=this.UIUpper,this.sandBoxSettingWindow.worldPosition=this.node.parent.worldPosition,this.sandBoxSettingWindow.setSiblingIndex(this.sbButton.node.getSiblingIndex()))},u.hideUI=function(){this.uiHidden?(this.canvas.cameraComponent.visibility=1107296256,this.uiHidden=!1):(this.canvas.cameraComponent.visibility=1<<30,this.uiHidden=!0)},u.playZombieTooCloseWarn=function(){var e=this;if(this.zombiesCloseToHouseCD<=0){vt>1&&this.speedUp(!1);for(var t=function(){var t=1-n/6;e.scheduleOnce((function(){z.playZombieTooCloseWarn(t)}),.5*n)},n=0;n<6;n++)t()}this.zombiesCloseToHouseCD=1},u.cardSelect=function(){this.cards.JudgeSelection(),this.cards.cardSelect(),this.shovel.shovelSelect(),Z.component.choose(),this.squares.readIndex()},u.onEnable=function(){var e=this;this.scheduleOnce((function(){e.sceneEnabled=!0}),.1)},u.setSibling=function(){var e=w("Canvas/LawnCommon");this.node.setSiblingIndex(e.getSiblingIndex()),l.cardsAtUpper=e.getSiblingIndex()<this.node.getSiblingIndex(),V.saveSettings()},u.onKeyDown=function(t){if(!K.component.gameLost){var n=E.component.cardSlots,o=oe.KeyBinds;if(K.gameStarted||K.component.lastStandPrepareStarted)if(t.keyCode==b[o.Game_HideUI])this.hideUI();else{switch(t.keyCode){case b[o.Game_Card1]:if(this.plantKeyCool>0)break;n[0]&&(oe.ctrlDown&&K.sandBoxModeOn?O.allLnCSpawnPlant(E.component.CFs[0].ID):this.tryChangingIndex(0));break;case b[o.Game_Card2]:if(this.plantKeyCool>0)break;n[1]&&(oe.ctrlDown&&K.sandBoxModeOn?O.allLnCSpawnPlant(E.component.CFs[1].ID):this.tryChangingIndex(1));break;case b[o.Game_Card3]:if(this.plantKeyCool>0)break;n[2]&&(oe.ctrlDown&&K.sandBoxModeOn?O.allLnCSpawnPlant(E.component.CFs[2].ID):this.tryChangingIndex(2));break;case b[o.Game_Card4]:if(this.plantKeyCool>0)break;n[3]&&(oe.ctrlDown&&K.sandBoxModeOn?O.allLnCSpawnPlant(E.component.CFs[3].ID):this.tryChangingIndex(3));break;case b[o.Game_Card5]:if(this.plantKeyCool>0)break;n[4]&&(oe.ctrlDown&&K.sandBoxModeOn?O.allLnCSpawnPlant(E.component.CFs[4].ID):this.tryChangingIndex(4));break;case b[o.Game_Card6]:if(this.plantKeyCool>0)break;n[5]&&(oe.ctrlDown&&K.sandBoxModeOn?O.allLnCSpawnPlant(E.component.CFs[5].ID):this.tryChangingIndex(5));break;case b[o.Game_Card7]:if(this.plantKeyCool>0)break;n[6]&&(oe.ctrlDown&&K.sandBoxModeOn?O.allLnCSpawnPlant(E.component.CFs[6].ID):this.tryChangingIndex(6));break;case b[o.Game_Card8]:if(this.plantKeyCool>0)break;n[7]&&(oe.ctrlDown&&K.sandBoxModeOn?O.allLnCSpawnPlant(E.component.CFs[7].ID):this.tryChangingIndex(7));break;case b[o.Game_UIUpper]:l.PocketUI||this.setSibling();break;case b.KEY_K:oe.ctrlDown&&K.sandBoxModeOn&&(se.pool().concat(se.hypnoPool()).forEach((function(e){e.canBeKilledByRule&&e.chomp(!1)})),O.getAllLane().forEach((function(e){e.dinosaurPool().forEach((function(e){e.chomp()}))})));break;case b[o.Game_Shovel]:oe.ctrlDown&&K.sandBoxModeOn?O.shovelAllPlants():this.tryChangingIndex(-2);break;case b[o.Game_Plantfood]:oe.ctrlDown&&K.sandBoxModeOn?O.foodAllPlants():this.tryChangingIndex(-3);break;case b[o.Game_SpeedUp]:this.paused||this.speedUp()}if(K.sandBoxModeOn){if(!this.sandBoxSettingWindow)switch(t.keyCode){case b[o.Sandbox_PushTideBy1Square]:H.pushTide(1);break;case b[o.Sandbox_PullTideBy1Square]:H.pullTide(1);break;case b[o.Sandbox_PullTide]:H.pullTide(9);break;case b[o.Sandbox_PushTide]:H.addTide(),H.pushTide(9);break;case b[o.Sandbox_ChangeJam]:H.setJamEffect(this.stageEffIndex++%(G.jam_clear+1));break;case b[o.Sandbox_SummonZombies]:ge.SpawnRandomZombies();break;case b[o.Sandbox_ChangeLawn]:if(K.sandBoxWithAllLawns){var i=oe.shiftDown?-1:1,a=H.CurrentLawnID+i;a<0?a=W.yardAmount-1:a>=W.yardAmount&&(a=0),H.changeFrontYard(a)}break;case b[o.Sandbox_TimeFreeze]:yt=e("superSlowed",!yt);break;case b[o.Sandbox_SwitchMusic]:this.sandboxSwitchMusic()}switch(t.keyCode){case b[o.Sandbox_Settings]:this.showSBSettings()}}}switch(t.keyCode){case b[o.Game_Pause]:case b.ESCAPE:var s,r,u;if(null!=(s=K.component)&&s.carddeck_displayer_isActive()){K.component.closeCardDeckDisplayer();break}null!=fe&&null!=(r=fe.CurrentFlow)&&r.length?fe.RunFlow():this.paused||null==(u=K.component)||null==(u=u.levelObjectiveShower)||null==(u=u.node)||!u.active||K.component.levelObjectiveShower.faded?this.pauseMenu():K.component.levelObjectiveShower.continue()}}},u.sandboxSwitchMusic=function(){K.sandBoxWithAllLawns&&(this.musicSortIndex=(this.musicSortIndex+1)%this.musicSortEnumGroup.length,R.switchMusicSort(this.musicSortEnumGroup[this.musicSortIndex]))},u.pauseMenu=function(){if(this.paused){var e;this.paused=!1,null!=(e=K.component)&&e.rhythmAudioSource&&K.component.rhythmPlayStarted&&(K.component.rhythmAudioSource.play(),K.component.rhythmAudioSource.currentTime=this.rhythmAudioSourceTime),this.pauseButton.hoverSprite=this.hoverPause,this.pauseButton.normalSprite=this.normalPause,this.pauseScreen.node.active=!1}else{var t,n;if(null!=(t=K.component)&&t.gameWon)return;this.tryChangingIndex(-1),this.paused=!0,z.playPause(),null!=(n=K.component)&&n.rhythmAudioSource&&K.component.rhythmPlayStarted&&(this.rhythmAudioSourceTime=K.component.rhythmAudioSource.currentTime,K.component.rhythmAudioSource.pause()),this.pauseScreen.node.active=!0,this.pauseButton.hoverSprite=this.pressedPause,this.pauseButton.normalSprite=this.pressedPause}},u.plantInHand=function(){var e=s(r().mark((function e(t,n){var o,i,a,s,l,u,c,d;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===n&&(n=!0),this.plantInHandType=[],this.plantReady=null,this.currentPlantID=null,this.currentPlantStartingHeight=0,this.willCostSun=0,n&&t){e.next=8;break}return e.abrupt("return");case 8:return this.currentPlantID=t.ID,this.currentPlantBoosted=t.BOOSTED,this.currentPlantForceBoosted=t.FORCE_BOOSTED,this.isImitator=t.isImitator,i=j.getPlantProps(t.ID),(a=+i.StartingHeight)&&(this.currentPlantStartingHeight=a),this.plantInHandType=t.PF.TYPE,this.willCostSun=t.SUNCOST,s=this.currentPlantID,l=this.currentPlantStartingHeight,u=j.getPlantsInCard(s),e.next=22,u;case 22:if(c=e.sent.plantDIS,this.plantReady=U.instantiatePooly(c),!isNaN(this.currentPlantID)){e.next=26;break}return e.abrupt("return");case 26:this.plantReady.parent=this.plantInHandLayer,null==(d=this.plantReady.getComponent(Se))||null==(o=d.db)||null==(o=o.color)||o.set(255,255,255,255),null==d||d.readCostume(s),this.plantReady.getChildByName("Body").getComponent(h.ArmatureDisplay).color=new x(255,255,255,255),this.plantReady.setPosition(0,-20+l);case 32:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),u.spawnPlantCost=function(){var e;8==this.index&&(null==q||null==(e=q.component)||e.spliceCard(this.currentFreeSeedPacket)),N.component.SunDec(this.willCostSun),this.index>=0&&this.index<=7&&this.cards.CoolStart(this.index)},u.setTips=function(){var e;this.pauseScreen.node.active=!0,null==(e=this.pauseScreen)||e.setTips(this.preStartTips),this.pauseScreen.node.updateWorldTransform(),this.pauseScreen.node.active=!1},l.exit=function(){var e;null!=H&&H.CurrentLawn&&(H.CurrentLawn.node.destroy(),H.CurrentLawn=null),(null==(e=oe.cp)?void 0:e.screenSplash)&&(oe.cp.screenSplash.opacity=255),re.pool().concat().forEach((function(e){e.fooding&&(null==e||e.foodEnd())})),l.component.oldTickReturn(),C.stopAll(),U.clearAll(),oe.goToLastScene()},l.gotoNextLevel=function(e){re.pool().concat().forEach((function(e){e.fooding&&(null==e||e.foodEnd())})),l.component.oldTickReturn(),C.stopAll(),U.clearAll(),oe.restartRelease(),H.unLoadLawns(),te.unLoadMusic(),oe.goToLevel([e],[],(function(){U.clearAll(),C.stopAll()}))},l.restart=function(){re.pool().concat().forEach((function(e){e.fooding&&(null==e||e.foodEnd())})),l.component.oldTickReturn(),C.stopAll(),U.clearAll(),oe.restartRelease(),K.thisLevelsID.length?oe.goToLevel(K.thisLevelsID,K.nextLevelsID,(function(){U.clearAll(),C.stopAll()}),!0,!0):K.levelData?oe.goToGame([K.levelData.objects],(function(){U.clearAll(),C.stopAll()}),!0):this.exit()},u.tryChangingIndex=function(e,t){var n;if(void 0===t&&(t=!1),!this.paused&&!this.indexLocked&&!K.component.gameLost){var o=!1;switch(this.currentSniperPlant&&(this.currentSniperPlant.locateCancel(),this.currentSniperPlant.locatorNode=null,this.currentSniperPlant=null),e){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:if(this.cards.CFs[e]){var i=this.cards.CFs[e].getComponent(M);i.getSelectable()?(this.currentPlantID=null,U.destroyNodeArrayPooly(this.plantInHandLayer.children),this.index==e?this.tryChangingIndex(-1):(this.index=e,this.plantInHand(this.cards.CFs[e]),z.playCardChosen()),o=!0):i.affordable||i.cooling?i.cooling&&(l.SeedRefreshWarned||(l.SeedRefreshWarned=!0,oe.gameTipString(he.getDirectQuote("[ADVICE_SEED_REFRESH]"),5))):(N.component.playWarn(),l.SunNotEnoughWarned||(l.SunNotEnoughWarned=!0,oe.gameTipString(he.getDirectQuote("[ADVICE_NOT_ENOUGH_SUN]"),5))),o||z.playCardChooseFailed()}break;case 8:null!=(n=this.currentFreeSeedPacket)&&n.enabled&&this.currentFreeSeedPacket.getComponent(M).getSelectable()&&(this.currentPlantID=null,U.destroyNodeArrayPooly(this.plantInHandLayer.children),this.index==e?this.tryChangingIndex(-1):(this.index=e,this.plantInHand(this.currentFreeSeedPacket),z.playCardChosen()),o=!0);break;case 9:this.currentPlantID=null,U.destroyNodeArrayPooly(this.plantInHandLayer.children),this.index==e?this.tryChangingIndex(-1):this.index=e,o=!0;break;case-1:if(this.currentPlantID=null,U.destroyNodeArrayPooly(this.plantInHandLayer.children),this.index<=8&&this.index>=0)this.plantInHand(null,!1),z.playCardCancel();else if(-2==this.index)z.playShovelActive();else if(-4==this.index){var a;null==(a=this.currentSniperPlant)||a.locateCancel(),this.currentSniperPlant=null}null!=J&&J.component&&(J.component.index=-1),this.index=-1,o=!0;break;case-2:this.currentPlantID=null,(_.shovelUI.gameStarted||t)&&(U.destroyNodeArrayPooly(this.plantInHandLayer.children),this.index=-2==this.index?-1:-2,z.playShovelActive(),o=!0);break;case-3:this.currentPlantID=null,Z.plantFoodNum>0||Y.freePF?K.gameStarted&&(this.index=-3==this.index?-1:-3,U.destroyNodeArrayPooly(this.plantInHandLayer.children),-3==this.index&&Z.component.addMouseChild(),o=!0):Z.plantfoodWarn();break;case-4:this.currentPlantID=null,-4!=this.index&&(o=!0),this.index=-4;break;case-5:if(this.currentPlantID=null,K.gameStarted){var s=this.index+0;this.index=-5==this.index?-1:-5,U.destroyNodeArrayPooly(this.plantInHandLayer.children),o=s!=this.index}}o&&(this.cardSelect(),X.component.judgeUIIndex(),8!=this.index&&this.currentFreeSeedPacket&&(z.playCardCancel(),this.currentFreeSeedPacket.getComponent(M).index=0,this.currentFreeSeedPacket=null))}},l.LawnMowersRelease=function(){for(var e=0;e<5;e++){var t=O.getLane(e);t.mower&&(t.mower._pressed=!1)}},u.onMouseUp=function(e){var t;e.preventSwallow=!0,this.MouseClickCoolingDown>0||(this.MouseClickCoolingDown=2,e.getButton()==v.BUTTON_LEFT&&(this.mouseDown=!1),-5==this.index&&X.component.onMouseUp(e),l.LawnMowersRelease(),O.beghouledMouseLnC=null,null==(t=ce.mouseInLnC)||t.onMouseUp(e))},u.onMouseScroll=function(e){var t,n,o;e.preventSwallow=!0,this.MouseClickCoolingDown>0||(this.MouseClickCoolingDown=1,null!=(t=E.component)&&t.judgeMouseIsIn()&&E.component.onMouseScroll(e),null!=(n=J.component)&&n.judgeMouseIsIn()&&J.component.onMouseScroll(e),null==(o=ce.mouseInLnC)||o.onMouseScroll(e))},u.flipAllCamelBack=function(){this.failedCamelTouch.forEach((function(e){e&&(e.flipped=!1)})),this.failedCamelTouch=[]},u.judgeMatchedCamelTouch=function(e){var t=this;(this.flipAllCamelBack(),this.unschedule(this.flipAllCamelBack),this.mainCamelTouch)?this.mainCamelTouch.camelTouchType==e.camelTouchType?(this.matchedCamelTouch=[e,this.mainCamelTouch],this.mainCamelTouch=null,this.scheduleOnce((function(){t.matchedCamelTouch.forEach((function(e){e.match()}));var e=t.matchedCamelTouch.concat();t.scheduleOnce((function(){K.component.addCamelCombo(),e.forEach((function(e){e.playDie(!1,null,!0,le.physicle,!0,!0,!0)}))}),.5),t.matchedCamelTouch=[]}),.5)):(K.component.clearCamelCombo(),this.failedCamelTouch=[e,this.mainCamelTouch],this.mainCamelTouch=null,this.scheduleOnce(this.flipAllCamelBack,3)):this.mainCamelTouch=e},u.onMouseDown=function(e){var t;if(e.preventSwallow=!0,!(this.MouseClickCoolingDown>0)){this.MouseClickCoolingDown=2;var n,o=!1,i=e.getButton();if(null!=(t=fe.CurrentFlow)&&t.length&&(null==fe||fe.RunFlow()),this.gameStarted)if(i==v.BUTTON_RIGHT){var a=this.index+0;this.tryChangingIndex(-1),-1!=a&&-1==this.index&&(z.playRightButtonCancel(),o=!0)}else if(-5==this.index&&i==v.BUTTON_LEFT)X.component.onMouseDown(e);else if(-1==this.index&&i==v.BUTTON_LEFT&&!this.MouseListenOffThisTick){this.mouseDown=!0;for(var s=function(){var e=O.getLane(r);if(K.ManualMower>0&&e.mower&&e.mower.bodyRec().judgeInRecP(ce.position))return e.mower.onMouseDown(),0;var t=e.zombiePool().sort((function(e,t){return t.siblingIndexInLane-e.siblingIndexInLane})),n=!1;return t.forEach((function(e){n||e.bodyRecReal.judgeInRecP(ce.position)&&e.onMouseClicked()&&(n=!0)})),n?(o=!0,0):void 0},r=4;r>=0&&0!==s();r--);}if(!o&&!this.MouseListenOffThisTick)null==(n=ce.mouseInLnC)||n.onMouseDown(e,!0);!o&&i==v.BUTTON_LEFT&&ce.judgeInUITransform(_.shovelUI.uiTransform)&&(this.mouseDown=!0,o=!0,(K.gameStarted||K.component.lastStandPrepareStarted)&&this.tryChangingIndex(-2))}},u.oldTickReturn=function(){vt=e("gamingSpeed",1),y.gameSpeed=1},u.speedUp=function(t){void 0===t&&(t=!0),vt=e("gamingSpeed",1==vt?1.5:1),t&&z.playSpeedUp(),1==vt?(this.s2xButton.normalSprite=this.normal2x,this.s2xButton.pressedSprite=this.pressed2x,this.s2xButton.hoverSprite=this.hover2x,t&&K.setScreenFlashLeftColor(new x(122,242,255,75),.5)):(this.s2xButton.normalSprite=this.pressed2x,this.s2xButton.pressedSprite=this.pressed2x,this.s2xButton.hoverSprite=this.hover2x,t&&K.setScreenFlashLeftColor(new x(122,242,255,75),.5))},l.gameStart=function(){this.component._gameStart()},u._gameStart=function(){var e,t=this;if(!this.gameStarted){if(this.mouseDown=!1,K.sandBoxModeOn&&(this.sbButton.node.active=!0,this.sbButton.node.position=this.sbButtonOldPos,T(this.SBZombieCards).parent=this.SBZombieCardsSlot),$.component&&($.component.show(),$.component.hidden=!1,l.PocketUI&&I($.component.node).to(.5,{position:new f(-295,-150,0)},{easing:"quadInOut"}).start()),this.levelTaskShowerSlot.active=!0,this.gameStarted=!0,this.s2xButton.getComponent(p).color=new x(255,255,255,255),this.s2xButton.node.on(d.EventType.MOUSE_DOWN,(function(e){t.paused||t.speedUp()})),l.PocketUI){this.levelTaskShowerSlot.position=new f(-360,240,0);var n=this.levelTaskShowerSlot.getComponent(P);n&&(n.width=100)}if(w("Canvas/UIInGame/PlantFoodSlot/Button").on(d.EventType.MOUSE_DOWN,(function(e){e.getButton()==v.BUTTON_LEFT?t.tryChangingIndex(-3):e.getButton()==v.BUTTON_MIDDLE&&K.sandBoxModeOn&&O.foodAllPlants()}),this),Z.keyOn(),!l.PocketUI){var o=w("Canvas/LawnCommon");(l.cardsAtUpper&&o.getSiblingIndex()>this.node.getSiblingIndex()||!l.cardsAtUpper&&o.getSiblingIndex()<this.node.getSiblingIndex())&&this.setSibling()}null!=(e=this.SBZombieArmorIconSlot)&&e.active&&(this.switchSBZombieAddArmor(0),this.SBZombieArmorIconSlot.parent.on(d.EventType.MOUSE_WHEEL,(function(e){e.preventSwallow=!0,e.getScrollY()>0?t.switchSBZombieAddArmor(-1):e.getScrollY()<0&&t.switchSBZombieAddArmor(1)}),this)),O.calculatePlants()}},u.onLoad=function(){this.uiHidden=!1,this.gameLoseButtonOldPos=this.gameLoseButtons.position.clone(),this.uiHidden=!0,this.hideUI(),this.levelTaskShowerSlot.position=new f(l.PocketUI?-280:-470,l.PocketUI?320:170,0);var t=this.levelTaskShowerSlot.getComponent(P);t&&(t.width=l.PocketUI?1e3:100),this.sceneEnabled=!1,this.sbButton.node.position=l.PocketUI?new f(-315,215,0):new f(-370,130,0),this.sbButtonOldPos=this.sbButton.node.position.clone(),this.sbButton.node.position.add3f(-1e3,1e3,0),this.SBZombieCardsSlot.position=l.PocketUI?new f(-220,275,0):new f(-75,-290,0),yt=e("superSlowed",!1),this.gameStarted=!1,this.currentFreeSeedPacket=null,l.component=this,B.on(k.EventType.KEY_DOWN,this.onKeyDown,this),this.s2xButton.getComponent(p).color=new x(255,255,255,0),this.squares=w("Canvas/LawnCommon/Squares").getComponent(O),this.cards=this.node.getChildByName("Cards").getComponent(E),this.shovel=this.node.getChildByName("Shovel").getComponent(_),this.shovel.UIParent=this,this.normalPause=this.pauseButton.normalSprite,this.hoverPause=this.pauseButton.hoverSprite,this.pressedPause=this.pauseButton.pressedSprite,this.normal2x=this.s2xButton.normalSprite,this.hover2x=this.s2xButton.hoverSprite,this.pressed2x=this.s2xButton.pressedSprite},u.start=function(){var e,t,n,o,i;this.paused=!1,this.pauseScreen.node.active=!1,this.showGameLoseButtons(!1),this.windowSplashColorA=0,this.cards.enabled=!0,null==(e=this.toolTips)||e.start(),null==(t=this.mouseListener)||t.on(d.EventType.MOUSE_DOWN,this.onMouseDown,this),null==(n=this.mouseListener)||n.on(d.EventType.MOUSE_UP,this.onMouseUp,this),null==(o=this.mouseListener)||o.on(d.EventType.MOUSE_MOVE,(function(e){e.preventSwallow=!0}),this),null==(i=this.mouseListener)||i.on(d.EventType.MOUSE_WHEEL,this.onMouseScroll,this);var a=w("Canvas/LawnCommon");this.node.setSiblingIndex(a.getSiblingIndex())},u.update=function(e){var t,n,o;if(this.plantKeyCool>0&&this.plantKeyCool--,this.plantInHandLayer.worldPosition=ce.position.toVec3(),null!=(t=this.currentSniperPlant)&&t.locatorNode&&(this.currentSniperPlant.locatorNode.worldPosition=this.mouse.worldPosition),this.UIUpper.position=this.node.position,this.paused&&R._volumeScalePause>0?R._volumeScalePause-=.016667:!this.paused&&R._volumeScalePause<1&&(R._volumeScalePause+=.016667),this.zombiesCloseToHouseCD-=e,!this.sceneEnabled||K.component.gameLost||this.exitNextTick||this.restartNextTick||this._exitDealt)this.oldTickReturn();else if(yt||this.paused)y.gameSpeed=0;else{var i=K.sandBoxModeOn&&!K.gameStarted?4:1;y.gameSpeed=vt*i}if(!this._exitDealt)if(this.exitNextTick)if(K.setPlayed(),this.nextLevel)if(null!=K&&null!=(n=K.component)&&n.RestartWhenExit)l.restart(),this._exitDealt=!0;else if(null!=K&&null!=(o=K.component)&&null!=(o=o.levelDefinition)&&o.ForceNextLevel){var a;l.gotoNextLevel(null==K||null==(a=K.component)||null==(a=a.levelDefinition)?void 0:a.ForceNextLevel),this._exitDealt=!0}else l.exit(),this._exitDealt=!0;else l.exit(),this._exitDealt=!0;else this.restartNextTick&&(K.setPlayed(),l.restart(),this._exitDealt=!0);this.SBZombieZombieDirectionArrow&&(this.SBZombieZombieDirectionArrow.color=2==this.currentSBZombieDirection?ue.zombieHypno:new x(255,255,255,255))},u.victoryExit=function(){for(var e,t=this,n=function(){var e=O.getLane(o),n=e.mower;e.mower=null,n&&t.scheduleOnce((function(){me.dropOneCoin(n.worldPosition,1);var t=F(pe.mowerSpawn());t.parent=e.prjLayer,t.worldPosition=n.worldPosition.toVec3(),z.playMowerSpawn(),U.destroyPooly(n.node)}),.25*o)},o=0;o<5;o++)n();var i=null==fe?void 0:fe.Getflow(null==(e=K.component)?void 0:e.OutroNarrative);null!=i&&i.length?(1!=vt&&this.speedUp(!1),this.s2xButton.node.active=!1,fe.SetFlow(i),K.component.isOutroNarrating=!0):this.victoryExitTween()},u.victoryExitTween=function(){var e,t=this;z.playLevelExit();var n=null==K||null==(e=K.component)||null==(e=e.bossZombie)?void 0:e.bossOnPriceCollected(),o=this.canvas.cameraComponent.node.worldPosition;this.windowSplash.node.worldPosition=new f(o.x,o.y,0),this.windowSplash.color=new x(255,255,255,0),I(this).to(2.5+(isNaN(n)?0:n),{}).to(2.5,{windowSplashColorA:255}).call((function(){t.exitNextTick=!0,t.nextLevel=!0})).start()},u.showGameLoseButtons=function(e){void 0===e&&(e=!0),e?(this.gameLoseButtons.active=!0,this.gameLoseButtons.position=this.gameLoseButtonOldPos):(this.gameLoseButtons.active=!1,this.gameLoseButtons.position=new f(0,1e4,0))},u.loseDarken=function(e,t,n){var o=this;if(void 0===e&&(e=null),void 0===t&&(t=he.getStringByPropsWithoutTricks("InGameScene","GameLoseTip","BrainEaten")),void 0===n&&(n=""),!(K.component.gameLost||K.component.gameWon||this.paused)){this.tryChangingIndex(-1),this.uiHidden&&this.hideUI(),K.component.gameLost=!0,K.component.onLoseDarken(),R.switchMusicSort(ee.Lose,!1,!1,!0,!0);var i=this.canvas.cameraComponent.node.worldPosition;this.windowSplash.node.worldPosition=new f(i.x,i.y,0),e&&(e.node.setParent(this.windowSplash.node.parent,!0),e.node.setSiblingIndex(this.windowSplash.node.getSiblingIndex()+1),e.triggerGameLose(),e.isGameLoseTriggerer=!0),this.gameLoseTip.string=t,this.windowSplash.color=new x(0,0,0,0),this.gameLoseTip.string=t;var a=this.gameLoseTip.getComponent(L);a.opacity=0,this.gameLoseTip.node.scale=new f(.5,1,1);var s=I(a).to(1.5,{opacity:255},{easing:"quadOut"}),r=I(this.gameLoseTip.node).to(1.5,{scale:new f(1,1,1)},{easing:"quadOut"});this.gameLoseTipSmall.string=n,this.gameLoseTipSmall.node.position=new f(0,420,0);I(this.gameLoseTipSmall.node).to(1.5,{position:new f(0,130,0)},{easing:"quadIn"}).to(1,{position:new f(0,220,0)},{easing:"quadOut"}).to(1,{position:new f(0,130,0)},{easing:"quadIn"}).to(.5,{position:new f(0,170,0)},{easing:"quadOut"}).to(.5,{position:new f(0,130,0)},{easing:"quadIn"}).start();I(this).to(2,{windowSplashColorA:255}).call((function(){K.component.gameOver=!0,s.start(),r.start(),o.showGameLoseButtons()})).start()}},u.lateUpdate=function(e){this.MouseListenOffThisTick=!1,this.MouseClickCoolingDown>0&&this.MouseClickCoolingDown--},u.calculateLevelTask=function(e,t){this.gameStarted&&!K.component.lastStandPrepareStarted&&this.levelTasks.forEach((function(n){n.changeObjdata(e,t)}))},u.warnLevelTask=function(e){this.levelTasks.forEach((function(t){t.mode==e&&t.playWarn()}))},u.judgeLevelTasksVictory=function(){var e=!0;return this.levelTasks.forEach((function(t){e&&(e=t.judgeVictory())})),e},u.getLevelTaskObject=function(e){for(var t=this.levelTasks.concat(),n=0;n<t.length;n++)if(t[n].mode==e)return t[n].objdata},u.getLevelTaskStartingObject=function(e){for(var t=this.levelTasks.concat(),n=0;n<t.length;n++)if(t[n].mode==e)return t[n].startingObjdata},u.pushLevelTask=function(e,t){if(t){this.levelTaskShowerSlot.active=!1;var n=T(this.levelTaskShower);n.parent=this.levelTaskShowerSlot;var o=n.getComponent(ne);o.switchMode(e,t),this.levelTasks.push(o)}},u.pushGamePreStartTip=function(){for(var e=this,t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];n.forEach((function(t){-1==e.preStartTips.indexOf(t)&&e.preStartTips.push(t)}))},a(l,[{key:"zombiesCloseToHouse",get:function(){return this.zombiesCloseToHouseCD>0}},{key:"indexLocked",get:function(){return X.uiIndexLocked}},{key:"windowSplashColorA",get:function(){return this.windowSplash.color.a},set:function(e){var t=this.windowSplash.color.clone();this.windowSplash.color=new x(t.r,t.g,t.b,e)}}],[{key:"index",get:function(){return this.component.index}},{key:"willDestroySceneNextTick",get:function(){return this.component&&(this.component.exitNextTick||this.component.restartNextTick)}}]),l}(D)).PocketUI=!1,wt.cardsAtUpper=!1,wt.SunNotEnoughWarned=!1,wt.SeedRefreshWarned=!1,wt.component=void 0,Je=t((Ye=wt).prototype,"toolTips",[Pe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Xe=t(Ye.prototype,"sbZombieSpawnIcon",[Be],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qe=t(Ye.prototype,"SBZombieArmorIconSlot",[ke],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$e=t(Ye.prototype,"SBZombieZombieDirectionArrow",[Le],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),et=t(Ye.prototype,"mouse",[De],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),tt=t(Ye.prototype,"UIUpper",[Ae],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),nt=t(Ye.prototype,"sandBoxSettingWindowPrefab",[Me],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ot=t(Ye.prototype,"sbButton",[Ee],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),it=t(Ye.prototype,"SBZombieCards",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),at=t(Ye.prototype,"SBZombieCardsSlot",[_e],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),st=t(Ye.prototype,"pauseScreen",[Ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rt=t(Ye.prototype,"pauseButton",[Fe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),lt=t(Ye.prototype,"s2xButton",[Ne],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ut=t(Ye.prototype,"mouseListener",[Ze],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ct=t(Ye.prototype,"plantInHandLayer",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ht=t(Ye.prototype,"windowSplash",[He],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),dt=t(Ye.prototype,"gameLoseTip",[We],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pt=t(Ye.prototype,"gameLoseTipSmall",[Ge],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),mt=t(Ye.prototype,"canvas",[ze],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),St=t(Ye.prototype,"gameLoseButtons",[Ke],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),gt=t(Ye.prototype,"levelTaskShower",[je],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ft=t(Ye.prototype,"levelTaskShowerSlot",[qe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ve=Ye))||Ve));l._RF.pop()}}}));

System.register("chunks:///_virtual/UmbrellaLeaf.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./CharacterManager.ts","./Square.ts","./SoundRescourses.ts","./Plants.ts"],(function(t){var e,n,i,a,o,l,s,r,u,h,c,d,m,f,b,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,a=t.assertThisInitialized,o=t.createClass},function(t){l=t.cclegacy,s=t._decorator,r=t.AudioClip,u=t.Vec2,h=t.AudioSource},function(t){c=t.Plant},function(t){d=t.Rectangle,m=t.Umbrellas},function(t){f=t.Square},function(t){b=t.sounds},function(t){p=t.PlantEnum}],execute:function(){var A,g,y,S,I,R,_,C,w,k,U,v,P,D;l._RF.push({},"f671cHIAU9Era0nTV0pwgDI","UmbrellaLeaf",void 0);var x=s.ccclass,z=s.property,B=t("umbrellaLeafRange",(function(t,e){this.owner=void 0,this.detector=void 0,this.owner=t,this.detector=e})),E=(A=x("umbrellaleafSound"),g=z([r]),y=z([r]),S=z([r]),A((_=e((R=function(){function t(){i(this,"umbrellaSound",_,this),i(this,"bounceSound",C,this),i(this,"foodSound",w,this)}var e=t.prototype;return e.playUmbrellaSound=function(){b.playArray(this.umbrellaSound,1,.1)},e.playBounceSound=function(){b.playArray(this.bounceSound,1,.5)},e.playFoodSound=function(){b.playArray(this.foodSound,1,.1)},t}()).prototype,"umbrellaSound",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C=e(R.prototype,"bounceSound",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),w=e(R.prototype,"foodSound",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),I=R))||I);t("UmbrellaLeafPlant",(k=x("UmbrellaLeaf"),U=z(E),k((D=e((P=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))||this).disallowOtherPlants=[p.UmbrellaLeaf],i(e,"soundRes",D,a(e)),e.blockAnm="Block",e._stage=0,e.thisUmbrella=new B(a(e),d.createRectangleCenter(new u(0,0),3*f.SquareWidth,3*f.SquareHeight)),e.zombiesInRange=[],e.detector=void 0,e}n(e,t);var l=e.prototype;return l.isUmbrella=function(){return!0},l.umbrella=function(){return!this.sheepend&&(this.soundRes.playUmbrellaSound(),this.anmControl.playAnimation(this.blockAnm,1),this.setAnimation(!0),!0)},l.umbrellable=function(){return!this.sheepend},l.specialPlantFood=function(t){this.foodable=!1,this.foodEnd(),this.soundRes.playFoodSound(),this.allowOverlap=!0,this.eaterDetectable=!1,this.smasherDetectable=!1,this.stage=2+this.stage%2,this.anmControl.playIdle()},l.bounce=function(){h.maxAudioChannel,this.soundRes.playBounceSound(),this.anmControl.playAnimation(this.blockAnm,1,0,.7),this.setAnimation(!0)},l.specialPlantDie=function(t){var e=m.umbrellas.indexOf(this.thisUmbrella);-1!=e&&m.umbrellas.splice(e,1)},l.specialPlantOnEnable=function(){this.stage=0,-1==m.umbrellas.indexOf(this.thisUmbrella)&&m.umbrellas.push(this.thisUmbrella),this.zombiesInRange=[],this.setAnimation(!1),this.anmControl.playIdle()},l.setAnimation=function(t){this.anmControl;t?this.stage>=2?this.stage=3:this.stage=1:this.stage>=2?this.stage=2:this.stage=0},l.specialPlantOnSquareChange=function(t,e){this.detector=d.createRectangleNodeCenter(e.node,3*f.SquareWidth,3*f.SquareHeight),this.thisUmbrella.detector=this.detector},o(e,[{key:"stage",get:function(){return this._stage},set:function(t){switch(t){case 1:this.anmControl.IdleAnim="Idle_Excited",this.anmControl.RandomAnim=["Random_Excited"],this.deathAnm="Death",this.waterAnm="Water",this.blockAnm="Block";break;case 2:this.anmControl.IdleAnim="Idle_Infi",this.anmControl.RandomAnim=["Random_Infi"],this.deathAnm="Death_Infi",this.waterAnm="Water_Infi",this.blockAnm="Block_Infi";break;case 3:this.anmControl.IdleAnim="Idle_Excited_Infi",this.anmControl.RandomAnim=["Random_Excited_Infi"],this.deathAnm="Death_Infi",this.waterAnm="Water_Infi",this.blockAnm="Block_Infi";break;default:t=0,this.anmControl.IdleAnim="Idle",this.anmControl.RandomAnim=["Random"],this.deathAnm="Death",this.waterAnm="Water",this.blockAnm="Block"}this._stage=t}}]),e}(c)).prototype,"soundRes",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new E}}),v=P))||v));l._RF.pop()}}}));

System.register("chunks:///_virtual/UpdateContentWindow.ts",["./rollupPluginModLoBabelHelpers.js","cc","./InfoWindow.ts","./MultiLanguage.ts","./ElectronAPI.ts"],(function(t){var e,n,i,o,r,l,a,s,c,u,p,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,l=t._decorator,a=t.Label,s=t.Color,c=t.instantiate},function(t){u=t.InfoWindow},function(t){p=t.MultiLanguage},function(t){b=t.default}],execute:function(){var d,g,f,w,h,v,y,W,L,U;r._RF.push({},"7b585vVwQlBCbYb6LroAnl3","UpdateContentWindow",void 0);var m=l.ccclass,C=l.property;t("UpdateContentWindow",(d=m("UpdateContentWindow"),g=C(a),f=C(a),w=C(a),d(((U=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return e=t.call.apply(t,[this].concat(r))||this,i(e,"label0",y,o(e)),i(e,"title",W,o(e)),i(e,"wbstLabel",L,o(e)),e}n(e,t);var r=e.prototype;return r.readObject=function(t){this.title.string=p.getStringByPropsWithoutTricks("UpdateWindow","Title"),this.wbstLabel.string=p.getStringByPropsWithoutTricks("UpdateWindow","GoToOfficialWebsite"),this.label0.string=t.Name+"\n("+t.Version+")\n",this.label0.color=new s(0,0,182,255);for(var e=t.Updates,n=0;n<(null==e?void 0:e.length);n++){var i=c(this.label0.node);i.parent=this.label0.node.parent;var o=i.getComponent(a);o.string=p.getString(e[n],!1),o.color=n%2?new s(175,0,182,255):new s(182,0,95,255)}return""},r.gotoWebSite=function(){b.openURL("https://pvzge.com")},e}(u)).version="0.3.7",y=e((v=U).prototype,"label0",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=e(v.prototype,"title",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=e(v.prototype,"wbstLabel",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=v))||h));r._RF.pop()}}}));

System.register("chunks:///_virtual/upgradePrize.ts",["./rollupPluginModLoBabelHelpers.js","cc","./levelPrize.ts","./levelController.ts","./Trophies.ts","./PlayerProperties.ts","./UpgradeTrophy.ts"],(function(e){var r,t,i,n,l,o,a,u,s,c,p;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){l=e.cclegacy,o=e._decorator},function(e){a=e.levelPrize},function(e){u=e.LevelPlay},function(e){s=e.UpgradeEnum},function(e){c=e.AllPlayerProperties},function(e){p=e.UpgradeTrophy}],execute:function(){var d,f,P,h,v;l._RF.push({},"e30b7HsB+xJfJ2RtbPf+1RC","upgradePrize",void 0);var g=o.ccclass,y=o.property;e("upgradePrize",(d=g("upgradePrize"),f=y(p),d((v=r((h=function(e){function r(){for(var r,t=arguments.length,l=new Array(t),o=0;o<t;o++)l[o]=arguments[o];return r=e.call.apply(e,[this].concat(l))||this,i(r,"ut",v,n(r)),r}t(r,e);var l=r.prototype;return l.specialPrizeOnEnable=function(){var e,r=null==(e=u.component)||null==(e=e.levelDefinition)?void 0:e.FirstRewardParam,t=0;r&&(t=s[r]),u.thisLevelsID.length&&c.unlockUpgrade(t),this.ut.readID(t,!1),this.ut.prizeModeOn=!0},l.specialOnCollected=function(){this.ut.prizeModeOn=!1},r}(a)).prototype,"ut",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=h))||P));l._RF.pop()}}}));

System.register("chunks:///_virtual/UpgradeTrophy.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Materials.ts","./Prizes.ts","./MultiLanguage.ts"],(function(e){var t,r,i,n,a,o,s,l,u,p,c,d,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,s=e.dragonBones,l=e.Node,u=e.Color,p=e.Component},function(e){c=e.materialRes},function(e){d=e.prizeRes},function(e){h=e.MultiLanguage}],execute:function(){var g,f,y,b,D,M,m;a._RF.push({},"d4bf5jVwhpKB4kDCpes4ljq","UpgradeTrophy",void 0);var E=o.ccclass,T=o.property;e("UpgradeFeature",(function(){this.NAME=new h,this.DESCRIPTION=new h,this.CODENAME="starting_sun_1",this.SPRITENAME="StartingSun",this.UPGRADETYPE="starting_sun",this.OBTAINWORLD="modern"})),e("UpgradeTrophy",(g=E("UpgradeTrophy"),f=T(s.ArmatureDisplay),y=T(l),g((M=t((D=function(e){function t(){for(var t,r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,i(t,"db",M,n(t)),i(t,"light",m,n(t)),t.prizeModeOn=!1,t.almanacModeOn=!1,t.ID=0,t}r(t,e);var a=t.prototype;return a.onLoad=function(){},a.readID=function(e,t){this.ID=e,this.db.playAnimation(d.upgradeFeature()[e].SPRITENAME),this.light.active=t},a.update=function(e){this.prizeModeOn?this.db.color=c.rewardColor:this.almanacModeOn||(this.db.color=new u(255,255,255,255))},t}(p)).prototype,"db",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=t(D.prototype,"light",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=D))||b));a._RF.pop()}}}));

System.register("chunks:///_virtual/Vamporcini.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./CharacterManager.ts","./Square.ts","./NodePools.ts","./SoundRescourses.ts"],(function(t){var o,n,a,i,e,r,s,l,h,b,c,u,d,p,f,m,g,S;return{setters:[function(t){o=t.applyDecoratedDescriptor,n=t.inheritsLoose,a=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){e=t.cclegacy,r=t._decorator,s=t.AudioClip,l=t.Prefab,h=t.Vec2,b=t.dragonBones},function(t){c=t.Plant,u=t.PlantProps},function(t){d=t.Rectangle,p=t.ZombieDamageDetails,f=t.ZombieDamageType},function(t){m=t.Square},function(t){g=t.NodePools},function(t){S=t.sounds}],execute:function(){var y,P,L,w,A,D,C,R,v,E,z,_,j,F,O,k,I,N,x,M,T,V,q,U,B,H,Z,G;e._RF.push({},"e13e99QG7VHJpt/BDlmuh0l","Vamporcini",void 0);var J=r.ccclass,Q=r.property,W=function(t){function o(){for(var o,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(o=t.call.apply(t,[this].concat(a))||this).MaxToughness=6e3,o.DPS=20,o.AttackDuration=6,o.DPSPlantfood=40,o.AttackDurationPlantfood=10,o}return n(o,t),o}(u),K=(y=J("vamporciniSound"),P=Q([s]),L=Q([s]),w=Q([s]),A=Q(s),D=Q(s),C=Q(s),R=Q([s]),y((z=o((E=function(){function t(){a(this,"foodStartSound",z,this),a(this,"absorbStartSound",_,this),a(this,"absorbEndSound",j,this),a(this,"batLoopSound",F,this),a(this,"batFoodLoopSound",O,this),a(this,"fogLoopSound",k,this),a(this,"batIdleSound",I,this)}var o=t.prototype;return o.playAbsorbStart=function(t){void 0===t&&(t=!1),S.playArray(t?this.foodStartSound:this.absorbStartSound,1,.1)},o.playAbsorbEnd=function(){S.playArray(this.absorbEndSound,1,.1)},o.playAbsorbLoop=function(t){S.playOneShot(this.fogLoopSound,1,NaN,.9);var o=t?this.batFoodLoopSound:this.batLoopSound;S.playOneShot(o,1,NaN,.9),S.playArray(this.batIdleSound,1,NaN,.6)},t}()).prototype,"foodStartSound",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=o(E.prototype,"absorbStartSound",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j=o(E.prototype,"absorbEndSound",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=o(E.prototype,"batLoopSound",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=o(E.prototype,"batFoodLoopSound",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=o(E.prototype,"fogLoopSound",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=o(E.prototype,"batIdleSound",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=E))||v);t("VamporciniPlant",(N=J("VamporciniPlant"),x=Q(K),M=Q(l),T=Q(l),V=Q(l),N((B=o((U=function(t){function o(){for(var o,n=arguments.length,e=new Array(n),r=0;r<n;r++)e[r]=arguments[r];return(o=t.call.apply(t,[this].concat(e))||this)._objdataOwn=new W,a(o,"soundRes",B,i(o)),o.attackCD=1/0,a(o,"batParticles",H,i(o)),a(o,"hereParticles",Z,i(o)),a(o,"thereParticles",G,i(o)),o.particles=[],o.absorbStartable=!0,o.absorbing=!1,o.absorbFinished=!1,o.detector=d.createRectangleCenter(new h,0,0),o}n(o,t);var e=o.prototype;return e.onDamaged=function(t,o,n){var a=5,i=this.anmControl.db.armature();for(a=5;a>=0;a--){var e=i.getSlot("SLOT"+(5-a).toString());n<this._objdataOwn.MaxToughness/7*(a+1)?null==e||e._setDisplayIndex(-1):null==e||e._setDisplayIndex(0)}},e.waterable=function(){return!this.absorbing&&this.absorbStartable},e.specialPlantOnEnable=function(){this.absorbing=!1,this.absorbFinished=!1,this.attackCD=1/0,this.anmControl.IdleAnim="Idle",this.anmControl.RandomAnim=["Random"]},e.specialPlantOnSquareChange=function(t,o){this.detector=d.createRectangleNodeCenter(o.node,3*m.SquareWidth,3*m.SquareHeight),this.particles.forEach((function(t){t.node.worldPosition=o.node.worldPosition}))},e.spawnParticles=function(){var t=this,o=g.instantiatePooly(this.thereParticles);o.parent=this.inLane.UpperLane.prjLayer;var n=g.instantiatePooly(this.hereParticles);n.parent=this.inLane.prjLayer;var a=g.instantiatePooly(this.batParticles);a.parent=this.inLane.prjLayer,[o,n,a].forEach((function(o){o.worldPosition=t.inLnC.node.worldPosition;var n=o.getComponent(b.ArmatureDisplay);t.particles.push(n),n.playAnimation("Start",1)}))},e.deleteParticles=function(){this.particles.forEach((function(t){t.playAnimation("Death")})),this.particles=[]},e.absorb=function(t){var o=this;this._dmgScale&&(t*=this._dmgScale);var n=0,a=new p(t,!1,!1,!1,null,f.physicle,!0,!0);this.inLane.zombiePool().concat(this.inLane.UpperLane.zombiePool(),this.inLane.LowerLane.zombiePool()).forEach((function(i){i.bodyRec.judgeCrossRec(o.detector)&&(i.dealDamage(a),n+=t)})),this.inLane.tombPool().concat(this.inLane.UpperLane.tombPool(),this.inLane.LowerLane.tombPool()).forEach((function(i){i.bodyRec.judgeCrossRec(o.detector)&&(i.dealDamage(a),n+=t)})),this.toughness=Math.min(this.toughness+4*n,this._objdataOwn.MaxToughness),this.health=this.toughness,this.onDamaged(0,this.toughness,this.toughness)},e.detectEnemies=function(){var t=this,o=!1;return this.inLane.zombiePool().concat(this.inLane.UpperLane.zombiePool(),this.inLane.LowerLane.zombiePool()).forEach((function(n){o||n.bodyRec.judgeCrossRec(t.detector)&&(o=!0)})),o},e.specialPlantFood=function(t){this.absorbStart()},e.absorbStart=function(){this.deleteParticles(),this.soundRes.playAbsorbStart(this.fooding),this.absorbing=!1,this.absorbStartable=!1,this.attackCD=1/0,this.anmControl.playAnimation(this.fooding?"FoodStart":"AbsorbStart",1),this.damagable=!1,this.anmControl.IdleAnim=this.fooding?"Fooding":"Absorbing",this.anmControl.RandomAnim=[]},e.absorbEnd=function(){this.absorbing=!1,this.damagable=!0,this.deleteParticles(),this.soundRes.playAbsorbEnd(),this.fooding?this.anmControl.playAnimation("FoodEnd",1,.1):this.anmControl.playAnimation("AbsorbEnd",1,.1),this.anmControl.IdleAnim="Idle_Red",this.anmControl.RandomAnim=["Random_Red"],this.deathAnm="Death_Red"},e.animationListener=function(t){"absorbStart"==t.name?(this.absorbing=!0,this.spawnParticles(),this.attackCD=this.fooding?this._objdataOwn.AttackDurationPlantfood:this._objdataOwn.AttackDuration):"foodStart"==t.name?this.anmControl.playAnimation("Fooding",1/0):"foodEnd"==t.name&&this.foodEnd()},e.specialPlantDie=function(t){this.deleteParticles()},e.specialPlantUpdate=function(t,o,n){if(this.absorbStartable&&n>0&&this.detectEnemies()&&this.absorbStart(),this.absorbing){var a=(this.fooding?this._objdataOwn.DPSPlantfood:this._objdataOwn.DPS)*t;this.absorb(a),this.attackCD>0?this.attackCD-=t:this.absorbEnd(),this.soundRes.playAbsorbLoop(this.fooding)}},o}(c)).prototype,"soundRes",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new K}}),H=o(U.prototype,"batParticles",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=o(U.prototype,"hereParticles",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=o(U.prototype,"thereParticles",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=U))||q));e._RF.pop()}}}));

System.register("chunks:///_virtual/WallNut.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./SoundRescourses.ts"],(function(t){var n,a,e,o,r,i,s,l,h,u,c;return{setters:[function(t){n=t.inheritsLoose,a=t.applyDecoratedDescriptor,e=t.initializerDefineProperty,o=t.assertThisInitialized,r=t.createClass},function(t){i=t.cclegacy,s=t._decorator,l=t.AudioClip},function(t){h=t.PlantProps,u=t.Plant},function(t){c=t.sounds}],execute:function(){var d,m,f,p,g,A,b,S,y,v;i._RF.push({},"d56b3xZyPhKQrzCj5jI3A26","WallNut",void 0);var D=s.ccclass,w=s.property,I=t("WallnutProps",function(t){function a(){for(var n,a=arguments.length,e=new Array(a),o=0;o<a;o++)e[o]=arguments[o];return(n=t.call.apply(t,[this].concat(e))||this).ArmorToughness=4e3,n}return n(a,t),a}(h)),P=t("wallnutSound",(d=D("wallnutSound"),m=w(l),d((g=a((p=function(){function t(){e(this,"foodSound",g,this)}return t.prototype.playFoodSound=function(){c.playOneShot(this.foodSound,1,.1)},t}()).prototype,"foodSound",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=p))||f));t("WallNutPlant",(A=D("WallNutPlant"),b=w(P),A((v=a((y=function(t){function a(){for(var n,a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=t.call.apply(t,[this].concat(r))||this)._objdataOwn=new I,n.ArmorSlots=[],n.armorHealth=0,e(n,"soundRes",v,o(n)),n.armorStage=3,n.hurtStage=0,n}n(a,t);var i=a.prototype;return i.specialPlantOnLoad=function(){var t,n=this;null==(t=this.anmControl.db.armature().getSlots())||t.forEach((function(t){t.name.includes("ARMOR")&&n.ArmorSlots.push(t)}))},i.beghouledMatchNow=function(t){var n=t.filter((function(t){var n=t;return n.fooding||n.armorHealth>0}));return this.armorHealth<=0||n.length>=3},i.beghouledMatchSunCountExtra=function(t){var n=0;return t.forEach((function(t){t.armorHealth>0&&(n+=1)})),n},i.normalSmash=function(t){this.fooding||this.invincible||(this.armorHealth>0?(this.armorHealth=0,this.foodable=!0,this.setArmor()):(this.dieOnLnC(),this.die()))},i.replantable=function(){return this.hurtStage>0},i.replant=function(){this.health=this.toughness,this.setAnimation()},i.onArmorDestroy=function(){},i.specialPlantOnEnable=function(){this.foodable=!0,this.hurtStage=1,this.setAnimation(),this.armorStage=3,this.setArmor(),this.armorHealth=0,this.specialWallnutOnEnable()},i.specialWallnutOnEnable=function(){},i.animationListener=function(t){"foodEnd"==t.name?this.foodEnd():"wearArmor"==t.name&&(this.setArmor(0),this.armorHealth=this.armorToughness)},i.waterable=function(){return 0==this.hurtStage},i.specialPlantOnKilled=function(){this.setArmor()},i.setArmor=function(t){void 0===t&&(t=3);var n=this.armorStage;this.armorStage=t;var a=-1;switch(t){case 0:a=0;break;case 1:a=1;break;case 2:a=2;break;default:a=-1,t=3,n<this.armorStage&&this.onArmorDestroy(),this.armorStage=3}this.ArmorSlots.forEach((function(t){t._setDisplayIndex(a)}))},i.dealNormalDamage=function(t,n){if(!this.invincible){if(this.armorHealth>0){this.armorHealth-=t,this.armorHealth!=this.armorToughness&&(this.foodable=!0);var a=2-Math.floor(this.armorHealth/this.armorToughness*3);a<=0&&(a=0),this.setArmor(a)}else this.defaultDealNormalDamage(t,n);return this.health}},i.specialWallnutOnDamaged=function(t,n,a){},i.onDamaged=function(t,n,a){for(var e=1;e<=4;e++)if(a<=this.toughness/4*e){this.setAnimation(4-e);break}this.specialWallnutOnDamaged(t,n,a)},i.specialPlantFood=function(t){this.soundRes.playFoodSound(),this.foodable=!1,this.setAnimation(0),this.anmControl.playAnimation("Food",1)},i.setAnimation=function(t){if(void 0===t&&(t=0),this.hurtStage!=t){this.hurtStage=t;var n,a=this.anmControl;switch(t){case 1:a.IdleAnim="Idle2",a.RandomAnim=[],this.deathAnm="Death2";break;case 2:a.IdleAnim="Idle3",a.RandomAnim=[],this.deathAnm="Death3";break;case 3:a.IdleAnim="Idle4",a.RandomAnim=[],this.deathAnm="Death4";break;default:a.IdleAnim="Idle1",a.RandomAnim=["Rand11","Rand12"],this.deathAnm="Death1",this.hurtStage=0}if(!this.dead)a.playIdle(),this.replantable()&&(null==(n=this.plantInLnC)||n.readIndex())}},r(a,[{key:"armorToughness",get:function(){return this._objdataOwn.ArmorToughness}}]),a}(u)).prototype,"soundRes",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new P}}),S=y))||S));i._RF.pop()}}}));

System.register("chunks:///_virtual/Winnie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NPC.ts","./SoundRescourses.ts","./MultiLanguage.ts"],(function(e){var t,i,a,n,r,s,l,c,o,u,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,a=e.initializerDefineProperty,n=e.assertThisInitialized,r=e.createClass},function(e){s=e.cclegacy,l=e._decorator,c=e.AudioClip},function(e){o=e.NPC},function(e){u=e.sounds},function(e){h=e.MultiLanguage}],execute:function(){var y,p,b,_,d,k,f,S,g,E,m,A,L,B,x;s._RF.push({},"9733aflFEZPBLkPAEs2mPgA","Winnie",void 0);var P=l.ccclass,N=l.property;e("Winnie",(y=P("Winnie"),p=N([c]),b=N([c]),_=N([c]),d=N([c]),k=N([c]),f=N([c]),y((E=t((g=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return t=e.call.apply(e,[this].concat(r))||this,a(t,"Idle0",E,n(t)),a(t,"Idle1",m,n(t)),a(t,"Enter_Brake",A,n(t)),a(t,"Enter_Shake",L,n(t)),a(t,"Exit_Brake",B,n(t)),a(t,"Exit_Shake",x,n(t)),t.Braked=!1,t}i(t,e);var s=t.prototype;return s.specialNPCUpdate=function(e){this.Braked&&(u.playArray(this.Idle0,.7,NaN,.9,!0),u.playArray(this.Idle1,.5,NaN,.9,!0))},s.NPC_OnEnable=function(){this.Braked=!1},s.animationOnComplete=function(){},s.animationListener=function(e){switch(e.name){case"enter":u.playArray(this.Enter);break;case"exit":u.playArray(this.Exit);break;case"enter_brake":u.playArray(this.Enter_Brake),this.Braked=!0;break;case"exit_brake":u.playArray(this.Exit_Brake),this.Braked=!1;break;case"enter_shake":u.playArray(this.Enter_Shake);break;case"exit_shake":u.playArray(this.Exit_Shake)}},s.NPC_ReadAction=function(e){var t=[],i="Say_Small",a=1;if(e.Lines){var n=h.getStringAndGraghicalLength(e.Lines);this.line.string=n.str,(a=Math.min(3,Math.round(n.length/21)))<=0&&(a=1),this.ShowLineBubble()}else this.HideLineBubble();switch(e.Action){case"PLAYFUL":switch(a){case 1:t=this.Playful_Short;break;case 2:t=this.Playful_Med;break;case 3:t=this.Playful_Long}i=this.getSayAnmByLen(a);break;case"SAY":switch(a){case 1:t=this.Say_Short;break;case 2:t=this.Say_Med;break;case 3:t=this.Say_Long}i=this.getSayAnmByLen(a);break;case"TIRED":switch(a){case 1:t=this.Tired_Short;break;case 2:t=this.Tired_Med;break;case 3:t=this.Tired_Long}i=this.getSayAnmByLen(a);break;case"EXCITED":switch(a){case 1:t=this.Excited_Short;break;case 2:t=this.Excited_Med;break;case 3:t=this.Excited_Long}i=this.getSayAnmByLen(a)}this.playSaySounds(t),this.db.playAnimation(i,1),this.UnSkippable=!1,this.WillNextStep=!1},s.getSayAnmByLen=function(e){switch(e){case 1:return"Say_Small";case 2:return"Say_Medium";case 3:return"Say_Long"}},s.NPC_Enter=function(){var e;null==(e=this.audioSource)||e.stop(),this.NPC_Entering=!0,this.WillNextStep=!0,this.db.playAnimation("Enter",1)},s.NPC_Exit=function(){var e;null==(e=this.audioSource)||e.stop(),this.db.playAnimation("Exit",1),this.NPC_Exiting=!0},r(t,[{key:"NPC_Name",get:function(){return"winnie"}}]),t}(o)).prototype,"Idle0",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),m=t(g.prototype,"Idle1",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=t(g.prototype,"Enter_Brake",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=t(g.prototype,"Enter_Shake",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B=t(g.prototype,"Exit_Brake",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),x=t(g.prototype,"Exit_Shake",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),S=g))||S));s._RF.pop()}}}));

System.register("chunks:///_virtual/WinnieIcon.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NPC.ts","./MultiLanguage.ts"],(function(e){var t,i,n,s,a,c;return{setters:[function(e){t=e.inheritsLoose,i=e.createClass},function(e){n=e.cclegacy,s=e._decorator},function(e){a=e.NPC},function(e){c=e.MultiLanguage}],execute:function(){var r;n._RF.push({},"a834eV0U0dHea0qi4cUyZ8D","WinnieIcon",void 0);var o=s.ccclass;s.property,e("WinnieIcon",o("WinnieIcon")(r=function(e){function n(){return e.apply(this,arguments)||this}t(n,e);var s=n.prototype;return s.NPC_ReadAction=function(e){this.node.active=!0;var t=[],i=1;if(e.Lines){var n=c.getStringAndGraghicalLength(e.Lines);this.line.string=n.str,(i=Math.min(3,Math.round(n.length/21)))<=0&&(i=1),this.ShowLineBubble()}else this.HideLineBubble();switch(e.Action){case"PLAYFUL":switch(i){case 1:t=this.Playful_Short;break;case 2:t=this.Playful_Med;break;case 3:t=this.Playful_Long}break;case"SAY":switch(i){case 1:t=this.Say_Short;break;case 2:t=this.Say_Med;break;case 3:t=this.Say_Long}break;case"TIRED":switch(i){case 1:t=this.Tired_Short;break;case 2:t=this.Tired_Med;break;case 3:t=this.Tired_Long}break;case"EXCITED":switch(i){case 1:t=this.Excited_Short;break;case 2:t=this.Excited_Med;break;case 3:t=this.Excited_Long}}this.playSaySounds(t)},s.NPC_WhenOtherIsActioning=function(e,t){this.node.active=!1},s.NPC_Enter=function(){var e;null==(e=this.audioSource)||e.stop(),this.Controller.RunFlow()},s.NPC_Exit=function(){var e;null==(e=this.audioSource)||e.stop(),this.node.active=!1},i(n,[{key:"NPC_Name",get:function(){return"winnieicon"}}]),n}(a))||r);n._RF.pop()}}}));

System.register("chunks:///_virtual/WorldKeyCount.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CurrencyCount.ts","./PlayerProperties.ts","./SoundRescourses.ts"],(function(e){var t,o,n,r,u,i,l,c,s,a;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){u=e.cclegacy,i=e._decorator,l=e.AudioClip},function(e){c=e.CurrencyCount},function(e){s=e.AllPlayerProperties},function(e){a=e.sounds}],execute:function(){var y,d,p,f,h,C;u._RF.push({},"3ffebVViuhJpoUWRlhTN+Yg","WorldKeyCount",void 0);var v=i.ccclass,P=i.property;e("WorldKeyCount",(y=v("WorldKeyCount"),d=P(l),y(((C=function(e){function t(){for(var t,o=arguments.length,u=new Array(o),i=0;i<o;i++)u[i]=arguments[i];return t=e.call.apply(e,[this].concat(u))||this,n(t,"keyCollectSound",h,r(t)),t}o(t,e);var u=t.prototype;return u.start=function(){this.shownValue=isNaN(s.currentPlayer.worldkey)?0:s.currentPlayer.worldkey,this.value=this._shownValue},u.addKeyCount=function(e){this.value+=e,a.playOneShot(this.keyCollectSound,1,.1)},u.decKeyCount=function(e){this.value-=e},u.buyKey=function(){this.addKeyCount(1e4)},u.onValueSet=function(e){s.currentPlayer.worldkey=e,s.savePP()},u.onLoad=function(){t.component=this},t}(c)).component=void 0,h=t((f=C).prototype,"keyCollectSound",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=f))||p));u._RF.pop()}}}));

System.register("chunks:///_virtual/WorldMap.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NodePools.ts","./ArrayGet.ts","./LevelNodes.ts","./Plants.ts","./PlayerProperties.ts","./worldMapScene.ts","./KeyListener.ts","./SoundRescourses.ts","./Droppings.ts","./CardFeatureTotal.ts","./Trophies.ts","./UpgradeTrophy.ts","./MultiLanguage.ts","./AnimationController.ts","./GemCount.ts","./ZombossNodeHead.ts","./NPC_Controller.ts","./StoreCommodity.ts"],(function(e){var t,i,n,o,l,s,a,r,d,p,u,c,h,f,v,y,g,m,_,b,P,D,I,N,w,x,B,k,L,C,A,E,M,z,O,S,H,F,T,U,W,R,X,G,J,K,Z,j,V,Q,Y;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.asyncToGenerator,n=e.regeneratorRuntime,o=e.createClass,l=e.initializerDefineProperty,s=e.inheritsLoose,a=e.assertThisInitialized,r=e.createForOfIteratorHelperLoose},function(e){d=e.cclegacy,p=e._decorator,u=e.Enum,c=e.Prefab,h=e.Node,f=e.dragonBones,v=e.CCFloat,y=e.Vec3,g=e.instantiate,m=e.tween,_=e.Color,b=e.UIOpacity,P=e.view,D=e.Component,I=e.Button,N=e.Vec2,w=e.Label,x=e.HALF_PI},function(e){B=e.NodePools,k=e.instantiatePooly},function(e){L=e.ArrayGet},function(e){C=e.levelNodeRes},function(e){A=e.PlantEnum,E=e.plants},function(e){M=e.WorldMapSceneDisplayEnum,z=e.AllPlayerProperties,O=e.LevelProgress,S=e.PlantObtainProgress,H=e.UpgradeProgress},function(e){F=e.worldMapScene,T=e.WorldmapProps},function(e){U=e.KeyListener},function(e){W=e.sounds},function(e){R=e.droppings},function(e){X=e.CardFeatureTotal},function(e){G=e.UpgradeEnum},function(e){J=e.UpgradeTrophy},function(e){K=e.MultiLanguage},function(e){Z=e.AnimationController},function(e){j=e.GemCount},function(e){V=e.ZombossNodeHead},function(e){Q=e.npc_controller},function(e){Y=e.StoreCommodityProps}],execute:function(){var q,$,ee,te,ie,ne,oe,le,se,ae,re,de,pe,ue,ce,he,fe,ve,ye,ge,me,_e,be,Pe,De,Ie,Ne,we,xe,Be,ke,Le,Ce,Ae,Ee,Me,ze,Oe,Se,He,Fe,Te,Ue,We,Re,Xe,Ge,Je,Ke,Ze,je,Ve,Qe;d._RF.push({},"c950fgYqFxBG7Ic+A1nhlTR","WorldMap",void 0);var Ye=p.ccclass,qe=p.property,$e=function(e){return e[e.level=0]="level",e[e.plant=1]="plant",e[e.giftBox=2]="giftBox",e[e.upgrade=3]="upgrade",e[e.epicPortal=4]="epicPortal",e}($e||{}),et=function(e){return e[e.normal=0]="normal",e[e.minigame=1]="minigame",e[e.gargantuar=2]="gargantuar",e[e.zomboss=3]="zomboss",e}(et||{});u(A),u(G),u(et),u($e);var tt=(q=Ye("LevelIsland"),$=qe({type:$e}),ee=qe({type:G,visible:function(){return this.islandDisplay==$e.upgrade}}),te=qe({type:A,visible:function(){return this.islandDisplay==$e.plant}}),ie=qe({type:et,visible:function(){return this.islandDisplay==$e.level}}),ne=qe({type:c,visible:function(){return this.islandDisplay==$e.level&&this.levelNodeAppearance==et.zomboss}}),oe=qe({type:[String],visible:function(){return this.islandDisplay==$e.level}}),le=qe({type:[String],visible:function(){return this.islandDisplay==$e.epicPortal}}),se=qe(Boolean),ae=qe({type:String,visible:function(){return this.islandDisplay==$e.level}}),re=qe(h),de=qe(h),pe=qe([h]),ue=qe([f.ArmatureDisplay]),q((fe=t((he=function(){function e(){l(this,"islandDisplay",fe,this),l(this,"upgradeDisplayed",ve,this),l(this,"plantDisplayed",ye,this),l(this,"levelNodeAppearance",ge,this),l(this,"zombossHeadPFB",me,this),this.zombossHead=void 0,l(this,"levelJsonsID",_e,this),l(this,"epicLevelJsonsID",be,this),l(this,"affectsMaxX",Pe,this),l(this,"levelNodeName",De,this),l(this,"islandNode",Ie,this),l(this,"nextIsland",Ne,this),l(this,"otherNextIslands",we,this),l(this,"displayedIslandDBs",xe,this),this._islandRank=0,this._inWorldMap=void 0,this._levelNode=void 0,this._levelNodeDB=void 0,this._epicPortalDB=void 0,this._giftbox=void 0,this._unlocked=!1,this._finished=!1,this._willPush=!1,this._plantOnDisplay=void 0,this._upgradeOnDisplay=void 0,this._pathDBs=[],this._plantIcon=void 0,this._commodity=new Y}var t=e.prototype;return t.start=function(){var e=this;if(this.islandDisplay==$e.level&&this._levelNode){var t,i,n,o,l;if(this._levelNodeDB=null==(t=this._levelNode.getChildByName("display"))?void 0:t.getComponent(f.ArmatureDisplay),null==(i=this.levelJsonsID)||!i.length)return;var s="IdleUnopen";switch(z.getLevelProgressByID(this.levelJsonsID.sort((function(e,t){return z.getLevelProgressByID(t).progress-z.getLevelProgressByID(e).progress}))[0]).progress){case O.unlocked_neverPlayed:case O.unlocked_played:s="IdleUnfinish",this._unlocked=!0;break;case O.finished:s="IdleFinished",this._unlocked=!0,this._finished=!0;break;case O.unlocked_willbeFinished:this._willPush=!0,s="IdleUnfinish"}null==(n=this._levelNodeDB)||n.playAnimation(s,1/0);var a=E.plantCommodities.find((function(t){return t.UnlockLevel&&-1!=e.levelJsonsID.indexOf(t.UnlockLevel)}));if(this._commodity=a,a&&!this._finished&&!this._willPush){var r=E.getPlantEnumByCodename(a.CommodityName);if(z.getPlantProgressByID(r).progress<=0){var d=E.getPlantIcon(this._levelNode);this._plantIcon=d,d.node.position=new y(0,280,0),d.switchPlant(r),d.grey=!this._unlocked}}null==this||null==(o=this._levelNode)||null==(o=o.getChildByName("listener"))||o.on(h.EventType.TOUCH_END,(function(){var t;(null==Q||null==(t=Q.CurrentFlow)?void 0:t.length)>0||(e._unlocked||e._finished)&&(U.goToLevel(e.levelJsonsID),W.playLevelEnter())})),null==(l=this.zombossHead)||l.readLevelProgress(this.levelJsonsID)}else if(this._plantOnDisplay)this._finished=z.getPlantProgressByID(this.plantDisplayed).progress>=S.obtained;else if(this._upgradeOnDisplay)this._finished=z.getUpgradeProgressByID(this.upgradeDisplayed).progress>=H.obtained,this._upgradeOnDisplay.readID(this.upgradeDisplayed,this._finished);else if(this._epicPortalDB){var p;this._unlocked=this._finished=this.formalIsland._finished,this._finished?this._epicPortalDB.playAnimation("Idle",1/0):this._epicPortalDB.playAnimation("Idle_Locked",1/0),null==this||null==(p=this._epicPortalDB)||null==(p=p.node.parent)||null==(p=p.getChildByName("listener"))||p.on(h.EventType.TOUCH_END,(function(){var t;(null==Q||null==(t=Q.CurrentFlow)?void 0:t.length)>0||(e._unlocked||e._finished)&&(e.epicLevelJsonsID.forEach((function(e){var t=z.getLevelProgressByID(e);t.progress<=0&&(t.progress=O.unlocked_neverPlayed)})),F.component.switchWM(M.epic,L.getRandom(e.epicLevelJsonsID)),W.playWorldMapStart())}))}else this._giftbox?(this._unlocked=this._finished=this.formalIsland&&this.formalIsland._finished,this._giftbox.playAnimation(this._unlocked||this._finished?"Finished":"Idle",1/0)):this._unlocked=this._finished=this.formalIsland._finished;this._pathDBs.forEach((function(t){e._finished?t.playAnimation("Idle",1/0):t.playAnimation("Idle_Thin",1/0)})),this.displayedIslandDBs.forEach((function(t){var i,n=null==t||null==(i=t.armature())||null==(i=i.animation)||null==(i=i.lastAnimationState)?void 0:i.name;(e._finished||e._willPush)&&"Idle_Unlock"!=n?t.playAnimation("Idle_Finished"):e._unlocked?t.playAnimation("Idle_Unlock"):"Idle_Unlock"!=n&&t.playAnimation("Idle_Locked")}))},t.laterStart=function(){var e=this;this._epicPortalDB&&this._epicPortalDB.playAnimation(this._unlocked||this._finished?"Idle":"Idle_Locked",1/0),this._finished?this._allNextIslands.forEach((function(t){var i,n=null==(i=e._inWorldMap)?void 0:i.getIslandByIslandNode(t);!n||n._unlocked||n._finished||n.unlock()})):this._willPush&&this.pushPath()},t.showPlant=function(){var e=i(n().mark((function e(t){var i,o,l,s,a,r,d,p,u;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=null==(i=this._plantOnDisplay)?void 0:i.getSiblingIndex(),null==(o=this._plantOnDisplay)||o.destroy(),!t){e.next=16;break}(a=g(R.PlantSeedPacket)).parent=this._inWorldMap.levelNodeLayer,isNaN(l)||a.setSiblingIndex(l),a.worldPosition=this.islandNode.worldPosition.clone().add(new y(0,30,0)),a.scale=new y(.4,.4,1),(r=a.getComponent(X)).cardGrouper(this.plantDisplayed),r.ca.suncostShown=!1,r.ca.almanacModeOn=!0,null==r||null==(s=r.getComponent(I))||s.destroy(),this._plantOnDisplay=a,e.next=27;break;case 16:return e.t0=B,e.next=19,E.getPlantsInCard(this.plantDisplayed);case 19:e.t1=e.sent.plantDIS,(p=e.t0.instantiatePooly.call(e.t0,e.t1)).parent=this._inWorldMap.levelNodeLayer,p.worldPosition=this.islandNode.worldPosition,null==(u=p.getComponent(Z))||null==(d=u.db)||null==(d=d.color)||d.set(255,255,255,255),null==u||u.readCostume(this.plantDisplayed),this._plantOnDisplay=p;case 27:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.unlock=function(){var e=this;if(!this._unlocked){if(this._unlocked=!0,this._levelNodeDB){var t,o,l;this.levelJsonsID.forEach((function(e){var t=z.getLevelProgressByID(e);t.progress<=0&&(t.progress=O.unlocked_neverPlayed)})),this._levelNodeDB.playAnimation("Open"),this._finished||this._willPush||W.playLevelNodeReveal(this.levelNodeAppearance);var s=z.getTutorialProps();if(this._plantIcon)if(this._plantIcon.grey=!1,Q.HasFlow()||s.premium_light_up)U.gameTipString(K.getDirectQuote("[WORLDMAP_PREMIUM_PLANT_UNLOCK]").replace("<PLANTNAME>",K.getString(E.getPlantFeature(this._plantIcon.cf.ID).NAME)));else{s.premium_light_up=!0;var a=Q.Getflow("PREMIUM_LIGHT_UP");Q.SetFlow(a)}if(null==(t=this.zombossHead)||t.readLevelProgress(this.levelJsonsID),null==(o=this.zombossHead)||o.playOn(),null==(l=this._inWorldMap)||l.moveZombossHead(),!Q.HasFlow()&&s.almanac_intro&&!s.store_open){s.store_open=!0;var r=Q.Getflow("STORE_LEADER");Q.SetFlow(r)}z.savePP()}else{if(this._plantOnDisplay){z.getPlantProgressByID(this.plantDisplayed).progress=S.obtained;var d=z.getTutorialProps();if(!Q.HasFlow()&&!d.almanac_open){d.almanac_open=!0;var p=Q.Getflow("ALMANAC_LEADER");Q.SetFlow(p)}z.savePP(),this.showPlant(!1),W.playPlantNodeUnlock()}else this._upgradeOnDisplay?(z.getUpgradeProgressByID(this.upgradeDisplayed).progress=H.obtained,z.savePP(),this._upgradeOnDisplay.readID(this._upgradeOnDisplay.ID,!0),W.playPlantNodeUnlock()):this._epicPortalDB?(this._epicPortalDB.playAnimation("Unlock",1/0),W.playPortalStart()):this._giftbox&&(this._giftbox.playAnimation("Unlock",1/0),this._giftbox.once(f.EventObject.FRAME_EVENT,i(n().mark((function e(t){var i,o,l;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("open"!=t.name){e.next=18;break}if(W.playGiftboxOpenSound(),!(i=L.getRandom(z.getAvailablePlantCostumeList()))){e.next=15;break}return z.unlockPlantCostume(i),e.t0=g,e.next=8,E.getPlantsInCard(i.plantID,!0);case 8:e.t1=e.sent.plantDIS,o=(0,e.t0)(e.t1).getComponent(Z),U.gameTipString(K.getDirectQuote("[PLANTCOSTUME_UNLOCK_CONGRATE]").replace("<PLANTNAME>",K.getString(E.getPlantFeature(i.plantID).NAME)),5,o.node),o.node.position=new y(-380,-50,0),o.switchCostume(i.costume),e.next=18;break;case 15:10,null==(l=j.component)||l.addGemCount(10),U.gameTipString(K.getDirectQuote("[GEM_OBTAIN_CONGRATE]").replace("<GEMCOUNT>",K.getNumberWithThousandComma(10)));case 18:case"end":return e.stop()}}),e)}))),this));this.pushPath()}this.displayedIslandDBs.forEach((function(t){e._finished||e._willPush?t.playAnimation("Idle_Finished"):e._unlocked?t.playAnimation("Idle_Unlock"):t.playAnimation("Idle_Locked")}))}},t.pushPath=function(){var e=this;if(!this._finished&&this._inWorldMap){this._finished=!0;var t=0;if(this._levelNodeDB){var i,n=z.getTutorialProps();if(!Q.HasFlow()&&!n.premium_unlock&&this._commodity){n.premium_unlock=!0;var o=Q.Getflow("PREMIUM_UNLOCK");Q.SetFlow(o)}W.playLevelNodeFinish(this.levelNodeAppearance),this.levelJsonsID.forEach((function(e){z.getLevelProgressByID(e).progress=O.finished})),z.savePP(),this._levelNodeDB.playAnimation("Finish",1/0),t=.5,null==(i=this.zombossHead)||i.readLevelProgress(this.levelJsonsID)}this.displayedIslandDBs.forEach((function(e){e.playAnimation("Idle_Finished")})),this._pathDBs.length&&this._inWorldMap.scheduleOnce((function(){W.playLevelPathPush(),e._pathDBs.forEach((function(e){e.playAnimation("Push",1/0)}))}),t),this._allNextIslands.forEach((function(i){var n=e._inWorldMap.getIslandByIslandNode(i);n&&e._inWorldMap.scheduleOnce((function(){e._inWorldMap.scheduleOnce((function(){n.unlock()}),.5)}),t)}))}},o(e,[{key:"_allNextIslands",get:function(){return this.otherNextIslands.concat(this.nextIsland?[this.nextIsland]:[])}},{key:"formalIsland",get:function(){var e,t=this;return null==(e=this._inWorldMap)||null==(e=e.levelIslands)?void 0:e.find((function(e){return-1!=e._allNextIslands.indexOf(t.islandNode)}))}},{key:"_empty",get:function(){return!this._plantOnDisplay&&!this._levelNode}}]),e}()).prototype,"islandDisplay",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return $e.level}}),ve=t(he.prototype,"upgradeDisplayed",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return G.upgrade_starting_sun_lvl1}}),ye=t(he.prototype,"plantDisplayed",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return A.Peashooter}}),ge=t(he.prototype,"levelNodeAppearance",[ie],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return et.normal}}),me=t(he.prototype,"zombossHeadPFB",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_e=t(he.prototype,"levelJsonsID",[oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),be=t(he.prototype,"epicLevelJsonsID",[le],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Pe=t(he.prototype,"affectsMaxX",[se],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),De=t(he.prototype,"levelNodeName",[ae],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Ie=t(he.prototype,"islandNode",[re],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ne=t(he.prototype,"nextIsland",[de],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),we=t(he.prototype,"otherNextIslands",[pe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),xe=t(he.prototype,"displayedIslandDBs",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ce=he))||ce),it=(Be=Ye("Farlands"),ke=qe(h),Le=qe(v),Be((Ee=t((Ae=function(){l(this,"islandNode",Ee,this),l(this,"offsetScale",Me,this),this.orgPosition=new y(0,0,0)}).prototype,"islandNode",[ke],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Me=t(Ae.prototype,"offsetScale",[Le],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Ce=Ae))||Ce);u(M);e("WorldMap",(ze=Ye("WorldMap"),Oe=qe([tt]),Se=qe(Boolean),He=qe(h),Fe=qe(h),Te=qe([String]),Ue=qe([it]),We=qe({type:M}),ze((Ge=t((Xe=function(e){function t(){for(var t,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return t=e.call.apply(e,[this].concat(n))||this,l(t,"levelIslands",Ge,a(t)),l(t,"atNight",Je,a(t)),t.levelNodeLayer=void 0,t.levelPathLayer=void 0,t.MapProps=new T,l(t,"islandParent",Ke,a(t)),l(t,"levelParent",Ze,a(t)),t.levelNodes=[],l(t,"startingLevels",je,a(t)),l(t,"farIslands",Ve,a(t)),t._mapX=0,t.maxMapX=0,t.velocity=0,l(t,"displayEnum",Qe,a(t)),t.dbs=[],t.busy=!1,t}s(t,e);var d=t.prototype;return d.onLoad=function(){this.dbs=this.getComponentsInChildren(f.ArmatureDisplay),this.levelNodes=[];var e=this.node.getChildByName("Levels");this.levelNodeLayer=e.getChildByName("Nodes"),this.levelPathLayer=e.getChildByName("Paths"),this.farIslands.forEach((function(e){e.orgPosition=e.islandNode.position.clone()}))},d.getIslandByIslandNode=function(e){return this.levelIslands.find((function(t){return t.islandNode==e}))},d.onDisable=function(){z.savePP()},d.moveBy=function(e,t){void 0===t&&(t=.1);var i=this.mapX+e;i>0&&(i=0),i<-this.maxMapX&&(i=-this.maxMapX);t>0?m(this).to(t,{mapX:i}).start():this.mapX=i},d.moveLefter=function(){this.velocity<0&&(this.velocity=0),this.velocity+=20},d.moveRighter=function(){this.velocity>0&&(this.velocity=0),this.velocity-=20},d.onEnable=function(){var e=this;this.dbs.forEach((function(t){var i=t.color.clone();t.color=new _(i.r,i.g,i.b,e.node.parent.getComponent(b).opacity)})),this.velocity=0,this.mapX=F.getWMXByDisplayEnum(this.displayEnum),F.component&&(F.component.atNight=this.atNight)},d.setIslandActive=function(){var e=P.getVisibleSizeInPixel().width,t=e/2,i=1.5*e,n=t-i,o=t+i;this.islandParent.children.forEach((function(e){e.active=e.worldPosition.x>n&&e.worldPosition.x<o})),this.levelIslands.forEach((function(e){if(e._levelNodeDB){var t=e._levelNodeDB.node;t.active=t.worldPosition.x>n&&t.worldPosition.x<o,e.zombossHead&&(e.zombossHead.node.active=t.active&&!e.zombossHead.hidden)}if(e._giftbox){var i=e._giftbox.node;i.active=i.worldPosition.x>n&&i.worldPosition.x<o}if(e._epicPortalDB){var l=e._epicPortalDB.node;l.active=l.worldPosition.x>n&&l.worldPosition.x<o}}))},d.update=function(e){var t=this;this.dbs.forEach((function(e){var i=e.color.clone();e.color=new _(i.r,i.g,i.b,t.node.parent.getComponent(b).opacity)})),0!=this.velocity&&(this.moveBy(this.velocity,0),this.velocity/=1.05),this.setIslandActive()},d.MouseWheel=function(e){var t=.2*e.getScrollY();this.velocity=0,this.moveBy(t,0)},d.TouchMove=function(e){var t=e.getDeltaX()*this.node.worldScale.x;this.velocity=t,this.moveBy(t,0)},d.moveZombossHead=function(){var e=this.levelIslands.filter((function(e){return!!e.zombossHead})).sort((function(e,t){return t.islandNode.position.x-e.islandNode.position.x})),t=e.find((function(e){return e._unlocked||e._willPush||e._finished}));e.forEach((function(e){e.zombossHead.hidden||e==t?e.zombossHead.hidden&&e==t&&(e.zombossHead.hidden=!1,e.zombossHead.playOn()):(e.zombossHead.hidden=!0,e.zombossHead.playOff())}))},d.init=function(){var e=i(n().mark((function e(){var t,i,o,l,s,a,d,p=this;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.busy=!0,this.dbs.forEach((function(e){var t=e.color.clone();e.color=new _(t.r,t.g,t.b,p.node.parent.getComponent(b).opacity)})),t=n().mark((function e(){var t,i,l,s,a,r,d,u,c,h,v;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=o.value,i=t.islandNode.worldPosition,t._inWorldMap=p,t.islandDisplay!=$e.level){e.next=23;break}l=C.normalNode(),e.t0=t.levelNodeAppearance,e.next=e.t0===et.zomboss?8:e.t0===et.gargantuar?10:e.t0===et.minigame?12:14;break;case 8:s=g(t.zombossHeadPFB?t.zombossHeadPFB:C.zombossHead()),t.zombossHead=s.getComponent(V);case 10:return l=C.gargantuarNode(),e.abrupt("break",14);case 12:return l=C.minigameNode(),e.abrupt("break",14);case 14:(a=B.instantiatePooly(l)).parent=p.levelNodeLayer,a.worldPosition=i,a.getChildByName("title").getComponent(w).string=t.levelNodeName,p.levelNodes.push(a),t._levelNode=a,t.zombossHead&&(t.zombossHead.node.parent=a),e.next=30;break;case 23:if(t.islandDisplay!=$e.plant){e.next=29;break}return r=z.getPlantProgressByID(t.plantDisplayed).progress<S.obtained,e.next=27,t.showPlant(r);case 27:e.next=30;break;case 29:t.islandDisplay==$e.upgrade?((d=k(R.UpgradeTrophy)).parent=p.levelNodeLayer,d.worldPosition=i,d.scale=new y(.4,.4,1),t._upgradeOnDisplay=d.getComponent(J)):t.islandDisplay==$e.epicPortal?((u=k(C.epicPortal())).parent=p.levelNodeLayer,u.worldPosition=i,u.scale=new y(.4,.4,1),t._epicPortalDB=u.getChildByName("display").getComponent(f.ArmatureDisplay)):t.islandDisplay==$e.giftBox&&((c=k(C.giftbox())).parent=p.levelNodeLayer,c.worldPosition=i,c.scale=new y(.4,.4,1),t._giftbox=c.getComponent(f.ArmatureDisplay));case 30:h=[],t._allNextIslands.forEach((function(e){var i,n=k(C.path()),o=new N(e.worldPosition.x-t.islandNode.worldPosition.x,e.worldPosition.y-t.islandNode.worldPosition.y),l=o.length(),s=90*Math.atan2(o.y,o.x)/x;n.parent=p.levelPathLayer,n.worldPosition=t.islandNode.worldPosition,n.worldScale=new y(l/330,n.worldScale.y,1),n.angle=s;var a=null==(i=n.getChildByName("display"))?void 0:i.getComponent(f.ArmatureDisplay);a&&h.push(a)})),t._pathDBs=h,t.start(),v=i.clone().add(p.islandParent.worldPosition.clone().negative()).x,t.affectsMaxX&&v>p.maxMapX&&(p.maxMapX=v);case 36:case"end":return e.stop()}}),e)})),i=r(this.levelIslands);case 4:if((o=i()).done){e.next=8;break}return e.delegateYield(t(),"t0",6);case 6:e.next=4;break;case 8:for(l=r(this.levelIslands.filter((function(e){return e.levelJsonsID.some((function(e){return-1!=p.startingLevels.indexOf(e)}))&&!e._unlocked})));!(s=l()).done;)s.value.unlock();return this.setIslandActive(),this.moveZombossHead(),e.next=13,L.sleep(2);case 13:for(a=r(this.levelIslands);!(d=a()).done;)d.value.laterStart();this.judgeNarrative(),this.busy=!1;case 16:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),d.start=function(){},d.lateUpdate=function(e){this.levelNodeLayer.children.sort((function(e,t){return e.position.y-t.position.y})).forEach((function(e,t){e.setSiblingIndex(0)}))},d.judgeNarrative=function(){var e=z.getWorldProgressByID(this.displayEnum);if(!(Q.HasFlow()||null!=e&&e.viewed)){e.viewed=!0;var t=Q.Getflow(this.MapProps.INTRO);(null==t?void 0:t.length)>0&&Q.SetFlow(t)}},o(t,[{key:"mapX",get:function(){return this._mapX},set:function(e){this.levelParent.position=new y(e,this.levelParent.position.y,0),this.islandParent.position=new y(e,this.islandParent.position.y,0),this.farIslands.forEach((function(t){t.islandNode.position=new y(e*t.offsetScale+t.orgPosition.x,t.orgPosition.y,0)})),this._mapX=e,F.setWMXByDisplayEnum(this.displayEnum,this._mapX)}}]),t}(D)).prototype,"levelIslands",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Je=t(Xe.prototype,"atNight",[Se],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ke=t(Xe.prototype,"islandParent",[He],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ze=t(Xe.prototype,"levelParent",[Fe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),je=t(Xe.prototype,"startingLevels",[Te],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ve=t(Xe.prototype,"farIslands",[Ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Qe=t(Xe.prototype,"displayEnum",[We],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return M.egypt}}),Re=Xe))||Re));d._RF.pop()}}}));

System.register("chunks:///_virtual/WorldMapChooser.ts",["./rollupPluginModLoBabelHelpers.js","cc","./worldMapScene.ts","./PlayerProperties.ts","./SoundRescourses.ts","./MultiLanguage.ts","./Materials.ts","./ParticleSelfdestroy.ts","./NodePools.ts"],(function(e){var t,n,o,i,r,a,l,s,c,u,d,h,p,b,f,g,y,m,w,P,k,v,x,M,S,_,E,I;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized,r=e.createClass},function(e){a=e.cclegacy,l=e._decorator,s=e.Enum,c=e.Node,u=e.AudioClip,d=e.Label,h=e.Prefab,p=e.Vec3,b=e.dragonBones,f=e.Color,g=e.UIOpacity,y=e.Input,m=e.instantiate,w=e.tween,P=e.Component},function(e){k=e.worldMapScene},function(e){v=e.WorldMapSceneDisplayEnum,x=e.AllPlayerProperties},function(e){M=e.sounds},function(e){S=e.MultiLanguage},function(e){_=e.materialRes},function(e){E=e.ParticleSelfdestroy},function(e){I=e.instantiatePooly}],execute:function(){var C,D,W,z,T,B,A,L,N,O,F,U,R,j,H,X,q,K,Q,V,Y,Z,G,J,$,ee,te,ne,oe,ie,re,ae,le,se,ce;a._RF.push({},"0afd7/QFy1OXrADNpaZkrno","WorldMapChooser",void 0);var ue=l.ccclass,de=l.property;s(v);var he=e("WorldMapIcon",(C=ue("WorldMapIcon"),D=de(c),W=de(Boolean),z=de({type:v,visible:function(){return this.enterable}}),T=de(Boolean),C((L=t((A=function(){function e(){o(this,"node",L,this),o(this,"enterable",N,this),o(this,"enterTo",O,this),o(this,"atNight",F,this),this._lockPSD=void 0,this._unlocked=!1,this.strings={name:"",description:"",win:""},this.x=0}var t=e.prototype;return t.judgeIsUnlocked=function(e){var t;if(void 0===e&&(e=null),this._unlocked=x.getWorldProgressByID(this.enterTo).unlocked,this._unlocked&&this._lockPSD)null==(t=this._lockPSD)||null==(t=t.db)||t.playAnimation("Die",1/0),this._lockPSD=null;else if(!this._unlocked&&!this._lockPSD&&e){var n=I(e);n.parent=this.node,n.position=new p(0,120,0),this._lockPSD=n.getComponent(E)}var o=this.node.getComponent(b.ArmatureDisplay);this.enterable&&o&&(o.color=this._unlocked?new f(255,255,255,255):new f(150,150,150,255),o.customMaterial=this._unlocked?null:_.greyMaterial)},t.getName=function(){var e="Default",t="tutorial";switch(this.enterTo){case v.egypt:e="Egypt",t="egypt";break;case v.pirate:e="Pirate",t="pirate";break;case v.cowboy:e="Cowboy",t="cowboy";break;case v.future:e="Future",t="future";break;case v.dark:e="Dark",t="dark";break;case v.beach:e="Beach",t="beach";break;case v.iceage:e="Iceage",t="iceage";break;case v.lostcity:e="Lostcity",t="lostcity";break;case v.eighties:e="Eighties",t="eighties";break;case v.dino:e="Dino",t="dino";break;case v.modern:e="Modern",t="modern";break;case v.kongfu:e="Kongfu",t="kongfu"}var n=S.getWorldMapLyrics(e),o={name:S.getString(n.Name),description:S.getString(n.Description),win:t};return this.strings=o,o},e}()).prototype,"node",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=t(A.prototype,"enterable",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),O=t(A.prototype,"enterTo",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return v.egypt}}),F=t(A.prototype,"atNight",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),B=A))||B));s(v);e("WorldMapChooser",(U=ue("WorldMapChooser"),R=de(c),j=de(c),H=de(c),X=de([he]),q=de(u),K=de(u),Q=de(d),V=de({type:[v]}),Y=de(h),Z=de(Number),G=de(c),U((ee=t(($=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,o(t,"mid",ee,i(t)),o(t,"iconParent",te,i(t)),o(t,"labelParent",ne,i(t)),o(t,"icons",oe,i(t)),o(t,"touchStartSound",ie,i(t)),o(t,"touchEndSound",re,i(t)),o(t,"name0",ae,i(t)),o(t,"StartingWorlds",le,i(t)),o(t,"lockPF",se,i(t)),t._currentI=0,t.xMax=0,t._x=0,t.dbs=[],o(t,"wheelListener",ce,i(t)),t.entering=!1,t}n(t,e);var a=t.prototype;return a.onMouseWheel=function(e){var t=e.getScrollY()>0?-1:1;this.moveBy(t)},a.unlockWorld=function(e){k.setWMXByDisplayEnum(e,0),x.unlockWorld(e)},a.moveTo=function(e){void 0===e&&(e=0),this.currentI=e},a.moveBy=function(e){void 0===e&&(e=0),this.moveTo(this.currentI+e)},a.update=function(e){var t=this;this.dbs.forEach((function(e){var n=e.color.clone();e.color=new f(n.r,n.g,n.b,t.node.parent.getComponent(g).opacity)})),this.icons.forEach((function(e){var n=e.node.worldPosition.x-t.mid.worldPosition.x,o=Math.max(1-Math.abs(n)/600,.3);e.node.scale=new p(o,o,o)})),this.labelParent.getComponentsInChildren(g).forEach((function(e){var n=Math.abs(e.node.worldPosition.x-t.mid.worldPosition.x);e.opacity=255-n/150*255}))},a.onEnable=function(){var e=this;this.StartingWorlds.forEach((function(t){x.getWorldProgressByID(t).unlocked||e.unlockWorld(t)})),this.entering=!1,this.dbs.forEach((function(t){var n=t.color.clone();t.color=new f(n.r,n.g,n.b,e.node.parent.getComponent(g).opacity)})),this.icons.forEach((function(t){var n=t.node.worldPosition.x-e.mid.worldPosition.x,o=Math.max(1-Math.abs(n)/600,.3);t.node.scale=new p(o,o,o),t.judgeIsUnlocked(e.lockPF)})),this.labelParent.getComponentsInChildren(g).forEach((function(t){var n=Math.abs(t.node.worldPosition.x-e.mid.worldPosition.x);t.opacity=255-n/150*255})),this.currentI=x.getWorldProps().worldChooserPos},a.onLoad=function(){var e=this;this.dbs=this.getComponentsInChildren(b.ArmatureDisplay),this.currentI=0,this.wheelListener.on(y.EventType.MOUSE_WHEEL,this.onMouseWheel,this),this.icons.forEach((function(t,n){var o=t.node.worldPosition.x-e.mid.worldPosition.x;t.x=o,e.xMax<=o&&(e.xMax=o),t.node.on(c.EventType.TOUCH_START,(function(){var o=Math.abs(t.node.worldPosition.x-e.mid.worldPosition.x);e.entering||(t.enterable&&o<5?M.playOneShot(e.touchStartSound):o>=5&&(e.currentI=n))}),e),t.node.on(c.EventType.TOUCH_END,(function(){var n,o=Math.abs(t.node.worldPosition.x-e.mid.worldPosition.x);if(!e.entering){var i=+(null==(n=x.currentPlayer)?void 0:n.worldkey)>0;t.enterable&&o<5&&(t._unlocked?(k.component.switchWM(t.enterTo),e.entering=!0,M.playOneShot(e.touchEndSound),M.playWorldEnterWind()):k.component.showWorldDescription(t,i))}}),e)})),this.icons.forEach((function(t,n){if(t.enterable){var o=t.getName().name,i=e.name0;n>0&&((i=m(e.name0.node).getComponent(d)).node.parent=e.name0.node.parent),i.node.position=new p(t.node.position.x,e.name0.node.position.y,0),i.string=o}}))},r(t,[{key:"distanceBetweenIcons",get:function(){return this.iconParent.children[1]?this.iconParent.children[1].position.x:0},set:function(e){this.iconParent.children.forEach((function(t,n){t.position.set(n*e,t.position.y,t.position.z)}))}},{key:"currentI",get:function(){return this._currentI},set:function(e){var t=this;if(e>=t.icons.length&&(e=t.icons.length-1),e<0&&(e=0),this._currentI!=e){w(t).to(.2,{x:t.icons[e].x},{easing:"quadOut"}).start();var n=t.icons[this._currentI].enterable,o=t.icons[e].enterable,i=t.icons[e].atNight;this._currentI=e,x.getWorldProps().worldChooserPos=e,n&&!o?this.mid.getComponent(b.ArmatureDisplay).playAnimation("Fade"):!n&&o&&this.mid.getComponent(b.ArmatureDisplay).playAnimation("Start"),k.component&&(k.component.atNight=i),x.savePP()}}},{key:"x",get:function(){return this._x},set:function(e){e<0&&(e=0),e>this.xMax&&(e=this.xMax),this.iconParent.worldPosition=this.mid.worldPosition.clone().add(new p(-e,0,0)),this.labelParent.worldPosition=this.mid.worldPosition.clone().add(new p(-e,0,0)),this._x=e}}]),t}(P)).prototype,"mid",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),te=t($.prototype,"iconParent",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ne=t($.prototype,"labelParent",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),oe=t($.prototype,"icons",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ie=t($.prototype,"touchStartSound",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),re=t($.prototype,"touchEndSound",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ae=t($.prototype,"name0",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),le=t($.prototype,"StartingWorlds",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),se=t($.prototype,"lockPF",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),t($.prototype,"distanceBetweenIcons",[Z],Object.getOwnPropertyDescriptor($.prototype,"distanceBetweenIcons"),$.prototype),ce=t($.prototype,"wheelListener",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=$))||J));a._RF.pop()}}}));

System.register("chunks:///_virtual/WorldMaps.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var r,i,t,l,a,o,n,u;return{setters:[function(e){r=e.applyDecoratedDescriptor,i=e.inheritsLoose,t=e.initializerDefineProperty,l=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,n=e.Prefab,u=e.Component}],execute:function(){var p,c,b,s,M,W,y,f,g,w,h,m,z,d,v,C,D,P,F;a._RF.push({},"5c9aeSHwwpMsYe+LVqE6pgO","WorldMaps",void 0);var _=o.ccclass,k=o.property;e("WorldMaps",(p=_("WorldMaps"),c=k(n),b=k(n),s=k(n),M=k(n),W=k(n),y=k(n),f=k(n),g=k(n),p((m=r((h=function(e){function r(){for(var r,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=e.call.apply(e,[this].concat(a))||this,t(r,"WMChooser",m,l(r)),t(r,"EgyptWM",z,l(r)),t(r,"PirateWM",d,l(r)),t(r,"CowboyWM",v,l(r)),t(r,"FutureWM",C,l(r)),t(r,"DarkWM",D,l(r)),t(r,"BeachWM",P,l(r)),t(r,"IceageWM",F,l(r)),r}return i(r,e),r}(u)).prototype,"WMChooser",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=r(h.prototype,"EgyptWM",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=r(h.prototype,"PirateWM",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=r(h.prototype,"CowboyWM",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=r(h.prototype,"FutureWM",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=r(h.prototype,"DarkWM",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=r(h.prototype,"BeachWM",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=r(h.prototype,"IceageWM",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=h))||w));a._RF.pop()}}}));

System.register("chunks:///_virtual/worldMapScene.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SoundsController.ts","./SoundManager.ts","./PlayerProperties.ts","./UI.ts","./KeyListener.ts","./WorldMap.ts","./WorldUnlockWindow.ts","./NPC_Controller.ts","./Particles.ts"],(function(t){var e,n,o,i,r,l,s,a,u,c,h,p,d,w,f,g,m,y,W,M,S,b,v,C,P,B,A,E,T,D,z,k,N,_,L,x,O;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized,r=t.asyncToGenerator,l=t.regeneratorRuntime,s=t.createClass},function(t){a=t.cclegacy,u=t._decorator,c=t.Button,h=t.UIOpacity,p=t.dragonBones,d=t.Color,w=t.Node,f=t.JsonAsset,g=t.instantiate,m=t.Vec3,y=t.AudioSource,W=t.AudioClip,M=t.input,S=t.Input,b=t.KeyCode,v=t.resources,C=t.assetManager,P=t.tween,B=t.Component},function(t){A=t.MusicController,E=t.SoundFXController},function(t){T=t.MusicEnum},function(t){D=t.AllPlayerProperties,z=t.WorldMapSceneDisplayEnum},function(t){k=t.setExitToMapScene},function(t){N=t.KeyListener},function(t){_=t.WorldMap},function(t){L=t.WorldUnlockWindow},function(t){x=t.npc_controller},function(t){O=t.particle}],execute:function(){var U,F,I,G,K,R,X,J,V,H,j,Y,Z,q,Q,$,tt,et,nt,ot,it,rt,lt,st,at,ut,ct,ht,pt,dt,wt,ft,gt,mt,yt,Wt;a._RF.push({},"27653LZNN5NYJNVVGpF/xdf","worldMapScene",void 0);var Mt=u.ccclass,St=u.property;t("WorldmapProps",(function(){this.RESNAME="Chooser",this.INTRO=""})),t("worldMapScene",(U=Mt("worldMapScene"),F=St(c),I=St(c),G=St(c),K=St(c),R=St(h),X=St(h),J=St(h),V=St(h),H=St([p.ArmatureDisplay]),j=St(d),Y=St(d),Z=St({type:L}),q=St(w),Q=St(w),$=St(f),tt=St(w),U(((Wt=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return e=t.call.apply(t,[this].concat(r))||this,o(e,"zengardenButton",ot,i(e)),e.almanacPointed=!1,o(e,"almanacButton",it,i(e)),e.storePointed=!1,o(e,"storeButton",rt,i(e)),o(e,"exitButton",lt,i(e)),o(e,"WMSlot",st,i(e)),o(e,"WMChooserSlot",at,i(e)),o(e,"KeyShower",ut,i(e)),o(e,"BGUpper",ct,i(e)),o(e,"bgdb",ht,i(e)),o(e,"DayColor",pt,i(e)),o(e,"NightColor",dt,i(e)),e._atNight=!1,o(e,"unlockWindow",wt,i(e)),o(e,"mouseListener",ft,i(e)),o(e,"wheelListener",gt,i(e)),e.audioSource=void 0,o(e,"worldmapFeaturesJson",mt,i(e)),e.wmfs=[],e.currentWMPrefab=null,e.wmSwitchingTween=null,e.currentWM=void 0,e.settingsShown=void 0,o(e,"settingWindow",yt,i(e)),e}n(e,t);var a=e.prototype;return a.isBusy=function(){var t,e;return(null==x||null==(t=x.CurrentFlow)?void 0:t.length)>0||(null==(e=this.currentWM)?void 0:e.busy)||this.almanacPointed||this.storePointed},a.pointAtButton=function(t){var e=g(O.arrow());e.parent=t.node,e.scale=new m(1,-1,1),e.position=new m(0,-70,0)},a.zengarden=function(){this.isBusy()||N.darken((function(){N.goToZenGarden()}))},a.pointAtAlmanac=function(){this.pointAtButton(this.almanacButton),this.almanacPointed=!0},a.almanac=function(){this.isBusy()&&!this.almanacPointed||N.darken((function(){N.goToAlmanac()}))},a.pointAtStore=function(){this.pointAtButton(this.storeButton),this.storePointed=!0},a.store=function(){this.isBusy()&&!this.storePointed||N.darken((function(){N.goToStore()}))},a.exit=function(){var t;this.isBusy()||(this.wmSwitchingTween||(D.getWorldProps().currentWM==z.chooser?(null==(t=this.wmSwitchingTween)||t.stop(),N.darken((function(){N.goToMain()}))):this.unlockWindow.node.active?this.unlockWindow.shutDown():this.settingsShown?this.setting():this.switchWM(z.chooser)))},e.getWMXByDisplayEnum=function(t){return D.getWorldProgressByID(t).wmx},e.setWMXByDisplayEnum=function(t,e){D.getWorldProgressByID(t).wmx=e},e.setWMX=function(t){var e;null==(e=this.component)||null==(e=e.WMSlot)||e.getComponentsInChildren(_).forEach((function(e){e.mapX=t}))},a.MouseDown=function(t){var e;(null==(e=x.CurrentFlow)?void 0:e.length)>0&&x.RunFlow()},a.MouseWheel=function(t){var e,n;t.preventSwallow=!0,(null==(e=x.CurrentFlow)?void 0:e.length)>0||null==(n=this.WMSlot)||null==(n=n.getComponentsInChildren(_))||n.forEach((function(e){e.MouseWheel(t)}))},a.TouchMove=function(t){var e,n;t.preventSwallow=!0,(null==(e=x.CurrentFlow)?void 0:e.length)>0||null==(n=this.WMSlot)||null==(n=n.getComponentsInChildren(_))||n.forEach((function(e){e.TouchMove(t)}))},a.showWorldDescription=function(t,e){this.unlockWindow.node.active?this.unlockWindow.node.active=!1:(this.unlockWindow.node.active=!0,this.unlockWindow.readStrings(t,e))},a.onLoad=function(){var t,n,o,i=this;this.wmfs=this.worldmapFeaturesJson.json.WORLDMAPS,e.component=this,this.getComponent(y)||this.addComponent(y),null==(t=this.wheelListener)||t.on(w.EventType.MOUSE_DOWN,this.MouseDown,this),null==(n=this.wheelListener)||n.on(w.EventType.MOUSE_WHEEL,this.MouseWheel,this),null==(o=this.mouseListener)||o.on(w.EventType.TOUCH_MOVE,this.TouchMove,this),this.audioSource=this.getComponent(y),this.audioSource.clip.loadMode=W.AudioType.DOM_AUDIO,this.audioSource.play(),M.on(S.EventType.KEY_DOWN,(function(t){t.keyCode==b.ESCAPE&&i.exit()}),this)},a.loadWM=function(t,e){var n=this,o="worldmaps/"+this.wmfs[t].RESNAME+"WORLDMAP";v.load(o,(function(t,o){t?e(null):(n.currentWMPrefab=o,e(o))}))},a.unloadWM=function(){this.currentWMPrefab&&C.releaseAsset(this.currentWMPrefab),this.currentWMPrefab=null},a.onDisable=function(){var t;null==(t=this.wmSwitchingTween)||t.stop(),this.WMSlot.node.destroyAllChildren(),this.WMChooserSlot.node.destroyAllChildren(),this.unloadWM()},a.switchWM=function(t,e){var n,o=this;if(void 0===e&&(e=null),!this.isBusy()){null==(n=this.wmSwitchingTween)||n.stop();var i=255==this.BGUpper.opacity?.01:.5,s=255!=this.BGUpper.opacity;s&&N.cp.flowerOn(),this.wmSwitchingTween=P(this.BGUpper).to(i,{opacity:255}).call((function(){o.WMSlot.node.destroyAllChildren(),o.WMChooserSlot.node.destroyAllChildren()})).to(.1,{}).call((function(){o.unloadWM()})).to(.1,{}).call((function(){o.unloadWM(),o.loadWM(t,r(l().mark((function n(i){var r,a,u,c,h;return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=o.WMSlot.node,t==z.chooser&&(r=o.WMChooserSlot.node),a=g(i),u=o.wmfs[t],a.parent=r,c=a.getComponent(_),o.currentWM=c,!c){n.next=15;break}return c.MapProps=u,e&&(h=c.levelIslands.find((function(t){return-1!=t.levelJsonsID.indexOf(e)})).islandNode.position.x,c.mapX=-h),o.KeyShower.node.active=!1,n.next=13,c.init();case 13:n.next=16;break;case 15:o.KeyShower.node.active=!0;case 16:s&&N.cp.flowerOff(),o.wmSwitchingTween=P(o.BGUpper).to(.1,{}).to(.5,{opacity:0}).call((function(){o.wmSwitchingTween=null})).start();case 18:case"end":return n.stop()}}),n)}))))})).start(),D.getWorldProps().currentWM=t,D.savePP()}},a.setting=function(){this.settingsShown?(this.settingWindow.active=!1,this.settingsShown=!1):(this.settingWindow.active=!0,this.settingsShown=!0)},a.start=function(){A.playMusic(T.WorldMap),this.settingsShown=!0,this.audioSource.volume=0,this.setting();var t=D.getWorldProps().currentWM;this.switchWM(t),k(),A._volumeScalePause=0,P(A).to(1,{_volumeScalePause:1}).start(),this.KeyShower.node.active=t==z.chooser},a.update=function(t){this.KeyShower.opacity=255-this.BGUpper.opacity,this.audioSource.volume=.2*E.SoundFXVolume*A._volumeScalePause},s(e,[{key:"atNight",get:function(){return this._atNight},set:function(t){var e=this;this._atNight!=t&&this.bgdb.forEach((function(n){P(n).to(1,{color:t?e.NightColor:e.DayColor}).start()})),this._atNight=t}}]),e}(B)).component=void 0,ot=e((nt=Wt).prototype,"zengardenButton",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),it=e(nt.prototype,"almanacButton",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rt=e(nt.prototype,"storeButton",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),lt=e(nt.prototype,"exitButton",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),st=e(nt.prototype,"WMSlot",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),at=e(nt.prototype,"WMChooserSlot",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ut=e(nt.prototype,"KeyShower",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ct=e(nt.prototype,"BGUpper",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ht=e(nt.prototype,"bgdb",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),pt=e(nt.prototype,"DayColor",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new d(255,255,255,255)}}),dt=e(nt.prototype,"NightColor",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new d(255,255,255,255)}}),wt=e(nt.prototype,"unlockWindow",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ft=e(nt.prototype,"mouseListener",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),gt=e(nt.prototype,"wheelListener",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),mt=e(nt.prototype,"worldmapFeaturesJson",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yt=e(nt.prototype,"settingWindow",[tt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),et=nt))||et));a._RF.pop()}}}));

System.register("chunks:///_virtual/WorldTrophy.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Prizes.ts"],(function(r){var e,t,o,i,n,a,l,s,p;return{setters:[function(r){e=r.applyDecoratedDescriptor,t=r.inheritsLoose,o=r.initializerDefineProperty,i=r.assertThisInitialized},function(r){n=r.cclegacy,a=r._decorator,l=r.dragonBones,s=r.Component},function(r){p=r.prizeRes}],execute:function(){var c,u,d,y,h;n._RF.push({},"8114f3d77NCW7aJtfRMLMij","WorldTrophy",void 0);var f=a.ccclass,T=a.property;r("WorldTrophyFeature",(function(){this.CODENAME="worldkey",this.SPRITENAME="worldkey",this.TROPHYTYPE="worldkey",this.objdata={}})),r("WorldTrophy",(c=f("WorldTrophy"),u=T(l.ArmatureDisplay),c((h=e((y=function(r){function e(){for(var e,t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n))||this,o(e,"db",h,i(e)),e.prizeModeOn=!1,e.ID=0,e}return t(e,r),e.prototype.readID=function(r){this.ID=r,this.db.playAnimation(p.trophyFeatures()[r].SPRITENAME)},e}(s)).prototype,"db",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=y))||d));n._RF.pop()}}}));

System.register("chunks:///_virtual/WorldUnlockWindow.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MultiLanguage.ts","./Materials.ts","./PlayerProperties.ts","./WorldKeyCount.ts"],(function(n){var e,t,i,r,o,l,a,c,u,s,p,b,d,g,h;return{setters:[function(n){e=n.applyDecoratedDescriptor,t=n.inheritsLoose,i=n.initializerDefineProperty,r=n.assertThisInitialized},function(n){o=n.cclegacy,l=n._decorator,a=n.Button,c=n.Label,u=n.dragonBones,s=n.Sprite,p=n.Component},function(n){b=n.MultiLanguage},function(n){d=n.materialRes},function(n){g=n.AllPlayerProperties},function(n){h=n.WorldKeyCount}],execute:function(){var y,f,k,m,L,W,v,w,_,B,D,U,z;o._RF.push({},"c10fbZRZR5OsLjrbd6Q/SU0","WorldUnlockWindow",void 0);var I=l.ccclass,P=l.property;n("WorldUnlockWindow",(y=I("WorldUnlockWindow"),f=P(a),k=P(c),m=P(c),L=P(u.ArmatureDisplay),W=P(c),y((_=e((w=function(n){function e(){for(var e,t=arguments.length,o=new Array(t),l=0;l<t;l++)o[l]=arguments[l];return e=n.call.apply(n,[this].concat(o))||this,i(e,"unlockButton",_,r(e)),i(e,"nameLabel",B,r(e)),i(e,"descriptionLabel",D,r(e)),i(e,"bgDB",U,r(e)),i(e,"unlockLabel",z,r(e)),e._currentIcon=void 0,e._haveKey=!1,e}t(e,n);var o=e.prototype;return o.readStrings=function(n,e){this.bgDB.playAnimation(n.strings.win),this.descriptionLabel.string=n.strings.description,this.nameLabel.string=n.strings.name,this._currentIcon=n,this._haveKey=e,this.unlockButton.getComponent(s).customMaterial=e?null:d.greyMaterial},o.shutDown=function(){this.node.active=!1},o.unlockWorld=function(){var n;this._currentIcon&&this._haveKey&&(null==(n=h.component)||n.decKeyCount(1),g.unlockWorld(this._currentIcon.enterTo),this._currentIcon.judgeIsUnlocked(),this.shutDown())},o.onEnable=function(){this.unlockLabel.string=b.getStringByPropsWithoutTricks("WorldUnlockerLyrics","Unlock")},e}(p)).prototype,"unlockButton",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=e(w.prototype,"nameLabel",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=e(w.prototype,"descriptionLabel",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=e(w.prototype,"bgDB",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=e(w.prototype,"unlockLabel",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=w))||v));o._RF.pop()}}}));

System.register("chunks:///_virtual/ZenGarden.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plants.ts","./PlayerProperties.ts","./ArrayGet.ts","./NodePools.ts","./ParticleSelfdestroy.ts","./ZenGardenFeatures.ts","./CharacterManager.ts","./Mouse.ts","./SoundRescourses.ts","./ZenGardenObjectPar.ts","./KeyListener.ts","./MultiLanguage.ts","./AnimationController.ts","./SproutCount.ts","./droppingInZen.ts"],(function(t){var n,e,i,a,o,r,l,s,u,p,h,c,d,f,m,g,b,P,v,w,y,S,I,C,k,A,x,D,Z,G,T,N,L,M,E,R,z,O,j;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.createClass,i=t.inheritsLoose,a=t.initializerDefineProperty,o=t.assertThisInitialized,r=t.asyncToGenerator,l=t.regeneratorRuntime,s=t.createForOfIteratorHelperLoose},function(t){u=t.cclegacy,p=t._decorator,h=t.Enum,c=t.Node,d=t.AudioClip,f=t.dragonBones,m=t.instantiate,g=t.Vec3,b=t.Color,P=t.Vec2,v=t.Component,w=t.tween,y=t.EventMouse},function(t){S=t.plants,I=t.PlantEnum},function(t){C=t.AllPlayerProperties},function(t){k=t.ArrayGet},function(t){A=t.instantiatePooly,x=t.destroyPooly,D=t.NodePools},function(t){Z=t.ParticleSelfdestroy},function(t){G=t.ZenPrefabRes},function(t){T=t.Rectangle},function(t){N=t.Mouse},function(t){L=t.sounds},function(t){M=t.ZenGardenObjectPar},function(t){E=t.KeyListener},function(t){R=t.MultiLanguage},function(t){z=t.AnimationController},function(t){O=t.SproutCount},function(t){j=t.droppingInZen}],execute:function(){var _,q,F,B,H,W,V,U,Y,K,J,Q,X,$,tt,nt,et,it,at,ot,rt,lt,st,ut,pt,ht,ct,dt,ft,mt,gt,bt,Pt,vt,wt,yt,St,It;t("shortenFullTime",(function(){Zt=t("ZenGardenPlantFullTime",5*At)})),u._RF.push({},"2b2a9iG5A5L1JexYuHSHIIe","ZenGarden",void 0);var Ct=p.ccclass,kt=p.property,At=t("OneSecond",1e3),xt=t("OneMinute",60*At),Dt=t("OneHour",60*xt),Zt=t("ZenGardenPlantFullTime",24*Dt);t("PlantFeaturesInZen",(function(){this.PlantPlace="dirt",this.IdleAnim=null,this.RandomAnim=null,this.Height=0}));var Gt=t("PlantInZenGardenRequirementEnum",function(t){return t[t.water=0]="water",t[t.fertilizer=1]="fertilizer",t[t.jukebox=2]="jukebox",t[t.pesticide=3]="pesticide",t}({})),Tt=t("PlantInZenGarden",(function(){this.ID=0,this.inZen=0,this.pos=0,this.grownTime=0,this.oldTime=0,this.stuck=!1,this.waterCD=0,this.waterLeftTime=0,this.requirement=0})),Nt=function(t){return t[t.any=0]="any",t[t.deck=1]="deck",t[t.ground=2]="ground",t[t.grass=3]="grass",t}(Nt||{});h(Nt);var Lt=t("ZenGardenSlot",(_=Ct("ZenGardenSlot"),q=kt(c),F=kt(Boolean),B=kt({type:Boolean,visible:function(){return!this.addPot}}),H=kt({type:Nt}),_((U=n((V=function(){function t(){a(this,"node",U,this),a(this,"addPot",Y,this),a(this,"addFloater",K,this),a(this,"groundType",J,this),this.pot=void 0,this.position=new P,this.floater=void 0,this.plant=void 0,this._plantAnmControl=void 0,this.shade=void 0,this.sprout=void 0,this.pos=0,this.selection=void 0,this.requirePar=void 0,this.inZen=void 0,this.rec=new T,this._mouseIsIn=!1,this.disabled=!1}var n=t.prototype;return n.receivePlant=function(){var t=r(l().mark((function t(n){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.plant&&n){t.next=2;break}return t.abrupt("return");case 2:return this.plant=n,n.pos=this.pos,n.inZen=this.inZen.ID,t.next=7,this.showPlant(this.inZen.PlantLayer);case 7:G.getPlantsInZen(this.inZen.ID).push(n),C.savePP();case 9:case"end":return t.stop()}}),t,this)})));return function(n){return t.apply(this,arguments)}}(),n.movePlant=function(t){if(t.sprout&&!t.plant&&!t.plantAnmControl&&this.plant&&this.plantAnmControl){t.plant=this.plant,t.plant.pos=t.pos,this.plantAnmControl.node.worldPosition=t.sprout.node.worldPosition,t.plantAnmControl=this.plantAnmControl,this.showSprout(this.plantAnmControl.node.parent).db.playAnimation(this.getSproutEmptyAnm()),t.sprout&&(t.sprout.node.destroy(),t.sprout=null);var n=this.stuck;t.stuck=!n,t.stuck=n,this.plantAnmControl=null,this.plant=null,this.stuck=!1,L.playPlantOnFloor(),this.inZen.clearSibling(),C.savePP()}},n.showSelection=function(t){var n=A(G.selectionUI);n.parent=t,n.worldPosition=this.node.worldPosition,this.selection=n.getComponent(Z),this.selection.db.playAnimation("Null")},n.addRequire=function(t){var n=G.waterpourPar;switch(t){case Gt.fertilizer:n=G.fertilizerPar;break;case Gt.pesticide:n=G.pesticidePar;break;case Gt.jukebox:n=G.jukeboxPar}this.plant.requirement=t;var e=A(n);e.parent=this.selection.node.parent,e.worldPosition=this.node.worldPosition,e.setSiblingIndex(this.selection.node.getSiblingIndex()+1);var i=e.getComponent(M);i.played=!1,i.zenSlot=this,i.ID=t,i.db.playAnimation("Idle"),this.requirePar=i,C.savePP()},n.fulfillRequire=function(t){var n;void 0===t&&(t=!0),null==(n=this.requirePar)||n.play(t),this.plant&&(this.plant.waterCD=(7+3*Math.random())*At)},n.showPot=function(t){var n=A(G.flowerpot);n.parent=t,n.worldPosition=this.node.worldPosition,this.position=n.position.toVec2(),this.pot=n.getComponent(f.ArmatureDisplay)},n.showFloater=function(t){var n=A(G.floater);n.parent=t,n.worldPosition=this.node.worldPosition,this.position=n.position.toVec2(),this.floater=n.getComponent(f.ArmatureDisplay)},n.getStage=function(t){return Math.floor(4*t)},n.onStageChanged=function(t,n){this.stuck;if(this.stuck=!0,"float"==S.getPlantFeature(this.plant.ID).ZENGARDEN.PlantPlace){var e=this.getStage(this.plant.grownTime/Zt),i=Gt.fertilizer;e>2&&(i=Math.random()>.5?Gt.jukebox:Gt.pesticide),this.plant.waterLeftTime=0,this.addRequire(i)}else this.addRequire(Gt.water),this.plant.waterLeftTime=3},n.getScale=function(t){return Et.getPlantScale(t)},n.grow=function(){var t=r(l().mark((function t(n){var e,i,a,o,r=this;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===n&&(n=NaN),!isNaN(n)){t.next=5;break}if(this.plant){t.next=4;break}return t.abrupt("return");case 4:n=this.getStage(this.plant.grownTime/Zt)+1;case 5:if(this.inZen.drop(this.position,n),!(n>=0)){t.next=27;break}if(!this.sprout){t.next=24;break}if(this.sprout.db.playAnimation("Grow"),this.plantAnmControl){t.next=24;break}return t.t0=m,t.next=13,S.getPlantsInCard(this.plant.ID,!0);case 13:t.t1=t.sent.plantDIS,(e=(0,t.t0)(t.t1)).parent=this.sprout.node.parent,e.worldPosition=this.sprout.node.worldPosition,this.plantAnmControl=e.getComponent(z),this.plantAnmControl.setBody(),this.plantAnmControl.db.node.scale=new g(0,0,0),this.plantAnmControl.node.scale=new g(1,1,1),this.plantAnmControl.readCostume(this.plant.ID),(i=S.getPlantFeature(this.plant.ID).ZENGARDEN).Height&&(this.plantAnmControl.db.node.position=new g(0,i.Height,0));case 24:a=this.getScale(n),o=w(this.plantAnmControl.db.node).call((function(){a!=r.plantAnmControl.db.node.scale.x&&G.playSproutGrowthSound()})).to(.7,{scale:new g(a,a,a)},{easing:"backInOut"}).call((function(){r.plant.ID==I.MariGold&&C.getPlantProgressByID(I.MariGold).progress<=0&&(C.unlockPlant(I.MariGold),E.gameTipString(R.getDirectQuote("[MARIGOLD_OBTAIN_CONGRATE]"),5),L.playGemSpawn()),r.stuck=!1})),this.sprout?(this.sprout.db.once(f.EventObject.FRAME_EVENT,(function(t){"grow"==t.name&&(o.start(),G.playPlantDisappearSound())}),this),this.sprout=null):o.start();case 27:this.stuck=!1,this.plant.grownTime=n/4*Zt+1,this.inZen.clearSibling(),C.savePP();case 31:case"end":return t.stop()}}),t,this)})));return function(n){return t.apply(this,arguments)}}(),n.showSprout=function(t){if(this.sprout)return this.sprout;var n=m(G.sproutPar);n.parent=t,n.worldPosition=this.node.worldPosition,this.position=n.position.toVec2();var e=n.getComponent(Z);return this.sprout=e,this.sprout&&(this.sprout.db.timeScale=.9+.2*Math.random()),this.judgeSelection(),e},n.removePlant=function(){var t,n;if(this.plant){var e=this.sprout?this.sprout.node:this.plantAnmControl.node;this.showSprout(e.parent).db.playAnimation(this.getSproutEmptyAnm()),null==(t=this.plantAnmControl)||null==(t=t.node)||t.destroy(),this.plantAnmControl=null;var i,a=G.getPlantsInZen(this.plant.inZen),o=a.indexOf(this.plant);if(-1!=o&&a.splice(o,1),null==(n=this.pot)||n.playAnimation("Idle"),this.plant=null,this.stuck=!1,this.requirePar)x(null==(i=this.requirePar)?void 0:i.node),this.requirePar=null;this.judgeSelection(),this.inZen.clearSibling(),C.savePP()}},n.addPlant=function(t,n){var e,i;if(!this.plant){var a=new Tt;a.ID=t,a.pos=this.pos,a.inZen=n,a.oldTime=this.inZen.time;var o=S.getPlantFeature(t).ZENGARDEN.PlantPlace;a.waterLeftTime="float"==o?-1:3,this.plant=a,this.stuck=!1,this.stuck=!0,null==this||null==(e=this.sprout)||null==(e=e.db)||e.playAnimation("Birth",1),G.getPlantsInZen(n).push(this.plant),G.playSproutBirthSound(),this.judgeSelection(),null==(i=O.component)||i.decSproutCount(1)}},n.getSproutEmptyAnm=function(){var t;return null!=(t=O.component)&&t.value?"Empty":"Null"},n.showPlant=function(){var t=r(l().mark((function t(n){var e,i,a,o,r,s,u;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.plant){t.next=6;break}return this.showSprout(n).db.playAnimation(this.getSproutEmptyAnm()),null==(e=this.floater)||e.playAnimation("Idle"),null==(i=this.pot)||i.playAnimation("Idle"),t.abrupt("return");case 6:if(!this.plantAnmControl){t.next=8;break}return t.abrupt("return");case 8:if(!((a=this.getStage(this.plant.grownTime/Zt))>0)){t.next=28;break}return t.t0=m,t.next=13,S.getPlantsInCard(this.plant.ID,!0);case 13:t.t1=t.sent.plantDIS,(o=(0,t.t0)(t.t1)).parent=n,o.worldPosition=this.node.worldPosition,this.position=o.position.toVec2(),this.plantAnmControl=o.getComponent(z),r=this.getScale(a),this.plantAnmControl.db.node.scale=new g(r,r,r),this.plantAnmControl.node.scale=new g(1,1,1),this.plantAnmControl.readCostume(this.plant.ID),(s=S.getPlantFeature(this.plant.ID).ZENGARDEN).Height&&(this.plantAnmControl.db.node.position=new g(0,s.Height,0)),this.sprout&&(x(this.sprout.node),this.sprout=null),t.next=31;break;case 28:this.plant&&S.loadPlantsInCard(this.plant.ID,!0),this.showSprout(n).db.playAnimation("Idle");case 31:u=this.stuck,this.plant.stuck=!u,this.stuck=u,this.plant.waterCD=isNaN(this.plant.waterCD)?0:this.plant.waterCD,this.plant.waterLeftTime=isNaN(this.plant.waterLeftTime)?0:this.plant.waterLeftTime,this.plant.waterCD<=0&&this.stuck&&(isNaN(this.plant.requirement)?this.addRequire(Gt.water):this.addRequire(this.plant.requirement)),this.judgeSelection();case 38:case"end":return t.stop()}}),t,this)})));return function(n){return t.apply(this,arguments)}}(),n.dealPlant=function(t){if(this.plant){var n=t-this.plant.oldTime,e=this.getStage(this.plant.grownTime/Zt);if(this.stuck){if(!this.requirePar&&(this.plant.waterCD-=n,this.plant.waterCD<=0)){this.plant.waterCD=0;var i=Gt.water;this.plant.waterLeftTime<0&&(i=e>2?Math.random()>.5?Gt.jukebox:Gt.pesticide:Gt.fertilizer),this.addRequire(i)}}else this.plant.grownTime+=n;var a=this.plant.grownTime/Zt,o=Math.min(this.getStage(a),e+1);e==o||this.stuck||(this.onStageChanged(e,o),this.plant.grownTime=o/4*Zt-1),this.plant.oldTime=t}},n.update=function(){var t;if(this.inZen){if(this.shade&&null!=(t=this.plantAnmControl)&&null!=(t=t.db)&&t.node){var n=.6*this.plantAnmControl.db.node.scale.x;this.shade.scale=new g(n,n,n)}this.rec=T.createRectangleNodeCenter(this.node,300*this.inZen.node.worldScale.x,300*this.inZen.node.worldScale.y)}},n.judgeMouse=function(){return this.rec.judgeInRec(N.position.x,N.position.y)},n.judgeSelection=function(){var t=!1;if(!this.plant&&G.isShoveling)t=!0;else if(G.isGloving){var n;(this.plant&&this.stuck||!this.plant||this.sprout)&&!G.cp.willMovePlantSlot?t=!0:!G.cp.willMovePlantSlot||!this.plant&&Et.judgePlantableInSlot(this,null==(n=G.cp.willMovePlantSlot.plant)?void 0:n.ID)||(t=!0)}else if(G.isCarting){var e;(G.cp.plantInCart||this.plant&&!this.stuck&&!this.sprout)&&(!G.cp.plantInCart||!this.plant&&Et.judgePlantableInSlot(this,null==(e=G.cp.plantInCart)?void 0:e.ID))||(t=!0)}this.disabled=t;var i=this.disabled?new b(122,122,122,255):new b(255,255,255,255);this.pot&&(this.pot.color=i),this.floater&&(this.floater.color=i),this.sprout&&(this.sprout.db.color=i),this.plantAnmControl&&(this.plantAnmControl.db.color=i)},e(t,[{key:"plantAnmControl",get:function(){return this._plantAnmControl},set:function(t){if(t&&(t.willInitScaleOnEnable=!1),t&&!this.shade){var n=A(G.shade);n.parent=this.inZen.ShadeLayer,this.shade=n,n.worldPosition=t.node.worldPosition,n.scale=new g(0,0,0)}else!t&&this.shade&&(D.destroyPooly(this.shade),this.shade=null);this._plantAnmControl=t}},{key:"stuck",get:function(){return this.plant&&this.plant.stuck},set:function(t){var n;if(this.plant&&t!=(null==(n=this.plant)?void 0:n.stuck)){var e,i=null==(e=S.getPlantFeature(this.plant.ID))||null==(e=e.ZENGARDEN)?void 0:e.PlantPlace;if(this.pot){var a="Idle",o="Idle_Golden";"float"!=i&&"sink"!=i||(a="Water",o="Water_Golden"),this.pot.playAnimation(t?a:o)}else if(this.floater){var r="Idle",l="Idle_Golden";if("float"==i||"sink"==i||"fly"==i)switch(r="Water",l="Water_Golden",this.floater.animationName){case"Sink":case"Idle":case"Idle_Golden":r="Sink",l="Sink_Golden"}var s=t?r:l;this.floater.playAnimation(s)}}else if(!this.plant){var u,p;null==(u=this.pot)||u.playAnimation("Idle"),null==(p=this.floater)||p.playAnimation("Idle")}this.plant&&(this.plant.stuck=t),this.judgeSelection()}},{key:"mouseIsIn",get:function(){return this._mouseIsIn},set:function(t){var n;t!=this._mouseIsIn&&(null==(n=this.selection)||null==(n=n.db)||n.playAnimation(t?"Yellow":"Null"));this._mouseIsIn=t}}]),t}()).prototype,"node",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=n(V.prototype,"addPot",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),K=n(V.prototype,"addFloater",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),J=n(V.prototype,"groundType",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),W=V))||W)),Mt=t("ZenGardenTypeEnum",function(t){return t[t.main=0]="main",t[t.mushroom=1]="mushroom",t[t.beach=2]="beach",t[t.amount=3]="amount",t}({}));h(Mt);var Et=t("ZenGarden",(Q=Ct("ZenGarden"),X=kt(c),$=kt({type:Mt}),tt=kt([Lt]),nt=kt(c),et=kt(c),it=kt(c),at=kt(c),ot=kt(c),rt=kt(c),lt=kt([d]),st=kt([d]),ut=kt(d),Q((ct=n((ht=function(t){function n(){for(var n,e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return n=t.call.apply(t,[this].concat(i))||this,a(n,"droppingLayer",ct,o(n)),n.scene=void 0,a(n,"ID",dt,o(n)),a(n,"slots",ft,o(n)),a(n,"PlantLayer",mt,o(n)),a(n,"ShadeLayer",gt,o(n)),a(n,"PotLayer",bt,o(n)),a(n,"UILayer",Pt,o(n)),a(n,"corner1",vt,o(n)),a(n,"corner2",wt,o(n)),n.NE=new P,n.SW=new P,n.initialized=!1,n.mouseInSlot=null,n.time=0,n.ambOccCD=0,n.ambRareCD=0,a(n,"ambOcc",yt,o(n)),a(n,"ambRare",St,o(n)),a(n,"ambience",It,o(n)),n}i(n,t),n.judgePlantableInSlot=function(t,n){var e;if(isNaN(n))return!1;var i=null==(e=S.getPlantFeature(n))||null==(e=e.ZENGARDEN)?void 0:e.PlantPlace;switch(t.groundType){case Nt.any:return!0;case Nt.deck:case Nt.grass:return"dirt"==i||"fly"==i;case Nt.ground:return"solid"==i||"dirt"==i||"fly"==i}},n.getPlantScale=function(t){var n=1;switch(t){case 1:n=.7;break;case 2:n=1;break;default:n=1.3}return n};var e=n.prototype;return e.drop=function(t,n){var e=G.coinSilver,i=5;n>=2&&(e=G.coinGold),n>=3&&(e=G.gem,i=1);for(var a=0;a<i;a++){var o=A(e).getComponent(j);o.node.parent=this.droppingLayer,o.position=t,o.height=60,o.gravity=2.22;var r=new P(2*Math.random()-1,1).normalize().multiplyScalar(15);o.linearVelocity=new P(r.x,0),o.bodyLinearVelocity=r.y}},e.judgeSelection=function(){this.slots.forEach((function(t){t.judgeSelection()}))},e.setCorner=function(){var t=Math.min(this.corner1.position.x,this.corner2.position.x),n=Math.max(this.corner1.position.x,this.corner2.position.x),e=Math.min(this.corner1.position.y,this.corner2.position.y),i=Math.max(this.corner1.position.y,this.corner2.position.y);this.NE=new P(n,i),this.SW=new P(t,e)},e.removeSlotPlant=function(t,n){if(n){var e,i=t.plant.ID;C.getPlantProgressByID(i).boost++,L.playOneShot(null==(e=G.cp)?void 0:e.boostSound,1,.1)}t.removePlant(),L.playShovelDig(),G.fastShovel||G.shovel()},e.initialize=function(){var t=r(l().mark((function t(n){var e,i,a,o=this;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.initialized){t.next=2;break}return t.abrupt("return");case 2:e=l().mark((function t(){var e,i,r,s;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=a.value,r=o.slots.indexOf(i),i.inZen=o,i.pos=r,s=null,n.forEach((function(t){s||t.inZen==o.ID&&t.pos==r&&(s=t)})),i.addPot?i.showPot(o.PotLayer):i.addFloater&&i.showFloater(o.PotLayer),i.showSelection(o.UILayer),i.plant=s,null==(e=i.floater)||e.playAnimation("Water"),t.next=12,i.showPlant(o.PlantLayer);case 12:i.rec=T.createRectangleNodeCenter(i.node,90,90),o.setCorner(),o.initialized=!0;case 15:case"end":return t.stop()}}),t)})),i=s(this.slots);case 4:if((a=i()).done){t.next=8;break}return t.delegateYield(e(),"t0",6);case 6:t.next=4;break;case 8:this.node.parent.on(c.EventType.MOUSE_DOWN,(function(t){if(o.node.active){var n=o.mouseInSlot;n&&t.getButton()==y.BUTTON_LEFT&&o.scheduleOnce((function(){o.MouseDown(n)}))}}),this);case 9:case"end":return t.stop()}}),t,this)})));return function(n){return t.apply(this,arguments)}}(),e.MouseDown=function(){var t=r(l().mark((function t(e){var i,a,o,r,s,u;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!G.isShoveling){t.next=4;break}e.disabled||(i=e.plant,a=e.getStage(i.grownTime/Zt),G.fastShovel?this.removeSlotPlant(e,!i.stuck&&a>=3):(this.scene.currentShovelSlot=e,this.scene.openShovelWindow(!i.stuck&&a>=3))),t.next=28;break;case 4:if(!G.isGloving){t.next=8;break}e.disabled||(G.cp.willMovePlantSlot?(G.cp.willMovePlantSlot.movePlant(e),G.cp.indexTo_1()):G.setWillMovePlantSlot(e)),t.next=28;break;case 8:if(!G.isCarting){t.next=12;break}e.disabled||(G.cp.plantInCart?(e.receivePlant(G.cp.plantInCart),G.cp.plantInCart=null):(G.cp.plantInCart=e.plant,e.removePlant()),L.playPlantOnFloor(),G.cp.indexTo_1()),t.next=28;break;case 12:if(!e.plant){t.next=16;break}e.requirePar&&e.fulfillRequire(),t.next=28;break;case 16:if(null==(o=O.component)||!o.value){t.next=28;break}s=k.randomize(C.getObtainedPlantList().IDs.filter((function(t){return n.judgePlantableInSlot(e,t)}))),Math.random()<.05&&-1==s.indexOf(I.MariGold)&&s.length&&(s[0]=I.MariGold),u=0;case 20:if(!(u<s.length)){t.next=26;break}return e.addPlant(s[u],this.ID),t.abrupt("break",26);case 23:u++,t.next=20;break;case 26:!((null==(r=O.component)?void 0:r.value)>0)&&this.slots.forEach((function(t){var n;t.plant||(null==(n=t.sprout)||null==(n=n.db)||n.playAnimation("Null"))}));case 28:case"end":return t.stop()}}),t,this)})));return function(n){return t.apply(this,arguments)}}(),e.judgeMouseInSlot=function(){var t=null;this.slots.concat().reverse().forEach((function(n){n.update(),n.mouseIsIn=!1,t||n.judgeMouse()&&(t=n,n.mouseIsIn=!0)})),this.mouseInSlot=t},e.update=function(t){if(this.initialized){this.playAmbience(t);var n=(new Date).getTime();this.time=n,this.judgeMouseInSlot(),this.slots.forEach((function(t){t.dealPlant(n)})),C.savePP()}},e.clearSibling=function(){var t=this;this.slots.forEach((function(n){var e,i,a,o,r;null==(e=n.sprout)||null==(e=e.node)||e.setSiblingIndex(t.PlantLayer.children.length),null==(i=n.plantAnmControl)||null==(i=i.node)||i.setSiblingIndex(t.PlantLayer.children.length),(null==(a=n.requirePar)||null==(a=a.node)?void 0:a.parent)==(null==n||null==(o=n.plantAnmControl)||null==(o=o.node)?void 0:o.parent)&&(null==(r=n.requirePar)||null==(r=r.node)||r.setSiblingIndex(t.PlantLayer.children.length))}))},e.playAmbience=function(t){this.ambOccCD>0?this.ambOccCD-=t:(L.playOneShot(k.getRandom(this.ambOcc)),this.ambOccCD=5),this.ambRareCD>0?this.ambRareCD-=t:(L.playOneShot(k.getRandom(this.ambRare)),this.ambRareCD=10)},n}(v)).prototype,"droppingLayer",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),dt=n(ht.prototype,"ID",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ft=n(ht.prototype,"slots",[tt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),mt=n(ht.prototype,"PlantLayer",[nt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),gt=n(ht.prototype,"ShadeLayer",[et],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),bt=n(ht.prototype,"PotLayer",[it],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pt=n(ht.prototype,"UILayer",[at],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),vt=n(ht.prototype,"corner1",[ot],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),wt=n(ht.prototype,"corner2",[rt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yt=n(ht.prototype,"ambOcc",[lt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),St=n(ht.prototype,"ambRare",[st],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),It=n(ht.prototype,"ambience",[ut],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pt=ht))||pt));u._RF.pop()}}}));

System.register("chunks:///_virtual/ZenGardenFeatures.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SoundRescourses.ts"],(function(t){var n,e,i,o;return{setters:[function(t){n=t.createClass},function(t){e=t.cclegacy,i=t._decorator},function(t){o=t.sounds}],execute:function(){e._RF.push({},"d666aCh3t9KLJVvAcizC/YV","ZenGardenFeatures",void 0);i.ccclass,i.property;t("ZenPrefabRes",function(){function t(){}return t.playWaterPourSound=function(){o.playOneShot(this.cp.waterPourSound,1,.1)},t.playPesticideSound=function(){o.playOneShot(this.cp.pesticideSound,1,.1)},t.playJukeboxFallSound=function(){o.playOneShot(this.cp.jukeboxFallSound,1,.1)},t.playJukeboxPlaySound=function(){o.playOneShot(this.cp.jukeboxPlaySound,1,.1)},t.playFertilizerFallSound=function(){o.playOneShot(this.cp.fertilizerFallSound,1,.1)},t.playFertilizerBlastSound=function(){o.playOneShot(this.cp.fertilizerBlastSound,1,.1)},t.playSproutBirthSound=function(){o.playOneShot(this.cp.sproutBirthSound,1,.1)},t.playSproutGrowthSound=function(){o.playOneShot(this.cp.sproutGrowthSound,1,.1),o.playOneShot(this.cp.plantGrowthSound,1,.1)},t.playPlantDisappearSound=function(){o.playOneShot(this.cp.plantDisappearSound,1,.1)},t.getPlantsInZen=function(t){return this.cp.getPlants(t)},t.shovel=function(){var t;null==(t=this.cp)||t.shovel()},t.glove=function(){var t;null==(t=this.cp)||t.glove()},t.setWillMovePlantSlot=function(t){var n;null==(n=this.cp)||n.setWillMovePlantSlot(t)},t.cart=function(){var t;null==(t=this.cp)||t.cart()},n(t,null,[{key:"sproutPar",get:function(){return this.cp.sproutPar}},{key:"jukeboxPar",get:function(){return this.cp.jukeboxPar}},{key:"pesticidePar",get:function(){return this.cp.pesticidePar}},{key:"fertilizerPar",get:function(){return this.cp.fertilizerPar}},{key:"waterpourPar",get:function(){return this.cp.waterpourPar}},{key:"selectionUI",get:function(){return this.cp.selectionUI}},{key:"flowerpot",get:function(){return this.cp.flowerpot}},{key:"floater",get:function(){return this.cp.floater}},{key:"shade",get:function(){return this.cp.shade}},{key:"coinGold",get:function(){return this.cp.coinGold}},{key:"coinSilver",get:function(){return this.cp.coinSilver}},{key:"gem",get:function(){return this.cp.gem}},{key:"isShoveling",get:function(){return this.cp&&this.cp.isShoveling}},{key:"fastShovel",get:function(){return this.cp&&this.cp.fastShovel}},{key:"isGloving",get:function(){return this.cp&&this.cp.isGloving}},{key:"isCarting",get:function(){return this.cp&&this.cp.isCarting}}]),t}()).cp=void 0;t("ZenGardenPlayerProperties",(function(){this.sprout=0,this.plantsInMain=[],this.plantsInMushroom=[],this.plantsInBeach=[],this.plantInCart=null}));e._RF.pop()}}}));

System.register("chunks:///_virtual/ZenGardenObjectPar.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ParticleSelfdestroy.ts","./ZenGarden.ts","./PlayerProperties.ts","./ZenGardenFeatures.ts","./CharacterManager.ts"],(function(e){var t,n,l,a,i,r,o,s,u;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,l=e._decorator},function(e){a=e.ParticleSelfdestroy},function(e){i=e.PlantInZenGardenRequirementEnum,r=e.OneSecond},function(e){o=e.AllPlayerProperties},function(e){s=e.ZenPrefabRes},function(e){u=e.Rectangle}],execute:function(){var d;n._RF.push({},"b989dQJ/TVCLbUIdLcGkilZ","ZenGardenObjectPar",void 0);var c=l.ccclass;l.property,e("ZenGardenObjectPar",c("ZenGardenObjectPar")(d=function(e){function n(){for(var t,n=arguments.length,l=new Array(n),a=0;a<n;a++)l[a]=arguments[a];return(t=e.call.apply(e,[this].concat(l))||this).zenSlot=void 0,t.ID=0,t.played=!1,t}t(n,e);var l=n.prototype;return l.animationListener=function(e){if(this.ID==i.water){if(this.zenSlot&&"water_done"==e.name)this.zenSlot.plant.waterCD=(7+3*Math.random())*r,o.savePP();else if("water_pour"==e.name){var t;s.playWaterPourSound(),null==(t=this.zenSlot)||null==(t=t.plantAnmControl)||t.playAnimation("Water",1)}}else if(this.ID==i.pesticide)"pesticide_shoot"==e.name&&s.playPesticideSound();else if(this.ID==i.jukebox){if("jukebox_smash"==e.name)s.playJukeboxFallSound();else if("jukebox_play"==e.name){var n;s.playJukeboxPlaySound(),null==(n=this.zenSlot)||null==(n=n.plantAnmControl)||n.playAnimation("Water",1)}}else this.ID==i.fertilizer&&("fertilizer_blast"==e.name?s.playFertilizerBlastSound():"fertilizer_drop"==e.name&&s.playFertilizerFallSound());var l;"grow"==e.name&&(null==(l=this.zenSlot)||l.grow());"die"==e.name&&(this.zenSlot&&(this.zenSlot.requirePar=null),this.zenSlot=null)},l.play=function(e){var t=this;if(void 0===e&&(e=!0),!this.played){if(this.played=!0,this.db.playAnimation("Play"),this.ID==i.water){if(e){var n;this.db.playAnimation("Play_Gold");var l=u.createRectangleNodeCenter(this.zenSlot.node,180*s.cp.scale,180*s.cp.scale);null==(n=this.zenSlot)||null==(n=n.inZen)||null==(n=n.slots)||n.forEach((function(e){e.requirePar&&e.requirePar.ID==t.ID&&e.rec.judgeCrossRec(l)&&e.fulfillRequire(!1)}))}this.zenSlot.plant.waterLeftTime--,this.zenSlot.plant.waterCD=(7+3*Math.random())*r}else if(this.ID==i.jukebox){var a,d,c=null==(a=this.zenSlot)||null==(a=a.sprout)?void 0:a.node;c||(c=null==(d=this.zenSlot)||null==(d=d.plantAnmControl)?void 0:d.node),this.node.setParent(c.parent,!0),this.node.setSiblingIndex(c.getSiblingIndex()+1)}o.savePP()}},l.update=function(e){var t;(null==(t=this.zenSlot)?void 0:t.requirePar)!=this&&this.node.destroy()},n}(a))||d);n._RF.pop()}}}));

System.register("chunks:///_virtual/zenGardenScene.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZenGarden.ts","./PlayerProperties.ts","./ZenGardenFeatures.ts","./NodePools.ts","./ArrayGet.ts","./SoundsController.ts","./SoundRescourses.ts","./Mouse.ts","./Shovel.ts","./KeyListener.ts","./SettingWindow.ts","./Plants.ts","./AnimationController.ts","./MultiLanguage.ts","./Materials.ts"],(function(e){var n,t,i,l,r,o,a,s,u,c,h,d,p,g,v,f,b,y,w,m,S,P,I,C,z,T,x,_,M,E,W,Z,D,U,G,B,H,O,A,k,L,N,F,R,j,K,V;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,l=e.assertThisInitialized,r=e.createClass,o=e.asyncToGenerator,a=e.regeneratorRuntime,s=e.createForOfIteratorHelperLoose},function(e){u=e.cclegacy,c=e._decorator,h=e.Prefab,d=e.AudioClip,p=e.AudioSource,g=e.Node,v=e.Toggle,f=e.Label,b=e.dragonBones,y=e.Vec2,w=e.game,m=e.Color,S=e.Vec3,P=e.UITransform,I=e.Component,C=e.EventMouse,z=e.input,T=e.Input,x=e.KeyCode},function(e){_=e.ZenGarden,M=e.ZenGardenTypeEnum,E=e.ZenGardenPlantFullTime,W=e.shortenFullTime},function(e){Z=e.AllPlayerProperties},function(e){D=e.ZenPrefabRes,U=e.ZenGardenPlayerProperties},function(e){G=e.instantiatePooly},function(e){B=e.ArrayGet},function(e){H=e.MusicController,O=e.SoundFXController},function(e){A=e.sounds},function(e){k=e.Mouse},function(e){L=e.Shovel},function(e){N=e.KeyListener},function(e){F=e.WindowSize},function(e){R=e.plants},function(e){j=e.AnimationController},function(e){K=e.MultiLanguage},function(e){V=e.materialRes}],execute:function(){var J,Y,X,q,Q,$,ee,ne,te,ie,le,re,oe,ae,se,ue,ce,he,de,pe,ge,ve,fe,be,ye,we,me,Se,Pe,Ie,Ce,ze,Te,xe,_e,Me,Ee,We,Ze,De,Ue,Ge,Be,He,Oe,Ae,ke,Le,Ne,Fe,Re,je,Ke,Ve,Je,Ye,Xe,qe,Qe,$e,en,nn,tn,ln,rn,on,an,sn,un,cn,hn,dn,pn,gn,vn,fn,bn,yn,wn,mn,Sn,Pn,In,Cn,zn,Tn,xn,_n,Mn,En,Wn,Zn,Dn;u._RF.push({},"28f67d8p+VHj4E+vcc2h1Ka","zenGardenScene",void 0);var Un=c.ccclass,Gn=c.property;e("zenGardenScene",(J=Un("zenGardenScene"),Y=Gn(h),X=Gn(h),q=Gn(h),Q=Gn(h),$=Gn(h),ee=Gn(h),ne=Gn(h),te=Gn(h),ie=Gn(h),le=Gn(h),re=Gn(h),oe=Gn(h),ae=Gn(d),se=Gn(d),ue=Gn(d),ce=Gn(d),he=Gn(d),de=Gn(d),pe=Gn(d),ge=Gn(d),ve=Gn(d),fe=Gn(d),be=Gn([_]),ye=Gn([d]),we=Gn(p),me=Gn(p),Se=Gn(L),Pe=Gn(L),Ie=Gn(g),Ce=Gn(v),ze=Gn(L),Te=Gn(g),xe=Gn(L),_e=Gn(g),Me=Gn(g),Ee=Gn(g),We=Gn(f),Ze=Gn(f),De=Gn(f),Ue=Gn(f),Ge=Gn(b.ArmatureDisplay),Be=Gn(d),He=Gn(d),Oe=Gn(g),Ae=Gn(g),J((Ne=n((Le=function(e){function n(){for(var n,t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return n=e.call.apply(e,[this].concat(r))||this,i(n,"sproutPar",Ne,l(n)),i(n,"jukeboxPar",Fe,l(n)),i(n,"pesticidePar",Re,l(n)),i(n,"fertilizerPar",je,l(n)),i(n,"waterpourPar",Ke,l(n)),i(n,"selectionUI",Ve,l(n)),i(n,"flowerpot",Je,l(n)),i(n,"floater",Ye,l(n)),i(n,"shade",Xe,l(n)),i(n,"coinGold",qe,l(n)),i(n,"coinSilver",Qe,l(n)),i(n,"gem",$e,l(n)),i(n,"sproutBirthSound",en,l(n)),i(n,"sproutGrowthSound",nn,l(n)),i(n,"plantGrowthSound",tn,l(n)),i(n,"waterPourSound",ln,l(n)),i(n,"pesticideSound",rn,l(n)),i(n,"jukeboxFallSound",on,l(n)),i(n,"jukeboxPlaySound",an,l(n)),i(n,"fertilizerFallSound",sn,l(n)),i(n,"fertilizerBlastSound",un,l(n)),i(n,"plantDisappearSound",cn,l(n)),i(n,"gardens",hn,l(n)),i(n,"musics",dn,l(n)),i(n,"musicPlayer",pn,l(n)),i(n,"sfxPlayer",gn,l(n)),n.musicJudgingCD=1,i(n,"nextZenButton",vn,l(n)),i(n,"shovelUI",fn,l(n)),i(n,"shovelInHand",bn,l(n)),n.willMovePlantSlot=void 0,i(n,"fastShovelToggle",yn,l(n)),i(n,"gloveUI",wn,l(n)),i(n,"gloveInHand",mn,l(n)),n.gloveOldScale=.5,i(n,"cartUI",Sn,l(n)),i(n,"cartInHand",Pn,l(n)),i(n,"plantInCartLayer",In,l(n)),n.cartOldScale=.5,n._plantInCart=null,n.plantInCartAnm=null,n.currentShovelSlot=void 0,i(n,"shovelWindow",Cn,l(n)),i(n,"shovelWindowTitleLabel",zn,l(n)),i(n,"shovelWindowCancelLabel",Tn,l(n)),i(n,"shovelWindowConfirmLabel",xn,l(n)),i(n,"shovelWindowDescriptionLabel",_n,l(n)),n.shovelBoost=!1,i(n,"shovelWindowCard",Mn,l(n)),i(n,"shovelWindowSound",En,l(n)),i(n,"boostSound",Wn,l(n)),n.currentZen=void 0,n.waiting=!1,n.pressed=!1,i(n,"uiNode",Zn,l(n)),i(n,"zenParent",Dn,l(n)),n._scale=1,n._pos=new y,n}t(n,e);var u=n.prototype;return u.musicControl=function(e){this.musicJudgingCD>0&&(this.musicJudgingCD-=w.deltaTime),this.musicPlayer.volume=H.MusicVolume*H._volumeScalePause,this.musicJudgingCD<=0&&!this.musicPlayer.playing&&(this.musicJudgingCD=5,this.musicPlayer.stop(),this.musicPlayer.clip=B.getRandom(this.musics),this.musicPlayer.play()),this.sfxPlayer.volume=O.SoundFXVolume},u.onLoad=function(){this.gloveOldScale=this.gloveInHand.scale.x,this.cartOldScale=this.cartInHand.scale.x,D.cp=this,Z.currentPlayer.zengarden||(Z.currentPlayer.zengarden=new U),Z.savePP(),this.musics.forEach((function(e){e.loadMode=d.AudioType.DOM_AUDIO}))},u.exitToMap=function(){N.darken((function(){N.goToWorldmap()}))},u.getPlants=function(e){switch(e){case M.main:return Z.currentPlayer.zengarden.plantsInMain||(Z.currentPlayer.zengarden.plantsInMain=[]),Z.currentPlayer.zengarden.plantsInMain;case M.mushroom:return Z.currentPlayer.zengarden.plantsInMushroom||(Z.currentPlayer.zengarden.plantsInMushroom=[]),Z.currentPlayer.zengarden.plantsInMushroom;case M.beach:return Z.currentPlayer.zengarden.plantsInBeach||(Z.currentPlayer.zengarden.plantsInBeach=[]),Z.currentPlayer.zengarden.plantsInBeach}return[]},u.indexTo_1=function(){this.isCarting&&this.cart(),this.isShoveling&&this.shovel(),this.isGloving&&this.glove(),this.willMovePlantSlot&&this.setWillMovePlantSlot(null)},u.setWillMovePlantSlot=function(e){!e&&this.willMovePlantSlot?this.willMovePlantSlot=null:e&&(A.playCardChosen(),this.willMovePlantSlot=e),this.currentZen.judgeSelection()},u.shovel=function(){A.playShovelActive();var e=!this.isShoveling;e&&this.indexTo_1(),this.isShoveling=e,this.shovelUI.index=this.isShoveling?1:0,this.shovelUI.select(),this.currentZen.judgeSelection()},u.glove=function(){A.playCardCancel();var e=!this.isGloving;e&&this.indexTo_1(),this.isGloving=e,this.gloveUI.index=this.isGloving?1:0,this.gloveUI.select(),this.currentZen.judgeSelection()},u.cart=function(){var e=!this.isCarting;e?(!this.willMovePlantSlot||this.plantInCart||this.willMovePlantSlot.stuck||this.willMovePlantSlot.sprout||(this.plantInCart=this.willMovePlantSlot.plant,this.willMovePlantSlot.removePlant(),A.playPlantOnFloor(),e=!1),A.playCardChosen(),this.indexTo_1()):A.playRightButtonCancel(),this.isCarting=e,this.cartUI.index=this.isCarting?1:0,this.cartUI.select(),this.currentZen.judgeSelection()},u.clearScale=function(){this.pos=new y(0,0),this.scale=1},u.openShovelWindow=function(e){this.shovelWindowCancelLabel.string=K.getStringByProps("ZenGarden","ShovelWindow","Cancel"),this.shovelWindowConfirmLabel.string=K.getStringByProps("ZenGarden","ShovelWindow","Confirm");var n=K.getStringByProps("ZenGarden","ShovelWindow","Title");this.shovelWindowTitleLabel.string=n;var t=this.currentShovelSlot.plant.ID,i=R.getPlantFeature(t),l=K.getStringByProps("ZenGarden","ShovelWindow",e?"RemoveBoost":"Remove").replace("<PLANTNAME>",K.getString(i.NAME));this.shovelWindowDescriptionLabel.string=l,this.shovelBoost=e,this.shovelWindowCard.playAnimation(i._CARDSPRITENAME),e?this.shovelWindowCard.node.parent.getComponentsInChildren(b.ArmatureDisplay).forEach((function(e){e.customMaterial=null,e.color=new m(255,255,255,255)})):this.shovelWindowCard.node.parent.getComponentsInChildren(b.ArmatureDisplay).forEach((function(e){e.customMaterial=V.greyMaterial,e.color=new m(155,155,155,255)})),A.playOneShot(this.shovelWindowSound,1,.1),this.shovelWindow.active=!0},u.shovelConfirm=function(){this.currentZen.removeSlotPlant(this.currentShovelSlot,this.shovelBoost),this.shovelWindow.active=!1},u.shovelCancel=function(){this.shovelWindow.active=!1},u.switchZen=function(){var e=o(a().mark((function e(n){var t,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.waiting){e.next=2;break}return e.abrupt("return");case 2:return this.waiting=!0,this.gardens.forEach((function(e){e.node.active=!1})),this.indexTo_1(),n>=this.gardens.length&&(n=0),n<0&&(n=this.gardens.length-1),this.gardens[n]||(n=0),t=this.gardens[n],this.currentZen=t,t.node.active=!0,this.sfxPlayer.stop(),(i=t.ambience)&&(this.sfxPlayer.stop(),i.loadMode=d.AudioType.DOM_AUDIO,this.sfxPlayer.clip=i,this.sfxPlayer.play()),t.scene=this,e.next=17,t.initialize(this.getPlants(t.ID));case 17:this.clearScale(),this.waiting=!1;case 19:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}(),u.nextZen=function(){var e=this.gardens.indexOf(this.currentZen);this.switchZen(e+1)},u.startGardens=function(){var e=o(a().mark((function e(){var n,t,i,l,r,o,u,c=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:H._volumeScalePause=1,i=s(this.gardens.concat().reverse());case 2:if((l=i()).done){e.next=9;break}return r=l.value,o=this.gardens.indexOf(r),e.next=7,this.switchZen(o);case 7:e.next=2;break;case 9:this.sfxPlayer.loop=!0,this.sfxPlayer.play(),null!=(n=Z.currentPlayer.zengarden)&&n.plantInCart&&(this.plantInCart=null==(u=Z.currentPlayer.zengarden)?void 0:u.plantInCart),Z.savePP(),this.nextZenButton.node.on(g.EventType.MOUSE_DOWN,(function(e){e.getButton()==C.BUTTON_LEFT&&c.nextZen()}),this),this.shovelUI.node.on(g.EventType.MOUSE_DOWN,(function(e){e.getButton()==C.BUTTON_LEFT&&c.shovel()}),this),this.gloveUI.node.on(g.EventType.MOUSE_DOWN,(function(e){e.getButton()==C.BUTTON_LEFT&&c.glove()}),this),this.cartUI.node.on(g.EventType.MOUSE_DOWN,(function(e){e.getButton()==C.BUTTON_LEFT&&c.cart()}),this),this.node.on(g.EventType.MOUSE_DOWN,(function(e){e.getButton()==C.BUTTON_RIGHT?(c.indexTo_1(),c.pressed=!0):e.getButton()==C.BUTTON_MIDDLE&&(c.pressed=!0)}),this),this.node.on(g.EventType.MOUSE_UP,(function(e){e.getButton()!=C.BUTTON_MIDDLE&&e.getButton()!=C.BUTTON_RIGHT||(c.pressed=!1)}),this),z.on(T.EventType.KEY_DOWN,(function(e){if(c.shovelWindow.active)e.keyCode==x.ESCAPE&&c.shovelCancel();else{var n=N.KeyBinds;e.keyCode==x[n.ZenGarden_Shovel]?c.shovel():e.keyCode==x[n.ZenGarden_Glove]?c.glove():e.keyCode==x[n.ZenGarden_Cart]?c.cart():e.keyCode==x.DIGIT_0&&N.ctrlDown?c.clearScale():e.keyCode==x.ESCAPE?c.exitToMap():e.keyCode==x[n.ZenGarden_DealWithAll]?c.currentZen.slots.forEach((function(e){e.fulfillRequire()})):e.keyCode==x.KEY_P?N.ctrlDown&&N.shiftDown&&N.altDown&&W():e.keyCode==x[n.Game_HideUI]?c.hideUI():e.keyCode==x[n.ZenGarden_Next]&&c.nextZen()}}),this),this.zenParent.parent.parent.on(g.EventType.MOUSE_WHEEL,(function(e){c.scale*=Math.pow(1.01,e.getScrollY()/50)}),this),this.zenParent.parent.on(g.EventType.MOUSE_MOVE,(function(e){c.pressed&&(c.pos=c.pos.clone().add(e.getDelta()))}),this),null==(t=N.cp)||t.lighten();case 23:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),u.start=function(){this.startGardens()},u.hideUI=function(){this.uiNode.active=!this.uiNode.active},u.update=function(e){if(this.gloveInHand.active)if(this.willMovePlantSlot){var n=.2*this.scale;this.gloveInHand.scale=new S(n,n,n),this.gloveInHand.worldPosition=this.willMovePlantSlot.node.worldPosition.clone().add(new S(0,-20*this.scale,0))}else{var t=this.gloveOldScale;this.gloveInHand.scale=new S(t,t,t),this.gloveInHand.worldPosition=new S(k.position.x,k.position.y,10)}if(this.cartInHand.active){var i=this.cartOldScale*this.scale;this.cartInHand.scale=new S(i,i,i),this.cartInHand.worldPosition=new S(k.position.x,k.position.y,10)}if(this.plantInCartAnm)if(this.isCarting){var l=.3*this.scale;this.plantInCartAnm.node.scale=new S(l,l,l),this.plantInCartAnm.node.worldPosition=this.cartInHand.worldPosition.clone().add(new S(0,20*this.scale,0))}else{this.plantInCartAnm.node.scale=new S(.3,.3,.3),this.plantInCartAnm.node.worldPosition=this.cartUI.node.worldPosition.clone().add(new S(0,20,0))}this.musicControl(e),this.shovelInHand.active&&(this.shovelInHand.worldPosition=new S(k.position.x,k.position.y,10))},r(n,[{key:"isShoveling",get:function(){return this.shovelInHand&&this.shovelInHand.active},set:function(e){this.shovelInHand&&(this.shovelInHand.active=e)}},{key:"fastShovel",get:function(){return this.fastShovelToggle&&this.fastShovelToggle.isChecked}},{key:"isGloving",get:function(){return this.gloveInHand&&this.gloveInHand.active},set:function(e){this.gloveInHand&&(this.gloveInHand.active=e)}},{key:"isCarting",get:function(){return this.cartInHand&&this.cartInHand.active},set:function(e){this.cartInHand&&(this.cartInHand.active=e)}},{key:"plantInCart",get:function(){return this._plantInCart},set:function(e){var n=this;e&&!this._plantInCart?R.getPlantsInCard(e.ID).then((function(t){var i=G(t.plantDIS);i.parent=n.plantInCartLayer,n.plantInCartAnm=i.getComponent(j),n.plantInCartAnm.readCostume(e.ID);var l=Math.floor(e.grownTime/E*4),r=_.getPlantScale(l);n.plantInCartAnm.db.node.scale=new S(r,r,r)})):!e&&this._plantInCart&&this.plantInCartAnm&&(this.plantInCartAnm.node.destroy(),this.plantInCartAnm=null),this._plantInCart=e,Z.currentPlayer.zengarden.plantInCart=e,Z.savePP()}},{key:"scale",get:function(){return this._scale},set:function(e){var n=this.node.getComponent(P),t=this._scale,i=n.height,l=i*F,r=this.currentZen.node.scale.x,o=(this.currentZen.NE.x-this.currentZen.SW.x)*r,a=(this.currentZen.NE.y-this.currentZen.SW.y)*r;e=Math.min(10,Math.max(e,l/o,i/a)),this.zenParent.parent.scale=new S(e,e,e),t=e/this._scale,this._scale=e,this.pos=this.pos.clone().multiplyScalar(t)}},{key:"pos",get:function(){return this._pos},set:function(e){var n=this.node.getComponent(P),t=this.currentZen.node.scale.x,i=n.height,l=i*F,r=l/2-this.currentZen.NE.x*t*this._scale,o=-l/2-this.currentZen.SW.x*t*this._scale,a=i/2-this.currentZen.NE.y*t*this._scale,s=-i/2-this.currentZen.SW.y*t*this._scale;r>=o?e.x=(r+o)/2:e.x<r?e.x=r:e.x>o&&(e.x=o),a>=s?e.y=(a+s)/2:e.y<a?e.y=a:e.y>s&&(e.y=s),this.zenParent.worldPosition=this.zenParent.parent.worldPosition.clone().add(new S(e.x,e.y,10)),this._pos=e}}]),n}(I)).prototype,"sproutPar",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fe=n(Le.prototype,"jukeboxPar",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Re=n(Le.prototype,"pesticidePar",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),je=n(Le.prototype,"fertilizerPar",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ke=n(Le.prototype,"waterpourPar",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ve=n(Le.prototype,"selectionUI",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Je=n(Le.prototype,"flowerpot",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ye=n(Le.prototype,"floater",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Xe=n(Le.prototype,"shade",[ie],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qe=n(Le.prototype,"coinGold",[le],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qe=n(Le.prototype,"coinSilver",[re],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$e=n(Le.prototype,"gem",[oe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),en=n(Le.prototype,"sproutBirthSound",[ae],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),nn=n(Le.prototype,"sproutGrowthSound",[se],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),tn=n(Le.prototype,"plantGrowthSound",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ln=n(Le.prototype,"waterPourSound",[ce],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rn=n(Le.prototype,"pesticideSound",[he],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),on=n(Le.prototype,"jukeboxFallSound",[de],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),an=n(Le.prototype,"jukeboxPlaySound",[pe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),sn=n(Le.prototype,"fertilizerFallSound",[ge],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),un=n(Le.prototype,"fertilizerBlastSound",[ve],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),cn=n(Le.prototype,"plantDisappearSound",[fe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),hn=n(Le.prototype,"gardens",[be],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),dn=n(Le.prototype,"musics",[ye],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),pn=n(Le.prototype,"musicPlayer",[we],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),gn=n(Le.prototype,"sfxPlayer",[me],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),vn=n(Le.prototype,"nextZenButton",[Se],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fn=n(Le.prototype,"shovelUI",[Pe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),bn=n(Le.prototype,"shovelInHand",[Ie],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yn=n(Le.prototype,"fastShovelToggle",[Ce],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),wn=n(Le.prototype,"gloveUI",[ze],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),mn=n(Le.prototype,"gloveInHand",[Te],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Sn=n(Le.prototype,"cartUI",[xe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pn=n(Le.prototype,"cartInHand",[_e],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),In=n(Le.prototype,"plantInCartLayer",[Me],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Cn=n(Le.prototype,"shovelWindow",[Ee],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),zn=n(Le.prototype,"shovelWindowTitleLabel",[We],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Tn=n(Le.prototype,"shovelWindowCancelLabel",[Ze],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xn=n(Le.prototype,"shovelWindowConfirmLabel",[De],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_n=n(Le.prototype,"shovelWindowDescriptionLabel",[Ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Mn=n(Le.prototype,"shovelWindowCard",[Ge],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),En=n(Le.prototype,"shovelWindowSound",[Be],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Wn=n(Le.prototype,"boostSound",[He],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Zn=n(Le.prototype,"uiNode",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Dn=n(Le.prototype,"zenParent",[Ae],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ke=Le))||ke));u._RF.pop()}}}));

System.register("chunks:///_virtual/Zombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NodePools.ts","./ArrayGet.ts","./Character.ts","./BodyGrouper.ts","./CharacterManager.ts","./Square.ts","./LnC.ts","./Armors.ts","./SoundRescourses.ts","./Particles.ts","./FrontYard.ts","./Materials.ts","./Plant.ts","./levelController.ts","./Sunflower.ts","./Zombies.ts","./ZombieAshParticle.ts","./EgyptSandStormParticle.ts","./ParticleSelfdestroy.ts","./Plants.ts","./UI.ts","./LevelTaskCount.ts","./JSONs.ts","./flowerLine.ts"],(function(t){var e,i,n,o,a,s,r,h,l,d,c,u,p,f,g,m,b,y,w,S,P,v,k,D,T,C,B,L,_,A,R,z,I,O,x,W,E,H,Z,j,F,M,X,N,G,V,Y,q,K,U,J,Q,$,tt,et,it,nt,ot,at,st;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty,n=t.inheritsLoose,o=t.assertThisInitialized,a=t.asyncToGenerator,s=t.regeneratorRuntime,r=t.createClass},function(t){h=t.cclegacy,l=t._decorator,d=t.CCFloat,c=t.Enum,u=t.dragonBones,p=t.AudioClip,f=t.Prefab,g=t.Node,m=t.Vec2,b=t.Color,y=t.tween,w=t.Vec3,S=t.AudioSource,P=t.Material,v=t.math,k=t.Vec4,D=t.HALF_PI,T=t.TWO_PI},function(t){C=t.NodePools,B=t.instantiatePooly},function(t){L=t.ArrayGet},function(t){_=t.CharacterType,A=t.Character},function(t){R=t.BodyGrouper},function(t){z=t.ZombieGroanSoundGroupEnum,I=t.Rectangle,O=t.ZombieDamageDetails,x=t.ZombieDamageType,W=t.ZombiePool,E=t.FlowerLinePool,H=t.Umbrellas,Z=t.footballmech},function(t){j=t.Square},function(t){F=t.TileType},function(t){M=t.armors},function(t){X=t.sounds},function(t){N=t.particle},function(t){G=t.FrontYard,V=t.JamStyle},function(t){Y=t.materialRes},function(t){q=t.PlantType},function(t){K=t.LevelPlay},function(t){U=t.sunflower},function(t){J=t.ZombieEnum,Q=t.zombies},function(t){$=t.ZombieAshParticle},function(t){tt=t.EgyptSandStormParticle},function(t){et=t.ParticleSelfdestroy},function(t){it=t.PlantEnum},function(t){nt=t.UIInGame},function(t){ot=t.LevelTaskCountModeEnum},function(t){at=t.PvZ2Object},function(t){st=t.flowerLine}],execute:function(){var rt,ht,lt,dt,ct,ut,pt,ft,gt,mt,bt,yt,wt,St,Pt,vt,kt,Dt,Tt,Ct,Bt,Lt,_t,At,Rt,zt,It,Ot,xt,Wt,Et,Ht,Zt,jt,Ft,Mt,Xt,Nt,Gt,Vt,Yt,qt,Kt,Ut,Jt,Qt,$t,te;h._RF.push({},"1f230U4V25L0KJSottj1hy0","Zombie",void 0);var ee=l.ccclass,ie=l.property,ne=t("ZombiePoison",(rt=ee("ZombiePoison"),ht=ie({type:d,visible:!0}),lt=ie({type:d,visible:!0}),dt=ie({type:Boolean,visible:function(){return this.isValid()}}),rt((pt=e((ut=function(){var t=e.prototype;function e(t,e){i(this,"DPS",pt,this),i(this,"duration",ft,this),i(this,"infective",gt,this),this.DPS=t,this.duration=e}return t.isValid=function(){return this.DPS>0&&this.duration>0},t.copy=function(){return new e(this.DPS,this.duration)},e}()).prototype,"DPS",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ft=e(ut.prototype,"duration",[lt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),gt=e(ut.prototype,"infective",[dt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ct=ut))||ct)),oe=t("ZombieSort",function(t){return t[t.Normal=0]="Normal",t[t.Gargantuar=1]="Gargantuar",t[t.Zomboss=2]="Zomboss",t[t.Other=3]="Other",t}({}));c(z);t("Zombie",(mt=ee("Zombie Features"),bt=ie(u.ArmatureDisplay),yt=ie({type:z,visible:function(){var t;return!(null!=(t=this.groanSound)&&t.length)}}),wt=ie(Boolean),St=ie([p]),Pt=ie([p]),vt=ie({type:d,max:1,min:0}),kt=ie([p]),Dt=ie([p]),Tt=ie([p]),Ct=ie([p]),Bt=ie([p]),Lt=ie(f),_t=ie(R),At=ie(f),Rt=ie(f),zt=ie(Number),It=ie(g),Ot=ie(Number),mt((Et=e((Wt=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))||this)._reversed=!1,e._reverseCD=0,e._iceblock=void 0,e.grabbingPtero=void 0,e.tangled=!1,e.ShrinkProps=[],e.chilibeanFartTween=null,e.chilibeanPoisoning=!1,e.chiliStunParticle=null,e._chiliStun=0,e.CorrectShadeTween=void 0,e.displayed=!1,i(e,"butterFace",Et,o(e)),e.butterStun=0,i(e,"zombieGroanSoundGroup",Ht,o(e)),e.ID=J.tutorial,e.OID=J.tutorial,e.finalWaveVictoryCountdown=.1,e._poison=new ne(0,0),e.poisonPar=void 0,e.poisonfaceSlots=[],e._perfume=0,e.perfumeParticle=void 0,e.sapflingCD=0,e._flying=!1,e._off_ground=!1,i(e,"flyZombie",Zt,o(e)),e.currentFlyZombie=!1,i(e,"breakSound",jt,o(e)),i(e,"hurtSound",Ft,o(e)),i(e,"hurtSoundVolume",Mt,o(e)),i(e,"deathSound",Xt,o(e)),i(e,"onHeadThrownSound",Nt,o(e)),i(e,"lieSound",Gt,o(e)),i(e,"chewSound",Vt,o(e)),i(e,"groanSound",Yt,o(e)),e.enteredLawn=!1,i(e,"zombieAshParticle",qt,o(e)),e.zombieAshParticle_=null,i(e,"body",Kt,o(e)),e.countHealthToThisLane=!0,e.health=190,e.stunned=0,e._sunBeanParticleCD=0,e.accumulatedSunBeanHitPoint=0,e.sunbeanSunPerHitpoint=0,e.sunBeanParticle=void 0,e.WPC_real=100,e.WPC_wave=100,i(e,"zombieHead",Ut,o(e)),i(e,"zombieArm",Jt,o(e)),i(e,"zombieHeight",Qt,o(e)),e.isGargantuar=!1,e.bloomingheartPar=void 0,e.BloomingHeartDefenceRateList=[],e.potatoMineDisappear=!0,e.depthStartingZ=10,e.knockBackTween=null,e.changeLaneTween=null,e.knockBackable=!0,e.leapable=!0,e.knockedByAnkylo=0,e.tallNutBlock=!1,e.leapHeightTween=null,e.canBeKilledByRule=!0,e.dirtSpawning=!1,e.dirtSpawnTweens=[],e.teleporting=!1,e.teleportTweens=[],e._objdataOwnOrg=new ae,e._objdataOwn=new ae,e.DefaultHitRect={x:0,y:38,w:48,h:96},e.DefaultAttackRect={x:0,y:38,w:32,h:96},e.objdata={},e.randomIdleSpeedRate=0,e.randomWalkSpeedRate=0,e.haveArm=!0,i(e,"headDropPoint",$t,o(e)),e.haveHead=!0,e._armors=[],e._armorSocket=null,e.chompable_=!0,e.easyToChomp_=!1,e.glittering=0,e.chill=0,e.freeze=0,e.haveSun=0,e.icetrapParticle=void 0,e.dead=!1,e.dealDamageScale=[],e.isRealZombie=!0,e.isRhythm=!1,e.chewSoundWhenEat=!0,e.isEating=!1,e.isIdling=!1,e._isWalking=!1,e._spawnedZomboss=void 0,e.coloredWhenHypnotized=!0,e.hypnoPar=void 0,e._hypnotized=!1,e._usedToBeHypnotized=!1,e.audioSource=void 0,e.inWater=!1,e._plantDetectorRec=I.createRectangleCenter(new m(1e5,1e5),1,1),e._potionInvisible=!1,e._potionSpeedLevel=0,e.potionSpeedDeltaScalePerLevel=1.1,e.potionSpeedDeltaSPDScalePerLevel=1.5,e._potionToughnessLevel=0,e.potionToughnessDeltaScalePerLevel=1.1,e.potionToughnessDeltaDMGScalePerLevel=.85,e.BlueBerryCloud=null,e.lieEnded=!1,e.deathAnmFadeInTime=.1,e.bodyRecHiddenCD=1,e.spawnedWave=-1,e._bodyRec=I.createRectangleCenter(new m(1e5,1e5),1,1),e.hurting=0,e.havePlantfood=!1,e.material=void 0,e.TotalRGB=0,e._addColor=new b(0,0,0,255),e.spawnLane=null,e.scaredByTyranno=!1,e.warningCD=0,e.destroyWhenFallEnd=!1,i(e,"depthScale",te,o(e)),e.sandStormPar=void 0,e.sandStormTween=void 0,e.waveParticle=null,e.blew=!1,e.blowAwayTweens=[],e.CarriedSporeShroom=!1,e.pfParCD=0,e.isBoss=!1,e.switching=!1,e.isBrainEater=!0,e.bindsToLane=!0,e.oldTileType=F.solid,e.walkDir=new m(-1,0),e.walkRouteBufferDistance=NaN,e.walkRoute=[],e.walkSPSAtRoute=1,e._DetectedGrimrose=null,e.GrimRoseDragged=!1,e.eatSoundCoolDown=0,e}n(e,t);var h=e.prototype;return h.onZombiesGot=function(t,e){},h.onKickedByAllstar=function(t){},h.onGrabbedByPtero=function(t){},h.onDroppedByPtero=function(t){},h.updateWhenBeingGrabbedByPetero=function(t){this.setStun(.1)},h.onReversedSet=function(t){},h.reverseSetScale=function(t){var e=this.shadeSocket.worldPosition.x-this.worldPositionX,i=this.scale;this.scale=Math.abs(this.scale)*(t?-1:1),this.scale!=i&&(this.worldPositionX+=2*e)},h.empStun=function(t){},h.commonShotPopOnTouch=function(t){return!0},h.specialZombieOnShrinked=function(t,e){},h.shrink=function(t,e){var i=this;if(void 0===e&&(e=1.5),null!=t&&t.length){t.forEach((function(t){i.ShrinkProps.push(t)}));var n=this.shouldScale();if(e>0)if(this.setStun(1.5),this.objdataOwn.KilledByShrinkingViolet){this.blew=!0,this.playDie(!0,null,!1);var o=y(this).to(e,{scale:.01,worldPosition:this.worldPosition}).call((function(){C.destroyPooly(i.node)})).start();this.blowAwayTweens.push(o)}else y(this).to(e,{scale:n}).start();else this.objdataOwn.KilledByShrinkingViolet?this.chomp():this.scale=n;this.specialZombieOnShrinked(t,e)}},h.getGargantuarName=function(){switch(Q.getZombieFeature(this.ID).OBTAINWORLD){case"egypt":return J.egypt_gargantuar;case"pirate":return J.pirate_gargantuar;case"cowboy":return J.cowboy_gargantuar;case"future":return J.future_gargantuar;case"dark":return J.dark_gargantuar;case"water":case"beach":return J.beach_gargantuar;case"ice":return J.iceage_gargantuar;case"lostcity":return J.lostcity_gargantuar;case"eighties":return J.eighties_gargantuar;case"dino":return J.dino_gargantuar;case"kongfu":return L.getRandom([J.kongfu_bronze_chi,J.kongfu_bronze_strong,J.kongfu_bronze_hook])}return J.tutorial_gargantuar},h.playPopOut=function(){var t=this.body.node.scale.clone();this.body.node.scale=new w(.1,.1,0),y(this.body.node).to(.3,{scale:t.clone().multiplyScalar(1.1)},{easing:"quadOut"}).to(.2,{scale:t},{easing:"quadInOut"}).start()},h.chilibeanFart=function(){var t=this;this.chilibeanPoisoning=!0,this.chilibeanFartTween=y(this.db.color).to(2,{r:0,g:255,b:0}).call((function(){X.playZombieFart(),t.chilibeanPoisoning=!1,t.switching=!0,t.playIdle();var e=B(N.zombieFart());e.parent=t.node.parent,e.setSiblingIndex(t.node.getSiblingIndex()),e.worldPosition=new w(t._worldPositionX,t._worldPositionY+t.height),e.scale=t.node.scale.clone().multiply(t.body.node.scale);t._bodyRec.prjX();t.reversed?t.inLane.zombiePool().forEach((function(e){e.bodyRecReal.prjX().x<=t.worldPositionX+20&&e.setChiliStun(10)})):t.inLane.zombiePool().forEach((function(e){e.bodyRecReal.prjX().y>=t.worldPositionX-20&&e.setChiliStun(10)}))})).to(1,{r:255,g:255,b:255}).call((function(){t.playDie(),t.chilibeanFartTween=null})).start()},h.sunbeanBlast=function(t){var e=this;this.chilibeanPoisoning=!0,this.chilibeanFartTween=y(this.db.color).to(1,{}).call((function(){t.forEach((function(t){X.playOneShot(t,1,.1)})),e.chilibeanPoisoning=!1,e.chilibeanFartTween=null,e.playAsh(),e.playDie()})).start()},h.dealChiliStun=function(t){this.chiliStun>0&&(this.chiliStun-=t,this.chiliStunParticle&&(this.chiliStunParticle.node.worldPosition=new w(this._worldPositionX,this._worldPositionY)))},h.onChiliStunned=function(t){},h.setChiliStun=function(t){return this.dead||(this.chiliStun=t>this.chiliStun?t*this.objdataOwn.ChiliStunDurationMult:this.chiliStun),this.freeze>0&&(this.onChiliStunned(this.chiliStun),this._onStunned(this.chiliStun)),!0},h.garlicLaneChange=function(t,e,i,n,o){var a=this;X.playArray(i,1),this.setStun(t+e),this.changeLaneTween=y(this).to(t,{}).call((function(){a.changeLaneTween=null;var t=[],i=a.lIndex-1,s=j.getLnC(i,a.cIndex),r=j.getLane(i);null!=r&&r.isInLawn()&&s&&(a.flying||s.getTileType()!=F.sea)&&t.push(i);var h=a.lIndex+1,l=j.getLnC(h,a.cIndex),d=j.getLane(h);if(null!=d&&d.isInLawn()&&l&&(a.flying||l.getTileType()!=F.sea)&&t.push(h),t.length>0){var c=L.getRandom(t);switch(c){case i:X.playArray(n,1);break;case h:X.playArray(o,1)}a.changeLaneTo(c,e,"quadInOut")}})).start()},h.lobberTarget=function(){return this},h.lobberToPos=function(t){var e=this.shadeSocket.worldPosition.x+this.HitRect.x*this.scale,i=this.getShouldSpeed(),n=this.walkSpeedScaleExtra()*i*j.SquareWidth/60*t*(this.reversed?-1:1);return new m(e+this.walkDir.x*n,this.worldPositionY+this.walkDir.y*n)},h.correctShadeWP=function(t){var e;void 0===t&&(t=0),null==(e=this.CorrectShadeTween)||e.stop(),t>0?this.CorrectShadeTween=y(this).to(t,{worldPositionX:this.shadeSocket.worldPosition.x}).start():this.worldPositionX=this.shadeSocket.worldPosition.x},h.onButtered=function(t){},h.setButter=function(t,e){return void 0===e&&(e=!1),this.invincible?(this.butterStun=0,!1):(e&&this.butterStun<=0&&t>0&&X.playButterOn(),this.butterStun=this.butterStun>t?this.butterStun:t,this.butterStun>0&&(this.onButtered(this.butterStun),this._onStunned(this.butterStun)),!0)},h.dealButter=function(t){this.butterStun>0&&(this.butterStun-=t),this.butterFace&&(this.butterFace.node.active=this.butterStun>0)},h.dealHurrikale=function(t){var e;!this.hypnotized&&null!=(e=this.inLane)&&e.hurrikaleBlowing()&&(this.flying?this.blowAway():(this.knockBackBy(new m(.2),!1,.1,!0,!1,!1),this.setChill(8)))},h.eatByZombie=function(t,e){if(this.dealDamage(t),this.objdataOwn.FoeEatDamageReflectPct>0){var i=t.replaceDamage(t.damage*this.objdataOwn.FoeEatDamageReflectPct);e.dealDamage(i)}},h.setPoison=function(t,e,i){if(void 0===i&&(i=!1),this.invincible)this.poison=new ne(0,0);else{var n=new ne(t>=this.poison.DPS?t:this.poison.duration,e>=this.poison.duration?e:this.poison.duration);n.infective=this.poison.infective||i,this.poison=n}},h.dealPoison=function(t){var e=this;this.poisonfaceSlots.forEach((function(t){t._setDisplayIndex(e.poison.isValid()?0:-1)})),this.poison.isValid()?(this.dealDamage(new O(t*this.poison.DPS,!1,!1,!1,null,0,!1)),this.poison.duration-=t,this.poison.infective&&this.isAlive()&&this.inLane.zombiePool().forEach((function(t){var i;null!=(i=t.poison)&&i.isValid()||!e.bodyRec.judgeCrossRec(t.bodyRec)||t.setPoison(e.poison.DPS,e.poison.duration,!0)}))):this.poison=new ne(0,0)},h.setPerfume=function(t){this.perfume=t>this.perfume?t:this.perfume},h.dealPerfume=function(t){this.perfume>0&&(this.perfumeParticle&&(this.perfumeParticle.node.worldPosition=this.node.worldPosition),this.perfume-=t)},h.specialZombieOnLanding=function(){},h.onLanding=function(){this.inLnC&&(this.dead||this.fallingInSky||this.specialZombieOnLanding())},h.playOnHeadThrownSound=function(){X.playArray(this.onHeadThrownSound)},h.playDeathSound=function(){X.playArray(this.deathSound,1,this.isRhythm?0:NaN)},h.playHurtSound=function(){X.playArray(this.hurtSound,this.hurtSoundVolume)},h.playBreakSound=function(){this.breakSound.length?X.playArray(this.breakSound):X.playZombieLimbPop()},h.specialAshPlayed=function(t){},h.beforeAshPlayed=function(t,e){},h.playAsh=function(t,e){if(void 0===t&&(t=!1),void 0===e&&(e=0),!this.zombieAshParticle_)return this.isAlive()&&this.playDie(),null;var i=C.instantiatePooly(this.zombieAshParticle_);if(null!=i&&i.isValid){this.beforeAshPlayed(t,e),i.parent=this.node.parent,i.setSiblingIndex(this.node.getSiblingIndex()),this.correctShadeWP(),this.playDie(!0);var n=i.getComponent($);this.node.scale.x;return this.smartShadeHider?n.inLnC=this.shadeInLnC:n.inLnC=this.inLnC,n.characterComponent.worldPosition=new m(this.worldPositionX,this.worldPositionY),n.characterComponent.height=this.height,n.characterComponent.depth=this.depth,n.characterComponent.scale=this.scale,n.height=this.height,n.playAsh(),this.isGargantuar&&X.playGargantuarAsh(),this.playSpecialZombieDieForced(),this.specialAshPlayed(n),C.destroyPooly(this.node),n.db}},h.extraHealth=function(){return 0},h.totalToughness=function(){var t=this.toughness;return this.armors.forEach((function(e){t+=e.health})),t+=this.extraHealth()},h.leftHealthForBonkChoy=function(){return this.totalHealth()},h.totalHealth=function(){if(!this.isAlive())return 0;var t=this.health;return this.armors.forEach((function(e){t+=e.health})),t+=this.extraHealth()},h._onStunned=function(t){this.invincible||(this.endSandStorm(),this.onStunned(t))},h.onStunned=function(t){},h.setStun=function(t){this.stunned=t>this.stunned?t:this.stunned,this._onStunned(t)},h.characterLateUpdate=function(t){},h.pushSunBeanHealth=function(t){if(!(this.sunbeanSunPerHitpoint<=0)){this.accumulatedSunBeanHitPoint+=t*this.sunbeanSunPerHitpoint;var e=this.accumulatedSunBeanHitPoint%5,i=this.accumulatedSunBeanHitPoint-e;i>=5&&U.produceSun(i,this.worldPosition,this.zombieHeight/2,!0),this.accumulatedSunBeanHitPoint=e}},h.setSunBeanSunPerHitpoint=function(t){this.sunbeanSunPerHitpoint=Math.max(t,this.sunbeanSunPerHitpoint)},h.setSunBeanParticleCD=function(t){this.sunBeanParticleCD=Math.max(t,this._sunBeanParticleCD)},h.dealSunBeanPar=function(t){this.sunBeanParticleCD>0&&(this.sunBeanParticleCD-=t,this.sunBeanParticle&&(this.sunBeanParticle.node.worldPosition=new w(this._worldPositionX,this._worldPositionY+this.zombieHeight/2)))},h.onDamaged=function(t,e,i){},h.LiesImmediatelyWhenHeavyDamaged=function(){return!0},h.killBloomingheartPar=function(){this.bloomingheartPar&&(this.bloomingheartPar.willBeKilled=!0,this.bloomingheartPar.db.playAnimation("Die"),this.bloomingheartPar=null)},h.pushBloomingHeartDefenceRateList=function(t,e){var i=this;if(void 0===e&&(e=null),t.forEach((function(t){i.BloomingHeartDefenceRateList.push(t)})),e&&!this.bloomingheartPar){var n=B(e);n.parent=this.node.parent,n.setSiblingIndex(this.node.getSiblingIndex()+1),n.worldPosition=new w(this.shadeSocket.worldPosition.x,this.worldPositionY+this.height_depth);var o=Math.abs(this._scaleForCharacter*this.originalShadeScale.width/.25);n.worldScale=new w(o,o,1);var a=n.getComponent(et);this.bloomingheartPar=a}},h.damageScale=function(t){var e=Math.pow(this.potionToughnessDeltaDMGScalePerLevel,this.potionToughnessLevel);return this.BloomingHeartDefenceRateList.forEach((function(t){e*=1/t})),this.ShrinkProps.forEach((function(t){e*=t.DamageMultiplier})),this.dealDamageScale.forEach((function(t){e*=t})),(e*=K.zombieDamageReceiveScale)*this.extraDamageScale(t)},h.extraDamageScale=function(t){return 1},h.canPlayAshNow=function(){return!0},h.dealDamageAccordingToBowlingLevel=function(t,e){if(this.armors.length&&e.armorProtection){var i=this.armors[0].getDamageAccordingToBowlingLevel(t);this.dealDamage(e.replaceDamage(i))}else this.specialDealDamageAccordingToBowlingLevel(t,e)},h.specialDealDamageAccordingToBowlingLevel=function(t,e){this.dealDamage(e)},h._setHurtingOnDamaged=function(){this.hurting=10},h.onDamagedButArmor=function(t){},h.defaultDealDamage=function(t){var e=this;if(void 0===t&&(t=new O),this.invincible)return this.health;if(!this.dead&&t.damage>0){var i=this.LiesImmediatelyWhenHeavyDamaged(),n=this.damageScale(t);if(t.damageType==x.fire&&(this.chill=0,this.freeze=0),this.armors.length<=0||!t.armorProtection){var o=t.damage*n;t.flash&&o>0&&this._setHurtingOnDamaged();var a=this.health+0;if(this.health-=o,this.health<0&&(this.health=0),this.pushSunBeanHealth(a-this.health),t.bodyKnockSound&&this.playHurtSound(),this.onDamaged(a,this.health+0,t),t.armorAlsoDamagedWhenNotProtecting&&this.health>0&&this.armors.concat().forEach((function(i){if(i.dealDamage(t.damage*n,t.armorKnockSound)<=0){e.throwArmor(i,t.damageDirection);var o=e.armors.indexOf(i);-1!=o&&e.armors.splice(o,1),C.destroyPooly(i.node)}})),this.health<=this.toughness*this.objdataOwn.ArmDroppingHealthPct&&this.haveArm&&(t.damageType!=x.ray&&t.damageType!=x.fire&&t.damageType!=x.electricity||!(this.health<=0))){var s,r=null==(s=t.damageDirection)?void 0:s.clone();r&&r.multiply2f(1,.5).normalize().multiplyScalar(t.damageDirection.length()),this.breakArm(r)}if(this.health<=0)if(this.throwAllArmors(t.damageDirection),this.canPlayAshNow()&&(t.damageType==x.ray||t.damageType==x.fire||t.damageType==x.electricity)&&this.zombieAshParticle_){var h=t.damageType==x.electricity,l=t.shockRGB,d=this.playAsh(h,l);if(d&&h){d.playAnimation("Shock",2);var c=d.getComponent($);c&&(c.TotalRGB=l),X.playZombieShock(this.isGargantuar)}}else this.playDie(!1,t.damageDirection,!0,t.damageType,!0,t.damage>=this.toughness&&i),t.damageType==x.potatoMine&&this.potatoMineDisappear&&C.destroyPooly(this.node)}else if(this.armors.length>0&&t.armorProtection){var u,p=null==(u=this.armors[0])?void 0:u.dealDamage(t.damage*n,t.armorKnockSound);if(this.onDamagedButArmor(t),null!=p&&p<=0){var f=this.armors[0];this.throwArmor(f,t.damageDirection),this.armors.shift(),C.destroyPooly(f.node),this.dealDamage(t.replaceDamage(-p))}}return this.health}return this.health},h.onRealPosChange=function(){},h.dealDamage=function(t){return this.defaultDealDamage(t)},h.specialMagnetedObject=function(){return null},h.getFoodMagnetedObject=function(){return this.getMagnetedObject()},h.getMagnetedObject=function(){var t=this.specialMagnetedObject();if(t)return t;if(this.armors[0]&&this.armors[0].isMetal){var e=this.armors.shift(),i=this.throwArmor(e,null);return i.db.playAnimation(e.db.animationName),C.destroyPooly(e.node),i}},h.onArmorThrown=function(t){},h.throwAllArmors=function(t){var e=this;void 0===t&&(t=null),this.armors.length&&(this.armors.concat().forEach((function(i){e.throwArmor(i,t),C.destroyPooly(i.node)})),this.armors=[])},h.throwArmor=function(t,e){this.pushSunBeanHealth(t.health),this.onArmorThrown(t);var i=this.drop(t.armorDROP,Math.max(1,t.node.worldPosition.y-this._worldPositionY),new w(t.node.worldPosition.x,this._worldPositionY,0),e,this.node.parent,.4);i.getComponent(u.ArmatureDisplay).playAnimation("Broken2");var n=t.node.worldScale.x;return i.node.worldScale=new w(n,n,n),t.owner=null,i},h.specialOnMouseClicked=function(){return!1},h.onMouseClicked=function(){return this.specialOnMouseClicked()},h.specialZombieOnDisable=function(){},h.characterOnDisable=function(){var t,e,i,n;if(null==(t=this.CorrectShadeTween)||t.stop(),this.armors.length&&(this.armors.concat().forEach((function(t){C.destroyPooly(null==t?void 0:t.node)})),this.armors=[]),W.deleteZombie(this),null==(e=this.inLane)||e.deleteZombie(this),this.waveParticle){var o,a=this.waveParticle;null==(o=a.db)||o.playAnimation("Fade"),a.willBeKilled=!0,this.waveParticle=null}null!=(i=this.icetrapParticle)&&i.isValid&&(this.icetrapParticle.playAnimation("Die",1),this.icetrapParticle=null),this.killBloomingheartPar(),this.clearBuff(),this.specialZombieOnDisable(),this.dirtSpawnTweens.forEach((function(t){null==t||t.stop()})),this.blowAwayTweens.forEach((function(t){t.stop()})),this.blowAwayTweens=[],null==(n=this.teleportTweens)||n.forEach((function(t){null==t||t.stop()})),this.teleportTweens=[]},h.onLaneChangeTweenStart=function(){},h.changeLaneTo=function(t,e,i){var n=this;void 0===e&&(e=.5),void 0===i&&(i="linear"),this.endSandStorm(),t==this.lIndex||this.iceblocked||this.knockBackTween||this.changeLaneTween||(this.onLaneChangeTweenStart(),this.changeLaneTween=y(this).to(e,{worldPositionY:j.getLane(t).floorY},{easing:i}).call((function(){n.changeLaneTween=null})).start())},h.detectFlower=function(t){var e=this,i=!1;if(!(this.grabbingPtero||!this.isAlive()||this.flying||this.bodyRecHiddenCD>0||!this.isWalking||!this.willTrampleFlower()||t<=0)){var n=Math.abs(this.scale),o=I.createRectangleCenter(new m(this.shadeWorldPosition.x,this.worldPositionY),32*n,32*n);E.pool.forEach((function(t){if(t.inLane==e.inLane&&!t.dead){var n=I.createRectangleCenter(t.worldPosition,j.SquareWidth/20,j.SquareHeight),a=I.createRectangleCenter(t.worldPosition.clone(),1.5*j.SquareWidth,j.SquareHeight);n.judgeCrossRec(o)?t.die():!i&&a.judgeCrossRec(o)&&(i=!0,st.warningCD=.5,t.warn())}}))}},h.onKnockBackStart=function(){},h._onKnockBackEnd=function(){var t;this.knockedByAnkylo=0,null==(t=this.knockBackTween)||t.stop(),this.knockBackTween=null,this.tallNutBlock=!1,this.off_ground=!1,this.flying=this.currentFlyZombie},h.specialZombieKnockbackable=function(){return!0},h.knockBackTo=function(t,e,i,n,o){var a,s=this;if(void 0===e&&(e=!0),void 0===i&&(i=.1),void 0===n&&(n=!0),void 0===o&&(o=!1),this.knockedByAnkylo=0,!this.specialZombieKnockbackable()||this.changeLaneTween||this.iceblocked)return new m(this.worldPositionX,this.worldPositionY);this._onStunned(i),this.onKnockBackStart(),this.chiliStun=0,n||null==(a=this.knockBackTween)||a.stop(),this.off_ground=e,this.tallNutBlock=o;return this.knockBackTween=y(this).to(i*(this.currentFlyZombie?.2:1),{worldPositionX:t.x,worldPositionY:t.y}).call((function(){s._onKnockBackEnd()})).start(),t},h.knockBackDistanceScale=function(){return 1},h.knockBackBy=function(t,e,i,n,o,a){if(void 0===e&&(e=!0),void 0===i&&(i=.1),void 0===n&&(n=!0),void 0===o&&(o=!1),void 0===a&&(a=!1),!this.specialZombieKnockbackable()||this.changeLaneTween||this.iceblocked||this.teleporting)return new m(this.worldPositionX,this.worldPositionY);var s=this.worldPositionX+t.x*j.SquareWidth*this.knockBackDistanceScale(),r=j.getSquareWorldPosition(0,8,1,1).x-1,h=j.getSquareWorldPosition(0,0,0).x;!o&&s>r&&(s=Math.min(this.worldPositionX+t.x*j.SquareWidth,Math.max(this.worldPositionX,r))),s<h&&(s=h);var l=new m(s,this._worldPositionY-t.y*j.SquareHeight);return this.knockBackTo(l,e,i,n,a),l},h._onLeapEnd=function(t){var e;null==(e=this.leapHeightTween)||e.stop(),this.leapHeightTween=null,this.onLeapEnd(t)},h.specialZombieLeapable=function(){return!0},h.leapBy=function(t,e,i,n,o,a,s,r){var h;if(void 0===e&&(e=!0),void 0===i&&(i=.5),void 0===n&&(n=27),void 0===o&&(o=!0),void 0===a&&(a=!1),void 0===s&&(s=!1),void 0===r&&(r=!0),this.specialZombieLeapable()){null==(h=this.leapHeightTween)||h.stop(),r&&this.setStun(i);var l=this.knockBackBy(t,e,i,!1,a,s);this._setLeapHeightTween(l,i,n,o)}},h._setLeapHeightTween=function(t,e,i,n){var o,a=this;null==(o=this.leapHeightTween)||o.stop();var s=this.height_depth;i<s&&(i=s);var r=i-s,h=this.currentFlyZombie?0:-this.shouldDepth(),l=e/(1+Math.sqrt(r/(i-h)));this.leapHeightTween=y(this).to(e-l,{height_depth:i},{easing:"quadOut"}).to(l,{height_depth:h},{easing:"quadIn"}).call((function(){a._onLeapEnd(n)})).start()},h.leapTo=function(t,e,i,n,o,a,s){if(void 0===e&&(e=!0),void 0===i&&(i=.5),void 0===n&&(n=27),void 0===o&&(o=!0),void 0===a&&(a=!1),void 0===s&&(s=!0),this.specialZombieLeapable()){s&&this.setStun(i);var r=this.knockBackTo(t,e,i,!1,a);this._setLeapHeightTween(r,i,n,o)}},h.specialOnLeapEnd=function(){},h.onLeapEnd=function(t){var e=this;if(void 0===t&&(t=!0),this.specialOnLeapEnd(),t&&this.isAlive()&&!this.hypnotized){var i=!1;H.umbrellas.forEach((function(t){var n,o,a,s;i||null!=t&&null!=(n=t.owner)&&n.sheepend||((null==t||null==(o=t.owner)?void 0:o.inLane)==e.inLane||(null==t||null==(a=t.owner)||null==(a=a.inLane)?void 0:a.UpperLane)==e.inLane||(null==t||null==(s=t.owner)||null==(s=s.inLane)?void 0:s.LowerLane)==e.inLane)&&t.owner.umbrellable()&&t.detector.judgeCrossRec(e.bodyRec)&&(i=!0,t.owner.bounce())})),i&&this.leapBy(new m(10,0),!0,.5,80,!1)}this.inLane&&(this.inLane.LaneIndex<0||this.inLane.LaneIndex>4)&&this.playDie()},h.onTallNutBlocked=function(){},h.tallNutListen=function(){var t,e=this;this.hypnotized||null==(t=this.inLane)||t.plantPool().forEach((function(t){t.ID==it.Tallnut&&e.knockBackTween&&e.leapHeightTween&&e.bodyRec.judgeCrossRec(t.bodyRec)&&(e._onKnockBackEnd(),e.onLeapEnd(!0),e.height=0,e.onTallNutBlocked())}))},h.ankyloKnockListen=function(){var t,e,i,n=this,o=!1,a=this.knockedByAnkylo;this.hypnotized||null==(t=this.inLane)||t.plantPool().forEach((function(t){n.bodyRec.judgeCrossRec(t.bodyRecForAnkyloKnockedZombies)&&t.eaterDetectable&&(o=!0,a<0?Z.pushPlantLeft(t,500,.5):Z.pushPlantRight(t,500,.5))})),(this.hypnotized?null==(e=this.inLane)?void 0:e.zombiePool():null==(i=this.inLane)?void 0:i.hypnoZombiePool()).forEach((function(t){n.bodyRec.judgeCrossRec(t.bodyRec)&&(o=!0,t.knockBackBy(new m(a,0),!0,.5))})),o&&this._onKnockBackEnd()},h.onDirtSpawned=function(t){},h.playDirtSpawnParticle=function(){var t=B(N.dirtSpawn());t.parent=this.node.parent,t.worldPosition=new w(this._worldPositionX,this._worldPositionY,10),X.playDirtRise(!1,!0)},h.playDirtSpawn=function(t,e){var i,n,o=this;switch(void 0===e&&(e=!0),null==(i=this.inLnC)?void 0:i.getTileType()){case F.sea:case F.sky:return}if(t<0&&(t=0),this.playIdle(),this.dirtSpawning=!0,this.switching=!0,this.onDirtSpawned(t),null!=(n=this.db)&&n.isValid){this.depth=this.HitRect.h;var a=y(this).to(t,{}).call((function(){var t;e&&(null==(t=o.inLnC)?void 0:t.getTileType())!=F.water&&o.playDirtSpawnParticle()})).to(.5*this.zombieHeight/60,{height_depth:this.flying?0:-this.shouldDepth()},{easing:"quadOut"}).to(.35,{}).call((function(){o.dirtSpawning=!1,o.switching=!1,o.playWalk(),o.detectPlant(.01)})).start();this.dirtSpawnTweens.push(a)}},h.endDirtSpawn=function(){this.dirtSpawning&&(this.dirtSpawnTweens.forEach((function(t){t.stop()})),this.dirtSpawning=!1,this.height_depth=this.flying?0:-this.shouldDepth())},h.heal=function(t){if(void 0===t&&(t=this.toughness),this.isAlive()){var e=this.health,i=Math.min(this.toughness,this.health+t);this.health=i,this.health>this.toughness/2&&(this.haveArm=!0,this.body.showArm(!0)),this.onDamaged(e,i,new O)}},h.healArmors=function(){this.armors.forEach((function(t){t.health=t.toughness,t.setDisplay()})),this.onArmorHealed()},h.onArmorHealed=function(){},h.characterShadeHidden=function(){return this.teleporting},h.onTeleportStart=function(t){void 0===t&&(t=this.worldPositionX)},h.teleportToPos=function(t,e,i,n,o,a){var s=this;void 0===n&&(n=null),void 0===o&&(o=null),void 0===a&&(a=function(){});var r=this.body.node.scale.clone();this.teleporting=!0,this.endSandStorm();var h=function(t){if(t){var e=B(t);e.parent=s.inLane.prjLayer,e.worldPosition=s.worldPosition.toVec3()}};h(n);var l=y(this.addColor).to(.1,{r:255,g:255,b:255}).to(.1,{r:0,g:0,b:0}).to(.1,{r:255,g:255,b:255}).start(),d=y(this.body.node).to(.6,{}).to(.4,{scale:new w(0,0,0)}).to(t,{}).call((function(){a(),s.playTeleportSpawn(s.worldPositionX,r);var t=j.getLnC(e.y,e.x);null!=t&&t.isInLawn()&&(s.worldPosition=new m(t.node.worldPosition.x+i,t.inLane.floorY)),h(o)})).start();this.teleportTweens.push(l,d)},h.playTeleportSpawn=function(t,e){var i=this;void 0===t&&(t=this.worldPositionX),void 0===e&&(e=null);var n=this.body.node.scale.clone();e&&(n=e),this.teleporting=!0,this.body.node.scale=new w(.1,.1,0),this.addColor=new b(255,255,255,255);var o=y(this.addColor).by(1,{}).to(.1,{r:0,g:0,b:0}).to(.1,{r:255,g:255,b:255}).to(.1,{r:0,g:0,b:0}).call((function(){i.teleporting=!1})).start(),a=y(this.body.node).to(.4,{scale:n.clone().multiplyScalar(1.3)},{easing:"quadOut"}).to(.4,{scale:n},{easing:"quadInOut"}).start();this.teleportTweens.push(o,a),isNaN(t)||(this.worldPositionX=t),this.onTeleportStart(t)},h.setRectBoxes=function(){var t,e,i=null==(t=at.getObjectsByRTID(this.objdataOwn.HitRect,"RectangleProps")[0])||null==(t=t.objdata)?void 0:t.Values;i&&(this.DefaultHitRect=i);var n=null==(e=at.getObjectsByRTID(this.objdataOwn.AttackRect,"RectangleProps")[0])||null==(e=e.objdata)?void 0:e.Values;n&&(this.DefaultAttackRect=n)},h.setObjdata=function(t,e){this.objdata=t,this.modObjdataOwn(t,e),this.setRectBoxes(),this.onObjdataSet(t)},h.onObjdataSet=function(t){},h.modObjdataOwn=function(t,e){var i=this;Object.getOwnPropertyNames(this._objdataOwn).forEach((function(e){null!=t[e]&&(i._objdataOwn[e]=t[e])})),Object.getOwnPropertyNames(this._objdataOwnOrg).forEach((function(t){null!=e[t]&&(i._objdataOwnOrg[t]=e[t])}))},h.getShouldSpeed=function(){return this.randomSpeed*j.SquareWidth/60*(this.isWalking?1:0)*this.shouldSpeedScale()},h.setSpeed=function(t,e){void 0===e&&(e=!0),this.isWalking=e},h.judgeTyrannoScareCancel=function(){(this.chill>0||this.freeze>0||this.perfume>0||this.sapflingCD>0)&&(this.scaredByTyranno=!1)},h.defaultShouldSpeedScale=function(){if(this.leapHeightTween&&!this.isAlive())return 0;if(this.dead)return 1;if(this.fadingAway||this.iceblocked||this.teleporting||!this.invincible&&(this.stunned>0||this.butterStun>0||this.fallingInSky||this.freeze>0||this.chilibeanPoisoning||this.chiliStun>0))return 0;var t=1;if(this.invincible||(this.chill>0&&(t*=.5),this.perfume>0&&(t*=.5),this.sapflingCD>0&&(t*=.5)),t*=Math.pow(this.potionSpeedDeltaSPDScalePerLevel,this.potionSpeedLevel),this.isWalking&&this.oldTileType==F.water&&(t*=this.objdataOwn.SpeedScaleInWater),this.ShrinkProps.forEach((function(e){t*=e.SpeedScale})),this.scaredByTyranno&&(t*=4),this.isWalking)switch(G.getCurrentJam()){case V.jam_punk:t*=this.objdataOwnOrg.JamPunkWalkSpeed;break;case V.jam_pop:t*=this.objdataOwnOrg.JamPopWalkSpeed;break;case V.jam_metal:t*=this.objdataOwnOrg.JamMetalWalkSpeed}return t},h.willTrampleFlower=function(){return!0},h.shouldSpeedScale=function(){return this.defaultShouldSpeedScale()},h.drop=function(t,e,i,n,o,a){var s,r,h;void 0===a&&(a=.1),n||(n=this.defaultDirection());var l=null==(s=n)?void 0:s.clone().multiplyScalar(.55);l&&a&&l.multiplyScalar(1+a*(1-2*Math.random()));var d=C.instantiatePooly(t);if(o||(o=null==(r=this.inLane)?void 0:r.zombieLayer),null==(h=o)||h.addChild(d),null!=d&&d.isValid){var c=d.getComponent("commonShot");return c.worldPosition=new m(i.x,i.y),c.height=e,c.linearVelocity=new m(l.x,0),c.node.angle=0,c.bodyLinearVelocity=l.y,c.gravity=.6666,c.detectEnemyOn=!1,c.enemyType=_.default,c.bodyOmega=Math.sign(Math.random()-.5)*(2*Math.random()+1),c}},h.breakArm=function(t){(void 0===t&&(t=null),this.body.showArm(!1),this.haveArm=!1,this.zombieArm)&&(this.drop(this.zombieArm,this.zombieHeight/2*Math.abs(this.scale)+this.height_depth,new w(this.shadeSocket.worldPosition.x,this._worldPositionY,0),t,this.node.parent).scale=this.scale,this.onArmLosed(t),this.playBreakSound())},h.onArmLosed=function(t){},h.dropHead=function(t,e){if(void 0===e&&(e=this.zombieHeight),this.throwAllArmors(t),this.haveHead&&this.zombieHead){this.playBreakSound();var i=this.drop(this.zombieHead,e*Math.abs(this.scale)+this.height_depth,new w(this.headDropPoint?this.headDropPoint.worldPosition.x:this.shadeSocket.worldPosition.x,this._worldPositionY,0),t,this.node.parent);return i.scale=this.scale,this.haveHead=!1,i}},h.defaultDirection=function(){return new m(5-10*Math.random(),15)},h.armorParent=function(t){return this._armorSocket},h.addArmor=function(){var t=a(s().mark((function t(e,i){var n,o,a;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===i&&(i=!1),this._armorSocket){t.next=5;break}if(this._armorSocket=null==(n=this.node.getChildByName("Body"))?void 0:n.getChildByName("ArmorSocket"),this._armorSocket){t.next=5;break}return t.abrupt("return");case 5:return t.next=7,M.getArmor(e);case 7:if(o=t.sent,this.isAlive()||i){t.next=10;break}return t.abrupt("return",null);case 10:return(a=o.armor).node.parent=this.armorParent(o.id),a.initialize(o.id,this),this.armors.unshift(a),this.onArmorAdded(o.id),t.abrupt("return",a);case 16:case"end":return t.stop()}}),t,this)})));return function(e,i){return t.apply(this,arguments)}}(),h.onArmorDamaged=function(t,e){},h.onArmorAdded=function(t){},h.haveArmor=function(t){var e;return null==(e=this.armors)?void 0:e.some((function(e){return e.ID==t}))},h.allowPlantInSquare=function(t){return!0},h.copyBuff=function(t){this.setChill(t.chill),this.setFreeze(t.freeze),this.setStun(t.stunned),this.setPoison(t.poison.DPS,t.poison.duration),this.setButter(t.butterStun)},h.setGlittering=function(t){this.dead||(this.glittering=t>this.glittering?t:this.glittering,this.butterStun=0,this.chill=0,this.freeze=0,this.stunned=0,this.chiliStun=0,this.poison=new ne(0,0))},h.dealGlittering=function(t){this.glittering>0?this.glittering-=t:this.glittering=0},h.onChill=function(t){},h.setChill=function(t){return!this.invincible&&(this.dead||(this.chill=t>this.chill?t:this.chill),this.chill>0&&this.onChill(this.chill),!0)},h.onFrozen=function(t){},h.setFreeze=function(t,e){return void 0===e&&(e=!0),!this.invincible&&(this.dead||(this.objdataOwn.ChillInsteadOfFreeze||e&&this.flying?this.chill=t>this.chill?t:this.chill:this.freeze=t>this.freeze?t:this.freeze),this.freeze>0&&(this.onChill(this.chill),this.onFrozen(this.freeze),this._onStunned(this.freeze)),!0)},h.dropSuns=function(t){var e=0,i=U.produceSun(t,this.worldPosition,this.zombieHeight/2,!0);2==i.length?e=-T/12:i.length>2&&(e=-T/6);var n=-2*e;i.concat().forEach((function(t){t.linearVelocity=new m(10*Math.sin(e),0),t.bodyLinearVelocity=10*Math.cos(e),t.gravity=0,i.length>=2&&(e+=n/(i.length-1)),y(t).to(.6,{bodyLinearVelocity:0}).start(),y(t).to(.6,{linearVelocity:new m(0,0)}).start()}))},h.deathCauseReader=function(t,e){void 0===e&&(e=x.physicle)},h.whenStabbedBySpikeWeed=function(t){},h.throwPlantFoodAndSun=function(){this.havePlantfood&&(this.havePlantfood=!1,U.producePlantFood(this.worldPosition)),this.haveSun>0&&this.dropSuns(this.haveSun),this.haveSun=0},h.beforeSpecialZombieDie=function(t,e,i,n,o,a){void 0===i&&(i=x.physicle)},h.beforeSpecialZombieDieForced=function(t,e,i,n,o,a,s){void 0===n&&(n=x.physicle)},h.dropCoin=function(){var t=Math.random(),e=Math.random(),i=this.worldPosition;e<.003&&U.dropOneSprout(i),t<.003?U.dropOneGem(i):t<.01?U.dropOneCoin(i,1):t<.025&&U.dropOneCoin(i,0)},h.playDie=function(t,e,i,n,o,a,s){var r,h,l=this;if(void 0===t&&(t=!1),void 0===e&&(e=null),void 0===i&&(i=!0),void 0===n&&(n=x.physicle),void 0===o&&(o=!0),void 0===a&&(a=!1),void 0===s&&(s=!0),!this.dead){if(t||this.beforeSpecialZombieDie(e,i,n,o,a,s),this.beforeSpecialZombieDieForced(t,e,i,n,o,a,s),this.pushSunBeanHealth(this.totalHealth()),this.sunbeanSunPerHitpoint=0,this.warningCD=0,this.iceblock&&this.iceblock.die(),o&&this._setHurtingOnDamaged(),this.isRealZombie&&s&&!this.hypnotized&&nt.component.calculateLevelTask(ot.ZombieKillCountDown,{}),this.throwPlantFoodAndSun(),this.deathCauseReader(e,n),this.BlueBerryCloud=null,this.isRealZombie&&!this.displayed&&s&&this.dropCoin(),this.isRhythm){var d,c=null==(d=K.component)?void 0:d.rhythmZombies.find((function(t){return t.zombie==l}));c&&(c.dead=!0),this.isRhythm=!1}this.sunBeanParticleCD=0,this.chiliStun=0,this.isEating=!1,this.isIdling=!1,this.dead=!0,this.endSandStorm(),W.deleteZombie(this),null==(r=this.inLane)||r.deleteZombie(this),this.displayed||null==(h=K.component)||h.dealFightAlonePlantProgress(this.WPC_wave),this.clearBuff(),this.armors.length&&(this.armors.concat().forEach((function(t){l.displayed||l.throwArmor(t,e),C.destroyPooly(t.node)})),this.armors=[]),t||(i&&this.playOnHeadThrownSound(),this.haveHead&&o&&this.dropHead(e),o&&this.body.showHead(!1),this.playSpecialZombieDie(e),a&&this.judgeDeath(),this.CarriedSporeShroom&&this.turnIntoSporeShroom()),this.displayed||this.playSpecialZombieDieForced(),this.dirtSpawning&&this.endDirtSpawn(),this.hypnotized=!1,this.killBloomingheartPar(),this.setBodyRec(!0)}},h.playSpecialZombieDie=function(t){},h.playSpecialZombieDieForced=function(){},h.replayAnimation=function(){var t=this.body.db.armature().animation.lastAnimationState,e=t.currentTime/t.totalTime;this.isWalking?(this.isWalking=!1,this.playWalk(0,e)):this.isEating?(this.isEating=!1,this.playEat(0,e)):this.isIdling&&(this.isIdling=!1,this.playIdle(0,e))},h.playEat=function(t,e,i){void 0===e&&(e=0),void 0===i&&(i=.1),this.isIdling=!1,this.isWalking=!1,this.dead||(this.eatSoundCoolDown>0?this.eatSoundCoolDown-=t:(this.chewSoundWhenEat&&X.playZombieChew(this.chewSound),this.eatSoundCoolDown=1),this.isEating||(this.eatSoundCoolDown=0,this.body.playAnimation(this.body.EatAnm,1/0,i,e),this.setSpeed(0,!1),this.correctShadeWP(i),this.isEating=!0),this.body.currentAnimationName!=this.body.EatAnm&&this.body.playAnimation(this.body.EatAnm,1/0,i,e))},h.onThrownByGargantuar=function(t){},h.onThrownByBull=function(t){},h.onSummonnedByTent=function(t){},h.onSpawnedByEgyptGargantuar=function(t){},h.playIdle=function(t,e,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=!0),this.isIdling&&!i||(this.isWalking=!1,this.isIdling=!0,this.isEating=!1,this.body.playAnimation(this.body.IdleAnm,1/0,t,e),this.setSpeed(0,!1))},h.onDisplayedAtLevelView=function(){},h.zombieJam=function(){return V.jam_clear},h.onWalkStart=function(){},h.playWalk=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.defaultPlayWalk(t,e)},h.defaultPlayWalk=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.isIdling=!1,this.isEating=!1,this.isWalking||(this.body.playAnimation(0==this.squarePerSec?this.body.IdleAnm:this.body.WalkAnm,1/0,t,e),this.isWalking=!0,this.setSpeed(this.shouldSpeedScale()),this.onWalkStart())},h.specialZombieOnLoad=function(){},h.onHypnotized=function(){},h.additionalZombies=function(){var t=a(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",[]);case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),h.onPutDirectly=function(t){},h.animationOnLPComplete=function(){},h.playOneShot=function(t,e,i,n){return void 0===e&&(e=1),void 0===i&&(i=!1),void 0===n&&(n=(null==t?void 0:t.getDuration())/2),t&&e>0&&(i?X.playOneShot(t,e,NaN,.1):X.playOneShot(t,e,n)),!0},h.characterOnLoadForced=function(){this.body.db=this.body.getComponent(u.ArmatureDisplay),this.db=this.body.db,this._armorSocket=this.body.node.getChildByName("ArmorSocket")},h.characterOnLoad=function(){var t=this;this.body.zombie=this,this.body.db.addEventListener(u.EventObject.FRAME_EVENT,this.animationListener,this),this.body.db.addEventListener(u.EventObject.SOUND_EVENT,this.soundEventListener,this),this.body.db.addEventListener(u.EventObject.LOOP_COMPLETE,(function(){t.blew||t.fallingInSky||(t.animationOnLPComplete(),t.judgeFade(),t.judgeDeath())}),this),this.getComponent(S)||this.addComponent(S),this.audioSource=this.getComponent(S),this.db.armature().getSlots().forEach((function(e){e.name.includes("POISONFACE")&&t.poisonfaceSlots.push(e)})),this.specialZombieOnLoad();var e=new P;e.initialize({effectAsset:Y.addColorEffect,defines:{USE_TEXTURE:!0}}),this.material=e},h.specialZombieOnSquareChange=function(t,e){},h.specialZombieOnSquareChangeForce=function(t,e){},h.CanBeReversedBySweetPotato=function(){return!0},h.characterOnSquareChange=function(t,e){var i=e.getTileType(),n=this.inWater;this.inWater=i==F.water,!n&&this.inWater&&this.enterWater(),n&&!this.inWater&&this.exitWater(),this.isAlive()&&!this.sandStormTween&&this.specialZombieOnSquareChange(t,e),this.specialZombieOnSquareChangeForce(t,e)},h.enterWater=function(){this.onEnterWater()},h.onEnterWater=function(){},h.exitWater=function(){this.onExitWater()},h.onExitWater=function(){},h.moveFromLaneToLane=function(t,e){null==t||t.deleteZombie(this),null==e||e.addZombie(this)},h.specialZombieOnLaneChange=function(t,e){},h.specialZombieSetLaneChangeParent=function(t,e){var i=e.zombieLayer;this.iceblock?i=this.iceblock.node.parent:this.hypnotized&&(i=e.hypnoZombieLayer),this.node.setParent(i,!0),this.iceblock&&this.node.setSiblingIndex(0),-2!=t.LaneIndex&&(null==t?void 0:t.LaneIndex)<(null==e?void 0:e.LaneIndex)&&!this.displayed&&this.node.setSiblingIndex(0)},h.characterOnLaneChange=function(t,e){var i,n;!t&&e&&(this._hypnotized=!1),this.fallingInSky||(this.specialZombieSetLaneChangeParent(t,e),this.isAlive()&&this.moveFromLaneToLane(t,e)),this.waveParticle&&(this.waveParticle.node.setParent(this.node.parent,!0),this.waveParticle.node.setSiblingIndex(this.node.getSiblingIndex()+1)),null==(i=this.icetrapParticle)||null==(i=i.node)||i.setParent(this.node.parent),null==(n=this.icetrapParticle)||null==(n=n.node)||n.setSiblingIndex(this.node.getSiblingIndex()+1),this.perfumeParticle&&this.perfumeParticle.node.setParent(this.inLane.prjLayer,!0),this.hypnoPar&&this.hypnoPar.node.setParent(this.inLane.prjLayer,!0),this.bloomingheartPar&&(this.bloomingheartPar.node.setParent(this.node.parent,!0),this.bloomingheartPar.node.setSiblingIndex(this.node.getSiblingIndex()+1)),this.poisonPar&&this.poisonPar.node.setParent(this.inLane.prjLayer,!0),this.chiliStunParticle&&this.chiliStunParticle.node.setParent(this.inLane.prjLayer,!0),this.sunBeanParticle&&this.sunBeanParticle.node.setParent(this.inLane.prjLayer,!0),this.sandStormPar&&(this.sandStormPar.node.setParent(this.node.parent,!0),this.sandStormPar.node.setSiblingIndex(this.node.getSiblingIndex()+1)),this.specialZombieOnLaneChange(t,e)},h.setPlantDetectorRec=function(){if(K.gameStarted&&this.bodyRecHiddenCD<=0&&this.isAlive()){var t=this.scale,e=Math.abs(t);this._plantDetectorRec=I.createRectangleCenter(new m(this.shadeSocket.worldPosition.x+this.AttackRect.x*t,this._worldPosition.y+this.height_depth+this.AttackRect.y*e),this.AttackRect.w*e,this.AttackRect.h*e)}else this._plantDetectorRec=I.createRectangleCenter(new m(1e4,1e4),1,1)},h.potionInvisibleInvalid=function(){return this.isEating&&!this.hypnotized||this.sunBeanParticleCD>0||this.specialPotionInvisibleInvalid()},h.specialPotionInvisibleInvalid=function(){return!1},h.shouldScale=function(){var t=1;return this.ShrinkProps.forEach((function(e){t*=e.Scale})),Math.pow(this.potionSpeedDeltaScalePerLevel,this.potionSpeedLevel)*Math.pow(this.potionToughnessDeltaScalePerLevel,this.potionToughnessLevel)*t*(this.reversed?-1:1)},h.plantEatExtraAllowed=function(t){return!1},h.plantEatAllowed=function(t){switch(t.ID){case it.PotionSpeed:var e=t.objdataOwn.MaxEnchantLevel;return this.potionSpeedLevel<e;case it.PotionToughness:var i=t.objdataOwn.MaxEnchantLevel;return this.potionToughnessLevel<i;case it.PotionInvisibility:return!this._potionInvisible}return this.specialPlantEatAllowed(t)},h.specialPlantEatAllowed=function(t){return!0},h.detectsPlantThoughSwitching=function(){return!1},h.detectPlantOn=function(){return(!this.switching||this.detectsPlantThoughSwitching())&&!K.component.gameLost&&!this.dead},h.ignorePlants=function(){return!1},h.getSingleZombieInRec=function(t,e){var i=this;return(this.hypnotized?this.inLane.zombiePool():this.inLane.hypnoZombiePool()).filter((function(e){return e.bodyRec.judgeCrossRec(t)})).sort((function(t,e){var n=i.scale>0?t.bodyRec.prjX().y:t.bodyRec.prjX().x;return((i.scale>0?e.bodyRec.prjX().y:e.bodyRec.prjX().x)-n)*i.scale})).find((function(){return!0}))},h.getSingleTombInRec=function(t,e){var i=this;return this.inLane.tombPool(this.hypnotized?0:1).filter((function(e){return e.bodyRec.judgeCrossRec(t)})).sort((function(t,e){var n=i.scale>0?t.bodyRec.prjX().y:t.bodyRec.prjX().x;return((i.scale>0?e.bodyRec.prjX().y:e.bodyRec.prjX().x)-n)*i.scale})).find((function(){return!0}))},h.getSinglePlantInRec=function(t){},h.defaultDetectPlant=function(t){var e=this;if(0!=t)if(this.inLane){if(this.detectPlantOn()){var i=this.plantDetectorRec,n=null,o=null,a=null;this.ignorePlants()||(this.hypnotized||(n=this.inLane.plantPool().filter((function(t){return!(!(t.eaterDetectable&&e.plantEatAllowed(t)||e.plantEatExtraAllowed(t))||!i.judgeCrossRec(t.bodyRec)||n&&t.plantType!=q.vine&&t.plantType!=q.plant&&t.plantType!=q.lilyPad&&t.plantType!=q.pot)})).sort((function(t,i){var n=e.scale>0?t.bodyRec.prjX().y:t.bodyRec.prjX().x;return((e.scale>0?i.bodyRec.prjX().y:i.bodyRec.prjX().x)-n)*e.scale})).find((function(){return!0}))),o=this.getSingleZombieInRec(i),a=this.getSingleTombInRec(i));var s=new O(this.dps*t,!0,!1,!1,null);o?this.whenZombieDetected(o,s,t):a?this.whenTombDetected(a,s,t):n?this.whenPlantDetected(n,s,t):this.allowWalk()?this.playWalk():(this.isWalking||this.isEating)&&this.playIdle()}}else this.playWalk()},h.allowWalk=function(){return!0},h.detectPlant=function(t){this.defaultDetectPlant(t)},h.whenPlantDetected=function(t,e,i){this.defaultWhenPlantDetected(t,e,i)},h.defaultWhenPlantDetected=function(t,e,i){this.playEat(i),t.eat(e.damage,this)},h.whenZombieDetected=function(t,e,i){this.defaultWhenZombieDetected(t,e,i)},h.defaultWhenZombieDetected=function(t,e,i){this.playEat(i),t.eatByZombie(e,this)},h.whenTombDetected=function(t,e,i){this.defaultWhenTombDetected(t,e,i)},h.defaultWhenTombDetected=function(t,e,i){this.playEat(i),t.dealDamage(e)},h.specialZombieOnEnable=function(){},h.characterOnEnable=function(){var t,e,i,n,o,a,s;(null==(t=this.CorrectShadeTween)||t.stop(),this.off_ground=!1,this.grabbingPtero=null,this.knockedByAnkylo=0,this.warningCD=0,this.scaredByTyranno=!1,this.ShrinkProps=[],this.BloomingHeartDefenceRateList=[],this.DetectedGrimrose=null,this.GrimRoseDragged=!1,this.CarriedSporeShroom=!1,this.TotalRGB=0,this.iceblock=null,this.spawnedWave=-1,this.isRhythm=!1,this.isIdling=!1,this.walkDir=new m(-1,0),this.walkRouteBufferDistance=NaN,this.walkRoute=[],this.tangled=!1,this.sunbeanSunPerHitpoint=0,this.canBeKilledByRule=!0,this._hypnotized=!1,this.coloredWhenHypnotized=!0,this._usedToBeHypnotized=!1,this.tallNutBlock=!1,this.dirtSpawning=!1,null==(e=this.knockBackTween)||e.stop(),this.knockBackTween=null,null==(i=this.changeLaneTween)||i.stop(),this.changeLaneTween=null,null==(n=this.leapHeightTween)||n.stop(),this.leapHeightTween=null,this.lieEnded=!1,this.chiliStun=0,this.chiliStunParticle=null,this.sunBeanParticle=null,this.perfume=0,this.perfumeParticle=null,this.teleporting=!1,this.sapflingCD=0,this.dealDamageScale=[],this._potionSpeedLevel=0,this._potionToughnessLevel=0,this._potionInvisible=!1,this.bodyRecHiddenCD=.06,this.hurting=0,this.haveHead=!0,null==(o=this.chilibeanFartTween)||o.stop(),this.chilibeanFartTween=null,this.chilibeanPoisoning=!1,this.displayed=!1,this.enteredLawn=!1,this.node.angle=0,this.body.node.angle=0,this.inLane=null,this.inLnC=null,this.currentFlyZombie=this.flyZombie,this.flying=this.flyZombie,this.zombieAshParticle_=this.zombieAshParticle,this.killBloomingheartPar(),W.registerZombie(this),this.chompable_=!this.objdataOwnOrg.CannotBeSwallowedByChomper,this.easyToChomp_=this.objdataOwnOrg.CanBeEasilySwallowedByChomper,this.oldTileType=F.solid,this.waveParticle&&(C.destroyPooly(this.waveParticle.node),this.waveParticle=null),this.isEating=!1,this.dead=!1,this.blew=!1,this.fallingInSky=!1,this.haveArm=!0,this.isWalking=!1,this.inWater=!1,this.body.node.angle=0,this.body.showHead(!0),this.body.showArm(),this.clearBuff(),this.setRandomSpeed(),this.health=this.toughness,this.body.node.scale=new w(1,1,1),this.isWalking=!1,this.playWalk(0,Math.random()),this.detectPlant(.01),this.switching=!1,this._reverseCD=0,this.reversed=!1,this.setBodyRec(!0),this.specialZombieOnEnable(),this.pfParCD=5,null==(a=this.audioSource)||a.stop(),this.BlueBerryCloud=null,this.displayed)||(null==K||null==(s=K.component)||s.meetZombie(this))},h.setRandomSpeed=function(t){void 0===t&&(t=this.objdataOwnOrg.WalkSPSVarience),this.randomWalkSpeedRate=t*(1-2*Math.random()),this.randomIdleSpeedRate=t*(1-2*Math.random())},h.playSpecialZombieDeath=function(){},h.judgeDeath=function(t){void 0===t&&(t=this.deathAnmFadeInTime),this.blew||this.dead&&this.body.currentAnimationName!=this.body.DeathAnm&&(this.playDeathSound(),this.isWalking=!1,this.correctShadeWP(t),this.body.playAnimation(this.body.DeathAnm,1,t),this.setSpeed(0,!1),this.playSpecialZombieDeath())},h.judgeFade=function(){this.lieEnded&&!this.fadingAway&&(v.Color.set(this.body.db.color,255,255,255,255),this.fadeAway())},h.specialSoundEventListener=function(t){},h.soundEventListener=function(t){"fall"==t.name&&(this.isRhythm||this.inLnC.getTileType()==F.sky||(this.lieSound.length?X.playArray(this.lieSound):X.playZombieLie())),this.specialSoundEventListener(t)},h.defaultSetBodyRec=function(){var t=this.scale,e=Math.abs(t);this.bodyRec=I.createRectangleCenter(new m(this.shadeSocket.worldPosition.x+this.HitRect.x*t,this._worldPositionY+this.HitRect.y*e+this.height_depth),this.HitRect.w*e,this.HitRect.h*e)},h.currentFarBodyRec=function(){return!1},h.setBodyRec=function(t){void 0===t&&(t=this.currentFarBodyRec()),t||this.bodyRecHiddenCD>0?this.bodyRec=new I:this.defaultSetBodyRec()},h.meetMower=function(t){var e=this;if(void 0===t&&(t=!0),!this.blew&&(this.playDie(!1,null,!0,x.physicle,!0,!0,!1),!this.objdataOwn.NormalDeathWhenMowed)){this.blew=!0;var i=y(this.node).to(.5,{scale:new w(this.node.scale.x,.01,1)},{easing:"quadIn"}).start(),n=y(this.body.node).to(.5,{angle:(t?-90:90)*Math.sign(this.scale),scale:new w(1,1.5,1)},{easing:"quadOut"}).call((function(){C.destroyPooly(e.node)})).start();this.blowAwayTweens.push(i,n)}},h.extraBodyRecHiddenCondition=function(){return!1},h.prevDistance=function(){return j.SquareWidth},h.TNTRopeIgniter=function(){return!1},h.isInLawn=function(){return this.inLnC&&this.inLnC.lIndex>=0&&this.inLnC.lIndex<=4&&this.inLnC.cIndex>=0&&this.inLnC.cIndex<=8},h.isAlive=function(){return!(this.dead||this.fallingInSky||this.blew||this.displayed)},h.additionalSatuation=function(){return 0},h.shouldMaterial=function(){var t=this,e=new b(0,0,0,255),i=0;this.teleporting&&(e.r+=this.addColor.r,e.g+=this.addColor.g,e.b+=this.addColor.b,this.armors.forEach((function(e){e.hurting=t.addColor.b/10}))),this.CarriedSporeShroom&&(e.r+=Y.zombieSporeShroomCarrier.r,e.g+=Y.zombieSporeShroomCarrier.g,e.b+=Y.zombieSporeShroomCarrier.b);var n=0;this.hurting>0&&(e.r+=8*this.hurting,e.g+=8*this.hurting,e.b+=8*this.hurting,i+=this.hurting/20);var o=0;i+=this.additionalSatuation(),this.dead||this.fallingInSky||((this.chill>0||this.freeze>0||this.iceblocked)&&(n=1),this.havePlantfood&&(e.r+=Y.zombiePF.r,e.g+=Y.zombiePF.g,e.b+=Y.zombiePF.b),this.haveSun>0&&(e.r+=Y.zombieSunAdd.r,e.g+=Y.zombieSunAdd.g,e.b+=Y.zombieSunAdd.b),this.potionInvisible&&(o=.5,e.r+=Y.zombieInvisiblilityPotion.r,e.g+=Y.zombieInvisiblilityPotion.g,e.b+=Y.zombieInvisiblilityPotion.b)),this.glittering>0&&(e.r=194,e.g=0,e.b=178);var a=this.material.passes[0].getHandle("chillColor"),s=this.material.passes[0].getHandle("addColor"),r=this.material.passes[0].getHandle("saturation"),h=this.material.passes[0].getHandle("holo"),l=this.material.passes[0].getHandle("TotalRGB");this.material.passes[0].setUniform(a,n),this.material.passes[0].setUniform(s,e),this.material.passes[0].setUniform(r,i),this.material.passes[0].setUniform(h,o),this.material.passes[0].setUniform(l,this.TotalRGB),this.body.db.customMaterial=this.material},h.shouldColor=function(){var t=new k(1,1,1,1);if(this.displayed||!(this.worldPositionX>1200||this.worldPositionX<-200)){if(this.warningCD>0){var e=b.toVec4(Y.zombieWarningCloseToHouse);t.x*=e.x,t.y*=e.y,t.z*=e.z}if(this.poison.isValid()){var i=b.toVec4(Y.zombiePoisonColor);t.x*=i.x,t.y*=i.y,t.z*=i.z}if(this.perfume>0){var n=b.toVec4(Y.zombiePerfumeColor);t.x*=n.x,t.y*=n.y,t.z*=n.z}if(this.coloredWhenHypnotized&&this.hypnotized){var o=b.toVec4(Y.zombieHypno);t.x*=o.x,t.y*=o.y,t.z*=o.z}if(this.potionSpeedLevel>0){var a=b.toVec4(Y.zombieSpeedPotion);t.x*=a.x,t.y*=a.y,t.z*=a.z}if(this.potionToughnessLevel>0){var s=b.toVec4(Y.zombieToughnessPotion);t.x*=s.x,t.y*=s.y,t.z*=s.z}this.dead&&(t=new k(1,1,1,1)),this.body.db.color=b.fromVec4(t)}else this.body.db.color=new b(255,255,255,0)},h.onLaneSpawnSettled=function(t,e){},h.CanBeScaredByTyranno=function(){return!0},h.onRoaredByTyranno=function(t){this.CanBeScaredByTyranno()&&(this.scaredByTyranno=!0,this.reversed=t.scale<=0)},h.CanBeChompedByTyranno=function(){return!this.objdataOwn.CannotBeChompedByTyranno},h.alertNow=function(){return!0},h.judgeCloseToHouseWarning=function(t,e){var i;if(this.hypnotized||!this.isBrainEater||!this.isRealZombie||this.walkRoute.length>0||!e||!this.alertNow()||this.reversed&&(null==(i=this.inLane)?void 0:i.reversedZombiesAlsoWarnCD)<=0||j.zombieDieInsteadOfWinning||K.sandBoxModeOn||!K.ZombieWarnOn)this.warningCD=0;else{var n;if(this.shadeSocket.worldPosition.x<j.ZombieWarningX)null==(n=nt.component)||n.playZombieTooCloseWarn(),this.warningCD=.5;this.warningCD-=t}},h.onSpawnedFromBronzeStatue=function(){},h.readBronzeDetails=function(t){},h.almanac=function(t){var e,i,n,o;this.body.db=null==(e=this.body)?void 0:e.getComponent(u.ArmatureDisplay),this.butterFace&&(this.butterFace.node.active=!1),null==(i=this.body)||null==(i=i.db)||i.playAnimation(this.body.IdleAnm,1/0),null==(n=this.body)||n.showArm(!0),null==(o=this.body)||o.showHead(!0),this.specialAlmanac(t)},h.specialAlmanac=function(t){},h.animationListener=function(t){K.component.gameOver&&!this.isGameLoseTriggerer||this.blew||this.fallingInSky||nt.willDestroySceneNextTick||("die"==t.name?this.lieEnded=!0:"land"==t.name?(this.flying=!1,this.currentFlyZombie=!1):"leapEnd"==t.name?this.blew||this.onLeapEnd():"switchingFalse"==t.name&&this.switchingFalse(),this.specialAnimationListener(t))},h.switchingFalse=function(){this.switching=!1,this.isAlive()&&!K.component.gameOver?this.detectPlantOn()?(this.playWalk(),this.specialZombieUpdateBeforePlantDetect(.001,.001,1),this.detectPlant(.001)):this.playWalk():this.judgeDeath(0)},h.specialAnimationListener=function(t){},h.dropSea=function(){this.blew||(N.spawnSeaSplash(this.inLnC.lIndex,this.node.worldPosition),this.playDie(!0),C.destroyPooly(this.node))},h.clearBuff=function(){var t,e;this.glittering=0,this.chill=0,this.freeze=0,this.stunned=0,this.chiliStun=0,this.perfume=0,null==(t=this.icetrapParticle)||t.playAnimation("Die",1),this.icetrapParticle=null,this.poison=new ne(0,0),null==(e=this.body.db.armature().getSlot("POISONFACE"))||e._setDisplayIndex(-1),this.butterStun=0,this.butterFace&&(this.butterFace.node.active=!1),this.shouldColor(),this.shouldMaterial()},h.playFall=function(){var t=this;this.fallingInSky||this.blew||this.teleporting||(this.knockBackTween&&(this.knockBackTween.stop(),this.knockBackTween=null),this.leapHeightTween&&(this.leapHeightTween.stop(),this.leapHeightTween=null),this.isWalking=!1,this.armors.forEach((function(e){t.throwArmor(e,null),C.destroyPooly(e.node)})),this.armors=[],this.setPlantDetectorRec(),this.dead||this.playDie(!0),this.hurting=0,this.fallInSky(!0),this.setSpeed(0))},h.onSkyFallEnd=function(){this.reversed=!1,this.destroyWhenFallEnd?this.node.destroy():C.destroyPooly(this.node)},h.endSandStorm=function(){var t,e;this.sandStormTween&&(null==(t=this.sandStormPar)||t.end(),this.sandStormPar=null,null==(e=this.sandStormTween)||e.stop(),this.sandStormTween=null,this.playWalk(.1),this.detectPlant(.01))},h.onSandStormStart=function(){},h.playSandStorm=function(t,e){var i=this;if(void 0===e&&(e=0),!this.sandStormTween&&this.inLane){this.onSandStormStart(),this.playIdle(),this.worldPositionX=this.inLane.toRight.worldPosition.x;var n=N.sandStorm();1==e&&(n=N.snowStorm());var o=B(n);o.parent=this.node.parent,o.worldPosition=this.node.worldPosition,o.setSiblingIndex(this.node.getSiblingIndex()+1),this.sandStormPar=o.getComponent(tt),this.sandStormPar.onSettled(),this.sandStormTween=y(this).to(3,{worldPositionX:t},{easing:"quadOut"}).to(1,{}).call((function(){i.endSandStorm()})).start()}},h.specialZombieUpdate=function(t,e,i){},h.specialZombieUpdateBeforePlantDetect=function(t,e,i){},h.specialZombieUpdateForced=function(t,e,i,n){},h.onTileTypeChange=function(t,e){this.displayed||(this.flying||this.blew||(e==F.sky&&this.playFall(),e==F.sea&&this.dropSea()),t!=F.water&&e==F.water&&(this.inWater=!0,this.enterWater()),t==F.water&&e!=F.water&&(this.inWater=!1,this.exitWater()),this.oldTileType=e,this.specialOnTileTypeChange(t,e))},h.specialOnTileTypeChange=function(t,e){},h.onWaveAdded=function(t){},h.addZombieWave=function(t){if(!this.flying&&t==F.water&&!this.waveParticle&&this.height_depth<0){var e=C.instantiatePooly(N.zombieWaterWave());e.parent=this.node.parent,e.setSiblingIndex(this.node.getSiblingIndex()+1),this.waveParticle=e.getComponent(et),this.waveParticle&&this.onWaveAdded(this.waveParticle)}this.waveParticle&&(this.waveParticle.node.setParent(this.node.parent,!0),this.waveParticle.node.worldPosition=new w(this.shadeSocket.worldPosition.x,this.worldPositionYFoot),this.waveParticle.node.setSiblingIndex(this.node.getSiblingIndex()+1),this.shade&&(this.waveParticle.node.worldScale=new w(this.originalShadeScale.width,this.originalShadeScale.height,1).multiplyScalar(2*Math.abs(this.scale))),(t!=F.water||this.height_depth>=0)&&(this.waveParticle.db.playAnimation("Fade",1),this.waveParticle.willBeKilled=!0,this.waveParticle=null))},h.specialDisblowable=function(t){return!1},h.blowAway=function(t,e,i,n,o){var a=this;if(void 0===t&&(t="quadIn"),void 0===e&&(e=1),void 0===i&&(i=!1),void 0===n&&(n=!1),void 0===o&&(o=2e3),!this.blew&&!this.specialDisblowable(i)){var s=this.hurting;this.playDie(!0,null,!1),this.hurting=s,this.blew=!0;var r=y(this).by(e,{worldPositionX:o*(n?-1:1)},{easing:t}).call((function(){a.armors.concat().forEach((function(t){C.destroyPooly(t.node)})),a.armors=[],a.clearBuff(),r.stop(),C.destroyPooly(a.node)})).start();this.blowAwayTweens.push(r)}},h.tossAway=function(t,e){var i,n,o=this;if(void 0===t&&(t=1.5),void 0===e&&(e=null),!this.blew&&!this.specialDisblowable(!0)){e||(e=new m(1,.3+.15*Math.random())),e.y<=0&&(e.y=0),0==e.x&&(e.x=.01),e=e.normalize(),null==(i=this.knockBackTween)||i.stop(),null==(n=this.leapHeightTween)||n.stop(),this.depth=0;var a=y(this).by(t,{height:2e3*e.y}).start(),s=y(this.node).by(t,{angle:90+90*Math.random()}).call((function(){null==a||a.stop(),null==s||s.stop(),o.node.angle=0})).start();this.blowAway("linear",t,!0,!1,2e3*e.x),this.blowAwayTweens.push(a,s)}},h.turnIntoSporeShroom=function(){var t=this;if(this.CarriedSporeShroom=!1,!this.blew){this.playDie(!0,null,!1),this.blew=!0;var e=y(this).to(.3,{scale:.01}).call(a(s().mark((function i(){var n,o,a;return s().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return(o=B(N.sporeShroomSpawn())).parent=t.inLane.tombLayer,o.worldPosition=t.worldPosition.toVec3(),null==e||e.stop(),i.next=6,null==(n=t.inLnC)?void 0:n.SpawnPlant(it.SporeShroom,!0,!0,!1,!0);case 6:(a=i.sent)&&(a.foodEnd(),a.anmControl.playAnimation("Spawn",1,0,1),a.shovelDropSun=!1),C.destroyPooly(t.node);case 9:case"end":return i.stop()}}),i)})))).start();this.blowAwayTweens.push(e)}},h.plantFoodPar=function(t){if(this.pfParCD>0&&(this.pfParCD-=t),this.pfParCD<=0){var e;this.pfParCD=3+3*Math.random();var i=C.instantiatePooly(N.PFLightning());if(i.parent=null==(e=this.inLane)?void 0:e.prjLayer,i.active){Math.random();var n=new w(this.shadeSocket.worldPosition.x,this.worldPositionY+this.height_depth,0);i.worldPosition=n,i.getComponent(u.ArmatureDisplay).playAnimation("");var o=this.zombieHeight/96;i.scale=new w(o,o,o)}}},h.bossOnPriceCollected=function(){return 0},h.dropPoint=function(t){return N.playPointShower(t.toString(),new m(this.worldPositionX,this.worldPositionY+this.height_depth+this.zombieHeight),new m(0,50),new m(.4,.4),new m(255,0),new m(0,.7),new b(255,255,255,255),!1)},h.specialTriggerGameLose=function(){},h.triggerGameLose=function(){this.switching=!0,this.playEat(0),this.specialTriggerGameLose()},h.lockedTimeScale=function(){return NaN},h.laneBinder=function(t){if(!this.displayed&&!this.knockBackTween&&!this.leapHeightTween&&!this.changeLaneTween&&this.bindsToLane&&this.inLane&&!this.walkRouteBufferDistance){var e=this.inLane.floorY-this.worldPositionY;if(!e)return;var i=t*j.SquareHeight*(e>0?1:-1)/2;i/e>1?this.worldPositionY=this.inLane.floorY:this.worldPositionY+=i}},h.walkDisScale=function(t){return 1},h.setWalkRoute=function(t,e,i){var n=this;null!=t&&t.length&&(this.walkRoute=[],t.forEach((function(t,e){n.walkRoute.push(new m(t.x,t.y))})),this.worldPositionX=t[0].x,this.worldPositionY=t[0].y,this.walkRouteBufferDistance=j.transFrom_ow_To_gw(e),this.walkSPSAtRoute=j.transFrom_ow_To_gw(i)/j.SquareWidth)},h.setWalkDir=function(t){if(this.walkRoute.length&&t&&this.walkRouteBufferDistance){var e=this.walkRoute[0].clone().subtract(this.worldPosition),i=this.walkDir.signAngle(e),n=Math.pow(this.walkSPSAtRoute,2)*Math.sign(i)*D/2*t;!n||i/n<=1?this.walkDir=e.clone().normalize():this.walkDir.rotate(n),e.length()<=this.walkRouteBufferDistance&&this.walkRoute.shift()}},h.walkSpeedScaleEnteringLawn=function(){return 2},h.defaultWalkTimeScale=function(t,e,i){return 0==this.squarePerSec?i:t/e/Math.abs(this.scaleMultedOrgScale)},h.walkTimeScale=function(t,e,i){return this.defaultWalkTimeScale(t,e,i)},h.walkSpeedScaleExtra=function(){return 1},h.characterUpdate=function(t){var e,i,n=null==(e=this.inLnC)?void 0:e.getTileType();this.bodyRecHiddenCD-=t,this.setPlantDetectorRec();var o=this.isAlive();this.setBodyRec(!o),this.scaredByTyranno&&this.judgeTyrannoScareCancel(),this.havePlantfood&&this.plantFoodPar(t),!this.enteredLawn&&this._bodyRec.judgeCrossRec(j.lawnRec)&&(this.enteredLawn=!0),null==(i=this.icetrapParticle)||null==(i=i.node)||i.setWorldPosition(new w(this._worldPositionX,this._worldPositionY));var a=this.shouldSpeedScale();this.setWalkDir(t*a);var s=this.walkSpeedScaleExtra()*(this.walkRouteBufferDistance?this.walkSPSAtRoute:this.randomSpeed)*j.SquareWidth/60*a*(this.enteredLawn?1:this.walkSpeedScaleEnteringLawn()),r=0,h=this.lockedTimeScale();if(this.iceblocked)this.body.db.timeScale=0;else if(!this.fallingInSky&&this.isWalking){this.body.db.timeScale=this.walkTimeScale(s,this.anmSpeed,a);var l=s*t*60*(this.reversed?-1:1)*this.walkDisScale(n);r=this.walkDir.x*l,this.worldPositionX+=r,this.worldPositionY+=this.walkDir.y*l}else h>=0?this.body.db.timeScale=h:this.isEating||this.switching?this.body.db.timeScale=a*(1+this.randomIdleSpeedRate):this.dead?this.body.db.timeScale=1:this.body.db.timeScale=a*(1+this.randomIdleSpeedRate);if(this.hypnoPar&&(this.hypnoPar.node.worldPosition=new w(this.worldPosition.x,this.worldPositionY+this.height_depth+this.zombieHeight)),this.bloomingheartPar){this.bloomingheartPar.node.worldPosition=new w(this.shadeSocket.worldPosition.x,this.worldPositionY+this.height_depth);var d=Math.abs(this._scaleForCharacter*this.originalShadeScale.width/.25);this.bloomingheartPar.node.worldScale=new w(d,d,1)}this.poisonPar&&(this.poisonPar.node.worldPosition=new w(this.worldPosition.x,this.worldPositionY+this.height+this.zombieHeight));var c=K.gaming;if(o?(this.judgeCloseToHouseWarning(t,c),this.worldPositionX<j.zombieWinX&&!this.reversed&&!this.walkRouteBufferDistance?K.sandBoxModeOn?this.worldPositionX=j.zombieSpawnX:this.reversed||this.hypnotized||this.isRhythm||!this.isBrainEater||!this.isRealZombie||(j.zombieDieInsteadOfWinning?this.playDie(!1,null,!0,x.physicle,!0,!1,!1):nt.component.loseDarken(this)):this.worldPositionX>j.zombieSpawnX&&this.reversed&&!this.walkRouteBufferDistance&&K.sandBoxModeOn&&(this.worldPositionX=j.zombieWinX),(this.worldPositionX>j.zombieSpawnX+j.SquareWidth&&r>0||this.worldPositionX<=Math.max(j.zombieWinX-j.SquareWidth,0)&&r<0||this.worldPositionY<=-100||this.worldPositionY>=800)&&(this.playDie(!0,null,!1,x.physicle,!1,!1,!1),C.destroyPooly(this.node)),this.inLane&&!this.dirtSpawning&&!this.sandStormTween&&c&&(this.specialZombieUpdateBeforePlantDetect(t*a,t,a),this.detectPlant(t*a),this.specialZombieUpdate(t*a,t,a)),this.iceblock&&(this.worldPosition=this.iceblock.worldPosition),this.dealPoison(t),this.dealButter(t),this.dealChiliStun(t),this.dealGlittering(t),this.dealSunBeanPar(t),this.dealPerfume(t),this.dealHurrikale(t)):this.havePlantfood&&(this.havePlantfood=!1,U.producePlantFood(this.worldPosition)),this.specialZombieUpdateForced(t*a,t,a,n),this.reverseCD>0&&(this.reverseCD-=t),n!=this.oldTileType?this.onTileTypeChange(this.oldTileType,n):this.flying||this.fallingInSky||this.teleporting||this.blew||this.displayed||(n==F.sky?this.playFall():n==F.sea&&this.dropSea()),this.laneBinder(t*a),this.correctDepth(t),this.hurting>0&&(this.hurting-=60*t),this.stunned>0&&(this.stunned-=t),this.chill>0&&this.freeze<=0&&(this.chill-=t),this.sapflingCD>0&&(this.sapflingCD-=1),this.freeze>0){if(this.freeze-=t,!this.icetrapParticle){var p=C.instantiatePooly(N.zombieIceTrap());this.inLane&&(p.parent=this.node.parent,p.worldPosition=this.node.worldPosition,p.setSiblingIndex(this.node.getSiblingIndex()+1),this.icetrapParticle=p.getComponent(u.ArmatureDisplay),this.icetrapParticle.playAnimation("Idle",1/0))}}else this.icetrapParticle&&(this.icetrapParticle.playAnimation("Die",1),this.icetrapParticle=null);this.shouldMaterial(),this.dead||this.shouldColor(),this.addZombieWave(n),this.tallNutBlock&&this.leapHeightTween&&this.tallNutListen(),this.knockedByAnkylo&&this.knockBackTween&&this.ankyloKnockListen(),this.sandStormPar&&(this.sandStormPar.node.worldPosition=new w(this._worldPositionX,this._worldPositionY)),K.component.gameWon&&!this.dirtSpawning&&this.canBeKilledByRule&&this.playDie(),this.isGameLoseTriggerer&&this.playEat(t),this.detectFlower(t*a)},h.updateOnDisplayed=function(){this.playIdle(0,Math.random(),!1)},h.shouldDepth=function(){return this.flying?-.01:G.depth(this._worldPositionX,this.inLnC)*this.depthScale},h.getDeltaDepth=function(t,e){return e*t*4},h.correctDepth=function(t){if(!(this.dirtSpawning||this.leapHeightTween||this.blew||this.grabbingPtero||this.fallingInSky)){var e,i=-this.shouldDepth();(this.GrimRoseDragged||i<0&&null!=(e=this.inLnC)&&e.deepwater&&!this.iceblocked&&!this.objdataOwn.LivesInDeepWater)&&(i=3*-this.zombieHeight);var n,o=i-this.height_depth,a=this.getDeltaDepth(o,t);if(a>0&&(a*=2),o/a<1||Math.abs(o)<.5?this.height_depth=i:this.height_depth+=a,this.height_depth<-2*this.zombieHeight)this.chomp(),(null==(n=this.inLnC)?void 0:n.tileType)==F.water&&N.spawnWaterSplash(this.lIndex,new w(this._worldPositionX,this._worldPositionY,0))}},h.chomp=function(t){void 0===t&&(t=!0),this.playDie(!0,null,!1,x.physicle,!1,!1,t),C.destroyPooly(this.node)},r(e,[{key:"reverseCD",get:function(){return this._reverseCD},set:function(t){if(this._reverseCD<=0&&t>0||this.reverseCD>0&&t<=0){var e=t>0;this.reverseSetScale(e||this._reversed),this._reversed!=e&&this.onReversedSet(e),this._reverseCD=t,this.setBodyRec(),this.setPlantDetectorRec()}this._reverseCD=t}},{key:"iceblock",get:function(){return this._iceblock},set:function(t){this._iceblock=t,t?(this.node.setParent(t.node.parent,!0),this.node.setSiblingIndex(0)):this.inLane&&this.characterOnLaneChange(this.inLane,this.inLane)}},{key:"iceblocked",get:function(){var t;return null!=(t=this.iceblock)&&t.dead&&(this.iceblock=null),!!this.iceblock}},{key:"ZombieSort",get:function(){var t,e=oe[null==(t=this.objdataOwnOrg)?void 0:t.ZombieSort];return isNaN(e)&&(e=oe.Other),e}},{key:"reversed",get:function(){return this._reversed||this._reverseCD>0},set:function(t){this.reverseSetScale(t||this.reverseCD>0),t!=this._reversed&&this.onReversedSet(t),this._reversed=t,this.setBodyRec(),this.setPlantDetectorRec()}},{key:"chiliStun",get:function(){return this._chiliStun},set:function(t){if(this.chiliStun<=0&&t>0&&!this.invincible){var e=B(N.zombieChiliBeanStun());e.parent=this.node.parent,e.setSiblingIndex(this.node.getSiblingIndex()+1),e.worldPosition=new w(this.shade.node.worldPosition.x,this._worldPositionY),this.chiliStunParticle=e.getComponent(et),this.chiliStunParticle.db.playAnimation("Start",1)}else(this.invincible||this._chiliStun>0&&t<=0)&&this.chiliStunParticle&&(this.chiliStunParticle.db.playAnimation("Die",2),this.chiliStunParticle=null);this._chiliStun=t}},{key:"poison",get:function(){return this._poison},set:function(t){if(t.isValid()&&t.infective&&!this.poisonPar){var e=B(N.zombiePoisonBubble());e.parent=this.node.parent;var i=e.getComponent(et);this.poisonPar=i,i.db.playAnimation("Idle",1/0),e.worldPosition=new w(this.worldPosition.x,this.worldPositionY+this.height+this.zombieHeight)}else t.isValid()&&t.infective||!this.poisonPar||(this.poisonPar.db.playAnimation("Die"),this.poisonPar=null);this._poison=t}},{key:"perfume",get:function(){return this._perfume},set:function(t){if(t>0&&this._perfume<=0){var e=B(N.zombiePerfumeSlow());e.parent=this.inLane.prjLayer,e.worldPosition=this.node.worldPosition.clone(),e.worldScale=this.node.worldScale.clone(),this.perfumeParticle=e.getComponent(et),this.perfumeParticle.db.playAnimation("Idle",1/0)}else if(t<=0&&this._perfume>0){var i;null==(i=this.perfumeParticle)||null==(i=i.db)||i.playAnimation("Die",1)}this._perfume=t}},{key:"off_ground",get:function(){return this._off_ground},set:function(t){var e=this.flying;this._off_ground=t,!this.flying&&e&&(this.blew||this.onLanding())}},{key:"flying",get:function(){return this._flying||this.off_ground},set:function(t){!t&&this._flying&&(this.blew||this.onLanding()),this._flying=t}},{key:"toughness",get:function(){return this.objdataOwn.Toughness}},{key:"sunBeanParticleCD",get:function(){return this._sunBeanParticleCD},set:function(t){if(this._sunBeanParticleCD<=0&&t>0){var e=B(N.zombieSunBean());e.parent=this.node.parent,e.setSiblingIndex(this.node.getSiblingIndex()+1),e.worldPosition=new w(this.shade.node.worldPosition.x,this._worldPositionY+this.zombieHeight/2),this.sunBeanParticle=e.getComponent(et),this.sunBeanParticle.db.playAnimation("Idle",2)}else this._sunBeanParticleCD>0&&t<=0&&this.sunBeanParticle&&(this.sunBeanParticle.db.playAnimation("Die",2),this.sunBeanParticle.willBeKilled=!0,this.sunBeanParticle=null);this._sunBeanParticleCD=t}},{key:"objdataOwn",get:function(){return this._objdataOwn}},{key:"objdataOwnOrg",get:function(){return this._objdataOwnOrg}},{key:"HitRect",get:function(){return this.DefaultHitRect}},{key:"AttackRect",get:function(){return this.DefaultAttackRect}},{key:"squarePerSec",get:function(){return this.objdataOwnOrg.WalkSPS}},{key:"randomSpeed",get:function(){return this.squarePerSec+this.randomWalkSpeedRate}},{key:"anmSpeed",get:function(){return.33}},{key:"armors",get:function(){return this._armors||(this._armors=[]),this._armors},set:function(t){this._armors=t}},{key:"invincible",get:function(){return this.glittering>0||this.teleporting}},{key:"isWalking",get:function(){return this._isWalking},set:function(t){!t&&this._isWalking&&(this.scaredByTyranno=!1),this._isWalking=t}},{key:"spawnedZomboss",get:function(){var t;return null!=(t=this._spawnedZomboss)&&t.isAlive()||(this._spawnedZomboss=null),this._spawnedZomboss},set:function(t){this._spawnedZomboss=t}},{key:"hypnotized",get:function(){return this._hypnotized},set:function(t){if(t&&this.coloredWhenHypnotized&&!this.hypnoPar){var e=B(N.zombieHypnoBubble());e.parent=this.node.parent;var i=e.getComponent(et);this.hypnoPar=i,i.db.playAnimation("Idle",1/0),e.worldPosition=new w(this.worldPositionX,this.worldPositionY+this.height+this.zombieHeight)}else t&&this.coloredWhenHypnotized||!this.hypnoPar||(this.hypnoPar.db.playAnimation("Die"),this.hypnoPar=null);var n=this._hypnotized!=t;this._hypnotized=t,t&&(this._usedToBeHypnotized=!0,this.reversed=!0,this.throwPlantFoodAndSun()),n&&(t&&nt.component.calculateLevelTask(ot.ZombieKillCountDown,{}),this.inLane&&this.characterOnLaneChange(this.inLane,this.inLane),W.deleteZombie(this),W.registerZombie(this),t&&this.onHypnotized())}},{key:"plantDetectorRec",get:function(){return!this.isAlive()||this.dirtSpawning?new I:this._plantDetectorRec}},{key:"plantDetectorRecForPotatoMine",get:function(){return this.plantDetectorRec}},{key:"dps",get:function(){return this.objdataOwnOrg.EatDPS}},{key:"potionInvisible",get:function(){return this._potionInvisible&&!this.potionInvisibleInvalid()},set:function(t){this._potionInvisible=t}},{key:"potionSpeedLevel",get:function(){return this._potionSpeedLevel},set:function(t){this._potionSpeedLevel=t;var e=this.shouldScale();y(this).to(.2,{scale:e}).start()}},{key:"potionToughnessLevel",get:function(){return this._potionToughnessLevel},set:function(t){this._potionToughnessLevel=t;var e=this.shouldScale();y(this).to(.2,{scale:e}).start()}},{key:"siblingIndexInLane",get:function(){return this.node.getSiblingIndex()}},{key:"bodyRecReal",get:function(){return!K.gameStarted||!this.isAlive()||this.iceblocked||this.dirtSpawning||this.chilibeanFartTween||this.teleporting||this.extraBodyRecHiddenCondition()?new I:this._bodyRec}},{key:"bodyRecForShooter",get:function(){return this.bodyRec}},{key:"bodyRec",get:function(){return this.potionInvisible?new I:this.bodyRecReal},set:function(t){this._bodyRec=t}},{key:"addColor",get:function(){return this._addColor},set:function(t){this._addColor=t}},{key:"ImmuneToSporeShroom",get:function(){return this.objdataOwn.ImmuneToSporeShroom}},{key:"DetectedGrimrose",get:function(){return this._DetectedGrimrose&&this._DetectedGrimrose.isAlive()&&this._DetectedGrimrose.isAttackingAsAGrimrose()?this._DetectedGrimrose:null},set:function(t){this._DetectedGrimrose=t}}]),e}(A)).prototype,"butterFace",[bt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ht=e(Wt.prototype,"zombieGroanSoundGroup",[yt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return z.modern}}),Zt=e(Wt.prototype,"flyZombie",[wt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),jt=e(Wt.prototype,"breakSound",[St],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ft=e(Wt.prototype,"hurtSound",[Pt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Mt=e(Wt.prototype,"hurtSoundVolume",[vt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Xt=e(Wt.prototype,"deathSound",[kt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Nt=e(Wt.prototype,"onHeadThrownSound",[Dt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Gt=e(Wt.prototype,"lieSound",[Tt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Vt=e(Wt.prototype,"chewSound",[Ct],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Yt=e(Wt.prototype,"groanSound",[Bt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),qt=e(Wt.prototype,"zombieAshParticle",[Lt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Kt=e(Wt.prototype,"body",[_t],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ut=e(Wt.prototype,"zombieHead",[At],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Jt=e(Wt.prototype,"zombieArm",[Rt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Qt=e(Wt.prototype,"zombieHeight",[zt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 60}}),$t=e(Wt.prototype,"headDropPoint",[It],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),te=e(Wt.prototype,"depthScale",[Ot],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 25}}),xt=Wt))||xt));var ae=t("ZombieProps",(function(){this.ExtraZombiesToLoad=[],this.ExtraZombiesToLoadFromProps=[],this.ExtraZombieArraysToLoadFromProps=[],this.CannotBeDetectedByPowerToss=!1,this.CannotChangeLaneByPowerToss=!1,this.CannotBeFlickedByPowerToss=!1,this.ChooseToSpawnOnNonDeckRows=!1,this.ChooseToSpawnOnDeepWaterRows=!1,this.CannotBeTossedByCitron=!1,this.CannotBeDraggedByTangleKelp=!1,this.CannotBeDetectedBySapfling=!1,this.CannotBeKnockedBackByProjectiles=!1,this.CannotBeGrabbedByPtero=!1,this.CannotBeChompedByTyranno=!1,this.CannotBeSwallowedByChomper=!1,this.CannotBeEnlightenedBySolarSage=!1,this.CanBeEasilySwallowedByChomper=!1,this.CanBeKickedByAllstar=!1,this.ChillInsteadOfFreeze=!1,this.ArmDroppingHealthPct=.5,this.Toughness=190,this.EatDPS=100,this.WalkSPS=.185,this.WalkSPSVarience=.012,this.NormalDeathWhenMowed=!1,this.SpeedScaleInWater=1,this.LivesInDeepWater=!1,this.CannotBePushedBySliders=!1,this.ZombossLaneSummon=!1,this.StartingArmors=[],this.IgnoredByThymeWarp=!1,this.IgnoredInWaves=!1,this.CannotCarryPlantfoodsInWaves=!1,this.IsSpawnedFlying=!1,this.JamPunkWalkSpeed=1.5,this.JamPopWalkSpeed=.8,this.JamMetalWalkSpeed=1.25,this.FoeEatDamageReflectPct=0,this.ImmuneToShrinkingViolet=!1,this.KilledByShrinkingViolet=!1,this.ImmuneToGarlic=!1,this.DoesNotDamageHeavilyToGarlic=!1,this.ImmuneToSweetPotato=!1,this.ImmuneToSporeShroom=!1,this.ChiliStunDurationMult=1,this.ZombieSort="",this.JamStyle="",this.WavePointCost=100,this.Weight=1e3,this.CanSurrender=!1,this.HitRect="RTID(CommonHitRect@RectangleProps)",this.AttackRect="RTID(CommonAttackRect@RectangleProps)"}));h._RF.pop()}}}));

System.register("chunks:///_virtual/ZombieAshParticle.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ParticleSelfdestroy.ts","./LnC.ts","./Character.ts"],(function(t){var e,i,n,o,a,r;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,n=t._decorator},function(t){o=t.ParticleSelfdestroy},function(t){a=t.TileType},function(t){r=t.Character}],execute:function(){var s;i._RF.push({},"5fe0cRIBMdG9a1Hu7mi2SL6","ZombieAshParticle",void 0);var c=n.ccclass;n.property,t("ZombieAshParticle",c("ZombieAshParticle")(s=function(t){function i(){for(var e,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this).characterComponent=void 0,e.sky=!1,e.inLnC=void 0,e.height=0,e}e(i,t);var n=i.prototype;return n.zombieAshDBListener=function(t){},n.animationListener=function(t){"ash"==t.name&&(this.TotalRGB=0,this.HighRed=0,this.playAsh()),this.zombieAshDBListener(t)},n.specialOnLoad=function(){this.characterComponent=this.getComponent(r),this.characterComponent.depthStartingZ=10},n.specialUpdate=function(t){this.db},n.playAsh=function(){var t;this.TotalRGB=0,this.HighRed=0;var e="PlayFloor",i=null==(t=this.inLnC)?void 0:t.getTileType();(this.height>5||i==a.sea||i==a.water||i==a.sky)&&(e="PlaySky"),this.db.playAnimation(e)},i}(o))||s);i._RF.pop()}}}));

System.register("chunks:///_virtual/zombieDrop.ts",["./rollupPluginModLoBabelHelpers.js","cc","./commonShot.ts"],(function(t){var i,e,n,o,r,a,c,s;return{setters:[function(t){i=t.inheritsLoose,e=t.asyncToGenerator,n=t.regeneratorRuntime},function(t){o=t.cclegacy,r=t._decorator,a=t.Vec2,c=t.Size},function(t){s=t.commonShot}],execute:function(){var h;o._RF.push({},"45bb9Yr+sNB1ZuCJPlM2PYm","zombieDrop",void 0);var l=r.ccclass;r.property,t("zombieDrop",l("zombieDrop")(h=function(t){function o(){for(var i,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return(i=t.call.apply(t,[this].concat(n))||this).popWhenStatic=!1,i}i(o,t);var r=o.prototype;return r.hitFloor=function(t){this.detectEnemyOn=!1,this.height=0;var i=this.linearVelocity.clone(),e=this.bodyLinearVelocity,n=new a(i.x/2,i.y/2),o=e/-2-.55*t*60*this.gravity;Math.pow(o,2)+Math.pow(n.x,2)+Math.pow(n.y,2)<=3&&!this.fadingAway&&(n=new a(0,0),o=0,this.fallingInSky||(this.bodyOmega=0),this.gravity=0,this.fadeAway()),this.linearVelocity=n,this.bodyLinearVelocity=o},r.characterOnEnable=function(){this.initialize(),this.size=new c(30,30)},r.pop=function(){var t=e(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.playPopSound(),this.detectEnemyOn=!1,this.bodyLinearVelocity*=-1*(Math.random()+.5),this.bodyLinearVelocity+=2.7*(Math.random()+.5),this.bodyOmega*=Math.random()+.5,this.linearVelocity.multiplyScalar(-.4*(Math.random()+.5)),0==this.gravity&&(this.gravity=.6666);case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),o}(s))||h);o._RF.pop()}}}));

System.register("chunks:///_virtual/Zombies.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NodePools.ts","./ArrayGet.ts","./Zombie.ts","./CharacterManager.ts","./Square.ts","./SoundRescourses.ts","./FrontYard.ts","./levelController.ts","./JSONs.ts","./MultiLanguage.ts"],(function(e){var o,r,a,t,n,i,m,s,u,_,c,b,l,g,h,p,f,d,k,y,v,Z,w,z,R,O,P,G,S;return{setters:[function(e){o=e.createClass,r=e.applyDecoratedDescriptor,a=e.inheritsLoose,t=e.initializerDefineProperty,n=e.assertThisInitialized,i=e.asyncToGenerator,m=e.regeneratorRuntime,s=e.createForOfIteratorHelperLoose},function(e){u=e.cclegacy,_=e._decorator,c=e.JsonAsset,b=e.AudioClip,l=e.Prefab,g=e.assetManager,h=e.Component,p=e.Vec2,f=e.resources,d=e.instantiate},function(e){k=e.NodePools},function(e){y=e.ArrayGet},function(e){v=e.Zombie},function(e){Z=e.ZombieGroanSoundGroupEnum},function(e){w=e.Square},function(e){z=e.sounds},function(e){R=e.FrontYard},function(e){O=e.LevelPlay},function(e){P=e.PvZ2Object,G=e.PvZ2ObjectContainer},function(e){S=e.MultiLanguage}],execute:function(){var T,x,L,D,W,C,j,B,E,I,A,F,N,M,J,q,X,H,Y,U,K,V,Q,$,ee,oe,re,ae,te,ne,ie,me,se,ue,_e;u._RF.push({},"3127d1KIzhGIqdUCpakDMry","Zombies",void 0);var ce=_.ccclass,be=_.property,le=(e("ZombieFeature",(function(){this.NAME=new S,this._CARDSPRITENAME="",this.CODENAME="",this.SUNCOST=0,this.OBTAINWORLD="egypt",this.PROPS="",this.ALMANAC="",this.RES=""})),e("ZombieType",(function(){this.Properties="RTID(tutorial@ZombieProps)",this.ZombieBasedOn="tutorial"}))),ge=e("ZombieEnum",function(e){return e[e.tutorial=0]="tutorial",e[e.tutorial_armor1=1]="tutorial_armor1",e[e.tutorial_armor2=2]="tutorial_armor2",e[e.tutorial_armor4=3]="tutorial_armor4",e[e.tutorial_flag=4]="tutorial_flag",e[e.tutorial_flag_veteran=5]="tutorial_flag_veteran",e[e.duckytube=6]="duckytube",e[e.duckytube_armor1=7]="duckytube_armor1",e[e.duckytube_armor2=8]="duckytube_armor2",e[e.duckytube_armor4=9]="duckytube_armor4",e[e.duckytube_flag=10]="duckytube_flag",e[e.duckytube_flag_veteran=11]="duckytube_flag_veteran",e[e.tutorial_imp=12]="tutorial_imp",e[e.tutorial_gargantuar=13]="tutorial_gargantuar",e[e.vase_gargantuar=14]="vase_gargantuar",e[e.bobsled=15]="bobsled",e[e.bobsled_team=16]="bobsled_team",e[e.modern_newspaper=17]="modern_newspaper",e[e.newspaper_veteran=18]="newspaper_veteran",e[e.modern_balloon=19]="modern_balloon",e[e.modern_allstar=20]="modern_allstar",e[e.modern_superfanimp=21]="modern_superfanimp",e[e.lunar_superfanimp=22]="lunar_superfanimp",e[e.zomboni=23]="zomboni",e[e.catapult=24]="catapult",e[e.zombossmech_modern1=25]="zombossmech_modern1",e[e.mummy=26]="mummy",e[e.mummy_armor1=27]="mummy_armor1",e[e.mummy_armor2=28]="mummy_armor2",e[e.mummy_armor4=29]="mummy_armor4",e[e.mummy_flag=30]="mummy_flag",e[e.mummy_flag_veteran=31]="mummy_flag_veteran",e[e.ra=32]="ra",e[e.camel_segment=33]="camel_segment",e[e.camel_onehump=34]="camel_onehump",e[e.camel_twohump=35]="camel_twohump",e[e.camel_threehump=36]="camel_threehump",e[e.camel_manyhump=37]="camel_manyhump",e[e.camel_segment_touch=38]="camel_segment_touch",e[e.camel_onehump_touch=39]="camel_onehump_touch",e[e.camel_twohump_touch=40]="camel_twohump_touch",e[e.camel_threehump_touch=41]="camel_threehump_touch",e[e.camel_manyhump_touch=42]="camel_manyhump_touch",e[e.explorer=43]="explorer",e[e.explorer_veteran=44]="explorer_veteran",e[e.tomb_raiser=45]="tomb_raiser",e[e.pharaoh_inner=46]="pharaoh_inner",e[e.pharaoh_weak=47]="pharaoh_weak",e[e.pharaoh=48]="pharaoh",e[e.egypt_imp=49]="egypt_imp",e[e.egypt_gargantuar=50]="egypt_gargantuar",e[e.zombossmech_egypt=51]="zombossmech_egypt",e[e.zombossmech_egypt2=52]="zombossmech_egypt2",e[e.pirate=53]="pirate",e[e.pirate_armor1=54]="pirate_armor1",e[e.pirate_armor2=55]="pirate_armor2",e[e.pirate_armor4=56]="pirate_armor4",e[e.pirate_flag=57]="pirate_flag",e[e.pirate_flag_veteran=58]="pirate_flag_veteran",e[e.swashbuckler=59]="swashbuckler",e[e.seagull=60]="seagull",e[e.pelican=61]="pelican",e[e.barrelroller=62]="barrelroller",e[e.pirate_barrel=63]="pirate_barrel",e[e.cannon=64]="cannon",e[e.pirate_captain=65]="pirate_captain",e[e.pirate_captain_parrot=66]="pirate_captain_parrot",e[e.pirate_imp=67]="pirate_imp",e[e.pirate_gargantuar=68]="pirate_gargantuar",e[e.zombossmech_pirate=69]="zombossmech_pirate",e[e.zombossmech_pirate2=70]="zombossmech_pirate2",e[e.cowboy=71]="cowboy",e[e.cowboy_armor1=72]="cowboy_armor1",e[e.cowboy_armor2=73]="cowboy_armor2",e[e.cowboy_armor4=74]="cowboy_armor4",e[e.cowboy_flag=75]="cowboy_flag",e[e.cowboy_flag_veteran=76]="cowboy_flag_veteran",e[e.prospector=77]="prospector",e[e.piano=78]="piano",e[e.poncho=79]="poncho",e[e.poncho_no_plate=80]="poncho_no_plate",e[e.poncho_plate=81]="poncho_plate",e[e.chicken_farmer=82]="chicken_farmer",e[e.chicken=83]="chicken",e[e.chicken_pumpkin=84]="chicken_pumpkin",e[e.west_bull=85]="west_bull",e[e.west_bull_veteran=86]="west_bull_veteran",e[e.west_bullrider=87]="west_bullrider",e[e.cowboy_gargantuar=88]="cowboy_gargantuar",e[e.zombossmech_cowboy=89]="zombossmech_cowboy",e[e.zombossmech_cowboy2=90]="zombossmech_cowboy2",e[e.future=91]="future",e[e.future_armor1=92]="future_armor1",e[e.future_armor2=93]="future_armor2",e[e.future_armor4=94]="future_armor4",e[e.future_flag=95]="future_flag",e[e.future_flag_veteran=96]="future_flag_veteran",e[e.future_jetpack=97]="future_jetpack",e[e.birthday_jetpack=98]="birthday_jetpack",e[e.future_jetpack_veteran=99]="future_jetpack_veteran",e[e.future_jetpack_disco=100]="future_jetpack_disco",e[e.future_protector=101]="future_protector",e[e.future_protector_shield=102]="future_protector_shield",e[e.future_infinut_shield=103]="future_infinut_shield",e[e.modern_moonflower_shield=104]="modern_moonflower_shield",e[e.mech_cone=105]="mech_cone",e[e.football_mech=106]="football_mech",e[e.disco_mech=107]="disco_mech",e[e.future_imp=108]="future_imp",e[e.future_gargantuar=109]="future_gargantuar",e[e.zombossmech_future=110]="zombossmech_future",e[e.zombossmech_future2=111]="zombossmech_future2",e[e.dark=112]="dark",e[e.dark_armor1=113]="dark_armor1",e[e.dark_armor2=114]="dark_armor2",e[e.dark_armor3=115]="dark_armor3",e[e.dark_armor4=116]="dark_armor4",e[e.dark_flag=117]="dark_flag",e[e.dark_flag_veteran=118]="dark_flag_veteran",e[e.dark_juggler=119]="dark_juggler",e[e.dark_wizard=120]="dark_wizard",e[e.dark_wizard_veteran=121]="dark_wizard_veteran",e[e.dark_king=122]="dark_king",e[e.dark_king_veteran=123]="dark_king_veteran",e[e.dark_imp_dragon=124]="dark_imp_dragon",e[e.dark_imp=125]="dark_imp",e[e.dark_gargantuar=126]="dark_gargantuar",e[e.zombossmech_dark=127]="zombossmech_dark",e[e.zombossmech_dark2=128]="zombossmech_dark2",e[e.beach=129]="beach",e[e.beach_armor1=130]="beach_armor1",e[e.beach_armor2=131]="beach_armor2",e[e.beach_armor4=132]="beach_armor4",e[e.beach_fem=133]="beach_fem",e[e.beach_fem_armor1=134]="beach_fem_armor1",e[e.beach_fem_armor2=135]="beach_fem_armor2",e[e.beach_fem_armor4=136]="beach_fem_armor4",e[e.beach_flag=137]="beach_flag",e[e.beach_flag_veteran=138]="beach_flag_veteran",e[e.beach_snorkel=139]="beach_snorkel",e[e.beach_surfer=140]="beach_surfer",e[e.beach_surfer_veteran=141]="beach_surfer_veteran",e[e.beach_octopus=142]="beach_octopus",e[e.beach_fisherman=143]="beach_fisherman",e[e.beach_imp=144]="beach_imp",e[e.beach_gargantuar=145]="beach_gargantuar",e[e.zombossmech_beach=146]="zombossmech_beach",e[e.zombossmech_beach2=147]="zombossmech_beach2",e[e.iceage=148]="iceage",e[e.iceage_armor1=149]="iceage_armor1",e[e.iceage_armor2=150]="iceage_armor2",e[e.iceage_armor3=151]="iceage_armor3",e[e.iceage_armor4=152]="iceage_armor4",e[e.iceage_flag=153]="iceage_flag",e[e.iceage_flag_veteran=154]="iceage_flag_veteran",e[e.iceage_hunter=155]="iceage_hunter",e[e.iceage_hunter_veteran=156]="iceage_hunter_veteran",e[e.iceage_dodo=157]="iceage_dodo",e[e.iceage_troglobite=158]="iceage_troglobite",e[e.iceage_troglobite_1block=159]="iceage_troglobite_1block",e[e.iceage_troglobite_2block=160]="iceage_troglobite_2block",e[e.iceage_troglobite_veteran=161]="iceage_troglobite_veteran",e[e.iceage_weaselhoarder=162]="iceage_weaselhoarder",e[e.iceage_weasel=163]="iceage_weasel",e[e.iceage_imp=164]="iceage_imp",e[e.iceage_gargantuar=165]="iceage_gargantuar",e[e.zombossmech_iceage=166]="zombossmech_iceage",e[e.zombossmech_iceage2=167]="zombossmech_iceage2",e[e.lostcity=168]="lostcity",e[e.lostcity_armor1=169]="lostcity_armor1",e[e.lostcity_armor2=170]="lostcity_armor2",e[e.lostcity_flag=171]="lostcity_flag",e[e.lostcity_lostpilot=172]="lostcity_lostpilot",e[e.lostcity_excavator=173]="lostcity_excavator",e[e.lostcity_jane=174]="lostcity_jane",e[e.lostcity_bug=175]="lostcity_bug",e[e.lostcity_bug_armor1=176]="lostcity_bug_armor1",e[e.lostcity_bug_armor2=177]="lostcity_bug_armor2",e[e.lostcity_relichunter=178]="lostcity_relichunter",e[e.lostcity_impporter=179]="lostcity_impporter",e[e.lostcity_crystalskull=180]="lostcity_crystalskull",e[e.lostcity_imp=181]="lostcity_imp",e[e.lostcity_gargantuar=182]="lostcity_gargantuar",e[e.zombossmech_lostcity=183]="zombossmech_lostcity",e[e.summer_basic=184]="summer_basic",e[e.summer_armor1=185]="summer_armor1",e[e.summer_armor2=186]="summer_armor2",e[e.summer_flag=187]="summer_flag",e[e.summer_bug=188]="summer_bug",e[e.summer_bug_armor1=189]="summer_bug_armor1",e[e.summer_bug_armor2=190]="summer_bug_armor2",e[e.summer_imp=191]="summer_imp",e[e.summer_gargantuar=192]="summer_gargantuar",e[e.kongfu=193]="kongfu",e[e.kongfu_armor1=194]="kongfu_armor1",e[e.kongfu_armor2=195]="kongfu_armor2",e[e.kongfu_armor3=196]="kongfu_armor3",e[e.kongfu_flag=197]="kongfu_flag",e[e.kongfu_flag_veteran=198]="kongfu_flag_veteran",e[e.kongfu_hammer=199]="kongfu_hammer",e[e.kongfu_torch=200]="kongfu_torch",e[e.kongfu_bomb=201]="kongfu_bomb",e[e.kongfu_gong=202]="kongfu_gong",e[e.kongfu_drink=203]="kongfu_drink",e[e.kongfu_chi=204]="kongfu_chi",e[e.kongfu_rocket_imp=205]="kongfu_rocket_imp",e[e.monk=206]="monk",e[e.monk_armor1=207]="monk_armor1",e[e.monk_armor2=208]="monk_armor2",e[e.monk_armor3=209]="monk_armor3",e[e.monk_flag=210]="monk_flag",e[e.monk_flag_veteran=211]="monk_flag_veteran",e[e.monk_blade=212]="monk_blade",e[e.monk_nunchaku=213]="monk_nunchaku",e[e.monk_torch=214]="monk_torch",e[e.monk_drink=215]="monk_drink",e[e.monk_imp=216]="monk_imp",e[e.abbot=217]="abbot",e[e.abbot_armor1=218]="abbot_armor1",e[e.abbot_armor2=219]="abbot_armor2",e[e.abbot_armor3=220]="abbot_armor3",e[e.abbot_flag=221]="abbot_flag",e[e.abbot_flag_veteran=222]="abbot_flag_veteran",e[e.abbot_torch=223]="abbot_torch",e[e.abbot_fan=224]="abbot_fan",e[e.abbot_chi=225]="abbot_chi",e[e.abbot_imp=226]="abbot_imp",e[e.kongfu_bronze_statue=227]="kongfu_bronze_statue",e[e.kongfu_bronze_strong=228]="kongfu_bronze_strong",e[e.kongfu_bronze_hook=229]="kongfu_bronze_hook",e[e.kongfu_bronze_chi=230]="kongfu_bronze_chi",e[e.kongfu_boss_explode=231]="kongfu_boss_explode",e[e.kongfu_boss_blade=232]="kongfu_boss_blade",e[e.sky=233]="sky",e[e.sky_armor1=234]="sky_armor1",e[e.sky_armor2=235]="sky_armor2",e[e.sky_flag=236]="sky_flag",e[e.eighties=237]="eighties",e[e.eighties_armor1=238]="eighties_armor1",e[e.eighties_armor2=239]="eighties_armor2",e[e.eighties_flag=240]="eighties_flag",e[e.eighties_punk=241]="eighties_punk",e[e.eighties_glitter=242]="eighties_glitter",e[e.eighties_mc=243]="eighties_mc",e[e.eighties_breakdancer=244]="eighties_breakdancer",e[e.eighties_arcade=245]="eighties_arcade",e[e.eighties_8bit=246]="eighties_8bit",e[e.eighties_8bit_armor1=247]="eighties_8bit_armor1",e[e.eighties_8bit_armor2=248]="eighties_8bit_armor2",e[e.eighties_boombox=249]="eighties_boombox",e[e.eighties_imp=250]="eighties_imp",e[e.eighties_gargantuar=251]="eighties_gargantuar",e[e.zombossmech_eighties=252]="zombossmech_eighties",e[e.dino=253]="dino",e[e.dino_armor1=254]="dino_armor1",e[e.dino_armor2=255]="dino_armor2",e[e.dino_armor3=256]="dino_armor3",e[e.dino_armor4=257]="dino_armor4",e[e.dino_flag=258]="dino_flag",e[e.dino_flag_veteran=259]="dino_flag_veteran",e[e.dino_bully=260]="dino_bully",e[e.dino_bully_veteran=261]="dino_bully_veteran",e[e.dino_imp=262]="dino_imp",e[e.dino_gargantuar=263]="dino_gargantuar",e[e.zombossmech_dino=264]="zombossmech_dino",e[e.zombossmech_dino2=265]="zombossmech_dino2",e[e.lawn=266]="lawn",e[e.lawn_armor1=267]="lawn_armor1",e[e.lawn_armor2=268]="lawn_armor2",e[e.lawn_armor3=269]="lawn_armor3",e[e.lawn_armor4=270]="lawn_armor4",e[e.lawn_flag=271]="lawn_flag",e[e.lawn_flag_veteran=272]="lawn_flag_veteran",e[e.zombieAmount=273]="zombieAmount",e}({})),he=e("ZombieRes",(function(){})),pe=e("zombies",function(){function e(){}return e.playGroan=function(e,o){void 0===o&&(o=1),this.zombieRes.playZombieGroan(e,o)},e.getLessZombieLane=function(e,o){if(void 0===e&&(e=[0,1,2,3,4]),void 0===o&&(o=ge.tutorial),e.length){var r=1/0,a=y.randomize(e),t=Math.floor(5*Math.random()),n=!1;switch(o){case ge.abbot_chi:case ge.beach_fisherman:case ge.dark_king_veteran:case ge.dark_king:n=!0}return n&&(a.concat().forEach((function(e){var o=w.getLane(e),r=!1;if(o.zombiePool().forEach((function(e){-1!=[ge.dark_king_veteran,ge.dark_king,ge.beach_fisherman].indexOf(e.ID)&&(r=!0)})),r){var t=a.indexOf(e);-1!=t&&a.splice(t,1)}})),a.length||(a=y.randomize(e))),a.forEach((function(e){var o=0;w.getLane(e).zombiePool().forEach((function(e){e.countHealthToThisLane&&(o+=e.totalHealth())})),o<r&&(t=e,r=o)})),t}return Math.floor(5*Math.random())},e.getZombieProps=function(e){var o;return null==(o=P.getObjectsByRTID(this.getZombieFeature(e).PROPS,"ZombieProperties")[0])?void 0:o.objdata},e.getZombieAlmanac=function(e){var o;return null==(o=P.getObjectsByRTID(this.getZombieFeature(e).ALMANAC,"ZombieAlmanacProperties")[0])?void 0:o.objdata},e.getZombieSpawnL=function(e,o){if(isNaN(e)||null==e){var r,a=R.CurrentLawn;if(null!=a&&null!=(r=a.PlankRows)&&r.length)e=o.objdataOwn.ChooseToSpawnOnNonDeckRows?this.getLessZombieLane(a.SeaRows):this.getLessZombieLane(a.PlankRows);else{var t,n=o.objdataOwn.ChooseToSpawnOnDeepWaterRows?R.lanesWithDeepWater():[0,1,2,3,4],i=(n=o.objdataOwn.LivesInDeepWater||o.objdataOwn.ChooseToSpawnOnNonDeckRows||o.objdataOwn.ChooseToSpawnOnDeepWaterRows?n:R.lanesWithoutDeepWater()).filter((function(e){var o;return-1!=(null==O||null==(o=O.component)?void 0:o.onlyLanesForRandomSpawn.indexOf(e))}));null!=(t=i)&&t.length||(i=[0,1,2,3,4]),e=this.getLessZombieLane(i)}}return e},e.spawnZombieFromLaneByRTID=function(){var e=i(m().mark((function e(o,r,a,t,n,i){var s;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===a&&(a=null),void 0===t&&(t=!0),void 0===n&&(n=!1),void 0===i&&(i=!1),s=this.getZombieEnumByRTID(r),e.next=7,this.spawnZombieFromLane(o,s.z,a,t,n,i,s.prop);case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e,this)})));return function(o,r,a,t,n,i){return e.apply(this,arguments)}}(),e.spawnZombieFromLaneByZombieType=function(){var e=i(m().mark((function e(o,r,a,t,n,i){var s;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===a&&(a=null),void 0===t&&(t=!0),void 0===n&&(n=!1),void 0===i&&(i=!1),s=this.getZombieEnumFromZombieTypes(r),e.next=7,this.spawnZombieFromLane(o,s.z,a,t,n,i,s.prop);case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e,this)})));return function(o,r,a,t,n,i){return e.apply(this,arguments)}}(),e.spawnZombieFromLane=function(){var o=i(m().mark((function o(r,a,t,n,i,s,u){var _,c,b,l,g;return m().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return void 0===t&&(t=null),void 0===n&&(n=!0),void 0===i&&(i=!1),void 0===s&&(s=!1),void 0===u&&(u=null),o.next=7,e.getZombieCompByID(a,!1,t,u);case 7:return _=o.sent,r=this.getZombieSpawnL(r,_),c=w.getLane(r),_.node.parent=c.zombieLayer,_.spawnLane=c,b=c.JitterSpawnZombieRoute,_.worldPosition=new p(w.zombieSpawnX+c.zombieSpawnOffset,c.floorY),c.zombieSpawnOffset+=w.SquareWidth,b&&(_.setWalkRoute(b.SplinePoints,b.BufferDistance,b.BaseMovementRate),_.worldPositionX+=c.zombieSpawnOffset),i&&(l=w.getSquareWorldPosition(0,4).x,_.reversed=!0,_.worldPositionX=2*l-_.worldPositionX),s&&(g=w.getSquareWorldPosition(0,4).x,_.hypnotized=!0,_.worldPositionX=2*g-_.worldPositionX),_.correctDepth(1e3),_.onLaneSpawnSettled(c,n),o.abrupt("return",_);case 21:case"end":return o.stop()}}),o,this)})));return function(e,r,a,t,n,i,m){return o.apply(this,arguments)}}(),e.createZombieByRTID=function(e,o){var r=this.getZombieEnumByRTID(o);return this.spawnZombieFromLane(e,r.z,{},!0,!1,!1,r.prop)},e.getZombiesWithNamesAndPoint=function(o,r,a){void 0===a&&(a=!0);var t=[],n=o.concat(),i=1/0;for(n.concat().forEach((function(o){var a=e.getZombieWavePointCost(o);a>r&&n.splice(n.indexOf(o),1),a<i&&(i=a)}));r>=i;){var m=a?e.pickZombieByWeight(n):y.getRandom(n),s=e.getZombieWavePointCost(m);if(s<=r)t.push(m),r-=s;else{var u=n.indexOf(m);-1!=u&&n.splice(u,1)}}return t},e.getZombiesWithTypesAndPoint=function(o,r,a){var t=this;void 0===a&&(a=!0);var n=[],i=o.concat(),m=1/0;for(i.concat().forEach((function(e){var o=t.getZombieEnumFromZombieTypes(e).prop.WavePointCost;o>r&&i.splice(i.indexOf(e),1),o<m&&(m=o)}));r>=m;){var s=a?e.pickZombieTypeByWeight(i):y.getRandom(i),u=this.getZombieEnumFromZombieTypes(s).prop.WavePointCost;if(u<=r)n.push(s),r-=u;else{var _=i.indexOf(s);-1!=_&&i.splice(_,1)}}return n},e.getZombiesWithRTIDsAndPoint=function(o,r,a){void 0===a&&(a=!0);var t=[],n=o.concat(),i=1/0;for(n.concat().forEach((function(o){var a=e.getZombieRTIDWavePointCost(o);a>r&&n.splice(n.indexOf(o),1),a<i&&(i=a)}));r>=i;){var m=a?e.pickZombieRTIDByWeight(n):y.getRandom(n),s=e.getZombieRTIDWavePointCost(m);if(s<=r)t.push(m),r-=s;else{var u=n.indexOf(m);-1!=u&&n.splice(u,1)}}return t},e.unloadZombies=function(){for(var e=0;e<ge.zombieAmount;e++)he[e]&&g.releaseAsset(he[e]),he[e]=void 0},e.loadZombie=function(){var e=i(m().mark((function e(o){var r,a;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!he[o]){e.next=2;break}return e.abrupt("return",he[o]);case 2:return r=this.getZombieFeature(o).RES,a=new Promise((function(e,a){f.load("zombies/"+r+"ZOMBIE",(function(r,t){t?(he[o]=t,e(t)):a(r)}))})),e.next=6,a;case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e,this)})));return function(o){return e.apply(this,arguments)}}(),e.getZombieCompByID=function(){var e=i(m().mark((function e(o,r,a,t){var n,i,u,_,c,b,l,g,h,p,f,y,Z,w;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===r&&(r=!1),void 0===a&&(a=null),void 0===t&&(t=null),i=this.zombieRes,u=r?d:k.instantiatePooly,_=o+0,e.next=8,this.loadZombie(o);case 8:if((c=e.sent)||(c=i.basicZombie),b=u(c),(l=b.getComponent(v)).onZombiesGot(_,a),l.ID=_,l.OID=o,g=this.getZombieFeature(o),h=t||this.getZombieProps(_),p=t||this.getZombieProps(o),null==(n=h.StartingArmors)||!n.length){e.next=26;break}f=s(h.StartingArmors);case 20:if((y=f()).done){e.next=26;break}return Z=y.value,e.next=24,l.addArmor(Z,!0);case 24:e.next=20;break;case 26:return w=this.getZombieFeature(_),l.setObjdata(h,p),w&&(l.WPC_real=h.WavePointCost),g&&(l.WPC_wave=p.WavePointCost),e.abrupt("return",l);case 31:case"end":return e.stop()}}),e,this)})));return function(o,r,a,t){return e.apply(this,arguments)}}(),e.getZombieEnumByCodename=function(e,o){void 0===o&&(o=!0);var r=ge[e];return isNaN(r)&&o&&(r=ge.tutorial,console.warn("Can't find the zombie '"+e+"'.")),r},e.getZombieEnumWithProp=function(e){return{z:e,prop:this.getZombieProps(e)}},e.getFilledZombieProps=function(e,o){var r=this.getZombieProps(o);return e?(Object.getOwnPropertyNames(r).forEach((function(o){null==e[o]&&(e[o]=r[o])})),e):r},e.getZombieEnumFromZombieTypes=function(e){var o,r,a,t,n,i=null==(o=P.getObjects(e,G.CurrentLevel,"ZombieType")[0])?void 0:o.objdata;i||(i=null==(r=P.getObjects(e,G.ZombieTypes,"ZombieType")[0])?void 0:r.objdata),i||(i=new le);var m=null==(a=P.getObjectsByRTID(null==(t=i)?void 0:t.Properties,"ZombieProperties")[0])?void 0:a.objdata,s=this.getZombieEnumByCodename(null!=(n=i)&&n.ZombieBasedOn?i.ZombieBasedOn:e);return{z:s,prop:m=this.getFilledZombieProps(m,s)}},e.getZombieEnumByRTID=function(e){var o,r,a,t=null==(o=P.getObjectsByRTID(e,"ZombieType")[0])?void 0:o.objdata,n=null==(r=P.getObjectsByRTID(null==(a=P.getObjectsByRTID(e,"ZombieType")[0])||null==(a=a.objdata)?void 0:a.Properties,"ZombieProperties")[0])?void 0:r.objdata;return{z:this.getZombieEnumByCodename(null!=t&&t.ZombieBasedOn?t.ZombieBasedOn:e),prop:n}},e.zombossList=function(){return[ge.zombossmech_modern1,ge.zombossmech_egypt,ge.zombossmech_egypt2,ge.zombossmech_pirate,ge.zombossmech_pirate2,ge.zombossmech_cowboy,ge.zombossmech_cowboy2,ge.zombossmech_future,ge.zombossmech_future2,ge.zombossmech_dark,ge.zombossmech_dark2,ge.zombossmech_beach,ge.zombossmech_beach2,ge.zombossmech_iceage,ge.zombossmech_iceage2,ge.zombossmech_lostcity,ge.kongfu_boss_explode,ge.kongfu_boss_blade,ge.zombossmech_dino,ge.zombossmech_dino2,ge.zombossmech_eighties]},e.getZombieWavePointCost=function(e){var o=this.getZombieProps(e).WavePointCost;return isNaN(o)?100:o},e.getZombieRTIDWavePointCost=function(e){var o=this.getZombieEnumByRTID(e).prop.WavePointCost;return isNaN(o)?100:o},e.getZombieWeight=function(e){var o=this.getZombieProps(e).Weight;return isNaN(o)?1e3:o},e.getZombieRTIDWeight=function(e){var o=this.getZombieEnumByRTID(e).prop.Weight;return isNaN(o)?1e3:o},e.SpawnRandomZombies=function(){var o=i(m().mark((function o(){var r,a,t;return m().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:r=0;case 1:if(!(r<5)){o.next=14;break}a=0;case 3:if(!(a<3)){o.next=11;break}if(t=Math.floor(Math.random()*ge.zombieAmount),-1!=this.f1BlackList.indexOf(t)){o.next=8;break}return o.next=8,e.spawnZombieFromLane(r,t);case 8:a++,o.next=3;break;case 11:r++,o.next=1;break;case 14:case"end":return o.stop()}}),o,this)})));return function(){return o.apply(this,arguments)}}(),e.pickZombieTypeByWeight=function(e){var o=this,r=[],a=0;e.forEach((function(e){var t=o.getZombieEnumFromZombieTypes(e).prop.Weight;r.push(a+t),a+=t}));for(var t=Math.random()*a,n=0;n<r.length;n++)if(t<r[n])return e[n];return y.getRandom(e)},e.pickZombieByWeight=function(e){var o=this,r=[],a=0;e.forEach((function(e){var t=o.getZombieWeight(e);r.push(a+t),a+=t}));for(var t=Math.random()*a,n=0;n<r.length;n++)if(t<r[n])return e[n];return y.getRandom(e)},e.pickZombieRTIDByWeight=function(e){var o=this,r=[],a=0;e.forEach((function(e){var t=o.getZombieRTIDWeight(e);r.push(a+t),a+=t}));for(var t=Math.random()*a,n=0;n<r.length;n++)if(t<r[n])return e[n];return y.getRandom(e)},e.getZombieFeature=function(e){return this.zombieRes.ZombieFeatures[e]},o(e,null,[{key:"f1BlackList",get:function(){return e.zombossList().concat(ge.future_infinut_shield,ge.modern_moonflower_shield,ge.future_protector_shield)}}]),e}());pe.zombieRes=null,pe.AlmanacList=[];e("Zombies",(T=ce("Zombies"),x=be(c),L=be([b]),D=be([b]),W=be([b]),C=be([b]),j=be([b]),B=be([b]),E=be([b]),I=be([b]),A=be([b]),F=be([b]),N=be([b]),M=be([b]),J=be([b]),q=be([b]),X=be(l),T((U=r((Y=function(e){function o(){for(var o,r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return o=e.call.apply(e,[this].concat(a))||this,t(o,"zombieFeaturesJson",U,n(o)),o.ZombieFeatures=[],t(o,"modernZombieGroan",K,n(o)),t(o,"egyptZombieGroan",V,n(o)),t(o,"pirateZombieGroan",Q,n(o)),t(o,"cowboyZombieGroan",$,n(o)),t(o,"futureZombieGroan",ee,n(o)),t(o,"darkZombieGroan",oe,n(o)),t(o,"beachZombieGroan",re,n(o)),t(o,"iceZombieGroan",ae,n(o)),t(o,"lostZombieGroan",te,n(o)),t(o,"eightiesZombieGroan",ne,n(o)),t(o,"dinoZombieGroan",ie,n(o)),t(o,"kongfuZombieGroan",me,n(o)),t(o,"impGroan",se,n(o)),t(o,"gargantuarGroan",ue,n(o)),t(o,"basicZombie",_e,n(o)),o}a(o,e);var r=o.prototype;return r.playZombieGroan=function(e,o){switch(void 0===o&&(o=1),e){case Z.modern:z.playOneShot(y.getRandom(this.modernZombieGroan),o);break;case Z.egypt:z.playOneShot(y.getRandom(this.egyptZombieGroan),o);break;case Z.pirate:z.playOneShot(y.getRandom(this.pirateZombieGroan),o);break;case Z.cowboy:z.playOneShot(y.getRandom(this.cowboyZombieGroan),o);break;case Z.future:z.playOneShot(y.getRandom(this.futureZombieGroan),o);break;case Z.dark:z.playOneShot(y.getRandom(this.darkZombieGroan),o);break;case Z.beach:z.playOneShot(y.getRandom(this.beachZombieGroan),o);break;case Z.ice:z.playOneShot(y.getRandom(this.iceZombieGroan),o);break;case Z.lost:z.playOneShot(y.getRandom(this.lostZombieGroan),o);break;case Z.eighties:z.playOneShot(y.getRandom(this.eightiesZombieGroan),o);break;case Z.dino:z.playOneShot(y.getRandom(this.dinoZombieGroan),o);break;case Z.kongfu:z.playOneShot(y.getRandom(this.kongfuZombieGroan),o);break;case Z.imp:z.playOneShot(y.getRandom(this.impGroan),o);break;case Z.gargantuar:z.playOneShot(y.getRandom(this.gargantuarGroan),o)}},r.start=function(){},r.onLoad=function(){var e;pe.zombieRes=this,this.ZombieFeatures=this.zombieFeaturesJson.json.ZOMBIES;var o=null==(e=this.zombieFeaturesJson.json.ALMANAC)?void 0:e.map((function(e){return pe.getZombieEnumByCodename(e)}));pe.AlmanacList=o},o}(h)).prototype,"zombieFeaturesJson",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=r(Y.prototype,"modernZombieGroan",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),V=r(Y.prototype,"egyptZombieGroan",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Q=r(Y.prototype,"pirateZombieGroan",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),$=r(Y.prototype,"cowboyZombieGroan",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ee=r(Y.prototype,"futureZombieGroan",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),oe=r(Y.prototype,"darkZombieGroan",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),re=r(Y.prototype,"beachZombieGroan",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ae=r(Y.prototype,"iceZombieGroan",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),te=r(Y.prototype,"lostZombieGroan",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ne=r(Y.prototype,"eightiesZombieGroan",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ie=r(Y.prototype,"dinoZombieGroan",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),me=r(Y.prototype,"kongfuZombieGroan",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),se=r(Y.prototype,"impGroan",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ue=r(Y.prototype,"gargantuarGroan",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_e=r(Y.prototype,"basicZombie",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=Y))||H));u._RF.pop()}}}));

System.register("chunks:///_virtual/ZombossIcon.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NPC.ts","./SoundRescourses.ts","./MultiLanguage.ts","./SoundsController.ts","./SoundManager.ts","./levelController.ts"],(function(t){var n,o,i,s,e,a,r,u,c,l;return{setters:[function(t){n=t.inheritsLoose,o=t.createClass},function(t){i=t.cclegacy,s=t._decorator},function(t){e=t.NPC},function(t){a=t.sounds},function(t){r=t.MultiLanguage},function(t){u=t.MusicController},function(t){c=t.MusicEnum},function(t){l=t.LevelPlay}],execute:function(){var h;i._RF.push({},"451a0EXBHtBvqr6xeVvdCap","ZombossIcon",void 0);var g=s.ccclass;s.property,t("ZombossIcon",g("ZombossIcon")(h=function(t){function i(){return t.apply(this,arguments)||this}n(i,t);var s=i.prototype;return s.NPC_ReadAction=function(t){var n=[],o=1;if(t.Lines){var i=r.getStringAndGraghicalLength(t.Lines);this.line.string=i.str,(o=Math.min(3,Math.round(i.length/21)))<=0&&(o=1),this.ShowLineBubble()}else this.HideLineBubble();switch(t.Action){case"SAY":default:switch(o){case 1:n=this.Say_Short;break;case 2:n=this.Say_Med;break;case 3:n=this.Say_Long}}this.playSaySounds(n)},s.NPC_Enter=function(){var t,n;null==(t=this.audioSource)||t.stop();var o=u.soundManager();null!=l&&null!=(n=l.component)&&n.isIntroNarrating&&o.BackgroundMusic[c.Dialogue_Zomboss_Start].clip&&(l.component.startingMusicChanged=!0,u.playMusic(c.Dialogue_Zomboss_Start,!1,1/0),o.nextToPlay=c.Dialogue_Zomboss_LP),this.NPC_Entering=!0,this.WillNextStep=!0,this.db.playAnimation("Enter",1),a.playArray(this.Enter)},s.NPC_Exit=function(){var t;null==(t=this.audioSource)||t.stop(),this.db.playAnimation("Exit",1),a.playArray(this.Exit),this.NPC_Exiting=!0},o(i,[{key:"NPC_Name",get:function(){return"zombossicon"}}]),i}(e))||h);i._RF.pop()}}}));

System.register("chunks:///_virtual/ZombossMechZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./CharacterManager.ts","./NodePools.ts","./ArrayGet.ts","./Square.ts","./SoundsController.ts","./levelController.ts","./LnC.ts","./Character.ts","./zombossMissileLocator.ts","./Droppings.ts","./Zombies.ts","./SoundManager.ts","./Tiles.ts","./SoundRescourses.ts","./Dinosaurs.ts","./Projectiles.ts"],(function(t){var e,n,o,i,s,a,r,h,u,l,c,m,d,p,S,b,f,g,w,y,Z,M,v,L,C,T,P,I,A,O,E,D,x,R,k,z,j,B,H,_,N;return{setters:[function(t){e=t.inheritsLoose,n=t.applyDecoratedDescriptor,o=t.initializerDefineProperty,i=t.assertThisInitialized,s=t.createClass,a=t.asyncToGenerator,r=t.regeneratorRuntime,h=t.createForOfIteratorHelperLoose},function(t){u=t.cclegacy,l=t._decorator,c=t.dragonBones,m=t.AudioClip,d=t.CCFloat,p=t.CCInteger,S=t.Prefab,b=t.Vec2,f=t.tween},function(t){g=t.ZombieProps,w=t.Zombie},function(t){y=t.ZombieDamageDetails,Z=t.Rectangle,M=t.ZombieDamageType,v=t.ZombiePool,L=t.PlantPool},function(t){C=t.instantiatePooly},function(t){T=t.ArrayGet,P=t.ValueRange},function(t){I=t.Square},function(t){A=t.MusicController,O=t.SoundFXController},function(t){E=t.LevelPlay},function(t){D=t.LnCSpawnZombieStyleEnum},function(t){x=t.CharacterType},function(t){R=t.zombossMissileLocator},function(t){k=t.droppings},function(t){z=t.zombies},function(t){j=t.MusicSortEnum},function(t){B=t.TileEnum},function(t){H=t.sounds},function(t){_=t.dinosaurs},function(t){N=t.ProjectileShootingFunctions}],execute:function(){var F,W,J,U,q,G,X,V,Y,K,Q,$,tt,et,nt,ot,it,st,at,rt,ht,ut,lt,ct,mt,dt,pt,St,bt,ft,gt,wt,yt,Zt,Mt,vt,Lt,Ct,Tt,Pt,It,At,Ot,Et,Dt,xt,Rt,kt,zt,jt,Bt,Ht,_t,Nt,Ft,Wt,Jt,Ut,qt,Gt,Xt,Vt,Yt,Kt,Qt,$t,te,ee,ne,oe,ie,se,ae,re,he,ue,le,ce,me;u._RF.push({},"d5220I98W9Gyr6uwY6Kq0xa","ZombossMechZombie",void 0);var de=l.ccclass,pe=l.property,Se=t("ZombossSummonZombieActionDefinition",(function(){this.zombieList=[],this.pointMin=1e3,this.pointMax=2e3,this.plantfoodchance=.3,this.columnOffset=0,this.dinoType=null})),be=t("ZombossAction",(function(){this.actionName="",this.summonProps=new Se,this.weight=12,this.repeatMax=2,this.repeatMin=1})),fe=t("ZombossStage",(function(){this.Actions=[new be,new be,new be,new be,new be],this.AnimRateModifier=1,this.ChilledDurationFromFrozen=10,this.DamageIndexFull=0,this.DamageIndexHalf=0,this.HitPoints=4e3,this.MaxIdleTime=1,this.MinIdleTime=.5,this.StunDamageScale=1.5,this.StunStaggerBackMovement=1,this.StunStaggerBackTime=.4,this.StunTime=4,this.StartPoint=300,this.EndPoint=1600,this.PlantfoodChance=.3,this.ColumnOffset=0,this.dino=null,this.zombies=["tutorial"]})),ge=t("ZombossMechProps",function(t){function n(){for(var e,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))||this).ZombossMechLevel=0,e.ZombossStages=[],e.IdleColumn=7,e.MissileType="zomboss_missile_egypt",e}return e(n,t),n}(g));t("ZombossMechZombie",(F=de("ZombossMechZombie"),W=pe(c.ArmatureDisplay),J=pe(c.ArmatureDisplay),U=pe(m),q=pe(m),G=pe(m),X=pe(m),V=pe(m),Y=pe(m),K=pe(m),Q=pe(m),$=pe(m),tt=pe([m]),et=pe([m]),nt=pe([m]),ot=pe([m]),it=pe([m]),st=pe([m]),at=pe([m]),rt=pe([m]),ht=pe([m]),ut=pe([m]),lt=pe([m]),ct=pe([m]),mt=pe([m]),dt=pe([m]),pt=pe([m]),St=pe([m]),bt=pe([m]),ft=pe([m]),gt=pe([m]),wt=pe(m),yt=pe(m),Zt=pe(m),Mt=pe(m),vt=pe(m),Lt=pe(d),Ct=pe(p),Tt=pe(S),F((At=n((It=function(t){function n(){for(var e,n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))||this)._objdataOwn=new ge,e._objdataOwnOrg=new ge,e.mechToChoose=0,e.currentMechStages=[],e.hitPointHealths=[],o(e,"portalEscape",At,i(e)),o(e,"portalSummon",Ot,i(e)),e._bpStage=0,e._currentStage=0,e.willChangeStage=-1,e.rushInteruptDMG=400,o(e,"worldZombossStunStartSound",Et,i(e)),o(e,"worldZombossStunLoopSound",Dt,i(e)),e._currentStunLoopSound=void 0,o(e,"worldZombossStunEndSound",xt,i(e)),o(e,"worldZombossSummonLoopSound",Rt,i(e)),o(e,"worldZombossSummonEndSound",kt,i(e)),o(e,"worldZombossEscapeTriggerSound",zt,i(e)),o(e,"worldZombossEscapePortalStartSound",jt,i(e)),o(e,"worldZombossEscapePortalSound",Bt,i(e)),o(e,"worldZombossMechDeathExplodeSound",Ht,i(e)),o(e,"worldZombossRushSaySounds",_t,i(e)),o(e,"worldZombossStabSaySounds",Nt,i(e)),o(e,"worldZombossSpawnSaySounds",Ft,i(e)),o(e,"worldZombossAngrySaySounds",Wt,i(e)),o(e,"worldZombossEscapeSaySounds",Jt,i(e)),o(e,"worldZombossShootSaySounds",Ut,i(e)),o(e,"worldZombossLeapSaySounds",qt,i(e)),o(e,"worldZombossMechMoveSounds",Gt,i(e)),o(e,"worldZombossMechStepSounds",Xt,i(e)),o(e,"worldZombossMechStabSounds",Vt,i(e)),o(e,"worldZombossMechMouthOpenBodySounds",Yt,i(e)),o(e,"worldZombossMechMouthOpenBodyImpactSounds",Kt,i(e)),o(e,"worldZombossMechMouthOpenSounds",Qt,i(e)),o(e,"worldZombossMechMouthCloseBodySounds",$t,i(e)),o(e,"worldZombossMechMouthCloseSounds",te,i(e)),o(e,"worldZombossMechMouthCloseImpactSounds",ee,i(e)),o(e,"worldZombossMechLeapStartSounds",ne,i(e)),o(e,"worldZombossMechLeapEndSounds",oe,i(e)),o(e,"worldZombossMechDeathFallSounds",ie,i(e)),o(e,"worldZombossAimStartSound",se,i(e)),o(e,"worldZombossMechAimLoopSounds",ae,i(e)),o(e,"worldZombossMechPRJDropSounds",re,i(e)),o(e,"worldZombossMechShootRiseSounds",he,i(e)),o(e,"worldZombossMechShootSounds",ue,i(e)),e.bp0Slots=[],e.bp1Slots=[],e.bp2Slots=[],e.bp3Slots=[],e.walkEasing="linear",e.rushDMGcount=0,e.mechStunningCD=0,e.stunningBetweenStages=!1,e.StunStartAnmName="StunStart",e.StunEndAnmName="StunEnd",e.bindsToLane=!1,e.potatoMineDisappear=!1,e._ZombossIdling=!1,e.actionCD=.1,o(e,"actionDuration",le,i(e)),e.ChanceToLaugh=.5,e.exploded=!1,e.rushing=!1,e.walksWhenRushing=!0,e.deathPos=new b(5,3),e.countHealthToThisLane=!1,e.willJump=!1,e.willLandPos=new b(7,1),e.jumpTargetPoses=[new b(7,1),new b(7,2),new b(7,3),new b(7,4)],e.jumpHeightTween=null,e.willRush=!1,e.rushTween=null,e.isBrainEater=!1,e.lastAction=new be,e.actionLeftTime=0,e.WalksLeftOrRight=!0,e.knockBackable=!1,e.moveTween=null,e.destroyWhenFallEnd=!0,e.summonCD=.5,e.summonning=!1,e.summonZombieList=[],e.pfSent=!1,e.willSummon=!1,e.leapable=!1,e.introing=!1,o(e,"maxTargetPlantCount",ce,i(e)),o(e,"targetLocatorPrefab",me,i(e)),e.targetLocators=[],e.aiming=!1,e.shooting=!0,e}e(n,t);var u=n.prototype;return u.shakesWhenLandingIfIsntBoss=function(){return!1},u.onObjdataSet=function(t){var e=this;this.mechToChoose=this.objdataOwn.ZombossMechLevel,this.currentMechStages=[],this.objdataOwnOrg.ZombossStages.forEach((function(t){var n=new fe;Object.getOwnPropertyNames(t).forEach((function(e){null!=t[e]&&(n[e]=t[e])})),n.Actions.forEach((function(t,e){var o=new be;Object.getOwnPropertyNames(t).forEach((function(e){null!=t[e]&&(o[e]=t[e])}));var i=o.summonProps,s=new Se;Object.getOwnPropertyNames(i).forEach((function(t){null!=i[t]&&(s[t]=i[t])})),o.summonProps=s,n.Actions[e]=o})),e.currentMechStages.push(n)})),this.setJumpTargets(),this.specialZombossOnObjdataSet()},u.specialZombossOnObjdataSet=function(){},u.setJumpTargets=function(){var t=this;this.jumpTargetPoses=[1,2,3,4].map((function(e){return new b(t.objdataOwn.IdleColumn,e)}))},u.correctShadeWP=function(t){},u.plantRushWhiteList=function(){return[]},u.playSandStorm=function(t,e){},u.playDirtSpawn=function(t){},u.onDamaged=function(t,e,n){if(this.willChangeStage>=0)this.health=t;else{for(var o=0,i=0,s=0;s<this.hitPointHealths.length;s++)if(e<this.hitPointHealths[s]){o=this.hitPointHealths.length-1-s,i=this.hitPointHealths[s];break}this.currentStage!=o&&(this.willChangeStage=o,this.health=i,(!this.busy||this.shooting||this.rushing||this.summonning)&&this.changeStageStun()),e<=0&&(this.currentStage=this.hitPointHealths.length-1,this.willChangeStage=-1,this.willRush=!1,this.bpStage=this.hitPointHealths.length),this.rushing&&(this.rushDMGcount+=t-e,(this.rushDMGcount>=this.rushInteruptDMG||e<0)&&this.rushInterupt())}},u.setButter=function(t,e){return!1},u.setChiliStun=function(t){return!1},u.chilibeanFart=function(){},u.getProgress=function(){for(var t=1/this.currentMechStages.length,e=0,n=0,o=0;o<this.hitPointHealths.length;o++){if(!(this.health>=this.hitPointHealths[o])){e+=t*(this.health-n)/(this.hitPointHealths[o]-n);break}e+=t,n=this.hitPointHealths[o]}return e},u.bossOnPriceCollected=function(){return this.escapeStart(),4},u.CanBeScaredByTyranno=function(){return!1},u.detectRushEnemies=function(){var t=this;return[this.inLane,this.inLane.UpperLane].some((function(e){return e&&(t.hypnotized?e.zombiePool().some((function(e){return-1==t.basicWhiteList.indexOf(e.ID)})):e.hypnoZombiePool().some((function(e){return-1==t.basicWhiteList.indexOf(e.ID)}))||!t.hypnotized&&e.plantPool().some((function(e){return-1==t.plantRushWhiteList().indexOf(e.ID)})))}))},u.getZombieToSummon=function(){for(var t=this.currentMechStage,e=t.StartPoint,n=0,o=this.hitPointHealths[0],i=0;i<this.hitPointHealths.length-1;i++)this.health>this.hitPointHealths[i]&&(n=this.hitPointHealths[i],o=this.hitPointHealths[i+1]);return e+=(1-(this.health-n)/(o-n))*(t.EndPoint-t.StartPoint),z.getZombiesWithTypesAndPoint(t.zombies,e,!1)},u.specialZombieOnLoad=function(){var t,e=this;this.body.db.armature().getSlots().forEach((function(t){t.name.includes("_BP0")?e.bp0Slots.push(t):t.name.includes("_BP1")?e.bp1Slots.push(t):t.name.includes("_BP2")?e.bp2Slots.push(t):t.name.includes("_BP3")&&e.bp3Slots.push(t)})),this.worldZombossStunLoopSound&&(this.worldZombossStunLoopSound.loadMode=m.AudioType.DOM_AUDIO),this.worldZombossMechAimLoopSounds&&(this.worldZombossMechAimLoopSounds.loadMode=m.AudioType.DOM_AUDIO),null==(t=this.portalEscape)||t.on(c.EventObject.FRAME_EVENT,(function(t){"die"==t.name&&(e.portalEscape.node.active=!1)}),this),this.specialZombossOnLoad()},u.specialZombossOnLoad=function(){},u.getZombossStageMusic=function(t){switch(t){case 0:return j.ZombossStage0;case 1:return j.ZombossStage1;case 2:return j.ZombossStage2_start}return j.ZombossStage2_start},u.changeMusic=function(){this.isBoss&&(1==this.currentStage?A.switchMusicSort(this.getZombossStageMusic(1),!1,!0):2==this.currentStage&&A.switchMusicSort(this.getZombossStageMusic(2),!1,!0))},u.changeStageStun=function(){this.stunningBetweenStages=!0,this.currentStage=this.willChangeStage,this.willChangeStage=-1,this.changeMusic();var t=this.currentMechStage.StunTime;E.shakeScreen(t),this.specialZombossMechBeforeChangeStageStun(),this.stunAction(t,1)},u.specialZombossMechBeforeChangeStageStun=function(){},u.specialZombossMechBeforeRushInteruptStun=function(){},u.empStun=function(t){this.stunAction()},u.playStunAnimation=function(t){this.body.playAnimation(this.StunStartAnmName,t)},u.stunAction=function(t,e,n){var o;void 0===t&&(t=this.currentMechStage.StunTime),void 0===e&&(e=1),void 0===n&&(n=1),this.jumpHeightTween||(null==(o=this.moveTween)||o.stop(),this.moveTween=null,this.rushInterupt(),this.shootInterupt(),this.summonInterupt(),this.audioSource.clip=this._currentStunLoopSound,this.stunRollBack(n),this.audioSource.play(),this.audioSource.loop=!0,this.playOneShot(this.worldZombossStunStartSound),this.mechStunningCD=this.dead?.1:t,this.playStunAnimation(e),this.ZombossIdling=!0)},u.stunRollBack=function(t){t>0&&f(this).by(this.currentMechStage.StunStaggerBackTime,{worldPositionX:this.currentMechStage.StunStaggerBackMovement*t*I.SquareWidth*(this.reversed?-1:1)},{easing:"quadOut"}).start()},u.defaultZombossStunEnd=function(){var t,e,n;this.stunningBetweenStages=!1,null==(t=this.jumpHeightTween)||t.stop(),this.jumpHeightTween=null,this.correctDepth(1e3),this.willRush=!1,this.willSummon=!1,null==(e=this.rushTween)||e.stop(),this.rushTween=null,null==(n=this.moveTween)||n.stop(),this.moveTween=null,this.ZombossIdling=!1,this.actionCD=0,this.mechStunningCD=0,this.audioSource.stop(),this.playOneShot(this.worldZombossStunEndSound),this.body.playAnimation(this.StunEndAnmName,1),this.specialZombossMechStunEnd()},u.stunEnd=function(){this.defaultZombossStunEnd()},u.specialZombossMechStunEnd=function(){},u.playSpecialZombieDie=function(t){this.currentStage=this.hitPointHealths.length-1,this.onDamaged(this.health,0,new y),this.health=0;for(var e=0;e<5;e++)I.getLane(e).deleteZombie(this);this.rushInterupt(!1),this.summonInterupt(!1),this.shootInterupt(!1),this.deathJump(),this.stunEnd()},u.specialZombieOnDisable=function(){this.specialZombossOnDisable()},u.specialZombossOnDisable=function(){},u.killInRange=function(){var t=this,e=this.scale,n=Math.abs(e),o=this.bodyRecHiddenCD>0?new Z:Z.createRectangleCenter(new b(this.shadeSocket.worldPosition.x+this.HitRect.x*e,this._worldPositionY+this.HitRect.y*n+this.height_depth),this.HitRect.w*n,this.HitRect.h*n);[this.inLane,this.inLane.UpperLane].forEach((function(e){e.plantPool().forEach((function(e){o.judgeCrossRec(e.bodyRec)&&(e.kill(),e.dead?(e.node.setParent(t.node.parent),e.node.setSiblingIndex(0)):t.rushInterupt())})),e.zombiePool().concat(e.hypnoZombiePool()).forEach((function(e){e!=t&&-1==t.basicWhiteList.indexOf(e.ID)&&o.judgeCrossRec(e.bodyRec)&&e.playDie(!1,null,!0,M.physicle,!0,!0,!0)})),t.flying||e.tombPool(2).forEach((function(t){o.judgeCrossRec(t.bodyRec)&&t.die()}))}))},u.explodeAction=function(){this.exploded=!0,this.body.playAnimation("DeathStart",1),this.playOneShot(this.worldZombossMechDeathExplodeSound,1,!0),this.ZombossIdling=!1,E.shakeScreen(2),this.isBoss&&v.pool().concat().forEach((function(t){t.playAsh()})),this.isBoss&&A.switchMusicSort(j.Victory,!1,!1,!0,!0)},u.specialZombossUpdate=function(t,e,n){},u.specialZombossUpdateForce=function(t,e,n,o){},u.setLnCsOccupied=function(){var t,e,n,o,i,s,a,r,h,u;this.jumpHeightTween||(this.reversed?[this.inLnC,null==(t=this.inLnC)?void 0:t.upper,null==(e=this.inLnC)?void 0:e.lefter,null==(n=this.inLnC)||null==(n=n.lefter)?void 0:n.upper,null==(o=this.inLnC)||null==(o=o.lefter)?void 0:o.lefter,null==(i=this.inLnC)||null==(i=i.lefter)||null==(i=i.lefter)?void 0:i.upper].forEach((function(t){null==t||t.setOccupied(.1)})):[this.inLnC,null==(s=this.inLnC)?void 0:s.upper,null==(a=this.inLnC)?void 0:a.righter,null==(r=this.inLnC)||null==(r=r.righter)?void 0:r.upper,null==(h=this.inLnC)||null==(h=h.righter)?void 0:h.righter,null==(u=this.inLnC)||null==(u=u.righter)||null==(u=u.righter)?void 0:u.upper].forEach((function(t){null==t||t.setOccupied(.1)})))},u.specialZombieUpdateForced=function(t,e,n,o){var i=this;if(this.setLnCsOccupied(),E.gameStarted&&(E.component.bossHealthProgress=this.getProgress()),!this.busy||this.rushing||this.shooting||this.summonning){if(this.willChangeStage>=0)this.changeStageStun();else if(this.health<=0){var s=this.reversed?8-this.deathPos.x:this.deathPos.x;this.cIndex==s&&this.lIndex==this.deathPos.y?this.explodeAction():this.deathJump()}}else this.mechStunningCD>0&&(this.mechStunningCD-=t,this.mechStunningCD<=0&&this.stunEnd());this.rushing&&!this.isAlive()&&this.deathJump(),[this.portalEscape,this.portalSummon].forEach((function(t){t&&(t.timeScale=i.db.timeScale/1.25)})),this.specialZombossUpdateForce(t,e,n,o)},u.ActionCDAlsoDecreasesNow=function(){return!1},u.specialZombieUpdate=function(t,e,n){if(this.audioSource.volume=O.SoundFXVolume,this.moveTween&&!this.jumpHeightTween&&this.killInRange(),this.willChangeStage<0&&E.gaming)if(this.busy)this.ActionCDAlsoDecreasesNow()&&this.actionCD>0&&(this.actionCD-=t);else if(this.actionCD>0&&(this.actionCD-=t),this.actionCD<=0){this.randomAction(this.currentMechStage.Actions);var o=this.currentMechStage;this.actionCD=o.MinIdleTime+(o.MaxIdleTime-o.MinIdleTime)*Math.random()}this.summonning&&(this.summonCD>0&&(this.summonCD-=t),this.summonCD<=0&&(this.summonAZombie(),this.summonCD=.75)),this.aiming&&H.playOneShot(this.worldZombossMechAimLoopSounds,1,NaN,1),this.summonning&&H.playOneShot(this.worldZombossSummonLoopSound,1,NaN,.6666666),this.specialZombossUpdate(t,e,n)},u.specialZombossLockedTimeScale=function(){return this.rushing&&this.walksWhenRushing?2.7:this.dead||this.introing?1:this.currentMechStage.AnimRateModifier},u.lockedTimeScale=function(){return E.component.bossZombie!=this||E.component.bossMovable?this.specialZombossLockedTimeScale():0},u.deathJump=function(){var t;null==(t=this.rushTween)||t.stop(),this.rushTween=null,this.mechStunningCD=0,this.rushInterupt(),this.shootInterupt(),this.summonInterupt(),this.jumpStart(this.deathPos)},u.getJumpTarget=function(){var t=this;return T.randomize(this.jumpTargetPoses).find((function(e){return e.x!=(t.reversed?8-t.cIndex:t.cIndex)||e.y!=t.lIndex}))},u.leapAnimation=function(t){return"LeapStart"},u.jumpStart=function(t){void 0===t&&(t=this.getJumpTarget()),this.jumpHeightTween||(this.ZombossIdling=!1,t||(t=T.getRandom(this.jumpTargetPoses)),this.willLandPos=t,this.body.playAnimation(this.leapAnimation(t),1),Math.random()<this.ChanceToLaugh&&this.playOneShot(T.getRandom(this.worldZombossLeapSaySounds),1,!0))},u.jumpMaxHeight=function(){return 250},u.leapingTime=function(){return.8},u.jump=function(t){var e=this;void 0===t&&(t=T.getRandom(this.jumpTargetPoses));var n=t.clone();this.reversed&&(n.x=8-n.x);var o=this.leapingTime(),i=I.getLnC(n.y,n.x).node.worldPosition.toVec2(),s=Math.abs(this.cIndex-n.x),a=this.jumpMaxHeight()*Math.pow(s+1,.1),r=this;this.jumpHeightTween=f(r).to(o/2,{height:a},{easing:"quadOut"}).to(o/2,{height:0},{easing:"quadIn"}).call((function(){e.flying=e.currentFlyZombie})).start(),this.flying=!0,this.moveTween=f(r).to(o,{worldPositionX:i.x,worldPositionY:i.y}).call((function(){r.moveTween=null,r.jumpHeightTween=null,r.body.playAnimation("LeapEnd",1),r.killInRange()})).start()},u.rushAction=function(){this.ZombossIdling=!1,Math.random()<this.ChanceToLaugh&&this.playOneShot(T.getRandom(this.worldZombossAngrySaySounds),1,!0),this.body.playAnimation("Stomp",1)},u.rush=function(){var t=this;this.willRush=!1,this.isAlive()&&(this.rushDMGcount=0,this.body.playAnimation("WalkR",2),this.rushTween=this.moveTween=f(this).by(7/6,{worldPositionX:I.SquareWidth*(this.reversed?-1:1)}).call((function(){t.body.playAnimation("WalkL",1/0),t.rushing=!0,Math.random()<t.ChanceToLaugh&&t.playOneShot(T.getRandom(t.worldZombossRushSaySounds),1,!0)})).to(1.7,{worldPositionX:I.getLnC(0,this.reversed?8:0).node.worldPosition.x},{easing:"quadIn"}).call((function(){t.jumpStart(T.getRandom(t.jumpTargetPoses))})).to(.1,{}).call((function(){t.moveTween=null,t.rushing=!1})).start())},u.rushInterupt=function(t){var e,n;void 0===t&&(t=!0),this.willRush=!1,null==(e=this.rushTween)||e.stop(),this.rushTween=null,this.rushing&&(this.audioSource.stop(),this.rushing=!1,null==(n=this.moveTween)||n.stop(),this.moveTween=null,t&&(this.specialZombossMechBeforeRushInteruptStun(),this.stunAction(this.currentMechStage.StunTime)))},u.columnSummon=function(){var t=a(r().mark((function t(e){var n,o,i,s,h,u,l=this;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=this.currentMechStage,o=this.getZombieToSummon(),i=n.ColumnOffset*(this.reversed?-1:1),s=null,!n.dino){t.next=9;break}return t.next=7,_.createDinosaurByDinoType(I.getRandomLane().LaneIndex,n.dino,this.reversed);case 7:s=t.sent,null==(h=s)||h.judgeInLnC();case 9:isNaN(i)||((e+=Math.round(i))<0?e=0:e>8&&(e=8)),u=Math.random()<n.PlantfoodChance,o.forEach((function(t){var n=I.getLnC(s?s.lIndex:Math.floor(5*Math.random()),e),o=u;o&&(u=!1),n.scheduleOnce(a(r().mark((function e(){var i,s,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=z.getZombieEnumFromZombieTypes(t),s=i.prop.ZombossLaneSummon?D.fromLane:D.dirtSpawn,e.next=4,n.SpawnZombieByZombieType(t,s,!0,Math.random(),0,{spawnedZomboss:l},!0,l.reversed,l._usedToBeHypnotized);case 4:a=e.sent,o&&a[0]&&(o=!1,a[0].havePlantfood=!0),a.forEach((function(t){t.judgeInLnC()}));case 7:case"end":return e.stop()}}),e)}))),Math.random())}));case 12:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),u.onRoaredByTyranno=function(t){},u.CanBeChompedByTyranno=function(){return!1},u.getIdleC=function(){return this.reversed?8-this.objdataOwnOrg.IdleColumn:this.objdataOwnOrg.IdleColumn},u.getWalkFuncArr=function(t){var e=this,n=[];return this.WalksLeftOrRight&&this.cIndex==t&&n.push((function(){e.walkL()})),this.WalksLeftOrRight&&this.cIndex==t+(this.reversed?1:-1)&&n.push((function(){e.walkR()})),this.lIndex<=3&&this.cIndex==t&&n.push((function(){e.walkD()})),this.lIndex>=2&&this.cIndex==t&&n.push((function(){e.walkU()})),n},u.randomAction=function(t){var e=this,n=this.getIdleC(),o=[];t.forEach((function(n){e.actionLeftTime>0&&e.lastAction!=n||(t.length<2||e.actionLeftTime<=0)&&e.lastAction==n||o.push(n)}));var i=[],s=[];o.find((function(t){return"walk"==t.actionName}))&&(s=this.getWalkFuncArr(n)),s.length&&o.forEach((function(t){"walk"==t.actionName&&i.push(t)}));var a=[];o.find((function(t){return"jump"==t.actionName}))&&this.jumpTargetPoses.forEach((function(t){var n=t.clone();e.reversed&&(n.x=8-n.x),n.x==e.cIndex&&n.y==e.lIndex||a.push((function(){e.jumpStart(t)}))})),a.length&&o.forEach((function(t){"jump"==t.actionName&&i.push(t)}));var r=[];this.detectRushEnemies()&&this.cIndex==n&&o.find((function(t){return"rush"==t.actionName}))&&r.push((function(){e.willRush=!0,e.rushAction()})),r.length&&o.forEach((function(t){"rush"==t.actionName&&i.push(t)}));var h=[];this.cIndex==n&&o.filter((function(t){return"summon"==t.actionName})).forEach((function(t){for(var n=0;n<t.weight;n++)h.push((function(){var n=e.currentMechStage;n&&(n.StartPoint=t.summonProps.pointMin,n.EndPoint=t.summonProps.pointMax,n.ColumnOffset=t.summonProps.columnOffset,n.PlantfoodChance=t.summonProps.plantfoodchance,n.zombies=t.summonProps.zombieList,n.dino=t.summonProps.dinoType),e.summonAction()}))})),h.length&&o.forEach((function(t){"summon"==t.actionName&&i.push(t)}));var u=[];this.detectShootEnemy()&&this.cIndex==n&&o.find((function(t){return"shoot"==t.actionName}))&&u.push((function(){e.shootAction()})),u.length&&o.forEach((function(t){"shoot"==t.actionName&&i.push(t)}));var l=[];if(this.canThrowImps()&&this.cIndex==n&&o.find((function(t){return"imps"==t.actionName}))&&l.push((function(){e.throwImpsAnimation()})),l.length&&o.forEach((function(t){"imps"==t.actionName&&i.push(t)})),i.length){var c=T.getRandomByWeight(i.map((function(t){return{weight:t.weight,props:t}})));switch(c.actionName){case"walk":T.getRandom(s)();break;case"jump":T.getRandom(a)();break;case"shoot":T.getRandom(u)();break;case"summon":T.getRandom(h)();break;case"rush":T.getRandom(r)();break;case"imps":T.getRandom(l)()}if(this.actionLeftTime<=0){this.lastAction=c;var m=t.find((function(t){return t.actionName==c.actionName}));m&&(this.actionLeftTime=P.getRandomIntegerFromRange(new P(m.repeatMax,m.repeatMin)))}this.actionLeftTime--}else this.jumpStart(),this.actionLeftTime=0},u.canThrowImps=function(){return!1},u.throwImpsAnimation=function(){},u.detectShootEnemy=function(){return!0},u.specialZombieLeapable=function(){return!1},u.specialZombieKnockbackable=function(){return!1},u.blowAway=function(){},u.turnIntoSporeShroom=function(){},u.setFreeze=function(t,e){return t>0&&this.setChill(this.currentMechStage.ChilledDurationFromFrozen),!0},u.walkU=function(){if(this.isAlive()){this.body.playAnimation("WalkU",1);var t=this;this.moveTween=f(t).by(35/30/this.lockedTimeScale(),{worldPositionY:I.SquareHeight}).call((function(){t.moveTween=null,t.body.playAnimation("Idle",1/0)})).start()}},u.walkD=function(){if(this.isAlive()){this.body.playAnimation("WalkD",1);var t=this;this.moveTween=f(t).by(35/30/this.lockedTimeScale(),{worldPositionY:-I.SquareHeight}).call((function(){t.moveTween=null,t.body.playAnimation("Idle",1/0)})).start()}},u.walkL=function(){if(this.isAlive()){this.body.playAnimation("WalkL",1);var t=this;this.moveTween=f(t).by(35/30/this.lockedTimeScale(),{worldPositionX:-I.SquareWidth*(this.reversed?-1:1)}).call((function(){t.moveTween=null,t.body.playAnimation("Idle",1/0)})).start()}},u.walkR=function(){if(this.isAlive()){this.body.playAnimation("WalkR",1);var t=this;this.moveTween=f(this).by(35/30/this.lockedTimeScale(),{worldPositionX:I.SquareWidth*(this.reversed?-1:1)}).call((function(){t.moveTween=null,t.body.playAnimation("Idle",1/0)})).start()}},u.moveFromLaneToLane=function(t,e){var n;if(this.isAlive()){for(var o=0;o<5;o++)I.getLane(o).deleteZombie(this);null==e||e.addZombie(this),null==e||null==(n=e.UpperLane)||n.addZombie(this)}},u.specialZombieSetLaneChangeParent=function(t,e){var n=e.dinoLayer;this.iceblock&&(n=this.iceblock.node.parent),this.node.setParent(n,!0),this.node.setSiblingIndex(0)},u.summonAZombie=function(){var t=a(r().mark((function t(){var e,n,o,i,s=this;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=this.summonZombieList.shift(),o=this.inLnC[this.reversed?"righter":"lefter"],Math.random()>=.5&&o.lIndex>=1&&(o=null==(e=o)?void 0:e.upper),o){t.next=5;break}return t.abrupt("return");case 5:return t.next=7,o.SpawnZombieByZombieType(n,D.directPut,!1,.5,0,{spawnedZomboss:this},!1,this.reversed,this._usedToBeHypnotized);case 7:i=t.sent,!this.pfSent&&Math.random()<this.currentMechStage.PlantfoodChance&&(i[0].havePlantfood=!0,this.pfSent=!0),i.forEach((function(t){t.reversed=s.reversed,t.hypnotized=s.hypnotized,t.playTeleportSpawn(o.node.worldPosition.x),t.isWalking=!1,t.playWalk()})),this.summonZombieList.length<=0&&this.summonEnd();case 11:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),u.summonAction=function(){this.isAlive()&&(this.jumpStart(),this.willSummon=!0)},u._summonOpenMouth=function(){this.body.playAnimation("SummonStart",1),this.ZombossIdling=!1,this.willSummon=!1},u.summonStart=function(){this.summonning=!0,this.summonCD=.5,this.summonZombieList=this.getZombieToSummon(),this.pfSent=!1,this.summonAudioActive()},u.summonAudioActive=function(){this.portalSummon&&(this.portalSummon.playAnimation("Idle",1/0),this.portalSummon.node.active=!0)},u.summonEnd=function(){this.portalSummon&&(this.portalSummon.node.active=!1),this.summonning=!1,this.audioSource.stop(),this.audioSource.clip=null,this.body.playAnimation("SummonEnd",1),this.playOneShot(this.worldZombossSummonEndSound,1,!0)},u.summonInterupt=function(t){void 0===t&&(t=!0),this.summonning&&(this.summonning=!1,this.willSummon=!1,this.audioSource.stop(),this.audioSource.clip=null,t&&this.stunAction())},u.playSpecialZombieDieForced=function(){this.shootInterupt(!1),this.specialZombossDieForce()},u.specialZombossDieForce=function(){},u.dealDamage=function(t){return this.defaultZombossDealdamage(t)},u.defaultZombossDealdamage=function(t){return this.currentStage-this.willChangeStage>1&&this.willChangeStage>0?this.health:this.defaultDealDamage(t)},u.specialZombossMechAnimationListener=function(t){},u.escapeStart=function(){this.body.playAnimation("Escape",1),this.playOneShot(T.getRandom(this.worldZombossEscapeSaySounds),1,!0)},u.getIdleAnmName=function(){return"Idle"},u.getIconIndex=function(){return 0},u.specialAnimationListener=function(t){if("Idle"==t.name){if(this.aiming=!1,this.introing=!1,this.portalSummon&&(this.portalSummon.node.active=!1),this.willRush)this.rush();else if(this.isAlive()||this.jumpHeightTween)this.willSummon?this._summonOpenMouth():this.willJump&&!this.jumpHeightTween?(this.willJump=!1,this.jumpStart()):(this.body.playAnimation(this.getIdleAnmName(),1/0),this.ZombossIdling=!0);else{var e=this.reversed?8-this.deathPos.x:this.deathPos.x;this.cIndex==e&&this.lIndex==this.deathPos.y?this.explodeAction():this.deathJump()}if(this.isBoss&&!E.gameStarted)E.component.fillBossHealthProgressBar(this.currentMechStages.length,this.getIconIndex()).barSprite.customMaterial=this.body.db.customMaterial;this.shooting=!1,this.summonning=!1,this.audioSource.stop()}else if("stepSound"==t.name)this.playOneShot(T.getRandom(this.worldZombossMechStepSounds),1,!0);else if("mouthCloseSound"==t.name)this.playOneShot(T.getRandom(this.worldZombossMechMouthCloseSounds),1,!0);else if("mouthCloseImpactSound"==t.name)this.playOneShot(T.getRandom(this.worldZombossMechMouthCloseImpactSounds),1,!0);else if("mouthCloseBodyCallSound"==t.name)this.playOneShot(T.getRandom(this.worldZombossMechMouthCloseBodySounds),1,!0);else if("mouthOpenSound"==t.name)this.summonStart(),this.playOneShot(T.getRandom(this.worldZombossMechMouthOpenSounds),1,!0);else if("summonFallSound"==t.name)this.playOneShot(T.getRandom(this.worldZombossMechMouthOpenBodySounds),1,!0);else if("summonFallImpactSound"==t.name)this.playOneShot(T.getRandom(this.worldZombossMechMouthOpenBodyImpactSounds),1,!0);else if("stabSaySound"==t.name)Math.random()<this.ChanceToLaugh&&this.playOneShot(T.getRandom(this.worldZombossStabSaySounds),1,!0);else if("moveSound"==t.name)this.playOneShot(T.getRandom(this.worldZombossMechMoveSounds),1,!0);else if("landSound"==t.name)this.playOneShot(T.getRandom(this.worldZombossMechLeapEndSounds),1,!0),(this.isBoss||this.shakesWhenLandingIfIsntBoss())&&E.shakeScreen();else if("leapSound"==t.name)this.playOneShot(T.getRandom(this.worldZombossMechLeapStartSounds),1,!0);else if("deathFallSound"==t.name)this.playOneShot(T.getRandom(this.worldZombossMechDeathFallSounds),1,!0);else if("shootReadySound"==t.name)this.playOneShot(this.worldZombossMechShootRiseSounds,1,!0),Math.random()<this.ChanceToLaugh&&this.playOneShot(T.getRandom(this.worldZombossSpawnSaySounds),1,!0);else if("shootStart"==t.name)this.playOneShot(this.worldZombossMechShootSounds,1,!0);else if("shoot"==t.name)this.dropMissile();else if("leap"==t.name)this.jump(this.willLandPos);else if("stabU"==t.name){var n,o;null==(n=this.inLnC[this.reversed?"righter":"lefter"])||null==(n=n.upper)||null==(n=n.getAllPlants())||n.forEach((function(t){t.kill()})),null==(o=this.inLnC[this.reversed?"righter":"lefter"])||null==(o=o.upper)||null==(o=o.tombStone)||o.die(),this.playOneShot(T.getRandom(this.worldZombossMechStabSounds),1,!0)}else if("stabD"==t.name){var i,s;null==(i=this.inLnC[this.reversed?"righter":"lefter"])||null==(i=i.getAllPlants())||i.forEach((function(t){t.kill()})),null==(s=this.inLnC[this.reversed?"righter":"lefter"])||null==(s=s.tombStone)||s.die(),this.playOneShot(T.getRandom(this.worldZombossMechStabSounds),1,!0)}else"judgeEscape"==t.name?this.isBoss?E.component.victory(this._worldPosition,!1):this.escapeStart():"escape_trigger"==t.name&&(this.playOneShot(this.worldZombossEscapeTriggerSound,1,!0),this.playOneShot(this.worldZombossEscapePortalStartSound,1,!0),this.playOneShot(this.worldZombossEscapePortalSound,1,!0),this.portalSummon&&(this.portalSummon.node.active=!0,this.portalSummon.playAnimation("Idle")),this.portalEscape&&(this.portalEscape.node.active=!0,this.portalEscape.playAnimation("Play")));this.specialZombossMechAnimationListener(t)},u.specialZombieOnLaneChange=function(t,e){this.specialZombossOnLaneChange(t,e)},u.specialZombossOnLaneChange=function(t,e){},u.specialZombieOnEnable=function(){var t=this;this.stunningBetweenStages=!1,this.aiming=!1,this.isWalking=!1,this.willJump=!1,this.switching=!0,this.body.playAnimation("Spawn",1),this.introing=!0,this.leapable=!1,this.ZombossIdling=!1,this.exploded=!1,this.portalEscape&&(this.portalEscape.node.active=!1),this.portalSummon&&(this.portalSummon.node.active=!1),this.lastAction=new be,this.actionLeftTime=0,this.StunStartAnmName="StunStart",this.StunEndAnmName="StunEnd",this._currentStunLoopSound=this.worldZombossStunLoopSound;for(var e=0;e<5;e++)I.getLane(e).deleteZombie(this);this.targetLocators=[],this.rushDMGcount=0,this.willRush=!1,this.willChangeStage=-1,this.moveTween=null,this.jumpHeightTween=null,this.currentStage=0,this.rushing=!1,this.shooting=!1,this.summonning=!1,this.mechStunningCD=0;var n=0;this.hitPointHealths=[],this.currentMechStages.concat().reverse().forEach((function(e){n+=e.HitPoints,t.hitPointHealths.push(n)})),this.objdataOwn.Toughness=n,this.health=this.toughness,this.audioSource.stop(),this.audioSource.clip=null,this.actionCD=.1,this.specialZombossMechOnEnable()},u.specialZombossMechOnEnable=function(){},u.getMissileCount=function(){return this.maxTargetPlantCount},u.LnCCanBeShootOn=function(t){return!0},u.defaultGetShootTargetLnCs=function(t){var e=this;void 0===t&&(t=.5);var n=[],o=this.getMissileCount(),i=T.randomize(I.getAllLnC()),s=[];L.pool().forEach((function(t){t.inLnC&&e.LnCCanBeShootOn(t.inLnC)&&-1==s.indexOf(t.inLnC)&&s.push(t.inLnC)})),s=T.randomize(s);for(var a=0;a<o&&a<s.length&&n.length<o;a++)Math.random()>t&&n.push(s[a]);if(n.length<o)for(var r=0;r<i.length&&n.length<o;r++)this.LnCCanBeShootOn(i[r])&&-1==n.indexOf(i[r])&&(!this.reversed&&i[r].cIndex<=this.ShootTargetCMax||this.reversed&&i[r].cIndex>=8-this.ShootTargetCMax)&&n.push(i[r]);return n.forEach((function(t){t.tilesInSquare.forEach((function(t){t.tileID==B.foodLinker&&(t.locatingZomboss=e)}))})),n},u.getShootTargetLnCs=function(){return this.defaultGetShootTargetLnCs()},u.tossAway=function(t){},u.meetMower=function(t){},u.playWalk=function(t,e){},u.playShootAnimation=function(){this.body.playAnimation("Shoot",1)},u.shootAction=function(){var t=this;if(this.isAlive()){this.targetLocators=[],this.ZombossIdling=!1,this.playShootAnimation(),Math.random()<this.ChanceToLaugh&&this.playOneShot(T.getRandom(this.worldZombossShootSaySounds),1,!0),this.playOneShot(this.worldZombossAimStartSound,1,!0);var e=this.getShootTargetLnCs();null==e||e.forEach((function(e){if(e){var n=C(t.targetLocatorPrefab);n.parent=k.layer,n.worldPosition=e.node.worldPosition;var o=n.getComponent(R);o.inLnC=e,t.targetLocators.push(o)}})),this.aiming=!0,this.shooting=!0}},u.shootInterupt=function(t){void 0===t&&(t=!0),this.shooting&&(this.shooting=!1,this.targetLocators.forEach((function(t){t.db.playAnimation("Die",1)})),this.targetLocators=[],this.audioSource.stop(),t&&this.stunAction())},u.foodLinkerShootInterupt=function(){},u.dropMissileOnLnC=function(){var t=a(r().mark((function t(e){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N.throwOneBananaOnNode(this.objdataOwn.MissileType,e.plantPoint,1e3,e.inLane.prjLayer,16,this.hypnotized?x.zombie:x.plant);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),u.dropMissile=function(){var t=a(r().mark((function t(){var e,n,o,i;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.playOneShot(this.worldZombossMechPRJDropSounds,1,!0),e=h(this.targetLocators);case 2:if((n=e()).done){t.next=14;break}return o=n.value,t.next=6,this.dropMissileOnLnC(o.inLnC);case 6:(i=t.sent).locator=o,i.gravity=.22222,this.missileMeasure(i),i.hypnotized=this.hypnotized,i.reversed=this.reversed;case 12:t.next=2;break;case 14:this.targetLocators=[];case 15:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),u.missileMeasure=function(t){},s(n,[{key:"objdataOwn",get:function(){return this._objdataOwn}},{key:"objdataOwnOrg",get:function(){return this._objdataOwnOrg}},{key:"currentMechStage",get:function(){var t=this.currentMechStages[this.currentStage];return t||(t=this.currentMechStages.concat().reverse().find((function(){return!0}))),t}},{key:"basicWhiteList",get:function(){return z.zombossList()}},{key:"bpStage",get:function(){return this._bpStage},set:function(t){this.bp0Slots.forEach((function(e){e._setDisplayIndex(t>0?0:-1)})),this.bp1Slots.forEach((function(e){e._setDisplayIndex(t>0?0:-1)})),this.bp2Slots.forEach((function(e){e._setDisplayIndex(t>1?0:-1)})),this.bp3Slots.forEach((function(e){e._setDisplayIndex(t>2?0:-1)})),this._bpStage=t}},{key:"currentStage",get:function(){return this._currentStage},set:function(t){this.bpStage=t,this._currentStage=t}},{key:"ZombossIdling",get:function(){return this._ZombossIdling},set:function(t){this._ZombossIdling=t}},{key:"busy",get:function(){return!!this.moveTween||!!this.jumpHeightTween||!this.ZombossIdling||this.mechStunningCD>0}},{key:"ImmuneToSporeShroom",get:function(){return!0}},{key:"siblingIndexInLane",get:function(){return-1/0}},{key:"ShootTargetCMax",get:function(){return 5}}]),n}(w)).prototype,"portalEscape",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ot=n(It.prototype,"portalSummon",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Et=n(It.prototype,"worldZombossStunStartSound",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Dt=n(It.prototype,"worldZombossStunLoopSound",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xt=n(It.prototype,"worldZombossStunEndSound",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Rt=n(It.prototype,"worldZombossSummonLoopSound",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),kt=n(It.prototype,"worldZombossSummonEndSound",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),zt=n(It.prototype,"worldZombossEscapeTriggerSound",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),jt=n(It.prototype,"worldZombossEscapePortalStartSound",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Bt=n(It.prototype,"worldZombossEscapePortalSound",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ht=n(It.prototype,"worldZombossMechDeathExplodeSound",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_t=n(It.prototype,"worldZombossRushSaySounds",[tt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Nt=n(It.prototype,"worldZombossStabSaySounds",[et],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ft=n(It.prototype,"worldZombossSpawnSaySounds",[nt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Wt=n(It.prototype,"worldZombossAngrySaySounds",[ot],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Jt=n(It.prototype,"worldZombossEscapeSaySounds",[it],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ut=n(It.prototype,"worldZombossShootSaySounds",[st],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),qt=n(It.prototype,"worldZombossLeapSaySounds",[at],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Gt=n(It.prototype,"worldZombossMechMoveSounds",[rt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Xt=n(It.prototype,"worldZombossMechStepSounds",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Vt=n(It.prototype,"worldZombossMechStabSounds",[ut],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Yt=n(It.prototype,"worldZombossMechMouthOpenBodySounds",[lt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Kt=n(It.prototype,"worldZombossMechMouthOpenBodyImpactSounds",[ct],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Qt=n(It.prototype,"worldZombossMechMouthOpenSounds",[mt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),$t=n(It.prototype,"worldZombossMechMouthCloseBodySounds",[dt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),te=n(It.prototype,"worldZombossMechMouthCloseSounds",[pt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ee=n(It.prototype,"worldZombossMechMouthCloseImpactSounds",[St],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ne=n(It.prototype,"worldZombossMechLeapStartSounds",[bt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),oe=n(It.prototype,"worldZombossMechLeapEndSounds",[ft],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ie=n(It.prototype,"worldZombossMechDeathFallSounds",[gt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),se=n(It.prototype,"worldZombossAimStartSound",[wt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ae=n(It.prototype,"worldZombossMechAimLoopSounds",[yt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),re=n(It.prototype,"worldZombossMechPRJDropSounds",[Zt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),he=n(It.prototype,"worldZombossMechShootRiseSounds",[Mt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ue=n(It.prototype,"worldZombossMechShootSounds",[vt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),le=n(It.prototype,"actionDuration",[Lt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),ce=n(It.prototype,"maxTargetPlantCount",[Ct],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),me=n(It.prototype,"targetLocatorPrefab",[Tt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pt=It))||Pt));u._RF.pop()}}}));

System.register("chunks:///_virtual/zombossMissile.ts",["./rollupPluginModLoBabelHelpers.js","cc","./commonShot.ts","./LnC.ts","./Tiles.ts","./Character.ts","./Projectiles.ts"],(function(n){var t,e,i,s,r,o,l,a,c,u,h;return{setters:[function(n){t=n.inheritsLoose,e=n.createClass,i=n.asyncToGenerator,s=n.regeneratorRuntime},function(n){r=n.cclegacy,o=n._decorator},function(n){l=n.commonShot},function(n){a=n.TileType},function(n){c=n.TileEnum},function(n){u=n.CharacterType},function(n){h=n.ProjectileProps}],execute:function(){var p;r._RF.push({},"328dfCpogVF4pqNHmByBuzw","zombossMissile",void 0);var f=o.ccclass,d=(o.property,n("ZombossMissileProps",function(n){function e(){for(var t,e=arguments.length,i=new Array(e),s=0;s<e;s++)i[s]=arguments[s];return(t=n.call.apply(n,[this].concat(i))||this).KillsInsteadOfBurning=!1,t.TileCrackleTime=0,t.DestroysTiles=!1,t}return t(e,n),e}(h)));n("zombossMissile",f("zombossMissile")(p=function(n){function r(){for(var t,e=arguments.length,i=new Array(e),s=0;s<e;s++)i[s]=arguments[s];return(t=n.call.apply(n,[this].concat(i))||this).reversed=!1,t.hypnotized=!1,t._objdata=new d,t.burnsPlants=!0,t.crackleTime=0,t.tileDestroyer=!1,t}t(r,n);var o=r.prototype;return o.specialOnObjdataSet=function(n){this.burnsPlants=!this.objdataOwn.KillsInsteadOfBurning,this.crackleTime=this.objdataOwn.TileCrackleTime,this.tileDestroyer=this.objdataOwn.DestroysTiles},o.specialOnGroundHit=function(n){var t,e=this,i=null==n?void 0:n.getAllPlants(),s=null==n?void 0:n.getTileType();return null==n||null==(t=n.tombStone)||t.die(),this.specialZombossMissileOnGroundHit(n),null!=i&&i.length?(null==i||i.forEach((function(n){e.burnsPlants?n.burn():(n.kill(),n.isAlive()||n.node.destroy())})),!0):s==a.solid||s==a.deck},o.specialZombossMissileOnGroundHit=function(n){},o.specialMissileOnPop=function(){var n=i(s().mark((function n(){return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),o.onPlantHit=function(n){this.burnsPlants?n.burn():(n.kill(),n.isAlive()||n.node.destroy())},o.onPop=function(){var n=i(s().mark((function n(){var t,e,i,r,o=this;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return this.tileDestroyer&&(null==(e=this.inLnC)||null==(e=e.tilesInSquare)||e.forEach((function(n){n.tileID==c.foodLinker&&(n.inLnC=null)}))),this.crackleTime>0&&this.inLnC&&(this.inLnC.crackleCountdown=this.crackleTime),this.enemyType!=u.zombie&&(null==(r=null==(i=this.inLnC)?void 0:i.getAllPlants())||r.forEach((function(n){o.burnsPlants?n.burn():(n.kill(),n.isAlive()||n.node.destroy())}))),null==(t=this.inLnC)||null==(t=t.tombStone)||t.die(),n.next=6,this.specialMissileOnPop();case 6:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}(),o.dealsSplashToPlants=function(){return!1},o.characterOnEnable=function(){this.initialize(),this.reversed=!1,this.hypnotized=!1},e(r,[{key:"objdataOwn",get:function(){return this._objdata}}]),r}(l))||p);r._RF.pop()}}}));

System.register("chunks:///_virtual/zombossMissileLocator.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ParticleSelfdestroy.ts"],(function(o){var t,s,e,i;return{setters:[function(o){t=o.inheritsLoose},function(o){s=o.cclegacy,e=o._decorator},function(o){i=o.ParticleSelfdestroy}],execute:function(){var n;s._RF.push({},"53c69zH+RZGBJTVpfcWCg4g","zombossMissileLocator",void 0);var r=e.ccclass;e.property,o("zombossMissileLocator",r("zombossMissileLocator")(n=function(o){function s(){for(var t,s=arguments.length,e=new Array(s),i=0;i<s;i++)e[i]=arguments[i];return(t=o.call.apply(o,[this].concat(e))||this).inLnC=void 0,t}t(s,o);var e=s.prototype;return e.specialOnEnable=function(){this.db.playAnimation("Start",1),this.specialMissileLocatorOnEnable()},e.specialMissileLocatorOnEnable=function(){},s}(i))||n);s._RF.pop()}}}));

System.register("chunks:///_virtual/zombossMissileLocatorFree.ts",["./rollupPluginModLoBabelHelpers.js","cc","./zombossMissileLocator.ts","./SoundRescourses.ts","./Projectiles.ts","./Character.ts"],(function(t){var e,o,n,i,r,s,a,c,u,l,p,h,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,n=t.initializerDefineProperty,i=t.assertThisInitialized,r=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){a=t.cclegacy,c=t._decorator,u=t.AudioClip},function(t){l=t.zombossMissileLocator},function(t){p=t.sounds},function(t){h=t.ProjectileShootingFunctions},function(t){d=t.CharacterType}],execute:function(){var f,y,b,w,S,L,m,g,v;a._RF.push({},"f0929weHopN06bwo4XJyn1/","zombossMissileLocatorFree",void 0);var z=c.ccclass,M=c.property;t("zombossMissileLocatorFree",(f=z("zombossMissileLocatorFree"),y=M(u),b=M(u),w=M(u),f((m=e((L=function(t){function e(){for(var e,o=arguments.length,r=new Array(o),s=0;s<o;s++)r[s]=arguments[s];return e=t.call.apply(t,[this].concat(r))||this,n(e,"startSound",m,i(e)),n(e,"loopSound",g,i(e)),n(e,"throwSound",v,i(e)),e.countdown=1/0,e.prjType="pea",e.targetType=d.zombie,e.dead=!1,e.shot=!1,e}o(e,t);var a=e.prototype;return a.die=function(){this.dead=!0,this.db.playAnimation("Die")},a._drop=function(){var t=r(s().mark((function t(){var e=this;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.throwOneBananaOnNode(this.prjType,this.inLnC.plantPoint,800,this.inLnC.inLane.prjLayer,8,this.targetType);case 2:t.sent.gravity=.2222,this.scheduleOnce((function(){e.die()}),.5);case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),a.specialUpdate=function(t){var e;this.dead||(null!=(e=this.inLnC)&&e.isInLawn()?this.countdown>0?(this.countdown-=t,p.playOneShot(this.loopSound,1,this.loopSound.getDuration())):this.shot||(this.shot=!0,p.playOneShot(this.throwSound,1,.1),this._drop()):this.die())},a.specialMissileLocatorOnEnable=function(){this.dead=!1,this.shot=!1,p.playOneShot(this.startSound,1,.1)},e}(l)).prototype,"startSound",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=e(L.prototype,"loopSound",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=e(L.prototype,"throwSound",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=L))||S));a._RF.pop()}}}));

System.register("chunks:///_virtual/ZombossNodeHead.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ParticleSelfdestroy.ts","./PlayerProperties.ts","./ArrayGet.ts"],(function(e){var i,t,n,o,a,r,s,l,d,u,c,h,p,f;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized,a=e.createClass},function(e){r=e.cclegacy,s=e._decorator,l=e.AudioClip,d=e.AudioSource,u=e.view},function(e){c=e.ParticleSelfdestroy},function(e){h=e.AllPlayerProperties,p=e.LevelProgress},function(e){f=e.ArrayGet}],execute:function(){var b,y,g,S,m,I,v,A,k,L,w,P,z,_,D,G,H,M,B;r._RF.push({},"af49fIzCqNK7odR8MHeGXdD","ZombossNodeHead",void 0);var N=s.ccclass,O=s.property;e("ZombossNodeHead",(b=N("ZombossNodeHead"),y=O([l]),g=O([l]),S=O([l]),m=O([l]),I=O([l]),v=O([l]),A=O([l]),k=O([l]),b((P=i((w=function(e){function i(){for(var i,t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return(i=e.call.apply(e,[this].concat(a))||this).audioSource=void 0,i.DefaultIdleList=["Idle00","Idle01","Idle02"],i.Idle0List=["Idle00","Idle01","Idle02","Idle03","Idle04"],i.Idle1List=["Idle10","Idle11"],i.Idle2List=["Idle20"],n(i,"brushSounds",P,o(i)),n(i,"glitchSmallSounds",z,o(i)),n(i,"glitchMediumSounds",_,o(i)),n(i,"glitchBigSounds",D,o(i)),n(i,"laughSounds",G,o(i)),n(i,"laughGlitchSounds",H,o(i)),n(i,"onSounds",M,o(i)),n(i,"offSounds",B,o(i)),i.hidden=!1,i}t(i,e);var r=i.prototype;return r.readLevelProgress=function(e){var i=e.map((function(e){return h.getLevelProgressByID(e).progress}));if(null!=i&&i.length){switch(i.sort((function(e,i){return e-i}))[0]){case p.locked:this.node.active=!1;break;case p.unlocked_neverPlayed:this.node.active=!0,this.IdleAnmList=this.Idle0List;break;case p.unlocked_played:this.node.active=!0,this.IdleAnmList=this.Idle1List;break;case p.unlocked_willbeFinished:case p.finished:this.node.active=!0,this.IdleAnmList=this.Idle2List}this.playIdle()}else this.node.active=!1},r.playOn=function(){this.node.active=!0,this.db.playAnimation("On",1)},r.playOff=function(){this.node.active=!0,this.db.playAnimation("Off",1)},r.specialOnLoad=function(){this.audioSource=this.addComponent(d)},r.playArray=function(e){this.audioSource.clip=f.getRandom(e),this.audioSource.loop=!1,this.audioSource.play()},r.specialUpdate=function(e){this.audioSource.volume=this.Volume},r.animationListener=function(e){switch(e.name){case"brush":this.hidden||this.playArray(this.brushSounds);break;case"glitch_small":this.hidden||this.playArray(this.glitchSmallSounds);break;case"glitch_med":this.hidden||this.playArray(this.glitchMediumSounds);break;case"glitch_big":this.hidden||this.playArray(this.glitchBigSounds);break;case"laugh":this.hidden||this.playArray(this.laughSounds);break;case"laugh_glitch":this.hidden||this.playArray(this.laughGlitchSounds);break;case"on":this.hidden||this.playArray(this.onSounds);break;case"off":this.hidden||this.playArray(this.offSounds);break;case"deactivate":this.node.active=!1;break;case"Idle":this.db.playAnimation(f.getRandom(this.DefaultIdleList),1)}},a(i,[{key:"Volume",get:function(){var e=u.getVisibleSizeInPixel().width,i=e/2,t=i-.75*e;return 1-Math.abs(this.node.worldPosition.x-i)/(i-t)}}]),i}(c)).prototype,"brushSounds",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=i(w.prototype,"glitchSmallSounds",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=i(w.prototype,"glitchMediumSounds",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=i(w.prototype,"glitchBigSounds",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),G=i(w.prototype,"laughSounds",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),H=i(w.prototype,"laughGlitchSounds",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),M=i(w.prototype,"onSounds",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B=i(w.prototype,"offSounds",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=w))||L));r._RF.pop()}}}));

System.register("chunks:///_virtual/ZombossPodium.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SoundRescourses.ts","./ArrayGet.ts","./SoundsController.ts"],(function(o){var i,t,e,u,n,r,a,s,l,d,c,p,h,m;return{setters:[function(o){i=o.applyDecoratedDescriptor,t=o.inheritsLoose,e=o.initializerDefineProperty,u=o.assertThisInitialized},function(o){n=o.cclegacy,r=o._decorator,a=o.AudioClip,s=o.dragonBones,l=o.AudioSource,d=o.view,c=o.Component},function(o){p=o.sounds},function(o){h=o.ArrayGet},function(o){m=o.SoundFXController}],execute:function(){var A,S,g,f,v,y,b;n._RF.push({},"486c8EhW5BOZphOHNQHLZxc","ZombossPodium",void 0);var L=r.ccclass,P=r.property;o("ZombossPodium",(A=L("ZombossPodium"),S=P([a]),g=P([a]),A((y=i((v=function(o){function i(){for(var i,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(i=o.call.apply(o,[this].concat(n))||this).db=void 0,i.anm=void 0,i.audioSource=void 0,i.lastAudioSourceTime=1,e(i,"loopAudio",y,u(i)),e(i,"loopAudioLong",b,u(i)),i}t(i,o);var n=i.prototype;return n.onLoad=function(){var o;this.db=this.getComponent(s.ArmatureDisplay),this.anm=null==(o=this.db)||null==(o=o.armature())?void 0:o.animation,this.audioSource=this.addComponent(l),this.loopAudioLong.forEach((function(o){o.loadMode=a.AudioType.DOM_AUDIO})),this.audioSource.loop=!0},n.onEnable=function(){this.lastAudioSourceTime=1,this.loopAudioLong.length>0&&(this.audioSource.clip=h.getRandom(this.loopAudioLong),this.audioSource.play())},n.setAmbVol=function(){var o=d.getVisibleSizeInPixel().width,i=o/2,t=i-.75*o;this.audioSource.volume=(1-Math.abs(this.node.worldPosition.x-i)/(i-t))*m.SoundFXVolume},n.update=function(o){var i,t,e;(this.setAmbVol(),"Idle_Unlock"==(null==(i=this.anm)||null==(i=i.lastAnimationState)?void 0:i.name))?((null==(t=this.loopAudio)?void 0:t.length)>0&&p.playArray(this.loopAudio,1),(null==(e=this.loopAudioLong)?void 0:e.length)>0?(this.audioSource.currentTime<this.lastAudioSourceTime&&(this.audioSource.stop(),this.audioSource.clip=h.getRandom(this.loopAudioLong),this.audioSource.play()),this.lastAudioSourceTime=this.audioSource.currentTime):p.playEmpSpark(this.audioSource.volume)):this.audioSource.playing&&this.audioSource.stop()},i}(c)).prototype,"loopAudio",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),b=i(v.prototype,"loopAudioLong",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),f=v))||f));n._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});